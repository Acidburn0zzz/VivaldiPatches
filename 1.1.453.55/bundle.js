webpackJsonp([5,4,6],[function(e,t,n){"use strict";var i=n(3),r=n(1),o=n(12),a=n(9),s=n(4),l=n(60),u=n(33),c=n(14),A=n(112),d=n(252),h=n(181),p=n(89),f=n(155),m=r.createFactory(n(310)),g=r.createFactory(n(312)),v=n(415),E=n(416),_=n(419),S=n(16),y=S.EventEmitter,b=(n(62),n(439));n(418);y.EventEmitter.defaultMaxListeners=100,window.React=r,i.contentSettings.notifications.clear({}),E(),"MacIntel"===navigator.platform&&h.init(),p.initFastForward();var C=function(){window.isPopup()||a.importData.getStartupAction(function(e){s.get(["DEFAULT_HOME"],function(t){var n=t.DEFAULT_HOME||"";"homepage"===e&&c.openURL(n)})})},I=function(){},T=function(){return new Promise(function(e,t){var n=window.isPopup()?g():m();try{o.render(n,document.getElementById("app"),e)}catch(i){t(i)}})},O=function(){var e=i.app.window.current();e?e.show():console.warn("Couldn’t show hidden application window because of missing current window.")},w=16;s.loadPromise().then(function(){return T()}).then(b({timeout:w})).then(function(){return I(),Promise.all([c.loadPromise(),u.loadPromise(),f.loadPromise(),v(),l.loadPromise(),A.loadPromise(),d.loadPromise()])}).then(function(){C(),_.start()}).then(O)["catch"](function(e){console.log("Error showing UI:",e),O()})},function(e,t,n){"use strict";e.exports=n(85)},function(e,t,n){"use strict";function i(e,t){return"_"+t.charCodeAt(0)+"_"}var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=n(3),s=n(248),l=new RegExp("([^a-z0-9])","g");r=a.i18n.getUILanguage()in s?s[a.i18n.getUILanguage()]:s.en;var u=function(e,t){return t?e.replace(/\$\d/g,function(e){if(e=parseInt(e.substr(1))-1,t.length>e)return t[e];throw new Error("Faulty string variables. Requested string "+(e+1)+" of "+t.length)}):e},c=function(e,t,n){var o=n[0],s=r(o);s===!1?s=0:s===!0&&(s=1);var c=a.i18n.getMessage(e.replace(l,i)+s,n);return""===c?1===o?u(e,n):u(t,n):c},A="_4_",d=function(e,t){var n=a.i18n.getMessage(e.replace(l,i)+A+t.replace(l,i)+"0");return""===n?t:n},h=function(e,t){var n=a.i18n.getMessage(e.replace(l,i)+"0",t);return""===n?u(e,t):n},p=function(e,t,n){return"object"===("undefined"==typeof n?"undefined":o(n))&&n.length>0&&"number"==typeof n[0]?c(e,t,n):"string"==typeof t?d(e,t):h(e,t)};e.exports=p},function(e,t,n){"use strict";window.chrome&&window.chrome.tabs?e.exports=window.chrome:e.exports=n(258)},function(e,t,n){"use strict";var i=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(3),o=n(9),a=n(437),s=n(202),l=s.includes,u=s.fromPairs,c=s.map,A=n(411),d=n("Win32"===navigator.platform?414:"MacIntel"===navigator.platform?412:413),h=function(e){return[e.preferenceKey,e.preferenceValue[e.preferenceType]]},p={pending:{},pendingCount:0,listeners:{},settingsCache:{},loadPromise:function(e){var t=this;return Promise.all([new Promise(function(e){return t.getAll(function(n){t.settingsCache=Object.assign(t.settingsCache,n),e()})}),new Promise(function(e){return t.getAllPrefs(function(n){t.settingsCache=Object.assign(t.settingsCache,n),e()})})])},cacheValues:function(e,t){this.settingsCache[e]=t},set:function(e,t){for(var n in e)"true"!==e[n]&&"false"!==e[n]||(e[n]=Boolean("true"===e[n]));r.storage.local.set(e,function(){"function"==typeof t&&t(r.runtime.lastError)})},serveFromCache:function(e){for(var t={},n=[],i=0;i<e.length;i++){var r=e[i];this.settingsCache.hasOwnProperty(r)?t[r]=this.settingsCache[r]:n.push(r)}return{found:t,notFound:n}},returnValues:function(e,t,n){var i=arguments.length>=3?arguments[2]:void 0,r=t;"string"==typeof e&&(r=t[e]);for(var o=0;o<n.length;o++){var a=n[o];a.call(i,r)}},addToPending:function(e,t){if(this.pending.hasOwnProperty(e)){var n=this.pending[e];n.indexOf(t)>-1||n.push(t)}else this.pending[e]=[t]},removeFromPending:function(e){this.pending.hasOwnProperty(e)&&delete this.pending[e]},get:function(e,t){var n="string"==typeof e?new Array(e):e,i=this.serveFromCache(n);if(0===i.notFound.length)return void this.returnValues(e,i.found,[t]);n=i.notFound;var o=this.pending.hasOwnProperty(n);if(this.addToPending(n,t),!o){var a=this.pending[n];this.pendingCount+=1;var s=Date.now();r.storage.local.get(n,function(t){var r=Date.now(),o=r-s;this.pendingCount-=1;var l=2;o>1e3*l&&console.warn("VivaldiSettings get for key(s) "+n+" took more than "+l+" seconds ("+o+"ms)!");for(var u={},c=0;c<n.length;c++){var A=n[c];void 0===t[A]?u[A]=this.getDefault(A):u[A]=t[A],this.cacheValues(A,u[A])}Object.keys(i.found).forEach(function(e){u[e]=i.found[e]}),this.returnValues(e,u,a),this.removeFromPending(n)}.bind(this))}},remove:function(e,t){t&&"function"==typeof t||(t=function(){}),r.storage.local.remove(e,function(){t(r.runtime.lastError)})},getDefault:function(e){return LocaleSettings[a()]&&LocaleSettings[a()][e]||d[e]||A[e]},getSync:function(e){return this.settingsCache.hasOwnProperty(e)?this.settingsCache[e]:this.getDefault(e)},getKeysSync:function(e){var t=this,n=this.serveFromCache(e),i=n.notFound.reduce(function(e,n){return e[n]=t.getDefault(n),e},n.found);return i},getAll:function(e){var t=arguments.length>=2?arguments[1]:void 0;r.storage.local.get(null,function(n){e.call(t,n)})},getAllPrefs:function(e){o.settings.getAllPreferences(function(t){return e(u(c(h,t)))})},addListener:function(e,t){return"function"!=typeof t?void console.warn("Can not register anything else than a function as a settings listener"):void(this.listeners[e]?l(this.listeners[e],t)?console.warn("Listener already exists."):this.listeners[e].push(t):this.listeners[e]=[t])},removeListener:function(e,t){this.listeners[e]&&("function"==typeof t?this.listeners[e]=this.listeners[e].filter(function(e){return e!==t}):this.listeners[e]=void 0)},notifyListeners:function(e,t,n){this.cacheValues(e,n);var i=this.listeners[e];if(void 0!==i)for(var r=0;r<i.length;r++){var o=i[r];o(t,n,e)}}};r.storage.onChanged.addListener(function(e,t){Object.keys(e).forEach(function(t){var n=e[t],i=n.oldValue,r=n.newValue;p.notifyListeners(t,i,r)})}),o.settings.onChanged.addListener(function(e){var t=h(e),n=i(t,2),r=n[0],o=n[1],a=p.settingsCache[r];p.notifyListeners(r,a,o)}),e.exports=p},function(e,t,n){"use strict";var i=n(78),r=i({BACKGROUND_TASKS_SET:null,BOOKMARKS_BOOKMARK_BAR_CONFIG_ACTION:null,BOOKMARKS_CREATE_BOOKMARK:null,BOOKMARKS_LOAD:null,BOOKMARK_THUMBNAIL_QUEUE_ADD_ITEM:null,BOOKMARK_THUMBNAIL_QUEUE_REMOVE_ITEM:null,BOOKMARK_THUMBNAIL_QUEUE_UPDATE_ITEM:null,CATEGORY_COMMAND_APPEARANCE:null,CATEGORY_COMMAND_APPLICATION:null,CATEGORY_COMMAND_MAIL:null,CATEGORY_COMMAND_TAB_ACTION:null,CATEGORY_COMMAND_WEBPAGE_NAVIGATION:null,CHANGED:null,CHROME_SET_SESSION:null,CHROME_TABS_ACTIVATED:null,CHROME_TABS_API:null,CHROME_TABS_ATTACHED:null,CHROME_TABS_CREATED:null,CHROME_TABS_DETACHED:null,CHROME_TABS_INIT:null,CHROME_TABS_MOVED:null,CHROME_TABS_REMOVED:null,CHROME_TABS_REPLACED:null,CHROME_TABS_UPDATED:null,CHROME_BOOKMARKS_CHANGED:null,CHROME_BOOKMARKS_CREATED:null,CHROME_BOOKMARKS_REMOVED:null,CHROME_BOOKMARKS_MOVED:null,CHROME_BOOKMARKS_REORDERED:null,CHROME_NOTES_CHANGED:null,CHROME_NOTES_CREATED:null,CHROME_NOTES_REMOVED:null,CHROME_NOTES_MOVED:null,CLOSE_FIND_IN_PAGE_ACTION:null,COMMAND_CONF_CHANGED:null,COMMAND_SAVE_SHORTCUTKEY:null,COMMAND_SESSION_CHANGED:null,COMMAND_SET_CONFIGURATION:null,CONTACT_ADD_CONTACTS:null,CONTACT_DELETE_CONTACT:null,CONTACT_INITIALIZE:null,CONTACT_SAVE_CONTACT:null,CONTACT_SELECT_CONTACT:null,CONTENT_SCRIPT_LOAD:null,CONTENT_SCRIPT_PAGE_ADD:null,CONTENT_SCRIPT_PAGE_REMOVE:null,FAST_FORWARD_SET_FORWARD_INFO:null,FAST_FORWARD_SET_REWIND_INFO:null,FIND_IN_PAGE_ACTION:null,FIND_IN_PAGE_FOCUS:null,FIND_IN_PAGE_RESULT_ACTION:null,MAIL_ADD_FOLDERS:null,MAIL_ADD_MESSAGES:null,MAIL_CLEAR_FOLDERS:null,MAIL_FILTER_SELECTED:null,MAIL_MESSAGES_INIT:null,MAIL_REMOVE_MESSAGES:null,MAIL_SELECT_FOLDER:null,MAIL_UPDATE_MESSAGES:null,MAIL_WINDOW_ID_SET:null,MAIN_FULLSCREEN:null,MAIN_SHOW_IMPORT_DATA:null,MAIN_SHOW_EXPORT_DATA:null,MAIN_SHOW_SAVE_SESSION:null,MAIN_SHOW_OPEN_SESSION:null,MAIN_SHOW_KEYBOARDS_SHORTCUTS:null,MAIN_SHOW_PAGE_INFO:null,MAIN_SHOW_QUICKCOMMANDS:null,MAIN_SHOW_VISUAL_TAB_SWITCHER:null,MAIN_TOGGLE_ADDRESS_BAR:null,MAIN_TOGGLE_TAB_BAR:null,MAIN_TOGGLE_UI:null,MAIN_ZOOM_DOUBLE:null,MAIN_ZOOM_HALF:null,MAIN_ZOOM_IN:null,MAIN_ZOOM_OUT:null,MAIN_ZOOM_RESET:null,NAVGIATION_TYPED_HISTORY_DELETE:null,NAVIGATION_ADD_POPUP:null,NAVIGATION_ADD_TYPED_HISTORY:null,NAVIGATION_HISTORY_ALL_DELETED:null,NAVIGATION_REMOVE_POPUP:null,NAVIGATION_RESET_PERMISSIONS:null,NAVIGATION_SET_PERMISSION:null,NAVIGATION_SET_PROGRESS:null,NAVIGATION_SET_STATE:null,NAVIGATION_SET_THEME_COLOR:null,NAVIGATION_TYPED_HISTORY_DELETE:null,NOTES_INIT_ACTION:null,PAGE_ACTION_FAST_FORWARD_URL_CHANGED:null,PAGE_BACK:null,PAGE_CLEAR_SELECTION:null,PAGE_CLONE:null,PAGE_CLOSE:null,PAGE_CLOSE_OTHER:null,PAGE_CYCLE_BY_HISTORY:null,PAGE_CYCLE_BY_ORDER:null,PAGE_DISCARD:null,PAGE_FORWARD:null,PAGE_GO:null,PAGE_OPEN:null,PAGE_MINIMIZE:null,PAGE_OPEN_LAST:null,PAGE_BURY:null,PAGE_OPEN_URL:null,PAGE_OVERRIDE_PROPS:null,PAGE_RELOAD:null,PAGE_SET_IS_RESTORED:null,PAGE_SET_FAVICON:null,PAGE_SET_LOADING:null,PAGE_SET_MEDIASTATE:null,PAGE_SET_MEDIA_PERMISSION:null,PAGE_SET_PROCESSEXITSTATE:null,PAGE_SET_SSL_STATE:null,PAGE_SET_TARGET_URL:null,PAGE_SET_THUMBNAIL:null,PAGE_STOP:null,PAGE_TABSTACK_CLOSE:null,PAGE_TABSTACK_CREATE:null,PAGE_TABSTACK_EXPAND:null,PAGE_TABSTACK_REMOVE_FROM:null,PAGE_TILE_PAGES:null,PAGE_TOGGLE_PINNED:null,PAGE_SET_SELECTION:null,PAGE_UPDATE:null,PAGE_UPDATED:null,PANEL_CONF_CHANGED:null,PANEL_CONF_SET:null,PANEL_HIDE_CONTENT:null,PANEL_SET_AVAILABLE:null,PANEL_SET_FOCUS:null,PANEL_SET_SELECTED:null,PANEL_SET_WIDTH:null,PANEL_SHOW_NEXT:null,PANEL_TOGGLE:null,SEARCH_FIELD_ADD_TYPED_HISTORY:null,SEARCH_FIELD_DELETE_TYPED_HISTORY:null,SEARCH_FIELD_SET_STATE:null,SHOW_FIND_IN_PAGE_ACTION:null,SPATNAV_NAVIGATE:null,STATUS_SET_STATUS:null,STATUS_CLEAR_STATUS:null,TAB_CLOSEBUTTON_DISABLED:null,TAB_CLOSE_TAB:null,TAB_CLOSE_ALL_BUT_ACTIVE_TAB:null,TAB_NEW_BACKGROUND_TAB:null,TAB_NEW_TAB:null,TAB_STACK_TILE_GRID:null,TAB_STACK_TILE_HORIZONTAL:null,TAB_STACK_TILE_VERTICAL:null,TAB_STACK_UNTILE:null,TAB_SWITCH_BACK_HISTORY:null,TAB_SWITCH_BACK_ORDER:null,TAB_SWITCH_BACK_SETTING:null,TAB_SWITCH_FORWARD_HISTORY:null,TAB_SWITCH_FORWARD_ORDER:null,TAB_SWITCH_FORWARD_SETTING:null,TAB_UNDO_RECENTLY_CLOSED:null,TAB_VIEW_PAGE_SOURCE:null,TOOLTIP_CLEAR:null,TOOLTIP_HIDE:null,TOOLTIP_SHOW:null,URLFIELD_BLUR:null,URLFIELD_CLEAR_STATE:null,URLFIELD_SET_STATE:null,URLFIELD_TYPED_HISTORY_HIDE:null,URLFIELD_TYPED_HISTORY_SHOW:null,URL_SET_SSLSTATE:null,WEBPAGEVIEW_ACTIONS:null,WEBVIEW_SET_ACTIVE:null});e.exports=r},function(e,t,n){var i,r;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var r=typeof i;if("string"===r||"number"===r)e.push(i);else if(Array.isArray(i))e.push(n.apply(null,i));else if("object"===r)for(var a in i)o.call(i,a)&&i[a]&&e.push(a)}}return e.join(" ")}var o={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(i=[],r=function(){return n}.apply(t,i),!(void 0!==r&&(e.exports=r)))}()},function(e,t,n){e.exports=n(578)},function(e,t,n){"use strict";var i=n(451).Dispatcher,r=Object.assign(new i,{handleViewAction:function(e){this.dispatch({source:"VIEW_ACTION",action:e})},handleChromeAction:function(e){this.dispatch({source:"CHROME_ACTION",action:e})}});e.exports=r},function(e,t,n){"use strict";window.vivaldi?e.exports=window.vivaldi:e.exports=n(113)},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(4),o={getInitialState:function(){return{}},componentWillMount:function(){this.setState(r.getKeysSync(this.vivaldiSettingsKeys))},componentDidMount:function(){var e=this;this.vivaldiSettingsKeys.forEach(function(t){return r.addListener(t,e._vivaldiSettingHandler)})},componentWillUnmount:function(){var e=this;this.vivaldiSettingsKeys.forEach(function(t){return r.removeListener(t,e._vivaldiSettingHandler)})},_vivaldiSettingHandler:function(e,t,n){e!==t&&this.state[n]!==t&&("function"==typeof this.vivaldiSettingWillChange&&this.vivaldiSettingWillChange(n,t),this.isMounted()&&this.setState(i({},n,t)))}};e.exports=o},function(e,t,n){"use strict";var i=n(1),r=function o(e,t){if("string"==typeof e)return-1!==e.toLowerCase().indexOf(t);if(e&&"input"===e.type&&"string"==typeof e.props.value)return-1!==e.props.value.toLowerCase().indexOf(t);if(e&&e.props&&e.props.children){var n=!1;return i.Children.forEach(e.props.children,function(e){n||(n=o(e,t))}),n}return!1};e.exports=function(e,t){return t?r(e,t)?e:null:e}},function(e,t,n){"use strict";e.exports=n(136)},function(e,t,n){"use strict";function i(e,t,n,i,r,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,a,s],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}e.exports=i},function(e,t,n){(function(t){"use strict";var i=n(8),r=n(5),o=n(4),a=n(19),s=n(60),l=n(59),u=n(154),c=n(3),A=n(9),d=n(20),h=d.urls,p=n(438),f=n(29),m=n(64),g=n(195),v=window.vivaldiWindowId,E=a.getDefaultStartpage(),_="MacIntel"===navigator.platform,S={onFaviconUpdated:"setFavIcon"},y={openURL:function(e,t){t=Object.assign({singleton:!1,inCurrent:!1,inBackground:!1,isTyped:!1,bookmarkId:0,incognito:!1},t),e=h.getUrl(e),e&&"_blank"!==e||(e=E);var n=a.getActivePage();if(t.inNewWindow)return void y.openWindow(e,{focused:!t.inBackground,incognito:t.incognito});var o=!1;if(t.singleton){if(h.internalKeyFromUrl(e)){var s=a.getPages().find(function(t){return h.equalUrl(e,t.get("url"))});s&&(i.handleViewAction({actionType:r.PAGE_OPEN,page:s}),o=!0)}}else t.inCurrent&&n&&n.get("url")&&n.get("url").indexOf(!0)&&(t.bookmarkId&&u.add(n.get("id"),t.bookmarkId,e),i.handleViewAction({actionType:r.PAGE_OPEN_URL,page:n,url:e,isTyped:t.isTyped}),o=!0);if(!o){var l=this.convertToBlobUrl(e),A={url:l,windowId:v,active:t.inBackground!==!0};t.addOpenerTabId===!0&&(A.openerTabId=n.get("id")),c.tabs.create(A,function(n){c.runtime.lastError?console.warn("ERROR while creating new tab. Original message:\n"+c.runtime.lastError.message):t.bookmarkId&&u.add(n.id,t.bookmarkId,e)})}},convertToBlobUrl:function(e){var n=e.match(/^(data:)(.*?)?(;charset=.*?)?(;base64)?,(.*)$/);if(!n)return e;for(var i=n[2],r=n[5],o=new t(r,"base64").toString("binary"),a=new Array(o.length),s=0;s<o.length;s++)a[s]=o.charCodeAt(s);var l=new Uint8Array(a),u=new Blob([l],{type:i});return window.URL.createObjectURL(u)},openWindow:function(){var e=arguments.length<=0||void 0===arguments[0]?E:arguments[0],t=arguments[1],n=arguments[2],i=arguments[3],r=Object.assign({url:e,incognito:!1,focused:void 0,width:window.innerWidth,height:window.innerHeight},t);void 0===i&&(i="normal"),r.extData=JSON.stringify({ext_id:m(),windowType:i}),c.windows.create(r,"function"==typeof n?n:null)},openIncognitoWindow:function(e){y.openWindow(e,{incognito:!0})},detachPage:function(e){var t=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2];return e.get("incognito")?void console.warn("Not possible to detach incognito tabs"):void y.openWindow(null,{left:t,top:n},function(t){c.tabs.move(e.get("id"),{windowId:t.id,index:-1},function(e){c.windows.update(t.id,{focused:!0},function(){c.tabs.update(e.id,{active:!0})})})})},openPage:function(e){i.handleViewAction({actionType:r.PAGE_OPEN,page:e})},minimizePage:function(e){i.handleViewAction({actionType:r.PAGE_MINIMIZE,page:e})},openLastPage:function(){i.handleViewAction({actionType:r.PAGE_OPEN_LAST})},discardPage:function(e){i.handleViewAction({actionType:r.PAGE_DISCARD,page:e})},clonePage:function(){var e=arguments.length<=0||void 0===arguments[0]?a.getActivePage():arguments[0];i.handleViewAction({actionType:r.PAGE_CLONE,page:e})},showHomepage:function(){o.get("DEFAULT_HOME",function(e){y.openURL(e,{inCurrent:!0})})},buryPage:function(e){i.handleViewAction({actionType:r.PAGE_BURY,page:e})},closePage:function(e){var t=a.isLastPage();!_&&t&&e.get("url")===E||(i.handleViewAction({actionType:r.PAGE_CLOSE,page:e}),!_&&t&&y.openURL())},reloadPage:function(e){c.tabs.reload(e.get("id")),l.resetPermissions(e)},mutePage:function(e){"playing"===e.get("mediastate")?c.tabs.update(e.get("id"),{muted:!0},function(){c.runtime.lastError}):"muting"===e.get("mediastate")&&c.tabs.update(e.get("id"),{muted:!1},function(){c.runtime.lastError})},movePage:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],i=["extData","group"],r=void 0;r=n&&a.isGroup(e.getIn(i))?a.getGroup(e.getIn(i)):f.fromJS([e]);var o=void 0;o=n&&a.isGroup(t.getIn(i))?a.getGroup(t.getIn(i)):f.fromJS([t]);var s=r.first().get("index")>o.first().get("index")?o.first().get("index"):o.last().get("index");y.moveToIndex(r.toArray(),s)},moveToIndex:function(e,t){var n=[].concat(e);c.tabs.move(n.map(function(e){return e.get("id")}),{windowId:v,index:t},function(e){c.runtime.lastError&&console.warn("Error moving tabs: ",e,c.runtime.lastError.message)})},moveToWindow:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];if(e.get("incognito"))return void console.warn("Not possible to detach incognito tabs");var i=e.getIn(["extData","group"]),r=f.List.of(e);a.isGroup(i)&&(n?r=a.getGroup(i):y.removeFromTabStack(e)),c.tabs.move(r.map(function(e){return e.get("id")}).toJS(),{windowId:t,index:-1},function(e){c.runtime.lastError&&console.warn("Error moving tabs: ",e,c.runtime.lastError.message),c.windows.update(t,{focused:!0})})},createTabStack:function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];i.handleViewAction({actionType:r.PAGE_TABSTACK_CREATE,pages:e,includeGroups:t})},expandTabStack:function(e){i.handleViewAction({actionType:r.PAGE_TABSTACK_EXPAND,groupName:e})},closeTabStack:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];if(t&&!_){var n=a.getPages(),o=a.getGroup(e.getIn(["extData","group"]));n.count()===o.count()&&y.openURL()}i.handleViewAction({actionType:r.PAGE_TABSTACK_CLOSE,page:e,closeAll:t})},removeFromTabStack:function(e){i.handleViewAction({actionType:r.PAGE_TABSTACK_REMOVE_FROM,page:e})},closeOther:function(e,t){i.handleViewAction({actionType:r.PAGE_CLOSE_OTHER,page:e,includeGroup:t})},togglePinned:function(e){void 0===e&&(e=a.getActivePage()),i.handleViewAction({actionType:r.PAGE_TOGGLE_PINNED,page:e}),g(c.tabs.update)(e.get("id"),{pinned:!e.get("pinned")})},tilePages:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?"selection":arguments[2];i.handleViewAction({actionType:r.PAGE_TILE_PAGES,pages:e,type:n,id:m(),layout:t})},tileTabStack:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=a.getGroup(e),i=t||(n.count()<4?"vertically":"grid");y.tilePages(n,i,"group")},unTilePages:function(e){var t=a.getTiles(e);t&&i.handleViewAction({actionType:r.PAGE_TILE_PAGES,pages:t,type:"",id:"",layout:""})},overridePageProps:function(e,t){i.handleViewAction({actionType:r.PAGE_OVERRIDE_PROPS,page:e,props:t})},setMediaState:function(e,t){i.handleViewAction({actionType:r.PAGE_SET_MEDIASTATE,pageId:e,mediastate:t})},setFavIcon:function(e){i.handleViewAction({actionType:r.PAGE_SET_FAVICON,pageId:e.tabId,favIcon:e.favIcon})},setProcessExitState:function(e,t){i.handleViewAction({actionType:r.PAGE_SET_PROCESSEXITSTATE,pageId:e,processexitstate:t})},setThumbnail:function(e,t){i.handleViewAction({actionType:r.PAGE_SET_THUMBNAIL,page:e,thumbnail:t})},setTargetURL:function(e){i.handleViewAction({actionType:r.PAGE_SET_TARGET_URL,targetUrl:e})},setSelection:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];i.handleViewAction({actionType:r.PAGE_SET_SELECTION,page:e,multiSelect:t,addGroup:n})},clearSelection:function(e){i.handleViewAction({actionType:r.PAGE_CLEAR_SELECTION})},cycleByHistory:function(e){var t=arguments.length<=1||void 0===arguments[1]?{goBack:!0}:arguments[1];i.handleViewAction({actionType:r.PAGE_CYCLE_BY_HISTORY,maybeEvent:e,goBack:t.goBack})},cycleByOrder:function(e){var t=arguments.length<=1||void 0===arguments[1]?{goBack:!0}:arguments[1];i.handleViewAction({actionType:r.PAGE_CYCLE_BY_ORDER,maybeEvent:e,goBack:t.goBack})},setIsRestored:function(e,t){i.handleViewAction({actionType:r.PAGE_SET_IS_RESTORED,page:e,restored:t})},_attachTabPrivateHandlers:function(){var e=this;Object.keys(S).forEach(function(t){return A.tabsPrivate[t].addListener(e[S[t]])})},_registerChromeTabsEvents:function(){var e={onCreated:r.CHROME_TABS_CREATED,onRemoved:r.CHROME_TABS_REMOVED,onUpdated:r.CHROME_TABS_UPDATED,onMoved:r.CHROME_TABS_MOVED,onActivated:r.CHROME_TABS_ACTIVATED,onDetached:r.CHROME_TABS_DETACHED,onAttached:r.CHROME_TABS_ATTACHED,onReplaced:r.CHROME_TABS_REPLACED},t=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;n>o;o++)r[o-2]=arguments[o];p(e,r)===v&&i.handleChromeAction({actionType:t,args:r})};Object.keys(e).forEach(function(n){return c.tabs[n].addListener(t.bind(null,n,e[n]))})},loadPromise:function(){return new Promise(function(e,t){c.tabs.query({windowId:v},function(t){c.windows.get(v,function(n){var o=n.extData?JSON.parse(n.extData):{};i.handleChromeAction({actionType:r.CHROME_TABS_INIT,tabs:t,historystack:o.historystack}),y._registerChromeTabsEvents(),y._attachTabPrivateHandlers(),s.setConfig(o),e()})})})}};c.runtime.onMessage.addListener(function(e,t,n){if(e.windowId&&e.windowId===window.vivaldiWindowId){var i=e.url||e.bookmark.url;"openBookmark"===e.action?y.openURL(i,{inCurrent:e.incurrent,inBackground:e.inbackground,inNewWindow:e.inNewWindow,bookmarkId:e.bookmark.id,incognito:e.incognito}):"openURL"===e.action&&y.openURL(i,{inBackground:e.inbackground,inCurrent:e.incurrent})}}),e.exports=window.PageActions=y}).call(t,n(96).Buffer)},function(e,t){"use strict";function n(e,t){if(null==e)throw new TypeError("Object.assign target cannot be null or undefined");for(var n=Object(e),i=Object.prototype.hasOwnProperty,r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o){var a=Object(o);for(var s in a)i.call(a,s)&&(n[s]=a[s])}}return n}e.exports=n},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function r(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!r(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,r,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),u=n.slice(),r=u.length,l=0;r>l;l++)u[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(r=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,r,a,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){var i;(function(e,r){(function(){function o(e,t){return e.set(t[0],t[1]),e}function a(e,t){return e.add(t),e}function s(e,t,n){var i=n.length;switch(i){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function l(e,t,n,i){for(var r=-1,o=e.length;++r<o;){var a=e[r];t(i,a,n(a),e)}return i}function u(e,t){for(var n=-1,i=e.length,r=-1,o=t.length,a=Array(i+o);++n<i;)a[n]=e[n];for(;++r<o;)a[n++]=t[r];return a}function c(e,t){for(var n=-1,i=e.length;++n<i&&t(e[n],n,e)!==!1;);return e}function A(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function d(e,t){for(var n=-1,i=e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function h(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}function p(e,t){return!!e.length&&C(e,t,0)>-1}function f(e,t,n){for(var i=-1,r=e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function m(e,t){for(var n=-1,i=e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function g(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function v(e,t,n,i){var r=-1,o=e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function E(e,t,n,i){var r=e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function _(e,t){for(var n=-1,i=e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function S(e,t,n){for(var i=-1,r=e.length;++i<r;){var o=e[i],a=t(o);if(null!=a&&(s===$?a===a:n(a,s)))var s=a,l=o}return l}function y(e,t,n,i){var r;return n(e,function(e,n,o){return t(e,n,o)?(r=i?n:e,!1):void 0}),r}function b(e,t,n){for(var i=e.length,r=n?i:-1;n?r--:++r<i;)if(t(e[r],r,e))return r;return-1}function C(e,t,n){if(t!==t)return H(e,n);for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}function I(e,t,n,i){for(var r=n-1,o=e.length;++r<o;)if(i(e[r],t))return r;return-1}function T(e,t,n,i,r){return r(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}function O(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function w(e,t){for(var n,i=-1,r=e.length;++i<r;){var o=t(e[i]);o!==$&&(n=n===$?o:n+o)}return n}function N(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function k(e,t){return m(t,function(t){return[t,e[t]]})}function D(e){return function(t){return e(t)}}function M(e,t){return m(t,function(t){return e[t]})}function P(e,t){for(var n=-1,i=e.length;++n<i&&C(t,e[n],0)>-1;);return n}function L(e,t){for(var n=e.length;n--&&C(t,e[n],0)>-1;);return n}function x(e){return e&&e.Object===Object?e:null}function R(e,t){if(e!==t){var n=null===e,i=e===$,r=e===e,o=null===t,a=t===$,s=t===t;if(e>t&&!o||!r||n&&!a&&s||i&&s)return 1;if(t>e&&!n||!s||o&&!i&&r||a&&r)return-1}return 0}function B(e,t,n){for(var i=-1,r=e.criteria,o=t.criteria,a=r.length,s=n.length;++i<a;){var l=R(r[i],o[i]);if(l){if(i>=s)return l;var u=n[i];return l*("desc"==u?-1:1)}}return e.index-t.index}function F(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&i++;return i}function U(e){return Cn[e]}function V(e){return In[e]}function W(e){return"\\"+wn[e]}function H(e,t,n){for(var i=e.length,r=t+(n?0:-1);n?r--:++r<i;){var o=e[r];if(o!==o)return r}return-1}function K(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function G(e,t){return e="number"==typeof e||Nt.test(e)?+e:-1,t=null==t?Ie:t,e>-1&&e%1==0&&t>e}function j(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function z(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function J(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n];a!==t&&a!==re||(e[n]=re,o[r++]=n)}return o}function Q(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Y(e){if(!e||!mn.test(e))return e.length;for(var t=fn.lastIndex=0;fn.test(e);)t++;return t}function Z(e){return e.match(fn)}function q(e){return Tn[e]}function X(e){function t(e){if(Wa(e)&&!Tc(e)&&!(e instanceof r)){if(e instanceof i)return e;if(Ql.call(e,"__wrapped__"))return Lr(e)}return new i(e)}function n(){}function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=$}function r(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=we,this.__views__=[]}function x(){var e=new r(this.__wrapped__);return e.__actions__=Ui(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ui(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ui(this.__views__),e}function Nt(){if(this.__filtered__){var e=new r(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Pt(){var e=this.__wrapped__.value(),t=this.__dir__,n=Tc(e),i=0>t,r=n?e.length:0,o=gr(0,r,this.__views__),a=o.start,s=o.end,l=s-a,u=i?s:a-1,c=this.__iteratees__,A=c.length,d=0,h=Eu(l,this.__takeCount__);if(!n||te>r||r==l&&h==l)return Oi(e,this.__actions__);var p=[];e:for(;l--&&h>d;){u+=t;for(var f=-1,m=e[u];++f<A;){var g=c[f],v=g.iteratee,E=g.type,_=v(m);if(E==ye)m=_;else if(!_){if(E==Se)continue e;break e}}p[d++]=m}return p}function Lt(){}function xt(e,t){return Bt(e,t)&&delete e[t]}function Rt(e,t){if(Tu){var n=e[t];return n===ie?$:n}return Ql.call(e,t)?e[t]:$}function Bt(e,t){return Tu?e[t]!==$:Ql.call(e,t)}function Ft(e,t,n){e[t]=Tu&&n===$?ie:n}function Ut(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Vt(){this.__data__={hash:new Lt,map:bu?new bu:[],string:new Lt}}function Wt(e){var t=this.__data__;return Ir(e)?xt("string"==typeof e?t.string:t.hash,e):bu?t.map["delete"](e):en(t.map,e)}function Ht(e){var t=this.__data__;return Ir(e)?Rt("string"==typeof e?t.string:t.hash,e):bu?t.map.get(e):tn(t.map,e)}function Kt(e){var t=this.__data__;return Ir(e)?Bt("string"==typeof e?t.string:t.hash,e):bu?t.map.has(e):nn(t.map,e)}function Gt(e,t){var n=this.__data__;return Ir(e)?Ft("string"==typeof e?n.string:n.hash,e,t):bu?n.map.set(e,t):on(n.map,e,t),this}function jt(e){var t=-1,n=e?e.length:0;for(this.__data__=new Ut;++t<n;)this.push(e[t])}function zt(e,t){var n=e.__data__;if(Ir(t)){var i=n.__data__,r="string"==typeof t?i.string:i.hash;return r[t]===ie}return n.has(t)}function Jt(e){var t=this.__data__;if(Ir(e)){var n=t.__data__,i="string"==typeof e?n.string:n.hash;i[e]=ie}else t.set(e,ie)}function Qt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Yt(){this.__data__={array:[],map:null}}function Zt(e){var t=this.__data__,n=t.array;return n?en(n,e):t.map["delete"](e)}function qt(e){var t=this.__data__,n=t.array;return n?tn(n,e):t.map.get(e)}function Xt(e){var t=this.__data__,n=t.array;return n?nn(n,e):t.map.has(e)}function $t(e,t){var n=this.__data__,i=n.array;i&&(i.length<te-1?on(i,e,t):(n.array=null,n.map=new Ut(i)));var r=n.map;return r&&r.set(e,t),this}function en(e,t){var n=rn(e,t);if(0>n)return!1;var i=e.length-1;return n==i?e.pop():du.call(e,n,1),!0}function tn(e,t){var n=rn(e,t);return 0>n?$:e[n][1]}function nn(e,t){return rn(e,t)>-1}function rn(e,t){for(var n=e.length;n--;)if(ya(e[n][0],t))return n;return-1}function on(e,t,n){var i=rn(e,t);0>i?e.push([t,n]):e[i][1]=n}function an(e,t,n,i){return e===$||ya(e,zl[n])&&!Ql.call(i,n)?t:e}function sn(e,t,n){(n===$||ya(e[t],n))&&("number"!=typeof t||n!==$||t in e)||(e[t]=n)}function ln(e,t,n){var i=e[t];Ql.call(e,t)&&ya(i,n)&&(n!==$||t in e)||(e[t]=n)}function un(e,t,n,i){return Ru(e,function(e,r,o){t(i,e,n(e),o)}),i}function cn(e,t){return e&&Vi(t,Os(t),e)}function An(e,t){for(var n=-1,i=null==e,r=t.length,o=Array(r);++n<r;)o[n]=i?$:Cs(e,t[n]);return o}function dn(e){return wa(e)?e:[]}function hn(e){return"function"==typeof e?e:vl}function fn(e){return Tc(e)?e:Pr(e)}function Cn(e,t,n){return e===e&&(n!==$&&(e=n>=e?e:n),t!==$&&(e=e>=t?e:t)),e}function In(e,t,n,i,r,o,a){var s;if(i&&(s=o?i(e,r,o,a):i(e)),s!==$)return s;if(!Va(e))return e;var l=Tc(e);if(l){if(s=Er(e),!t)return Ui(e,s)}else{var u=mr(e),A=u==Re||u==Be;if(Oc(e))return ki(e,t);if(u==Ve||u==De||A&&!o){if(K(e))return o?e:{};if(s=_r(A?{}:e),!t)return s=cn(s,e),n?Hi(e,s):s}else{if(!bn[u])return o?e:{};s=Sr(e,u,t)}}a||(a=new Qt);var d=a.get(e);return d?d:(a.set(e,s),(l?c:Vn)(e,function(r,o){ln(s,o,In(r,t,n,i,o,e,a))}),n&&!l?Hi(e,s):s)}function Tn(e){var t=Os(e),n=t.length;return function(i){if(null==i)return!n;for(var r=n;r--;){var o=t[r],a=e[o],s=i[o];if(s===$&&!(o in Object(i))||!a(s))return!1}return!0}}function On(e){return Va(e)?uu(e):{}}function wn(e,t,n){if("function"!=typeof e)throw new Gl(ne);return Au(function(){e.apply($,n)},t)}function Dn(e,t,n,i){var r=-1,o=p,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=m(t,D(n))),i?(o=f,a=!1):t.length>=te&&(o=zt,a=!1,t=new jt(t));e:for(;++r<s;){var c=e[r],A=n?n(c):c;if(a&&A===A){for(var d=u;d--;)if(t[d]===A)continue e;l.push(c)}else o(t,A,i)||l.push(c)}return l}function Mn(e,t){var n=!0;return Ru(e,function(e,i,r){return n=!!t(e,i,r)}),n}function Ln(e,t,n,i){var r=e.length;for(n=us(n),0>n&&(n=-n>r?0:r+n),i=i===$||i>r?r:us(i),0>i&&(i+=r),i=n>i?0:cs(i);i>n;)e[n++]=t;return e}function xn(e,t){var n=[];return Ru(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}function Rn(e,t,n,i){i||(i=[]);for(var r=-1,o=e.length;++r<o;){var a=e[r];t>0&&wa(a)&&(n||Tc(a)||Ia(a))?t>1?Rn(a,t-1,n,i):g(i,a):n||(i[i.length]=a)}return i}function Bn(e,t){return null==e?e:Fu(e,t,ws)}function Vn(e,t){return e&&Fu(e,t,Os)}function Wn(e,t){return e&&Uu(e,t,Os)}function Hn(e,t){return h(t,function(t){return Ba(e[t])})}function Kn(e,t){t=Cr(t,e)?[t+""]:fn(t);for(var n=0,i=t.length;null!=e&&i>n;)e=e[t[n++]];return n&&n==i?e:$}function Gn(e,t){return Ql.call(e,t)||"object"==typeof e&&t in e&&null===au(e)}function jn(e,t){return t in Object(e)}function zn(e,t,n){return e>=Eu(t,n)&&e<vu(t,n)}function Jn(e,t,n){for(var i=n?f:p,r=e[0].length,o=e.length,a=o,s=Array(o),l=1/0,u=[];a--;){var c=e[a];a&&t&&(c=m(c,D(t))),l=Eu(c.length,l),s[a]=!n&&(t||r>=120&&c.length>=120)?new jt(a&&c):$}c=e[0];var A=-1,d=s[0];e:for(;++A<r&&u.length<l;){var h=c[A],g=t?t(h):h;if(!(d?zt(d,g):i(u,g,n))){for(a=o;--a;){var v=s[a];if(!(v?zt(v,g):i(e[a],g,n)))continue e}d&&d.push(g),u.push(h)}}return u}function Qn(e,t,n,i){return Vn(e,function(e,r,o){t(i,n(e),r,o)}),i}function Yn(e,t,n){Cr(t,e)||(t=fn(t),e=Dr(e,t),t=Xr(t));var i=null==e?e:e[t];return null==i?$:s(i,e,n)}function Zn(e,t,n,i,r){return e===t?!0:null==e||null==t||!Va(e)&&!Wa(t)?e!==e&&t!==t:qn(e,t,Zn,n,i,r)}function qn(e,t,n,i,r,o){var a=Tc(e),s=Tc(t),l=Me,u=Me;a||(l=mr(e),l=l==De?Ve:l),s||(u=mr(t),u=u==De?Ve:u);var c=l==Ve&&!K(e),A=u==Ve&&!K(t),d=l==u;if(d&&!c)return o||(o=new Qt),a||ns(e)?lr(e,t,n,i,r,o):ur(e,t,l,n,i,r,o);if(!(r&me)){var h=c&&Ql.call(e,"__wrapped__"),p=A&&Ql.call(t,"__wrapped__");if(h||p)return o||(o=new Qt),n(h?e.value():e,p?t.value():t,i,r,o)}return d?(o||(o=new Qt),cr(e,t,n,i,r,o)):!1}function Xn(e,t,n,i){var r=n.length,o=r,a=!i;if(null==e)return!o;for(e=Object(e);r--;){var s=n[r];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<o;){s=n[r];var l=s[0],u=e[l],c=s[1];if(a&&s[2]){if(u===$&&!(l in e))return!1}else{var A=new Qt,d=i?i(u,c,l,e,t,A):$;if(!(d===$?Zn(c,u,i,fe|me,A):d))return!1}}return!0}function $n(e){var t=typeof e;return"function"==t?e:null==e?vl:"object"==t?Tc(e)?ri(e[0],e[1]):ii(e):Tl(e)}function ei(e){return gu(Object(e))}function ti(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}function ni(e,t){var n=-1,i=Oa(e)?Array(e.length):[];return Ru(e,function(e,r,o){i[++n]=t(e,r,o)}),i}function ii(e){var t=hr(e);if(1==t.length&&t[0][2]){var n=t[0][0],i=t[0][1];return function(e){return null==e?!1:e[n]===i&&(i!==$||n in Object(e))}}return function(n){return n===e||Xn(n,e,t)}}function ri(e,t){return function(n){var i=Cs(n,e);return i===$&&i===t?Ts(n,e):Zn(t,i,$,fe|me)}}function oi(e,t,n,i,r){if(e!==t){var o=Tc(t)||ns(t)?$:ws(t);c(o||t,function(a,s){if(o&&(s=a,a=t[s]),Va(a))r||(r=new Qt),ai(e,t,s,n,oi,i,r);else{var l=i?i(e[s],a,s+"",e,t,r):$;l===$&&(l=a),sn(e,s,l)}})}}function ai(e,t,n,i,r,o,a){var s=e[n],l=t[n],u=a.get(l);if(u)return void sn(e,n,u);var c=o?o(s,l,n+"",e,t,a):$,A=c===$;A&&(c=l,Tc(l)||ns(l)?Tc(s)?c=s:wa(s)?c=Ui(s):(A=!1,c=In(l,!o)):Za(l)||Ia(l)?Ia(s)?c=ds(s):!Va(s)||i&&Ba(s)?(A=!1,c=In(l,!o)):c=s:A=!1),a.set(l,c),A&&r(c,l,i,o,a),a["delete"](l),sn(e,n,c)}function si(e,t,n){var i=-1;t=m(t.length?t:Array(1),dr());var r=ni(e,function(e,n,r){var o=m(t,function(t){return t(e)});return{criteria:o,index:++i,value:e}});return O(r,function(e,t){return B(e,t,n)})}function li(e,t){return e=Object(e),v(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}function ui(e,t){var n={};return Bn(e,function(e,i){t(e,i)&&(n[i]=e)}),n}function ci(e){return function(t){return null==t?$:t[e]}}function Ai(e){return function(t){return Kn(t,e)}}function di(e,t,n,i){var r=i?I:C,o=-1,a=t.length,s=e;for(n&&(s=m(e,D(n)));++o<a;)for(var l=0,u=t[o],c=n?n(u):u;(l=r(s,c,l,i))>-1;)s!==e&&du.call(s,l,1),du.call(e,l,1);return e}function hi(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(i==n||r!=o){var o=r;if(G(r))du.call(e,r,1);else if(Cr(r,e))delete e[r];else{var a=fn(r),s=Dr(e,a);null!=s&&delete s[Xr(a)]}}}return e}function pi(e,t){return e+pu(Su()*(t-e+1))}function fi(e,t,n,i){for(var r=-1,o=vu(hu((t-e)/(n||1)),0),a=Array(o);o--;)a[i?o:++r]=e,e+=n;return a}function mi(e,t,n,i){t=Cr(t,e)?[t+""]:fn(t);for(var r=-1,o=t.length,a=o-1,s=e;null!=s&&++r<o;){var l=t[r];if(Va(s)){var u=n;if(r!=a){var c=s[l];u=i?i(c,l,s):$,u===$&&(u=null==c?G(t[r+1])?[]:{}:c)}ln(s,l,u)}s=s[l]}return e}function gi(e,t,n){var i=-1,r=e.length;0>t&&(t=-t>r?0:r+t),n=n>r?r:n,0>n&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}function vi(e,t){var n;return Ru(e,function(e,i,r){return n=t(e,i,r),!n}),!!n}function Ei(e,t,n){var i=0,r=e?e.length:i;if("number"==typeof t&&t===t&&ke>=r){for(;r>i;){var o=i+r>>>1,a=e[o];(n?t>=a:t>a)&&null!==a?i=o+1:r=o}return r}return _i(e,t,vl,n)}function _i(e,t,n,i){t=n(t);for(var r=0,o=e?e.length:0,a=t!==t,s=null===t,l=t===$;o>r;){var u=pu((r+o)/2),c=n(e[u]),A=c!==$,d=c===c;if(a)var h=d||i;else h=s?d&&A&&(i||null!=c):l?d&&(i||A):null==c?!1:i?t>=c:t>c;h?r=u+1:o=u}return Eu(o,Ne)}function Si(e){return yi(e)}function yi(e,t){for(var n=0,i=e.length,r=e[0],o=t?t(r):r,a=o,s=1,l=[r];++n<i;)r=e[n],o=t?t(r):r,ya(o,a)||(a=o,l[s++]=r);return l}function bi(e,t,n){var i=-1,r=p,o=e.length,a=!0,s=[],l=s;if(n)a=!1,r=f;else if(o>=te){var u=t?null:Wu(e);if(u)return Q(u);a=!1,r=zt,l=new jt}else l=t?[]:s;e:for(;++i<o;){var c=e[i],A=t?t(c):c;if(a&&A===A){for(var d=l.length;d--;)if(l[d]===A)continue e;t&&l.push(A),s.push(c)}else r(l,A,n)||(l!==s&&l.push(A),s.push(c))}return s}function Ci(e,t){t=Cr(t,e)?[t+""]:fn(t),e=Dr(e,t);var n=Xr(t);return null!=e&&Is(e,n)?delete e[n]:!0}function Ii(e,t,n,i){return mi(e,t,n(Kn(e,t)),i)}function Ti(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?gi(e,i?0:o,i?o+1:r):gi(e,i?o+1:0,i?r:o)}function Oi(e,t){var n=e;return n instanceof r&&(n=n.value()),v(t,function(e,t){return t.func.apply(t.thisArg,g([e],t.args))},n)}function wi(e,t,n){for(var i=-1,r=e.length;++i<r;)var o=o?g(Dn(o,e[i],t,n),Dn(e[i],o,t,n)):e[i];return o&&o.length?bi(o,t,n):[]}function Ni(e,t,n){for(var i=-1,r=e.length,o=t.length,a={};++i<r;)n(a,e[i],o>i?t[i]:$);return a}function ki(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function Di(e){var t=new e.constructor(e.byteLength);return new iu(t).set(new iu(e)),t}function Mi(e){return v(z(e),o,new e.constructor)}function Pi(e){var t=new e.constructor(e.source,bt.exec(e));return t.lastIndex=e.lastIndex,t}function Li(e){return v(Q(e),a,new e.constructor)}function xi(e){return Lu?Object(Lu.call(e)):{}}function Ri(e,t){var n=t?Di(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Bi(e,t,n,i){for(var r=-1,o=e.length,a=n.length,s=-1,l=t.length,u=vu(o-a,0),c=Array(l+u),A=!i;++s<l;)c[s]=t[s];for(;++r<a;)(A||o>r)&&(c[n[r]]=e[r]);for(;u--;)c[s++]=e[r++];return c}function Fi(e,t,n,i){for(var r=-1,o=e.length,a=-1,s=n.length,l=-1,u=t.length,c=vu(o-s,0),A=Array(c+u),d=!i;++r<c;)A[r]=e[r];for(var h=r;++l<u;)A[h+l]=t[l];for(;++a<s;)(d||o>r)&&(A[h+n[a]]=e[r++]);return A}function Ui(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}function Vi(e,t,n){return Wi(e,t,n)}function Wi(e,t,n,i){n||(n={});for(var r=-1,o=t.length;++r<o;){var a=t[r],s=i?i(n[a],e[a],a,n,e):e[a];ln(n,a,s)}return n}function Hi(e,t){return Vi(e,Gu(e),t)}function Ki(e,t){return function(n,i){var r=Tc(n)?l:un,o=t?t():{};return r(n,e,dr(i),o)}}function Gi(e){return da(function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:$,a=r>2?n[2]:$;for(o="function"==typeof o?(r--,o):$,a&&br(n[0],n[1],a)&&(o=3>r?$:o,r=1),t=Object(t);++i<r;){var s=n[i];s&&e(t,s,i,o)}return t})}function ji(e,t){return function(n,i){if(null==n)return n;if(!Oa(n))return e(n,i);for(var r=n.length,o=t?r:-1,a=Object(n);(t?o--:++o<r)&&i(a[o],o,a)!==!1;);
return n}}function zi(e){return function(t,n,i){for(var r=-1,o=Object(t),a=i(t),s=a.length;s--;){var l=a[e?s:++r];if(n(o[l],l,o)===!1)break}return t}}function Ji(e,t,n){function i(){var t=this&&this!==Fn&&this instanceof i?o:e;return t.apply(r?n:this,arguments)}var r=t&oe,o=Zi(e);return i}function Qi(e){return function(t){t=ps(t);var n=mn.test(t)?Z(t):$,i=n?n[0]:t.charAt(0),r=n?n.slice(1).join(""):t.slice(1);return i[e]()+r}}function Yi(e){return function(t){return v(pl(Qs(t)),e,"")}}function Zi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=On(e.prototype),i=e.apply(n,t);return Va(i)?i:n}}function qi(e,t,n){function i(){for(var o=arguments.length,a=Array(o),l=o,u=fr(i);l--;)a[l]=arguments[l];var c=3>o&&a[0]!==u&&a[o-1]!==u?[]:J(a,u);if(o-=c.length,n>o)return or(e,t,$i,i.placeholder,$,a,c,$,$,n-o);var A=this&&this!==Fn&&this instanceof i?r:e;return s(A,this,a)}var r=Zi(e);return i}function Xi(e){return da(function(t){t=Rn(t,1);var n=t.length,r=n,o=i.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new Gl(ne);if(o&&!s&&"wrapper"==Ar(a))var s=new i([],!0)}for(r=s?r:n;++r<n;){a=t[r];var l=Ar(a),u="wrapper"==l?Hu(a):$;s=u&&Tr(u[0])&&u[1]==(de|le|ce|he)&&!u[4].length&&1==u[9]?s[Ar(u[0])].apply(s,u[3]):1==a.length&&Tr(a)?s[l]():s.thru(a)}return function(){var e=arguments,i=e[0];if(s&&1==e.length&&Tc(i)&&i.length>=te)return s.plant(i).value();for(var r=0,o=n?t[r].apply(this,e):i;++r<n;)o=t[r].call(this,o);return o}})}function $i(e,t,n,i,r,o,a,s,l,u){function c(){for(var g=arguments.length,v=g,E=Array(g);v--;)E[v]=arguments[v];if(p)var _=fr(c),S=F(E,_);if(i&&(E=Bi(E,i,r,p)),o&&(E=Fi(E,o,a,p)),g-=S,p&&u>g){var y=J(E,_);return or(e,t,$i,c.placeholder,n,E,y,s,l,u-g)}var b=d?n:this,C=h?b[e]:e;return g=E.length,s?E=Mr(E,s):f&&g>1&&E.reverse(),A&&g>l&&(E.length=l),this&&this!==Fn&&this instanceof c&&(C=m||Zi(C)),C.apply(b,E)}var A=t&de,d=t&oe,h=t&ae,p=t&(le|ue),f=t&pe,m=h?$:Zi(e);return c}function er(e,t){return function(n,i){return Qn(n,e,t(i),{})}}function tr(e){return da(function(t){return t=m(Rn(t,1),dr()),da(function(n){var i=this;return e(t,function(e){return s(e,i,n)})})})}function nr(e,t,n){t=us(t);var i=Y(e);if(!t||i>=t)return"";var r=t-i;n=n===$?" ":n+"";var o=nl(n,hu(r/Y(n)));return mn.test(n)?Z(o).slice(0,r).join(""):o.slice(0,r)}function ir(e,t,n,i){function r(){for(var t=-1,l=arguments.length,u=-1,c=i.length,A=Array(c+l),d=this&&this!==Fn&&this instanceof r?a:e;++u<c;)A[u]=i[u];for(;l--;)A[u++]=arguments[++t];return s(d,o?n:this,A)}var o=t&oe,a=Zi(e);return r}function rr(e){return function(t,n,i){return i&&"number"!=typeof i&&br(t,n,i)&&(n=i=$),t=As(t),t=t===t?t:0,n===$?(n=t,t=0):n=As(n)||0,i=i===$?n>t?1:-1:As(i)||0,fi(t,n,i,e)}}function or(e,t,n,i,r,o,a,s,l,u){var c=t&le,A=s?Ui(s):$,d=c?a:$,h=c?$:a,p=c?o:$,f=c?$:o;t|=c?ce:Ae,t&=~(c?Ae:ce),t&se||(t&=~(oe|ae));var m=[e,t,r,p,d,f,h,A,l,u],g=n.apply($,m);return Tr(e)&&ju(g,m),g.placeholder=i,g}function ar(e){var t=Hl[e];return function(e,n){if(e=As(e),n=us(n)){var i=(ps(e)+"e").split("e"),r=t(i[0]+"e"+(+i[1]+n));return i=(ps(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return t(e)}}function sr(e,t,n,i,r,o,a,s){var l=t&ae;if(!l&&"function"!=typeof e)throw new Gl(ne);var u=i?i.length:0;if(u||(t&=~(ce|Ae),i=r=$),a=a===$?a:vu(us(a),0),s=s===$?s:us(s),u-=r?r.length:0,t&Ae){var c=i,A=r;i=r=$}var d=l?$:Hu(e),h=[e,t,n,i,r,c,A,o,a,s];if(d&&Nr(h,d),e=h[0],t=h[1],n=h[2],i=h[3],r=h[4],s=h[9]=null==h[9]?l?0:e.length:vu(h[9]-u,0),!s&&t&(le|ue)&&(t&=~(le|ue)),t&&t!=oe)p=t==le||t==ue?qi(e,t,s):t!=ce&&t!=(oe|ce)||r.length?$i.apply($,h):ir(e,t,n,i);else var p=Ji(e,t,n);var f=d?Vu:ju;return f(p,h)}function lr(e,t,n,i,r,o){var a=-1,s=r&me,l=r&fe,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var A=o.get(e);if(A)return A==t;var d=!0;for(o.set(e,t);++a<u;){var h=e[a],p=t[a];if(i)var f=s?i(p,h,a,t,e,o):i(h,p,a,e,t,o);if(f!==$){if(f)continue;d=!1;break}if(l){if(!_(t,function(e){return h===e||n(h,e,i,r,o)})){d=!1;break}}else if(h!==p&&!n(h,p,i,r,o)){d=!1;break}}return o["delete"](e),d}function ur(e,t,n,i,r,o,a){switch(n){case Je:return!(e.byteLength!=t.byteLength||!i(new iu(e),new iu(t)));case Pe:case Le:return+e==+t;case xe:return e.name==t.name&&e.message==t.message;case Ue:return e!=+e?t!=+t:e==+t;case We:case Ke:return e==t+"";case Fe:var s=z;case He:var l=o&me;if(s||(s=Q),e.size!=t.size&&!l)return!1;var u=a.get(e);return u?u==t:lr(s(e),s(t),i,r,o|fe,a.set(e,t));case Ge:if(Lu)return Lu.call(e)==Lu.call(t)}return!1}function cr(e,t,n,i,r,o){var a=r&me,s=Os(e),l=s.length,u=Os(t),c=u.length;if(l!=c&&!a)return!1;for(var A=l;A--;){var d=s[A];if(!(a?d in t:Gn(t,d)))return!1}var h=o.get(e);if(h)return h==t;var p=!0;o.set(e,t);for(var f=a;++A<l;){d=s[A];var m=e[d],g=t[d];if(i)var v=a?i(g,m,d,t,e,o):i(m,g,d,e,t,o);if(!(v===$?m===g||n(m,g,i,r,o):v)){p=!1;break}f||(f="constructor"==d)}if(p&&!f){var E=e.constructor,_=t.constructor;E!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof E&&E instanceof E&&"function"==typeof _&&_ instanceof _)&&(p=!1)}return o["delete"](e),p}function Ar(e){for(var t=e.name+"",n=Nu[t],i=Ql.call(Nu,t)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function dr(){var e=t.iteratee||El;return e=e===El?$n:e,arguments.length?e(arguments[0],arguments[1]):e}function hr(e){for(var t=Rs(e),n=t.length;n--;)t[n][2]=wr(t[n][1]);return t}function pr(e,t){var n=e[t];return za(n)?n:$}function fr(e){var n=Ql.call(t,"placeholder")?t:e;return n.placeholder}function mr(e){return ql.call(e)}function gr(e,t,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Eu(t,e+a);break;case"takeRight":e=vu(e,t-a)}}return{start:e,end:t}}function vr(e,t,n){if(null==e)return!1;var i=n(e,t);i||Cr(t)||(t=fn(t),e=Dr(e,t),null!=e&&(t=Xr(t),i=n(e,t)));var r=e?e.length:$;return i||!!r&&Ua(r)&&G(t,r)&&(Tc(e)||es(e)||Ia(e))}function Er(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&Ql.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function _r(e){return"function"!=typeof e.constructor||Or(e)?{}:On(au(e))}function Sr(e,t,n){var i=e.constructor;switch(t){case Je:return Di(e);case Pe:case Le:return new i(+e);case Qe:case Ye:case Ze:case qe:case Xe:case $e:case et:case tt:case nt:return Ri(e,n);case Fe:return Mi(e);case Ue:case Ke:return new i(e);case We:return Pi(e);case He:return Li(e);case Ge:return xi(e)}}function yr(e){var t=e?e.length:$;return Ua(t)&&(Tc(e)||es(e)||Ia(e))?N(t,String):null}function br(e,t,n){if(!Va(n))return!1;var i=typeof t;return("number"==i?Oa(n)&&G(t,n.length):"string"==i&&t in n)?ya(n[t],e):!1}function Cr(e,t){return"number"==typeof e?!0:!Tc(e)&&(pt.test(e)||!ht.test(e)||null!=t&&e in Object(t))}function Ir(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}function Tr(e){var n=Ar(e),i=t[n];if("function"!=typeof i||!(n in r.prototype))return!1;if(e===i)return!0;var o=Hu(i);return!!o&&e===o[0]}function Or(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||zl;return e===n}function wr(e){return e===e&&!Va(e)}function Nr(e,t){var n=e[1],i=t[1],r=n|i,o=(oe|ae|de)>r,a=i==de&&n==le||i==de&&n==he&&e[7].length<=t[8]||i==(de|he)&&t[7].length<=t[8]&&n==le;if(!o&&!a)return e;i&oe&&(e[2]=t[2],r|=n&oe?0:se);var s=t[3];if(s){var l=e[3];e[3]=l?Bi(l,s,t[4]):Ui(s),e[4]=l?J(e[3],re):Ui(t[4])}return s=t[5],s&&(l=e[5],e[5]=l?Fi(l,s,t[6]):Ui(s),e[6]=l?J(e[5],re):Ui(t[6])),s=t[7],s&&(e[7]=Ui(s)),i&de&&(e[8]=null==e[8]?t[8]:Eu(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r,e}function kr(e,t,n,i,r,o){return Va(e)&&Va(t)&&oi(e,t,$,kr,o.set(t,e)),e}function Dr(e,t){return 1==t.length?e:Cs(e,gi(t,0,-1))}function Mr(e,t){for(var n=e.length,i=Eu(t.length,n),r=Ui(e);i--;){var o=t[i];e[i]=G(o,n)?r[o]:$}return e}function Pr(e){var t=[];return ps(e).replace(ft,function(e,n,i,r){t.push(i?r.replace(St,"$1"):n||e)}),t}function Lr(e){if(e instanceof r)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=Ui(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function xr(e,t){t=vu(us(t),0);var n=e?e.length:0;if(!n||1>t)return[];for(var i=0,r=0,o=Array(hu(n/t));n>i;)o[r++]=gi(e,i,i+=t);return o}function Rr(e){for(var t=-1,n=e?e.length:0,i=0,r=[];++t<n;){var o=e[t];o&&(r[i++]=o)}return r}function Br(e,t,n){var i=e?e.length:0;return i?(t=n||t===$?1:us(t),gi(e,0>t?0:t,i)):[]}function Fr(e,t,n){var i=e?e.length:0;return i?(t=n||t===$?1:us(t),t=i-t,gi(e,0,0>t?0:t)):[]}function Ur(e,t){return e&&e.length?Ti(e,dr(t,3),!0,!0):[]}function Vr(e,t){return e&&e.length?Ti(e,dr(t,3),!0):[]}function Wr(e,t,n,i){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&br(e,t,n)&&(n=0,i=r),Ln(e,t,n,i)):[]}function Hr(e,t){return e&&e.length?b(e,dr(t,3)):-1}function Kr(e,t){return e&&e.length?b(e,dr(t,3),!0):-1}function Gr(e){var t=e?e.length:0;return t?Rn(e,1):[]}function jr(e){var t=e?e.length:0;return t?Rn(e,Ce):[]}function zr(e,t){var n=e?e.length:0;return n?(t=t===$?1:us(t),Rn(e,t)):[]}function Jr(e){for(var t=-1,n=e?e.length:0,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i}function Qr(e){return e?e[0]:$}function Yr(e,t,n){var i=e?e.length:0;return i?(n=us(n),0>n&&(n=vu(i+n,0)),C(e,t,n)):-1}function Zr(e){return Fr(e,1)}function qr(e,t){return e?mu.call(e,t):""}function Xr(e){var t=e?e.length:0;return t?e[t-1]:$}function $r(e,t,n){var i=e?e.length:0;if(!i)return-1;var r=i;if(n!==$&&(r=us(n),r=(0>r?vu(i+r,0):Eu(r,i-1))+1),t!==t)return H(e,r,!0);for(;r--;)if(e[r]===t)return r;return-1}function eo(e,t){return e&&e.length&&t&&t.length?di(e,t):e}function to(e,t,n){return e&&e.length&&t&&t.length?di(e,t,dr(n)):e}function no(e,t,n){return e&&e.length&&t&&t.length?di(e,t,$,n):e}function io(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=dr(t,3);++i<o;){var a=e[i];t(a,i,e)&&(n.push(a),r.push(i))}return hi(e,r),n}function ro(e){return e?yu.call(e):e}function oo(e,t,n){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&br(e,t,n)?(t=0,n=i):(t=null==t?0:us(t),n=n===$?i:us(n)),gi(e,t,n)):[]}function ao(e,t){return Ei(e,t)}function so(e,t,n){return _i(e,t,dr(n))}function lo(e,t){var n=e?e.length:0;if(n){var i=Ei(e,t);if(n>i&&ya(e[i],t))return i}return-1}function uo(e,t){return Ei(e,t,!0)}function co(e,t,n){return _i(e,t,dr(n),!0)}function Ao(e,t){var n=e?e.length:0;if(n){var i=Ei(e,t,!0)-1;if(ya(e[i],t))return i}return-1}function ho(e){return e&&e.length?Si(e):[]}function po(e,t){return e&&e.length?yi(e,dr(t)):[]}function fo(e){return Br(e,1)}function mo(e,t,n){return e&&e.length?(t=n||t===$?1:us(t),gi(e,0,0>t?0:t)):[]}function go(e,t,n){var i=e?e.length:0;return i?(t=n||t===$?1:us(t),t=i-t,gi(e,0>t?0:t,i)):[]}function vo(e,t){return e&&e.length?Ti(e,dr(t,3),!1,!0):[]}function Eo(e,t){return e&&e.length?Ti(e,dr(t,3)):[]}function _o(e){return e&&e.length?bi(e):[]}function So(e,t){return e&&e.length?bi(e,dr(t)):[]}function yo(e,t){return e&&e.length?bi(e,$,t):[]}function bo(e){if(!e||!e.length)return[];var t=0;return e=h(e,function(e){return wa(e)?(t=vu(e.length,t),!0):void 0}),N(t,function(t){return m(e,ci(t))})}function Co(e,t){if(!e||!e.length)return[];var n=bo(e);return null==t?n:m(n,function(e){return s(t,$,e)})}function Io(e,t){return Ni(e||[],t||[],ln)}function To(e,t){return Ni(e||[],t||[],mi)}function Oo(e){var n=t(e);return n.__chain__=!0,n}function wo(e,t){return t(e),e}function No(e,t){return t(e)}function ko(){return Oo(this)}function Do(){return new i(this.value(),this.__chain__)}function Mo(e){return this.map(e).flatten()}function Po(){this.__values__===$&&(this.__values__=ls(this.value()));var e=this.__index__>=this.__values__.length,t=e?$:this.__values__[this.__index__++];return{done:e,value:t}}function Lo(){return this}function xo(e){for(var t,i=this;i instanceof n;){var r=Lr(i);r.__index__=0,r.__values__=$,t?o.__wrapped__=r:t=r;var o=r;i=i.__wrapped__}return o.__wrapped__=e,t}function Ro(){var e=this.__wrapped__;if(e instanceof r){var t=e;return this.__actions__.length&&(t=new r(this)),t=t.reverse(),t.__actions__.push({func:No,args:[ro],thisArg:$}),new i(t,this.__chain__)}return this.thru(ro)}function Bo(){return Oi(this.__wrapped__,this.__actions__)}function Fo(e,t,n){var i=Tc(e)?d:Mn;return n&&br(e,t,n)&&(t=$),i(e,dr(t,3))}function Uo(e,t){var n=Tc(e)?h:xn;return n(e,dr(t,3))}function Vo(e,t){if(t=dr(t,3),Tc(e)){var n=b(e,t);return n>-1?e[n]:$}return y(e,t,Ru)}function Wo(e,t){if(t=dr(t,3),Tc(e)){var n=b(e,t,!0);return n>-1?e[n]:$}return y(e,t,Bu)}function Ho(e,t){return Rn(zo(e,t),1)}function Ko(e,t){return"function"==typeof t&&Tc(e)?c(e,t):Ru(e,hn(t))}function Go(e,t){return"function"==typeof t&&Tc(e)?A(e,t):Bu(e,hn(t))}function jo(e,t,n,i){e=Oa(e)?e:Hs(e),n=n&&!i?us(n):0;var r=e.length;return 0>n&&(n=vu(r+n,0)),es(e)?r>=n&&e.indexOf(t,n)>-1:!!r&&C(e,t,n)>-1}function zo(e,t){var n=Tc(e)?m:ni;return n(e,dr(t,3))}function Jo(e,t,n,i){return null==e?[]:(Tc(t)||(t=null==t?[]:[t]),n=i?$:n,Tc(n)||(n=null==n?[]:[n]),si(e,t,n))}function Qo(e,t,n){var i=Tc(e)?v:T,r=arguments.length<3;return i(e,dr(t,4),n,r,Ru)}function Yo(e,t,n){var i=Tc(e)?E:T,r=arguments.length<3;return i(e,dr(t,4),n,r,Bu)}function Zo(e,t){var n=Tc(e)?h:xn;return t=dr(t,3),n(e,function(e,n,i){return!t(e,n,i)})}function qo(e){var t=Oa(e)?e:Hs(e),n=t.length;return n>0?t[pi(0,n-1)]:$}function Xo(e,t){var n=-1,i=ls(e),r=i.length,o=r-1;for(t=Cn(us(t),0,r);++n<t;){var a=pi(n,o),s=i[a];i[a]=i[n],i[n]=s}return i.length=t,i}function $o(e){return Xo(e,we)}function ea(e){if(null==e)return 0;if(Oa(e)){var t=e.length;return t&&es(e)?Y(e):t}return Os(e).length}function ta(e,t,n){var i=Tc(e)?_:vi;return n&&br(e,t,n)&&(t=$),i(e,dr(t,3))}function na(e,t){if("function"!=typeof t)throw new Gl(ne);return e=us(e),function(){return--e<1?t.apply(this,arguments):void 0}}function ia(e,t,n){return t=n?$:t,t=e&&null==t?e.length:t,sr(e,de,$,$,$,$,t)}function ra(e,t){var n;if("function"!=typeof t)throw new Gl(ne);return e=us(e),function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=$),n}}function oa(e,t,n){t=n?$:t;var i=sr(e,le,$,$,$,$,$,t);return i.placeholder=oa.placeholder,i}function aa(e,t,n){t=n?$:t;var i=sr(e,ue,$,$,$,$,$,t);return i.placeholder=aa.placeholder,i}function sa(e,t,n){function i(){p&&ru(p),c&&ru(c),m=0,u=c=h=p=f=$}function r(t,n){n&&ru(n),c=p=f=$,t&&(m=gc(),A=e.apply(h,u),p||c||(u=h=$))}function o(){var e=t-(gc()-d);0>=e||e>t?r(f,c):p=Au(o,e)}function a(){return(p&&f||c&&E)&&(A=e.apply(h,u)),i(),A}function s(){r(E,p)}function l(){if(u=arguments,d=gc(),h=this,f=E&&(p||!g),v===!1)var n=g&&!p;else{m||c||g||(m=d);var i=v-(d-m),r=(0>=i||i>v)&&(g||c);r?(c&&(c=ru(c)),m=d,A=e.apply(h,u)):c||(c=Au(s,i))}return r&&p?p=ru(p):p||t===v||(p=Au(o,t)),n&&(r=!0,A=e.apply(h,u)),!r||p||c||(u=h=$),A}var u,c,A,d,h,p,f,m=0,g=!1,v=!1,E=!0;if("function"!=typeof e)throw new Gl(ne);return t=As(t)||0,Va(n)&&(g=!!n.leading,v="maxWait"in n&&vu(As(n.maxWait)||0,t),E="trailing"in n?!!n.trailing:E),l.cancel=i,l.flush=a,l}function la(e){return sr(e,pe)}function ua(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Gl(ne);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new ua.Cache,n}function ca(e){if("function"!=typeof e)throw new Gl(ne);return function(){return!e.apply(this,arguments)}}function Aa(e){return ra(2,e)}function da(e,t){if("function"!=typeof e)throw new Gl(ne);return t=vu(t===$?e.length-1:us(t),0),function(){for(var n=arguments,i=-1,r=vu(n.length-t,0),o=Array(r);++i<r;)o[i]=n[t+i];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var a=Array(t+1);for(i=-1;++i<t;)a[i]=n[i];return a[t]=o,s(e,this,a)}}function ha(e,t){if("function"!=typeof e)throw new Gl(ne);return t=t===$?0:vu(us(t),0),da(function(n){var i=n[t],r=n.slice(0,t);return i&&g(r,i),s(e,this,r)})}function pa(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new Gl(ne);return Va(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),sa(e,t,{leading:i,maxWait:t,trailing:r})}function fa(e){return ia(e,1)}function ma(e,t){return t=null==t?vl:t,bc(t,e)}function ga(){if(!arguments.length)return[];var e=arguments[0];return Tc(e)?e:[e]}function va(e){return In(e,!1,!0)}function Ea(e,t){return In(e,!1,!0,t)}function _a(e){return In(e,!0,!0)}function Sa(e,t){return In(e,!0,!0,t)}function ya(e,t){return e===t||e!==e&&t!==t}function ba(e,t){return e>t}function Ca(e,t){return e>=t}function Ia(e){return wa(e)&&Ql.call(e,"callee")&&(!cu.call(e,"callee")||ql.call(e)==De)}function Ta(e){return Wa(e)&&ql.call(e)==Je}function Oa(e){return null!=e&&Ua(Ku(e))&&!Ba(e)}function wa(e){return Wa(e)&&Oa(e)}function Na(e){return e===!0||e===!1||Wa(e)&&ql.call(e)==Pe}function ka(e){return Wa(e)&&ql.call(e)==Le}function Da(e){return!!e&&1===e.nodeType&&Wa(e)&&!Za(e)}function Ma(e){if(Oa(e)&&(Tc(e)||es(e)||Ba(e.splice)||Ia(e)))return!e.length;for(var t in e)if(Ql.call(e,t))return!1;return!0}function Pa(e,t){return Zn(e,t)}function La(e,t,n){n="function"==typeof n?n:$;var i=n?n(e,t):$;return i===$?Zn(e,t,n):!!i}function xa(e){return Wa(e)?ql.call(e)==xe||"string"==typeof e.message&&"string"==typeof e.name:!1}function Ra(e){return"number"==typeof e&&fu(e)}function Ba(e){var t=Va(e)?ql.call(e):"";return t==Re||t==Be}function Fa(e){return"number"==typeof e&&e==us(e)}function Ua(e){return"number"==typeof e&&e>-1&&e%1==0&&Ie>=e}function Va(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Wa(e){return!!e&&"object"==typeof e}function Ha(e){return Wa(e)&&mr(e)==Fe}function Ka(e,t){return e===t||Xn(e,t,hr(t))}function Ga(e,t,n){return n="function"==typeof n?n:$,Xn(e,t,hr(t),n)}function ja(e){return Ya(e)&&e!=+e}function za(e){return null==e?!1:Ba(e)?$l.test(Jl.call(e)):Wa(e)&&(K(e)?$l:Ot).test(e)}function Ja(e){return null===e}function Qa(e){return null==e}function Ya(e){return"number"==typeof e||Wa(e)&&ql.call(e)==Ue}function Za(e){if(!Wa(e)||ql.call(e)!=Ve||K(e))return!1;var t=au(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&Jl.call(n)==Zl}function qa(e){return Va(e)&&ql.call(e)==We}function Xa(e){return Fa(e)&&e>=-Ie&&Ie>=e}function $a(e){return Wa(e)&&mr(e)==He}function es(e){return"string"==typeof e||!Tc(e)&&Wa(e)&&ql.call(e)==Ke}function ts(e){return"symbol"==typeof e||Wa(e)&&ql.call(e)==Ge}function ns(e){return Wa(e)&&Ua(e.length)&&!!yn[ql.call(e)]}function is(e){return e===$}function rs(e){return Wa(e)&&mr(e)==je}function os(e){return Wa(e)&&ql.call(e)==ze}function as(e,t){return t>e}function ss(e,t){return t>=e}function ls(e){if(!e)return[];if(Oa(e))return es(e)?Z(e):Ui(e);if(lu&&e[lu])return j(e[lu]());var t=mr(e),n=t==Fe?z:t==He?Q:Hs;return n(e)}function us(e){if(!e)return 0===e?e:0;if(e=As(e),e===Ce||e===-Ce){var t=0>e?-1:1;return t*Te}var n=e%1;return e===e?n?e-n:e:0}function cs(e){return e?Cn(us(e),0,we):0}function As(e){if(Va(e)){var t=Ba(e.valueOf)?e.valueOf():e;e=Va(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(vt,"");var n=Tt.test(e);return n||wt.test(e)?kn(e.slice(2),n?2:8):It.test(e)?Oe:+e}function ds(e){return Vi(e,ws(e))}function hs(e){return Cn(us(e),-Ie,Ie)}function ps(e){if("string"==typeof e)return e;if(null==e)return"";if(ts(e))return xu?xu.call(e):"";var t=e+"";return"0"==t&&1/e==-Ce?"-0":t}function fs(e,t){var n=On(e);return t?cn(n,t):n}function ms(e,t){return y(e,dr(t,3),Vn,!0)}function gs(e,t){return y(e,dr(t,3),Wn,!0)}function vs(e,t){return null==e?e:Fu(e,hn(t),ws)}function Es(e,t){return null==e?e:Uu(e,hn(t),ws)}function _s(e,t){return e&&Vn(e,hn(t))}function Ss(e,t){return e&&Wn(e,hn(t))}function ys(e){return null==e?[]:Hn(e,Os(e))}function bs(e){return null==e?[]:Hn(e,ws(e))}function Cs(e,t,n){var i=null==e?$:Kn(e,t);return i===$?n:i}function Is(e,t){return vr(e,t,Gn)}function Ts(e,t){return vr(e,t,jn)}function Os(e){var t=Or(e);if(!t&&!Oa(e))return ei(e);var n=yr(e),i=!!n,r=n||[],o=r.length;for(var a in e)!Gn(e,a)||i&&("length"==a||G(a,o))||t&&"constructor"==a||r.push(a);return r}function ws(e){for(var t=-1,n=Or(e),i=ti(e),r=i.length,o=yr(e),a=!!o,s=o||[],l=s.length;++t<r;){var u=i[t];a&&("length"==u||G(u,l))||"constructor"==u&&(n||!Ql.call(e,u))||s.push(u)}return s}function Ns(e,t){var n={};return t=dr(t,3),Vn(e,function(e,i,r){n[t(e,i,r)]=e}),n}function ks(e,t){var n={};return t=dr(t,3),Vn(e,function(e,i,r){n[i]=t(e,i,r)}),n}function Ds(e,t){return t=dr(t),ui(e,function(e,n){return!t(e,n)})}function Ms(e,t){return null==e?{}:ui(e,dr(t))}function Ps(e,t,n){if(Cr(t,e))i=null==e?$:e[t];else{t=fn(t);var i=Cs(e,t);e=Dr(e,t)}return i===$&&(i=n),Ba(i)?i.call(e):i}function Ls(e,t,n){return null==e?e:mi(e,t,n)}function xs(e,t,n,i){return i="function"==typeof i?i:$,null==e?e:mi(e,t,n,i)}function Rs(e){return k(e,Os(e))}function Bs(e){return k(e,ws(e))}function Fs(e,t,n){var i=Tc(e)||ns(e);if(t=dr(t,4),null==n)if(i||Va(e)){var r=e.constructor;n=i?Tc(e)?new r:[]:Ba(r)?On(au(e)):{}}else n={};return(i?c:Vn)(e,function(e,i,r){return t(n,e,i,r)}),n}function Us(e,t){return null==e?!0:Ci(e,t)}function Vs(e,t,n){return null==e?e:Ii(e,t,hn(n))}function Ws(e,t,n,i){return i="function"==typeof i?i:$,null==e?e:Ii(e,t,hn(n),i)}function Hs(e){return e?M(e,Os(e)):[]}function Ks(e){return null==e?[]:M(e,ws(e))}function Gs(e,t,n){return n===$&&(n=t,t=$),n!==$&&(n=As(n),n=n===n?n:0),t!==$&&(t=As(t),t=t===t?t:0),Cn(As(e),t,n)}function js(e,t,n){return t=As(t)||0,n===$?(n=t,t=0):n=As(n)||0,e=As(e),zn(e,t,n)}function zs(e,t,n){if(n&&"boolean"!=typeof n&&br(e,t,n)&&(t=n=$),n===$&&("boolean"==typeof t?(n=t,t=$):"boolean"==typeof e&&(n=e,e=$)),e===$&&t===$?(e=0,t=1):(e=As(e)||0,t===$?(t=e,e=0):t=As(t)||0),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var r=Su();return Eu(e+r*(t-e+Nn("1e-"+((r+"").length-1))),t)}return pi(e,t)}function Js(e){return zc(ps(e).toLowerCase())}function Qs(e){return e=ps(e),e&&e.replace(kt,U).replace(pn,"")}function Ys(e,t,n){e=ps(e),t="string"==typeof t?t:t+"";var i=e.length;return n=n===$?i:Cn(us(n),0,i),n-=t.length,n>=0&&e.indexOf(t,n)==n}function Zs(e){return e=ps(e),e&&ut.test(e)?e.replace(st,V):e}function qs(e){return e=ps(e),e&&gt.test(e)?e.replace(mt,"\\$&"):e}function Xs(e,t,n){e=ps(e),t=us(t);var i=Y(e);if(!t||i>=t)return e;var r=(t-i)/2,o=pu(r),a=hu(r);return nr("",o,n)+e+nr("",a,n)}function $s(e,t,n){return e=ps(e),e+nr(e,t,n)}function el(e,t,n){return e=ps(e),nr(e,t,n)+e}function tl(e,t,n){return n||null==t?t=0:t&&(t=+t),e=ps(e).replace(vt,""),_u(e,t||(Ct.test(e)?16:10))}function nl(e,t){e=ps(e),t=us(t);var n="";if(!e||1>t||t>Ie)return n;do t%2&&(n+=e),t=pu(t/2),e+=e;while(t);return n}function il(){var e=arguments,t=ps(e[0]);return e.length<3?t:t.replace(e[1],e[2])}function rl(e,t,n){return ps(e).split(t,n)}function ol(e,t,n){return e=ps(e),n=Cn(us(n),0,e.length),e.lastIndexOf(t,n)==n}function al(e,n,i){var r=t.templateSettings;i&&br(e,n,i)&&(n=$),e=ps(e),n=kc({},n,r,an);var o,a,s=kc({},n.imports,r.imports,an),l=Os(s),u=M(s,l),c=0,A=n.interpolate||Dt,d="__p += '",h=Kl((n.escape||Dt).source+"|"+A.source+"|"+(A===dt?yt:Dt).source+"|"+(n.evaluate||Dt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Sn+"]")+"\n";e.replace(h,function(t,n,i,r,s,l){return i||(i=r),d+=e.slice(c,l).replace(Mt,W),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),d+="';\n";var f=n.variable;f||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(it,""):d).replace(rt,"$1").replace(ot,"$1;"),d="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=Zc(function(){return Function(l,p+"return "+d).apply($,u)});if(m.source=d,xa(m))throw m;return m}function sl(e){return ps(e).toLowerCase()}function ll(e){return ps(e).toUpperCase()}function ul(e,t,n){if(e=ps(e),!e)return e;if(n||t===$)return e.replace(vt,"");if(t+="",!t)return e;var i=Z(e),r=Z(t);return i.slice(P(i,r),L(i,r)+1).join("")}function cl(e,t,n){if(e=ps(e),!e)return e;if(n||t===$)return e.replace(_t,"");if(t+="",!t)return e;var i=Z(e);return i.slice(0,L(i,Z(t))+1).join("")}function Al(e,t,n){if(e=ps(e),!e)return e;if(n||t===$)return e.replace(Et,"");if(t+="",!t)return e;var i=Z(e);return i.slice(P(i,Z(t))).join("")}function dl(e,t){var n=ge,i=ve;if(Va(t)){var r="separator"in t?t.separator:r;n="length"in t?us(t.length):n,i="omission"in t?ps(t.omission):i}e=ps(e);var o=e.length;if(mn.test(e)){var a=Z(e);o=a.length}if(n>=o)return e;var s=n-Y(i);if(1>s)return i;var l=a?a.slice(0,s).join(""):e.slice(0,s);if(r===$)return l+i;if(a&&(s+=l.length-s),qa(r)){if(e.slice(s).search(r)){var u,c=l;for(r.global||(r=Kl(r.source,ps(bt.exec(r))+"g")),r.lastIndex=0;u=r.exec(c);)var A=u.index;l=l.slice(0,A===$?s:A)}}else if(e.indexOf(r,s)!=s){var d=l.lastIndexOf(r);d>-1&&(l=l.slice(0,d))}return l+i}function hl(e){return e=ps(e),e&&lt.test(e)?e.replace(at,q):e}function pl(e,t,n){return e=ps(e),t=n?$:t,t===$&&(t=En.test(e)?vn:gn),e.match(t)||[]}function fl(e){var t=e?e.length:0,n=dr();return e=t?m(e,function(e){if("function"!=typeof e[1])throw new Gl(ne);return[n(e[0]),e[1]]}):[],da(function(n){for(var i=-1;++i<t;){var r=e[i];if(s(r[0],this,n))return s(r[1],this,n)}})}function ml(e){return Tn(In(e,!0))}function gl(e){return function(){return e}}function vl(e){return e}function El(e){return $n("function"==typeof e?e:In(e,!0))}function _l(e){return ii(In(e,!0))}function Sl(e,t){return ri(e,In(t,!0))}function yl(e,t,n){var i=Os(t),r=Hn(t,i);null!=n||Va(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=Hn(t,Os(t)));var o=Va(n)&&"chain"in n?n.chain:!0,a=Ba(e);return c(r,function(n){var i=t[n];e[n]=i,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),r=n.__actions__=Ui(this.__actions__);return r.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,g([this.value()],arguments))})}),e}function bl(){return Fn._===this&&(Fn._=Xl),this}function Cl(){}function Il(e){return e=us(e),function(){return arguments[e]}}function Tl(e){return Cr(e)?ci(e):Ai(e)}function Ol(e){return function(t){return null==e?$:Kn(e,t)}}function wl(e,t){if(e=us(e),1>e||e>Ie)return[];var n=we,i=Eu(e,we);t=hn(t),e-=we;for(var r=N(i,t);++n<e;)t(n);return r}function Nl(e){return Tc(e)?m(e,String):Pr(e)}function kl(e){var t=++Yl;return ps(e)+t}function Dl(e,t){var n;return e===$&&t===$?0:(e!==$&&(n=e),t!==$&&(n=n===$?t:n+t),n)}function Ml(e){return e&&e.length?S(e,vl,ba):$}function Pl(e,t){return e&&e.length?S(e,dr(t),ba):$}function Ll(e){return Fl(e)/(e?e.length:0)}function xl(e){return e&&e.length?S(e,vl,as):$}function Rl(e,t){return e&&e.length?S(e,dr(t),as):$}function Bl(e,t){var n;return e===$&&t===$?0:(e!==$&&(n=e),t!==$&&(n=n===$?t:n-t),n)}function Fl(e){return e&&e.length?w(e,vl):0}function Ul(e,t){return e&&e.length?w(e,dr(t)):0}e=e?Un.defaults({},e,Un.pick(Fn,_n)):Fn;var Vl=e.Date,Wl=e.Error,Hl=e.Math,Kl=e.RegExp,Gl=e.TypeError,jl=e.Array.prototype,zl=e.Object.prototype,Jl=e.Function.prototype.toString,Ql=zl.hasOwnProperty,Yl=0,Zl=Jl.call(Object),ql=zl.toString,Xl=Fn._,$l=Kl("^"+Jl.call(Ql).replace(mt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eu=Pn?e.Buffer:$,tu=e.Reflect,nu=e.Symbol,iu=e.Uint8Array,ru=e.clearTimeout,ou=tu?tu.enumerate:$,au=Object.getPrototypeOf,su=Object.getOwnPropertySymbols,lu="symbol"==typeof(lu=nu&&nu.iterator)?lu:$,uu=Object.create,cu=zl.propertyIsEnumerable,Au=e.setTimeout,du=jl.splice,hu=Hl.ceil,pu=Hl.floor,fu=e.isFinite,mu=jl.join,gu=Object.keys,vu=Hl.max,Eu=Hl.min,_u=e.parseInt,Su=Hl.random,yu=jl.reverse,bu=pr(e,"Map"),Cu=pr(e,"Set"),Iu=pr(e,"WeakMap"),Tu=pr(Object,"create"),Ou=Iu&&new Iu,wu=!cu.call({valueOf:1},"valueOf"),Nu={},ku=bu?Jl.call(bu):"",Du=Cu?Jl.call(Cu):"",Mu=Iu?Jl.call(Iu):"",Pu=nu?nu.prototype:$,Lu=Pu?Pu.valueOf:$,xu=Pu?Pu.toString:$;t.templateSettings={escape:ct,evaluate:At,interpolate:dt,variable:"",imports:{_:t}};var Ru=ji(Vn),Bu=ji(Wn,!0),Fu=zi(),Uu=zi(!0);ou&&!cu.call({valueOf:1},"valueOf")&&(ti=function(e){return j(ou(e))});var Vu=Ou?function(e,t){return Ou.set(e,t),e}:vl,Wu=Cu&&2===new Cu([1,2]).size?function(e){return new Cu(e)}:Cl,Hu=Ou?function(e){return Ou.get(e)}:Cl,Ku=ci("length"),Gu=su||function(){return[]};(bu&&mr(new bu)!=Fe||Cu&&mr(new Cu)!=He||Iu&&mr(new Iu)!=je)&&(mr=function(e){var t=ql.call(e),n=t==Ve?e.constructor:null,i="function"==typeof n?Jl.call(n):"";if(i)switch(i){case ku:return Fe;case Du:return He;case Mu:return je}return t});var ju=function(){var e=0,t=0;return function(n,i){var r=gc(),o=_e-(r-t);if(t=r,o>0){if(++e>=Ee)return n}else e=0;return Vu(n,i)}}(),zu=da(function(e,t){return Tc(e)||(e=null==e?[]:[Object(e)]),t=Rn(t,1),u(e,t)}),Ju=da(function(e,t){return wa(e)?Dn(e,Rn(t,1,!0)):[]}),Qu=da(function(e,t){var n=Xr(t);return wa(n)&&(n=$),wa(e)?Dn(e,Rn(t,1,!0),dr(n)):[]}),Yu=da(function(e,t){var n=Xr(t);return wa(n)&&(n=$),wa(e)?Dn(e,Rn(t,1,!0),$,n):[]}),Zu=da(function(e){var t=m(e,dn);return t.length&&t[0]===e[0]?Jn(t):[]}),qu=da(function(e){var t=Xr(e),n=m(e,dn);return t===Xr(n)?t=$:n.pop(),n.length&&n[0]===e[0]?Jn(n,dr(t)):[]}),Xu=da(function(e){var t=Xr(e),n=m(e,dn);return t===Xr(n)?t=$:n.pop(),n.length&&n[0]===e[0]?Jn(n,$,t):[]}),$u=da(eo),ec=da(function(e,t){t=m(Rn(t,1),String);var n=An(e,t);return hi(e,t.sort(R)),n}),tc=da(function(e){return bi(Rn(e,1,!0))}),nc=da(function(e){var t=Xr(e);return wa(t)&&(t=$),bi(Rn(e,1,!0),dr(t))}),ic=da(function(e){var t=Xr(e);return wa(t)&&(t=$),bi(Rn(e,1,!0),$,t)}),rc=da(function(e,t){return wa(e)?Dn(e,t):[]}),oc=da(function(e){return wi(h(e,wa))}),ac=da(function(e){var t=Xr(e);return wa(t)&&(t=$),wi(h(e,wa),dr(t))}),sc=da(function(e){var t=Xr(e);return wa(t)&&(t=$),wi(h(e,wa),$,t)}),lc=da(bo),uc=da(function(e){var t=e.length,n=t>1?e[t-1]:$;return n="function"==typeof n?(e.pop(),n):$,Co(e,n)}),cc=da(function(e){e=Rn(e,1);var t=e.length,n=t?e[0]:0,o=this.__wrapped__,a=function(t){return An(t,e)};return!(t>1||this.__actions__.length)&&o instanceof r&&G(n)?(o=o.slice(n,+n+(t?1:0)),o.__actions__.push({func:No,args:[a],thisArg:$}),new i(o,this.__chain__).thru(function(e){return t&&!e.length&&e.push($),e})):this.thru(a)}),Ac=Ki(function(e,t,n){Ql.call(e,n)?++e[n]:e[n]=1}),dc=Ki(function(e,t,n){Ql.call(e,n)?e[n].push(t):e[n]=[t]}),hc=da(function(e,t,n){var i=-1,r="function"==typeof t,o=Cr(t),a=Oa(e)?Array(e.length):[];return Ru(e,function(e){var l=r?t:o&&null!=e?e[t]:$;a[++i]=l?s(l,e,n):Yn(e,t,n)}),a}),pc=Ki(function(e,t,n){e[n]=t}),fc=Ki(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),mc=da(function(e,t){if(null==e)return[];var n=t.length;return n>1&&br(e,t[0],t[1])?t=[]:n>2&&br(t[0],t[1],t[2])&&(t.length=1),si(e,Rn(t,1),[])}),gc=Vl.now,vc=da(function(e,t,n){var i=oe;if(n.length){var r=J(n,fr(vc));i|=ce}return sr(e,i,t,n,r)}),Ec=da(function(e,t,n){var i=oe|ae;if(n.length){var r=J(n,fr(Ec));i|=ce}return sr(t,i,e,n,r)}),_c=da(function(e,t){return wn(e,1,t)}),Sc=da(function(e,t,n){return wn(e,As(t)||0,n)}),yc=da(function(e,t){t=m(Rn(t,1),dr());var n=t.length;return da(function(i){for(var r=-1,o=Eu(i.length,n);++r<o;)i[r]=t[r].call(this,i[r]);return s(e,this,i)})}),bc=da(function(e,t){var n=J(t,fr(bc));return sr(e,ce,$,t,n)}),Cc=da(function(e,t){var n=J(t,fr(Cc));return sr(e,Ae,$,t,n)}),Ic=da(function(e,t){return sr(e,he,$,$,$,Rn(t,1))}),Tc=Array.isArray,Oc=eu?function(e){return e instanceof eu}:gl(!1),wc=Gi(function(e,t){if(wu||Or(t)||Oa(t))return void Vi(t,Os(t),e);for(var n in t)Ql.call(t,n)&&ln(e,n,t[n])}),Nc=Gi(function(e,t){if(wu||Or(t)||Oa(t))return void Vi(t,ws(t),e);for(var n in t)ln(e,n,t[n])}),kc=Gi(function(e,t,n,i){Wi(t,ws(t),e,i)}),Dc=Gi(function(e,t,n,i){
Wi(t,Os(t),e,i)}),Mc=da(function(e,t){return An(e,Rn(t,1))}),Pc=da(function(e){return e.push($,an),s(kc,$,e)}),Lc=da(function(e){return e.push($,kr),s(Uc,$,e)}),xc=er(function(e,t,n){e[t]=n},gl(vl)),Rc=er(function(e,t,n){Ql.call(e,t)?e[t].push(n):e[t]=[n]},dr),Bc=da(Yn),Fc=Gi(function(e,t,n){oi(e,t,n)}),Uc=Gi(function(e,t,n,i){oi(e,t,n,i)}),Vc=da(function(e,t){return null==e?{}:(t=m(Rn(t,1),String),li(e,Dn(ws(e),t)))}),Wc=da(function(e,t){return null==e?{}:li(e,Rn(t,1))}),Hc=Yi(function(e,t,n){return t=t.toLowerCase(),e+(n?Js(t):t)}),Kc=Yi(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Gc=Yi(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),jc=Qi("toLowerCase"),zc=Qi("toUpperCase"),Jc=Yi(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Qc=Yi(function(e,t,n){return e+(n?" ":"")+Js(t)}),Yc=Yi(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Zc=da(function(e,t){try{return s(e,$,t)}catch(n){return xa(n)?n:new Wl(n)}}),qc=da(function(e,t){return c(Rn(t,1),function(t){e[t]=vc(e[t],e)}),e}),Xc=Xi(),$c=Xi(!0),eA=da(function(e,t){return function(n){return Yn(n,e,t)}}),tA=da(function(e,t){return function(n){return Yn(e,n,t)}}),nA=tr(m),iA=tr(d),rA=tr(_),oA=rr(),aA=rr(!0),sA=ar("ceil"),lA=ar("floor"),uA=ar("round");return t.prototype=n.prototype,t.prototype.constructor=t,i.prototype=On(n.prototype),i.prototype.constructor=i,r.prototype=On(n.prototype),r.prototype.constructor=r,Lt.prototype=Tu?Tu(null):zl,Ut.prototype.clear=Vt,Ut.prototype["delete"]=Wt,Ut.prototype.get=Ht,Ut.prototype.has=Kt,Ut.prototype.set=Gt,jt.prototype.push=Jt,Qt.prototype.clear=Yt,Qt.prototype["delete"]=Zt,Qt.prototype.get=qt,Qt.prototype.has=Xt,Qt.prototype.set=$t,ua.Cache=Ut,t.after=na,t.ary=ia,t.assign=wc,t.assignIn=Nc,t.assignInWith=kc,t.assignWith=Dc,t.at=Mc,t.before=ra,t.bind=vc,t.bindAll=qc,t.bindKey=Ec,t.castArray=ga,t.chain=Oo,t.chunk=xr,t.compact=Rr,t.concat=zu,t.cond=fl,t.conforms=ml,t.constant=gl,t.countBy=Ac,t.create=fs,t.curry=oa,t.curryRight=aa,t.debounce=sa,t.defaults=Pc,t.defaultsDeep=Lc,t.defer=_c,t.delay=Sc,t.difference=Ju,t.differenceBy=Qu,t.differenceWith=Yu,t.drop=Br,t.dropRight=Fr,t.dropRightWhile=Ur,t.dropWhile=Vr,t.fill=Wr,t.filter=Uo,t.flatMap=Ho,t.flatten=Gr,t.flattenDeep=jr,t.flattenDepth=zr,t.flip=la,t.flow=Xc,t.flowRight=$c,t.fromPairs=Jr,t.functions=ys,t.functionsIn=bs,t.groupBy=dc,t.initial=Zr,t.intersection=Zu,t.intersectionBy=qu,t.intersectionWith=Xu,t.invert=xc,t.invertBy=Rc,t.invokeMap=hc,t.iteratee=El,t.keyBy=pc,t.keys=Os,t.keysIn=ws,t.map=zo,t.mapKeys=Ns,t.mapValues=ks,t.matches=_l,t.matchesProperty=Sl,t.memoize=ua,t.merge=Fc,t.mergeWith=Uc,t.method=eA,t.methodOf=tA,t.mixin=yl,t.negate=ca,t.nthArg=Il,t.omit=Vc,t.omitBy=Ds,t.once=Aa,t.orderBy=Jo,t.over=nA,t.overArgs=yc,t.overEvery=iA,t.overSome=rA,t.partial=bc,t.partialRight=Cc,t.partition=fc,t.pick=Wc,t.pickBy=Ms,t.property=Tl,t.propertyOf=Ol,t.pull=$u,t.pullAll=eo,t.pullAllBy=to,t.pullAllWith=no,t.pullAt=ec,t.range=oA,t.rangeRight=aA,t.rearg=Ic,t.reject=Zo,t.remove=io,t.rest=da,t.reverse=ro,t.sampleSize=Xo,t.set=Ls,t.setWith=xs,t.shuffle=$o,t.slice=oo,t.sortBy=mc,t.sortedUniq=ho,t.sortedUniqBy=po,t.split=rl,t.spread=ha,t.tail=fo,t.take=mo,t.takeRight=go,t.takeRightWhile=vo,t.takeWhile=Eo,t.tap=wo,t.throttle=pa,t.thru=No,t.toArray=ls,t.toPairs=Rs,t.toPairsIn=Bs,t.toPath=Nl,t.toPlainObject=ds,t.transform=Fs,t.unary=fa,t.union=tc,t.unionBy=nc,t.unionWith=ic,t.uniq=_o,t.uniqBy=So,t.uniqWith=yo,t.unset=Us,t.unzip=bo,t.unzipWith=Co,t.update=Vs,t.updateWith=Ws,t.values=Hs,t.valuesIn=Ks,t.without=rc,t.words=pl,t.wrap=ma,t.xor=oc,t.xorBy=ac,t.xorWith=sc,t.zip=lc,t.zipObject=Io,t.zipObjectDeep=To,t.zipWith=uc,t.extend=Nc,t.extendWith=kc,yl(t,t),t.add=Dl,t.attempt=Zc,t.camelCase=Hc,t.capitalize=Js,t.ceil=sA,t.clamp=Gs,t.clone=va,t.cloneDeep=_a,t.cloneDeepWith=Sa,t.cloneWith=Ea,t.deburr=Qs,t.endsWith=Ys,t.eq=ya,t.escape=Zs,t.escapeRegExp=qs,t.every=Fo,t.find=Vo,t.findIndex=Hr,t.findKey=ms,t.findLast=Wo,t.findLastIndex=Kr,t.findLastKey=gs,t.floor=lA,t.forEach=Ko,t.forEachRight=Go,t.forIn=vs,t.forInRight=Es,t.forOwn=_s,t.forOwnRight=Ss,t.get=Cs,t.gt=ba,t.gte=Ca,t.has=Is,t.hasIn=Ts,t.head=Qr,t.identity=vl,t.includes=jo,t.indexOf=Yr,t.inRange=js,t.invoke=Bc,t.isArguments=Ia,t.isArray=Tc,t.isArrayBuffer=Ta,t.isArrayLike=Oa,t.isArrayLikeObject=wa,t.isBoolean=Na,t.isBuffer=Oc,t.isDate=ka,t.isElement=Da,t.isEmpty=Ma,t.isEqual=Pa,t.isEqualWith=La,t.isError=xa,t.isFinite=Ra,t.isFunction=Ba,t.isInteger=Fa,t.isLength=Ua,t.isMap=Ha,t.isMatch=Ka,t.isMatchWith=Ga,t.isNaN=ja,t.isNative=za,t.isNil=Qa,t.isNull=Ja,t.isNumber=Ya,t.isObject=Va,t.isObjectLike=Wa,t.isPlainObject=Za,t.isRegExp=qa,t.isSafeInteger=Xa,t.isSet=$a,t.isString=es,t.isSymbol=ts,t.isTypedArray=ns,t.isUndefined=is,t.isWeakMap=rs,t.isWeakSet=os,t.join=qr,t.kebabCase=Kc,t.last=Xr,t.lastIndexOf=$r,t.lowerCase=Gc,t.lowerFirst=jc,t.lt=as,t.lte=ss,t.max=Ml,t.maxBy=Pl,t.mean=Ll,t.min=xl,t.minBy=Rl,t.noConflict=bl,t.noop=Cl,t.now=gc,t.pad=Xs,t.padEnd=$s,t.padStart=el,t.parseInt=tl,t.random=zs,t.reduce=Qo,t.reduceRight=Yo,t.repeat=nl,t.replace=il,t.result=Ps,t.round=uA,t.runInContext=X,t.sample=qo,t.size=ea,t.snakeCase=Jc,t.some=ta,t.sortedIndex=ao,t.sortedIndexBy=so,t.sortedIndexOf=lo,t.sortedLastIndex=uo,t.sortedLastIndexBy=co,t.sortedLastIndexOf=Ao,t.startCase=Qc,t.startsWith=ol,t.subtract=Bl,t.sum=Fl,t.sumBy=Ul,t.template=al,t.times=wl,t.toInteger=us,t.toLength=cs,t.toLower=sl,t.toNumber=As,t.toSafeInteger=hs,t.toString=ps,t.toUpper=ll,t.trim=ul,t.trimEnd=cl,t.trimStart=Al,t.truncate=dl,t.unescape=hl,t.uniqueId=kl,t.upperCase=Yc,t.upperFirst=zc,t.each=Ko,t.eachRight=Go,t.first=Qr,yl(t,function(){var e={};return Vn(t,function(n,i){Ql.call(t.prototype,i)||(e[i]=n)}),e}(),{chain:!1}),t.VERSION=ee,c(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),c(["drop","take"],function(e,t){r.prototype[e]=function(n){var i=this.__filtered__;if(i&&!t)return new r(this);n=n===$?1:vu(us(n),0);var o=this.clone();return i?o.__takeCount__=Eu(n,o.__takeCount__):o.__views__.push({size:Eu(n,we),type:e+(o.__dir__<0?"Right":"")}),o},r.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),c(["filter","map","takeWhile"],function(e,t){var n=t+1,i=n==Se||n==be;r.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:dr(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}}),c(["head","last"],function(e,t){var n="take"+(t?"Right":"");r.prototype[e]=function(){return this[n](1).value()[0]}}),c(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");r.prototype[e]=function(){return this.__filtered__?new r(this):this[n](1)}}),r.prototype.compact=function(){return this.filter(vl)},r.prototype.find=function(e){return this.filter(e).head()},r.prototype.findLast=function(e){return this.reverse().find(e)},r.prototype.invokeMap=da(function(e,t){return"function"==typeof e?new r(this):this.map(function(n){return Yn(n,e,t)})}),r.prototype.reject=function(e){return e=dr(e,3),this.filter(function(t){return!e(t)})},r.prototype.slice=function(e,t){e=us(e);var n=this;return n.__filtered__&&(e>0||0>t)?new r(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==$&&(t=us(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},r.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},r.prototype.toArray=function(){return this.take(we)},Vn(r.prototype,function(e,n){var o=/^(?:filter|find|map|reject)|While$/.test(n),a=/^(?:head|last)$/.test(n),s=t[a?"take"+("last"==n?"Right":""):n],l=a||/^find/.test(n);s&&(t.prototype[n]=function(){var n=this.__wrapped__,u=a?[1]:arguments,c=n instanceof r,A=u[0],d=c||Tc(n),h=function(e){var n=s.apply(t,g([e],u));return a&&p?n[0]:n};d&&o&&"function"==typeof A&&1!=A.length&&(c=d=!1);var p=this.__chain__,f=!!this.__actions__.length,m=l&&!p,v=c&&!f;if(!l&&d){n=v?n:new r(this);var E=e.apply(n,u);return E.__actions__.push({func:No,args:[h],thisArg:$}),new i(E,p)}return m&&v?e.apply(this,u):(E=this.thru(h),m?a?E.value()[0]:E.value():E)})}),c(["pop","push","shift","sort","splice","unshift"],function(e){var n=jl[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return r&&!this.__chain__?n.apply(this.value(),e):this[i](function(t){return n.apply(t,e)})}}),Vn(r.prototype,function(e,n){var i=t[n];if(i){var r=i.name+"",o=Nu[r]||(Nu[r]=[]);o.push({name:n,func:i})}}),Nu[$i($,ae).name]=[{name:"wrapper",func:$}],r.prototype.clone=x,r.prototype.reverse=Nt,r.prototype.value=Pt,t.prototype.at=cc,t.prototype.chain=ko,t.prototype.commit=Do,t.prototype.flatMap=Mo,t.prototype.next=Po,t.prototype.plant=xo,t.prototype.reverse=Ro,t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=Bo,lu&&(t.prototype[lu]=Lo),t}var $,ee="4.6.1",te=200,ne="Expected a function",ie="__lodash_hash_undefined__",re="__lodash_placeholder__",oe=1,ae=2,se=4,le=8,ue=16,ce=32,Ae=64,de=128,he=256,pe=512,fe=1,me=2,ge=30,ve="...",Ee=150,_e=16,Se=1,ye=2,be=3,Ce=1/0,Ie=9007199254740991,Te=1.7976931348623157e308,Oe=NaN,we=4294967295,Ne=we-1,ke=we>>>1,De="[object Arguments]",Me="[object Array]",Pe="[object Boolean]",Le="[object Date]",xe="[object Error]",Re="[object Function]",Be="[object GeneratorFunction]",Fe="[object Map]",Ue="[object Number]",Ve="[object Object]",We="[object RegExp]",He="[object Set]",Ke="[object String]",Ge="[object Symbol]",je="[object WeakMap]",ze="[object WeakSet]",Je="[object ArrayBuffer]",Qe="[object Float32Array]",Ye="[object Float64Array]",Ze="[object Int8Array]",qe="[object Int16Array]",Xe="[object Int32Array]",$e="[object Uint8Array]",et="[object Uint8ClampedArray]",tt="[object Uint16Array]",nt="[object Uint32Array]",it=/\b__p \+= '';/g,rt=/\b(__p \+=) '' \+/g,ot=/(__e\(.*?\)|\b__t\)) \+\n'';/g,at=/&(?:amp|lt|gt|quot|#39|#96);/g,st=/[&<>"'`]/g,lt=RegExp(at.source),ut=RegExp(st.source),ct=/<%-([\s\S]+?)%>/g,At=/<%([\s\S]+?)%>/g,dt=/<%=([\s\S]+?)%>/g,ht=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,pt=/^\w*$/,ft=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,mt=/[\\^$.*+?()[\]{}|]/g,gt=RegExp(mt.source),vt=/^\s+|\s+$/g,Et=/^\s+/,_t=/\s+$/,St=/\\(\\)?/g,yt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,bt=/\w*$/,Ct=/^0x/i,It=/^[-+]0x[0-9a-f]+$/i,Tt=/^0b[01]+$/i,Ot=/^\[object .+?Constructor\]$/,wt=/^0o[0-7]+$/i,Nt=/^(?:0|[1-9]\d*)$/,kt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Dt=/($^)/,Mt=/['\n\r\u2028\u2029\\]/g,Pt="\\ud800-\\udfff",Lt="\\u0300-\\u036f\\ufe20-\\ufe23",xt="\\u20d0-\\u20f0",Rt="\\u2700-\\u27bf",Bt="a-z\\xdf-\\xf6\\xf8-\\xff",Ft="\\xac\\xb1\\xd7\\xf7",Ut="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Vt="\\u2018\\u2019\\u201c\\u201d",Wt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ht="A-Z\\xc0-\\xd6\\xd8-\\xde",Kt="\\ufe0e\\ufe0f",Gt=Ft+Ut+Vt+Wt,jt="["+Pt+"]",zt="["+Gt+"]",Jt="["+Lt+xt+"]",Qt="\\d+",Yt="["+Rt+"]",Zt="["+Bt+"]",qt="[^"+Pt+Gt+Qt+Rt+Bt+Ht+"]",Xt="\\ud83c[\\udffb-\\udfff]",$t="(?:"+Jt+"|"+Xt+")",en="[^"+Pt+"]",tn="(?:\\ud83c[\\udde6-\\uddff]){2}",nn="[\\ud800-\\udbff][\\udc00-\\udfff]",rn="["+Ht+"]",on="\\u200d",an="(?:"+Zt+"|"+qt+")",sn="(?:"+rn+"|"+qt+")",ln=$t+"?",un="["+Kt+"]?",cn="(?:"+on+"(?:"+[en,tn,nn].join("|")+")"+un+ln+")*",An=un+ln+cn,dn="(?:"+[Yt,tn,nn].join("|")+")"+An,hn="(?:"+[en+Jt+"?",Jt,tn,nn,jt].join("|")+")",pn=RegExp(Jt,"g"),fn=RegExp(Xt+"(?="+Xt+")|"+hn+An,"g"),mn=RegExp("["+on+Pt+Lt+xt+Kt+"]"),gn=/[a-zA-Z0-9]+/g,vn=RegExp([rn+"?"+Zt+"+(?="+[zt,rn,"$"].join("|")+")",sn+"+(?="+[zt,rn+an,"$"].join("|")+")",rn+"?"+an+"+",rn+"+",Qt,dn].join("|"),"g"),En=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_n=["Array","Buffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Sn=-1,yn={};yn[Qe]=yn[Ye]=yn[Ze]=yn[qe]=yn[Xe]=yn[$e]=yn[et]=yn[tt]=yn[nt]=!0,yn[De]=yn[Me]=yn[Je]=yn[Pe]=yn[Le]=yn[xe]=yn[Re]=yn[Fe]=yn[Ue]=yn[Ve]=yn[We]=yn[He]=yn[Ke]=yn[je]=!1;var bn={};bn[De]=bn[Me]=bn[Je]=bn[Pe]=bn[Le]=bn[Qe]=bn[Ye]=bn[Ze]=bn[qe]=bn[Xe]=bn[Fe]=bn[Ue]=bn[Ve]=bn[We]=bn[He]=bn[Ke]=bn[Ge]=bn[$e]=bn[et]=bn[tt]=bn[nt]=!0,bn[xe]=bn[Re]=bn[je]=!1;var Cn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},In={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Tn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},On={"function":!0,object:!0},wn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Nn=parseFloat,kn=parseInt,Dn=On[typeof t]&&t&&!t.nodeType?t:$,Mn=On[typeof e]&&e&&!e.nodeType?e:$,Pn=Mn&&Mn.exports===Dn?Dn:$,Ln=x(Dn&&Mn&&"object"==typeof r&&r),xn=x(On[typeof self]&&self),Rn=x(On[typeof window]&&window),Bn=x(On[typeof this]&&this),Fn=Ln||Rn!==(Bn&&Bn.window)&&Rn||xn||Bn||Function("return this")(),Un=X();(Rn||xn||{})._=Un,i=function(){return Un}.call(t,n,t,e),!(i!==$&&(e.exports=i))}).call(this)}).call(t,n(51)(e),function(){return this}())},function(e,t,n){"use strict";var i=n(39),r=i;e.exports=r},function(e,t,n){"use strict";function i(e,t){De=t?De.push(e):De.filter(function(t){t.get("url")!==e.get("url")})}function r(e){var t=De.find(function(t){return t.get("url")===e.get("url")});return Boolean(void 0!==t)}function o(e,t,n,i){return a(e,t,function(e){return e.set(n,i)})}function a(e,t,n){return e.map(function(e){return e.get("id")===t?n(e):e})}function s(e,t){return e.map(function(e){var n=e.get("id")===t,i=e.set("active",n);return n&&e.getIn(["extData","read"])!==!0&&le.tabs.update(e.get("id"),{extData:JSON.stringify((e.get("extData")||te()).set("read",!0).toJS())}),i})}function l(e){e&&0!==e.count()&&se(Ce,{historystack:e.toJS()})}function u(e,t){var n=be(Te.map(function(e){return e.get("id")}),ie(t));return n=Se(n,Te.find(function(e){return e.get("active")}).get("id"))}function c(e){Number.isInteger(e)&&(Oe=Se(Oe,e),l(Oe))}function A(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];e&&(Te=$(e.map(function(e){return Z.tabToPage(e)})),l(Oe),Oe=u(Te,t),z(),Pe.emitChange())}function d(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=Z.tabToPage(e);n.get("url")&&(n=O(n,n.get("url",!1))),t&&(n=n.set("preventSetSource",t));var o=n.get("extData")||te(),a=ae.getSync("TAB_STACKING_OPEN_IN_CURRENT");if(a&&void 0!==n.get("openerTabId")){var s=Pe.getPages().find(function(e){return e.get("id")===n.get("openerTabId")}),u=s&&s.getIn(["extData","group"]);s&&Pe.isGroup(u)&&(o=o.set("group",u))}var c=JSON.stringify(o.toJS());e.extData!==c&&(n=n.set("extData",o),le.tabs.update(n.get("id"),{extData:c})),Oe=_e(Oe,n.get("id")),l(Oe),Te=Te.splice(e.index,0,n);var A=r(n);A?i(n,!1):n.get("url")!==Pe.getDefaultStartpage()&&ae.get("TAB_NEW_PLACEMENT",function(t){var i=Pe.getActivePage();if(i&&null!=i.get("index")&&("rightofcurrent"===t||"directrightofcurrent"===t)&&e.index!==i.get("index")+1){var r=i.get("index")+1;if("rightofcurrent"===t){var o=Te.filter(function(e){return e.get("id")!==n.get("id")&&e.get("openerTabId")===n.get("openerTabId")});if(o.isEmpty()===!1){var a=o.last().get("index")+1;a&&(r=a)}}le.tabs.move(e.id,{index:r})}}),Pe.emitChange()}function h(e){Te=Te.filter(function(t){return t.get("id")!==e}).map(function(e,t){return e.set("index",t)}),Oe=Oe.filter(function(t){return t!==e}),l(Oe),Pe.emitChange()}function p(e,t){var n=Te.get(t.index);if(!n)return void console.error("Chrome Tab not found",Te.toJS(),t.index,e,t,e);var i=Z.updatePage(n,{favIconUrl:""},e,t);ne(i,Te.get(t.index))||(Te=Te.splice(t.index,1,i),Pe.emitChange())}function f(e){Te=Te.splice(e.fromIndex,1).splice(e.toIndex,0,Te.get(e.fromIndex)).map(function(e,t){return e.set("index",t)}),Pe.emitChange()}function m(e){c(e.tabId),Te=s(Te,e.tabId),z(),Pe.emitChange()}function g(e){h(e)}function v(e,t){var n=t.newPosition,i=ie({id:e,index:n});Te=Te.splice(n,0,i),ce(le.tabs.get)(e).then(function(e){var t={};return p(t,e),e}).then(function(e){return le.tabs.update(e.id,{active:!0})})}function E(e){Te=s(Te,e),c(e),z(),Pe.emitChange(),le.tabs.update(e,{active:!0},function(){le.runtime.lastError}),c(e),Pe.emitChange()}function _(){if(Oe.count()>2){var e=Oe.get(Oe.count()-2);E(e)}}function S(){We&&ne(He,Oe)||(We=Oe,He=Oe),We=ye(We),E(We.last()),He=Oe}function y(e){if(!e)throw new"Tried to clone without a page";le.tabs.duplicate(e.get("id"),function(t){var n=ae.getSync("TAB_STACKING_OPEN_IN_CURRENT");n&&Pe.isGroup(e.getIn(["extData","group"]))&&le.tabs.update(t.id,{extData:JSON.stringify({group:e.getIn(["extData","group"])})});var i=ae.getSync("TAB_CLONE_PLACEMENT");"rightofcurrent"!==i&&le.tabs.move(Math.round(t.id),{index:-1})})}function b(e,t){var n=e.get("id");ae.get("TAB_CLOSE_ACTIVATION",function(i){var r;switch(i){case"keep_relations":for(var o,a=!1,s=e.get("openerTabId"),u=0;u<Te.size;u++){var A=Te.get(u);if(s)if(A.get("id")===n)a=!0;else if(A.get("openerTabId")===s){if(a){r=A;break}A.get("id")!==n&&(o=A)}else A.get("id")===s&&(o=A);else if(A.get("id")===n)a=!0;else if(A.get("openerTabId")===n&&a){r=A;break}}o&&!r&&(r=o);break;case"left":var d=Te.findEntry(function(e){return e.get("id")===n}),h=Y(d,1),p=h[0];r=p>0?Te.get(p-1):Te.first();break;case"right":var f=Te.findEntry(function(e){return e.get("id")===n}),m=Y(f,1),g=m[0];r=g+1<Te.count()?Te.get(g+1):Te.last();break;case"activation_order":break;default:console.log("unknown activation",i)}var v,E=Oe.findIndex(function(e){return e===n});Oe=Oe.splice(E,1),r||!function(){var e=Oe.last();r=Te.find(function(t){return e===t.get("id")})}(),r&&(c(r.get("id")),v=Oe.last(),l(Oe)),t(v,e)}),t()}function C(e){b(e,function(t){Number.isInteger(t)&&t!==e.get("id")&&(E(t),Oe=_e(Oe,e.get("id")),Pe.emitChange())})}function I(e,t){t&&(Te=o(Te,t.get("id"),"isRemoved",!0)),e?E(e):Pe.emitChange()}function T(e){e.get("active")?b(e,I):(Te=o(Te,e.get("id"),"isRemoved",!0),Pe.emitChange())}function O(e,t,n){return e.set("target",te({url:t,isTyped:n}))}function w(e,t,n){Te=a(Te,e.get("id"),function(e){return O(e,t,n)}),Pe.emitChange()}function N(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];z();var n=void 0;t?!function(){var t=e.map(function(e){return e.get("id")}),i=ee(e.map(function(e){return e.getIn(["extData","group"])}).filter(Boolean));n=i.isEmpty()?e:Pe.getPages().filter(function(e){return t.contains(e.get("id"))||i.contains(e.getIn(["extData","group"]))})}():n=e;var i=function(e){return e.get("pinned")};if(n.some(i))return void console.warn("Can't group pinned pages.");var r=ue(),o=n.find(function(e){return"group"===e.getIn(["extData","tiling","type"])}),a=o&&o.getIn(["extData","tiling"])||"",s=n.first().getIn(["extData","tiling","id"]);!a&&s&&n.every(function(e){return"selection"===e.getIn(["extData","tiling","type"])&&e.getIn(["extData","tiling","id"])===s})&&(a=n.first().getIn(["extData","tiling"]).set("type","group")),Te=Te.map(function(e){return n.find(function(t){return t.get("id")===e.get("id")})?e.setIn(["extData","group"],r).setIn(["extData","tiling"],a):e}),Pe.emitChange();var l=n.map(function(e){return ce(le.tabs.update)(e.get("id"),{extData:JSON.stringify((e.get("extData")||te()).set("group",r).set("tiling",a).toJS())})}),u=ce(le.tabs.move)(n.map(function(e){return e.get("id")}).toJS(),{windowId:Ce,index:n.sortBy(function(e){return e.get("index")}).first().get("index")});Promise.all([l]).then(u)}function k(e,t){var n=t&&Pe.isGroup(e.getIn(["extData","group"])),i=ae.getSync("CLOSABLE_PINNED_TABS");Te=Te.map(function(t){var r=void 0;return r=t.get("id")!==e.get("id"),n&&t.getIn(["extData","group"])===e.getIn(["extData","group"])&&(r=!1),(t.get("pinned")===!0||t.get("pinned")===!0&&"on"===i)&&(r=!1),t.set("isRemoved",r)}),Pe.emitChange()}function D(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];t?Te=Te.map(function(t){return t.set("isRemoved",t.getIn(["extData","group"])===e.getIn(["extData","group"]))}):!function(){var t=Te.filter(function(t){return t.getIn(["extData","group"])===e.getIn(["extData","group"])}).map(function(e){return e.get("id")}),n=Oe.reverse().find(function(e){return t.contains(e)});Te=Te.map(function(e){return e.set("isRemoved",e.get("id")===n)})}(),Pe.emitChange()}function M(e){le.tabs.update(e.get("id"),{extData:JSON.stringify((e.get("extData")||te()).set("group","").set("tiling","").toJS())}),Te=o(Te,e.get("id"),"group","")}function P(e){var t=e.getIn(["extData","group"]);if(t){var n=Te.filter(function(e){return e.getIn(["extData","group"])===t});n.count()<=2?n.forEach(function(e){return M(e)}):M(e),Pe.emitChange()}}function L(e){Pe.getPages().filter(function(t){return t.getIn(["extData","group"])===e}).forEach(function(e){return le.tabs.update(e.get("id"),{extData:JSON.stringify((e.get("extData")||te()).set("group","").set("tiling","").toJS())})})}function x(e,t){var n=(e.getIn(["extData","tiling"])||te()).merge(t),i=(e.get("extData")||te()).set("tiling",n);le.tabs.update(e.get("id"),{extData:JSON.stringify(i)})}function R(e,t){e.forEach(function(e){return x(e,Object.assign({},t))})}function B(e){ke=e}function F(e,t){Te=a(Te,e.get("id"),function(e){return e.merge(t)}),Pe.emitChange()}function U(e,t){Te=o(Te,e,"mediastate",t),Pe.emitChange()}function V(e,t){Te=o(Te,e,"favIcon",t),Pe.emitChange()}function W(e,t){Te=o(Te,e,"processexitstate",t),Pe.emitChange()}function H(e,t){le.tabs.update(e.get("id"),{extData:JSON.stringify((e.get("extData")||te()).set("urlForThumbnail",e.get("url")).set("thumbnail",t||"").toJS())},function(){le.runtime.lastError})}function K(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];if(n&&Pe.isGroup(t.getIn(["extData","group"]))){var i=Pe.getGroup(t.getIn(["extData","group"])).map(function(e){return e.get("id")});return e.union(i)}return e.add(t.get("id"))}function G(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];if(n&&Pe.isGroup(t.getIn(["extData","group"]))){var i=Pe.getGroup(t.getIn(["extData","group"])).map(function(e){return e.get("id")});return e.subtract(i)}return e.remove(t.get("id"))}function j(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];return e.contains(t.get("id"))?G(e,t,n):K(e,t,n)}function z(){we=!1,Ne=ee(),Ke=Ge=Pe.getActivePage(),Ke&&(Ne=K(Ne,Ge,!0))}function J(){z(),Pe.emitChange()}function Q(e,t,n){t?!function(){var t=e;Ne=Ne.subtract(Te.filter(function(e){return e.get("index")>=Math.min(Ke.get("index"),Ge.get("index"))&&e.get("index")<=Math.max(Ke.get("index"),Ge.get("index"))}).flatMap(function(e){var t=e.getIn(["extData","group"]);return Pe.isGroup(t)?Pe.getGroup(t):[e]}).map(function(e){return e.get("id")})).union(Te.filter(function(e){return e.get("index")>=Math.min(Ke.get("index"),t.get("index"))&&e.get("index")<=Math.max(Ke.get("index"),t.get("index"))}).flatMap(function(e){var t=e.getIn(["extData","group"]);return Pe.isGroup(t)?Pe.getGroup(t):[e]}).map(function(e){return e.get("id")})),Ge=t}():(Ke=Ge=e,Ne=we===!1&&e.get("active")?K(Ne,e,n):j(Ne,e,n)),we=!0,Pe.emitChange()}var Y=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Z=n(193),q=n(16).EventEmitter,X=n(29),$=X.List,ee=X.Set,te=X.Map,ne=X.is,ie=X.fromJS,re=n(8),oe=n(5),ae=n(4),se=n(194),le=n(3),ue=n(64),ce=n(195),Ae=n(484),de=n(17),he=de.debounce,pe=n(20),fe=pe.urls,me=n(192),ge=me.modifierUpListener,ve=me.hasModifier,Ee=n(443),_e=Ee.moveToStart,Se=Ee.moveToEnd,ye=Ee.rotateList,be=Ee.combineLists,Ce=window.vivaldiWindowId,Ie="change",Te=$(),Oe=$(),we=!1,Ne=ee(),ke="",De=$(),Me=fe.internals.startpage+"?section=Speed-dials&activeSpeedDialIndex=0",Pe=Object.assign({},q.prototype,{getPages:function(){return Te},getPageHistory:function(){return Oe},getActivePage:function(){var e=arguments.length<=0||void 0===arguments[0]?Te:arguments[0];return Le(e)},isActivePage:function(e){return this.getActivePage().get("id")===e},getGroup:function(e){var t=arguments.length<=1||void 0===arguments[1]?Te:arguments[1];return xe(t,e)},isGroup:function(e){return Re(Te,e)},getGroupHighlightId:function(e){return Be(Te,e)},getTiles:function(e){var t=arguments.length<=1||void 0===arguments[1]?Te:arguments[1];return Fe(t,e)},isSelecting:function(){return we},getPageSelection:function(){return Ne},getTargetUrl:function(){return ke},getDiscardablePages:function(){return Ue(Te)},isLastPage:function(e){return Ve(Te)},getDefaultStartpage:function(){return Me},emitChange:he(function(){return Pe.emit(Ie)},16,{maxWait:100}),addChangeListener:function(e){this.on(Ie,e)},removeChangeListener:function(e){this.removeListener(Ie,e)}}),Le=Ae(1)(function(e){return e.find(function(e){return e.get("active")})||te()}),xe=Ae(10)(function(e,t){return t?e.filter(function(e){return e.getIn(["extData","group"])===t}):$()}),Re=Ae(10)(function(e,t){return t?e.filter(function(e){return e.getIn(["extData","group"])===t}).count()>1:!1}),Be=Ae(10)(function(e,t){var n=xe(e,t).map(function(e){return e.get("id")}),i=Oe.reverse().find(function(e){return n.contains(e)});return i||n.first()}),Fe=Ae(10)(function(e,t){return t?e.filter(function(e){return e.getIn(["extData","tiling","id"])===t}):$()}),Ue=Ae(1)(function(e){return e.filter(function(e){return!e.get("discarded")&&!e.get("active")&&e.get("url")!==Pe.getDefaultStartpage()})}),Ve=Ae(1)(function(e){return e.filter(function(e){return!Boolean(e.get("isRemoved"))}).count()<2}),We=null,He=null,Ke=null,Ge=null,je=function(){var e=void 0,t=void 0;return function(n){var i=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];ve(n)?(e?e=be(Oe,e):(e=Oe,t=Oe.last()),e=ye(e,i===!1),E(e.last()),ge(n,function(){var n=t,i=e.last();Oe=e.filter(function(e){return e!==n&&e!==i}).push(n),n!==i&&(Oe=Oe.push(i)),l(Oe),e=t=null})):(Oe=ye(Oe,i===!1),l(Oe),E(Oe.last()))}}(),ze=function(){var e=void 0,t=void 0;return function(n){var i=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],r=Pe.getPages(),o=r.findIndex(function(e){return e.get("active")});e?e=be(Oe,e):(e=Oe,t=r.getIn([o,"id"]));var a=((o+(i?1:-1))%r.size+r.size)%r.size;E(r.getIn([a,"id"])),ge(n,function(){var n=t,i=r.getIn([a,"id"]);Oe=be(Oe,e.filter(function(e){return e!==n&&e!==i}).push(n).push(i)),l(Oe),e=t=null})}}();re.register(function(e){var t=e.action;switch(t.actionType){case oe.CHROME_TABS_INIT:A(t.tabs,t.historystack);break;case oe.CHROME_TABS_CREATED:var n=Y(t.args,1),r=n[0],o=!!r.openerTabId;d(r,o);break;case oe.CHROME_TABS_REMOVED:var a=Y(t.args,1),s=a[0];h(s);break;case oe.CHROME_TABS_UPDATED:var l=Y(t.args,3),u=l[1],c=l[2];p(u,c);break;case oe.CHROME_TABS_MOVED:var b=Y(t.args,2),I=b[1];f(I);break;case oe.CHROME_TABS_ACTIVATED:var O=Y(t.args,1),M=O[0];m(M);break;case oe.CHROME_TABS_DETACHED:var x=Y(t.args,1),K=x[0];g(K);break;case oe.CHROME_TABS_ATTACHED:var G=Y(t.args,2),j=G[0],z=G[1];v(j,z);break;case oe.CHROME_TABS_REPLACED:break;case oe.PAGE_BURY:C(t.page);break;case oe.PAGE_CLOSE:T(t.page);break;case oe.PAGE_OPEN_URL:w(t.page,t.url,t.isTyped);break;case oe.PAGE_OPEN:E(t.page.get("id"));break;case oe.PAGE_OPEN_LAST:_();break;case oe.PAGE_MINIMIZE:S();break;case oe.PAGE_CLONE:y(t.page);break;case oe.PAGE_SET_IS_RESTORED:i(t.page,t.restored);break;case oe.PAGE_TABSTACK_CREATE:N(t.pages,t.includeGroups);break;case oe.PAGE_CLOSE_OTHER:k(t.page,t.includeGroup);break;case oe.PAGE_TABSTACK_CLOSE:D(t.page,t.closeAll);break;case oe.PAGE_TABSTACK_REMOVE_FROM:P(t.page);break;case oe.PAGE_TABSTACK_EXPAND:L(t.groupName);break;case oe.PAGE_TILE_PAGES:R(t.pages,{type:t.type,id:t.id,layout:t.layout});break;case oe.PAGE_TOGGLE_PINNED:break;case oe.PAGE_SET_TARGET_URL:B(t.targetUrl);break;case oe.PAGE_OVERRIDE_PROPS:F(t.page,t.props);break;case oe.PAGE_SET_MEDIASTATE:U(t.pageId,t.mediastate);break;case oe.PAGE_SET_PROCESSEXITSTATE:W(t.pageId,t.processexitstate);break;case oe.PAGE_SET_THUMBNAIL:H(t.page,t.thumbnail);break;case oe.PAGE_SET_FAVICON:V(t.pageId,t.favIcon);break;case oe.PAGE_SET_SELECTION:Q(t.page,t.multiSelect,t.addGroup);break;case oe.PAGE_CLEAR_SELECTION:J();break;case oe.PAGE_CYCLE_BY_HISTORY:je(t.maybeEvent,t.goBack);break;case oe.PAGE_CYCLE_BY_ORDER:ze(t.maybeEvent,t.goBack);break;default:return!0}}),e.exports=window.PageStore=Pe},function(e,t,n){"use strict";var i=n(2),r=n(81),o=n(4),a={ADDRESS_BAR_SHOW_FULL_URL:!1};o.get(["ADDRESS_BAR_SHOW_FULL_URL"],function(e){a=Object.assign(a,e),o.addListener("ADDRESS_BAR_SHOW_FULL_URL",function(e,t){t!==e&&(a.ADDRESS_BAR_SHOW_FULL_URL=t)})});var s=function(){var e=this;this.internals={settings:"chrome-extension://mpognobbkildjkofajifpdfhcoklimli/components/settings/settings.html",startpage:"chrome-extension://mpognobbkildjkofajifpdfhcoklimli/components/startpage/startpage.html",mailpage:"chrome-extension://mpognobbkildjkofajifpdfhcoklimli/components/mail/mail.html",aboutpage:"chrome://version",vivaldiurls:"chrome://chrome-urls",plugins:"chrome://plugins",extensions:"chrome://chrome/extensions",bookmarks:"chrome://bookmarks",history:"chrome://history",welcome:"chrome-extension://mpognobbkildjkofajifpdfhcoklimli/components/welcome/welcome.html"},this._internal_values=Object.keys(this.internals).map(function(t){return e.internals[t]}),this.mappings=[{displayUrl:"vivaldi://settings",url:this.internals.settings,copyParams:!0},{displayUrl:"vivaldi:settings",url:this.internals.settings,copyParams:!0},{displayUrl:"",url:this.internals.startpage,copyParams:!1},{displayUrl:"vivaldi://mail",url:this.internals.mailpage,copyParams:!0},{displayUrl:"vivaldi://about",url:this.internals.aboutpage,copyParams:!0},{displayUrl:"vivaldi://help",url:this.internals.aboutpage,copyParams:!0},{displayUrl:"vivaldi://vivaldi-urls",url:this.internals.vivaldiurls,copyParams:!0},{displayUrl:"vivaldi://history",url:this.internals.history,copyParams:!0},{displayUrl:"vivaldi://extensions",url:this.internals.extensions,copyParams:!0},{displayUrl:"vivaldi://bookmarks",url:this.internals.bookmarks,copyParams:!0},{displayUrl:"vivaldi://welcome",url:this.internals.welcome,copyParams:!0},{displayUrl:"vivaldi:about",url:this.internals.aboutpage,copyParams:!1},{displayUrl:"about:about",url:this.internals.aboutpage,copyParams:!1},{displayUrl:"chrome://dummystartpage",url:this.internals.startpage,copyParams:!0},{displayUrl:"vivaldi://",url:"chrome://",copyParams:!0,mapDisplayUrlToUrl:function(t,n){return"vivaldi://"===t?e.internals.aboutpage:e._copyAllMapDisplayUrlToUrl(t,n)},mapUrlToDisplayUrl:function(t,n){return e._copyAllMapUrlToDisplayUrl(t,n)}}],this.categoryTitleMap={"":i("Startup"),startup:i("Startup"),appearance:i("Appearance"),"start-page":i("title","Start Page"),tabs:i("Tabs"),panel:i("Panel"),addressbar:i("Address Bar"),qc:i("Quick Commands"),keyboard:i("Keyboard"),mouse:i("Mouse"),search:i("noun","Search"),privacy:i("Privacy"),sync:i("Sync"),webpages:i("Webpages"),network:i("Network"),downloads:i("Downloads"),history:i("History"),mail:i("Mail"),calendar:i("Calendar"),contacts:i("Contacts"),bookmarks:i("Bookmarks"),all:i("Display All")},this.setInternalUrl=function(e,t){var n=this;this.internals[e]=t,this._internal_values=Object.keys(this.internals).map(function(e){return n.internals[e]})},this.setMapping=function(e,t,n){this.mappings.push({displayUrl:e,url:t,copyParams:!!n})},this.getDisplayUrl=function(e){if(!e)return"";for(var t=e.split("?"),n=0;n<this.mappings.length;n++){
var i=this.mappings[n];if(i.url&&this.matchUrl(i.url,t[0])){e=i.mapUrlToDisplayUrl?i.mapUrlToDisplayUrl(e,i):this._defaultMapUrlToDisplayUrl(e,i);break}}return e},this.getDisplayTitle=function(e){if(!e||!e.get)return"";var t=e.get("title"),n=e.get("url");return n&&(n.startsWith("chrome://bookmarks/")?t=i("Bookmarks"):this.isStartPage(n)?t=i("title","Start Page"):n===this.internals.welcome?t=i("Welcome"):n.startsWith(this.internals.settings)&&(t=this.categoryTitleMap[this.getUrlParams(n).path||""]),t===n&&(t=this.removeTrailingSlashWhenNoPath(this.getDisplayUrl(n)))),t},this.removeTrailingSlashWhenNoPath=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return e=e.replace(/\s/g,""),""===e?e:a.ADDRESS_BAR_SHOW_FULL_URL?e:e.replace(/^([a-z]+?:\/?\/?[^\/]*)\/([\?#].*)?$/,"$1$2")},this.getUrl=function(e){e=e?e.trim():e;for(var t=e,n=0;n<this.mappings.length;n++){var i=this.mappings[n];if(i.displayUrl.length>0&&this.matchUrl(i.displayUrl,e)){t=i.mapDisplayUrlToUrl?i.mapDisplayUrlToUrl(e,i):this._defaultMapDisplayUrlToUrl(e,i);break}}return t},this.isMailPage=function(e){return 0===e.indexOf(this.internals.mailpage)},this.isStartPage=function(e){return 0===e.indexOf(this.internals.startpage)},this.isInternalUrl=function(e){for(var t=0;t<this._internal_values.length;t++)if(e&&0===e.indexOf(this._internal_values[t]))return!0;return!1},this.isInternalPage=function(e){return e&&this.isInternalUrl(e.get("url"))},this.isNavigatablePage=function(e){return!this.isInternalPage(e)||this.matchUrl(this.internals.settings,e.get("url"))},this.isBookmarkablePage=function(e){return!this.isInternalPage(e)},this.matchInternal=function(e,t){return this.matchUrl(this.internals[e],t)},this.matchUrl=function(e,t){return t&&0===t.indexOf(e)},this.equalUrl=function(e,t,n){return n?e&&t&&this._stripParams(e)===this._stripParams(t):e&&t&&this._trimSlash(e)===this._trimSlash(t)},this.getUrlParams=function(e){var t=e?e.split("?"):[];return t.length>1?r.parse(t[1]):{}},this.internalUrl=function(e,t,n,i){return this.internals[e]+"?path="+this._trimSlash(t)+(n?"&title="+n:"")+(i?"&query="+i:"")},this.internalKeyFromUrl=function(e){for(var t in this.internals)if(this.matchInternal(t,e))return t;return null},this._stripParams=function(e){return this._trimSlash(e).split("?")[0].split("#")[0]},this._parseUrlPath=function(e){return this._trimSlash(e).split("/").slice(2)},this._trimSlash=function(e){return e.replace(/^\/+|\/+$/gm,"")},this._defaultMapUrlToDisplayUrl=function(e,t,n){var i=e.split("?"),o=e;if(t.displayUrl){var a=i.length>1?r.parse(i[1]):{};o=t.displayUrl+(t.copyParams&&a.path?"/"+a.path+"/":"/")}else o="";return o},this._defaultMapDisplayUrlToUrl=function(e,t,n){var i=t.copyParams&&e.length>t.displayUrl.length?"path="+this._trimSlash(e.slice(t.displayUrl.length)):"";return t.url+(i||n?"?":"")+i+(i?"&":"")+(n?n:"")},this._copyAllMapUrlToDisplayUrl=function(e,t,n){var i=t.copyParams&&e.length>t.url.length?this._trimSlash(e.slice(t.url.length)):"";return t.displayUrl+i},this._copyAllMapDisplayUrlToUrl=function(e,t,n){var i=t.copyParams&&e.length>t.displayUrl.length?this._trimSlash(e.slice(t.displayUrl.length)):"";return t.url+i}};e.exports={urls:new s}},function(e,t,n){"use strict";var i,r,o,a,s,l=n(61),u=n(4),c=n(74),A=n(42),d=n(3),h=n(9),p=10,f=" -_()jygpq",m="",g="",v=function(e,t,n){for(var i=0;-1!==i;){var r=t.charAt(i),o=r.toUpperCase();if(-1===f.indexOf(r)&&-1===e.indexOf(o)&&(0===i||n===!0?r===o:1))return i;i=t.indexOf(" ",i+1),-1!==i&&i++}for(var a=0;a<t.length;a++){var r=t.charAt(a);if(-1===f.indexOf(r)&&-1===e.indexOf(r.toUpperCase()))return a}return-1},E=function S(e,t){for(var n=0===d.i18n.getUILanguage().indexOf("en"),i="",r=0;r<e.length;r++){var o=e[r];if(void 0!==o.name)if("---"!==o.name&&o.mnemonic!==!1)if(t){var a=t[r].mnemonicOffset;void 0!==a&&a+1<=o.name.length?("&"===o.name[a]?o.nameWithMnemonic=o.name:o.nameWithMnemonic=o.name.slice(0,a)+"&"+o.name.slice(a),i+=o.name.charAt(a+1).toUpperCase()):(a=o.name.indexOf("&"),o.nameWithMnemonic=-1!==a?o.name:void 0)}else{var a=o.name.indexOf("&");-1!==a&&a+1<o.name.length?(o.nameWithMnemonic=o.name,i+=o.name.charAt(a+1).toUpperCase()):o.nameWithMnemonic=void 0}else if(o.mnemonic===!1){var a=o.name.indexOf("&");-1!==a&&(o.nameWithMnemonic=o.name.replace(/\&/g,"&&"))}}for(var r=0;r<e.length;r++){var o=e[r];if(void 0!==o.name&&"---"!==o.name&&o.mnemonic!==!1){if(void 0===o.nameWithMnemonic){var a=v(i,o.name,n);a>=0&&(i+=o.name.charAt(a).toUpperCase(),o.nameWithMnemonic=o.name.slice(0,a)+"&"+o.name.slice(a))}o.items&&S(o.items,null)}}},_=function(e,t){var d=arguments.length<=2||void 0===arguments[2]?"pointer":arguments[2],f=arguments.length<=3||void 0===arguments[3]?null:arguments[3],v=arguments.length<=4||void 0===arguments[4]?null:arguments[4],_=arguments.length<=5||void 0===arguments[5]?null:arguments[5],S=arguments.length<=6||void 0===arguments[6]?null:arguments[6],y=0,b={},C=function(e,t){if(l.setStatus(""),h.showMenu.onOpen.removeListener(I),h.showMenu.onUrlHighlighted.removeListener(T),"function"==typeof b[t.id]){var n="none";t.left?n="left":t.right?n="right":t.center&&(n="center");var i={ctrl:t.ctrl,alt:t.alt,shift:t.shift,command:t.command,button:n};b[t.id].call(this,e,i)}"function"==typeof v&&v.call(this,e)},I=function(){"function"==typeof t&&t.call(this,event)},T=function(e){l.setStatus(e)},O=function M(e){if(!e)return null;0===m.length&&(m=btoa(n(198))),0===g.length&&(g=btoa(n(197)));var t;t=e.items&&e.bookmarkFolder===!0?m:e.url?g:e.iconPNG;var i=e.visible!==!1;"function"==typeof e.testVisibility&&(i=e.testVisibility());var r=e.nameWithMnemonic?e.nameWithMnemonic:e.name,o=y++;return r&&(b[o]=e.handler),{id:o,name:r?r:"",selected:!(!_||_!==e),visible:i,items:e.items?e.items.map(M):null,type:e.type?e.type:"normal",checked:e.checked?e.checked:!1,shortcut:c(e.shortcut),url:e.url,icon:t}},w=function(e){e&&i!==!0?(document.addEventListener("mouseup",D),document.addEventListener("mousemove",k),document.addEventListener("wheel",N,!0),i=!0):e||i!==!0||(document.removeEventListener("mouseup",D),document.removeEventListener("mousemove",k),document.removeEventListener("wheel",N,!0),i=!1)},N=function(e){w(!1)},k=function(e){var t=Math.abs(a-e.screenX),n=Math.abs(s-e.screenY);(t>p||n>p)&&w(!1)},D=function(t){var n=this;w(!1);var i="function"==typeof e?e():e;E(i,S),h.zoom.getVivaldiUIZoom(function(e){h.showMenu.onOpen.addListener(I),h.showMenu.onUrlHighlighted.addListener(T),h.showMenu.create({mode:"context",left:parseInt(r*e),top:parseInt(o*e),items:i.map(O)},C.bind(n,t))})};return function(e,t){e.preventDefault(),e.stopPropagation(),"function"==typeof e.persist&&e.persist();var n=0,i=0,l="MacIntel"===navigator.platform?4:0,c="win"===A()?1:0;if("pointer"===d)n=e.clientX,i=e.clientY;else{var h=f?f.getBoundingClientRect():e.target.getBoundingClientRect();"bottom"===d?(n=parseInt(h.left)+c,i=parseInt(h.bottom)+l):"right"===d&&(n=parseInt(h.right),i=parseInt(h.top))}r=n,o=i,a=e.screenX,s=e.screenY,"win"!==A()&&"contextmenu"===e.type&&u.getSync("MOUSE_GESTURES_ENABLED")?w(!0):D(e)}};e.exports=_},function(e,t){function n(){u=!1,a.length?l=a.concat(l):c=-1,l.length&&i()}function i(){if(!u){var e=setTimeout(n);u=!0;for(var t=l.length;t;){for(a=l,l=[];++c<t;)a&&a[c].run();c=-1,t=l.length}a=null,u=!1,clearTimeout(e)}}function r(e,t){this.fun=e,this.array=t}function o(){}var a,s=e.exports={},l=[],u=!1,c=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new r(e,t)),1!==l.length||u||setTimeout(i,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=o,s.addListener=o,s.once=o,s.off=o,s.removeListener=o,s.removeAllListeners=o,s.emit=o,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t){"use strict";var n={KEY_CANCEL:3,KEY_HELP:6,KEY_BACK_SPACE:8,KEY_TAB:9,KEY_CLEAR:12,KEY_RETURN:13,KEY_ENTER:14,KEY_SHIFT:16,KEY_CONTROL:17,KEY_ALT:18,KEY_PAUSE:19,KEY_CAPS_LOCK:20,KEY_ESCAPE:27,KEY_SPACE:32,KEY_PAGE_UP:33,KEY_PAGE_DOWN:34,KEY_END:35,KEY_HOME:36,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_PRINTSCREEN:44,KEY_INSERT:45,KEY_DELETE:46,KEY_0:48,KEY_1:49,KEY_2:50,KEY_3:51,KEY_4:52,KEY_5:53,KEY_6:54,KEY_7:55,KEY_8:56,KEY_9:57,KEY_SEMICOLON:59,KEY_EQUALS:61,KEY_A:65,KEY_B:66,KEY_C:67,KEY_D:68,KEY_E:69,KEY_F:70,KEY_G:71,KEY_H:72,KEY_I:73,KEY_J:74,KEY_K:75,KEY_L:76,KEY_M:77,KEY_N:78,KEY_O:79,KEY_P:80,KEY_Q:81,KEY_R:82,KEY_S:83,KEY_T:84,KEY_U:85,KEY_V:86,KEY_W:87,KEY_X:88,KEY_Y:89,KEY_Z:90,KEY_CONTEXT_MENU:93,KEY_NUMPAD0:96,KEY_NUMPAD1:97,KEY_NUMPAD2:98,KEY_NUMPAD3:99,KEY_NUMPAD4:100,KEY_NUMPAD5:101,KEY_NUMPAD6:102,KEY_NUMPAD7:103,KEY_NUMPAD8:104,KEY_NUMPAD9:105,KEY_MULTIPLY:106,KEY_ADD:107,KEY_SEPARATOR:108,KEY_SUBTRACT:109,KEY_DECIMAL:110,KEY_DIVIDE:111,KEY_F1:112,KEY_F2:113,KEY_F3:114,KEY_F4:115,KEY_F5:116,KEY_F6:117,KEY_F7:118,KEY_F8:119,KEY_F9:120,KEY_F10:121,KEY_F11:122,KEY_F12:123,KEY_F13:124,KEY_F14:125,KEY_F15:126,KEY_F16:127,KEY_F17:128,KEY_F18:129,KEY_F19:130,KEY_F20:131,KEY_F21:132,KEY_F22:133,KEY_F23:134,KEY_F24:135,KEY_NUM_LOCK:144,KEY_SCROLL_LOCK:145,KEY_COMMA:188,KEY_PERIOD:190,KEY_SLASH:191,KEY_BACK_QUOTE:192,KEY_OPEN_BRACKET:219,KEY_BACK_SLASH:220,KEY_CLOSE_BRACKET:221,KEY_QUOTE:222,KEY_META:224};e.exports=n},function(e,t){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=i},function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(1),o=n(12),a=r.createClass({displayName:"RadioGroup",propTypes:{name:r.PropTypes.string.isRequired,onChange:r.PropTypes.func.isRequired,value:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.number,r.PropTypes.bool]),defaultValue:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.number,r.PropTypes.bool]),children:r.PropTypes.array.isRequired},getInitialState:function(){return{defaultValue:this.props.defaultValue}},componentDidMount:function(){this.setRadioNames(),this.setCheckedRadio()},componentDidUpdate:function(){this.setRadioNames(),this.setCheckedRadio()},setRadioNames:function(){for(var e=this.getRadios(),t=0,n=e.length;n>t;t++)e[t].setAttribute("name",this.props.name)},getRadios:function(){return o.findDOMNode(this).querySelectorAll('input[type="radio"]')},setCheckedRadio:function(){for(var e=this.getRadios(),t=null!==this.props.value?this.props.value:this.state.defaultValue,n=0,i=e.length;i>n;n++){var r=e[n];r.value!==t&&r.value!==t.toString()||(r.checked=!0)}},getCheckedValue:function(){for(var e=this.getRadios(),t=0,n=e.length;n>t;t++)if(e[t].checked)return e[t].value;return null},render:function(){return r.createElement("div",i({},this.props,{onChange:this.props.onChange}),this.props.children)}});e.exports=a},function(e,t,n){"use strict";function i(e){function t(e){n.indexOf(e)>-1&&(i+=e+"+",n.splice(n.indexOf(e),1))}var n=e.split("+");n=n.map(function(e){return C[e]||e});var i="";return t("ctrl"),t("alt"),t("shift"),t("meta"),n.sort(),n.forEach(function(e,t){i+=e,t+1<n.length&&(i+="+")}),i.toLowerCase()}function r(e,t){if(t&&e){var n=i(e),r=O[n]||[];r.push(t),O[n]=r}}function o(e,t){if(e){var n=i(e);O[n]&&(t?O[n]=O[n].filter(function(e){return e!==t}):O[n]=void 0)}}function a(e){var t="";return e.metaKey&&(t+="meta+"),e.altKey&&(t+="alt+"),e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),t}function s(e){return!!(e.metaKey||e.altKey||e.shiftKey||e.ctrlKey)}function l(e){function t(){var t=["Alt","Shift","Control","Meta"];return 16===e.which?!1:17===e.which?!1:18===e.which?!1:-1===t.indexOf(e.keyIdentifier)}function n(){var t=String.fromCharCode(e.keyCode);return t>="A"&&"Z">=t||t>="0"&&"9">=t?t:String.fromCharCode(parseInt(e.keyIdentifier.substring(2),16))}function r(){return S[e.keyCode]?(o+=S[e.keyCode],i(o)):"U+0000"===e.keyIdentifier?null:(o+=n(),i(o))}var o=a(e);return t()&&"keydown"===e.type?r():void 0}function u(e,t){t(e),e.preventDefault(),e.stopPropagation()}function c(e,t){if(0!==e.charCode)return!1;if(-1!==I.indexOf(t))return!1;if("U+001B"===e.keyIdentifier||"Down"===e.keyIdentifier||"Up"===e.keyIdentifier||"U+0028"===e.keyIdentifier||"U+0026"===e.keyIdentifier||"Home"===e.keyIdentifier||"End"===e.keyIdentifier||"U+0021"===e.keyIdentifier||"U+0022"===e.keyIdentifier||"PageDown"===e.keyIdentifier||"PageUp"===e.keyIdentifier)return!0;if(e.keyCode>=112&&e.keyCode<=123)return!0;if(s(e)){if("U+0008"===e.keyIdentifier||"U+007F"===e.keyIdentifier)return!0;if(e.ctrlKey||e.metaKey||e.altKey)return!0}return!1}function A(e,t,n,i){var r=Array.isArray(i)&&1===i.length&&Array.isArray(i[0])&&2===i[0].length?i[0]:["webview",""],o=f(r,2),a=o[0],s=o[1],l="EMBED"===a,c="OBJECT"===a,A=(l||c)&&"application/x-shockwave-flash"===s,d=l&&"application/pdf"===s;(!A&&!d||A&&y.indexOf(e)>-1||d&&!b.some(function(t){return e.match(t)}))&&u(n,t)}function d(e,t,n){if(!e.defaultPrevented&&!(e.target.classList.contains("keyShortcutStop")||1===n.length&&E)){if(_){var i=g.getAllCommands(),r=i.find(function(e){return"COMMAND_PAGE_DISABLE_KEYBOARD_SHORTCUTS"===e.name});if(!(r.shortcut||[]).some(function(t){return t===l(e)}))return}var o=["INPUT","FRAME","IFRAME","OBJECT","SELECT","TEXTAREA","EMBED"];o.indexOf(e.target.tagName)>-1||e.target.isContentEditable?c(e,n)&&u(e,t):"WEBVIEW"===e.target.tagName?e.target.isFocusedElementEditable(function(i){var r=this;i&&!c(e,n)||!function(){var i=A.bind(r,n,t,e);"number"==typeof w&&(clearTimeout(w),w=null),w=setTimeout(function(){"number"==typeof w&&(w=void 0,i(void 0))},50),e.target.executeScript({code:'[document.activeElement.tagName.toUpperCase(),\ndocument.activeElement.getAttribute("type")]'},function(e){chrome.runtime.lastError||void 0===w||("number"==typeof w&&(clearTimeout(w),w=void 0),i(e))})}()}):u(e,t)}}function h(e){var t=O[e];return t&&t.length?t[t.length-1]:void 0}function p(e){var t=l(e);if(t){var n=h(t);n&&d(e,n,t)}}var f=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=n(4),g=n(36),v=n(47),E=void 0,_=void 0;m.get("DISABLE_SINGLE_KEY_SHORTCUTS",function(e){E=e}),m.get("DISABLE_KEYBOARD_SHORTCUTS",function(e){_=e}),m.addListener("DISABLE_SINGLE_KEY_SHORTCUTS",function(e,t){E=t}),m.addListener("DISABLE_KEYBOARD_SHORTCUTS",function(e,t){_=t}),v.addChangeListener(function(e){"disableShortcuts"===e.action&&m.set({DISABLE_KEYBOARD_SHORTCUTS:!_})});var S={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del"},y=navigator.platform.indexOf("Mac")>-1?["meta+t","meta+n","meta+w"]:["ctrl+t","ctrl+n","ctrl+w"],b=["backspace"],C={option:"alt",command:"meta","return":"enter",escape:"esc",del:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"backspace":"del",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},I=["left","right","shift+left","shift+right","shift+up","shift+down","enter","shift+enter"];I=navigator.platform.indexOf("Mac")>-1?I.concat(["alt+left","alt+right","alt+backspace","meta+a","meta+z","meta+left","meta+right","shift+meta+left","shift+meta+right","ctrl+a","ctrl+b","ctrl+e","ctrl+f","ctrl+n","ctrl+p","ctrl+d","ctrl+h","ctrl+k","ctrl+o","ctrl+t","ctrl+v","ctrl+y","alt+shift+left","alt+shift+right","ctrl+shift+a","ctrl+shift+b","ctrl+shift+e","ctrl+shift+f","ctrl+shift+n","ctrl+shift+p"]):I.concat(["home","end","ctrl+a","ctrl+z","ctrl+y","ctrl+u","ctrl+left","ctrl+right","ctrl+backspace","ctrl+delete","ctrl+home","ctrl+end","ctrl+shift+left","ctrl+shift+right","shift+home","shift+end"]);for(var T=1;20>T;++T)S[111+T]="f"+T;var O={},w=void 0,N={bind:function(e,t){return[].concat(e).filter(Boolean).map(function(e){return e.trim()}).forEach(function(e){return r(e,t)}),this},unbind:function(e){var t=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1];return[].concat(e).forEach(function(e){return o(e,t)}),this},keyComboFromEvent:l,shortcutAllowedInText:c};document.addEventListener("keydown",p),document.addEventListener("keypress",p),e.exports=N},function(e,t,n){function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(e,t,n){if(e&&u(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}function o(e){return l(e)&&(e=r(e)),e instanceof i?e.format():i.prototype.format.call(e)}function a(e,t){return r(e,!1,!0).resolve(t)}function s(e,t){return e?r(e,!1,!0).resolveObject(t):t}function l(e){return"string"==typeof e}function u(e){return"object"==typeof e&&null!==e}function c(e){return null===e}function A(e){return null==e}var d=n(153);t.parse=r,t.resolve=a,t.resolveObject=s,t.format=o,t.Url=i;var h=/^([a-z0-9.+-]+:)/i,p=/:[0-9]*$/,f=["<",">",'"',"`"," ","\r","\n","	"],m=["{","}","|","\\","^","`"].concat(f),g=["'"].concat(m),v=["%","/","?",";","#"].concat(g),E=["/","?","#"],_=255,S=/^[a-z0-9A-Z_-]{0,63}$/,y=/^([a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},C={javascript:!0,"javascript:":!0},I={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},T=n(81);i.prototype.parse=function(e,t,n){if(!l(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e;i=i.trim();var r=h.exec(i);if(r){r=r[0];var o=r.toLowerCase();this.protocol=o,i=i.substr(r.length)}if(n||r||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===i.substr(0,2);!a||r&&C[r]||(i=i.substr(2),this.slashes=!0)}if(!C[r]&&(a||r&&!I[r])){for(var s=-1,u=0;u<E.length;u++){var c=i.indexOf(E[u]);-1!==c&&(-1===s||s>c)&&(s=c)}var A,p;p=-1===s?i.lastIndexOf("@"):i.lastIndexOf("@",s),-1!==p&&(A=i.slice(0,p),i=i.slice(p+1),this.auth=decodeURIComponent(A)),s=-1;for(var u=0;u<v.length;u++){var c=i.indexOf(v[u]);-1!==c&&(-1===s||s>c)&&(s=c)}-1===s&&(s=i.length),this.host=i.slice(0,s),i=i.slice(s),this.parseHost(),this.hostname=this.hostname||"";var f="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!f)for(var m=this.hostname.split(/\./),u=0,O=m.length;O>u;u++){var w=m[u];if(w&&!w.match(S)){for(var N="",k=0,D=w.length;D>k;k++)N+=w.charCodeAt(k)>127?"x":w[k];if(!N.match(S)){var M=m.slice(0,u),P=m.slice(u+1),L=w.match(y);L&&(M.push(L[1]),P.unshift(L[2])),P.length&&(i="/"+P.join(".")+i),this.hostname=M.join(".");break}}}if(this.hostname.length>_?this.hostname="":this.hostname=this.hostname.toLowerCase(),!f){for(var x=this.hostname.split("."),R=[],u=0;u<x.length;++u){var B=x[u];R.push(B.match(/[^A-Za-z0-9_-]/)?"xn--"+d.encode(B):B)}this.hostname=R.join(".")}var F=this.port?":"+this.port:"",U=this.hostname||"";this.host=U+F,this.href+=this.host,f&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!b[o])for(var u=0,O=g.length;O>u;u++){var V=g[u],W=encodeURIComponent(V);W===V&&(W=escape(V)),i=i.split(V).join(W)}var H=i.indexOf("#");-1!==H&&(this.hash=i.substr(H),i=i.slice(0,H));var K=i.indexOf("?");if(-1!==K?(this.search=i.substr(K),this.query=i.substr(K+1),t&&(this.query=T.parse(this.query)),i=i.slice(0,K)):t&&(this.search="",this.query={}),i&&(this.pathname=i),I[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",B=this.search||"";this.path=F+B}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",r=!1,o="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&u(this.query)&&Object.keys(this.query).length&&(o=T.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||I[t])&&r!==!1?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+r+n+a+i},i.prototype.resolve=function(e){return this.resolveObject(r(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(l(e)){var t=new i;t.parse(e,!1,!0),e=t}var n=new i;if(Object.keys(this).forEach(function(e){n[e]=this[e]},this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach(function(t){"protocol"!==t&&(n[t]=e[t])}),I[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!I[e.protocol])return Object.keys(e).forEach(function(t){n[t]=e[t]}),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||C[e.protocol])n.pathname=e.pathname;else{for(var r=(e.pathname||"").split("/");r.length&&!(e.host=r.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),n.pathname=r.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var o=n.pathname||"",a=n.search||"";n.path=o+a}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),u=e.host||e.pathname&&"/"===e.pathname.charAt(0),d=u||s||n.host&&e.pathname,h=d,p=n.pathname&&n.pathname.split("/")||[],r=e.pathname&&e.pathname.split("/")||[],f=n.protocol&&!I[n.protocol];if(f&&(n.hostname="",n.port=null,n.host&&(""===p[0]?p[0]=n.host:p.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===r[0]?r[0]=e.host:r.unshift(e.host)),e.host=null),d=d&&(""===r[0]||""===p[0])),u)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,p=r;else if(r.length)p||(p=[]),p.pop(),p=p.concat(r),n.search=e.search,n.query=e.query;else if(!A(e.search)){if(f){n.hostname=n.host=p.shift();var m=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;m&&(n.auth=m.shift(),n.host=n.hostname=m.shift())}return n.search=e.search,n.query=e.query,c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!p.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var g=p.slice(-1)[0],v=(n.host||e.host)&&("."===g||".."===g)||""===g,E=0,_=p.length;_>=0;_--)g=p[_],"."==g?p.splice(_,1):".."===g?(p.splice(_,1),E++):E&&(p.splice(_,1),E--);if(!d&&!h)for(;E--;E)p.unshift("..");!d||""===p[0]||p[0]&&"/"===p[0].charAt(0)||p.unshift(""),v&&"/"!==p.join("/").substr(-1)&&p.push("");var S=""===p[0]||p[0]&&"/"===p[0].charAt(0);if(f){n.hostname=n.host=S?"":p.length?p.shift():"";var m=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;m&&(n.auth=m.shift(),n.host=n.hostname=m.shift())}return d=d||n.host&&p.length,d&&!S&&p.unshift(""),p.length?n.pathname=p.join("/"):(n.pathname=null,n.path=null),c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=p.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";var i=n(1),r=n(26),o=n(90),a=i.createClass({displayName:"Modal",propTypes:{dialogWidth:i.PropTypes.number,viewMode:i.PropTypes.string,onRequestClose:i.PropTypes.func,ignoreEscape:i.PropTypes.bool},componentDidMount:function(){r.bind("esc",this.closeModalHandler)},componentWillUnmount:function(){r.unbind("esc",this.closeModalHandler)},closeModalHandler:function(){this.props.onRequestClose&&!this.props.ignoreEscape&&this.props.onRequestClose()},killClick:function(e){e.stopPropagation()},handleBackdropClick:function(){this.props.onRequestClose&&this.props.onRequestClose()},render:function(){return i.createElement(o,{focusName:"focus_modal",id:"modal-bg",className:this.props.viewMode?this.props.viewMode:"slide",onClick:this.handleBackdropClick},i.createElement("div",{onClick:this.killClick,style:{width:this.props.dialogWidth}},this.props.children))}});e.exports=a},function(e,t,n){!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function t(e){return o(e)?e:N(e)}function n(e){return a(e)?e:k(e)}function i(e){return s(e)?e:D(e)}function r(e){return o(e)&&!l(e)?e:M(e)}function o(e){return!(!e||!e[un])}function a(e){return!(!e||!e[cn])}function s(e){return!(!e||!e[An])}function l(e){return a(e)||s(e)}function u(e){return!(!e||!e[dn])}function c(e){return e.value=!1,e}function A(e){e&&(e.value=!0)}function d(){}function h(e,t){t=t||0;for(var n=Math.max(0,e.length-t),i=new Array(n),r=0;n>r;r++)i[r]=e[r+t];return i}function p(e){return void 0===e.size&&(e.size=e.__iterate(m)),e.size}function f(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return 0>t?p(e)+t:t}function m(){return!0}function g(e,t,n){return(0===e||void 0!==n&&-n>=e)&&(void 0===t||void 0!==n&&t>=n)}function v(e,t){return _(e,t,0)}function E(e,t){return _(e,t,t)}function _(e,t,n){return void 0===e?n:0>e?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}function S(e){this.next=e}function y(e,t,n,i){var r=0===e?t:1===e?n:[t,n];return i?i.value=r:i={value:r,done:!1},i}function b(){return{value:void 0,done:!0}}function C(e){return!!O(e)}function I(e){return e&&"function"==typeof e.next}function T(e){var t=O(e);return t&&t.call(e)}function O(e){var t=e&&(bn&&e[bn]||e[Cn]);return"function"==typeof t?t:void 0}function w(e){return e&&"number"==typeof e.length}function N(e){return null===e||void 0===e?F():o(e)?e.toSeq():W(e)}function k(e){return null===e||void 0===e?F().toKeyedSeq():o(e)?a(e)?e.toSeq():e.fromEntrySeq():U(e)}function D(e){return null===e||void 0===e?F():o(e)?a(e)?e.entrySeq():e.toIndexedSeq():V(e)}function M(e){return(null===e||void 0===e?F():o(e)?a(e)?e.entrySeq():e:V(e)).toSetSeq()}function P(e){this._array=e,this.size=e.length}function L(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function x(e){this._iterable=e,this.size=e.length||e.size}function R(e){this._iterator=e,this._iteratorCache=[]}function B(e){return!(!e||!e[Tn])}function F(){return On||(On=new P([]))}function U(e){var t=Array.isArray(e)?new P(e).fromEntrySeq():I(e)?new R(e).fromEntrySeq():C(e)?new x(e).fromEntrySeq():"object"==typeof e?new L(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function V(e){var t=H(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function W(e){var t=H(e)||"object"==typeof e&&new L(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function H(e){return w(e)?new P(e):I(e)?new R(e):C(e)?new x(e):void 0}function K(e,t,n,i){var r=e._cache;if(r){for(var o=r.length-1,a=0;o>=a;a++){var s=r[n?o-a:a];if(t(s[1],i?s[0]:a,e)===!1)return a+1}return a}return e.__iterateUncached(t,n)}function G(e,t,n,i){var r=e._cache;if(r){var o=r.length-1,a=0;return new S(function(){var e=r[n?o-a:a];return a++>o?b():y(t,i?e[0]:a-1,e[1])})}return e.__iteratorUncached(t,n)}function j(e,t){return t?z(t,e,"",{"":e}):J(e)}function z(e,t,n,i){return Array.isArray(t)?e.call(i,n,D(t).map(function(n,i){return z(e,n,i,t)})):Q(t)?e.call(i,n,k(t).map(function(n,i){return z(e,n,i,t)})):t}function J(e){return Array.isArray(e)?D(e).map(J).toList():Q(e)?k(e).map(J).toMap():e}function Q(e){return e&&(e.constructor===Object||void 0===e.constructor)}function Y(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function Z(e,t){if(e===t)return!0;if(!o(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||a(e)!==a(t)||s(e)!==s(t)||u(e)!==u(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!l(e);if(u(e)){var i=e.entries();return t.every(function(e,t){var r=i.next().value;return r&&Y(r[1],e)&&(n||Y(r[0],t))})&&i.next().done}var r=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{r=!0;var c=e;e=t,t=c}var A=!0,d=t.__iterate(function(t,i){return(n?e.has(t):r?Y(t,e.get(i,gn)):Y(e.get(i,gn),t))?void 0:(A=!1,!1)});return A&&e.size===d}function q(e,t){if(!(this instanceof q))return new q(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(wn)return wn;wn=this}}function X(e,t){if(!e)throw new Error(t)}function $(e,t,n){if(!(this instanceof $))return new $(e,t,n);if(X(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),e>t&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Nn)return Nn;Nn=this}}function ee(){throw TypeError("Abstract")}function te(){}function ne(){}function ie(){}function re(e){return e>>>1&1073741824|3221225471&e}function oe(e){if(e===!1||null===e||void 0===e)return 0;if("function"==typeof e.valueOf&&(e=e.valueOf(),e===!1||null===e||void 0===e))return 0;if(e===!0)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)e/=4294967295,n^=e;return re(n)}if("string"===t)return e.length>Bn?ae(e):se(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return le(e);if("function"==typeof e.toString)return se(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function ae(e){var t=Vn[e];return void 0===t&&(t=se(e),Un===Fn&&(Un=0,Vn={}),Un++,Vn[e]=t),t}function se(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return re(t)}function le(e){var t;if(Ln&&(t=kn.get(e),void 0!==t))return t;if(t=e[Rn],void 0!==t)return t;if(!Pn){if(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Rn],void 0!==t)return t;if(t=ue(e),void 0!==t)return t}if(t=++xn,1073741824&xn&&(xn=0),Ln)kn.set(e,t);else{if(void 0!==Mn&&Mn(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Pn)Object.defineProperty(e,Rn,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Rn]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Rn]=t}}return t}function ue(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function ce(e){X(e!==1/0,"Cannot perform this action with an infinite size.")}function Ae(e){return null===e||void 0===e?ye():de(e)&&!u(e)?e:ye().withMutations(function(t){var i=n(e);ce(i.size),i.forEach(function(e,n){return t.set(n,e)})})}function de(e){return!(!e||!e[Wn])}function he(e,t){this.ownerID=e,this.entries=t}function pe(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function fe(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function me(e,t,n){
this.ownerID=e,this.keyHash=t,this.entries=n}function ge(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function ve(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&_e(e._root)}function Ee(e,t){return y(e,t[0],t[1])}function _e(e,t){return{node:e,index:0,__prev:t}}function Se(e,t,n,i){var r=Object.create(Hn);return r.size=e,r._root=t,r.__ownerID=n,r.__hash=i,r.__altered=!1,r}function ye(){return Kn||(Kn=Se(0))}function be(e,t,n){var i,r;if(e._root){var o=c(vn),a=c(En);if(i=Ce(e._root,e.__ownerID,0,void 0,t,n,o,a),!a.value)return e;r=e.size+(o.value?n===gn?-1:1:0)}else{if(n===gn)return e;r=1,i=new he(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=r,e._root=i,e.__hash=void 0,e.__altered=!0,e):i?Se(r,i):ye()}function Ce(e,t,n,i,r,o,a,s){return e?e.update(t,n,i,r,o,a,s):o===gn?e:(A(s),A(a),new ge(t,i,[r,o]))}function Ie(e){return e.constructor===ge||e.constructor===me}function Te(e,t,n,i,r){if(e.keyHash===i)return new me(t,i,[e.entry,r]);var o,a=(0===n?e.keyHash:e.keyHash>>>n)&mn,s=(0===n?i:i>>>n)&mn,l=a===s?[Te(e,t,n+pn,i,r)]:(o=new ge(t,i,r),s>a?[e,o]:[o,e]);return new pe(t,1<<a|1<<s,l)}function Oe(e,t,n,i){e||(e=new d);for(var r=new ge(e,oe(n),[n,i]),o=0;o<t.length;o++){var a=t[o];r=r.update(e,0,void 0,a[0],a[1])}return r}function we(e,t,n,i){for(var r=0,o=0,a=new Array(n),s=0,l=1,u=t.length;u>s;s++,l<<=1){var c=t[s];void 0!==c&&s!==i&&(r|=l,a[o++]=c)}return new pe(e,r,a)}function Ne(e,t,n,i,r){for(var o=0,a=new Array(fn),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[o++]:void 0;return a[i]=r,new fe(e,o+1,a)}function ke(e,t,i){for(var r=[],a=0;a<i.length;a++){var s=i[a],l=n(s);o(s)||(l=l.map(function(e){return j(e)})),r.push(l)}return Pe(e,t,r)}function De(e,t,n){return e&&e.mergeDeep&&o(t)?e.mergeDeep(t):Y(e,t)?e:t}function Me(e){return function(t,n,i){if(t&&t.mergeDeepWith&&o(n))return t.mergeDeepWith(e,n);var r=e(t,n,i);return Y(t,r)?t:r}}function Pe(e,t,n){return n=n.filter(function(e){return 0!==e.size}),0===n.length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var i=t?function(n,i){e.update(i,gn,function(e){return e===gn?n:t(e,n,i)})}:function(t,n){e.set(n,t)},r=0;r<n.length;r++)n[r].forEach(i)}):e.constructor(n[0])}function Le(e,t,n,i){var r=e===gn,o=t.next();if(o.done){var a=r?n:e,s=i(a);return s===a?e:s}X(r||e&&e.set,"invalid keyPath");var l=o.value,u=r?gn:e.get(l,gn),c=Le(u,t,n,i);return c===u?e:c===gn?e.remove(l):(r?ye():e).set(l,c)}function xe(e){return e-=e>>1&1431655765,e=(858993459&e)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,127&e}function Re(e,t,n,i){var r=i?e:h(e);return r[t]=n,r}function Be(e,t,n,i){var r=e.length+1;if(i&&t+1===r)return e[t]=n,e;for(var o=new Array(r),a=0,s=0;r>s;s++)s===t?(o[s]=n,a=-1):o[s]=e[s+a];return o}function Fe(e,t,n){var i=e.length-1;if(n&&t===i)return e.pop(),e;for(var r=new Array(i),o=0,a=0;i>a;a++)a===t&&(o=1),r[a]=e[a+o];return r}function Ue(e){var t=Ge();if(null===e||void 0===e)return t;if(Ve(e))return e;var n=i(e),r=n.size;return 0===r?t:(ce(r),r>0&&fn>r?Ke(0,r,pn,null,new We(n.toArray())):t.withMutations(function(e){e.setSize(r),n.forEach(function(t,n){return e.set(n,t)})}))}function Ve(e){return!(!e||!e[Jn])}function We(e,t){this.array=e,this.ownerID=t}function He(e,t){function n(e,t,n){return 0===t?i(e,n):r(e,t,n)}function i(e,n){var i=n===s?l&&l.array:e&&e.array,r=n>o?0:o-n,u=a-n;return u>fn&&(u=fn),function(){if(r===u)return Zn;var e=t?--u:r++;return i&&i[e]}}function r(e,i,r){var s,l=e&&e.array,u=r>o?0:o-r>>i,c=(a-r>>i)+1;return c>fn&&(c=fn),function(){for(;;){if(s){var e=s();if(e!==Zn)return e;s=null}if(u===c)return Zn;var o=t?--c:u++;s=n(l&&l[o],i-pn,r+(o<<i))}}}var o=e._origin,a=e._capacity,s=qe(a),l=e._tail;return n(e._root,e._level,0)}function Ke(e,t,n,i,r,o,a){var s=Object.create(Qn);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=i,s._tail=r,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function Ge(){return Yn||(Yn=Ke(0,0,pn))}function je(e,t,n){if(t=f(e,t),t!==t)return e;if(t>=e.size||0>t)return e.withMutations(function(e){0>t?Ye(e,t).set(0,n):Ye(e,0,t+1).set(t,n)});t+=e._origin;var i=e._tail,r=e._root,o=c(En);return t>=qe(e._capacity)?i=ze(i,e.__ownerID,0,t,n,o):r=ze(r,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=r,e._tail=i,e.__hash=void 0,e.__altered=!0,e):Ke(e._origin,e._capacity,e._level,r,i):e}function ze(e,t,n,i,r,o){var a=i>>>n&mn,s=e&&a<e.array.length;if(!s&&void 0===r)return e;var l;if(n>0){var u=e&&e.array[a],c=ze(u,t,n-pn,i,r,o);return c===u?e:(l=Je(e,t),l.array[a]=c,l)}return s&&e.array[a]===r?e:(A(o),l=Je(e,t),void 0===r&&a===l.array.length-1?l.array.pop():l.array[a]=r,l)}function Je(e,t){return t&&e&&t===e.ownerID?e:new We(e?e.array.slice():[],t)}function Qe(e,t){if(t>=qe(e._capacity))return e._tail;if(t<1<<e._level+pn){for(var n=e._root,i=e._level;n&&i>0;)n=n.array[t>>>i&mn],i-=pn;return n}}function Ye(e,t,n){void 0!==t&&(t=0|t),void 0!==n&&(n=0|n);var i=e.__ownerID||new d,r=e._origin,o=e._capacity,a=r+t,s=void 0===n?o:0>n?o+n:r+n;if(a===r&&s===o)return e;if(a>=s)return e.clear();for(var l=e._level,u=e._root,c=0;0>a+c;)u=new We(u&&u.array.length?[void 0,u]:[],i),l+=pn,c+=1<<l;c&&(a+=c,r+=c,s+=c,o+=c);for(var A=qe(o),h=qe(s);h>=1<<l+pn;)u=new We(u&&u.array.length?[u]:[],i),l+=pn;var p=e._tail,f=A>h?Qe(e,s-1):h>A?new We([],i):p;if(p&&h>A&&o>a&&p.array.length){u=Je(u,i);for(var m=u,g=l;g>pn;g-=pn){var v=A>>>g&mn;m=m.array[v]=Je(m.array[v],i)}m.array[A>>>pn&mn]=p}if(o>s&&(f=f&&f.removeAfter(i,0,s)),a>=h)a-=h,s-=h,l=pn,u=null,f=f&&f.removeBefore(i,0,a);else if(a>r||A>h){for(c=0;u;){var E=a>>>l&mn;if(E!==h>>>l&mn)break;E&&(c+=(1<<l)*E),l-=pn,u=u.array[E]}u&&a>r&&(u=u.removeBefore(i,l,a-c)),u&&A>h&&(u=u.removeAfter(i,l,h-c)),c&&(a-=c,s-=c)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=l,e._root=u,e._tail=f,e.__hash=void 0,e.__altered=!0,e):Ke(a,s,l,u,f)}function Ze(e,t,n){for(var r=[],a=0,s=0;s<n.length;s++){var l=n[s],u=i(l);u.size>a&&(a=u.size),o(l)||(u=u.map(function(e){return j(e)})),r.push(u)}return a>e.size&&(e=e.setSize(a)),Pe(e,t,r)}function qe(e){return fn>e?0:e-1>>>pn<<pn}function Xe(e){return null===e||void 0===e?tt():$e(e)?e:tt().withMutations(function(t){var i=n(e);ce(i.size),i.forEach(function(e,n){return t.set(n,e)})})}function $e(e){return de(e)&&u(e)}function et(e,t,n,i){var r=Object.create(Xe.prototype);return r.size=e?e.size:0,r._map=e,r._list=t,r.__ownerID=n,r.__hash=i,r}function tt(){return qn||(qn=et(ye(),Ge()))}function nt(e,t,n){var i,r,o=e._map,a=e._list,s=o.get(t),l=void 0!==s;if(n===gn){if(!l)return e;a.size>=fn&&a.size>=2*o.size?(r=a.filter(function(e,t){return void 0!==e&&s!==t}),i=r.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(i.__ownerID=r.__ownerID=e.__ownerID)):(i=o.remove(t),r=s===a.size-1?a.pop():a.set(s,void 0))}else if(l){if(n===a.get(s)[1])return e;i=o,r=a.set(s,[t,n])}else i=o.set(t,a.size),r=a.set(a.size,[t,n]);return e.__ownerID?(e.size=i.size,e._map=i,e._list=r,e.__hash=void 0,e):et(i,r)}function it(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function rt(e){this._iter=e,this.size=e.size}function ot(e){this._iter=e,this.size=e.size}function at(e){this._iter=e,this.size=e.size}function st(e){var t=wt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Nt,t.__iterateUncached=function(t,n){var i=this;return e.__iterate(function(e,n){return t(n,e,i)!==!1},n)},t.__iteratorUncached=function(t,n){if(t===yn){var i=e.__iterator(t,n);return new S(function(){var e=i.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===Sn?_n:Sn,n)},t}function lt(e,t,n){var i=wt(e);return i.size=e.size,i.has=function(t){return e.has(t)},i.get=function(i,r){var o=e.get(i,gn);return o===gn?r:t.call(n,o,i,e)},i.__iterateUncached=function(i,r){var o=this;return e.__iterate(function(e,r,a){return i(t.call(n,e,r,a),r,o)!==!1},r)},i.__iteratorUncached=function(i,r){var o=e.__iterator(yn,r);return new S(function(){var r=o.next();if(r.done)return r;var a=r.value,s=a[0];return y(i,s,t.call(n,a[1],s,e),r)})},i}function ut(e,t){var n=wt(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=st(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,i){return e.get(t?n:-1-n,i)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=Nt,n.__iterate=function(t,n){var i=this;return e.__iterate(function(e,n){return t(e,n,i)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function ct(e,t,n,i){var r=wt(e);return i&&(r.has=function(i){var r=e.get(i,gn);return r!==gn&&!!t.call(n,r,i,e)},r.get=function(i,r){var o=e.get(i,gn);return o!==gn&&t.call(n,o,i,e)?o:r}),r.__iterateUncached=function(r,o){var a=this,s=0;return e.__iterate(function(e,o,l){return t.call(n,e,o,l)?(s++,r(e,i?o:s-1,a)):void 0},o),s},r.__iteratorUncached=function(r,o){var a=e.__iterator(yn,o),s=0;return new S(function(){for(;;){var o=a.next();if(o.done)return o;var l=o.value,u=l[0],c=l[1];if(t.call(n,c,u,e))return y(r,i?u:s++,c,o)}})},r}function At(e,t,n){var i=Ae().asMutable();return e.__iterate(function(r,o){i.update(t.call(n,r,o,e),0,function(e){return e+1})}),i.asImmutable()}function dt(e,t,n){var i=a(e),r=(u(e)?Xe():Ae()).asMutable();e.__iterate(function(o,a){r.update(t.call(n,o,a,e),function(e){return e=e||[],e.push(i?[a,o]:o),e})});var o=Ot(e);return r.map(function(t){return Ct(e,o(t))})}function ht(e,t,n,i){var r=e.size;if(void 0!==t&&(t=0|t),void 0!==n&&(n=0|n),g(t,n,r))return e;var o=v(t,r),a=E(n,r);if(o!==o||a!==a)return ht(e.toSeq().cacheResult(),t,n,i);var s,l=a-o;l===l&&(s=0>l?0:l);var u=wt(e);return u.size=0===s?s:e.size&&s||void 0,!i&&B(e)&&s>=0&&(u.get=function(t,n){return t=f(this,t),t>=0&&s>t?e.get(t+o,n):n}),u.__iterateUncached=function(t,n){var r=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,l=!0,u=0;return e.__iterate(function(e,n){return l&&(l=a++<o)?void 0:(u++,t(e,i?n:u-1,r)!==!1&&u!==s)}),u},u.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var r=0!==s&&e.__iterator(t,n),a=0,l=0;return new S(function(){for(;a++<o;)r.next();if(++l>s)return b();var e=r.next();return i||t===Sn?e:t===_n?y(t,l-1,void 0,e):y(t,l-1,e.value[1],e)})},u}function pt(e,t,n){var i=wt(e);return i.__iterateUncached=function(i,r){var o=this;if(r)return this.cacheResult().__iterate(i,r);var a=0;return e.__iterate(function(e,r,s){return t.call(n,e,r,s)&&++a&&i(e,r,o)}),a},i.__iteratorUncached=function(i,r){var o=this;if(r)return this.cacheResult().__iterator(i,r);var a=e.__iterator(yn,r),s=!0;return new S(function(){if(!s)return b();var e=a.next();if(e.done)return e;var r=e.value,l=r[0],u=r[1];return t.call(n,u,l,o)?i===yn?e:y(i,l,u,e):(s=!1,b())})},i}function ft(e,t,n,i){var r=wt(e);return r.__iterateUncached=function(r,o){var a=this;if(o)return this.cacheResult().__iterate(r,o);var s=!0,l=0;return e.__iterate(function(e,o,u){return s&&(s=t.call(n,e,o,u))?void 0:(l++,r(e,i?o:l-1,a))}),l},r.__iteratorUncached=function(r,o){var a=this;if(o)return this.cacheResult().__iterator(r,o);var s=e.__iterator(yn,o),l=!0,u=0;return new S(function(){var e,o,c;do{if(e=s.next(),e.done)return i||r===Sn?e:r===_n?y(r,u++,void 0,e):y(r,u++,e.value[1],e);var A=e.value;o=A[0],c=A[1],l&&(l=t.call(n,c,o,a))}while(l);return r===yn?e:y(r,o,c,e)})},r}function mt(e,t){var i=a(e),r=[e].concat(t).map(function(e){return o(e)?i&&(e=n(e)):e=i?U(e):V(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===r.length)return e;if(1===r.length){var l=r[0];if(l===e||i&&a(l)||s(e)&&s(l))return l}var u=new P(r);return i?u=u.toKeyedSeq():s(e)||(u=u.toSetSeq()),u=u.flatten(!0),u.size=r.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),u}function gt(e,t,n){var i=wt(e);return i.__iterateUncached=function(i,r){function a(e,u){var c=this;e.__iterate(function(e,r){return(!t||t>u)&&o(e)?a(e,u+1):i(e,n?r:s++,c)===!1&&(l=!0),!l},r)}var s=0,l=!1;return a(e,0),s},i.__iteratorUncached=function(i,r){var a=e.__iterator(i,r),s=[],l=0;return new S(function(){for(;a;){var e=a.next();if(e.done===!1){var u=e.value;if(i===yn&&(u=u[1]),t&&!(s.length<t)||!o(u))return n?e:y(i,l++,u,e);s.push(a),a=u.__iterator(i,r)}else a=s.pop()}return b()})},i}function vt(e,t,n){var i=Ot(e);return e.toSeq().map(function(r,o){return i(t.call(n,r,o,e))}).flatten(!0)}function Et(e,t){var n=wt(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,i){var r=this,o=0;return e.__iterate(function(e,i){return(!o||n(t,o++,r)!==!1)&&n(e,o++,r)!==!1},i),o},n.__iteratorUncached=function(n,i){var r,o=e.__iterator(Sn,i),a=0;return new S(function(){return(!r||a%2)&&(r=o.next(),r.done)?r:a%2?y(n,a++,t):y(n,a++,r.value,r)})},n}function _t(e,t,n){t||(t=kt);var i=a(e),r=0,o=e.toSeq().map(function(t,i){return[i,t,r++,n?n(t,i,e):t]}).toArray();return o.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(i?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),i?k(o):s(e)?D(o):M(o)}function St(e,t,n){if(t||(t=kt),n){var i=e.toSeq().map(function(t,i){return[t,n(t,i,e)]}).reduce(function(e,n){return yt(t,e[1],n[1])?n:e});return i&&i[0]}return e.reduce(function(e,n){return yt(t,e,n)?n:e})}function yt(e,t,n){var i=e(n,t);return 0===i&&n!==t&&(void 0===n||null===n||n!==n)||i>0}function bt(e,n,i){var r=wt(e);return r.size=new P(i).map(function(e){return e.size}).min(),r.__iterate=function(e,t){for(var n,i=this.__iterator(Sn,t),r=0;!(n=i.next()).done&&e(n.value,r++,this)!==!1;);return r},r.__iteratorUncached=function(e,r){var o=i.map(function(e){return e=t(e),T(r?e.reverse():e)}),a=0,s=!1;return new S(function(){var t;return s||(t=o.map(function(e){return e.next()}),s=t.some(function(e){return e.done})),s?b():y(e,a++,n.apply(null,t.map(function(e){return e.value})))})},r}function Ct(e,t){return B(e)?t:e.constructor(t)}function It(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Tt(e){return ce(e.size),p(e)}function Ot(e){return a(e)?n:s(e)?i:r}function wt(e){return Object.create((a(e)?k:s(e)?D:M).prototype)}function Nt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):N.prototype.cacheResult.call(this)}function kt(e,t){return e>t?1:t>e?-1:0}function Dt(e){var n=T(e);if(!n){if(!w(e))throw new TypeError("Expected iterable or array-like: "+e);n=T(t(e))}return n}function Mt(e,t){var n,i=function(o){if(o instanceof i)return o;if(!(this instanceof i))return new i(o);if(!n){n=!0;var a=Object.keys(e);xt(r,a),r.size=a.length,r._name=t,r._keys=a,r._defaultValues=e}this._map=Ae(o)},r=i.prototype=Object.create(Xn);return r.constructor=i,i}function Pt(e,t,n){var i=Object.create(Object.getPrototypeOf(e));return i._map=t,i.__ownerID=n,i}function Lt(e){return e._name||e.constructor.name||"Record"}function xt(e,t){try{t.forEach(Rt.bind(void 0,e))}catch(n){}}function Rt(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){X(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Bt(e){return null===e||void 0===e?Wt():Ft(e)&&!u(e)?e:Wt().withMutations(function(t){var n=r(e);ce(n.size),n.forEach(function(e){return t.add(e)})})}function Ft(e){return!(!e||!e[$n])}function Ut(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Vt(e,t){var n=Object.create(ei);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Wt(){return ti||(ti=Vt(ye()))}function Ht(e){return null===e||void 0===e?jt():Kt(e)?e:jt().withMutations(function(t){var n=r(e);ce(n.size),n.forEach(function(e){return t.add(e)})})}function Kt(e){return Ft(e)&&u(e)}function Gt(e,t){var n=Object.create(ni);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function jt(){return ii||(ii=Gt(tt()))}function zt(e){return null===e||void 0===e?Yt():Jt(e)?e:Yt().unshiftAll(e)}function Jt(e){return!(!e||!e[ri])}function Qt(e,t,n,i){var r=Object.create(oi);return r.size=e,r._head=t,r.__ownerID=n,r.__hash=i,r.__altered=!1,r}function Yt(){return ai||(ai=Qt(0))}function Zt(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function qt(e,t){return t}function Xt(e,t){return[t,e]}function $t(e){return function(){return!e.apply(this,arguments)}}function en(e){return function(){return-e.apply(this,arguments)}}function tn(e){return"string"==typeof e?JSON.stringify(e):e}function nn(){return h(arguments)}function rn(e,t){return t>e?1:e>t?-1:0}function on(e){if(e.size===1/0)return 0;var t=u(e),n=a(e),i=t?1:0,r=e.__iterate(n?t?function(e,t){i=31*i+sn(oe(e),oe(t))|0}:function(e,t){i=i+sn(oe(e),oe(t))|0}:t?function(e){i=31*i+oe(e)|0}:function(e){i=i+oe(e)|0});return an(r,i)}function an(e,t){return t=Dn(t,3432918353),t=Dn(t<<15|t>>>-15,461845907),t=Dn(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Dn(t^t>>>16,2246822507),t=Dn(t^t>>>13,3266489909),t=re(t^t>>>16)}function sn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var ln=Array.prototype.slice;e(n,t),e(i,t),e(r,t),t.isIterable=o,t.isKeyed=a,t.isIndexed=s,t.isAssociative=l,t.isOrdered=u,t.Keyed=n,t.Indexed=i,t.Set=r;var un="@@__IMMUTABLE_ITERABLE__@@",cn="@@__IMMUTABLE_KEYED__@@",An="@@__IMMUTABLE_INDEXED__@@",dn="@@__IMMUTABLE_ORDERED__@@",hn="delete",pn=5,fn=1<<pn,mn=fn-1,gn={},vn={value:!1},En={value:!1},_n=0,Sn=1,yn=2,bn="function"==typeof Symbol&&Symbol.iterator,Cn="@@iterator",In=bn||Cn;S.prototype.toString=function(){return"[Iterator]"},S.KEYS=_n,S.VALUES=Sn,S.ENTRIES=yn,S.prototype.inspect=S.prototype.toSource=function(){return this.toString()},S.prototype[In]=function(){return this},e(N,t),N.of=function(){return N(arguments)},N.prototype.toSeq=function(){return this},N.prototype.toString=function(){return this.__toString("Seq {","}")},N.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},N.prototype.__iterate=function(e,t){return K(this,e,t,!0)},N.prototype.__iterator=function(e,t){return G(this,e,t,!0)},e(k,N),k.prototype.toKeyedSeq=function(){return this},e(D,N),D.of=function(){return D(arguments)},D.prototype.toIndexedSeq=function(){return this},D.prototype.toString=function(){return this.__toString("Seq [","]")},D.prototype.__iterate=function(e,t){return K(this,e,t,!1)},D.prototype.__iterator=function(e,t){return G(this,e,t,!1)},e(M,N),M.of=function(){return M(arguments)},M.prototype.toSetSeq=function(){return this},N.isSeq=B,N.Keyed=k,N.Set=M,N.Indexed=D;var Tn="@@__IMMUTABLE_SEQ__@@";N.prototype[Tn]=!0,e(P,D),P.prototype.get=function(e,t){return this.has(e)?this._array[f(this,e)]:t},P.prototype.__iterate=function(e,t){for(var n=this._array,i=n.length-1,r=0;i>=r;r++)if(e(n[t?i-r:r],r,this)===!1)return r+1;return r},P.prototype.__iterator=function(e,t){var n=this._array,i=n.length-1,r=0;return new S(function(){return r>i?b():y(e,r,n[t?i-r++:r++])})},e(L,k),L.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},L.prototype.has=function(e){return this._object.hasOwnProperty(e)},L.prototype.__iterate=function(e,t){for(var n=this._object,i=this._keys,r=i.length-1,o=0;r>=o;o++){var a=i[t?r-o:o];if(e(n[a],a,this)===!1)return o+1}return o},L.prototype.__iterator=function(e,t){var n=this._object,i=this._keys,r=i.length-1,o=0;return new S(function(){var a=i[t?r-o:o];return o++>r?b():y(e,a,n[a])})},L.prototype[dn]=!0,e(x,D),x.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,i=T(n),r=0;if(I(i))for(var o;!(o=i.next()).done&&e(o.value,r++,this)!==!1;);return r},x.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,i=T(n);if(!I(i))return new S(b);var r=0;return new S(function(){var t=i.next();return t.done?t:y(e,r++,t.value)})},e(R,D),R.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n=this._iterator,i=this._iteratorCache,r=0;r<i.length;)if(e(i[r],r++,this)===!1)return r;for(var o;!(o=n.next()).done;){var a=o.value;if(i[r]=a,e(a,r++,this)===!1)break}return r},R.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,i=this._iteratorCache,r=0;return new S(function(){if(r>=i.length){var t=n.next();if(t.done)return t;i[r]=t.value}return y(e,r,i[r++])})};var On;e(q,D),q.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},q.prototype.get=function(e,t){return this.has(e)?this._value:t},q.prototype.includes=function(e){return Y(this._value,e)},q.prototype.slice=function(e,t){var n=this.size;return g(e,t,n)?this:new q(this._value,E(t,n)-v(e,n))},q.prototype.reverse=function(){return this},q.prototype.indexOf=function(e){return Y(this._value,e)?0:-1},q.prototype.lastIndexOf=function(e){return Y(this._value,e)?this.size:-1},q.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(e(this._value,n,this)===!1)return n+1;return n},q.prototype.__iterator=function(e,t){var n=this,i=0;return new S(function(){return i<n.size?y(e,i++,n._value):b()})},q.prototype.equals=function(e){return e instanceof q?Y(this._value,e._value):Z(e)};var wn;e($,D),$.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},$.prototype.get=function(e,t){return this.has(e)?this._start+f(this,e)*this._step:t},$.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},$.prototype.slice=function(e,t){return g(e,t,this.size)?this:(e=v(e,this.size),t=E(t,this.size),e>=t?new $(0,0):new $(this.get(e,this._end),this.get(t,this._end),this._step))},$.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},$.prototype.lastIndexOf=function(e){return this.indexOf(e)},$.prototype.__iterate=function(e,t){for(var n=this.size-1,i=this._step,r=t?this._start+n*i:this._start,o=0;n>=o;o++){if(e(r,o,this)===!1)return o+1;r+=t?-i:i}return o},$.prototype.__iterator=function(e,t){var n=this.size-1,i=this._step,r=t?this._start+n*i:this._start,o=0;return new S(function(){var a=r;return r+=t?-i:i,o>n?b():y(e,o++,a)})},$.prototype.equals=function(e){return e instanceof $?this._start===e._start&&this._end===e._end&&this._step===e._step:Z(this,e)};var Nn;e(ee,t),e(te,ee),e(ne,ee),e(ie,ee),ee.Keyed=te,ee.Indexed=ne,ee.Set=ie;var kn,Dn="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){e=0|e,t=0|t;var n=65535&e,i=65535&t;return n*i+((e>>>16)*i+n*(t>>>16)<<16>>>0)|0},Mn=Object.isExtensible,Pn=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),Ln="function"==typeof WeakMap;Ln&&(kn=new WeakMap);var xn=0,Rn="__immutablehash__";"function"==typeof Symbol&&(Rn=Symbol(Rn));var Bn=16,Fn=255,Un=0,Vn={};e(Ae,te),Ae.prototype.toString=function(){return this.__toString("Map {","}")},Ae.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Ae.prototype.set=function(e,t){return be(this,e,t)},Ae.prototype.setIn=function(e,t){return this.updateIn(e,gn,function(){return t})},Ae.prototype.remove=function(e){return be(this,e,gn)},Ae.prototype.deleteIn=function(e){return this.updateIn(e,function(){return gn})},Ae.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Ae.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var i=Le(this,Dt(e),t,n);return i===gn?void 0:i},Ae.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ye()},Ae.prototype.merge=function(){return ke(this,void 0,arguments)},Ae.prototype.mergeWith=function(e){var t=ln.call(arguments,1);return ke(this,e,t)},Ae.prototype.mergeIn=function(e){var t=ln.call(arguments,1);return this.updateIn(e,ye(),function(e){return"function"==typeof e.merge?e.merge.apply(e,t):t[t.length-1]})},Ae.prototype.mergeDeep=function(){return ke(this,De,arguments)},Ae.prototype.mergeDeepWith=function(e){var t=ln.call(arguments,1);return ke(this,Me(e),t)},Ae.prototype.mergeDeepIn=function(e){var t=ln.call(arguments,1);return this.updateIn(e,ye(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,t):t[t.length-1]})},Ae.prototype.sort=function(e){return Xe(_t(this,e))},Ae.prototype.sortBy=function(e,t){return Xe(_t(this,t,e))},Ae.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Ae.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new d)},Ae.prototype.asImmutable=function(){return this.__ensureOwner()},Ae.prototype.wasAltered=function(){return this.__altered},Ae.prototype.__iterator=function(e,t){return new ve(this,e,t)},Ae.prototype.__iterate=function(e,t){var n=this,i=0;return this._root&&this._root.iterate(function(t){return i++,e(t[1],t[0],n)},t),i},Ae.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Se(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Ae.isMap=de;var Wn="@@__IMMUTABLE_MAP__@@",Hn=Ae.prototype;Hn[Wn]=!0,Hn[hn]=Hn.remove,Hn.removeIn=Hn.deleteIn,he.prototype.get=function(e,t,n,i){for(var r=this.entries,o=0,a=r.length;a>o;o++)if(Y(n,r[o][0]))return r[o][1];return i},he.prototype.update=function(e,t,n,i,r,o,a){for(var s=r===gn,l=this.entries,u=0,c=l.length;c>u&&!Y(i,l[u][0]);u++);var d=c>u;if(d?l[u][1]===r:s)return this;if(A(a),(s||!d)&&A(o),!s||1!==l.length){if(!d&&!s&&l.length>=Gn)return Oe(e,l,i,r);var p=e&&e===this.ownerID,f=p?l:h(l);return d?s?u===c-1?f.pop():f[u]=f.pop():f[u]=[i,r]:f.push([i,r]),p?(this.entries=f,this):new he(e,f)}},pe.prototype.get=function(e,t,n,i){void 0===t&&(t=oe(n));var r=1<<((0===e?t:t>>>e)&mn),o=this.bitmap;return 0===(o&r)?i:this.nodes[xe(o&r-1)].get(e+pn,t,n,i)},pe.prototype.update=function(e,t,n,i,r,o,a){void 0===n&&(n=oe(i));var s=(0===t?n:n>>>t)&mn,l=1<<s,u=this.bitmap,c=0!==(u&l);if(!c&&r===gn)return this;var A=xe(u&l-1),d=this.nodes,h=c?d[A]:void 0,p=Ce(h,e,t+pn,n,i,r,o,a);if(p===h)return this;if(!c&&p&&d.length>=jn)return Ne(e,d,u,s,p);if(c&&!p&&2===d.length&&Ie(d[1^A]))return d[1^A];if(c&&p&&1===d.length&&Ie(p))return p;var f=e&&e===this.ownerID,m=c?p?u:u^l:u|l,g=c?p?Re(d,A,p,f):Fe(d,A,f):Be(d,A,p,f);return f?(this.bitmap=m,this.nodes=g,this):new pe(e,m,g)},fe.prototype.get=function(e,t,n,i){void 0===t&&(t=oe(n));var r=(0===e?t:t>>>e)&mn,o=this.nodes[r];return o?o.get(e+pn,t,n,i):i},fe.prototype.update=function(e,t,n,i,r,o,a){void 0===n&&(n=oe(i));var s=(0===t?n:n>>>t)&mn,l=r===gn,u=this.nodes,c=u[s];if(l&&!c)return this;var A=Ce(c,e,t+pn,n,i,r,o,a);if(A===c)return this;var d=this.count;if(c){if(!A&&(d--,zn>d))return we(e,u,d,s)}else d++;var h=e&&e===this.ownerID,p=Re(u,s,A,h);return h?(this.count=d,this.nodes=p,this):new fe(e,d,p)},me.prototype.get=function(e,t,n,i){for(var r=this.entries,o=0,a=r.length;a>o;o++)if(Y(n,r[o][0]))return r[o][1];return i},me.prototype.update=function(e,t,n,i,r,o,a){void 0===n&&(n=oe(i));var s=r===gn;if(n!==this.keyHash)return s?this:(A(a),A(o),Te(this,e,t,n,[i,r]));for(var l=this.entries,u=0,c=l.length;c>u&&!Y(i,l[u][0]);u++);var d=c>u;if(d?l[u][1]===r:s)return this;if(A(a),(s||!d)&&A(o),s&&2===c)return new ge(e,this.keyHash,l[1^u]);var p=e&&e===this.ownerID,f=p?l:h(l);return d?s?u===c-1?f.pop():f[u]=f.pop():f[u]=[i,r]:f.push([i,r]),p?(this.entries=f,this):new me(e,this.keyHash,f)},ge.prototype.get=function(e,t,n,i){return Y(n,this.entry[0])?this.entry[1]:i},ge.prototype.update=function(e,t,n,i,r,o,a){var s=r===gn,l=Y(i,this.entry[0]);return(l?r===this.entry[1]:s)?this:(A(a),s?void A(o):l?e&&e===this.ownerID?(this.entry[1]=r,this):new ge(e,this.keyHash,[i,r]):(A(o),Te(this,e,t,oe(i),[i,r])))},he.prototype.iterate=me.prototype.iterate=function(e,t){for(var n=this.entries,i=0,r=n.length-1;r>=i;i++)if(e(n[t?r-i:i])===!1)return!1},pe.prototype.iterate=fe.prototype.iterate=function(e,t){for(var n=this.nodes,i=0,r=n.length-1;r>=i;i++){var o=n[t?r-i:i];if(o&&o.iterate(e,t)===!1)return!1}},ge.prototype.iterate=function(e,t){return e(this.entry)},e(ve,S),ve.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,i=t.node,r=t.index++;if(i.entry){if(0===r)return Ee(e,i.entry)}else if(i.entries){if(n=i.entries.length-1,n>=r)return Ee(e,i.entries[this._reverse?n-r:r])}else if(n=i.nodes.length-1,n>=r){var o=i.nodes[this._reverse?n-r:r];if(o){if(o.entry)return Ee(e,o.entry);t=this._stack=_e(o,t)}continue}t=this._stack=this._stack.__prev}return b()};var Kn,Gn=fn/4,jn=fn/2,zn=fn/4;e(Ue,ne),Ue.of=function(){return this(arguments)},Ue.prototype.toString=function(){return this.__toString("List [","]")},Ue.prototype.get=function(e,t){if(e=f(this,e),e>=0&&e<this.size){e+=this._origin;var n=Qe(this,e);return n&&n.array[e&mn]}return t},Ue.prototype.set=function(e,t){return je(this,e,t)},Ue.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},Ue.prototype.insert=function(e,t){return this.splice(e,0,t)},Ue.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=pn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Ge()},Ue.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){Ye(n,0,t+e.length);for(var i=0;i<e.length;i++)n.set(t+i,e[i])})},Ue.prototype.pop=function(){return Ye(this,0,-1)},Ue.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){Ye(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},Ue.prototype.shift=function(){return Ye(this,1)},Ue.prototype.merge=function(){return Ze(this,void 0,arguments)},Ue.prototype.mergeWith=function(e){var t=ln.call(arguments,1);return Ze(this,e,t)},Ue.prototype.mergeDeep=function(){return Ze(this,De,arguments)},Ue.prototype.mergeDeepWith=function(e){var t=ln.call(arguments,1);return Ze(this,Me(e),t)},Ue.prototype.setSize=function(e){return Ye(this,0,e)},Ue.prototype.slice=function(e,t){var n=this.size;return g(e,t,n)?this:Ye(this,v(e,n),E(t,n))},Ue.prototype.__iterator=function(e,t){var n=0,i=He(this,t);return new S(function(){var t=i();return t===Zn?b():y(e,n++,t)})},Ue.prototype.__iterate=function(e,t){for(var n,i=0,r=He(this,t);(n=r())!==Zn&&e(n,i++,this)!==!1;);return i},Ue.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ke(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},Ue.isList=Ve;var Jn="@@__IMMUTABLE_LIST__@@",Qn=Ue.prototype;Qn[Jn]=!0,Qn[hn]=Qn.remove,Qn.setIn=Hn.setIn,Qn.deleteIn=Qn.removeIn=Hn.removeIn,Qn.update=Hn.update,Qn.updateIn=Hn.updateIn,Qn.mergeIn=Hn.mergeIn,Qn.mergeDeepIn=Hn.mergeDeepIn,Qn.withMutations=Hn.withMutations,Qn.asMutable=Hn.asMutable,Qn.asImmutable=Hn.asImmutable,Qn.wasAltered=Hn.wasAltered,We.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var i=n>>>t&mn;if(i>=this.array.length)return new We([],e);var r,o=0===i;if(t>0){var a=this.array[i];if(r=a&&a.removeBefore(e,t-pn,n),r===a&&o)return this}if(o&&!r)return this;var s=Je(this,e);if(!o)for(var l=0;i>l;l++)s.array[l]=void 0;return r&&(s.array[i]=r),s},We.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var i=n-1>>>t&mn;if(i>=this.array.length)return this;var r;if(t>0){var o=this.array[i];if(r=o&&o.removeAfter(e,t-pn,n),r===o&&i===this.array.length-1)return this}var a=Je(this,e);return a.array.splice(i+1),r&&(a.array[i]=r),a};var Yn,Zn={};e(Xe,Ae),Xe.of=function(){return this(arguments)},Xe.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Xe.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t;
},Xe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):tt()},Xe.prototype.set=function(e,t){return nt(this,e,t)},Xe.prototype.remove=function(e){return nt(this,e,gn)},Xe.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Xe.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},Xe.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Xe.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?et(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Xe.isOrderedMap=$e,Xe.prototype[dn]=!0,Xe.prototype[hn]=Xe.prototype.remove;var qn;e(it,k),it.prototype.get=function(e,t){return this._iter.get(e,t)},it.prototype.has=function(e){return this._iter.has(e)},it.prototype.valueSeq=function(){return this._iter.valueSeq()},it.prototype.reverse=function(){var e=this,t=ut(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},it.prototype.map=function(e,t){var n=this,i=lt(this,e,t);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().map(e,t)}),i},it.prototype.__iterate=function(e,t){var n,i=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,i)}:(n=t?Tt(this):0,function(r){return e(r,t?--n:n++,i)}),t)},it.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(Sn,t),i=t?Tt(this):0;return new S(function(){var r=n.next();return r.done?r:y(e,t?--i:i++,r.value,r)})},it.prototype[dn]=!0,e(rt,D),rt.prototype.includes=function(e){return this._iter.includes(e)},rt.prototype.__iterate=function(e,t){var n=this,i=0;return this._iter.__iterate(function(t){return e(t,i++,n)},t)},rt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(Sn,t),i=0;return new S(function(){var t=n.next();return t.done?t:y(e,i++,t.value,t)})},e(ot,M),ot.prototype.has=function(e){return this._iter.includes(e)},ot.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},ot.prototype.__iterator=function(e,t){var n=this._iter.__iterator(Sn,t);return new S(function(){var t=n.next();return t.done?t:y(e,t.value,t.value,t)})},e(at,k),at.prototype.entrySeq=function(){return this._iter.toSeq()},at.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){It(t);var i=o(t);return e(i?t.get(1):t[1],i?t.get(0):t[0],n)}},t)},at.prototype.__iterator=function(e,t){var n=this._iter.__iterator(Sn,t);return new S(function(){for(;;){var t=n.next();if(t.done)return t;var i=t.value;if(i){It(i);var r=o(i);return y(e,r?i.get(0):i[0],r?i.get(1):i[1],t)}}})},rt.prototype.cacheResult=it.prototype.cacheResult=ot.prototype.cacheResult=at.prototype.cacheResult=Nt,e(Mt,te),Mt.prototype.toString=function(){return this.__toString(Lt(this)+" {","}")},Mt.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},Mt.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},Mt.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Pt(this,ye()))},Mt.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Lt(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:Pt(this,n)},Mt.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Pt(this,t)},Mt.prototype.wasAltered=function(){return this._map.wasAltered()},Mt.prototype.__iterator=function(e,t){var i=this;return n(this._defaultValues).map(function(e,t){return i.get(t)}).__iterator(e,t)},Mt.prototype.__iterate=function(e,t){var i=this;return n(this._defaultValues).map(function(e,t){return i.get(t)}).__iterate(e,t)},Mt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Pt(this,t,e):(this.__ownerID=e,this._map=t,this)};var Xn=Mt.prototype;Xn[hn]=Xn.remove,Xn.deleteIn=Xn.removeIn=Hn.removeIn,Xn.merge=Hn.merge,Xn.mergeWith=Hn.mergeWith,Xn.mergeIn=Hn.mergeIn,Xn.mergeDeep=Hn.mergeDeep,Xn.mergeDeepWith=Hn.mergeDeepWith,Xn.mergeDeepIn=Hn.mergeDeepIn,Xn.setIn=Hn.setIn,Xn.update=Hn.update,Xn.updateIn=Hn.updateIn,Xn.withMutations=Hn.withMutations,Xn.asMutable=Hn.asMutable,Xn.asImmutable=Hn.asImmutable,e(Bt,ie),Bt.of=function(){return this(arguments)},Bt.fromKeys=function(e){return this(n(e).keySeq())},Bt.prototype.toString=function(){return this.__toString("Set {","}")},Bt.prototype.has=function(e){return this._map.has(e)},Bt.prototype.add=function(e){return Ut(this,this._map.set(e,!0))},Bt.prototype.remove=function(e){return Ut(this,this._map.remove(e))},Bt.prototype.clear=function(){return Ut(this,this._map.clear())},Bt.prototype.union=function(){var e=ln.call(arguments,0);return e=e.filter(function(e){return 0!==e.size}),0===e.length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var n=0;n<e.length;n++)r(e[n]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},Bt.prototype.intersect=function(){var e=ln.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return r(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.every(function(e){return e.includes(t)})||n.remove(t)})})},Bt.prototype.subtract=function(){var e=ln.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return r(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.some(function(e){return e.includes(t)})&&n.remove(t)})})},Bt.prototype.merge=function(){return this.union.apply(this,arguments)},Bt.prototype.mergeWith=function(e){var t=ln.call(arguments,1);return this.union.apply(this,t)},Bt.prototype.sort=function(e){return Ht(_t(this,e))},Bt.prototype.sortBy=function(e,t){return Ht(_t(this,t,e))},Bt.prototype.wasAltered=function(){return this._map.wasAltered()},Bt.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,i){return e(i,i,n)},t)},Bt.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},Bt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},Bt.isSet=Ft;var $n="@@__IMMUTABLE_SET__@@",ei=Bt.prototype;ei[$n]=!0,ei[hn]=ei.remove,ei.mergeDeep=ei.merge,ei.mergeDeepWith=ei.mergeWith,ei.withMutations=Hn.withMutations,ei.asMutable=Hn.asMutable,ei.asImmutable=Hn.asImmutable,ei.__empty=Wt,ei.__make=Vt;var ti;e(Ht,Bt),Ht.of=function(){return this(arguments)},Ht.fromKeys=function(e){return this(n(e).keySeq())},Ht.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ht.isOrderedSet=Kt;var ni=Ht.prototype;ni[dn]=!0,ni.__empty=jt,ni.__make=Gt;var ii;e(zt,ne),zt.of=function(){return this(arguments)},zt.prototype.toString=function(){return this.__toString("Stack [","]")},zt.prototype.get=function(e,t){var n=this._head;for(e=f(this,e);n&&e--;)n=n.next;return n?n.value:t},zt.prototype.peek=function(){return this._head&&this._head.value},zt.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Qt(e,t)},zt.prototype.pushAll=function(e){if(e=i(e),0===e.size)return this;ce(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Qt(t,n)},zt.prototype.pop=function(){return this.slice(1)},zt.prototype.unshift=function(){return this.push.apply(this,arguments)},zt.prototype.unshiftAll=function(e){return this.pushAll(e)},zt.prototype.shift=function(){return this.pop.apply(this,arguments)},zt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Yt()},zt.prototype.slice=function(e,t){if(g(e,t,this.size))return this;var n=v(e,this.size),i=E(t,this.size);if(i!==this.size)return ne.prototype.slice.call(this,e,t);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):Qt(r,o)},zt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Qt(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},zt.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,i=this._head;i&&e(i.value,n++,this)!==!1;)i=i.next;return n},zt.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,i=this._head;return new S(function(){if(i){var t=i.value;return i=i.next,y(e,n++,t)}return b()})},zt.isStack=Jt;var ri="@@__IMMUTABLE_STACK__@@",oi=zt.prototype;oi[ri]=!0,oi.withMutations=Hn.withMutations,oi.asMutable=Hn.asMutable,oi.asImmutable=Hn.asImmutable,oi.wasAltered=Hn.wasAltered;var ai;t.Iterator=S,Zt(t,{toArray:function(){ce(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new rt(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new it(this,!0)},toMap:function(){return Ae(this.toKeyedSeq())},toObject:function(){ce(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return Xe(this.toKeyedSeq())},toOrderedSet:function(){return Ht(a(this)?this.valueSeq():this)},toSet:function(){return Bt(a(this)?this.valueSeq():this)},toSetSeq:function(){return new ot(this)},toSeq:function(){return s(this)?this.toIndexedSeq():a(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return zt(a(this)?this.valueSeq():this)},toList:function(){return Ue(a(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var e=ln.call(arguments,0);return Ct(this,mt(this,e))},includes:function(e){return this.some(function(t){return Y(t,e)})},entries:function(){return this.__iterator(yn)},every:function(e,t){ce(this.size);var n=!0;return this.__iterate(function(i,r,o){return e.call(t,i,r,o)?void 0:(n=!1,!1)}),n},filter:function(e,t){return Ct(this,ct(this,e,t,!0))},find:function(e,t,n){var i=this.findEntry(e,t);return i?i[1]:n},findEntry:function(e,t){var n;return this.__iterate(function(i,r,o){return e.call(t,i,r,o)?(n=[r,i],!1):void 0}),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return ce(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){ce(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(i){n?n=!1:t+=e,t+=null!==i&&void 0!==i?i.toString():""}),t},keys:function(){return this.__iterator(_n)},map:function(e,t){return Ct(this,lt(this,e,t))},reduce:function(e,t,n){ce(this.size);var i,r;return arguments.length<2?r=!0:i=t,this.__iterate(function(t,o,a){r?(r=!1,i=t):i=e.call(n,i,t,o,a)}),i},reduceRight:function(e,t,n){var i=this.toKeyedSeq().reverse();return i.reduce.apply(i,arguments)},reverse:function(){return Ct(this,ut(this,!0))},slice:function(e,t){return Ct(this,ht(this,e,t,!0))},some:function(e,t){return!this.every($t(e),t)},sort:function(e){return Ct(this,_t(this,e))},values:function(){return this.__iterator(Sn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return p(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return At(this,e,t)},equals:function(e){return Z(this,e)},entrySeq:function(){var e=this;if(e._cache)return new P(e._cache);var t=e.toSeq().map(Xt).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter($t(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(m)},flatMap:function(e,t){return Ct(this,vt(this,e,t))},flatten:function(e){return Ct(this,gt(this,e,!0))},fromEntrySeq:function(){return new at(this)},get:function(e,t){return this.find(function(t,n){return Y(n,e)},void 0,t)},getIn:function(e,t){for(var n,i=this,r=Dt(e);!(n=r.next()).done;){var o=n.value;if(i=i&&i.get?i.get(o,gn):gn,i===gn)return t}return i},groupBy:function(e,t){return dt(this,e,t)},has:function(e){return this.get(e,gn)!==gn},hasIn:function(e){return this.getIn(e,gn)!==gn},isSubset:function(e){return e="function"==typeof e.includes?e:t(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return e="function"==typeof e.isSubset?e:t(e),e.isSubset(this)},keySeq:function(){return this.toSeq().map(qt).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return St(this,e)},maxBy:function(e,t){return St(this,t,e)},min:function(e){return St(this,e?en(e):rn)},minBy:function(e,t){return St(this,t?en(t):rn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Ct(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Ct(this,ft(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile($t(e),t)},sortBy:function(e,t){return Ct(this,_t(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Ct(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Ct(this,pt(this,e,t))},takeUntil:function(e,t){return this.takeWhile($t(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=on(this))}});var si=t.prototype;si[un]=!0,si[In]=si.values,si.__toJS=si.toArray,si.__toStringMapper=tn,si.inspect=si.toSource=function(){return this.toString()},si.chain=si.flatMap,si.contains=si.includes,function(){try{Object.defineProperty(si,"length",{get:function(){if(!t.noLengthWarning){var e;try{throw new Error}catch(n){e=n.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Zt(n,{flip:function(){return Ct(this,st(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey(function(t){return Y(t,e)})},lastKeyOf:function(e){return this.findLastKey(function(t){return Y(t,e)})},mapEntries:function(e,t){var n=this,i=0;return Ct(this,this.toSeq().map(function(r,o){return e.call(t,[o,r],i++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Ct(this,this.toSeq().flip().map(function(i,r){return e.call(t,i,r,n)}).flip())}});var li=n.prototype;li[cn]=!0,li[In]=si.entries,li.__toJS=si.toObject,li.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+tn(e)},Zt(i,{toKeyedSeq:function(){return new it(this,!1)},filter:function(e,t){return Ct(this,ct(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return Ct(this,ut(this,!1))},slice:function(e,t){return Ct(this,ht(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=v(e,0>e?this.count():this.size);var i=this.slice(0,e);return Ct(this,1===n?i:i.concat(h(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return Ct(this,gt(this,e,!1))},get:function(e,t){return e=f(this,e),0>e||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return e=f(this,e),e>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Ct(this,Et(this,e))},interleave:function(){var e=[this].concat(h(arguments)),t=bt(this.toSeq(),D.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Ct(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Ct(this,ft(this,e,t,!1))},zip:function(){var e=[this].concat(h(arguments));return Ct(this,bt(this,nn,e))},zipWith:function(e){var t=h(arguments);return t[0]=this,Ct(this,bt(this,e,t))}}),i.prototype[An]=!0,i.prototype[dn]=!0,Zt(r,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),r.prototype.has=si.includes,Zt(k,n.prototype),Zt(D,i.prototype),Zt(M,r.prototype),Zt(te,n.prototype),Zt(ne,i.prototype),Zt(ie,r.prototype);var ui={Iterable:t,Seq:N,Collection:ee,Map:Ae,OrderedMap:Xe,List:Ue,Stack:zt,Set:Bt,OrderedSet:Ht,Record:Mt,Range:$,Repeat:q,is:Y,fromJS:j};return ui})},function(e,t,n){"use strict";function i(e,t){for(var n=Math.min(e.length,t.length),i=0;n>i;i++)if(e.charAt(i)!==t.charAt(i))return i;return e.length===t.length?-1:n}function r(e){return e?e.nodeType===H?e.documentElement:e.firstChild:null}function o(e){var t=r(e);return t&&Z.getID(t)}function a(e){var t=s(e);if(t)if(V.hasOwnProperty(t)){var n=V[t];n!==e&&(A(n,t)?R(!1):void 0,V[t]=e)}else V[t]=e;return t}function s(e){return e&&e.getAttribute&&e.getAttribute(U)||""}function l(e,t){var n=s(e);n!==t&&delete V[n],e.setAttribute(U,t),V[t]=e}function u(e){return V.hasOwnProperty(e)&&A(V[e],e)||(V[e]=Z.findReactNodeByID(e)),V[e]}function c(e){var t=T.get(e)._rootNodeID;return C.isNullComponentID(t)?null:(V.hasOwnProperty(t)&&A(V[t],t)||(V[t]=Z.findReactNodeByID(t)),V[t])}function A(e,t){if(e){s(e)!==t?R(!1):void 0;var n=Z.findReactContainerForID(t);if(n&&L(n,e))return!0}return!1}function d(e){delete V[e]}function h(e){var t=V[e];return t&&A(t,e)?void(Q=t):!1}function p(e){Q=null,I.traverseAncestors(e,h);var t=Q;return Q=null,t}function f(e,t,n,i,r,o){y.useCreateElement&&(o=M({},o),n.nodeType===H?o[G]=n:o[G]=n.ownerDocument);var a=N.mountComponent(e,t,i,o);e._renderedComponent._topLevelWrapper=e,Z._mountImageIntoNode(a,n,r,i)}function m(e,t,n,i,r){var o=D.ReactReconcileTransaction.getPooled(i);o.perform(f,null,e,t,n,o,i,r),D.ReactReconcileTransaction.release(o)}function g(e,t){for(N.unmountComponent(e),t.nodeType===H&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function v(e){var t=o(e);return t?t!==I.getReactRootIDFromNodeID(t):!1}function E(e){for(;e&&e.parentNode!==e;e=e.parentNode)if(1===e.nodeType){var t=s(e);if(t){var n,i=I.getReactRootIDFromNodeID(t),r=e;do if(n=s(r),r=r.parentNode,null==r)return null;while(n!==i);if(r===z[i])return e}}return null}var _=n(67),S=n(102),y=(n(44),n(220)),b=n(32),C=n(227),I=n(68),T=n(86),O=n(230),w=n(37),N=n(55),k=n(138),D=n(38),M=n(15),P=n(88),L=n(244),x=n(145),R=n(13),B=n(109),F=n(148),U=(n(150),n(18),_.ID_ATTRIBUTE_NAME),V={},W=1,H=9,K=11,G="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),j={},z={},J=[],Q=null,Y=function(){};Y.prototype.isReactComponent={},Y.prototype.render=function(){return this.props};var Z={TopLevelWrapper:Y,_instancesByReactRootID:j,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,i){return Z.scrollMonitor(n,function(){k.enqueueElementInternal(e,t),i&&k.enqueueCallbackInternal(e,i)}),e},_registerComponent:function(e,t){!t||t.nodeType!==W&&t.nodeType!==H&&t.nodeType!==K?R(!1):void 0,S.ensureScrollValueMonitoring();var n=Z.registerContainer(t);return j[n]=e,n},_renderNewRootComponent:function(e,t,n,i){var r=x(e,null),o=Z._registerComponent(r,t);return D.batchedUpdates(m,r,o,t,n,i),r},renderSubtreeIntoContainer:function(e,t,n,i){return null==e||null==e._reactInternalInstance?R(!1):void 0,Z._renderSubtreeIntoContainer(e,t,n,i)},_renderSubtreeIntoContainer:function(e,t,n,i){b.isValidElement(t)?void 0:R(!1);var a=new b(Y,null,null,null,null,null,t),l=j[o(n)];if(l){var u=l._currentElement,c=u.props;if(F(c,t)){var A=l._renderedComponent.getPublicInstance(),d=i&&function(){i.call(A)};return Z._updateRootComponent(l,a,n,d),A}Z.unmountComponentAtNode(n)}var h=r(n),p=h&&!!s(h),f=v(n),m=p&&!l&&!f,g=Z._renderNewRootComponent(a,n,m,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):P)._renderedComponent.getPublicInstance();return i&&i.call(g),g},render:function(e,t,n){return Z._renderSubtreeIntoContainer(null,e,t,n)},registerContainer:function(e){var t=o(e);return t&&(t=I.getReactRootIDFromNodeID(t)),t||(t=I.createReactRootID()),z[t]=e,t},unmountComponentAtNode:function(e){!e||e.nodeType!==W&&e.nodeType!==H&&e.nodeType!==K?R(!1):void 0;var t=o(e),n=j[t];if(!n){var i=(v(e),s(e));i&&i===I.getReactRootIDFromNodeID(i);return!1}return D.batchedUpdates(g,n,e),delete j[t],delete z[t],!0},findReactContainerForID:function(e){var t=I.getReactRootIDFromNodeID(e),n=z[t];return n},findReactNodeByID:function(e){var t=Z.findReactContainerForID(e);return Z.findComponentRoot(t,e)},getFirstReactDOM:function(e){return E(e)},findComponentRoot:function(e,t){var n=J,i=0,r=p(t)||e;for(n[0]=r.firstChild,n.length=1;i<n.length;){for(var o,a=n[i++];a;){var s=Z.getID(a);s?t===s?o=a:I.isAncestorIDOf(s,t)&&(n.length=i=0,n.push(a.firstChild)):n.push(a.firstChild),a=a.nextSibling}if(o)return n.length=0,o}n.length=0,R(!1)},_mountImageIntoNode:function(e,t,n,o){if(!t||t.nodeType!==W&&t.nodeType!==H&&t.nodeType!==K?R(!1):void 0,n){var a=r(t);if(O.canReuseMarkup(e,a))return;var s=a.getAttribute(O.CHECKSUM_ATTR_NAME);a.removeAttribute(O.CHECKSUM_ATTR_NAME);var l=a.outerHTML;a.setAttribute(O.CHECKSUM_ATTR_NAME,s);var u=e,c=i(u,l);" (client) "+u.substring(c-20,c+20)+"\n (server) "+l.substring(c-20,c+20);t.nodeType===H?R(!1):void 0}if(t.nodeType===H?R(!1):void 0,o.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);t.appendChild(e)}else B(t,e)},ownerDocumentContextKey:G,getReactRootID:o,getID:a,setID:l,getNode:u,getNodeFromInstance:c,isValid:A,purgeID:d};w.measureMethods(Z,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),e.exports=Z},function(e,t,n){var i,r,o;!function(a,s){r=[n(12)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(this,function(e){"use strict";var t=[],n=[],i="ignore-react-onclickoutside",r=function(e,t){return e===t?!0:e.correspondingElement?e.correspondingElement.classList.contains(i):e.classList.contains(i)};return{componentDidMount:function(){if("function"!=typeof this.handleClickOutside)throw new Error("Component lacks a handleClickOutside(event) function for processing outside click events.");var i=this.__outsideClickHandler=function(e,t){return function(n){n.stopPropagation();for(var i=n.target,o=!1;i.parentNode;){if(o=r(i,e))return;i=i.parentNode}t(n)}}(e.findDOMNode(this),this.handleClickOutside),o=t.length;t.push(this),n[o]=i,this.props.disableOnClickOutside||this.enableOnClickOutside()},componentWillUnmount:function(){this.disableOnClickOutside(),this.__outsideClickHandler=!1;var e=t.indexOf(this);e>-1&&n[e]&&(n.splice(e,1),t.splice(e,1))},enableOnClickOutside:function(){var e=this.__outsideClickHandler;document.addEventListener("mousedown",e),document.addEventListener("touchstart",e)},disableOnClickOutside:function(){var e=this.__outsideClickHandler;document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}})},function(e,t,n){"use strict";var i=n(44),r=n(15),o=(n(107),"function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103),a={key:!0,ref:!0,__self:!0,__source:!0},s=function(e,t,n,i,r,a,s){var l={$$typeof:o,type:e,key:t,ref:n,props:s,_owner:a};return l};s.createElement=function(e,t,n){var r,o={},l=null,u=null,c=null,A=null;if(null!=t){u=void 0===t.ref?null:t.ref,l=void 0===t.key?null:""+t.key,c=void 0===t.__self?null:t.__self,A=void 0===t.__source?null:t.__source;for(r in t)t.hasOwnProperty(r)&&!a.hasOwnProperty(r)&&(o[r]=t[r])}var d=arguments.length-2;if(1===d)o.children=n;else if(d>1){for(var h=Array(d),p=0;d>p;p++)h[p]=arguments[p+2];o.children=h}if(e&&e.defaultProps){var f=e.defaultProps;for(r in f)"undefined"==typeof o[r]&&(o[r]=f[r])}return s(e,l,u,c,A,i.current,o)},s.createFactory=function(e){var t=s.createElement.bind(null,e);return t.type=e,t},s.cloneAndReplaceKey=function(e,t){var n=s(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},s.cloneAndReplaceProps=function(e,t){var n=s(e.type,e.key,e.ref,e._self,e._source,e._owner,t);return n},s.cloneElement=function(e,t,n){var o,l=r({},e.props),u=e.key,c=e.ref,A=e._self,d=e._source,h=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,h=i.current),void 0!==t.key&&(u=""+t.key);for(o in t)t.hasOwnProperty(o)&&!a.hasOwnProperty(o)&&(l[o]=t[o])}var p=arguments.length-2;if(1===p)l.children=n;else if(p>1){for(var f=Array(p),m=0;p>m;m++)f[m]=arguments[m+2];l.children=f}return s(e.type,u,c,A,d,h,l)},s.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},e.exports=s},function(e,t,n){"use strict";var i=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(8),o=n(5),a=n(4),s=n(19),l=n(20),u=l.urls,c=n(3),A=!1,d={loadPromise:function(){return new Promise(function(e,t){c.bookmarks.getTree(function(t){var n=a.getSync("BOOKMARKS_BAR_FOLDER_IDS"),s=i(n,1),l=s[0];r.handleViewAction({actionType:o.BOOKMARKS_LOAD,bookmarks:t,bookmarkFolderId:l}),e()})})},setBookmarkBarFolderAndToggleVisibility:function(e){a.get(["BOOKMARK_BAR_VISIBLE","BOOKMARKS_BAR_FOLDER_IDS"],function(t){t.BOOKMARKS_BAR_FOLDER_IDS[0]===e?a.set({BOOKMARK_BAR_VISIBLE:!t.BOOKMARK_BAR_VISIBLE}):a.set({BOOKMARKS_BAR_FOLDER_IDS:[e],BOOKMARK_BAR_VISIBLE:!0})})},setBookmarkBarFolderAndShow:function(e){a.get(["BOOKMARK_BAR_VISIBLE","BOOKMARKS_BAR_FOLDER_IDS"],function(t){t.BOOKMARKS_BAR_FOLDER_IDS[0]===e?a.set({BOOKMARK_BAR_VISIBLE:!0}):a.set({BOOKMARKS_BAR_FOLDER_IDS:[e],BOOKMARK_BAR_VISIBLE:!0})})},setBookmarkBarFolder:function(e){a.set({BOOKMARKS_BAR_FOLDER_IDS:[e]})},setBookmarkBarFolderId:function(e){r.handleViewAction({actionType:o.BOOKMARKS_BOOKMARK_BAR_CONFIG_ACTION,folderId:e})},bookmarkAllOpenPages:function(){s.getPages().forEach(function(e){return d.bookmarkPage({url:e.get("url"),title:u.getDisplayTitle(e)})})},bookmarkPageInFolder:function(e,t){d.bookmarkPage({parentId:t,url:e.get("url"),title:u.getDisplayTitle(e)})},disableBookmarkMutationHandlers:function(){A=!0},enableBookmarkMutationHandlers:function(){A=!1,d.loadPromise()},bookmarkPage:function(e){r.handleViewAction({actionType:o.BOOKMARKS_CREATE_BOOKMARK,obj:e})}};a.addListener("BOOKMARKS_BAR_FOLDER_IDS",function(e,t,n){var r=i(t,1),o=r[0];d.setBookmarkBarFolderId(o)}),c.bookmarks.onImportBegan.addListener(d.disableBookmarkMutationHandlers),c.bookmarks.onImportEnded.addListener(d.enableBookmarkMutationHandlers);var h={onChanged:o.CHROME_BOOKMARKS_CHANGED,onCreated:o.CHROME_BOOKMARKS_CREATED,onRemoved:o.CHROME_BOOKMARKS_REMOVED,onMoved:o.CHROME_BOOKMARKS_MOVED,onChildrenReordered:o.CHROME_BOOKMARKS_REORDERED};Object.keys(h).forEach(function(e){return c.bookmarks[e].addListener(function(){A||d.loadPromise()})}),e.exports=d},function(e,t,n){"use strict";function i(e){return e.replace(/.*?:\/\//g,"")}var r=n(27),o=["vivaldi:","chrome:","chrome-extension:"],a=function(e){var t=r.parse(e);return null!==t.protocol&&null!==t.slashes||(t=r.parse("http://"+e)),t.format(t)},s=function(e){var t=r.parse(e);return!!(t.protocol&&t.host&&t.slashes)},l=function(e){return"string"==typeof e?(e=e.toLowerCase(),!(0===e.indexOf("http://")||0===e.indexOf("https://")||0===e.indexOf("chrome://")||0===e.indexOf("vivaldi:")||0===e.indexOf("chrome-extension://")||0===e.indexOf("about:")||0===e.indexOf("file://")||0===e.indexOf("ftp://")||0===e.indexOf("view-source:"))):!0},u=function(e){var t=r.parse(e);return o.some(function(e){return-1!==e.indexOf(t.protocol)})},c=function(e){return-1!==e.indexOf("https://chrome.google.com/webstore")||-1!==e.indexOf("https://vivaldi.net/?welcome=1")?!0:void 0},A=function(e){var t="chrome-extension://mpognobbkildjkofajifpdfhcoklimli/";return e.substr(0,t.length)===t?e="http://"+e.substr(t.length,e.length):e.match(/^[a-zA-Z]+:\/\//)||(e="http://"+e),e},d=function(e){return"string"==typeof e&&e.length>0&&(e.indexOf(" ")<0&&e.indexOf(".")>0||e.match(/^localhost/))?!(e.length-e.lastIndexOf(".")-1<=1):!1};t.ensureURLProtocol=a,t.isValidURL=s,t.hasUnknownProtocol=l,t.isInternalURL=u,t.isIgnoredURL=c,t.fixLink=A,t.isUrlNavigable=d,t.removeProtocol=i},function(e,t,n){"use strict";var i=n(8),r=n(5),o=n(122),a=n(47),s={doAction:function(e){i.handleViewAction({actionType:r.WEBPAGEVIEW_ACTIONS,action:e,page:o.getCurrentPage()})},findInPage:function(e,t,n,i){var r={findNext:!1,matchCase:n||!1};i&&i.find(t,r,this._findCallback.bind(this,e,t,n))},findNextInPage:function(e,t,n,i,r){var o={findNext:!0,backward:n||!1,matchCase:i||!1};r&&r.find(t,o,this._findCallback.bind(this,e,t,i))},_findCallback:function(e,t,n,o){o.canceled!==!0&&i.handleViewAction(Object.assign({actionType:r.FIND_IN_PAGE_RESULT_ACTION,searchText:t,matchCase:n,page:e},o))},showFindInPageToolbar:function(e){i.handleViewAction({actionType:r.SHOW_FIND_IN_PAGE_ACTION,page:e})},closeFindInPageToolbar:function(e){a.isFindInPageOpen(e)===!0&&i.handleViewAction({actionType:r.CLOSE_FIND_IN_PAGE_ACTION,page:e})},go:function(e){i.handleViewAction({actionType:r.PAGE_GO,index:e?e:0})},back:function(){i.handleViewAction({actionType:r.PAGE_BACK})},forward:function(){i.handleViewAction({actionType:r.PAGE_FORWARD})},stop:function(){i.handleViewAction({actionType:r.PAGE_STOP})},reload:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];i.handleViewAction({actionType:r.PAGE_RELOAD,bypassCache:e})},updated:function(e){i.handleViewAction({actionType:r.PAGE_UPDATED,page:e})},discardPage:function(e){i.handleViewAction({actionType:r.PAGE_DISCARD,page:e})}};e.exports=s},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t,n){for(var i=n.length-1;i>=0;i--)if(n[i].items)r(e,t,n[i].items);else if(n[i].commandName===e){t&&t.shortcut?n[i].shortcut=t.shortcut[0]:delete n[i].shortcut;break}}function o(e){for(var t=0;t<e.length;t++)a(e[t].command,e[t].value)}function a(e,t){R[e]=t,r(e,t,B.getMenuItems())}function s(e,t){return function(n,i){e.call(null,t,n,i)}}var l=n(251),u=n(16).EventEmitter,c=n(58),A=n(89),d=n(14),h=n(19),p=n(60),f=n(41),m=n(254),g=n(157),v=n(8),E=n(5),_=n(4),S=n(35),y=n(2),b=n(3),C=n(95),I=n(42),T=n(20),O=T.urls,w="change",N=34045,k=!1,D=0,M=[{name:"COMMAND_NEW_WINDOW",action:function(){return d.openWindow()},label:y("New Window"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_NEW_PRIVATE_WINDOW",action:d.openIncognitoWindow,label:y("New Private Window"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLOSE_WINDOW",action:c.closeWindow,label:y("Close Window"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_QUICK_COMMANDS",action:c.showQuickCommand,label:y("Quick Commands"),
category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_FULLSCREEN",action:c.fullScreen,label:y("Toggle Fullscreen Mode"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_TASK_MANAGER",action:c.showTaskManager,label:y("Task Manager"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_SETTINGS",action:c.showSettings,label:y("Settings"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_PLUGINS",action:c.showPlugins,label:y("Plugins"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_EXTENSIONS",action:c.showExtensions,label:y("Extensions"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_HISTORY",action:c.showHistory,label:y("History"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_BOOKMARKS",action:c.showBookmarks,label:y("Bookmarks"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_WELCOME",action:c.showWelcome,label:y("Welcome Page"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_CLEAR_PRIVATE_DATA",action:c.showClearPrivateData,label:y("Clear Private Data"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_BOOKMARK_BAR",action:c.toggleBookmarksBar,label:y("Bookmarks Bar"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_TOGGLE_MENU_POSITION",action:c.toggleMenuPosition,label:y("Toggle Menu Position"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_TOGGLE_FOOTER",action:c.toggleFooter,label:y("Toggle Status Bar"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_TOGGLE_INTERFACE_COLOR",action:c.toggleInterfaceColor,label:y("Toggle Interface Color"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_EXIT",action:c.exitBrowser,label:"MacIntel"===navigator.platform?y("Quit $1",["Vivaldi"]):y("Exit"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_HELP",action:g.newTab,param:" https://help.vivaldi.com",label:y("browser","Help"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_KEYBOARDSHORTCUTS",action:c.showKeyboardShortcuts,label:y("Keyboard Cheat Sheet"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_MAIN_TOGGLE_TAB_BAR",action:c.toggleTabBar,label:y("Toggle Tab Bar"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_MAIN_TOGGLE_ADDRESS_BAR",action:c.toggleAddressBar,label:y("Toggle Address Bar"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_MAIN_TOGGLE_UI",action:c.toggleUI,label:y("Toggle UI"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_NEW_TAB",action:g.newTab,label:y("New Tab"),gestureLabel:y("New Tab"),gestureOnLink:y("Open Link in New Tab (Over a Link)"),category:E.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_NEW_BACKGROUND_TAB",action:g.newBackgroundTab,label:y("Clone Tab in Background"),gestureLabel:y("Clone Tab in Background"),gestureOnLink:y("Open Link in Background Tab (Over a Link)"),category:E.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_CLONE_TAB",action:d.clonePage,label:y("Clone Tab"),category:E.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_PIN_TAB",action:d.togglePinned,label:y("Pin Tab"),category:E.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_CLOSE_TAB",action:g.closeTab,label:y("Close Tab"),category:E.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_CLOSE_ALL_BUT_ACTIVE_TAB",action:g.closeAllButActiveTab,label:y("Close Other Tabs"),category:E.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_NEW_PRIVATE_TAB",action:g.newTab,label:y("New Private Tab"),category:E.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_SHOW_ABOUT",action:g.newTab,param:O.internals.aboutpage,label:"MacIntel"===navigator.platform?y("About $1",["Vivaldi"]):y("About"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CHECK_FOR_UPDATES",action:c.checkForUpdates,label:y("Check for Updates"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_COMMUNITY",action:g.newTab,param:"https://vivaldi.net",label:y("Community"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_TAB_SWITCH_BACK_SETTING",action:g.switchTabBackBySetting,label:y("Next Tab"),notEditable:!0,category:E.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_FORWARD_SETTING",action:g.switchTabForwardBySetting,label:y("Previous Tab"),notEditable:!0,category:E.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_BACK_HISTORY",action:g.switchTabBackByHistory,label:y("Next Tab (Recent)"),category:E.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_FORWARD_HISTORY",action:g.switchTabForwardByHistory,label:y("Previous Tab (Recent)"),category:E.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_BACK_ORDER",action:g.switchTabBackByOrder,label:y("Next Tab"),category:E.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_FORWARD_ORDER",action:g.switchTabForwardByOrder,label:y("Previous Tab"),category:E.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_REOPEN_RECENTLY_CLOSED",action:g.undoRecentlyClosedTab,label:y("Reopen Closed Tab"),category:E.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_STACK_TILE_VERTICAL",action:g.stackTileVertical,label:y("Tile Tab Stack Vertically"),category:E.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_STACK_TILE_HORIZONTAL",action:g.stackTileHorizontal,label:y("Tile Tab Stack Horizontally"),category:E.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_STACK_TILE_GRID",action:g.stackTileGrid,label:y("Tile Tab Stack to Grid"),category:E.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_STACK_UNTILE",action:g.stackUntile,label:y("Untile Tab Stack"),category:E.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_IMPORT_DATA",action:c.showImportData,label:y("Import Bookmarks and Settings"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_EXPORT_DATA",action:c.showExportData,label:y("Export Bookmarks"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_SAVE_SESSION",action:c.showSaveSession,label:y("Save Open Tabs as Session"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_OPEN_SESSION",action:c.showOpenSession,label:y("Open Saved Session"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_ADD_BOOKMARK",action:S.doAction,param:"addBookmark",label:y("Create Bookmark"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_FOCUS_ADDRESSFIELD",action:S.doAction,param:"focusAddressField",label:y("Focus Address Field"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_PAGE_REFRESH",action:S.reload,label:y("Reload Page"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_PAGE_RELOAD_NOCACHE",action:S.reload,param:!0,label:y("Force Page Reload"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_FOCUS_WEBVIEW",action:S.doAction,param:"focusWebView",label:y("Focus Page"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_PAGE_DISABLE_KEYBOARD_SHORTCUTS",action:S.doAction,param:"disableShortcuts",label:y("Disable Keyboard Shortcuts"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_FOCUS_SEARCHFIELD",action:S.doAction,param:"focusSearchField",label:y("Focus Search Field"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_FIND_IN_PAGE",action:S.doAction,param:"findInPage",label:y("Find in Page"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_FIND_NEXT_IN_PAGE",action:S.doAction,param:"findNextInPage",label:y("Find Next in Page"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_FIND_PREVIOUS_IN_PAGE",action:S.doAction,param:"findPreviousInPage",label:y("Find Previous in Page"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_PAGE_BACK",action:S.back,label:y("History Back"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_PAGE_FORWARD",action:S.forward,label:y("History Forward"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_PAGE_REWIND",action:A.navigateRewind,label:y("History Rewind"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_PAGE_FAST_FORWARD",action:A.navigateFastforward,label:y("Fast Forward"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_PRINT_PAGE",action:S.doAction,param:"print",label:y("Print"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_STOP_PAGE",action:S.stop,label:y("Stop Loading"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_OPEN_PAGE",action:S.doAction,param:"openPage",label:y("Open File"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_SAVE_PAGE",action:S.doAction,param:"savePage",label:y("Save Page As"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_MAIN_ZOOM_IN",action:c.zoomIn,label:y("Zoom In"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_MAIN_ZOOM_OUT",action:c.zoomOut,label:y("Zoom Out"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_MAIN_ZOOM_HALF",action:c.zoomHalf,label:y("Zoom Out Half"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_MAIN_ZOOM_DOUBLE",action:c.zoomDouble,label:y("Zoom In Double"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_MAIN_ZOOM_RESET",action:c.zoomReset,label:y("Zoom Reset"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_TAB_VIEW_PAGE_SOURCE",action:g.viewPageSource,label:y("View Page Source"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_DEVELOPER_TOOLS",action:c.showDevTools,label:y("Developer Tools"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_EXPORT_SETTINGS",action:S.doAction,param:"exportSettings",label:y("Export Settings"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_DOWNLOAD_EXTENSIONS",action:S.doAction,param:"addExtension",label:y("Download Extensions"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_HOMEPAGE",action:d.showHomepage,label:y("Home"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_DISCARD_PAGE",action:S.doAction,param:"discardPage",label:y("Discard Page"),category:E.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TOGGLE_PANEL",action:p.togglePanelVisibility,label:y("Toggle Panel"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_FOCUS_PANEL",action:p.setPanelFocus,label:y("Focus Panel"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_NEXT_PANEL",action:p.showNextPanel,param:"next",label:y("Open Next Panel"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_PREVIOUS_PANEL",action:p.showNextPanel,param:"previous",label:y("Open Previous Panel"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_BOOKMARK_PANEL",action:p.setSelectedPanel,param:"bookmarks",label:y("Bookmarks Panel"),category:E.CATEGORY_COMMAND_APPEARANCE},{},{name:"COMMAND_SHOW_CONTACTS_PANEL",action:p.setSelectedPanel,param:"contacts",label:y("Contacts Panel"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_DOWNLOADS_PANEL",action:p.setSelectedPanel,param:"downloads",label:y("Downloads Panel"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_NOTES_PANEL",action:p.setSelectedPanel,param:"notes",label:y("Notes Panel"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_WEB_PANEL_1",action:p.setSelectedPanel,param:"webpanel 1",label:y("Web Panel 1"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_WEB_PANEL_2",action:p.setSelectedPanel,param:"webpanel 2",label:y("Web Panel 2"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_WEB_PANEL_3",action:p.setSelectedPanel,param:"webpanel 3",label:y("Web Panel 3"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_WEB_PANEL_4",action:p.setSelectedPanel,param:"webpanel 4",label:y("Web Panel 4"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_WEB_PANEL_5",action:p.setSelectedPanel,param:"webpanel 5",label:y("Web Panel 5"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_WEB_PANEL_6",action:p.setSelectedPanel,param:"webpanel 6",label:y("Web Panel 6"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_WEB_PANEL_7",action:p.setSelectedPanel,param:"webpanel 7",label:y("Web Panel 7"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_WEB_PANEL_8",action:p.setSelectedPanel,param:"webpanel 8",label:y("Web Panel 8"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_WEB_PANEL_9",action:p.setSelectedPanel,param:"webpanel 9",label:y("Web Panel 9"),category:E.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SPATNAV_LEFT",action:m.left,label:y("Spatial Navigation Left"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_SPATNAV_UP",action:m.up,label:y("Spatial Navigation Up"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_SPATNAV_RIGHT",action:m.right,label:y("Spatial Navigation Right"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_SPATNAV_DOWN",action:m.down,label:y("Spatial Navigation Down"),category:E.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_CLIPBOARD_UNDO",action:l.undo,label:"MacIntel"===navigator.platform?y("mac","Undo"):y("win_linux","Undo"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLIPBOARD_REDO",action:l.redo,label:"MacIntel"===navigator.platform?y("mac","Redo"):y("win_linux","Redo"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLIPBOARD_CUT",action:l.cut,label:"MacIntel"===navigator.platform?y("mac","Cut"):y("win_linux","Cut"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLIPBOARD_COPY",action:l.copy,label:"MacIntel"===navigator.platform?y("mac","Copy"):y("win_linux","Copy"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLIPBOARD_PASTE",action:l.paste,label:"MacIntel"===navigator.platform?y("mac","Paste"):y("win_linux","Paste"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLIPBOARD_SELECT_ALL",action:l.selectAll,label:"MacIntel"===navigator.platform?y("mac","Select All"):y("win_linux","Select All"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLIPBOARD_PASTE_AS_PLAIN_TEXT",action:l.pasteAsPlainText,label:y("Paste as Plain Text"),category:E.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLIPBOARD_PASTE_AS_PLAIN_TEXT_OR_PASTE_AND_GO",action:l.pasteAsPlainTextOrPastAndGo,label:y("Paste and Go"),category:E.CATEGORY_COMMAND_APPLICATION}],P=[{name:y("win_linux","File"),items:[{commandName:"COMMAND_NEW_TAB"},{commandName:"COMMAND_NEW_WINDOW"},{commandName:"COMMAND_NEW_PRIVATE_WINDOW"},{commandName:"COMMAND_OPEN_PAGE",ellipsis:!0},{name:"---"},{commandName:"COMMAND_CLOSE_TAB"},{commandName:"COMMAND_CLOSE_WINDOW"},{name:"---"},{commandName:"COMMAND_SAVE_PAGE",ellipsis:!0},{commandName:"COMMAND_PRINT_PAGE",ellipsis:!0},{name:"---"},{commandName:"COMMAND_IMPORT_DATA",ellipsis:!0},{commandName:"COMMAND_EXPORT_DATA",ellipsis:!0},{name:"---"},{commandName:"COMMAND_OPEN_SESSION",ellipsis:!0},{commandName:"COMMAND_SAVE_SESSION",ellipsis:!0},{name:"---"},{commandName:"COMMAND_EXIT"}]},{name:y("noun_win_linux","Edit"),items:[{commandName:"COMMAND_CLIPBOARD_UNDO",shortcut:"ctrl+z"},{commandName:"COMMAND_CLIPBOARD_REDO",shortcut:"ctrl+y"},{name:"---"},{commandName:"COMMAND_CLIPBOARD_CUT",shortcut:"ctrl+x"},{commandName:"COMMAND_CLIPBOARD_COPY",shortcut:"ctrl+c"},{commandName:"COMMAND_CLIPBOARD_PASTE",shortcut:"ctrl+v"},{commandName:"COMMAND_CLIPBOARD_PASTE_AS_PLAIN_TEXT_OR_PASTE_AND_GO"},{commandName:"COMMAND_CLIPBOARD_PASTE_AS_PLAIN_TEXT"},{name:"---"},{commandName:"COMMAND_CLIPBOARD_SELECT_ALL",shortcut:"ctrl+a"},{name:"---"},{commandName:"COMMAND_FIND_IN_PAGE"}]},{name:y("win_linux","View"),items:[{commandName:"COMMAND_TOGGLE_MENU_POSITION",name:y("Horizontal Main Menu"),type:"checkbox",setting:"VIVALDI_MENU_POSITION"},{commandName:"COMMAND_TOGGLE_PANEL",name:y("Show Panel"),type:"checkbox",panelState:"SHOW_PANEL"},{commandName:"COMMAND_TOGGLE_FOOTER",name:y("Show Status Bar"),type:"checkbox",setting:"SHOW_VIVALDI_FOOTER"},{commandName:"COMMAND_SHOW_BOOKMARK_BAR",name:y("Show Bookmarks Bar"),type:"checkbox",setting:"BOOKMARK_BAR_VISIBLE"},{name:"---"},{commandName:"COMMAND_SHOW_BOOKMARK_PANEL",iconSVG:n(503)},{commandName:"COMMAND_SHOW_MAIL_PANEL",iconSVG:n(506),testVisibility:f.getIsMailWindow},{commandName:"COMMAND_SHOW_CONTACTS_PANEL",iconSVG:n(504),testVisibility:f.getIsMailWindow},{commandName:"COMMAND_SHOW_DOWNLOADS_PANEL",iconSVG:n(505)},{commandName:"COMMAND_SHOW_NOTES_PANEL",iconSVG:n(507)},{name:"---"},{commandName:"COMMAND_MAIN_ZOOM_IN"},{commandName:"COMMAND_MAIN_ZOOM_OUT"},{commandName:"COMMAND_MAIN_ZOOM_RESET"}]},{name:y("Tools"),items:[{commandName:"COMMAND_SHOW_SETTINGS",ellipsis:!0,iconSVG:n(508)},{name:"---"},{commandName:"COMMAND_SHOW_QUICK_COMMANDS",ellipsis:!0},{name:"---"},{commandName:"COMMAND_SHOW_BOOKMARKS"},{commandName:"COMMAND_SHOW_HISTORY"},{commandName:"COMMAND_SHOW_EXTENSIONS"},{commandName:"COMMAND_SHOW_PLUGINS"},{name:"---"},{commandName:"COMMAND_SHOW_CLEAR_PRIVATE_DATA",ellipsis:!0},{name:"---"},{commandName:"COMMAND_TASK_MANAGER"},{commandName:"COMMAND_DEVELOPER_TOOLS"}]},{name:y("win_linux","Window"),tag:N,items:[{commandName:"COMMAND_FULLSCREEN",name:y("Go Fullscreen")},{name:"---"}]},{name:y("win_linux","Help"),items:[{commandName:"COMMAND_SHOW_HELP"},{commandName:"COMMAND_SHOW_KEYBOARDSHORTCUTS",ellipsis:!0},{commandName:"COMMAND_SHOW_WELCOME"},{commandName:"COMMAND_SHOW_COMMUNITY"},{name:"---"},{commandName:"COMMAND_CHECK_FOR_UPDATES",ellipsis:!0,platform:["win"]},{name:"---"},{commandName:"COMMAND_SHOW_ABOUT",iconSVG:n(509)}]}],L=[{name:y("Vivaldi"),tag:44002,items:[{commandName:"COMMAND_SHOW_ABOUT",tag:40018},{name:"---"},{commandName:"COMMAND_SHOW_SETTINGS",tag:54014,name:y("Preferences...")},{name:"---"},{commandName:"COMMAND_CHECK_FOR_UPDATES",ellipsis:!0,tag:54022},{name:"---"},{commandName:"COMMAND_HIDE_VIVALDI",tag:44003,name:y("Hide $1",["Vivaldi"]),shortcut:"cmd+h"},{commandName:"COMMAND_HIDE_OTHERS",tag:54026,name:y("Hide Others"),shortcut:"cmd+alt+h"},{name:"---"},{commandName:"COMMAND_EXIT",tag:34031}]},{name:y("mac","File"),tag:44001,items:[{commandName:"COMMAND_NEW_TAB",tag:34014},{commandName:"COMMAND_NEW_WINDOW",tag:34e3},{commandName:"COMMAND_NEW_PRIVATE_WINDOW",tag:54031},{commandName:"COMMAND_OPEN_PAGE",ellipsis:!0,tag:54033},{name:"---"},{commandName:"COMMAND_CLOSE_TAB",tag:54034},{commandName:"COMMAND_CLOSE_WINDOW",tag:54041},{commandName:"COMMAND_SAVE_PAGE",ellipsis:!0,tag:54019},{name:"---"},{commandName:"COMMAND_IMPORT_DATA",ellipsis:!0,tag:54003},{commandName:"COMMAND_EXPORT_DATA",ellipsis:!0,tag:54038},{name:"---"},{commandName:"COMMAND_OPEN_SESSION",ellipsis:!0,tag:54044},{commandName:"COMMAND_SAVE_SESSION",ellipsis:!0,tag:54045},{name:"---"},{commandName:"COMMAND_PRINT_PAGE",ellipsis:!0,tag:54004}]},{name:y("noun_mac","Edit"),tag:36004,items:[{commandName:"COMMAND_CLIPBOARD_UNDO",tag:50144,shortcut:"cmd+z"},{commandName:"COMMAND_CLIPBOARD_REDO",tag:50145,shortcut:"shift+cmd+z"},{name:"---"},{commandName:"COMMAND_CLIPBOARD_CUT",tag:50141,shortcut:"cmd+x"},{commandName:"COMMAND_CLIPBOARD_COPY",tag:50140,shortcut:"cmd+c"},{commandName:"COMMAND_CLIPBOARD_PASTE",tag:50142,shortcut:"cmd+v"},{commandName:"COMMAND_CLIPBOARD_PASTE_AS_PLAIN_TEXT_OR_PASTE_AND_GO",tag:54027},{commandName:"COMMAND_DELETE",tag:50143,name:y("text_mac","Delete")},{commandName:"COMMAND_CLIPBOARD_SELECT_ALL",tag:50146,shortcut:"cmd+a"},{name:"---"},{commandName:"COMMAND_FIND_IN_PAGE",tag:54006}]},{name:y("mac","View"),tag:54901,items:[{commandName:"COMMAND_SHOW_BOOKMARK_BAR",tag:54025},{commandName:"COMMAND_TOGGLE_FOOTER",tag:54009},{commandName:"COMMAND_TOGGLE_PANEL",tag:54008},{name:"---"},{commandName:"COMMAND_SHOW_BOOKMARK_PANEL",tag:54010},{commandName:"COMMAND_SHOW_MAIL_PANEL",tag:54011,testVisibility:f.isMailWindow},{commandName:"COMMAND_SHOW_CONTACTS_PANEL",tag:54012,testVisibility:f.isMailWindow},{commandName:"COMMAND_SHOW_DOWNLOADS_PANEL",tag:54013},{commandName:"COMMAND_SHOW_NOTES_PANEL",tag:54020},{name:"---"},{commandName:"COMMAND_MAIN_ZOOM_IN",tag:54035},{commandName:"COMMAND_MAIN_ZOOM_OUT",tag:54036},{commandName:"COMMAND_MAIN_ZOOM_RESET",tag:54037},{name:"---"},{commandName:"COMMAND_FULLSCREEN",tag:54016,name:y("Toggle Full Screen")}]},{name:y("Tools"),tag:54902,items:[{commandName:"COMMAND_SHOW_QUICK_COMMANDS",ellipsis:!0,tag:54015},{name:"---"},{commandName:"COMMAND_SHOW_BOOKMARKS",tag:54039},{commandName:"COMMAND_SHOW_HISTORY",tag:54040},{commandName:"COMMAND_SHOW_EXTENSIONS",tag:54029},{commandName:"COMMAND_SHOW_PLUGINS",tag:54024},{name:"---"},{commandName:"COMMAND_SHOW_CLEAR_PRIVATE_DATA",ellipsis:!0,tag:54030},{name:"---"},{commandName:"COMMAND_TASK_MANAGER",tag:54021},{commandName:"COMMAND_DEVELOPER_TOOLS",tag:54023}]},{name:y("mac","Window"),tag:N,items:[{commandName:"COMMAND_MINIMIZE",tag:34046,name:y("Minimize"),shortcut:"cmd+m"},{commandName:"COMMAND_MAC_ZOOM",tag:34047,name:y("Zoom")},{name:"---"},{commandName:"COMMAND_MAC_ALL_TO_FRONT",tag:34048,name:y("Bring All to Front")},{name:"---",tag:55555}]},{name:y("mac","Help"),tag:54903,items:[{commandName:"COMMAND_SHOW_HELP",tag:54042},{commandName:"COMMAND_SHOW_KEYBOARDSHORTCUTS",ellipsis:!0,tag:54028},{name:"---"},{commandName:"COMMAND_SHOW_WELCOME",tag:54046},{commandName:"COMMAND_SHOW_COMMUNITY",tag:54018}]}],x={54001:"COMMAND_NEW_TAB",54002:"COMMAND_NEW_WINDOW",54003:"COMMAND_IMPORT_DATA",54004:"COMMAND_PRINT_PAGE",54005:"COMMAND_EXIT",54006:"COMMAND_FIND_IN_PAGE",54007:"COMMAND_TOGGLE_MENU_POSITION",54008:"COMMAND_TOGGLE_PANEL",54009:"COMMAND_TOGGLE_FOOTER",54010:"COMMAND_SHOW_BOOKMARK_PANEL",54011:"COMMAND_SHOW_MAIL_PANEL",54012:"COMMAND_SHOW_CONTACTS_PANEL",54013:"COMMAND_SHOW_DOWNLOADS_PANEL",54014:"COMMAND_SHOW_SETTINGS",54015:"COMMAND_SHOW_QUICK_COMMANDS",54016:"COMMAND_FULLSCREEN",54017:"COMMAND_SHOW_ABOUT",54018:"COMMAND_SHOW_COMMUNITY",54019:"COMMAND_SAVE_PAGE",54020:"COMMAND_SHOW_NOTES_PANEL",54021:"COMMAND_TASK_MANAGER",54022:"COMMAND_CHECK_FOR_UPDATES",54023:"COMMAND_DEVELOPER_TOOLS",54024:"COMMAND_SHOW_PLUGINS",54025:"COMMAND_SHOW_BOOKMARK_BAR",54027:"COMMAND_CLIPBOARD_PASTE_AS_PLAIN_TEXT_OR_PASTE_AND_GO",54028:"COMMAND_SHOW_KEYBOARDSHORTCUTS",54029:"COMMAND_SHOW_EXTENSIONS",54030:"COMMAND_SHOW_CLEAR_PRIVATE_DATA",54031:"COMMAND_NEW_PRIVATE_WINDOW",54033:"COMMAND_OPEN_PAGE",54034:"COMMAND_CLOSE_TAB",54035:"COMMAND_MAIN_ZOOM_IN",54036:"COMMAND_MAIN_ZOOM_OUT",54037:"COMMAND_MAIN_ZOOM_RESET",54038:"COMMAND_EXPORT_DATA",54039:"COMMAND_SHOW_BOOKMARKS",54040:"COMMAND_SHOW_HISTORY",54041:"COMMAND_CLOSE_WINDOW",54042:"COMMAND_SHOW_HELP",54044:"COMMAND_OPEN_SESSION",54045:"COMMAND_SAVE_SESSION",54046:"COMMAND_SHOW_WELCOME"},R={},B=Object.assign({},u.prototype,{_getCommandsByType:function(e){var t={};for(var n in R)if(void 0!==R[n])for(var i=R[n],r=0;r<M.length;r++)if(M[r].name===n&&i.hasOwnProperty(e)){var o=i[e];if(o)for(var a=0;a<o.length;a++)t[o[a]]={"function":s(M[r].action,M[r].param),oldShortcut:i.oldShortcut?i.oldShortcut:void 0}}return t},getMenuItems:function(){return"MacIntel"===navigator.platform?L:P},getCommandShortcuts:function(){return this._getCommandsByType("shortcut")},getCommandsGestures:function(){return this._getCommandsByType("gestures")},saveCommandConfig:function(e){for(var t in R)if(void 0!==R[t]){var n=R[t];if(e.name===t){n.hasOwnProperty("shortcut")&&(n.oldShortcut=n.shortcut,n.shortcut=e.shortcut),n.hasOwnProperty("gestures")&&(n.gestures=e.gestures),n.hasOwnProperty("showInQC")&&(n.showInQC=e.showInQC),_.set(i({},t,n));break}}},getCommands:function(){return M},getQuickCommands:function(){return M.filter(function(e){for(var t in R)if(void 0!==R[t]){var n=R[t];if(e.name===t)return n.hasOwnProperty("shortcut")&&(e.shortcut=n.shortcut),n.showInQC===!0}return!1}.bind(this))},getAllCommands:function(){return M.filter(function(e){for(var t in R)if(void 0!==R[t]){var n=R[t];if(e.name===t)return n.hasOwnProperty("shortcut")&&(e.shortcut=n.shortcut),n.hasOwnProperty("gestures")&&(e.gestures=n.gestures),n.hasOwnProperty("showInQC")&&(e.showInQC=n.showInQC),!0}})},getFunction:function(e,t){return function(){e.apply(null,t)}},getVerticalMenu:function(e){return this._getMenu(e)},getHorizontalMenu:function(e){return this._getMenu(e)},getHandlerFromChromeId:function(e,t){var n;if(54043===e){var i=parseInt(t),r=h.getPages().find(function(e){return e.get("id")===i});r&&(n=s(d.openPage,r))}return n},getOpenTabsMenuList:function(e){var t=[];return e.forEach(function(e){t.push({handler:s(d.openPage,e),name:O.getDisplayTitle(e),tag:54043,url:e.get("url"),parameter:e.get("id").toString(),emphasized:e.get("active"),mnemonic:!1})}),t},_getMenu:function(e){function t(e,n){for(var i=0,r=M.length;r>i;i++)if(M[i].name===e.commandName){var o=s(M[i].action,M[i].param);e.name||(e.name=M[i].label,e.ellipsis===!0&&(n?e.name+=" ...":e.name+="...")),e.handler=o;break}e.items&&e.items.forEach(function(e){t(e)})}var n=b.i18n.getUILanguage(),i="nn"===n||"de"===n;k||(this._initializeCheckmarks(B.getMenuItems()),k=!0);var r=C(this.getMenuItems());if(r.forEach(function(e){t(e,i)}),e){var o=this._getMenuElementById(r,N);if(void 0!==o&&o.items){var a=this.getOpenTabsMenuList(e);a.forEach(function(e){o.items.push(e)})}}return this._pruneOtherPlatforms(r,I()),r},_isChecked:function(e){return e===!0||"top"===e||"on"===e},_initializeCheckmarks:function(e){for(var t=e.length-1;t>=0;t--){var n=e[t];n.items?this._initializeCheckmarks(n.items):n.setting?(_.get(n.setting,function(e,t){e.checked=this._isChecked(t)}.bind(this,n)),_.addListener(n.setting,function(e,t,n){e.checked=this._isChecked(n),B.emitChange()}.bind(this,n))):n.panelState&&"SHOW_PANEL"===n.panelState&&(n.checked=f.getPanelButtonsVisible(),f.addChangeListener(function(){this.checked!==f.getPanelButtonsVisible()&&(this.checked=f.getPanelButtonsVisible(),B.emitChange())}.bind(n)))}},_getMenuElementById:function(e,t){for(var n,i=0;i<e.length;i++){var r=e[i];if(void 0!==r.tag&&r.tag===t){n=r;break}if(r.items&&(n=this._getMenuElementById(r.items,t),void 0!==n))break}return n},_pruneOtherPlatforms:function(e,t){for(var n=0;n<e.length;){var i=e[n];void 0!==i.platform&&Array.isArray(i.platform)&&i&&i.platform&&-1===i.platform.indexOf(t)?e.splice(n,1):(i.items&&this._pruneOtherPlatforms(i.items,t),n++)}},_onMenuIconLoaded:function(e){try{var t=document.createElement("canvas");t.width=this.width,t.height=this.height;var n=t.getContext("2d");n.drawImage(this,0,0);var i=t.toDataURL("image/png");e.iconPNG=i.substr(i.indexOf(",")+1),D>0&&(D--,0===D&&B.emitChange())}finally{this.onload=null}},_loadMenuIcon:function(e,t){D++;var n=new Image;n.onload=this._onMenuIconLoaded.bind(n,t),n.src=e},initializeMenuIcons:function(e){for(var t=e.length-1;t>=0;t--){var n=e[t];if(n.items)this.initializeMenuIcons(n.items);else if(n.iconSVG){var i="data:image/svg+xml;utf8,"+n.iconSVG;this._loadMenuIcon(i,n)}}},chromeIdToCommand:function(e){return x[e]},emitChange:function(){this.emit(w)},addChangeListener:function(e){this.on(w,e)},removeChangeListener:function(e){this.removeListener(w,e)},getUserEditableCommands:function(){return M},getUserEditableCommandsList:function(){return M.filter(function(e){return e.customizable===!0}).map(function(e){return e.name})}});v.register(function(e){var t=e.action;switch(t.actionType){case E.COMMAND_SAVE_SHORTCUTKEY:B.saveCommandConfig(t.command),B.emitChange();break;case E.COMMAND_SET_CONFIGURATION:o(t.commands),B.emitChange();break;case E.COMMAND_CONF_CHANGED:a(t.commandKey,t.commandValue),B.emitChange();break;case E.COMMAND_SESSION_CHANGED:B.emitChange();break;default:return!0}}),e.exports=B},function(e,t,n){"use strict";function i(e,t,n){return n}var r={enableMeasure:!1,storedMeasure:i,measureMethods:function(e,t,n){},measure:function(e,t,n){return n},injection:{injectMeasure:function(e){r.storedMeasure=e}}};e.exports=r},function(e,t,n){"use strict";function i(){T.ReactReconcileTransaction&&_?void 0:m(!1)}function r(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=c.getPooled(),this.reconcileTransaction=T.ReactReconcileTransaction.getPooled(!1)}function o(e,t,n,r,o,a){i(),_.batchedUpdates(e,t,n,r,o,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==g.length?m(!1):void 0,g.sort(a);for(var n=0;t>n;n++){var i=g[n],r=i._pendingCallbacks;if(i._pendingCallbacks=null,h.performUpdateIfNecessary(i,e.reconcileTransaction),r)for(var o=0;o<r.length;o++)e.callbackQueue.enqueue(r[o],i.getPublicInstance())}}function l(e){return i(),_.isBatchingUpdates?void g.push(e):void _.batchedUpdates(l,e)}function u(e,t){_.isBatchingUpdates?void 0:m(!1),v.enqueue(e,t),E=!0}var c=n(131),A=n(50),d=n(37),h=n(55),p=n(106),f=n(15),m=n(13),g=[],v=c.getPooled(),E=!1,_=null,S={initialize:function(){this.dirtyComponentsLength=g.length},close:function(){this.dirtyComponentsLength!==g.length?(g.splice(0,this.dirtyComponentsLength),C()):g.length=0}},y={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},b=[S,y];f(r.prototype,p.Mixin,{getTransactionWrappers:function(){return b},destructor:function(){this.dirtyComponentsLength=null,c.release(this.callbackQueue),this.callbackQueue=null,T.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return p.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),A.addPoolingTo(r);var C=function(){for(;g.length||E;){if(g.length){var e=r.getPooled();e.perform(s,null,e),r.release(e)}if(E){E=!1;var t=v;v=c.getPooled(),t.notifyAll(),c.release(t)}}};C=d.measure("ReactUpdates","flushBatchedUpdates",C);var I={injectReconcileTransaction:function(e){e?void 0:m(!1),T.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:m(!1),"function"!=typeof e.batchedUpdates?m(!1):void 0,"boolean"!=typeof e.isBatchingUpdates?m(!1):void 0,_=e}},T={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:l,flushBatchedUpdates:C,injection:I,asap:u};e.exports=T},function(e,t){"use strict";function n(e){return function(){return e}}function i(){}i.thatReturns=n,i.thatReturnsFalse=n(!1),i.thatReturnsTrue=n(!0),i.thatReturnsNull=n(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=n(1),a=n(7),s=n(4),l=function(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];arguments.length<=2||void 0===arguments[2]?[]:arguments[2];return o.createClass({mixins:[a],displayName:"VivaldiSettingsWrapper",getInitialState:function(){return{settings:{}}},componentWillMount:function(){t.length&&this.setState({settings:s.getKeysSync(t)})},componentDidMount:function(){var e=this;t.forEach(function(t){return s.addListener(t,e.settingsChangeHandler)})},componentWillUnmount:function(){var e=this;t.forEach(function(t){return s.removeListener(t,e.settingsChangeHandler)})},settingsChangeHandler:function(e,t,n){this.state.settings[n]!==t&&this.setState({settings:Object.assign({},this.state.settings,i({},n,t))})},render:function(){return o.createElement(e,r({ref:"component",key:"vs",vivaldiSettings:this.state.settings},this.props))}})};e.exports=l},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){_(b,{SHOW_PANEL:L,SELECTED_PANEL:M,PANEL_WIDTH:R,SHOW_PANEL_CONTENT:P});var e=[];e.push({id:window.vivaldiWindowId,barVisible:L,width:R,selectedPanel:M,panelVisible:P}),v.set({PANEL_STATE:e})}function o(e){R=e,r()}function a(e){return W.getPanelAvailable(e)?!!(e!==W.getMailName()&&e!==W.getContactName()||W.getIsMailWindow()):!1}function s(e){var t=E.getIndexByShortcut(e);-1!==t&&void 0!==U&&t>=1&&U.length>=t&&(e=U[t-1].id),a(e)&&(L=!0,R=0===R?C:R,e===M?P=!P:(M=e,L=!0,P=!0),P&&(B=!0),r())}function l(e,t){if(W.getIsWebPanel(e)){E.setAvailable(e,t);for(var n=0;n<U.length;n++){var i=U[n];if(i.id===e&&i.available!==t){i.available=t,v.set({WEB_PANEL_LIST:U});break}}}else for(var n=0;n<V.length;n++){var i=V[n];if(i.id===e&&i.available!==t){i.available=t,v.set({REG_PANEL_LIST:V});break}}}function u(){P===!1?L?(M="",
L=!1):(L=!0,M&&s(M)):(R=0===R?C:R,L=!L,P=!P),r()}function c(){P=!1,r()}function A(){P===!1?(L=!0,P=!0,B=!0,M||(M=W.getDefaultPanel()),r()):W.emitChange("setFocus")}function d(e){P===!1?A():v.get("WEB_PANEL_LIST",function(t){var n=[];if(W.getPanelAvailable(O)&&n.push(O),W.getPanelAvailable(w)&&W.getIsMailWindow()&&n.push(w),W.getPanelAvailable(N)&&W.getIsMailWindow()&&n.push(N),W.getPanelAvailable(k)&&n.push(k),W.getPanelAvailable(D)&&n.push(D),void 0!==t)for(var i=0;i<t.length;i++){var r=t[i];r.available!==!1&&n.push(r.id)}if(M){for(var o=0;o<n.length;o++)if(n[o]===M){o+="next"===e?1:-1,0>o?o=n.length-1:o>=n.length&&(o=0),M!==n[o]&&s(n[o]);break}}else{var a=W.getFirstAvailablePanel();void 0!==a&&s(this.getDefaultPanel())}W.emitChange("")}.bind(this))}function h(e){e.hasOwnProperty("SHOW_PANEL_SWITCH")?x=e.SHOW_PANEL_SWITCH:e.hasOwnProperty("SHOW_PANEL")?(L=e.hasOwnProperty("SHOW_PANEL")?e.SHOW_PANEL:L,R=e.hasOwnProperty("PANEL_WIDTH")?e.PANEL_WIDTH:R,M=e.hasOwnProperty("SELECTED_PANEL")?e.SELECTED_PANEL:M,P=e.hasOwnProperty("SHOW_PANEL_CONTENT")?e.SHOW_PANEL_CONTENT:P,r()):v.get("PANEL_STATE",function(e){if(void 0!==e&&e.length>=1){var t=e[0];L=t.barVisible,R=t.width,M=t.selectedPanel,P=t.panelVisible,a(M)||(M=W.getDefaultPanel()),W.emitChange("")}}.bind(this))}function p(e,t,n){if("WEB_PANEL_LIST"===e){var r=W.getSelectedWebPanelIndex(),o=U.length;if(U=S.clone(t),U.length>o)n||s(U[U.length-1].id);else if(U.length<o&&void 0!==r){var a=void 0;W.getAvailablePanelCount()>0&&(a=void 0===W.getSelectedWebPanelIndex()?r>=U.length?0===U.length?W.getLastAvailablePanel():U[U.length-1].id:U[r].id:U[W.getSelectedWebPanelIndex()].id),void 0===a?(M="",c()):a!==M&&s(a)}}else"REG_PANEL_LIST"===e?(V=S.clone(t),!M||W.getIsWebPanel(M)||W.getPanelAvailable(M)||(M="",c())):h(i({},e,t))}var f=n(16).EventEmitter,m=n(8),g=n(5),v=n(4),E=n(119),_=n(194),S=n(17),y="change",b=window.vivaldiWindowId,C=250,I=34,T="MacIntel"===navigator.platform?6:10,O="bookmarks",w="mail",N="contacts",k="downloads",D="notes",M="",P=!1,L=!0,x=!1,R=0,B=!1,F=-1,U=[],V=[{id:O,available:!0,forMailOnly:!1},{id:w,available:!0,forMailOnly:!0},{id:N,available:!0,forMailOnly:!0},{id:k,available:!0,forMailOnly:!1},{id:D,available:!0,forMailOnly:!1}],W=Object.assign({},f.prototype,{getPanelAvailable:function(e){for(var t=0;t<V.length;t++)if(V[t].id===e)return V[t].available!==!1;for(var t=0;t<U.length;t++)if(U[t].id===e)return U[t].available!==!1;return!1},getAvailablePanelCount:function(){for(var e=0,t=0;t<V.length;t++)V[t].available!==!1&&e++;for(var t=0;t<U.length;t++)U[t].available!==!1&&e++;return e},getFirstAvailablePanel:function(){for(var e=0;e<V.length;e++)if(V[e].available!==!1){if(V[e].forMailOnly===!0&&!this.getIsMailWindow())continue;return V[e].id}for(var e=0;e<U.length;e++)if(U[e].available!==!1)return U[e].id},getLastAvailablePanel:function(){for(var e=U.length-1;e>=0;e--)if(U[e].available!==!1)return U[e].id;for(var e=V.length-1;e>=0;e--)if(V[e].available!==!1){if(V[e].forMailOnly===!0&&!this.getIsMailWindow())continue;return V[e].id}},getIsLastAvailablePanel:function(e){for(var t=U.length-1;t>=0;t--)if(U[t].available!==!1)return U[t].id===e;for(var t=V.length-1;t>=0;t--)if(V[t].available!==!1)return V[t].id===e;return!0},getAvailablePanelByIndex:function(e){var t=this.getAvailablePanelCount();if(e>=t&&(e=t-1),!(0>e)){for(var n=0,i=0;i<V.length;i++)if(V[i].available!==!1){if(n===e)return V[i].id;n++}for(var i=0;i<U.length;i++)if(U[i].available!==!1){if(n===e)return U[i].id;n++}}},getRegPanels:function(){return V},getWebPanels:function(){return U},getIsWebPanel:function(e){var t=E.getPanelPrefix();return e.substr(0,t.length)===t},getPanelButtonsVisible:function(){return L},getPanelContentVisible:function(){return P},getSelectedPanel:function(){return M},getIsWebPanelSelected:function(){var e=void 0;if(M){var t=E.getPanelPrefix();e=M.substr(0,t.length)===t}return e},getSelectedWebPanelIndex:function(){var e=void 0;if(this.getIsWebPanelSelected())for(var t=0;t<U.length;t++){var n=U[t];if(n.id===M){e=t;break}}return e},getFocusContent:function(){return B},getPanelWidth:function(){return x===!0&&L===!0&&P===!1?I+T:L===!0&&P===!1?I:L===!0&&P===!0?R:0},getPanelSwitch:function(){return x},getCollapsedWidth:function(){return R},getDefaultPanel:function(){return O},getBookmarkName:function(){return O},getMailName:function(){return w},getContactName:function(){return N},getDownloadName:function(){return k},getNotesName:function(){return D},getIsMailWindow:function(){return F===b},emitChange:function(e){this.emit(y,e)},addChangeListener:function(e){this.on(y,e)},removeChangeListener:function(e){this.removeListener(y,e)}});m.register(function(e){var t=e.action;switch(t.actionType){case g.PANEL_TOGGLE:u();break;case g.PANEL_HIDE_CONTENT:c();break;case g.PANEL_CONF_CHANGED:h(t.windowExtData);break;case g.PANEL_CONF_SET:p(t.key,t.value,null===t.oldValue);break;case g.PANEL_SET_SELECTED:s(t.SELECTED_PANEL);break;case g.PANEL_SET_AVAILABLE:l(t.panel,t.available);break;case g.PANEL_SET_WIDTH:o(t.PANEL_WIDTH);break;case g.PANEL_SET_FOCUS:A();break;case g.PANEL_SHOW_NEXT:d(t.DIRECTION);break;case g.MAIL_WINDOW_ID_SET:F=t.mailWindowId;break;default:return!0}return W.emitChange(""),!0}),e.exports=W},function(e,t){"use strict";var n=function(){return-1!==navigator.platform.indexOf("Linux")?"linux":-1!==navigator.platform.indexOf("MacIntel")?"mac":"win"};e.exports=n},function(e,t,n){"use strict";var i=n(110),r=i({bubbled:null,captured:null}),o=i({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:o,PropagationPhases:r};e.exports=a},function(e,t){"use strict";var n={current:null};e.exports=n},function(e,t){"use strict";var n=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=n},function(e,t,n){"use strict";function i(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];t=Object.assign({inCurrent:null==t.inBackground,isTyped:!0},t),a.openURL(e,t)}function r(e,t){A.get("URLBAR_SEARCH_DISABLED",function(n){var i=f(e).split(" "),r=i[0]||"";A.get(["SEARCH_ENGINES","DEFAULT_SEARCH_ENGINE"],function(e){var n=void 0;for(n=0;n<e.SEARCH_ENGINES.length;n++)if(e.SEARCH_ENGINES[n].Keyword.toLowerCase()===r.toLowerCase())return t(!0);return t(!1)})})}function o(e){e&&e.allHistory&&u.handleViewAction({actionType:c.NAVIGATION_HISTORY_ALL_DELETED})}var a=n(14),s=n(19),l=n(156),u=n(8),c=n(5),A=n(4),d=n(3),h=n(455),p=n(17),f=n(126),m={clearUrlfieldState:function(e){u.handleViewAction({actionType:c.URLFIELD_CLEAR_STATE,pageId:e})},setUrlfieldState:function(e,t){u.handleViewAction({actionType:c.URLFIELD_SET_STATE,pageId:e,state:t})},addTypedHistory:function(e,t){var n=s.getActivePage().get("incognito");n===!1&&u.handleViewAction({actionType:c.NAVIGATION_ADD_TYPED_HISTORY,title:t,url:e})},goSearchURL:function(e){function t(e,t,n){e=e.replace("%s",encodeURIComponent(t)),e=e.replace("%S",t),i(e,n),n.addTypedSearchHistory===!0&&l.addTypedSearchHistory(t)}var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=f(e).split(" "),o=r[0]||"";return n.useSearchEngineURL?t(n.useSearchEngineURL,r.join(" "),n):void A.get(["SEARCH_ENGINES","DEFAULT_SEARCH_ENGINE"],function(e){var i=void 0;for(i=0;i<e.SEARCH_ENGINES.length;i++)if(e.SEARCH_ENGINES[i].Keyword.toLowerCase()===o.toLowerCase())return t(e.SEARCH_ENGINES[i].Url,p.tail(r).join(" "),n);for(i=0;i<e.SEARCH_ENGINES.length;i++)if(parseInt(e.SEARCH_ENGINES[i].Id)===parseInt(e.DEFAULT_SEARCH_ENGINE))return t(e.SEARCH_ENGINES[i].Url,r.join(" "),n)})},go:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];e=[].concat(e),e.forEach(function(n,o){"string"==typeof n&&n.length>0&&(e.length>1&&(t.inBackground=o!==e.length-1),vivaldi.utilities.isUrlValid(n,function(e){e.urlValid&&e.schemeValid?i(n,t):!function(){var e="http://"+n;h(e)?vivaldi.utilities.isUrlValid(e,function(n){n.urlValid&&n.schemeValid&&i(e,t)}):A.get("URLBAR_SEARCH_DISABLED",function(o){r(n,function(r){return o!==!0||r===!0?m.goSearchURL(n,t):void i(e,t)})})}()}),n&&t.addTypedHistory&&m.addTypedHistory(n))})},showTypedHistory:function(){u.handleViewAction({actionType:c.URLFIELD_TYPED_HISTORY_SHOW})},hideTypedHistory:function(){u.handleViewAction({actionType:c.URLFIELD_TYPED_HISTORY_HIDE})},deleteTypedHistory:function(e){u.handleViewAction({actionType:c.NAVIGATION_TYPED_HISTORY_DELETE,url:e})}};d.history.onVisitRemoved.addListener(o),e.exports=m},function(e,t,n){"use strict";var i=n(16).EventEmitter,r=n(8),o=n(5),a="change",s={},l={},u="",c=Object.assign({},i.prototype,{emitChange:function(){this.emit(a)},emitChangeParam:function(e){this.emit(a,e)},addChangeListener:function(e){this.on(a,e)},removeChangeListener:function(e){this.removeListener(a,e)},isFindInPageOpen:function(e){return s[e.get("id")]===!0},getFindResultsForPage:function(e){var t=l[e.get("id")];return void 0===t&&(t={activeMatchOrdinal:0,numberOfMatches:0,searchText:u,canceled:!1,matchCase:!1}),t.isFindInPageToolbarOpen=s[e.get("id")]===!0||!1,t}});r.register(function(e){var t=e.action;switch(t.actionType){case o.WEBPAGEVIEW_ACTIONS:"findInPage"===t.action?s[t.page.get("id")]=!0:"findNextInPage"===t.action||"findPreviousInPage"===t.action?s[t.page.get("id")]!==!0&&(s[t.page.get("id")]=!0,c.emitChangeParam({type:o.WEBPAGEVIEW_ACTIONS,action:"findInPage",page:t.page})):"focusWebView"!==t.action&&"focusSearchField"!==t.action||c.emitChangeParam({type:o.URLFIELD_BLUR}),c.emitChangeParam({type:o.WEBPAGEVIEW_ACTIONS,action:t.action,page:t.page});break;case o.PAGE_OPEN_URL:s[t.page.get("id")]===!0&&(s[t.page.get("id")]=!1,c.emitChangeParam({type:o.CLOSE_FIND_IN_PAGE_ACTION,page:t.page}));break;case o.FIND_IN_PAGE_RESULT_ACTION:s[t.page.get("id")]&&(l[t.page.get("id")]=t,u=t.searchText,c.emitChangeParam(Object.assign({type:o.FIND_IN_PAGE_RESULT_ACTION,page:t.page},t.results)));break;case o.SHOW_FIND_IN_PAGE_ACTION:s[t.page.get("id")]?c.emitChangeParam({type:o.FIND_IN_PAGE_FOCUS,page:t.page}):(s[t.page.get("id")]=!0,c.emitChangeParam({type:o.SHOW_FIND_IN_PAGE_ACTION,page:t.page}));break;case o.CLOSE_FIND_IN_PAGE_ACTION:s[t.page.get("id")]&&(s[t.page.get("id")]=!1,c.emitChangeParam({type:o.CLOSE_FIND_IN_PAGE_ACTION,page:t.page}));break;case o.PAGE_GO:c.emitChangeParam({type:o.PAGE_GO,index:t.index});break;case o.PAGE_DISCARD:case o.PAGE_UPDATED:c.emitChangeParam({type:t.actionType,page:t.page});break;case o.PAGE_RELOAD:c.emitChangeParam({type:o.PAGE_RELOAD,bypassCache:t.bypassCache});break;case o.PAGE_STOP:case o.PAGE_BACK:case o.PAGE_FORWARD:c.emitChangeParam({type:t.actionType});break;case o.MAIN_SHOW_QUICKCOMMANDS:case o.PANEL_SET_FOCUS:c.emitChangeParam({type:o.URLFIELD_BLUR});break;default:return!0}return!0}),e.exports=c},function(e,t,n){function i(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function r(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var i="color: "+this.color;e=[e[0],i,"color: inherit"].concat(Array.prototype.slice.call(e,1));var r=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))}),e.splice(o,0,i),e}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?l.removeItem("debug"):l.debug=e}catch(t){}}function s(){var e;try{e=l.debug}catch(t){}return e}t=e.exports=n(77),t.log=o,t.formatArgs=r,t.save=a,t.load=s,t.useColors=i;var l;l="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:window.localStorage,t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(s())},function(e,t,n){e.exports=n(624)},function(e,t,n){"use strict";var i=n(13),r=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},o=function(e,t){var n=this;if(n.instancePool.length){var i=n.instancePool.pop();return n.call(i,e,t),i}return new n(e,t)},a=function(e,t,n){var i=this;if(i.instancePool.length){var r=i.instancePool.pop();return i.call(r,e,t,n),r}return new i(e,t,n)},s=function(e,t,n,i){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n,i),o}return new r(e,t,n,i)},l=function(e,t,n,i,r){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,e,t,n,i,r),a}return new o(e,t,n,i,r)},u=function(e){var t=this;e instanceof t?void 0:i(!1),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,A=r,d=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||A,n.poolSize||(n.poolSize=c),n.release=u,n},h={addPoolingTo:d,oneArgumentPooler:r,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:l};e.exports=h},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var i=n(3),r=n(20).urls,o=n(250),a=n(410),s=n(2);window.THUMBNAIL_UPDATE=0;var l=440,u=360,c=330,A=270,d={activePageThumbnailUpdates:0,lastPageThumbnailStartTime:0,MAX_CONCURRENT_UPDATES:4,THUMBNAIL_TIMEOUT:6e4,calculateDimensions_:function(e){var t,n=e.thumbUrl&&!e.captureAsBase64;return t=n?{width:l,height:u}:{width:c,height:A}},getPageThumbnail:function(e,t,n,i,r){var o=this;(this.activePageThumbnailUpdates<0||this.activePageThumbnailUpdates>0&&Date.now()-this.lastPageThumbnailStartTime>this.THUMBNAIL_TIMEOUT)&&(console.warn("Dead or mismatched thumbnails updates, active updates: ",this.activePageThumbnailUpdates),this.activePageThumbnailUpdates=0),this.activePageThumbnailUpdates>this.MAX_CONCURRENT_UPDATES||(this.lastPageThumbnailStartTime=Date.now(),this.activePageThumbnailUpdates++,this._updateWebviewThumbnail(n,t,i,this.calculateDimensions_(i),function(e){o.activePageThumbnailUpdates--,e&&r(e)}))},updateBookmarkThumbnail:function(e){e&&this._requestUpdateBookmarkThumbnail(e.id,r.getUrl(e.url),"http://bookmark_thumbnail/"+e.id,function(t){t?i.bookmarks.update(e.id,{thumbnail:t+"?"+Date.now()},function(e){}.bind(this)):console.warn("will not update thumbnail as none was generated")}.bind(this),1024,838,!1)},isBookmarkThumbnailCapture:function(e){return this._isInArrayById(e,this.thumbnailCaptureQueue)||this._isInArrayById(e,this.thumbnailCaptureActive)},getBookmarkThumbnailCaptureBackgroundTaskInfo:function(e){this._getFromArrayById(e,this.backgroundTasks)},_updateOffscreenServiceThumbnail:function(e,t,n,r,o,a){var s=window.vivaldiWindowId+"_vivaldi_window_screenshot_"+r+"x"+o+"-"+Math.random(),l=i.app.window.get(s);l?(console.warn("Tab capture window "+s+" was already open!!"),l.close(),setTimeout(function(){this._updateOffscreenServiceThumbnailHelper(e,t,n,r,o,s,a)}.bind(this),1e3)):this._updateOffscreenServiceThumbnailHelper(e,t,n,r,o,s,a)},_updateOffscreenServiceThumbnailHelper:function(e,t,n,r,o,a,s){r=r?r:640,o=o?o:500,i.app.window.create("components/thumbnail/capture.html",{id:a,outerBounds:{left:100,top:5e3,width:1024,height:838},frame:"none",hidden:!1,focused:!1,thumbnailWindow:!0},function(i){var l=!1,u=function(){var a=i.contentWindow.document.getElementById("capture_view");if(!a)return console.warn("Unable to create capture window with capture_view element!"),i.contentWindow.close(),void(n&&n(void 0));var u,c=function(){a.setVisible(!0),this._updateWebviewThumbnail(a,100,{thumbUrl:t,incognito:s},{width:r,height:o},function(e){u(e)}.bind(this))}.bind(this),A=function(){}.bind(this);u=function(e){l=!0,a.removeEventListener("loadstop",c),a.removeEventListener("loadabort",A),i.contentWindow.close(),n&&n(e)}.bind(this),a.addEventListener("loadstop",c),a.addEventListener("loadabort",A),a.src=e;var d=6e4;setTimeout(function(){l||(console.warn("Capture thumbnail operation timeout after "+d/1e3+"s for "+e),u(void 0))},d)}.bind(this);i.isOpen?(u(),console.warn("Tab capture window "+a+" was already open!!")):(i.isOpen=!0,i.contentWindow.addEventListener("load",u))}.bind(this))},_updateWebviewThumbnail:function(e,t,n,r,o){t=t||0,r=r||this.calculateDimensions_(n);var a=function(e){i.runtime.lastError&&o&&o(void 0),e&&o&&o(e)}.bind(this),s=function(){var t=n.thumbUrl&&!n.captureAsBase64,i=Object.assign({incognito:n.incognito},r);t?e.addToThumbnailService(n.thumbUrl,i,a):e.getThumbnail(r,a)};t?setTimeout(s,t):s()},thumbnailCaptureQueue:[],thumbnailCaptureActive:[],thumbnailCaptureMaxActive:1,thumbnailCaptureProcessId:"thumbnailCapture",backgroundTasks:[],_requestUpdateBookmarkThumbnail:function(e,t,n,i,r,a,l){if(!this.isBookmarkThumbnailCapture(e)){if(this.thumbnailCaptureQueue.push({id:e,url:t,thumbUrl:n,callback:i,width:r,height:a,incognito:l}),this.thumbnailCaptureActive.length>=this.thumbnailCaptureMaxActive){var u=this._getFromArrayById(this.thumbnailCaptureProcessId,this.backgroundTasks);return u&&(u.description=s("$1 bookmark waiting for update.","$1 bookmarks waiting for update.",[this.thumbnailCaptureQueue.length]),u.text=this.thumbnailCaptureQueue.length+1),void o.setBackgroundTasks(this.backgroundTasks)}this._processCaptureQueue()}},_processCaptureQueue:function(){var e=this._getFromArrayById(this.thumbnailCaptureProcessId,this.backgroundTasks);if(e||(e=new a(this.thumbnailCaptureProcessId,"","Thumbnail Capture",{backgroundImage:"url(/resources/reload-status@2x.png)",backgroundSize:"16px 16px",animation:"spin 2s infinite linear",display:"inline-block",minWidth:"16px",padding:"0"},"",[{name:s("Cancel"),handler:function(){this.thumbnailCaptureQueue=[]}.bind(this)}]),this.backgroundTasks.push(e)),0===this.thumbnailCaptureQueue.length)return void(0===this.thumbnailCaptureActive.length&&(this._removeFromArrayById(this.thumbnailCaptureProcessId,this.backgroundTasks),o.setBackgroundTasks(this.backgroundTasks)));var t=this.thumbnailCaptureQueue.shift();this.thumbnailCaptureActive.push(t);var n=function(e){t.callback&&t.callback(e),this._removeFromArrayById(t.id,this.thumbnailCaptureActive),setTimeout(function(){this._processCaptureQueue()}.bind(this),500)}.bind(this);this._updateOffscreenServiceThumbnail(t.url,t.thumbUrl,n,t.width,t.height,t.incognito),e.title=s("Updating thumbnail for $1",[t.url]),e.description=s("$1 bookmark waiting for update.","$1 bookmarks waiting for update.",[this.thumbnailCaptureQueue.length]),e.text=this.thumbnailCaptureQueue.length+1,o.setBackgroundTasks(this.backgroundTasks)},_getFromArrayById:function(e,t){for(var n=0;n<t.length;n++)if(t[n].id===e)return t[n];return null},_isInArrayById:function(e,t){return!!this._getFromArrayById(e,t)},_removeFromArrayById:function(e,t){for(var n=0;n<t.length;n++)t[n].id===e&&t.splice(n,1)}};e.exports=d},function(e,t,n){"use strict";function i(e){_=function t(e,n){return e.speeddial&&!e.url&&n.push(e),e.children&&e.id!==f&&e.children.forEach(function(e){t(e,n)}),n}(e,[])}function r(e,t){var n=parseInt(e);return"number"!=typeof n||Array.isArray(e)&&0===e.length?void console.warn("findBookmarkBarFolder called without proper folderId"):(E=e,void A.bookmarks.get(E,function(e){A.runtime.lastError&&(E="1"),A.bookmarks.getSubTree(E,function(e){A.runtime.lastError||(v=e,t?t():S.emitChange())})}))}function o(e){function t(e){var n;return e.trash?e:(e.children&&e.children.forEach(function(e){n=t(e)}),n)}var n;return g.forEach(function(e){n=t(e)}),n}function a(e){e.parentId||(e.parentId="1"),d(e.url)||A.bookmarks.create(e)}function s(e,t){m=e[0],g=e,i(m),g[0].children[0].children.push(o()),E=t,r(t,function(){return S.emitChange()})}var l=n(8),u=n(5),c=n(16).EventEmitter,A=n(3),d=n(34).isInternalURL,h="change",p={children:[]},f="4",m=p,g=[],v=[],E=-1,_=[],S=Object.assign({},c.prototype,{getBookmarksBar:function(){return v&&v[0]&&v[0].children?v[0].children:[]},getBookmarksData:function(){return g&&g.length>0&&g[0]&&g[0].children[0]&&g[0].children[0].children?g[0].children[0].children:[]},getBookmarksRootNode:function(){return m},getBookmarkBarFolderId:function(){return E},getSpeeddialNodes:function(){return _},getFlatListOfBookmarksFolders:function(){function e(i){!i.url&&i.children&&-1===t.indexOf(i.id)&&n.push(i),i.children&&i.children.forEach(function(t){t.trash||e(t)})}var t=["0","1","2"],n=[];return g.forEach(function(t){e(t)}),n},getNicknamedFolders:function(e){return S.getFlatListOfBookmarksFolders().find(function(t){return t&&t.nickname&&0===t.nickname.indexOf(e)})},hasNickname:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];if(e=e.toLowerCase(),""===e.trim())return!1;var t=function n(t){return e===t.nickname.toLowerCase()?!0:t.children?t.children.some(n):void 0};return g.some(t)},getNicknamed:function(e){if("string"!=typeof e||e.length<1)return[];e=e.toLowerCase();var t=[],n=function i(n){e===n.nickname.toLowerCase()&&(t=n.children?t.concat(n.children.filter(function(e){return!e.children})):t.concat(n)),n.children&&n.children.forEach(i)};return g.forEach(n),t},emitChange:function(){this.emit(h)},addChangeListener:function(e){this.on(h,e)},removeChangeListener:function(e){this.removeListener(h,e)}});l.register(function(e){var t=e.action;switch(t.actionType){case u.BOOKMARKS_LOAD:s(t.bookmarks,t.bookmarkFolderId);break;case u.BOOKMARKS_BOOKMARK_BAR_CONFIG_ACTION:r(t.folderId);break;case u.BOOKMARKS_CREATE_BOOKMARK:a(t.obj);break;default:return!0}}),e.exports=window.BookmarkStore=S},function(e,t,n){"use strict";function i(e,t){var n=e||O;return e&&e.h&&Array.isArray(e.h)&&e.h.length>y&&(n.h=E.take(e.h,y)),n&&n.h&&t&&(n.h=n.h.filter(function(e){return e.u!==t})),n}function r(e){return E.reduce(e,function(e,t,n){return"t"===n?e.title=t:"u"===n&&(e.url=t),e},{})}function o(e){return E.map(e?e.h:[],r)}function a(e){if("function"!=typeof e)throw TypeError("loadTypedHistory: callback required");m.get("TYPED_HISTORY",function(t){var n=O;try{t&&(n=JSON.parse(t))}catch(i){console.warn("Unable to parse typed history JSON. TODO: fix!",i)}n&&e(n)})}function s(e,t){a(function(n){var r=i(n,e),a={u:e};t&&(a.t=t),r.h=[a].concat(r.h),m.set({TYPED_HISTORY:JSON.stringify(r)}),I=o(r),N.emitChange()})}function l(){m.remove("TYPED_HISTORY"),I=[],N.emitChange()}function u(e,t){var n={h:Array.from(e.h).filter(function(e){return e.u!==t})};m.set({TYPED_HISTORY:JSON.stringify(n)}),I=o(n)}function c(e){a(function(t){u(t,e),N.emitChange()})}function A(e,t){var n=(e||"").toString();if(e){var i=b[n]||{};b[n]=Object.assign({},i,t),S("set",t,"now",i)}}function d(e){if(null==e)throw"urlbarstore: Need pageId";for(var t=(e||"").toString(),n=!1,i=arguments.length,r=Array(i>1?i-1:0),o=1;i>o;o++)r[o-1]=arguments[o];return 0===r.length?b[t]&&(delete b[t],n=!0):r.forEach(function(e){delete b[t][e],n=!0}),n}var h=n(19),p=n(8),f=n(5),m=n(4),g=n(16),v=g.EventEmitter,E=n(17),_=n(48),S=_("urlbarstore"),y=50,b={},C=!1,I=[],T=!1,O={h:[]},w={editUrl:void 0,selectionStart:-1,selectionEnd:-1,isOmniDropdownOpen:!1,isActive:!1},N=Object.assign({},v.prototype,{getUrlfieldState:function(e){return this.getUrlfieldStateFromId(e.get("id"))},getUrlfieldStateFromId:function(e){var t=Object.assign({},null!=e?b[e.toString()]:{}),n=Object.keys(w).reduce(function(e,t){return void 0===e[t]&&(e[t]=w[t]),e},t);return n},showTypedHistory:function(){return C===!0},getTypedHistory:function(e){return"function"==typeof e?I.filter(e):I},emitChange:function(){this.emit(f.CHANGED)}});p.register(function(e){var t=e.action;switch(t.actionType){case f.URLFIELD_SET_STATE:A(t.pageId,t.state),N.emitChange();break;case f.URLFIELD_TYPED_HISTORY_SHOW:C!==!0&&(C=!0,N.emitChange());break;case f.NAVIGATION_SET_STATE:t.navigationState.get("isLoading")===!1&&(T=!1,"abort"===t.navigationState.get("trigger")&&(d(t.page.get("id")),N.emitChange()));break;case f.CHROME_TABS_CREATED:T=!0;break;case f.CHROME_TABS_UPDATED:"loading"===t.args[1].status&&(h.isActivePage(t.args[0])||d(t.args[0]));break;case f.URLFIELD_TYPED_HISTORY_HIDE:C!==!1&&(C=!1,N.emitChange());break;case f.NAVIGATION_ADD_TYPED_HISTORY:s(t.url,t.title);break;case f.NAVIGATION_HISTORY_ALL_DELETED:l();break;case f.NAVIGATION_TYPED_HISTORY_DELETE:c(t.url);break;case f.URLFIELD_CLEAR_STATE:T===!1&&d(t.pageId)&&setTimeout(function(){return N.emitChange()},16)}}),setTimeout(function(){return a(function(e){I=o(e),N.emitChange()})},2e3),e.exports=N},function(e,t,n){"use strict";function i(){r.attachRefs(this,this._currentElement)}var r=n(596),o={mountComponent:function(e,t,n,r){var o=e.mountComponent(t,n,r);return e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(i,e),o},unmountComponent:function(e){r.detachRefs(e,e._currentElement),e.unmountComponent()},receiveComponent:function(e,t,n,o){var a=e._currentElement;if(t!==a||o!==e._context){var s=r.shouldUpdateRefs(a,t);s&&r.detachRefs(e,a),e.receiveComponent(t,n,o),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(i,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}};e.exports=o},function(e,t,n){"use strict";function i(e,t,n,i){this.dispatchConfig=e,this.dispatchMarker=t,this.nativeEvent=n;var r=this.constructor.Interface;for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];s?this[o]=s(n):"target"===o?this.target=i:this[o]=n[o]}var l=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;l?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse}var r=n(50),o=n(15),a=n(39),s=(n(18),{type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null});o(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),i.Interface=s,i.augmentClass=function(e,t){var n=this,i=Object.create(n.prototype);o(i,e.prototype),e.prototype=i,e.prototype.constructor=e,e.Interface=o({},n.Interface,t),e.augmentClass=n.augmentClass,r.addPoolingTo(e,r.fourArgumentPooler)},r.addPoolingTo(i,r.fourArgumentPooler),e.exports=i},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){return function(){e.apply(null,t)}}var o=n(36),a=n(14),s=n(8),l=n(5),u=n(4),c=n(9),A={saveCommandShortcutKey:function(e){s.handleViewAction({actionType:l.COMMAND_SAVE_SHORTCUTKEY,command:e})},restoreCommandShortcutKeys:function(){o.getUserEditableCommands().forEach(function(e){var t=u.getDefault(e.name);if(t){var n={gestures:t.gestures?t.gestures:null,shortcut:t.shortcut?t.shortcut:null,showInQC:t.showInQC};u.set(i({},e.name,n))}})},setConfiguration:function(e){s.handleViewAction({actionType:l.COMMAND_SET_CONFIGURATION,commands:e})},configChanged:function(e,t,n){s.handleViewAction({actionType:l.COMMAND_CONF_CHANGED,commandKey:n,commandValue:t})},runAction:function(e){"COMMAND_OPEN_TAB"===e.commandName?a.openPage(e.param):this.executeActions(e.commandName)},executeActions:function(e){for(var t=o.getCommands(),n=0;n<t.length;n++)if(e===t[n].name){var i=r(t[n].action,[t[n].param]);return void i()}},urlChangedTab:function(e){s.handleViewAction({actionType:l.COMMAND_SESSION_CHANGED,command:e})}};c.showMenu.onMainMenuCommand.addListener(function(e,t){if(document.hasFocus()){var n=o.getHandlerFromChromeId(e,t);n?n():A.executeActions(o.chromeIdToCommand(e))}}),e.exports=A},function(e,t,n){"use strict";var i=n(8),r=n(5),o=n(4),a=n(14),s=n(20).urls,l=n(3),u=n(9),c={exitBrowser:function(){u.runtimePrivate.exit()},closeWindow:function(){l.app.window.current().close()},showQuickCommand:function(e,t){i.handleViewAction({actionType:r.MAIN_SHOW_QUICKCOMMANDS})},showKeyboardShortcuts:function(e,t){i.handleViewAction({actionType:r.MAIN_SHOW_KEYBOARDS_SHORTCUTS})},showImportData:function(){i.handleViewAction({actionType:r.MAIN_SHOW_IMPORT_DATA})},showExportData:function(){l.bookmarks["export"]()},showSaveSession:function(){i.handleViewAction({actionType:r.MAIN_SHOW_SAVE_SESSION})},showOpenSession:function(){i.handleViewAction({actionType:r.MAIN_SHOW_OPEN_SESSION})},showPageInfo:function(e,t){i.handleViewAction({actionType:r.MAIN_SHOW_PAGE_INFO,page:e,event:t})},fullScreen:function(){i.handleViewAction({actionType:r.MAIN_FULLSCREEN})},toggleMenuPosition:function(){o.get("VIVALDI_MENU_POSITION",function(e){e="vivaldi"===e?"top":"vivaldi",o.set({VIVALDI_MENU_POSITION:e})}.bind(this))},toggleFooter:function(){o.get("SHOW_VIVALDI_FOOTER",function(e){var t;t="on"===e?"off":"on",o.set({SHOW_VIVALDI_FOOTER:t})}.bind(this))},toggleInterfaceColor:function(){o.get("BROWSER_FG_COLOR",function(e){var t="ui-light"===e?"ui-dark":"ui-light";o.set({BROWSER_FG_COLOR:t})}.bind(this))},showPlugins:function(){a.openURL("vivaldi://plugins",{singleton:!0})},showExtensions:function(){a.openURL("vivaldi://extensions",{singleton:!0})},showHistory:function(){a.openURL("vivaldi://history",{singleton:!0})},showBookmarks:function(){a.openURL("vivaldi://bookmarks",{singleton:!0})},showWelcome:function(){a.openURL("vivaldi://welcome")},showClearPrivateData:function(){a.openURL("vivaldi://chrome/settings/clearBrowserData",{singleton:!0})},showSettings:function(){o.get("USE_SETTINGS_WINDOW_AS_TAB",function(e){e?a.openURL("vivaldi://settings/startup/",{singleton:!0}):l.runtime.sendMessage({getLastSettingsWindowId:-1},function(e){c.MaybeShowSettingsInWindow(e.settingsWindowId)})})},MaybeShowSettingsInWindow:function(e){l.windows.getAll(function(t){for(var n=!0,i=0;i<t.length;i++)if(t[i].id===e){n=!1;break}if(n){var r=740,o=590,u=Number.parseInt(window.screen.availWidth/2-r/2,10),c=Number.parseInt(window.screen.availHeight/2-o/2,10);a.openWindow(s.internals.settings,{width:r,height:o,left:u,top:c,focused:!0,incognito:!1},function(e){l.runtime.sendMessage({setLastSettingsWindowId:e.id})},"popup")}else l.windows.update(e,{focused:!0})})},showTaskManager:function(){u.importData.openTaskManager(function(e){})},showDevTools:function(){u.importData.showDevTools(function(e){})},toggleBookmarksBar:function(){o.get("BOOKMARK_BAR_VISIBLE",function(e){o.set({BOOKMARK_BAR_VISIBLE:!e})}.bind(this))},checkForUpdates:function(){l.autoUpdate.checkForUpdates(!0)},zoomIn:function(){i.handleViewAction({actionType:r.MAIN_ZOOM_IN})},zoomOut:function(){i.handleViewAction({actionType:r.MAIN_ZOOM_OUT})},zoomHalf:function(){i.handleViewAction({actionType:r.MAIN_ZOOM_HALF})},zoomDouble:function(){i.handleViewAction({actionType:r.MAIN_ZOOM_DOUBLE
})},zoomReset:function(){i.handleViewAction({actionType:r.MAIN_ZOOM_RESET})},toggleTabBar:function(){i.handleViewAction({actionType:r.MAIN_TOGGLE_TAB_BAR})},toggleAddressBar:function(){i.handleViewAction({actionType:r.MAIN_TOGGLE_ADDRESS_BAR})},toggleUI:function(){i.handleViewAction({actionType:r.MAIN_TOGGLE_UI})}};e.exports=c},function(e,t,n){"use strict";var i=n(8),r=n(5),o={setNavigationState:function(e,t){i.handleViewAction({actionType:r.NAVIGATION_SET_STATE,page:e,navigationState:t})},setProgressState:function(e,t){i.handleViewAction({actionType:r.NAVIGATION_SET_PROGRESS,page:e,progressState:t})},setSSLState:function(e,t,n){i.handleViewAction({actionType:r.PAGE_SET_SSL_STATE,page:e,state:t,issuer:n})},setThemeColor:function(e,t){i.handleViewAction({actionType:r.NAVIGATION_SET_THEME_COLOR,page:e,color:t})},addBlockedPopupEvent:function(e,t){i.handleViewAction({actionType:r.NAVIGATION_ADD_POPUP,page:e,popupEvent:t})},removeBlockedPopupEvent:function(e,t){i.handleViewAction({actionType:r.NAVIGATION_REMOVE_POPUP,page:e,popupEvent:t})},setPermission:function(e,t,n,o){i.handleViewAction({actionType:r.NAVIGATION_SET_PERMISSION,page:e,permission:t,requestEvent:n,blocked:o})},resetPermissions:function(e){i.handleViewAction({actionType:r.NAVIGATION_RESET_PERMISSIONS,page:e})}};e.exports=o},function(e,t,n){"use strict";var i=n(8),r=n(5),o=n(4),a={loadPromise:function(){var e=this;return new Promise(function(t,n){o.addListener("WEB_PANEL_LIST",e.configChanged),o.addListener("REG_PANEL_LIST",e.configChanged);var i=o.getSync("WEB_PANEL_LIST");void 0!==i&&a.configChanged(null,i,"WEB_PANEL_LIST");var r=o.getSync("REG_PANEL_LIST");void 0!==r&&e.configChanged(null,r,"REG_PANEL_LIST"),t()})},setPanelFocus:function(){i.handleViewAction({actionType:r.PANEL_SET_FOCUS})},showNextPanel:function(e){i.handleViewAction({actionType:r.PANEL_SHOW_NEXT,DIRECTION:e})},togglePanelVisibility:function(){i.handleViewAction({actionType:r.PANEL_TOGGLE})},hidePanelContent:function(){i.handleViewAction({actionType:r.PANEL_HIDE_CONTENT})},setSelectedPanel:function(e){i.handleViewAction({actionType:r.PANEL_SET_SELECTED,SELECTED_PANEL:e})},setPanelAvailable:function(e,t){i.handleViewAction({actionType:r.PANEL_SET_AVAILABLE,panel:e,available:t})},setWidth:function(e){i.handleViewAction({actionType:r.PANEL_SET_WIDTH,PANEL_WIDTH:e})},configChanged:function(e,t,n){i.handleViewAction({actionType:r.PANEL_CONF_SET,key:n,value:t,oldValue:e})},setConfig:function(e){i.handleViewAction({actionType:r.PANEL_CONF_CHANGED,windowExtData:e})},setMailWindowId:function(e){i.handleViewAction({actionType:r.MAIL_WINDOW_ID_SET,mailWindowId:e})}};e.exports=a},function(e,t,n){"use strict";var i=n(8),r=n(5),o=200,a=void 0,s={setStatus:function(e){var t=arguments.length<=1||void 0===arguments[1]?o:arguments[1];e?(i.handleViewAction({actionType:r.STATUS_SET_STATUS,status:e}),window.clearTimeout(a),t!==o&&(a=setTimeout(this.clearStatus,t))):(window.clearTimeout(a),a=setTimeout(this.clearStatus))},clearStatus:function(){i.handleViewAction({actionType:r.STATUS_CLEAR_STATUS})}};e.exports=s},function(e,t){"use strict";e.exports=null},function(e,t,n){"use strict";var i=n(17),r=1,o=2,a=3,s=function(e,t){return t===a?function(t){return t[e]?String.fromCharCode.apply(String,i.map(t[e].slice(0,1e3).split(""),function(e){return 65535-e.charCodeAt(0)})):[]}:function(t){return t[e]?t[e].toLowerCase():[]}},l=function(e,t){return t===a?function(t){return t[e]}:function(t){return-1*t[e]}},u=function A(e,t,n,r){return e.forEach(function(e){var o=i.keys(e);o.forEach(function(o){r="number"==typeof e[t]?l:s,i.isArray(e[o])&&(e[o]=A(e[o],t,n,r))})}),i.sortBy(e,r(t,n))},c=function(e){function t(e){e.children&&!function(){var i=0,r=e.children.length,o=[],a=[];e.children.forEach(function(s){if(s.children||(a.push(i),o.push(s)),s.trash&&(a.push(i),n=s),i++,i===r){for(;a.length;)e.children.splice(a.pop(),1);e.children=e.children.concat(o)}t(s)})}()}var n={};e.forEach(function(e){t(e)}),e[0].children.push(n)};e.exports={treeSort:u,foldersFirst:c,NO_SORTING:r,ASCENDING_SORT:o,DESCENDING_SORT:a}},function(e,t,n){!function(t){"use strict";var n="cuid",i=0,r=4,o=36,a=Math.pow(o,r),s=function(e,t){var n="000000000"+e;return n.substr(n.length-t)},l=function(){return s((Math.random()*a<<0).toString(o),r)},u=function(){return i=a>i?i:0,i++,i-1},c=function(){var e,t="c",n=(new Date).getTime().toString(o),i=c.fingerprint(),a=l()+l();return e=s(u().toString(o),r),t+n+e+i+a};c.slug=function(){var e,t=(new Date).getTime().toString(36),n=c.fingerprint().slice(0,1)+c.fingerprint().slice(-1),i=l().slice(-2);return e=u().toString(36).slice(-4),t.slice(-2)+e+n+i},c.globalCount=function(){var e=function(){var e,t=0;for(e in window)t++;return t}();return c.globalCount=function(){return e},e},c.fingerprint=function(){return s((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+c.globalCount().toString(36),4)},t.register?t.register(n,c):e.exports=c}(this.applitude||this)},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n    <path d="M11.975 14.04H9.02v-2.036h2.955V9h2.037v3.004h2.982v2.037h-2.982v2.934h-2.037V14.04z" />\n</svg>'},function(e,t,n){e.exports=n(573)},function(e,t,n){"use strict";function i(e,t){return(e&t)===t}var r=n(13),o={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(e){var t=o,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},l=e.DOMAttributeNames||{},u=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var A in n){s.properties.hasOwnProperty(A)?r(!1):void 0;var d=A.toLowerCase(),h=n[A],p={attributeName:d,attributeNamespace:null,propertyName:A,mutationMethod:null,mustUseAttribute:i(h,t.MUST_USE_ATTRIBUTE),mustUseProperty:i(h,t.MUST_USE_PROPERTY),hasSideEffects:i(h,t.HAS_SIDE_EFFECTS),hasBooleanValue:i(h,t.HAS_BOOLEAN_VALUE),hasNumericValue:i(h,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:i(h,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:i(h,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(p.mustUseAttribute&&p.mustUseProperty?r(!1):void 0,!p.mustUseProperty&&p.hasSideEffects?r(!1):void 0,p.hasBooleanValue+p.hasNumericValue+p.hasOverloadedBooleanValue<=1?void 0:r(!1),l.hasOwnProperty(A)){var f=l[A];p.attributeName=f}a.hasOwnProperty(A)&&(p.attributeNamespace=a[A]),u.hasOwnProperty(A)&&(p.propertyName=u[A]),c.hasOwnProperty(A)&&(p.mutationMethod=c[A]),s.properties[A]=p}}},a={},s={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},getDefaultValueForProperty:function(e,t){var n,i=a[e];return i||(a[e]=i={}),t in i||(n=document.createElement(e),i[t]=n[t]),i[t]},injection:o};e.exports=s},function(e,t,n){"use strict";function i(e){return h+e.toString(36)}function r(e,t){return e.charAt(t)===h||t===e.length}function o(e){return""===e||e.charAt(0)===h&&e.charAt(e.length-1)!==h}function a(e,t){return 0===t.indexOf(e)&&r(t,e.length)}function s(e){return e?e.substr(0,e.lastIndexOf(h)):""}function l(e,t){if(o(e)&&o(t)?void 0:d(!1),a(e,t)?void 0:d(!1),e===t)return e;var n,i=e.length+p;for(n=i;n<t.length&&!r(t,n);n++);return t.substr(0,n)}function u(e,t){var n=Math.min(e.length,t.length);if(0===n)return"";for(var i=0,a=0;n>=a;a++)if(r(e,a)&&r(t,a))i=a;else if(e.charAt(a)!==t.charAt(a))break;var s=e.substr(0,i);return o(s)?void 0:d(!1),s}function c(e,t,n,i,r,o){e=e||"",t=t||"",e===t?d(!1):void 0;var u=a(t,e);u||a(e,t)?void 0:d(!1);for(var c=0,A=u?s:l,h=e;;h=A(h,t)){var p;if(r&&h===e||o&&h===t||(p=n(h,u,i)),p===!1||h===t)break;c++<f?void 0:d(!1)}}var A=n(235),d=n(13),h=".",p=h.length,f=1e4,m={createReactRootID:function(){return i(A.createReactRootIndex())},createReactID:function(e,t){return e+t},getReactRootIDFromNodeID:function(e){if(e&&e.charAt(0)===h&&e.length>1){var t=e.indexOf(h,1);return t>-1?e.substr(0,t):e}return null},traverseEnterLeave:function(e,t,n,i,r){var o=u(e,t);o!==e&&c(e,o,n,i,!1,!0),o!==t&&c(o,t,n,r,!0,!1)},traverseTwoPhase:function(e,t,n){e&&(c("",e,t,n,!0,!1),c(e,"",t,n,!1,!0))},traverseTwoPhaseSkipTarget:function(e,t,n){e&&(c("",e,t,n,!0,!0),c(e,"",t,n,!0,!0))},traverseAncestors:function(e,t,n){c("",e,t,n,!0,!1)},getFirstCommonAncestorID:u,_getNextDescendantID:l,isAncestorIDOf:a,SEPARATOR:h};e.exports=m},function(e,t,n){"use strict";var i=n(8),r=n(5),o={clearTooltip:function(){i.handleViewAction({actionType:r.TOOLTIP_CLEAR})},hideTooltip:function(e){i.handleViewAction({actionType:r.TOOLTIP_HIDE,id:e})},showTooltip:function(e){i.handleViewAction({actionType:r.TOOLTIP_SHOW,id:e})}};e.exports=o},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(493),a=n(6),s=".fullwidth, .fullheight",l=r.createClass({displayName:"SlideBar",startpos:null,rafHandle:null,getInitialState:function(){return{touchActive:!1}},componentWillUnmount:function(){window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.unbindDragProperties),window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.unbindDragProperties)},handleMouseDown:function(e){e.preventDefault(),window.addEventListener("mousemove",this.handleMouseMove,!1),window.addEventListener("mouseup",this.unbindDragProperties,!1),0===e.button&&this.startDragging(e)},handleTouchStart:function(e){e.preventDefault(),window.addEventListener("touchmove",this.handleTouchMove,!1),window.addEventListener("touchend",this.unbindDragProperties,!1),this.setState({touchActive:!0}),this.startDragging(e.touches[0])},startDragging:function(e){[].forEach.call(document.querySelectorAll(s),function(e){e.parentNode.style.setProperty("will-change","width, height"),e.parentNode.style.setProperty("transition-duration","0ms")}),this.startX=e.screenX,this.startY=e.screenY},handleMouseMove:function(e){this.handleMove(e.screenX,e.screenY)},handleTouchMove:function(e){e.preventDefault(),this.handleMove(e.touches[0].screenX,e.touches[0].screenY)},handleMove:function(e,t){this.rafHandle&&o.cancel(this.rafHandle),this.rafHandle=o(function(){var n=void 0;"left"===this.props.position?n=e-this.startX:"right"===this.props.position?n=this.startX-e:"top"===this.props.position?n=t-this.startY:"bottom"===this.props.position&&(n=this.startY-t),this.props.onSlidebarMove(n)&&(this.startX=e,this.startY=t)}.bind(this))},unbindDragProperties:function(){this.setState({touchActive:!1}),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.unbindDragProperties),window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.unbindDragProperties),[].forEach.call(document.querySelectorAll(s),function(e){e.parentNode.style.removeProperty("will-change"),e.parentNode.style.removeProperty("transition-duration")})},handleClick:function(e){1===e.button&&this.handleDoubleClick(e)},handleDoubleClick:function(e){this.props.onDoubleClick&&this.props.onDoubleClick(e)},render:function(){var e,t="left"===this.props.position||"right"===this.props.position?"fullheight":"fullwidth",n="right"===this.props.position||"bottom"===this.props.position?"alternate":"";return r.createElement("button",{tabIndex:"-1",onTouchStart:this.handleTouchStart,onMouseDown:this.handleMouseDown,onDoubleClick:this.handleDoubleClick,onClick:this.handleClick,className:a((e={},i(e,t,!0),i(e,n,""!==n),i(e,"touch-active",this.state.touchActive),e))})}});e.exports=l},function(e,t,n){"use strict";var i=n(3),r=n(33),o=20,a={openSelectedBookmarks:function(e,t,n){var r=this,a=!0,s=function(t){switch(e.type){case"generic":a?(n?r.openInNewTab(t,!1):r.openInCurrentTab(t),a=!1):r.openInNewTab(t,!1);break;case"newTab":r.openInNewTab(t,e.background);break;case"newWindow":r.openInNewWindow(t,e.background,e.incognito)}};i.bookmarks.get(t,function(e){var t=!0,n=0;e.forEach(function(e){e.url?s(e):i.bookmarks.getSubTree(e.id,function(e){var i=function r(e){e.url&&(o>n?(n++,s(e)):t=!1),e.children&&e.children.forEach(function(e){t&&r(e)})};e.forEach(function(e){i(e)})})})})},openInNewTab:function(e,t){i.runtime.sendMessage({action:"openBookmark",bookmark:e,windowId:window.vivaldiWindowId,incurrent:!1,inbackground:t})},openInCurrentTab:function(e){i.runtime.sendMessage({action:"openBookmark",bookmark:e,windowId:window.vivaldiWindowId,incurrent:!0,inbackground:!1})},openInNewWindow:function(e,t,n){i.runtime.sendMessage({action:"openBookmark",bookmark:e,windowId:window.vivaldiWindowId,inNewWindow:!0,inbackground:t,incognito:n})},getBookmark:function(e,t){"function"==typeof t&&i.bookmarks.get(e,function(e){t(e[0])})},onDelete:function(){var e=this,t=this.state.selectionModel.selectedIds,n=0;-1!==t&&(r.disableBookmarkMutationHandlers(),t.map(function(o){i.bookmarks.get(o.id,function(o){if(i.runtime.lastError)return void r.enableBookmarkMutationHandlers();var a=o&&1===o.length?o[0]:null;e.deleteBookmarkObj(a,function(i){if(n++,t.length===n){var o=a.children&&a.children.length>0||void 0===a.url,s=e.selectNextItemAfterDelete(a.id,o);r.enableBookmarkMutationHandlers(),s?e.selectById(s):e.resetSelectionModel()}})})}))},deleteBookmarkObj:function(e,t){if(e.trash)return void t();var n=e.children&&e.children.length>0||void 0===e.url;n?i.bookmarks.removeTree(e.id,t):i.bookmarks.remove(e.id,t)},isPageBookmarked:function(e,t){return e?void i.bookmarks.search({url:e},function(e){var n=!!(e&&e.length>0),i={bookmarked:n};n&&(i.bookmarkObj=e[0]),t(i)}.bind(this)):void t({bookmarked:!1})}};e.exports=a},function(e,t,n){(function(t){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=n(53),o=n(92),a=n(26),s=n(390).OmniNavigation,l=n(7),u=n(1),c=n(12),A=n(253),d=n(188),h=n(46),p=n(54),f=n(5),m=n(35),g=n(47),v=n(3),E=n(48),_=n(428),S=n(431),y=n(17),b=n(76),C=n(440),I=n(27),T=n(20).urls,O=n(9),w=n(34),N=w.hasUnknownProtocol,k=w.removeProtocol,D=E("urlfield"),M=!1,P=!0,L={},x="Win32"===navigator.platform,R=u.createClass({displayName:"UrlField",mixins:[l],_compProtocol:"",_typedUrl:"",_complist:[],_results:0,_isSearching:!1,_isEdited:!1,_wasKeyMapped:!0,propTypes:{autocompletionEnabled:u.PropTypes.bool,hideDropdown:u.PropTypes.func,onUrlFieldChanged:u.PropTypes.func,suggestEnabled:u.PropTypes.bool},getInitialState:function(){return{isFocused:!1}},_onWebpageviewStoreChanged:function(e){this.isMounted()&&e.type===f.URLFIELD_BLUR&&c.findDOMNode(this)===document.activeElement&&this.hideDropdown()},_onSearchSuggestionsChanged:function(e){var n=this,i=e.suggestions,r=e.query,o=this._maybeRemovePrefix(this._typedUrl);(o.startsWith(r)||r.startsWith(o))&&t.nextTick(function(){return n.searchDoneSuggest(i)})},componentDidMount:function(){g.addChangeListener(this._onWebpageviewStoreChanged),d.addListener(f.SEARCH_SUGGEST_RESULT,this._onSearchSuggestionsChanged),c.findDOMNode(this).addEventListener("select",this.onSelect),this.refs.urlInput.addEventListener("focus",this.onFocus),this.refs.urlInput.addEventListener("blur",this.onBlur)},componentWillUnmount:function(){g.removeChangeListener(this._onWebpageviewStoreChanged),d.removeListener(f.SEARCH_SUGGEST_RESULT,this._onSearchSuggestionsChanged),c.findDOMNode(this).removeEventListener("select",this.onSelect),this.refs.urlInput.removeEventListener("focus",this.onFocus),this.refs.urlInput.removeEventListener("blur",this.onBlur)},componentWillReceiveProps:function(e){!e.editUrl&&this._typedUrl&&(this._typedUrl=e.editUrl)},setSelectionRange:function(e,t){var n=c.findDOMNode(this);D("setting selection to",e,t),n.setSelectionRange(e,t)},updateDropDown:function(){D("updating dropdown"),"function"==typeof this.props.showDropdown&&(this._hasLeftPage||""===c.findDOMNode(this).value||this.props.showDropdown(this._complist,this._typedUrl))},getTypedURL:function(){return this._typedUrl},_shouldAutocompleteTitle:function(){return P&&this.props.autocompleteOnTitle===!0},updateAutocomplete:function(e){if(D("updating input value",e),this.props.autocompletionEnabled===!0&&this._wasKeyMapped===!0&&(!Array.isArray(e)||0!==e.length)){if(null==e||"undefined"==typeof e.url&&(!Array.isArray(e.urls)||0===e.urls.length))throw TypeError("updateAutocomplete needs an item with an url(s) property",e);var t=(this._typedUrl||"").length,n="",i=0;e.type===o.OMNI_RESULT_BOOKMARK_TITLE_EXACT?n=this._typedUrl+e.title.substr(this._typedUrl.length):(i=e.url.toLowerCase().indexOf(this._typedUrl.toLowerCase()),n=e.url.substr(0,i)+this._typedUrl+e.url.substr(i+this._typedUrl.length));var r=n.indexOf("://")+1;r>0&&(r+=2);var a=c.findDOMNode(this),s=a.value&&a.selectionEnd===a.value.length;0!==i&&i!==r&&(i!==r+4||"www."!==n.substr(r,4))||this._completed?e.nickname&&e.nickname===this._typedUrl&&s&&h.setUrlfieldState(this.props.pageId,{editUrl:e.nickname,selectionStart:e.nickname.length,selectionEnd:e.nickname.length}):document.activeElement===c.findDOMNode(this)&&(N(n.substr(0,i))&&(this._compProtocol=n.substr(0,i)),this._completed=!0,s&&h.setUrlfieldState(this.props.pageId,{editUrl:n.substr(i),selectionStart:t,selectionEnd:n.length-i}))}},getCompleted:function(e){if(!Array.isArray(e))throw TypeError("getCompleted needs a list of items");if(0===e.length||this.props.autocompletionEnabled===!1)return[];for(var t=-1,n=-1,i=-1,r=-1,a=-1,s=0;s<e.length;s++){var l=e[s];if(l.type!==o.OMNI_RESULT_FOLDER_NICKNAME&&"string"==typeof l.url&&""!==l.url.length){var u=l.url.toLowerCase().indexOf(this._typedUrl.toLowerCase()),c=l.url.indexOf("://")+1;c>0&&(c+=2);var A=0===l.type.indexOf("OMNI_RESULT_BOOKMARK"),d=0===u||u===c||u===c+4&&"www."===l.url.substr(c,4);if(l.nickname&&this._typedUrl.toLowerCase()===l.nickname.toLowerCase())return l;d?(l.type!==o.OMNI_RESULT_HISTORY_PROMOTED||-1!==t&&!C(e[t],l)?l.type!==o.OMNI_RESULT_BOOKMARK_PROMOTED||-1!==n&&!C(e[n],l)?0===l.type.indexOf("OMNI_RESULT_HISTORY")&&-1===t?t=s:A&&(-1===n||C(e[n],l))?n=s:0===l.type.indexOf("OMNI_RESULT_TYPED_HISTORY")&&(-1===a?a=s:C(e[a],l)&&(a=s)):n=s:t=s,this.props.autcompletionPreferBookmarks!==!0&&-1===r&&(r=[n,t].find(function(e){return-1!==e&&"number"==typeof e}))):this._shouldAutocompleteTitle()&&A&&0===l.title.toLowerCase().indexOf(this._typedUrl.toLowerCase())&&(-1===i?i=s:e[i].title.length<l.title.length&&(i=s))}}var h=[n,i,a,t].find(function(e){return-1!==e&&"number"==typeof e});return this.props.autocompletionPreferBookmarks===!1?-1!==r&&(h=r):-1!==n?h=n:-1!==i&&(h=i),h>=0?e[h]:void 0},searchDone:function(){this._complist=y.union(L[o.OMNI_TYPE_HISTORY],L[o.OMNI_TYPE_BOOKMARK],L[o.OMNI_TYPE_TYPED_HISTORY],L[o.OMNI_TYPE_SUGGEST]),++this._results>2&&(D("typed",this._typedUrl,"edit",this.props.editUrl,"display",this.props.displayUrl,"complist",this._complist,"incremeneted?",this.inputWasIncr,"decremented?",this.inputWasDecr),this.inputWasDecr?(this._completedItem=void 0,this._completed=!1):(this._completedItem=this.getCompleted(this._complist),this._completedItem&&this.updateAutocomplete(this._completedItem),D("picked completed item",this._completedItem)),this._isSearching=!1),this.updateDropDown()},searchDoneBookmarks:function(e){return L[o.OMNI_TYPE_BOOKMARK]=e,this.searchDone()},searchDoneHistory:function(e){return L[o.OMNI_TYPE_HISTORY]=e,this.searchDone()},searchDoneTypedHistory:function(e){return L[o.OMNI_TYPE_TYPED_HISTORY]=e.map(function(e){return y.assign(e,{type:o.OMNI_RESULT_TYPED_HISTORY})}),this.searchDone()},_maybePrefixWithKeyword:function(e){return this.props.typedSearchEngine&&this.props.typedSearchEngine.Keyword&&!e.startsWith(this.props.typedSearchEngine.Keyword+" ")?this.props.typedSearchEngine.Keyword+" "+e:e},_maybeRemovePrefix:function(e){var t=this.props.typedSearchEngine;return t&&this._typedUrl.startsWith(t.Keyword+" ")?this._typedUrl.substr(t.Keyword.length+1):e},searchDoneSuggest:function(e){var t=this;return L[o.OMNI_TYPE_SUGGEST]=e.map(function(e){return{id:e,url:t._maybePrefixWithKeyword(e),type:o.OMNI_RESULT_SUGGEST}}),this.searchDone()},getBookmarkType:function(e,t){var n="",i=t.join(" "),r=new RegExp(_(i),"gi");return e.nickname&&e.nickname===i?n=o.OMNI_RESULT_BOOKMARK_NICKNAME:e.children||"string"!=typeof e.url||(S(i,e.url)?n=o.OMNI_RESULT_BOOKMARK_URL_HOST:this._shouldAutocompleteTitle()&&e.title&&0===e.title.toLowerCase().indexOf(i.toLowerCase())?n=o.OMNI_RESULT_BOOKMARK_TITLE_EXACT:null!==e.url.match(r)?n="/"===e.url.charAt(e.url.length-1)?o.OMNI_RESULT_BOOKMARK_PROMOTED:o.OMNI_RESULT_BOOKMARK_URL:e.title&&null!==e.title.match(r)?n=o.OMNI_RESULT_BOOKMARK_TITLE:e.description&&null!==e.description.match(r)&&(n=o.OMNI_RESULT_BOOKMARK_DESCRIPTION)),n},getHistoryType:function(e,t){var n="";return t.forEach(function(i){var r=t.join(" "),a=new RegExp(_(r),"gi");e.url&&null!==e.url.match(a)?n="/"===e.url.charAt(e.url.length-1)?o.OMNI_RESULT_HISTORY_PROMOTED:o.OMNI_RESULT_HISTORY_URL:e.title&&null!==e.title.match(a)&&(n=o.OMNI_RESULT_HISTORY_TITLE)}),n},onBookmarksSearched:function(e,t,n,i,r){function a(e,t){return t===o.OMNI_RESULT_BOOKMARK_URL_HOST?e+500:t===o.OMNI_RESULT_BOOKMARK_PROMOTED?e+200:e}var s=[],l=null,u=0,c=100;if(M&&console.timeEnd("bookmarks"),this.props.pageId!==n||this._hasLeftPage)return this.searchDoneBookmarks([]);var A=function(t){if(!t.trash){var n=T.getDisplayUrl(t.url);l=this.getBookmarkType(t,e),t.children?(""!==l&&!function(){var e=[];t.children.forEach(function(t){t.children||(e=e.concat(t.url))}),u++,s.push({id:t.id,urls:e,title:t.title,type:o.OMNI_RESULT_FOLDER_NICKNAME,score:a(c,o.OMNI_RESULT_FOLDER_NICKNAME),nickname:t.nickname})}(),t.children.forEach(A)):""!==l&&(u++,s.push({id:t.id,url:n,title:t.title,type:l,score:a(c,l),nickname:t.nickname}))}}.bind(this);r.forEach(A),this.props.pageId!==n||this._hasLeftPage||this.searchDoneBookmarks(s),M&&console.log("Bookmark search for",t,"on",n,"returned",s.length,"results","took",((Date.now()-i)/1e3).toFixed(2),"s")},searchHistory:function(e){function t(e,t,n,i){return(i===!0?300:0)+e+(t>0?300:0)+2*n}var n=e.replace(/\s+/g," ").split(" "),i=[],r=300;if(0===n.length)return this.searchDoneHistory([]);D("words",n.length,n,"|"+e+"|"),M&&console.time("history");var a=n.join(" ").replace(/^\s+|\s+$/g,"");D("searching history",a,this.props.pageId);var s=v.history.search;O.historySearch.dbSearch&&(s=O.historySearch.dbSearch),s({text:a,startTime:0,maxResults:1e3},function(e,s,l){return M&&console.timeEnd("history"),this.props.pageId!==e||this._hasLeftPage?this.searchDoneHistory([]):(D("got",l.length,"history results for term",a),l=l.filter(function(e){return e&&"string"==typeof e.url&&e.url.length<2048&&(0===e.url.indexOf("http")||0===e.url.indexOf("file")||0===e.url.indexOf("ftp"))}),l.forEach(function(e){e.url=T.getDisplayUrl(e.url);var a=this.getHistoryType(e,n);""!==a&&i.push({id:e.url,url:e.url,type:a,title:e.title,typed:e.typedCount>0,score:t(r,e.typedCount,e.visitCount,a===o.OMNI_RESULT_HISTORY_PROMOTED)}),r--}.bind(this)),i=i.sort(function(e,t){return t.score-e.score}.bind(this)),this.props.pageId!==e||this._hasLeftPage||this.searchDoneHistory(i),void(M&&console.log("History search for",a,"on",e,"returned",i.length,"results","took",((Date.now()-s)/1e3).toFixed(2),"s")))}.bind(this,this.props.pageId,Date.now()))},searchBookmarks:function(e){var t=e.replace(/\s+/g," ").split(" ");if(0===t.length)return this.searchDoneBookmarks([]);M&&console.time("bookmarks");var n=this.onBookmarksSearched.bind(this,t,e,this.props.pageId,Date.now());y.delay(n,50,[r.getBookmarksRootNode()])},searchTypedHistory:function(e){this.searchDoneTypedHistory(p.getTypedHistory(function(t){return 0===t.url.indexOf(e)}))},_throttledSearchSuggest:y.throttle(function(e,t){return A.suggest(e,t)},500),onMouseUp:function(e){e.target.selectionStart===e.target.selectionEnd&&(this._focusedOnMouseDown!==c.findDOMNode(this)?("function"==typeof e.target.select&&e.target.select(),this._focusedOnMouseDown=null):this.onSelect({target:e.target}))},onMouseDown:function(e){this._focusedOnMouseDown=document.activeElement},onChange:function(e){var t=e.target;h.setUrlfieldState(this.props.pageId,{editUrl:t.value,selectionStart:t.selectionStart,selectionEnd:t.selectionEnd}),""!==t.value.trim()?this.performSearch():this.hideDropdown(),"function"==typeof this.props.onUrlFieldChanged&&this.props.onUrlFieldChanged(t.value)},onSelect:function(e){if(e&&e.target){var t=e.target;D("got select event",e,e.nativeEvent,t.selectionStart,t.selectionEnd,t.value),""!==t.value.trim()?h.setUrlfieldState(this.props.pageId,{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd}):h.setUrlfieldState(this.props.pageId,{selectionStart:null,selectionEnd:null})}},_throttledSearch:y.throttle(function(e,t,n){if(D("throttled search fired",this._typedUrl,n,this.props.pageId),this.props.pageId===n&&!this._hasLeftPage)if(this._isSearching)this._isSearching=!1,this._throttledSearch.apply(this,arguments);else{this._isSearching=!0,this._results=0,this._completed=!1,this._compProtocol="",this._complist=[],this._completedItem=void 0,this.searchHistory(this._typedUrl),this.searchBookmarks(this._typedUrl),this.searchTypedHistory(this._typedUrl);var i=this.props,r=i.typedSearchEngine,o=i.defaultSearchEngine;if(this.props.suggestEnabled&&(r&&r.SuggestUrl||!r&&o&&o.SuggestUrl)){var a=r&&this._maybeRemovePrefix(this._typedUrl)||this._typedUrl;a.trim()?this._throttledSearchSuggest(a,r||o):this.searchDoneSuggest([])}else this.searchDoneSuggest([])}},200),performSearch:function(){var e=c.findDOMNode(this);D("performing search, val=",e.value,i(e.value),"typed=",this._typedUrl,i(this._typedUrl)),e.value!==this._typedUrl&&""!==e.value.trim()&&(D("edit",this.props.editUrl,"display",this.props.displayUrl,"edit",this.props.editUrl,"el",e.value,"typed",this._typedUrl),this._typedUrl?(this.inputWasIncr=0===e.value.indexOf(this._typedUrl),this.inputWasDecr=0===(this._typedUrl||"").indexOf(e.value)||e.value.length<this._typedUrl.length):(this.inputWasIncr=0===e.value.indexOf(this.props.editUrl),this.inputWasDecr=0===(this.props.displayUrl||"").indexOf(e.value)),(this.inputWasDecr||!this.inputWasIncr&&!this.inputWasDecr)&&(this._completedItem=void 0),D("Incremented:",this.inputWasIncr,"decremented:",this.inputWasDecr,"value",e.value,"display",this.props.displayUrl,"edit",this.props.editUrl,"typed",this._typedUrl),this._typedUrl=e.value,e.value.length>0?(this.inputWasIncr&&this._completedItem&&"undefined"!=typeof this._completedItem.url&&(D("updating with",this._completedItem),this._completed=!1,this.updateAutocomplete(this._completedItem)),this._hasLeftPage=!1,this._throttledSearch(this,e,this.props.pageId)):(this.hideDropdown(),D("hiding dropdown, no search")))},isUrlRevertable:function(){var e=c.findDOMNode(this);return e.value!==this.props.url&&e.value!==this.props.displayUrl},removeSelection:function(){var e=this,n=window.getSelection();n&&(n.empty(),D("removed selection"),t.nextTick(function(){return h.setUrlfieldState(e.props.pageId,{selectionStart:null,selectionEnd:null})}))},revertUrl:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0],t=c.findDOMNode(this);D("reverting from",t.value,"to either",this.props.url,"or",this.props.displayUrl),this._compProtocol="";var n=Object.assign({editUrl:null},e?{selectionStart:0,selectionEnd:this.props.url.length}:{});h.setUrlfieldState(this.props.pageId,n)},onEscPressed:function(e){this._typedUrl="",this.props.isOmniDropdownOpen===!0||this.props.isTypedHistoryOpen===!0?this.hideDropdown():this.isUrlRevertable()?(D("reverting url because its revertable"),this.revertUrl(!0)):(D("not revertable - moving focus to webview"),this.removeSelection(),m.doAction("focusWebView"))},hideDropdown:function(){"function"==typeof this.props.hideDropdown&&this.props.hideDropdown()},_modEnter:function(){var e=c.findDOMNode(this);-1===e.value.indexOf(".")&&e.value.match(/^([a-z0-9]+)$/i)&&(e.value="www."+RegExp.$1+".com",h.setUrlfieldState(this.props.pageId,{editUrl:e.value}),e.blur()),this.props.fieldGo()},onClipboardEvent:function(e){if(0===this.props.selectionStart&&null==this.props.editUrl){var t=e.target.value.substring(0,this.props.selectionEnd),n=I.parse(t);if(!n.protocol){var i=I.parse(T.getDisplayUrl(this.props.url));t=i.protocol+(i.slashes?"//":"")+t}e.clipboardData.setData("text",T.getDisplayUrl(t)),"cut"===e.type&&(h.setUrlfieldState(this.props.pageId,{editUrl:e.target.value.substr(this.props.selectionEnd)}),e.target.setSelectionRange(0,0)),e.preventDefault()}},_initializeNavigation:function(){if(this._isNavigationInitialized!==!0){var e=new s(this);this._up=e.up.bind(e),this._down=e.down.bind(e),this._pageUp=e.pageUp.bind(e),this._pageDown=e.pageDown.bind(e),a.bind("up",this._up),a.bind("down",this._down),a.bind("pageup",this._pageUp),a.bind("pagedown",this._pageDown),this._isNavigationInitialized=!0}},_cleanupNavigation:function(){if(this._isNavigationInitialized===!0)try{a.unbind("up",this._up),a.unbind("down",this._down),a.unbind("pageup",this._pageUp),a.unbind("pagedown",this._pageDown),this._up=this._down=this._pageUp=this._pageDown=void 0}finally{this._isNavigationInitialized=!1}},onFocus:function(e){if(D("focus"),this._compProtocol="","function"==typeof this.props.hideDropdown){document.addEventListener("copy",this.onClipboardEvent,!1),document.addEventListener("cut",this.onClipboardEvent,!1),this._initializeNavigation();var t="MacIntel"===navigator.platform?"meta+enter":"ctrl+enter";a.bind(t,this._modEnter)}this.setState({isFocused:!0}),"function"==typeof this.props.onFocus&&this.props.onFocus()},onBlur:function(e){if(D("blur"),"function"==typeof this.props.onBlur&&this.props.onBlur(),"function"==typeof this.props.hideDropdown){document.removeEventListener("copy",this.onClipboardEvent,!1),document.removeEventListener("cut",this.onClipboardEvent,!1),this._cleanupNavigation();var t="MacIntel"===navigator.platform?"meta+enter":"ctrl+enter";a.unbind(t,this._modEnter)}e&&e.relatedTarget&&"WEBVIEW"===e.relatedTarget.tagName.toUpperCase()&&(this.removeSelection(),this.hideDropdown()),this.setState({isFocused:!1})},onKeyDown:function(e){var n=this;"function"==typeof this.props.onKeyDown&&this.props.onKeyDown(e);var i=e.target;if(e&&e.nativeEvent){var o=y.every(["ctrlKey","altKey","metaKey","shiftKey"],function(t){return y.isEqual(e[t],!1)});if(x&&(this._wasKeyMapped="U+0000"!==e.nativeEvent.keyIdentifier),D("keyboard event",e.nativeEvent),"Enter"===e.nativeEvent.keyIdentifier){if(D("enter pressed!!"),"function"==typeof this.props.onUrlFieldChanged)return void this.props.onUrlFieldChanged(i.value);this._hasLeftPage=!0,this.removeSelection(),this.hideDropdown(),setTimeout(function(){document.activeElement===c.findDOMNode(n)&&document.activeElement.blur()},40),r.hasNickname(this._typedUrl)&&(h.go(r.getNicknamed(this._typedUrl).map(function(e){return e.url})),e.preventDefault(),this.revertUrl()),this._completedItem&&(this._shouldAutocompleteTitle()&&(this._completedItem.title||"").toLowerCase()===i.value.toLowerCase()||this._completedItem.url&&k(b(this._completedItem.url))===k(b(i.value)))&&(e.preventDefault(),h.go(this._completedItem.url))}else o&&"Esc"===e.nativeEvent.keyIdentifier||"U+001B"===e.nativeEvent.keyIdentifier?this.onEscPressed(e):o&&t.nextTick(function(){n.isUrlRevertable()&&h.setUrlfieldState(n.props.pageId,{selectionStart:i.selectionStart,selectionEnd:i.selectionEnd})});t.nextTick(function(){i.selectionStart===i.selectionEnd&&(n._typedUrl=i.value)})}},onBookmarkDropped:function(e){c.findDOMNode(this).value="";var t=e.nativeEvent.dataTransfer.getData("text");"function"==typeof this.props.onDragDropBookmark&&this.props.onDragDropBookmark(t)},componentDidUpdate:function(){var e=c.findDOMNode(this);if(document.activeElement===e){var t="number"==typeof this.props.selectionStart?this.props.selectionStart:-1,n="number"==typeof this.props.selectionEnd?this.props.selectionEnd:-1;
t>-1&&e.selectionStart!==t&&(e.selectionStart=t),n>-1&&e.selectionEnd!==n&&(e.selectionEnd=n)}},render:function(){var e=null==this.props.editUrl?this.props.displayUrl:this.props.editUrl;return u.createElement("input",{type:"text",autoComplete:"off",autoFocus:this.props.autoFocus,className:this.props.className?this.props.className:"url",disabled:this.props.disabled?this.props.disabled:null,title:this.props.title?this.props.title:null,placeholder:this.props.placeholder?this.props.placeholder:null,onChange:this.onChange,onDrop:this.onBookmarkDropped,onKeyDown:this.onKeyDown,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,ref:"urlInput",spellCheck:"false",value:e})}});e.exports=R}).call(t,n(22))},function(e,t){"use strict";function n(e){var t=document.activeElement;return t?i(t,e):!1}var i=function r(e,t){for(var n=t.children,i=!1,o=0;o<n.length;o++){if(n[o]===e)return!0;if(r(e,n[o])){i=!0;break}}return i};e.exports=n},function(e,t,n){"use strict";var i,r=n(3);r.runtime.getPlatformInfo(function(e){i=e.os});var o=function(e){return e&&e.constructor===Array&&(e=e.join(", ")),e&&(e=e.replace(/left/g,"←").replace(/right/g,"→").replace(/up/g,"↑").replace(/down/g,"↓"),e="mac"===i?e.replace(/shift/g,"⇧").replace(/capslock/g,"⇪").replace(/command/g,"⌘").replace(/meta/g,"⌘").replace(/ctrl/g,"⌃").replace(/alt/g,"⌥").replace(/([^+ ]){1}\+/g,"$1"):e.replace(/(^|\+)(\w)/g,function(e){return e.toUpperCase()})),e},a=function(e){return e&&e.constructor===Array&&(e=e.join(", ")),e&&(e="mac"===i?e.replace(/shift/g,"⇧").replace(/capslock/g,"⇪").replace(/command/g,"⌘").replace(/meta/g,"⌘").replace(/ctrl/g,"⌃").replace(/alt/g,"⌥").replace(/([^+ ]){1}\+/g,"$1"):e.replace(/(^|\+)(\w)/g,function(e){return e.toUpperCase()})),e};e.exports=o,a},function(e,t,n){"use strict";var i=n(19),r=function(e){if(!e)return!1;var t=e.getIn(["extData","tiling","id"]);if(!t)return!1;var n=i.getPages().filter(function(e){return e.getIn(["extData","tiling","id"])===t});if(n.count()<2)return!1;var r=i.getActivePage().getIn(["extData","tiling","id"]);return t&&r&&t===r},o=function(e){return e?e.get("active")?!0:!!r(e):!1},a=function(e){return e?i.isGroup(e.getIn(["extData","group"])):!1};t.isPageVisible=o,t.isPageTiled=r,t.isPageGrouped=a},function(e,t,n){"use strict";function i(e){try{return r(e)}catch(t){return e}}var r=n(486);e.exports=i},function(e,t,n){function i(){return t.colors[c++%t.colors.length]}function r(e){function n(){}function r(){var e=r,n=+new Date,o=n-(u||n);e.diff=o,e.prev=u,e.curr=n,u=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=i());var a=Array.prototype.slice.call(arguments);a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(n,i){if("%%"===n)return n;s++;var r=t.formatters[i];if("function"==typeof r){var o=a[s];n=r.call(e,o),a.splice(s,1),s--}return n}),"function"==typeof t.formatArgs&&(a=t.formatArgs.apply(e,a));var l=r.log||t.log||console.log.bind(console);l.apply(e,a)}n.enabled=!1,r.enabled=!0;var o=t.enabled(e)?r:n;return o.namespace=e,o}function o(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),i=n.length,r=0;i>r;r++)n[r]&&(e=n[r].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function s(e){var n,i;for(n=0,i=t.skips.length;i>n;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;i>n;n++)if(t.names[n].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=r,t.coerce=l,t.disable=a,t.enable=o,t.enabled=s,t.humanize=n(80),t.names=[],t.skips=[],t.formatters={};var u,c=0},function(e,t){"use strict";var n=function(e){var t,n={};if(!(e instanceof Object)||Array.isArray(e))throw new Error("keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};e.exports=n},function(e,t,n){var i=n(200),r=n(472),o=i(r,"Map");e.exports=o},function(e,t){function n(e){var t=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"y":return n*c;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"h":return n*l;case"minutes":case"minute":case"m":return n*s;case"seconds":case"second":case"s":return n*a;case"ms":return n}}}function i(e){return e>=u?Math.round(e/u)+"d":e>=l?Math.round(e/l)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function r(e){return o(e,u,"day")||o(e,l,"hour")||o(e,s,"minute")||o(e,a,"second")||e+" ms"}function o(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,s=60*a,l=60*s,u=24*l,c=365.25*u;e.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t["long"]?r(e):i(e)}},function(e,t,n){"use strict";t.decode=t.parse=n(128),t.encode=t.stringify=n(129)},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\r\n    <path d="M9 14h8v-2H9v2z" />\r\n</svg>'},function(e,t,n){"use strict";var i=n(216),r=n(570),o=n(228),a=n(237),s=n(239),l=n(13),u=(n(18),{}),c=null,A=function(e,t){e&&(r.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},d=function(e){return A(e,!0)},h=function(e){return A(e,!1)},p=null,f={injection:{injectMount:r.injection.injectMount,injectInstanceHandle:function(e){p=e},getInstanceHandle:function(){return p},injectEventPluginOrder:i.injectEventPluginOrder,injectEventPluginsByName:i.injectEventPluginsByName},eventNameDispatchConfigs:i.eventNameDispatchConfigs,registrationNameModules:i.registrationNameModules,putListener:function(e,t,n){"function"!=typeof n?l(!1):void 0;var r=u[t]||(u[t]={});r[e]=n;var o=i.registrationNameModules[t];o&&o.didPutListener&&o.didPutListener(e,t,n)},getListener:function(e,t){var n=u[t];return n&&n[e]},deleteListener:function(e,t){var n=i.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=u[t];r&&delete r[e]},deleteAllListeners:function(e){for(var t in u)if(u[t][e]){var n=i.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t),delete u[t][e]}},extractEvents:function(e,t,n,r,o){for(var s,l=i.plugins,u=0;u<l.length;u++){var c=l[u];if(c){var A=c.extractEvents(e,t,n,r,o);A&&(s=a(s,A))}}return s},enqueueEvents:function(e){e&&(c=a(c,e))},processEventQueue:function(e){var t=c;c=null,e?s(t,d):s(t,h),c?l(!1):void 0,o.rethrowCaughtError()},__purge:function(){u={}},__getListenerBank:function(){return u}};e.exports=f},function(e,t,n){"use strict";function i(e,t,n){var i=t.dispatchConfig.phasedRegistrationNames[n];return v(e,i)}function r(e,t,n){var r=t?g.bubbled:g.captured,o=i(e,n,r);o&&(n._dispatchListeners=f(n._dispatchListeners,o),n._dispatchIDs=f(n._dispatchIDs,e))}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&p.injection.getInstanceHandle().traverseTwoPhase(e.dispatchMarker,r,e)}function a(e){e&&e.dispatchConfig.phasedRegistrationNames&&p.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(e.dispatchMarker,r,e)}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var i=n.dispatchConfig.registrationName,r=v(e,i);r&&(n._dispatchListeners=f(n._dispatchListeners,r),n._dispatchIDs=f(n._dispatchIDs,e))}}function l(e){e&&e.dispatchConfig.registrationName&&s(e.dispatchMarker,null,e)}function u(e){m(e,o)}function c(e){m(e,a)}function A(e,t,n,i){p.injection.getInstanceHandle().traverseEnterLeave(n,i,s,e,t)}function d(e){m(e,l)}var h=n(43),p=n(83),f=(n(18),n(237)),m=n(239),g=h.PropagationPhases,v=p.getListener,E={accumulateTwoPhaseDispatches:u,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:A};e.exports=E},function(e,t,n){"use strict";var i=n(136),r=n(586),o=n(591),a=n(15),s=n(618),l={};a(l,o),a(l,{findDOMNode:s("findDOMNode","ReactDOM","react-dom",i,i.findDOMNode),render:s("render","ReactDOM","react-dom",i,i.render),unmountComponentAtNode:s("unmountComponentAtNode","ReactDOM","react-dom",i,i.unmountComponentAtNode),renderToString:s("renderToString","ReactDOMServer","react-dom/server",r,r.renderToString),renderToStaticMarkup:s("renderToStaticMarkup","ReactDOMServer","react-dom/server",r,r.renderToStaticMarkup)}),l.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i,l.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r,e.exports=l},function(e,t){"use strict";var n={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=n},function(e,t,n){"use strict";function i(e,t,n,i){r.call(this,e,t,n,i)}var r=n(56),o=n(143),a={view:function(e){if(e.view)return e.view;var t=o(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};r.augmentClass(i,a),e.exports=i},function(e,t,n){"use strict";var i={};e.exports=i},function(e,t,n){"use strict";function i(e,t){if(null!==t.tab&&void 0!==t.tab)return!1;if(0!==t.frameId)return!1;var n=o.getPages().find(function(t){return t.get("id")===e}),i=c(n.get("url")).split("/").slice(0,3).join("/");return 0===c(t.url).indexOf(i)?!0:(console.log("[fast forward] message rejected"),!1)}var r=n(121),o=n(19),a=n(8),s=n(5),l=n(35),u=n(3),c=n(76),A=n(27),d={setFastForwardInfo:function(e,t,n){a.handleViewAction({actionType:s.FAST_FORWARD_SET_FORWARD_INFO,pageId:e,forwardUrl:t})},_updateRewindInfo:function(e,t,n,i){a.handleViewAction({actionType:s.FAST_FORWARD_SET_REWIND_INFO,pageId:e,history:i,currentHostname:t,currentIndex:n})},setRewindInfo:function(e,t){var n=A.parse(t.get("url")).hostname;e.getPageHistory(this._updateRewindInfo.bind(this,t.get("id"),n))},navigateRewind:function(e){e&&e.has("id")||(e=o.getActivePage());var t=r.getRewindRelativeIndex(e);l.go(-1*t)},navigateFastforward:function(e){e&&e.has("id")||(e=o.getActivePage()),u.tabs.sendMessage(e.get("id"),{navigateFastforward:!0})},initTab:function(e){return e&&e.has("id")?void u.tabs.sendMessage(e.get("id"),{pageId:e.get("id")}):TypeError("page with id required")},initFastForward:function(){u.runtime.onMessage.addListener(function(e,t){"fastforwardUrlChanged"===e.action&&i(e.pageId,t)&&d.setFastForwardInfo(e.pageId,e.nextUrl,t.url)})}};e.exports=d},function(e,t,n){"use strict";var i=n(1),r=n(12),o=n(10),a=i.createClass({displayName:"FocusTrap",mixins:[o],vivaldiSettingsKeys:["FOCUS_CYCLE_TRAP"],propTypes:{focusName:i.PropTypes.string.isRequired,component:i.PropTypes.any},getDefaultProps:function(){return{component:"div"}},_getFocusable:function(){var e=r.findDOMNode(this).querySelectorAll("a[href]:not([tabindex='-1']),\n      button:not([disabled]):not([tabindex='-1']),\n      input:not([disabled]):not([tabindex='-1']),\n      select:not([disabled]):not([tabindex='-1']),\n      textarea:not([disabled]):not([tabindex='-1']),\n      [tabindex]:not([tabindex='-1']):not(."+this.props.focusName+")");return{firstFocus:e[0],lastFocus:e[e.length-1]}},handleTopFocus:function(e){var t=this._getFocusable(),n=t.firstFocus,i=t.lastFocus;e.relatedTarget===n?i.focus():n.focus()},handleBottomFocus:function(e){var t=this._getFocusable(),n=t.firstFocus,i=t.lastFocus;e.relatedTarget===i?n.focus():i.focus()},render:function(){var e=this.props.component;return this.state.FOCUS_CYCLE_TRAP===!1?i.createElement(e,this.props,this.props.children):i.createElement(e,this.props,i.createElement("span",{tabIndex:"0",className:this.props.focusName,onFocus:this.handleTopFocus}),this.props.children,i.createElement("span",{tabIndex:"0",className:this.props.focusName,onFocus:this.handleBottomFocus}))}});e.exports=a},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(6),a=i.createClass({displayName:"Thumbnail",mixins:[r],MAX_RETRY:4,DEFAULT_STYLE:{width:"100%"},getDefaultProps:function(){return{altSrc:"/resources/bookmark_item.png",size:"default"}},getInitialState:function(){return{src:this.props.src||this.props.altSrc,internalStyle:this.DEFAULT_STYLE,retryCount:0,visibility:"visible"}},componentWillReceiveProps:function(e){this.props.src===e.src&&this.props.altSrc===e.altSrc||this.setState({src:e.src||e.altSrc,internalStyle:e.src?this.state.internalStyle:this.DEFAULT_STYLE})},onLoad:function(){var e={visibility:"visible"};if(this.state.src!==this.props.altSrc&&"cover"===this.props.size){var t=this.refs.image,n=window.getComputedStyle(this.refs.container),i=parseInt(n.width,10),r=parseInt(n.height,10);120>r&&(r=120),t&&t.naturalWidth>0&&t.naturalHeight>0&&i>0&&r>0&&t.naturalWidth/t.naturalHeight>i/r?e.internalStyle={height:r+"px"}:e.internalStyle=this.DEFAULT_STYLE}this.setState(e)},onError:function(){this.setState({src:this.props.altSrc,visibility:this.props.altSrc?"visible":"hidden",internalStyle:this.DEFAULT_STYLE}),this.state.retryCount<this.MAX_RETRY&&this.props.src&&setTimeout(function(){this.isMounted()&&this.setState({src:this.props.src,retryCount:this.state.retryCount+1})}.bind(this),1e3*Math.pow(this.state.retryCount+1,2))},render:function(){var e=o(this.props.className,{"thumbnail-image":!this.props.className});return i.createElement("div",{ref:"container",className:e,style:{overflow:"hidden",maxHeight:"100%",maxWidth:"100%",visibility:this.state.visibility}},i.createElement("img",{ref:"image",style:this.state.internalStyle,alt:this.props.alt,src:this.state.src,onError:this.onError,onLoad:this.onLoad}))}});e.exports=a},function(e,t,n){"use strict";var i=n(78);e.exports=Object.assign({OMNI_RESULT_COUNT:15,OMNI_RESULT_COUNT_SUGGEST:5},i({OMNI_RESULT_BOOKMARK_DESCRIPTION:null,OMNI_RESULT_BOOKMARK_NICKNAME:null,OMNI_RESULT_BOOKMARK_PROMOTED:null,OMNI_RESULT_BOOKMARK_TITLE:null,OMNI_RESULT_BOOKMARK_TITLE_EXACT:null,OMNI_RESULT_BOOKMARK_UNKNOWN:null,OMNI_RESULT_BOOKMARK_URL:null,OMNI_RESULT_BOOKMARK_URL_HOST:null,OMNI_RESULT_FOLDER_NICKNAME:null,OMNI_RESULT_HISTORY_PROMOTED:null,OMNI_RESULT_HISTORY_TITLE:null,OMNI_RESULT_HISTORY_UNKNOWN:null,OMNI_RESULT_HISTORY_URL:null,OMNI_RESULT_TYPED_HISTORY:null,OMNI_RESULT_SUGGEST:null,OMNI_TYPE_TYPED_HISTORY:null,OMNI_TYPE_BOOKMARK:null,OMNI_TYPE_HISTORY:null,OMNI_TYPE_SEARCH:null,OMNI_TYPE_SUGGEST:null}))},function(e,t,n){"use strict";function i(e){l=e,u.emitChange()}var r=n(16).EventEmitter,o=n(8),a=n(5),s="change",l={},u=Object.assign({},r.prototype,{getActiveWebView:function(e){return l},emitChange:function(){this.emit(s)},addChangeListener:function(e){this.on(s,e)},removeChangeListener:function(e){this.removeListener(s,e)}});o.register(function(e){var t=e.action;switch(t.actionType){case a.WEBVIEW_SET_ACTIVE:i(t.webview);break;default:return!0}}),e.exports=u},function(e,t,n){"use strict";function i(e,t){t.get("isLoading")===!0&&"start"===t.get("trigger")&&(v[e.get("id")]=null),m[e.get("id")]=t,y.emitChange()}function r(e,t){g[e.get("id")]=t,y.emitChange()}function o(e,t,n){v[e.get("id")]=d.Map({state:t,issuer:n}),y.emitChange()}function a(e,t){E[e.get("id")]=t}function s(e,t){var n=_[e.get("id")]||d.List();n=n.push(t),_[e.get("id")]=n,y.emitChange()}function l(e,t){var n=_[e.get("id")];n&&(_[e.get("id")]=n.filter(function(e){return e!==t}),y.emitChange())}function u(e,t,n,i){S=S.update(e.get("id"),d.Map(),function(e){return e.set(t,d.Map({requestEvent:n,blocked:i}))}),y.emitChange()}function c(e){S=S.update(e.get("id"),d.Map(),function(e){return e.clear()}),y.emitChange()}var A=n(16).EventEmitter,d=n(29),h=n(8),p=n(5),f="change",m={},g={},v={},E={},_={},S=d.Map(),y=Object.assign({},A.prototype,{getNavigationInfo:function(e){return m[e.get("id")]||d.Map()},getProgressInfo:function(e){return g[e.get("id")]||d.Map()},getSSLInfo:function(e){return v[e.get("id")]||d.Map()},getThemeColor:function(e){return E[e.get("id")]||""},getBlockedPopups:function(e){return _[e.get("id")]||d.List()},getPermissionInfo:function(e){return S.get(e.get("id"),d.Map())},emitChange:function(){this.emit(f)},addChangeListener:function(e){this.on(f,e)},removeChangeListener:function(e){this.removeListener(f,e)}});h.register(function(e){var t=e.action;switch(t.actionType){case p.NAVIGATION_SET_STATE:i(t.page,t.navigationState);break;case p.NAVIGATION_SET_PROGRESS:r(t.page,t.progressState);break;case p.PAGE_SET_SSL_STATE:o(t.page,t.state,t.issuer);break;case p.NAVIGATION_SET_THEME_COLOR:a(t.page,t.color);break;case p.NAVIGATION_ADD_POPUP:s(t.page,t.popupEvent);break;case p.NAVIGATION_REMOVE_POPUP:l(t.page,t.popupEvent);break;case p.NAVIGATION_SET_PERMISSION:u(t.page,t.permission,t.requestEvent,t.blocked);break;case p.NAVIGATION_RESET_PERMISSIONS:c(t.page);break;default:return!0}}),e.exports=y},function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=function o(e){if(null===e||"object"!==("undefined"==typeof e?"undefined":n(e)))return e;var t=e.constructor();for(var i in e)e.hasOwnProperty(i)&&(t[i]=o(e[i]));return t},r=function(e){for(var t=[],n=0;n<e.length;n++)t.push(i(e[n]));return t};e.exports=r},function(e,t,n){(function(e,i){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function r(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(n){return!1}}function o(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(t){return this instanceof e?(e.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof t?a(this,t):"string"==typeof t?s(this,t,arguments.length>1?arguments[1]:"utf8"):l(this,t)):arguments.length>1?new e(t,arguments[1]):new e(t)}function a(t,n){if(t=f(t,0>n?0:0|m(n)),!e.TYPED_ARRAY_SUPPORT)for(var i=0;n>i;i++)t[i]=0;return t}function s(e,t,n){"string"==typeof n&&""!==n||(n="utf8");var i=0|v(t,n);return e=f(e,i),e.write(t,n),e}function l(t,n){if(e.isBuffer(n))return u(t,n);if(Z(n))return c(t,n);if(null==n)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(n.buffer instanceof ArrayBuffer)return A(t,n);if(n instanceof ArrayBuffer)return d(t,n)}return n.length?h(t,n):p(t,n)}function u(e,t){var n=0|m(t.length);return e=f(e,n),t.copy(e,0,0,n),e}function c(e,t){var n=0|m(t.length);e=f(e,n);for(var i=0;n>i;i+=1)e[i]=255&t[i];return e}function A(e,t){var n=0|m(t.length);e=f(e,n);for(var i=0;n>i;i+=1)e[i]=255&t[i];return e}function d(t,n){return e.TYPED_ARRAY_SUPPORT?(n.byteLength,t=e._augment(new Uint8Array(n))):t=A(t,new Uint8Array(n)),t}function h(e,t){var n=0|m(t.length);e=f(e,n);for(var i=0;n>i;i+=1)e[i]=255&t[i];return e}function p(e,t){var n,i=0;"Buffer"===t.type&&Z(t.data)&&(n=t.data,i=0|m(n.length)),e=f(e,i);for(var r=0;i>r;r+=1)e[r]=255&n[r];return e}function f(t,n){e.TYPED_ARRAY_SUPPORT?(t=e._augment(new Uint8Array(n)),t.__proto__=e.prototype):(t.length=n,t._isBuffer=!0);var i=0!==n&&n<=e.poolSize>>>1;return i&&(t.parent=q),t}function m(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function g(t,n){if(!(this instanceof g))return new g(t,n);var i=new e(t,n);return delete i.parent,i}function v(e,t){"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(i)return K(e).length;t=(""+t).toLowerCase(),i=!0}}function E(e,t,n){var i=!1;if(t=0|t,n=void 0===n||n===1/0?this.length:0|n,e||(e="utf8"),0>t&&(t=0),n>this.length&&(n=this.length),t>=n)return"";for(;;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return O(this,t,n);case"ascii":return N(this,t,n);case"binary":return k(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function _(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var o=t.length;if(o%2!==0)throw new Error("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;i>a;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[n+a]=s}return a}function S(e,t,n,i){return J(K(t,e.length-n),e,n,i)}function y(e,t,n,i){return J(G(t),e,n,i)}function b(e,t,n,i){return y(e,t,n,i)}function C(e,t,n,i){return J(z(t),e,n,i)}function I(e,t,n,i){return J(j(t,e.length-n),e,n,i)}function T(e,t,n){return 0===t&&n===e.length?Q.fromByteArray(e):Q.fromByteArray(e.slice(t,n))}function O(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;n>r;){var o=e[r],a=null,s=o>239?4:o>223?3:o>191?2:1;if(n>=r+s){var l,u,c,A;switch(s){case 1:128>o&&(a=o);break;case 2:l=e[r+1],128===(192&l)&&(A=(31&o)<<6|63&l,A>127&&(a=A));break;case 3:l=e[r+1],u=e[r+2],128===(192&l)&&128===(192&u)&&(A=(15&o)<<12|(63&l)<<6|63&u,A>2047&&(55296>A||A>57343)&&(a=A));break;case 4:l=e[r+1],u=e[r+2],c=e[r+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(A=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c,A>65535&&1114112>A&&(a=A))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|1023&a),i.push(a),r+=s}return w(i)}function w(e){var t=e.length;if(X>=t)return String.fromCharCode.apply(String,e);for(var n="",i=0;t>i;)n+=String.fromCharCode.apply(String,e.slice(i,i+=X));return n}function N(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;n>r;r++)i+=String.fromCharCode(127&e[r]);return i}function k(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;n>r;r++)i+=String.fromCharCode(e[r]);return i}function D(e,t,n){var i=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>i)&&(n=i);for(var r="",o=t;n>o;o++)r+=H(e[o]);return r}function M(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function P(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(t,n,i,r,o,a){if(!e.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(n>o||a>n)throw new RangeError("value is out of bounds");if(i+r>t.length)throw new RangeError("index out of range")}function x(e,t,n,i){0>t&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);o>r;r++)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function R(e,t,n,i){0>t&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);o>r;r++)e[n+r]=t>>>8*(i?r:3-r)&255}function B(e,t,n,i,r,o){if(t>r||o>t)throw new RangeError("value is out of bounds");if(n+i>e.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function F(e,t,n,i,r){return r||B(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Y.write(e,t,n,i,23,4),n+4}function U(e,t,n,i,r){return r||B(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Y.write(e,t,n,i,52,8),n+8}function V(e){if(e=W(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function W(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return 16>e?"0"+e.toString(16):e.toString(16)}function K(e,t){t=t||1/0;for(var n,i=e.length,r=null,o=[],a=0;i>a;a++){if(n=e.charCodeAt(a),n>55295&&57344>n){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(56320>n){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=(r-55296<<10|n-56320)+65536}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,128>n){if((t-=1)<0)break;o.push(n)}else if(2048>n){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function G(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function j(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);a++)n=e.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}function z(e){return Q.toByteArray(V(e))}function J(e,t,n,i){for(var r=0;i>r&&!(r+n>=t.length||r>=e.length);r++)t[r+n]=e[r];return r}var Q=n(445),Y=n(453),Z=n(446);t.Buffer=e,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50,e.poolSize=8192;var q={};e.TYPED_ARRAY_SUPPORT=void 0!==i.TYPED_ARRAY_SUPPORT?i.TYPED_ARRAY_SUPPORT:r(),e.TYPED_ARRAY_SUPPORT?(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array):(e.prototype.length=void 0,e.prototype.parent=void 0),e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var i=t.length,r=n.length,o=0,a=Math.min(i,r);a>o&&t[o]===n[o];)++o;return o!==a&&(i=t[o],r=n[o]),r>i?-1:i>r?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!Z(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new e(0);var i;if(void 0===n)for(n=0,i=0;i<t.length;i++)n+=t[i].length;var r=new e(n),o=0;for(i=0;i<t.length;i++){var a=t[i];a.copy(r,o),o+=a.length}return r},e.byteLength=v,e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?O(this,0,e):E.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:e.compare(this,t)},e.prototype.indexOf=function(t,n){function i(e,t,n){for(var i=-1,r=0;n+r<e.length;r++)if(e[n+r]===t[-1===i?0:r-i]){if(-1===i&&(i=r),r-i+1===t.length)return n+i}else i=-1;return-1}if(n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(0>n&&(n=Math.max(this.length+n,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,n);if(e.isBuffer(t))return i(this,t,n);if("number"==typeof t)return e.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,n):i(this,[t],n);throw new TypeError("val must be string, number or Buffer")},e.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},e.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},e.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(n)?(n=0|n,void 0===i&&(i="utf8")):(i=n,n=void 0);else{var r=i;i=t,t=0|n,n=r}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return _(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":return y(this,e,t,n);case"binary":return b(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;e.prototype.slice=function(t,n){var i=this.length;t=~~t,n=void 0===n?i:~~n,0>t?(t+=i,0>t&&(t=0)):t>i&&(t=i),0>n?(n+=i,0>n&&(n=0)):n>i&&(n=i),t>n&&(n=t);var r;if(e.TYPED_ARRAY_SUPPORT)r=e._augment(this.subarray(t,n));else{var o=n-t;r=new e(o,void 0);for(var a=0;o>a;a++)r[a]=this[a+t]}return r.length&&(r.parent=this.parent||this),r},e.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||P(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},e.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||P(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},e.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||P(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i},e.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||P(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*t)),o},e.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},e.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),Y.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),Y.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),Y.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),Y.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,n,i){e=+e,t=0|t,n=0|n,i||L(this,e,t,n,Math.pow(2,8*n),0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},e.prototype.writeUIntBE=function(e,t,n,i){e=+e,t=0|t,n=0|n,i||L(this,e,t,n,Math.pow(2,8*n),0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},e.prototype.writeUInt8=function(t,n,i){return t=+t,n=0|n,i||L(this,t,n,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},e.prototype.writeUInt16LE=function(t,n,i){return t=+t,n=0|n,i||L(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):x(this,t,n,!0),n+2},e.prototype.writeUInt16BE=function(t,n,i){return t=+t,n=0|n,i||L(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):x(this,t,n,!1),n+2},e.prototype.writeUInt32LE=function(t,n,i){return t=+t,n=0|n,i||L(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):R(this,t,n,!0),n+4},e.prototype.writeUInt32BE=function(t,n,i){return t=+t,n=0|n,i||L(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):R(this,t,n,!1),n+4},e.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=0|t,!i){var r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}var o=0,a=1,s=0>e?1:0;for(this[t]=255&e;++o<n&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+n},e.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=0|t,!i){var r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0>e?1:0;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+n},e.prototype.writeInt8=function(t,n,i){return t=+t,n=0|n,i||L(this,t,n,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[n]=255&t,n+1},e.prototype.writeInt16LE=function(t,n,i){return t=+t,n=0|n,i||L(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):x(this,t,n,!0),n+2},e.prototype.writeInt16BE=function(t,n,i){return t=+t,n=0|n,i||L(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):x(this,t,n,!1),n+2},e.prototype.writeInt32LE=function(t,n,i){return t=+t,n=0|n,i||L(this,t,n,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):R(this,t,n,!0),n+4},e.prototype.writeInt32BE=function(t,n,i){return t=+t,n=0|n,i||L(this,t,n,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):R(this,t,n,!1),n+4},e.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},e.prototype.copy=function(t,n,i,r){if(i||(i=0),r||0===r||(r=this.length),n>=t.length&&(n=t.length),n||(n=0),r>0&&i>r&&(r=i),r===i)return 0;if(0===t.length||0===this.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>i||i>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-n<r-i&&(r=t.length-n+i);var o,a=r-i;if(this===t&&n>i&&r>n)for(o=a-1;o>=0;o--)t[o+n]=this[o+i];else if(1e3>a||!e.TYPED_ARRAY_SUPPORT)for(o=0;a>o;o++)t[o+n]=this[o+i];else t._set(this.subarray(i,i+a),n);return a},e.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),t>n)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var i;if("number"==typeof e)for(i=t;n>i;i++)this[i]=e;else{var r=K(e.toString()),o=r.length;for(i=t;n>i;i++)this[i]=r[i%o]}return this}},e.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(e.TYPED_ARRAY_SUPPORT)return new e(this).buffer;for(var t=new Uint8Array(this.length),n=0,i=t.length;i>n;n+=1)t[n]=this[n];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var $=e.prototype;e._augment=function(t){return t.constructor=e,t._isBuffer=!0,t._set=t.set,t.get=$.get,t.set=$.set,t.write=$.write,t.toString=$.toString,t.toLocaleString=$.toString,t.toJSON=$.toJSON,t.equals=$.equals,t.compare=$.compare,t.indexOf=$.indexOf,t.copy=$.copy,t.slice=$.slice,t.readUIntLE=$.readUIntLE,t.readUIntBE=$.readUIntBE,t.readUInt8=$.readUInt8,t.readUInt16LE=$.readUInt16LE,t.readUInt16BE=$.readUInt16BE,t.readUInt32LE=$.readUInt32LE,t.readUInt32BE=$.readUInt32BE,t.readIntLE=$.readIntLE,t.readIntBE=$.readIntBE,t.readInt8=$.readInt8,t.readInt16LE=$.readInt16LE,t.readInt16BE=$.readInt16BE,t.readInt32LE=$.readInt32LE,t.readInt32BE=$.readInt32BE,t.readFloatLE=$.readFloatLE,t.readFloatBE=$.readFloatBE,t.readDoubleLE=$.readDoubleLE,t.readDoubleBE=$.readDoubleBE,t.writeUInt8=$.writeUInt8,t.writeUIntLE=$.writeUIntLE,t.writeUIntBE=$.writeUIntBE,t.writeUInt16LE=$.writeUInt16LE,t.writeUInt16BE=$.writeUInt16BE,t.writeUInt32LE=$.writeUInt32LE,t.writeUInt32BE=$.writeUInt32BE,t.writeIntLE=$.writeIntLE,t.writeIntBE=$.writeIntBE,t.writeInt8=$.writeInt8,t.writeInt16LE=$.writeInt16LE,t.writeInt16BE=$.writeInt16BE,t.writeInt32LE=$.writeInt32LE,t.writeInt32BE=$.writeInt32BE,t.writeFloatLE=$.writeFloatLE,t.writeFloatBE=$.writeFloatBE,t.writeDoubleLE=$.writeDoubleLE,t.writeDoubleBE=$.writeDoubleBE,t.fill=$.fill,t.inspect=$.inspect,t.toArrayBuffer=$.toArrayBuffer,t};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(96).Buffer,function(){return this}())},function(e,t,n){(function(){var n=this,i=n.humanize,r={};"undefined"!=typeof e&&e.exports&&(t=e.exports=r),t.humanize=r,r.noConflict=function(){return n.humanize=i,this},r.pad=function(e,t,n,i){if(e+="",n?n.length>1&&(n=n.charAt(0)):n=" ",i=void 0===i?"left":"right","right"===i)for(;e.length<t;)e+=n;else for(;e.length<t;)e=n+e;return e},r.time=function(){return(new Date).getTime()/1e3};var o=[0,0,31,59,90,120,151,181,212,243,273,304,334],a=[0,0,31,60,91,121,152,182,213,244,274,305,335];r.date=function(e,t){var n=void 0===t?new Date:t instanceof Date?new Date(t):new Date(1e3*t),i=/\\?([a-z])/gi,s=function(e,t){return c[e]?c[e]():t},l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=["January","February","March","April","May","June","July","August","September","October","November","December"],c={d:function(){return r.pad(c.j(),2,"0")},D:function(){return c.l().slice(0,3)},j:function(){return n.getDate()},l:function(){return l[c.w()]},N:function(){return c.w()||7},S:function(){var e=c.j();return e>4&&21>e?"th":{1:"st",2:"nd",3:"rd"}[e%10]||"th"},w:function(){return n.getDay()},z:function(){return(c.L()?a[c.n()]:o[c.n()])+c.j()-1},W:function(){var e=c.z()-c.N()+1.5;return r.pad(1+Math.floor(Math.abs(e)/7)+(e%7>3.5?1:0),2,"0")},F:function(){return u[n.getMonth()]},m:function(){return r.pad(c.n(),2,"0")},M:function(){return c.F().slice(0,3)},n:function(){return n.getMonth()+1},t:function(){return new Date(c.Y(),c.n(),0).getDate()},L:function(){return 1===new Date(c.Y(),1,29).getMonth()?1:0},o:function(){var e=c.n(),t=c.W();return c.Y()+(12===e&&9>t?-1:1===e&&t>9)},Y:function(){return n.getFullYear()},y:function(){return String(c.Y()).slice(-2)},a:function(){return n.getHours()>11?"pm":"am"},A:function(){return c.a().toUpperCase()},B:function(){var e=n.getTime()/1e3,t=e%86400+3600;0>t&&(t+=86400);var i=t/86.4%1e3;return 0>e?Math.ceil(i):Math.floor(i)},g:function(){return c.G()%12||12},G:function(){return n.getHours()},h:function(){return r.pad(c.g(),2,"0")},H:function(){return r.pad(c.G(),2,"0")},i:function(){return r.pad(n.getMinutes(),2,"0")},s:function(){return r.pad(n.getSeconds(),2,"0")},u:function(){return r.pad(1e3*n.getMilliseconds(),6,"0")},O:function(){var e=n.getTimezoneOffset(),t=Math.abs(e);return(e>0?"-":"+")+r.pad(100*Math.floor(t/60)+t%60,4,"0")},P:function(){var e=c.O();return e.substr(0,3)+":"+e.substr(3,2)},Z:function(){return 60*-n.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(i,s)},r:function(){return"D, d M Y H:i:s O".replace(i,s)},U:function(){return n.getTime()/1e3||0}};return e.replace(i,s)},r.numberFormat=function(e,t,n,i){t=isNaN(t)?2:Math.abs(t),n=void 0===n?".":n,i=void 0===i?",":i;var r=0>e?"-":"";e=Math.abs(+e||0);var o=parseInt(e.toFixed(t),10)+"",a=o.length>3?o.length%3:0;return r+(a?o.substr(0,a)+i:"")+o.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+i)+(t?n+Math.abs(e-o).toFixed(t).slice(2):"")},r.naturalDay=function(e,t){e=void 0===e?r.time():e,t=void 0===t?"Y-m-d":t;var n=86400,i=new Date,o=new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime()/1e3;return o>e&&e>=o-n?"yesterday":e>=o&&o+n>e?"today":e>=o+n&&o+2*n>e?"tomorrow":r.date(t,e)},r.relativeTime=function(e){e=void 0===e?r.time():e;var t=r.time(),n=t-e;if(2>n&&n>-2)return(n>=0?"just ":"")+"now";if(60>n&&n>-60)return n>=0?Math.floor(n)+" seconds ago":"in "+Math.floor(-n)+" seconds";if(120>n&&n>-120)return n>=0?"about a minute ago":"in about a minute";if(3600>n&&n>-3600)return n>=0?Math.floor(n/60)+" minutes ago":"in "+Math.floor(-n/60)+" minutes";if(7200>n&&n>-7200)return n>=0?"about an hour ago":"in about an hour";if(86400>n&&n>-86400)return n>=0?Math.floor(n/3600)+" hours ago":"in "+Math.floor(-n/3600)+" hours";var i=172800;if(i>n&&n>-i)return n>=0?"1 day ago":"in 1 day";var o=2505600;if(o>n&&n>-o)return n>=0?Math.floor(n/86400)+" days ago":"in "+Math.floor(-n/86400)+" days";var a=5184e3;if(a>n&&n>-a)return n>=0?"about a month ago":"in about a month";var s=parseInt(r.date("Y",t),10),l=parseInt(r.date("Y",e),10),u=12*s+parseInt(r.date("n",t),10),c=12*l+parseInt(r.date("n",e),10),A=u-c;if(12>A&&A>-12)return A>=0?A+" months ago":"in "+-A+" months";var d=s-l;return 2>d&&d>-2?d>=0?"a year ago":"in a year":d>=0?d+" years ago":"in "+-d+" years"},r.ordinal=function(e){e=parseInt(e,10),e=isNaN(e)?0:e;var t=0>e?"-":"";e=Math.abs(e);var n=e%100;return t+e+(n>4&&21>n?"th":{1:"st",2:"nd",3:"rd"}[e%10]||"th")},r.filesize=function(e,t,n,i,o,a){return t=void 0===t?1024:t,0>=e?"0 bytes":(t>e&&void 0===n&&(n=0),void 0===a&&(a=" "),r.intword(e,["bytes","KB","MB","GB","TB","PB"],t,n,i,o,a))},r.intword=function(e,t,n,i,o,a,s){var l,u;t=t||["","K","M","B","T"],u=t.length-1,n=n||1e3,i=isNaN(i)?2:Math.abs(i),o=o||".",a=a||",",s=s||"";for(var c=0;c<t.length;c++)if(e<Math.pow(n,c+1)){u=c;break}l=e/Math.pow(n,u);var A=t[u]?s+t[u]:"";return r.numberFormat(l,i,o,a)+A},r.linebreaks=function(e){return e=e.replace(/^([\n|\r]*)/,""),e=e.replace(/([\n|\r]*)$/,""),e=e.replace(/(\r\n|\n|\r)/g,"\n"),e=e.replace(/(\n{2,})/g,"</p><p>"),e=e.replace(/\n/g,"<br />"),"<p>"+e+"</p>"},r.nl2br=function(e){return e.replace(/(\r\n|\n|\r)/g,"<br />")},r.truncatechars=function(e,t){return e.length<=t?e:e.substr(0,t)+"…"},r.truncatewords=function(e,t){var n=e.split(" ");return n.length<t?e:n.slice(0,t).join(" ")+"…"}}).call(this)},function(e,t,n){function i(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}var r=n(473);e.exports=i},function(e,t){function n(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}e.exports=n},function(e,t,n){var i=n(200),r=i(Object,"create");e.exports=r},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-284 407.9 26 26">\r\n  <path d="M-273.3 417.9l.6 1 .6 1h5.1v4h-8v-6h1.7m1.1-2h-3.6c-.7 0-1.2.6-1.2 1.2v7.5c0 .7.5 1.2 1.2 1.2h9.6c.7 0 1.2-.6 1.2-1.2v-5.9c0-.7-.5-.9-1.2-.9h-4.8l-1.2-1.9z"/>\r\n</svg>'},function(e,t,n){"use strict";function i(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=p++,d[e[m]]={}),d[e[m]]}var r=n(43),o=n(83),a=n(216),s=n(588),l=n(37),u=n(236),c=n(15),A=n(146),d={},h=!1,p=0,f={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=c({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,o=i(n),s=a.registrationNameDependencies[e],l=r.topLevelTypes,u=0;u<s.length;u++){var c=s[u];o.hasOwnProperty(c)&&o[c]||(c===l.topWheel?A("wheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",n):A("mousewheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",n):c===l.topScroll?A("scroll",!0)?g.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):c===l.topFocus||c===l.topBlur?(A("focus",!0)?(g.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",n)):A("focusin")&&(g.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",n)),o[l.topBlur]=!0,o[l.topFocus]=!0):f.hasOwnProperty(c)&&g.ReactEventListener.trapBubbledEvent(c,f[c],n),o[c]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(!h){var e=u.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),h=!0}},eventNameDispatchConfigs:o.eventNameDispatchConfigs,registrationNameModules:o.registrationNameModules,putListener:o.putListener,getListener:o.getListener,deleteListener:o.deleteListener,deleteAllListeners:o.deleteAllListeners});l.measureMethods(g,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"}),e.exports=g},function(e,t,n){"use strict";var i={};e.exports=i},function(e,t,n){"use strict";var i=n(110),r=i({prop:null,context:null,childContext:null});e.exports=r},function(e,t,n){"use strict";function i(e,t,n,i){r.call(this,e,t,n,i)}var r=n(87),o=n(236),a=n(142),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};r.augmentClass(i,s),e.exports=i},function(e,t,n){"use strict";var i=n(13),r={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,r,o,a,s,l){this.isInTransaction()?i(!1):void 0;var u,c;try{this._isInTransaction=!0,u=!0,this.initializeAll(0),c=e.call(t,n,r,o,a,s,l),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(A){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i=t[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=i.initialize?i.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(r){}}}},closeAll:function(e){this.isInTransaction()?void 0:i(!1);for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r,a=t[n],s=this.wrapperInitData[n];try{r=!0,s!==o.OBSERVED_ERROR&&a.close&&a.close.call(this,s),r=!1}finally{if(r)try{this.closeAll(n+1)}catch(l){}}}this.wrapperInitData.length=0}},o={Mixin:r,OBSERVED_ERROR:{}};e.exports=o},function(e,t,n){"use strict";var i=!1;e.exports=i},function(e,t){"use strict";function n(e){return r[e]}function i(e){return(""+e).replace(o,n)}var r={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g;e.exports=i},function(e,t,n){"use strict";var i=n(24),r=/^[ \r\n\t\f]/,o=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,a=function(e,t){e.innerHTML=t};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(a=function(e,t){MSApp.execUnsafeLocalFunction(function(){e.innerHTML=t})}),i.canUseDOM){var s=document.createElement("div");s.innerHTML=" ",""===s.innerHTML&&(a=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),r.test(t)||"<"===t[0]&&o.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t})}e.exports=a},function(e,t,n){"use strict";var i=n(13),r=function(e){var t,n={};e instanceof Object&&!Array.isArray(e)?void 0:i(!1);for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};e.exports=r},function(e,t,n){"use strict";var i=n(8),r=n(5),o={addMessages:function(e,t,n){i.handleViewAction({actionType:r.MAIL_ADD_MESSAGES,accountId:e,path:t,messages:n})},removeMessages:function(e,t,n){i.handleViewAction({actionType:r.MAIL_REMOVE_MESSAGES,accountId:e,path:t,uids:n})},updateMessages:function(e,t,n){i.handleViewAction({actionType:r.MAIL_UPDATE_MESSAGES,accountId:e,path:t,updates:n})},filterSelected:function(){i.handleViewAction({actionType:r.MAIL_FILTER_SELECTED})},addFolders:function(e){i.handleViewAction({actionType:r.MAIL_ADD_FOLDERS,folders:e})},selectFolder:function(e){i.handleViewAction({actionType:r.MAIL_SELECT_FOLDER,folder:e})},clearFolders:function(){i.handleViewAction({actionType:r.MAIL_CLEAR_FOLDERS})},initializeSearchListStore:function(){i.handleViewAction({actionType:r.MAIL_MESSAGES_INIT})},initializeContactStore:function(){i.handleViewAction({actionType:r.CONTACT_INITIALIZE
})},saveContact:function(e){i.handleViewAction({actionType:r.CONTACT_SAVE_CONTACT,contact:e})},addContacts:function(e){i.handleViewAction({actionType:r.CONTACT_ADD_CONTACTS,contacts:e})},selectContact:function(e){i.handleViewAction({actionType:r.CONTACT_SELECT_CONTACT,contact:e})},deleteContact:function(e){i.handleViewAction({actionType:r.CONTACT_DELETE_CONTACT,contact:e})}};e.exports=o},function(e,t,n){"use strict";var i=n(193),r=n(14),o=n(8),a=n(5),s=n(3),l=n(9),u={emptyTrash:function(){l.utilities.clearAllRecentlyClosedSessions()},undeleteTab:function(e){var t=i.tabToPage(e);t&&r.setIsRestored(t,!0),s.sessions.restore(e.sessionId,function(e){return s.runtime.lastError?void console.warn("Error restoring tab: ",e.tab,s.runtime.lastError):void 0})},undeletePreviousTab:function(){s.sessions.restore()},restoreWindow:function(e){s.sessions.restore(e.sessionId,function(t){s.runtime.lastError&&console.warn("Error restoring page: ",e,s.runtime.lastError.message)})},setTrash:function(e,t){o.handleViewAction({actionType:a.TRASH_SET_STATE,page:e,trashState:t})},loadPromise:function(){return new Promise(function(e,t){return s.sessions.getRecentlyClosed(function(t){o.handleViewAction({actionType:a.CHROME_SET_SESSION,session:t}),e()})})}};s.sessions.onChanged.addListener(u.loadPromise),e.exports=u},function(e,t){"use strict";var n=function(){},i={addListener:n,removeListener:n},r={bookmarksPrivate:{emptyTrash:n,updateSpeedDialsForWindowsJumplist:n},historySearch:{dbSearch:n},importData:{getBlockThirdPartyCookies:n,getDefaultContentSettings:n,getProfiles:n,getStartupAction:n,isVivaldiDefaultBrowser:n,launchNetworkSettings:n,onImportBegan:i,onImportEnded:i,onImportItemEnded:i,onImportItemStarted:i,onImportStarted:i,openPage:n,openTaskManager:n,savePage:n,setBlockThirdPartyCookies:n,setDefaultContentSettings:n,setStartupAction:n,setVivaldiAsDefaultBrowser:n,setVivaldiLanguage:n,showDevTools:n,startImport:n},notes:{create:n,emptyTrash:n,get:n,getTree:n,move:n,onChanged:i,onCreated:i,onRemoved:i,onMoved:i,remove:n,search:n,update:n},runtimePrivate:{exit:n},sessionsPrivate:{"delete":n,getAll:n,open:n,saveOpenTabs:n},settings:{getPreference:n,getAllPreferences:n,onChanged:i,setPreference:n,togglePreference:n},showMenu:{create:n,onOpen:n,onMainMenuCommand:i,onUrlHighlighted:i},tabsPrivate:{get:n,onCreated:i,onRemoved:i,onUpdated:i,onMoved:i,onActivated:i,onDetached:i,onAttached:i,onReplaced:i,update:n},thumbnails:{isThumbnailAvailable:n},utilities:{clearAllRecentlyClosedSessions:n,getAvailablePageEncodings:n,isTabInLastSession:n,isUrlValid:n},zoom:{getDefaultZoom:n,getVivaldiUIZoom:n,onDefaultZoomChanged:i,setDefaultZoom:n,setVivaldiUIZoom:n}};e.exports=r},function(e,t){"use strict";e.exports={VIVALDI_ROOT_BOOKMARK_FOLDER:"1"}},function(e,t,n){"use strict";var i=n(1),r=n(12),o=n(57),a=n(36),s=n(23),l=n(273),u=n(6),c=i.createClass({displayName:"Menu",propTypes:{items:i.PropTypes.array.isRequired},getInitialState:function(){return{selectedItem:null,selectedItemIndex:-1,open:this.props.open||!1,underlinedChars:{},underlinedCharPositions:[],shortcuts:[],showAccelerator:!1,hasOpenSubmenu:!0}},componentWillMount:function(){this.initializeUnderlinedChars()},componentDidMount:function(){a.addChangeListener(this._onCommandStoreChange),window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp),window.addEventListener("blur",this.hideAccelerator)},componentWillUnmount:function(){a.removeChangeListener(this._onCommandStoreChange),window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp),window.removeEventListener("blur",this.hideAccelerator)},_onCommandStoreChange:function(){this.initializeUnderlinedChars()},onKeyDown:function(e){this.state.showAccelerator&&this.setState({showAccelerator:!1}),e.keyCode===s.KEY_ALT&&this.setState({showAccelerator:!0})},onKeyUp:function(e){this.state.showAccelerator&&this.setState({showAccelerator:!1})},hideAccelerator:function(){this.setState({showAccelerator:!1})},menuWillOpen:function(){this.hideAccelerator(),this.setState({hasOpenSubmenu:!0})},menuDidClose:function(){this.setState({hasOpenSubmenu:!1})},moveInsideViewport:function(){var e=r.findDOMNode(this),t=e.getBoundingClientRect(),n=20,i=Math.min(window.innerWidth-t.right,0),o=Math.min(window.innerHeight-t.bottom,0);if(0>i||0>o){var a=e.parentNode.parentNode.parentNode;if(-n>i&&a.classList.contains("menu")){var s=a.getBoundingClientRect();s.left-n>window.innerWidth-s.right&&(i=-t.width-s.width)}var l=window.getComputedStyle(e).transform;"none"!==l&&(l=l.split(","),i+=parseInt(l[4]),o+=parseInt(l[5])),t.left+i<0&&(i=-t.left),e.style.transform="translate("+i+"px, "+o+"px)"}else e.style.transform=""},componentWillReceiveProps:function(e){this.props.items!==e.items&&this.initializeUnderlinedChars(e.items)},initializeUnderlinedChars:function(e){var t=e||this.props.items,n={},i=[],r=[],o=[];Object.keys(a.getCommandShortcuts()).forEach(function(e){e.includes("alt+")&&5===e.length&&o.push(e)}),t.forEach(function(e,t){if(!e.name||"---"===e.name||e.disabled)return i.push(-1),void r.push("");for(var a=!1,s=0,l="",u=0;!a;)if(u=e.name.toUpperCase().charCodeAt(s),n.hasOwnProperty(u))e.name.length===s+1&&(a=!0),s+=1;else{if(l="alt+"+String.fromCharCode(u).toLowerCase(),!o.includes(l))break;e.name.length===s+1&&(a=!0),s+=1}a?(i.push(-1),r.push("")):(n[u]=t,i.push(s),r.push(l))}),this.setState({underlinedChars:n,underlinedCharPositions:i,shortcuts:r})},takeFocus:function(e){this.props.platformPopups!==!0&&(e&&e.stopPropagation&&e.stopPropagation(),r.findDOMNode(this).querySelector(".menu .focusTrap").focus())},giveFocusToSubMenu:function(){this.props.platformPopups!==!0&&r.findDOMNode(this).querySelector(".menu .menu .focusTrap").focus()},giveFocusToParentMenu:function(){this.props.platformPopups!==!0&&(this.props.giveFocusToParentMenu?(this.props.giveFocusToParentMenu(),this.setState({selectedItemIndex:-1})):this.state.open?this.collapse(!0):r.findDOMNode(this).querySelector(".menu .focusTrap").blur())},onKeyboardFocusIn:function(){r.findDOMNode(this).addEventListener("keydown",this.handleKeyboardNavigation),(this.props.subMenu||this.props.horizontal)&&-1===this.state.selectedItemIndex&&this.setSelected(0)},onKeyboardFocusOut:function(){r.findDOMNode(this).removeEventListener("keydown",this.handleKeyboardNavigation)},handleKeyboardNavigation:function(e){if(e.which===s.KEY_RETURN)this.onItemSelected(this.state.selectedItem);else if(e.which===s.KEY_ESCAPE)this.giveFocusToParentMenu();else if(e.which===s.KEY_LEFT)this.props.horizontal?this.selectPreviousItem():this.giveFocusToParentMenu();else if(e.which===s.KEY_UP)this.props.horizontal?this.giveFocusToParentMenu():this.selectPreviousItem();else if(e.which===s.KEY_RIGHT)this.props.horizontal?this.selectNextItem():this.giveFocusToSubMenu();else if(e.which===s.KEY_DOWN)this.props.horizontal?(this.giveFocusToSubMenu(),this.state.open||this.setState({open:!0})):this.selectNextItem();else if(this.state.underlinedChars.hasOwnProperty(e.keyCode)){var t=this.state.underlinedChars[e.keyCode];this.setSelected(t),this.onItemSelected(this.props.items[t])}else this.props.horizontal||(e.preventDefault(),e.stopPropagation())},selectNextItem:function(){var e=this.getMaxMenuIndex(),t=this.state.selectedItemIndex;do t=t===e?0:t+1;while("---"===this.props.items[t].name||this.props.items[t].disabled);this.setSelected(t)},selectPreviousItem:function(){var e=this.getMaxMenuIndex(),t=this.state.selectedItemIndex;do t=1>t?e:t-1;while("---"===this.props.items[t].name||this.props.items[t].disabled);this.setSelected(t)},getMaxMenuIndex:function(){return this.props.items.length-1},setSelected:function(e){"---"!==this.props.items[e].name&&e<=this.getMaxMenuIndex()&&!this.props.items[e].disabled&&this.setState({selectedItem:this.props.items[e],selectedItemIndex:e})},collapse:function(e){e===!0?(this.setState({open:!1}),this.props.giveFocusToParentMenu||"function"!=typeof this.props.onClosed||this.props.onClosed()):window.setTimeout(function(){"focusTrap"!==document.activeElement.className&&(this.setState({open:!1}),"function"==typeof this.props.onClosed&&this.props.onClosed())}.bind(this),100)},onClicked:function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.target.focus(),this.setState({open:!this.state.open})},onItemSelected:function(e,t){var n=!1;this.props.horizontal?this.setState({open:!this.state.open}):e.items?this.giveFocusToSubMenu():e.commandName?(o.runAction(e),n=!0):"function"==typeof e.onclick?(e.onclick(e,t),n=!0):"function"==typeof e.handler?(e.handler(t),n=!0):"function"==typeof this.props.onItemSelected&&this.props.onItemSelected(e,t),n&&this.onClosed()},onClosed:function(){this.collapse(!0),"function"==typeof this.props.onClosed&&this.props.onClosed()},renderMenu:function(){var e=this.props.platformPopups?this.state.showAccelerator:!0;return this.props.items.map(function(t,n){return i.createElement(l,{isSelected:this.state.selectedItemIndex===n,setSelected:this.setSelected,key:n,nr:n,menuItem:t,onItemSelected:this.onItemSelected,onClosed:this.onClosed,giveFocusToParentMenu:this.takeFocus,underlinedCharPosition:e?this.state.underlinedCharPositions[n]:-1,menuShortcut:this.state.shortcuts[n],menuWillOpen:this.menuWillOpen,menuDidClose:this.menuDidClose,onDeleted:this.props.onDeleted,platformPopups:this.props.platformPopups})}.bind(this))},render:function(){return i.createElement("nav",{className:u({"platform-popups":this.props.platformPopups,menu:!0,horizontal:this.props.horizontal,opensubmenu:this.state.hasOpenSubmenu,open:this.state.open}),style:this.props.minWidth?{minWidth:this.props.minWidth}:{},onMouseOver:this.takeFocus,onMouseDown:this.onClicked,onMouseUp:this.onClicked,onBlur:this.collapse,tabIndex:"-1"},(this.state.open||this.props.horizontal)&&i.createElement("input",{type:"text",className:"focusTrap",autoFocus:!this.props.subMenu&&!this.props.horizontal,onFocus:this.onKeyboardFocusIn,onBlur:this.onKeyboardFocusOut}),i.createElement("ul",null,this.renderMenu()))}});e.exports=c},function(e,t,n){"use strict";function i(e){e?"string"==typeof e?(this.id=o(),this.address=e):(this.id=e.id||o(),this.address=e.address,this.photo=e.photo,this.name=e.name,this.phone=e.phone,this.postal=e.postal):this.id=o()}var r=n(297),o=n(279);i.prototype={defaultPhoto:"/resources/panel-contacts-active.png",toString:function(){return r(this)},isEmpty:function(){return!(this.address||this.photo||this.name||this.phone||this.postal)},getAsJSON:function(){return{id:this.id,photo:this.photo,name:this.name,address:this.address,phone:this.phone,postal:this.postal}}},e.exports=i},function(e,t){"use strict";e.exports={ALL_MESSAGES_ACCOUNT_ID:"All Messages",MAILING_LISTS_ACCOUNT_ID:"Mailing Lists",DRAFTS_FOLDER_PATH:"Drafts",OUTBOX_FOLDER_PATH:"Outbox",UNREAD_FOLDER_PATH:"Unread",RECEIVED_FOLDER_PATH:"Received",TRASH_FOLDER_PATH:"Trash",TRASH_FOLDER_TYPE:"Trash",SENT_FOLDER_PATH:"Sent",SENT_FOLDER_TYPE:"Sent",ALL_MESSAGES_ROOT_ID:1,MAILING_LISTS_ROOT_ID:11,MAIL_FOLDERS_ROOT_ID:101,MAIL_STATUS_TIMEOUT:5e3}},function(e,t,n){"use strict";var i=n(1),r=n(2),o=function(e){var t=e.onDialogClosed,n=e.onChange;return i.createElement("section",null,i.createElement("input",{type:"button",className:"primary",onClick:t,value:r("OK"),autoFocus:!0}),i.createElement("input",{type:"button",onClick:n,value:r("Change")}))};e.exports=o},function(e,t,n){"use strict";var i=n(8),r=n(5),o=n(4),a=n(64),s="chrome://favicon/",l="webview-",u="webpanel",c={addByUrl:function(e){var t=l+a();return o.get("WEB_PANEL_LIST",function(n){void 0===n&&(n=[]),n.push({id:t,contentUrl:e,mobileMode:!0,title:"",faviconUrl:"",available:!0}),o.set({WEB_PANEL_LIST:n})}.bind(this)),t},removeById:function(e){o.get("WEB_PANEL_LIST",function(t){if(void 0!==t){for(var n=[],i=0;i<t.length;i++){var r=t[i];r.id!==e&&n.push(r)}o.set({WEB_PANEL_LIST:n})}}.bind(this))},selectByIndex:function(e){o.get("WEB_PANEL_LIST",function(t){void 0!==t&&e>=1&&t.length>=e&&i.handleViewAction({actionType:r.PANEL_SET_SELECTED,SELECTED_PANEL:t[e-1].id})}.bind(this))},setMobileMode:function(e,t){o.get("WEB_PANEL_LIST",function(n){if(void 0!==n){for(var i=[],r=0;r<n.length;r++){var a=n[r];a.id===e&&(a.mobileMode=t),i.push(a)}o.set({WEB_PANEL_LIST:i})}}.bind(this))},setAvailable:function(e,t){o.get("WEB_PANEL_LIST",function(n){if(void 0!==n){for(var i=[],r=0;r<n.length;r++){var a=n[r];a.id===e&&(a.available=t),i.push(a)}o.set({WEB_PANEL_LIST:i})}}.bind(this))},setTitle:function(e,t){o.get("WEB_PANEL_LIST",function(n){if(void 0!==n){for(var i=[],r=0;r<n.length;r++){var a=n[r];a.id===e&&(a.title=t),i.push(a)}o.set({WEB_PANEL_LIST:i})}}.bind(this))},copyWebPanelAdress:function(e){o.get("WEB_PANEL_LIST",function(t){if(void 0!==t)for(var n=0;n<t.length;n++){var i=t[n];if(i.id===e){var r=function(e){e.clipboardData.setData("text/plain",i.contentUrl),e.preventDefault()};document.addEventListener("copy",r),document.execCommand("copy"),document.removeEventListener("copy",r);break}}}.bind(this))},getIndexByShortcut:function(e){var t=u.length,n=e.substr(0,t),i=e.substr(t).trim();return n===u&&i>=1&&9>=i?i:-1},showWebPanelTitle:function(e){o.set({SHOW_WEB_PANEL_TITLE:e})},getPanelPrefix:function(){return l},getFaviconPrefix:function(){return s}};e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(17),o=n(2),a=parseInt(1e7*Math.random()),s=i.createClass({displayName:"ZoomIndicator",propTypes:{onZoomUpdated:i.PropTypes.func.isRequired,maxLevel:i.PropTypes.number.isRequired,minLevel:i.PropTypes.number.isRequired,step:i.PropTypes.number.isRequired,initialZoom:i.PropTypes.number},getInitialState:function(){return{zoom:this.props.initialZoom||1}},componentWillReceiveProps:function(e){e.initialZoom&&this.setState({zoom:e.initialZoom})},forceZoomState:function(e){this.setState({zoom:this.rangeCheck(e)})},updateZoomLevel:function(){var e=parseFloat(this.state.zoom);this.setZoomLevel(e)},setZoomLevel:function(e){var t=this.rangeCheck(e);this.setState({zoom:this.rangeCheck(e)}),this.props.onZoomUpdated(t)},resetZoom:function(){this.props.onZoomReset?this.props.onZoomReset():this.setZoomLevel(1)},rangeChanged:function(e){this.setState({zoom:e.target.value})},rangeCheck:function(e){return Math.min(Math.max(e,this.props.minLevel),this.props.maxLevel)},zoomInStep:function(){this.setZoomLevel(parseFloat(this.state.zoom+this.props.step).toFixed(2))},zoomOutStep:function(){this.setZoomLevel(parseFloat(this.state.zoom-this.props.step).toFixed(2))},zoomHalf:function(){this.setZoomLevel(parseFloat((this.state.zoom/2).toFixed(2)))},zoomDouble:function(){this.setZoomLevel(parseFloat((2*this.state.zoom).toFixed(2)))},handleKeyDown:function(e){37===e.keyCode?(this.zoomOutStep(),e.preventDefault()):39===e.keyCode&&(this.zoomInStep(),e.preventDefault())},renderTicks:function(){return r.range(this.props.minLevel,this.props.maxLevel+this.props.step,this.props.step).map(function(e){return i.createElement("option",{key:e},Math.round(100*e)/100)})},render:function(){var e=this.state.zoom,t=this.props.defaultZoomLevel?this.props.defaultZoomLevel===e:1===e||this.props.disabled;return i.createElement("div",{className:"zoom-control"},this.props.inFooter?i.createElement("button",{className:"zoom-reset button-toolbar-small",tabIndex:this.props.keyAccess,onClick:this.resetZoom,title:o("Reset zoom"),disabled:t},o("Reset")):i.createElement("input",{className:"zoom-reset",type:"button",tabIndex:this.props.keyAccess,onClick:this.resetZoom,title:o("Reset zoom"),disabled:t,value:o("Reset")}),i.createElement("input",{type:"range",min:this.props.minLevel,max:this.props.maxLevel,step:this.props.step,onMouseUp:this.updateZoomLevel,onChange:this.rangeChanged,onKeyDown:this.handleKeyDown,value:e,disabled:this.props.disabled,tabIndex:this.props.keyAccess,list:"ticks-"+a}),i.createElement("datalist",{id:"ticks-"+a},this.renderTicks()),i.createElement("span",{className:"zoom-percent"},Math.round(100*e)+" %"))}});e.exports=s},function(e,t,n){"use strict";function i(e,t){return l.parse(e).hostname===l.parse(t).hostname}function r(e,t,n,r){e.rewindHistory||(e.rewindHistory=[],e.rewindIndexes=[]);var o=e.prev&&e.prev.url&&i(e.prev.url,t.url);return n!==r.length-1&&(e.prev&&!o&&n<r.length-1?(r.length-1-n>1&&(e.rewindHistory.length>0&&i(e.rewindHistory[e.rewindHistory.length-1].url,e.prev.url)&&e.rewindHistory[e.rewindHistory.length-1].url!==e.prev.url?(e.rewindHistory.push(e.prev),e.rewindIndexes.push(r.length-n-2)):i(r[r.length-1].url,e.prev.url)&&r[r.length-1].url!==e.prev.url&&(e.rewindHistory.push(e.prev),e.rewindIndexes.push(r.length-n-2))),e.rewindHistory.push(t),e.rewindIndexes.push(r.length-n-1)):0===n&&r.length>0&&(e.rewindHistory.push(t),e.rewindIndexes.push(r.length-n-1))),e.prev=t,e}var o=n(8),a=n(5),s=n(16).EventEmitter,l=n(27),u={},c={},A=Object.assign({},s.prototype,{getFastForwardUrl:function(e){return(u[e.get("id")]||c).forwardUrl},getRewindRelativeIndex:function(e){if(u[e.get("id")]){var t=u[e.get("id")].rewindIndexes;if(Array.isArray(t)&&t.length>0)return t[0]}return 0},getRewindHistory:function(e){return(u[e.get("id")]||c).rewindHistory},getRewindIndexes:function(e){return(u[e.get("id")]||c).rewindIndexes},emitChange:function(){this.emit(a.CHANGED)},addChangeListener:function(e){this.on(a.CHANGED,e)},removeChangeListener:function(e){this.removeListener(a.CHANGED,e)},setFastForwardInfo:function(e){"number"==typeof e.pageId&&(u[e.pageId]=Object.assign({},u[e.pageId],{forwardUrl:e.forwardUrl}),A.emitChange())},_pageHistoryToRewindHistory:function(e,t,n){n=n.slice(0,t+1);var i=n.reduceRight(r,{});return i},setRewindInfo:function(e){var t=this._pageHistoryToRewindHistory(e.currentHostname,e.currentIndex,e.history),n=t.rewindHistory,i=t.rewindIndexes;u[e.pageId]=Object.assign({},u[e.pageId],{rewindHistory:n,rewindIndexes:i}),A.emitChange()}});o.register(function(e){var t=e.action;switch(t.actionType){case a.FAST_FORWARD_SET_FORWARD_INFO:A.setFastForwardInfo(t);break;case a.CHROME_TABS_UPDATED:"loading"===t.args[1].status&&A.setFastForwardInfo({pageId:t.args[2].id,forwardUrl:""});break;case a.FAST_FORWARD_SET_REWIND_INFO:A.setRewindInfo(t);break;default:return!0}return!0}),e.exports=A},function(e,t,n){"use strict";var i=n(8),r=n(5),o=n(19),a=n(16).EventEmitter,s=n(3),l="change",u=null,c=Object.assign({},a.prototype,{emitChange:function(){this.emit(l)},emitChangeParam:function(e){this.emit(l,e)},addChangeListener:function(e){this.on(l,e)},removeChangeListener:function(e){this.removeListener(l,e)},getCurrentTabID:function(){var e=o.getActivePage();return e?e.get("id"):-1},getCurrentPage:function(){return o.getActivePage()},getWindowID:function(){return window.vivaldiWindowId}});i.register(function(e){var t=e.action;switch(t.actionType){case r.MAIN_FULLSCREEN:c.emitChangeParam({action:"fullscreen",url:""});break;case r.MAIN_SHOW_QUICKCOMMANDS:c.emitChangeParam({action:"quickcommand",url:""});break;case r.MAIN_SHOW_KEYBOARDS_SHORTCUTS:c.emitChangeParam({type:r.MAIN_SHOW_KEYBOARDS_SHORTCUTS});break;case r.MAIN_SHOW_IMPORT_DATA:c.emitChangeParam({action:"importData",url:""});break;case r.MAIN_SHOW_EXPORT_DATA:c.emitChangeParam({action:"exportData"});break;case r.MAIN_SHOW_SAVE_SESSION:c.emitChangeParam({action:"saveSession",url:""});break;case r.MAIN_SHOW_OPEN_SESSION:c.emitChangeParam({action:"openSession",url:""});break;case r.MAIN_SHOW_PAGE_INFO:c.emitChangeParam({action:"showPageInfo",page:e.action.page,event:e.action.event});break;case r.MAIN_ZOOM_IN:c.emitChangeParam({type:r.MAIN_ZOOM_IN});break;case r.MAIN_ZOOM_OUT:c.emitChangeParam({type:r.MAIN_ZOOM_OUT});break;case r.MAIN_ZOOM_HALF:c.emitChangeParam({type:r.MAIN_ZOOM_HALF});break;case r.MAIN_ZOOM_DOUBLE:c.emitChangeParam({type:r.MAIN_ZOOM_DOUBLE});break;case r.MAIN_ZOOM_RESET:c.emitChangeParam({type:r.MAIN_ZOOM_RESET});break;case r.MAIN_TOGGLE_TAB_BAR:c.emitChangeParam({type:r.MAIN_TOGGLE_TAB_BAR});break;case r.MAIN_TOGGLE_ADDRESS_BAR:c.emitChangeParam({type:r.MAIN_TOGGLE_ADDRESS_BAR});break;case r.MAIN_TOGGLE_UI:c.emitChangeParam({type:r.MAIN_TOGGLE_UI});break;default:return!0}return!0}),s.tabs.onActivated.addListener(function(e){if(e.windowId===window.vivaldiWindowId){var t=o.getPages().find(function(t){return t.get("id")===e.tabId});t&&(u=e.tabId,c.emitChangeParam({action:"currentTab",tabId:u,page:t}))}}),e.exports=c},function(e,t,n){"use strict";function i(e){c=e.filter(function(e){if(e.tab)return e.tab&&!l.isInternalUrl(e.tab.url);if(e.window){var t=e.window.extData?JSON.parse(e.window.extData):{};return"popup"!==t.windowType}}),A.emitChange()}var r=n(16).EventEmitter,o=n(8),a=n(5),s=n(20),l=s.urls,u="change",c=[],A=Object.assign({},r.prototype,{getTrash:function(e){return c},emitChange:function(){this.emit(u)},addChangeListener:function(e){this.on(u,e)},removeChangeListener:function(e){this.removeListener(u,e)}});o.register(function(e){var t=e.action;switch(t.actionType){case a.CHROME_SET_SESSION:i(t.session);break;default:return!0}}),e.exports=A},function(e,t,n){"use strict";var i=n(20),r=i.urls,o=n(196),a=function(e){if(!e)return"";var t=r.removeTrailingSlashWhenNoPath(r.getDisplayUrl(e));return o(t)};e.exports=a},function(e,t,n){"use strict";var i=n(54),r=n(47),o=n(124),a=function(e){if(!e||!e.get("active"))return"";var t=i.getUrlfieldState(e),n=o(e.get("url")),a=!n||t.editUrl&&t.editUrl!==n||null!=t.selectionStart&&t.selectionStart>-1||null!=t.selectionEnd&&t.selectionEnd>-1,s="",l=!1;try{l=r.getFindResultsForPage(e).isFindInPageToolbarOpen===!0}catch(u){console.warn(u)}return s=l===!0?"findInPage":a?"urlField":"content"};e.exports=a},function(e,t){"use strict";function n(e){try{return decodeURIComponent(e)}catch(t){return e}}e.exports=n},function(e,t,n){(function(t,n){!function(t,n){e.exports=n()}(this,function(){"use strict";function e(){}function i(e){return e}function r(e,t){return null==e||e===i?t:function(n){return t(e(n))}}function o(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function a(t,n){return t===e?n:function(){var e=t.apply(this,arguments);void 0!==e&&(arguments[0]=e);var i=this.onsuccess,r=this.onerror;this.onsuccess=null,this.onerror=null;var a=n.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?o(i,this.onsuccess):i),r&&(this.onerror=this.onerror?o(r,this.onerror):r),void 0!==a?a:e}}function s(t,n){return t===e?n:function(){t.apply(this,arguments);var e=this.onsuccess,i=this.onerror;this.onsuccess=this.onerror=null,n.apply(this,arguments),e&&(this.onsuccess=this.onsuccess?o(e,this.onsuccess):e),i&&(this.onerror=this.onerror?o(i,this.onerror):i)}}function l(t,n){return t===e?n:function(){var e=t.apply(this,arguments);d(arguments[0],e);var i=this.onsuccess,r=this.onerror;this.onsuccess=null,this.onerror=null;var a=n.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?o(i,this.onsuccess):i),r&&(this.onerror=this.onerror?o(r,this.onerror):r),void 0===e?void 0===a?void 0:a:d(e,a)}}function u(t,n){return t===e?n:function(){return t.apply(this,arguments)===!1?!1:n.apply(this,arguments)}}function c(t,n){return t===e?n:function(){return n.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function A(t,n){return t===e?n:function(){var e=t.apply(this,arguments);if(e&&"function"==typeof e.then){var i=this,r=arguments;return e.then(function(){return n.apply(i,r)})}return n.apply(this,arguments)}}function d(e,t){return"object"!=typeof t?e:(ae(t).forEach(function(n){e[n]=t[n]}),e)}function h(e,t){"function"==typeof t&&(t=t(Object.getPrototypeOf(e))),ae(t).forEach(function(n){p(e,n,t[n])})}function p(e,t,n,i){Object.defineProperty(e,t,d("function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},i))}function f(e){return{from:function(t){return e.prototype=Object.create(t.prototype),p(e.prototype,"constructor",e),{extend:h.bind(null,e.prototype)}}}}function m(e,t,n){return ue.call(e,t,n)}function g(e,t){return t(e)}function v(e){var t=setTimeout(e,1e3);clearTimeout(t)}function E(e){if(!e)throw new me.Internal("Assertion failed")}function _(e){le.setImmediate?n(e):setTimeout(e,0)}function S(e,t){try{e()}catch(n){t&&t(n)}}function y(e){var t=e&&e.stack;return t?t.indexOf(e+"")>0?t:e+". "+t:e}function b(e){if(e.stack)return e;try{var t=new Error(e.message||e);if(t.stack)return e.stack=t.stack,e;throw t}catch(n){e.stack=n.stack}return e}function C(e){return F.reject(b(e))}function I(e,t){if(e.hasOwnProperty(t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],i=0,r=t.length;r>i;++i){var o=I(e,t[i]);n.push(o)}return n}var a=t.indexOf(".");if(-1!==a){var s=e[t.substr(0,a)];return void 0===s?void 0:I(s,t.substr(a+1))}}function T(e,t,n){if(e&&void 0!==t&&!("isFrozen"in Object&&Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){E("string"!=typeof n&&"length"in n);for(var i=0,r=t.length;r>i;++i)T(e,t[i],n[i])}else{var o=t.indexOf(".");if(-1!==o){var a=t.substr(0,o),s=t.substr(o+1);if(""===s)void 0===n?delete e[a]:e[a]=n;else{var l=e[a];l||(l=e[a]={}),T(l,s,n)}}else void 0===n?delete e[t]:e[t]=n}}function O(e,t){"string"==typeof t?T(e,t,void 0):"length"in t&&[].map.call(t,function(t){T(e,t,void 0)})}function w(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function N(e){if(!e||"object"!=typeof e)return e;var t;if(se(e)){t=[];for(var n=0,i=e.length;i>n;++n)t.push(N(e[n]))}else if(e instanceof Date)t=new Date,t.setTime(e.getTime());else{t=e.constructor?Object.create(e.constructor.prototype):{};for(var r in e)e.hasOwnProperty(r)&&(t[r]=N(e[r]))}return t}function k(e,t,n,i){n=n||{},i=i||"";for(var r in e)if(e.hasOwnProperty(r))if(t.hasOwnProperty(r)){var o=e[r],a=t[r];"object"==typeof o&&"object"==typeof a?k(o,a,n,i+r+"."):o!==a&&(n[i+r]=t[r])}else n[i+r]=void 0;for(r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(n[i+r]=t[r]);return n}function D(e,t){this.name=e,this.message=t}function M(e,t){return e+". Errors: "+t.map(function(e){return e.toString()}).filter(function(e,t,n){return n.indexOf(e)===t}).join("\n")}function P(e,t,n,i){this.name="ModifyError",this.failures=t,this.failedKeys=i,this.successCount=n,this.message=M(e,t)}function L(e,t){this.name="BulkError",this.failures=t,this.message=M(e,t)}function x(e,t){var n=e;return e instanceof D||!e.name||!ge[e.name]||(n=new ge[e.name](t||e.message,e),e.stack&&(n.stack=e.stack)),n}function R(t){function n(t,n,o){if(se(t))return r(t);if("object"==typeof t)return i(t);n||(n=u),o||(o=e);var l={subscribers:[],fire:o,subscribe:function(e){l.subscribers.push(e),l.fire=n(l.fire,e)},unsubscribe:function(e){l.subscribers=l.subscribers.filter(function(t){return t!==e}),l.fire=l.subscribers.reduce(n,o)}};return a[t]=s[t]=l,l}function i(e){ae(e).forEach(function(t){var i=e[t];if(se(i))n(t,e[t][0],e[t][1]);else{if("asap"!==i)throw new me.InvalidArgument("Invalid event config");var r=n(t,null,function(){var e=arguments;r.subscribers.forEach(function(t){_(function(){t.apply(le,e)})})});r.subscribe=function(e){-1===r.subscribers.indexOf(e)&&r.subscribers.push(e)},r.unsubscribe=function(e){var t=r.subscribers.indexOf(e);-1!==t&&r.subscribers.splice(t,1)}}})}function r(e){function t(){return i?!1:void(i=!0)}var i=!1;e.forEach(function(e){n(e).subscribe(t)})}var o=arguments,a={},s=function(e,n){if(n){var i=m(arguments,1),r=a[e];return r.subscribe.apply(r,i),t}return"string"==typeof e?a[e]:void 0};s.addEventType=n;for(var l=1,c=o.length;c>l;++l)n(o[l]);return s}function B(){var e=ye;ye=[];for(var t=0,n=e.length;n>t;++t){var i=e[t];i[0].apply(le,i[1])}}function F(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],this._catched=!1;var t=this,n=!0;this._PSD=F.PSD;try{z(this,e,function(e){n?_e(H,t,e):H(t,e)},function(e){return n?(_e(K,t,e),!1):K(t,e)})}finally{n=!1}}function U(e,t){if(null===e._state)return void e._deferreds.push(t);var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);var i,r=Se;Se=!1,_e=Ce;try{var o=F.PSD;F.PSD=e._PSD,i=n(e._value),e._state||i&&"function"==typeof i.then&&i._state===!1||W(e),t.resolve(i)}catch(a){t.reject(a)}finally{if(F.PSD=o,r){do{for(;ye.length>0;)B();var s=be.pop();if(s)try{s()}catch(a){}}while(be.length>0||ye.length>0);_e=Ee,Se=!0}}}function V(e){var t=Se;Se=!1,_e=Ce;try{return e()}finally{if(t){do{for(;ye.length>0;)B();var n=be.pop();if(n)try{n()}catch(i){}}while(be.length>0||ye.length>0);_e=Ee,Se=!0}}}function W(e){e._catched=!0,e._parent&&!e._parent._catched&&W(e._parent)}function H(e,t){var n=F.PSD;F.PSD=e._PSD;try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then)return t instanceof F&&null!==t._state?(e._state=t._state,e._value=t._value,void G.call(e)):void z(e,function(e,n){t.then(e,n)},function(t){H(e,t)},function(t){K(e,t)});e._state=!0,e._value=t,G.call(e)}catch(i){K(i)}finally{F.PSD=n}}function K(e,t){var n=F.PSD;if(F.PSD=e._PSD,e._state=!1,e._value=t,G.call(e),!e._catched)try{e.onuncatched?e.onuncatched(e._value):F.on.error.fire(e._value)}catch(i){}return F.PSD=n,e._catched}function G(){for(var e=0,t=this._deferreds.length;t>e;e++)U(this,this._deferreds[e]);this._deferreds=[]}function j(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function z(e,t,n,i){var r=!1;try{t(function(e){r||(r=!0,n(e))},function(t){return r?e._catched:(r=!0,i(t))})}catch(o){if(r)return;return i(o)}}function J(e){console.warn("Uncaught Promise: "+y(e))}function Q(t,n){function o(){Xe.on("versionchange",function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+Xe.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+Xe.name+"'. Closing db now to resume the delete request."),Xe.close()}),Xe.on("blocked",function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+Xe.name+"') was blocked"):console.warn("Upgrade '"+Xe.name+"' blocked by other connection holding version "+e.oldVersion/10)})}function u(e){this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function v(e,t,n,i){if(0===e){ae(We).forEach(function(e){y(t,e,We[e].primKey,We[e].indexes)});var r=Xe._createTransaction(qe,Ke,We);r.idbtrans=t,r.idbtrans.onerror=X(n,["populating database"]),r.on("error").subscribe(n),F.newPSD(function(){F.PSD.trans=r;try{Xe.on("populate").fire(r)}catch(e){i.onerror=t.onerror=function(e){e.preventDefault()};try{t.abort()}catch(o){}t.db.close(),n(e)}})}else{var o=[],a=He.filter(function(t){return t._cfg.version===e})[0];if(!a)throw new me.Upgrade("Dexie specification of currently installed DB version is missing");We=Xe._dbSchema=a._cfg.dbschema;var s=!1,l=He.filter(function(t){return t._cfg.version>e});l.forEach(function(e){var i=We,r=e._cfg.dbschema;Ce(i,t),Ce(r,t),We=Xe._dbSchema=r;var a=E(i,r);a.add.forEach(function(e){o.push(function(t,n){y(t,e[0],e[1].primKey,e[1].indexes),n()})}),a.change.forEach(function(e){if(e.recreate)throw new me.Upgrade("Not yet support for changing primary key");o.push(function(t,n){var i=t.objectStore(e.name);e.add.forEach(function(e){M(i,e)}),e.change.forEach(function(e){i.deleteIndex(e.name),M(i,e)}),e.del.forEach(function(e){i.deleteIndex(e)}),n()})}),e._cfg.contentUpgrade&&o.push(function(t,i){s=!0;var o=Xe._createTransaction(qe,m(t.db.objectStoreNames),r);o.idbtrans=t;var a=0;o._promise=g(o._promise,function(e){return function(t,n,r){function o(e){return function(){e.apply(this,arguments),0===--a&&i()}}return++a,e.call(this,t,function(e,t){arguments[0]=o(e),arguments[1]=o(t),n.apply(this,arguments)},r)}}),t.onerror=X(n,["running upgrader function for version",e._cfg.version]),o.on("error").subscribe(n),e._cfg.contentUpgrade(o),0===a&&i()}),s&&!De||o.push(function(e,t){D(r,e),t()})});var u=function(){try{o.length?o.shift()(t,u):O(We,t)}catch(e){i.onerror=t.onerror=function(e){e.preventDefault();
};try{t.abort()}catch(r){}t.db.close(),n(e)}};u()}}function E(e,t){var n={del:[],add:[],change:[]};for(var i in e)t[i]||n.del.push(i);for(i in t){var r=e[i],o=t[i];if(r){var a={name:i,def:t[i],recreate:!1,del:[],add:[],change:[]};if(r.primKey.src!==o.primKey.src)a.recreate=!0,n.change.push(a);else{var s=r.indexes.reduce(function(e,t){return e[t.name]=t,e},{}),l=o.indexes.reduce(function(e,t){return e[t.name]=t,e},{});for(var u in s)l[u]||a.del.push(u);for(u in l){var c=s[u],A=l[u];c?c.src!==A.src&&a.change.push(A):a.add.push(A)}(a.recreate||a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([i,o])}return n}function y(e,t,n,i){var r=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return i.forEach(function(e){M(r,e)}),r}function O(e,t){ae(e).forEach(function(n){t.db.objectStoreNames.contains(n)||y(t,n,e[n].primKey,e[n].indexes)})}function D(e,t){for(var n=0;n<t.db.objectStoreNames.length;++n){var i=t.db.objectStoreNames[n];null!==e[i]&&void 0!==e[i]||t.db.deleteObjectStore(i)}}function M(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function B(){$e.forEach(function(e){e.resume()})}function U(e,t){throw new me.InvalidTable("Table "+t[0]+" not part of transaction. Original Scope Function Source: "+Q.Promise.PSD.trans.scopeFunc.toString())}function V(t,n,o,u){this.name=t,this.schema=o,this.hook=Ge[t]?Ge[t].hook:R(null,{creating:[a,e],reading:[r,i],updating:[l,e],deleting:[s,e]}),this._tpf=n,this._collClass=u||Z}function W(e,t,n,i){V.call(this,e,t,n,i||le)}function H(e,t){var n=F.PSD;return function(i){try{i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault();var r=i.target.error;e.push(r),i.target._err&&F.usePSD(n,i.target._err.bind(null,r))}finally{t&&t()}}}function K(e){var t=F.PSD;return function(n){var i;try{i=n.target.error,n.target._err&&F.usePSD(t,n.target._err.bind(null,i))}finally{e(i)}}}function G(e,t){var n=F.PSD;return t?function(t){var i;try{i=t.target.result,t.target._suc&&F.usePSD(n,t.target._suc.bind(null,i))}finally{e&&e(i)}}:function(t){e(t.target.result)}}function j(e,t,n,i,r){return new F(function(o,a){var s=n.length,l=s-1;if(0===s)return o();if(i){var u={onsuccess:null,onerror:null},c=K(function(e){return a(x(e))}),A=G(null,!0);S(function(){for(var i=0;s>i;++i){var a=n[i];r.call(u,a[0],a[1],t);var d=e["delete"](a[0]);u.onerror&&(d._err=u.onerror),u.onsuccess&&(d._suc=u.onsuccess),d.onerror=c,i===l?d.onsuccess=G(o,!0):d.onsuccess=A,u.onsuccess=null,u.onerror=null}},function(e){throw u.onerror&&u.onerror(e),e})}else for(var d=0;s>d;++d){var h=e["delete"](n[d]);h.onerror=function(e){return a(x(e.target.error))},d===l&&(h.onsuccess=function(){return o()})}})}function z(e,t,n,i){function r(e,t,n,i){return o._promise(e,n,i)}var o=this;this.db=Xe,this.mode=e,this.storeNames=t,this.idbtrans=null,this.on=R(this,["complete","error"],"abort"),this._reculock=0,this._blockedFuncs=[],this._psd=null,this.active=!0,this._dbschema=n,i&&(this.parent=i),this._tpf=r,this.tables=Object.create(je);for(var a=t.length-1;-1!==a;--a){var s=t[a],l=Xe._tableFactory(e,n[s],r);this.tables[s]=l,this[s]||(this[s]=l)}}function J(e,t,n){this._ctx={table:e,index:":id"===t?null:t,collClass:e._collClass,or:n}}function Z(e,t){var n=null,i=null;if(t)try{n=t()}catch(r){i=b(x(r))}var o=e._ctx,a=o.table;this._ctx={table:a,index:o.index,isPrimKey:!o.index||a.schema.primKey.keyPath&&o.index===a.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,isMatch:null,offset:0,limit:1/0,error:i,or:o.or,valueFilter:a.hook.reading.fire}}function le(){Z.apply(this,arguments)}function ue(e,t){return e._cfg.version-t._cfg.version}function ce(e,t,n,i,r,o){n.forEach(function(n){var a=Xe._tableFactory(i,r[n],t);e.forEach(function(e){e[n]||(o?p(e,n,{get:function(){var e=F.PSD&&F.PSD.trans;return e&&e.db===Xe?e.tables[n]:a}},{enumerable:!0}):e[n]=a)})})}function Ae(e){e.forEach(function(e){for(var t in e)e[t]instanceof V&&delete e[t]})}function de(e,t,n,r,o,a){a=a||i,e.onerror||(e.onerror=X(o)),t?e.onsuccess=Y(function(){var i=e.result;if(i){var s=function(){i["continue"]()};t(i,function(e){s=e},r,o)&&n(a(i.value),i,function(e){s=e}),s()}else r()},o):e.onsuccess=Y(function(){var t=e.result;if(t){var i=function(){t["continue"]()};n(a(t.value),t,function(e){i=e}),i()}else r()},o)}function he(e){var t=[];return e.split(",").forEach(function(e){e=e.trim();var n=e.replace("&","").replace("++","").replace("*",""),i=0!==n.indexOf("[")?n:e.substring(e.indexOf("[")+1,e.indexOf("]")).split("+");t.push(new ne(n,i||null,-1!==e.indexOf("&"),-1!==e.indexOf("*"),-1!==e.indexOf("++"),se(i),-1!==i.indexOf(".")))}),t}function pe(e,t){return Ue.cmp(e,t)}function fe(e,t){return pe(e,t)<0?e:t}function ge(e,t){return pe(e,t)>0?e:t}function ve(e,t){return Ue.cmp(e,t)}function Ee(e,t){return Ue.cmp(t,e)}function _e(e,t){return t>e?-1:e===t?0:1}function Se(e,t){return e>t?-1:e===t?0:1}function ye(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}function be(){if(Xe.verno=ze.version/10,Xe._dbSchema=We={},Ke=m(ze.objectStoreNames,0),0!==Ke.length){var e=ze.transaction(re(Ke),"readonly");Ke.forEach(function(t){for(var n=e.objectStore(t),i=n.keyPath,r=i&&"string"==typeof i&&-1!==i.indexOf("."),o=new ne(i,i||"",!1,!1,!!n.autoIncrement,i&&"string"!=typeof i,r),a=[],s=0;s<n.indexNames.length;++s){var l=n.index(n.indexNames[s]);i=l.keyPath,r=i&&"string"==typeof i&&-1!==i.indexOf(".");var u=new ne(l.name,i,!!l.unique,!!l.multiEntry,!1,i&&"string"!=typeof i,r);a.push(u)}We[t]=new ie(t,o,a,{})}),ce([Ge],Xe._transPromiseFactory,ae(We),qe,We)}}function Ce(e,t){for(var n=t.db.objectStoreNames,i=0;i<n.length;++i)for(var r=n[i],o=t.objectStore(r),a=0;a<o.indexNames.length;++a){var s=o.indexNames[a],l=o.index(s).keyPath,u="string"==typeof l?l:"["+m(l).join("+")+"]";if(e[r]){var c=e[r].idxByName[u];c&&(c.name=s)}}}function ke(e){Xe.on("blocked").fire(e),Ne.filter(function(e){return e.name===Xe.name&&e!==Xe&&!e._vcFired}).map(function(t){return t.on("versionchange").fire(e)})}var xe=Q.dependencies,Re=d({addons:Q.addons,autoOpen:!0,indexedDB:xe.indexedDB,IDBKeyRange:xe.IDBKeyRange},n),Be=Re.addons,Fe=Re.autoOpen,Ue=Re.indexedDB,Ve=Re.IDBKeyRange,We=this._dbSchema={},He=[],Ke=[],Ge={},je={},ze=null,Je=!0,Qe=null,Ye=!1,Ze="readonly",qe="readwrite",Xe=this,$e=[],et=!0,tt=!!oe(Ue);this.version=function(e){if(ze||Ye)throw new me.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=He.filter(function(t){return t._cfg.version===e})[0];return t?t:(t=new u(e),He.push(t),He.sort(ue),t)},d(u.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?d(this._cfg.storesSource,e):e;var t={};He.forEach(function(e){d(t,e._cfg.storesSource)});var n=this._cfg.dbschema={};return this._parseStoresSpec(t,n),We=Xe._dbSchema=n,Ae([Ge,Xe,je]),ce([je],U,ae(n),qe,n),ce([Ge,Xe,this._cfg.tables],Xe._transPromiseFactory,ae(n),qe,n,!0),Ke=ae(n),this},upgrade:function(e){var t=this;return Pe(function(){e(Xe._createTransaction(qe,ae(t._cfg.dbschema),t._cfg.dbschema))}),this._cfg.contentUpgrade=e,this},_parseStoresSpec:function(e,t){ae(e).forEach(function(n){if(null!==e[n]){var i={},r=he(e[n]),o=r.shift();if(o.multi)throw new me.Schema("Primary key cannot be multi-valued");o.keyPath&&T(i,o.keyPath,o.auto?0:o.keyPath),r.forEach(function(e){if(e.auto)throw new me.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new me.Schema("Index must have a name and cannot be an empty string");T(i,e.keyPath,e.compound?e.keyPath.map(function(){return""}):"")}),t[n]=new ie(n,o,r,i)}})}}),this._allTables=Ge,this._tableFactory=function(e,t,n){return e===Ze?new V(t.name,n,t,Z):new W(t.name,n,t)},this._createTransaction=function(e,t,n,i){return new z(e,t,n,i)},this._transPromiseFactory=function(t,n,i){if(!Je||F.PSD&&F.PSD.letThrough){var r=Xe._createTransaction(t,n,We);return r._promise(t,function(e,t){r.error(function(e){Xe.on("error").fire(e)}),F.newPSD(function(){F.PSD.trans=r,i(function(t){r.complete(function(){e(t)})},t,r)})})}if(!Ye&&!Fe)return C(new me.DatabaseClosed);var o=new F(function(e,r){$e.push({resume:function(){var a=Xe._transPromiseFactory(t,n,i);o.onuncatched=a.onuncatched,a.then(e,r)}})});return Fe&&!Ye&&Xe.open()["catch"](e),o},this._whenReady=function(t){if(!Le&&Je&&(!F.PSD||!F.PSD.letThrough)){if(!Ye){if(!Fe)return C(new me.DatabaseClosed);Xe.open()["catch"](e)}return new F(function(e,n){$e.push({resume:function(){t(e,n)}})})}return new F(t)},this.verno=0,this.open=function(){return ze?F.resolve(Xe):Ye?new F(function(e,t){return Xe._whenReady(function(){e(Xe)},function(e){t(e)})}):(Qe=null,Ye=!0,Je=!0,new F(function(e,n){function i(e){try{r.transaction.abort()}catch(t){}if(ze)try{ze.close()}catch(t){}ze=null,Ye=!1,Qe=x(e),Je=!1,n(Qe),B()}Le&&e();var r;try{if(He.length>0&&(et=!1),!Ue)throw new me.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using Safari, make sure to include indexedDB polyfill.");if(r=et?Ue.open(t):Ue.open(t,Math.round(10*Xe.verno)),!r)throw new me.MissingAPI("IndexedDB API not available");r.onerror=X(i,["opening database",t]),r.onblocked=ke,r.onupgradeneeded=Y(function(e){if(et&&!Xe._allowEmptyDB){r.onerror=function(e){e.preventDefault()},r.transaction.abort(),r.result.close();var n=Ue.deleteDatabase(t);n.onsuccess=n.onerror=function(){i(new me.NoSuchDatabase("Database "+t+" doesnt exist"))}}else{r.transaction.onerror=X(i);var o=e.oldVersion>Math.pow(2,62)?0:e.oldVersion;v(o/10,r.transaction,i,r)}},i),r.onsuccess=Y(function(){if(Ye=!1,ze=r.result,et)be();else if(ze.objectStoreNames.length>0)try{Ce(We,ze.transaction(re(ze.objectStoreNames),Ze))}catch(n){}ze.onversionchange=function(e){Xe._vcFired=!0,Xe.on("versionchange").fire(e)},tt||ee(function(e){return-1===e.indexOf(t)?e.push(t):void 0}),F.newPSD(function(){function t(){Je=!1,B(),e()}F.PSD.letThrough=!0;try{var n=Xe.on.ready.fire();n&&"function"==typeof n.then?n.then(t,function(e){ze.close(),ze=null,i(e)}):_(t)}catch(r){i(r)}})},i)}catch(o){i(o)}}).then(function(){return Ne.push(Xe),Xe}))},this.close=function(){var e=Ne.indexOf(Xe);e>=0&&Ne.splice(e,1),ze?(ze.close(),ze=null,Fe=!1,Je&&B(),Je=!1,Qe=new me.DatabaseClosed):Ye&&Xe.on("ready",function(){return F.reject(new me.DatabaseClosed)})},this["delete"]=function(){var e=arguments;return new F(function(n,i){function r(){Xe.close();var e=Ue.deleteDatabase(t);e.onsuccess=function(){tt||ee(function(e){var n=e.indexOf(t);return n>=0?e.splice(n,1):void 0}),n()},e.onerror=X(i,["deleting",t]),e.onblocked=ke}if(e.length>0)throw new me.InvalidArgument("Arguments not allowed in db.delete()");Ye?$e.push({resume:r}):r()})},this.backendDB=function(){return ze},this.isOpen=function(){return null!==ze},this.hasFailed=function(){return null!==Qe},this.dynamicallyOpened=function(){return et},this.name=t,p(this,"tables",{get:function(){return ae(Ge).map(function(e){return Ge[e]})}}),this.on=R(this,"error","populate",{blocked:[c,e],ready:[A,e],versionchange:[c,e]}),this.on.ready.subscribe=g(this.on.ready.subscribe,function(e){return function(t,n){function i(){return n||Xe.on.ready.unsubscribe(i),t.apply(this,arguments)}e.call(this,i),Xe.isOpen()&&(Je?$e.push({resume:i}):i())}}),Pe(function(){Xe.on("populate").fire(Xe._createTransaction(qe,Ke,We)),Xe.on("error").fire(new Error)}),this.transaction=function(e,t,n){function i(t,i){var o=null,a=!0;try{if(s)throw s;o=Xe._createTransaction(e,l,We,r);var u=l.map(function(e){return o.tables[e]});u.push(o);var c,A=0;F.newPSD(function(){F.PSD.trans=o,o.scopeFunc=n,r&&(o.idbtrans=r.idbtrans,o._promise=g(o._promise,function(e){return function(t,n,i){function r(e){return function(t){var n;return F._rootExec(function(){n=e(t),F._tickFinalize(function(){0===--A&&o.active&&(o.active=!1,o.on.complete.fire())})}),n}}return++A,e.call(this,t,function(e,t,i){return n(r(e),r(t),i)},i)}})),o.complete(function(){t(c)}),o.error(function(e){function t(){var t=i(e);r||t||Xe.on.error.fire(e)}o.idbtrans&&(o.idbtrans.onerror=$);try{o.abort()}catch(n){}r&&(r.active=!1,r.on.error.fire(e)),a?_(t):t()}),F._rootExec(function(){if(c=n.apply(o,u))if("function"==typeof c.next&&"function"==typeof c["throw"])c=te(c);else if("function"==typeof c.then&&!c.hasOwnProperty("_PSD"))throw new me.IncompatiblePromise})}),(!o.idbtrans||r&&0===A)&&o._nop()}catch(d){o&&o.idbtrans&&(o.idbtrans.onerror=$),o&&o.abort(),r&&r.on.error.fire(d),_(function(){i(d)||Xe.on("error").fire(d)})}a=!1}t=m(arguments,1,arguments.length-1),n=arguments[arguments.length-1];var r=F.PSD&&F.PSD.trans;r&&r.db===Xe&&-1===e.indexOf("!")||(r=null);var o=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");var a=se(t[0])?t.reduce(function(e,t){return e.concat(t)}):t,s=null,l=a.map(function(e){return"string"==typeof e?e:(e instanceof V||(s=s||new TypeError("Invalid type. Arguments following mode must be instances of Table or String")),e.name)});return"r"==e||e==Ze?e=Ze:"rw"==e||e==qe?e=qe:s=new me.InvalidArgument("Invalid transaction mode: "+e),r&&(s||(r&&r.mode===Ze&&e===qe&&(o?r=null:s=s||new me.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY")),r&&l.forEach(function(e){r.tables.hasOwnProperty(e)||(o?r=null:s=s||new me.SubTransaction("Table "+e+" not included in parent transaction. Parent Transaction function: "+r.scopeFunc.toString()))}))),r?r._promise(e,i,"lock"):Xe._whenReady(i)},this.table=function(e){if(Le&&et)return new W(e);if(!Ge.hasOwnProperty(e))throw new me.InvalidTable("Table "+e+" does not exist");return Ge[e]},h(V.prototype,function(){function e(){throw new me.ReadOnly("Current Transaction is READONLY")}return{_trans:function(e,t,n){return this._tpf(e,[this.name],t,n)},_idbstore:function(e,t,n){if(Le)return new F(t);var i=this;return this._tpf(e,[this.name],function(e,n,r){t(e,n,r.idbtrans.objectStore(i.name),r)},n)},get:function(e,t){var n=this;return this._idbstore(Ze,function(t,i,r){Le&&t(n.schema.instanceTemplate);var o=r.get(e);o.onerror=X(i,["getting",e,"from",n.name]),o.onsuccess=function(){t(n.hook.reading.fire(o.result))}}).then(t)},where:function(e){return new J(this,e)},count:function(e){return this.toCollection().count(e)},offset:function(e){return this.toCollection().offset(e)},limit:function(e){return this.toCollection().limit(e)},reverse:function(){return this.toCollection().reverse()},filter:function(e){return this.toCollection().and(e)},each:function(e){return this.toCollection().each(e)},toArray:function(e){return this.toCollection().toArray(e)},orderBy:function(e){return new this._collClass(new J(this,e))},toCollection:function(){return new this._collClass(new J(this))},mapToClass:function(e,t){this.schema.mappedClass=e;var n=Object.create(e.prototype);t&&q(n,t),this.schema.instanceTemplate=n;var i=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=i,this.hook("reading",i),e},defineClass:function(e){return this.mapToClass(Q.defineClass(e),e)},add:e,put:e,"delete":e,clear:e,update:e}}),f(W).from(V).extend(function(){return{bulkDelete:function(t){return this.hook.deleting.fire===e?this._idbstore(qe,function(n,i,r,o){n(j(r,o,t,!1,e))}):this.where(":id").anyOf(t)["delete"]().then(function(){})},bulkPut:function(t,n){var i=this;return this._idbstore(qe,function(r,o,a,s){if(!a.keyPath&&!i.schema.primKey.auto&&!n)throw new me.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(a.keyPath&&n)throw new me.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(n&&n.length!==t.length)throw new me.InvalidArgument("Arguments objects and keys must have the same length");if(0===t.length)return r();var l,u,c=function(e){0===A.length?r(e):o(new L(i.name+".bulkPut(): "+A.length+" of "+d+" operations failed",A))},A=[],d=t.length,h=s.tables[i.name];if(i.hook.creating.fire===e&&i.hook.updating.fire===e){u=H(A);for(var p=0,f=t.length;f>p;++p)l=n?a.put(t[p],n[p]):a.put(t[p]),l.onerror=u;l.onerror=H(A,c),l.onsuccess=G(c)}else{var m=n||a.keyPath&&t.map(function(e){return I(e,a.keyPath)}),g=m&&m.reduce(function(e,n,i){return null!=n&&(e[n]=t[i]),e},{}),v=m?h.where(":id").anyOf(m.filter(function(e){return null!=e})).modify(function(){this.value=g[this.primKey],g[this.primKey]=null})["catch"](P,function(e){A=e.failures}).then(function(){for(var e=[],i=n&&[],r=m.length-1;r>=0;--r){var o=m[r];(null==o||g[o])&&(e.push(t[r]),n&&i.push(o),null!=o&&(g[o]=null))}return e.reverse(),n&&i.reverse(),h.bulkAdd(e,i)}).then(function(e){var t=m[m.length-1];return null!=t?t:e}):h.bulkAdd(t);v.then(c)["catch"](L,function(e){A=A.concat(e.failures),c()})["catch"](o)}},"locked")},bulkAdd:function(t,n){var i=this,r=this.hook.creating.fire;return this._idbstore(qe,function(o,a,s,l){function u(e){0===h.length?o(e):a(new L(i.name+".bulkAdd(): "+h.length+" of "+p+" operations failed",h))}if(!s.keyPath&&!i.schema.primKey.auto&&!n)throw new me.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(s.keyPath&&n)throw new me.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(n&&n.length!==t.length)throw new me.InvalidArgument("Arguments objects and keys must have the same length");if(0===t.length)return o();var c,A,d,h=[],p=t.length;if(r!==e){var f=s.keyPath,m={onerror:null,onsuccess:null};A=H(h,null),d=G(null,!0),S(function(){for(var e=0,i=t.length;i>e;++e){var o=n&&n[e],a=t[e],u=n?o:f?I(a,f):void 0,h=r.call(m,u,a,l);null==u&&null!=h&&(f?(a=N(a),T(a,f,h)):o=h),c=null!=o?s.add(a,o):s.add(a),m.onerror&&(c._err=m.onerror),m.onsuccess&&(c._suc=m.onsuccess),i-1>e&&(c.onerror=A,m.onsuccess&&(c.onsuccess=d),m.onerror=null,m.onsuccess=null)}},function(e){throw m.onerror&&m.onerror(e),e}),c.onerror=H(h,u),c.onsuccess=G(u,!0)}else{A=H(h);for(var g=0,v=t.length;v>g;++g)c=n?s.add(t[g],n[g]):s.add(t[g]),c.onerror=A;c.onerror=H(h,u),c.onsuccess=G(u)}})},add:function(t,n){var i=this,r=this.hook.creating.fire;return this._idbstore(qe,function(o,a,s,l){var u={onsuccess:null,onerror:null};if(r!==e){var c=null!=n?n:s.keyPath?I(t,s.keyPath):void 0,A=r.call(u,c,t,l);null==c&&null!=A&&(s.keyPath?T(t,s.keyPath,A):n=A)}try{var d=null!=n?s.add(t,n):s.add(t),h=F.PSD;d.onerror=X(function(e){return u.onerror&&F.usePSD(h,u.onerror.bind(u,e)),a(e)},["adding",t,"into",i.name]),d.onsuccess=function(e){var n=s.keyPath;n&&T(t,n,e.target.result),u.onsuccess&&F.usePSD(h,u.onsuccess.bind(u,e.target.result)),o(d.result)}}catch(p){throw u.onerror&&u.onerror(p),p}})},put:function(t,n){var i=this,r=this.hook.creating.fire,o=this.hook.updating.fire;return r!==e||o!==e?this._trans(qe,function(e,r,o){var a=void 0!==n?n:i.schema.primKey.keyPath&&I(t,i.schema.primKey.keyPath);null==a?o.tables[i.name].add(t).then(e,r):(o._lock(),t=N(t),o.tables[i.name].where(":id").equals(a).modify(function(){this.value=t}).then(function(e){return 0===e?o.tables[i.name].add(t,n):a})["finally"](function(){o._unlock()}).then(e,r))}):this._idbstore(qe,function(e,r,o){var a=void 0!==n?o.put(t,n):o.put(t);a.onerror=X(r,["putting",t,"into",i.name]),a.onsuccess=function(n){var i=o.keyPath;i&&T(t,i,n.target.result),e(a.result)}})},"delete":function(e){return this.hook.deleting.subscribers.length?this.where(":id").equals(e)["delete"]():this._idbstore(qe,function(t,n,i){var r=i["delete"](e);r.onerror=X(n,["deleting",e,"from",i.name]),r.onsuccess=function(){t(r.result)}})},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection()["delete"]():this._idbstore(qe,function(e,t,n){var i=n.clear();i.onerror=X(t,["clearing",n.name]),i.onsuccess=function(){e(i.result)}})},update:function(e,t){if("object"!=typeof t||se(t))throw new me.InvalidArgument("db.update(keyOrObject, modifications). modifications must be an object.");if("object"!=typeof e||se(e))return this.where(":id").equals(e).modify(t);ae(t).forEach(function(n){T(e,n,t[n])});var n=I(e,this.schema.primKey.keyPath);return void 0===n&&F.reject(new me.InvalidArgument("Given object does not contain its primary key")),this.where(":id").equals(n).modify(t)}}}),h(z.prototype,{_lock:function(){return++this._reculock,1===this._reculock&&F.PSD&&(F.PSD.lockOwnerFor=this),this},_unlock:function(){if(0===--this._reculock)for(F.PSD&&(F.PSD.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{e()}catch(t){}}return this},_locked:function(){return this._reculock&&(!F.PSD||F.PSD.lockOwnerFor!==this)},_nop:function(e){this.tables[this.storeNames[0]].get(0).then(e)},_promise:function(e,t,n){var i=this;return F.newPSD(function(){var r;return i._locked()?r=new F(function(r,o){i._blockedFuncs.push(function(){i._promise(e,t,n).then(r,o)})}):(r=i.active?new F(function(r,o){if(!i.idbtrans&&e){if(!ze)throw!Qe||["DatabaseClosedError","MissingAPIError"].indexOf(Qe.name)>=0?Qe:new me.OpenFailed(Qe);var a=i.idbtrans=ze.transaction(re(i.storeNames),i.mode);a.onerror=function(e){i.on("error").fire(e&&e.target.error),e.preventDefault(),i.abort()},a.onabort=function(e){_(function(){i.on("error").fire(new me.Abort("Transaction aborted for unknown reason"))}),i.active=!1,i.on("abort").fire(e)},a.oncomplete=function(e){i.active=!1,i.on("complete").fire(e)}}n&&i._lock();try{t(r,o,i)}catch(s){var l=b(x(s));Q.ignoreTransaction(function(){i.on("error").fire(l)}),i.abort(),o(l)}}):F.reject(b(new me.TransactionInactive("Transaction is inactive. Original Scope Function Source: "+i.scopeFunc.toString()))),i.active&&n&&r["finally"](function(){i._unlock()})),r.onuncatched=function(e){Q.ignoreTransaction(function(){i.on("error").fire(e)}),i.abort()},r})},complete:function(e){return this.on("complete",e)},error:function(e){return this.on("error",e)},abort:function(){if(this.idbtrans&&this.active)try{this.active=!1,this.idbtrans.abort(),this.on.error.fire(new me.Abort("Transaction Aborted"))}catch(e){}},table:function(e){if(!this.tables.hasOwnProperty(e))throw new me.InvalidTable("Table "+e+" not in transaction");return this.tables[e]}}),h(J.prototype,function(){function e(e,t,n){var i=e instanceof J?new e._ctx.collClass(e):e;try{throw n?new n(t):new TypeError(t)}catch(r){i._ctx.error=r}return i}function t(e){return new e._ctx.collClass(e,function(){return Ve.only("")}).limit(0)}function n(e){return m(1===e.length&&se(e[0])?e[0]:e)}function i(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function r(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function o(e,t,n,i,r,o){for(var a=Math.min(e.length,i.length),s=-1,l=0;a>l;++l){var u=t[l];if(u!==i[l])return r(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):r(e[l],i[l])<0?e.substr(0,l)+i[l]+n.substr(l+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;r(e[l],u)<0&&(s=l)}return a<i.length&&"next"===o?e+n.substr(e.length):a<e.length&&"prev"===o?e.substr(0,n.length):0>s?null:e.substr(0,s)+i[s]+n.substr(s+1)}function a(e,t,n,a){function s(e){l=i(e),u=r(e),c="next"===e?_e:Se;var t=n.map(function(e){return{lower:u(e),upper:l(e)}}).sort(function(e,t){return c(e.lower,t.lower)});A=t.map(function(e){return e.upper}),d=t.map(function(e){return e.lower}),h=e,p="next"===e?"":a}var l,u,c,A,d,h,p,f=n.length;s("next");var m=new e._ctx.collClass(e,function(){return Ve.bound(A[0],d[f-1]+a)});m._ondirectionchange=function(e){s(e)};var g=0;return m._addAlgorithm(function(e,n,i){var r=e.key;if("string"!=typeof r)return!1;var a=u(r);if(t(a,d,g))return!0;for(var s=null,l=g;f>l;++l){var m=o(r,a,A[l],d[l],c,h);null===m&&null===s?g=l+1:(null===s||c(s,m)>0)&&(s=m)}return n(null!==s?function(){e["continue"](s+p)}:i),!1}),m}return{between:function(n,i,r,o){r=r!==!1,o=o===!0;try{return pe(n,i)>0||0===pe(n,i)&&(r||o)&&(!r||!o)?t(this):new this._ctx.collClass(this,function(){return Ve.bound(n,i,!r,!o)})}catch(a){return e(this,Oe)}},equals:function(e){return new this._ctx.collClass(this,function(){return Ve.only(e)})},above:function(e){return new this._ctx.collClass(this,function(){return Ve.lowerBound(e,!0)})},aboveOrEqual:function(e){return new this._ctx.collClass(this,function(){return Ve.lowerBound(e)})},below:function(e){return new this._ctx.collClass(this,function(){return Ve.upperBound(e,!0)})},belowOrEqual:function(e){return new this._ctx.collClass(this,function(){return Ve.upperBound(e)})},startsWith:function(t){return"string"!=typeof t?e(this,we):this.between(t,t+Ie,!0,!0)},startsWithIgnoreCase:function(t){return"string"!=typeof t?e(this,we):""===t?this.startsWith(t):a(this,function(e,t){return 0===e.indexOf(t[0])},[t],Ie)},equalsIgnoreCase:function(t){return"string"!=typeof t?e(this,we):a(this,function(e,t){return e===t[0]},[t],"")},anyOfIgnoreCase:function(){var i=n(arguments);return 0===i.length?t(this):i.every(function(e){return"string"==typeof e})?a(this,function(e,t){return-1!==t.indexOf(e)},i,""):e(this,"anyOfIgnoreCase() only works with strings")},startsWithAnyOfIgnoreCase:function(){var i=n(arguments);return 0===i.length?t(this):i.every(function(e){return"string"==typeof e})?a(this,function(e,t){return t.some(function(t){return 0===e.indexOf(t)})},i,Ie):e(this,"startsWithAnyOfIgnoreCase() only works with strings")},anyOf:function(){var i=n(arguments),r=ve;try{i.sort(r)}catch(o){return e(this,Oe)}if(0===i.length)return t(this);var a=new this._ctx.collClass(this,function(){return Ve.bound(i[0],i[i.length-1])});a._ondirectionchange=function(e){r="next"===e?ve:Ee,i.sort(r)};var s=0;return a._addAlgorithm(function(e,t,n){for(var o=e.key;r(o,i[s])>0;)if(++s,s===i.length)return t(n),!1;return 0===r(o,i[s])?!0:(t(function(){e["continue"](i[s])}),!1)}),a},notEqual:function(e){return this.inAnyRange([[-(1/0),e],[e,Te]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=n(arguments);if(0===t.length)return new this._ctx.collClass(this);try{t.sort(ve)}catch(i){return e(this,Oe)}var r=t.reduce(function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-(1/0),t]]},null);return r.push([t[t.length-1],Te]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(n,i){function r(e,t){for(var n=0,i=e.length;i>n;++n){var r=e[n];if(pe(t[0],r[1])<0&&pe(t[1],r[0])>0){r[0]=fe(r[0],t[0]),r[1]=ge(r[1],t[1]);break}}return n===i&&e.push(t),e}function o(e,t){return A(e[0],t[0])}function a(e){return!p(e)&&!f(e)}var s=this._ctx;if(0===n.length)return t(this);if(!n.every(function(e){return void 0!==e[0]&&void 0!==e[1]&&ve(e[0],e[1])<=0}))return e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",me.InvalidArgument);var l,u=!i||i.includeLowers!==!1,c=i&&i.includeUppers===!0,A=ve;try{l=n.reduce(r,[]),l.sort(o)}catch(d){return e(this,Oe)}var h=0,p=c?function(e){return ve(e,l[h][1])>0}:function(e){return ve(e,l[h][1])>=0},f=u?function(e){return Ee(e,l[h][0])>0}:function(e){return Ee(e,l[h][0])>=0},m=p,g=new s.collClass(this,function(){return Ve.bound(l[0][0],l[l.length-1][1],!u,!c)});return g._ondirectionchange=function(e){"next"===e?(m=p,A=ve):(m=f,A=Ee),l.sort(o)},g._addAlgorithm(function(e,t,n){for(var i=e.key;m(i);)if(++h,h===l.length)return t(n),!1;return a(i)?!0:0===pe(i,l[h][1])||0===pe(i,l[h][0])?!1:(t(function(){A===ve?e["continue"](l[h][0]):e["continue"](l[h][1])}),!1)}),g},startsWithAnyOf:function(){var i=n(arguments);return i.every(function(e){return"string"==typeof e})?0===i.length?t(this):this.inAnyRange(i.map(function(e){return[e,e+Ie]})):e(this,"startsWithAnyOf() only works with strings")}}}),h(Z.prototype,function(){function e(e,t){e.filter=ye(e.filter,t)}function t(e,t){var n=e.replayFilter;e.replayFilter=n?function(){return ye(n(),t())}:t}function n(e,t){e.isMatch=ye(e.isMatch,t)}function i(e,t){if(e.isPrimKey)return t;var n=e.table.schema.idxByName[e.index];if(!n)throw new me.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return t.index(n.name)}function r(e,t){var n=i(e,t);return e.keysOnly&&"openKeyCursor"in n?n.openKeyCursor(e.range||null,e.dir+e.unique):n.openCursor(e.range||null,e.dir+e.unique)}function o(e,t,n,i,o){var a=e.replayFilter?ye(e.filter,e.replayFilter()):e.filter;e.or?!function(){function s(){2===++c&&n()}function l(e,n,r){if(!a||a(n,r,s,i)){var o=n.primaryKey.toString();u.hasOwnProperty(o)||(u[o]=!0,t(e,n,r))}}var u={},c=0;e.or._iterate(l,s,i,o),de(r(e,o),e.algorithm,l,s,i,!e.keysOnly&&e.valueFilter)}():de(r(e,o),ye(e.algorithm,a),t,n,i,!e.keysOnly&&e.valueFilter)}function a(e){return e.table.schema.instanceTemplate}return{_read:function(e,t){var n=this._ctx;return n.error?n.table._trans(null,function(e,t){t(n.error)}):n.table._idbstore(Ze,e).then(t)},_write:function(e){var t=this._ctx;return t.error?t.table._trans(null,function(e,n){n(t.error)}):t.table._idbstore(qe,e,"locked")},_addAlgorithm:function(e){var t=this._ctx;t.algorithm=ye(t.algorithm,e)},_iterate:function(e,t,n,i){return o(this._ctx,e,t,n,i)},clone:function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&d(n,e),t._ctx=n,t},raw:function(){return this._ctx.valueFilter=null,this},each:function(e){var t=this._ctx;return Le&&e(a(t)),this._read(function(n,i,r){o(t,e,n,i,r)})},count:function(e){if(Le)return F.resolve(0).then(e);var t=this,n=this._ctx;if(n.filter||n.algorithm||n.or||n.replayFilter){var r=0;return this._read(function(e,t,i){o(n,function(){return++r,!1},function(){e(r)},t,i)},e)}return this._read(function(e,r,o){var a=i(n,o),s=n.range?a.count(n.range):a.count();s.onerror=X(r,["calling","count()","on",t.name]),s.onsuccess=function(t){e(t.target.result)}},e)},sortBy:function(e,t){function n(e,t){return t?n(e[r[t]],t-1):e[o]}function i(e,t){var i=n(e,a),r=n(t,a);return r>i?-s:i>r?s:0}var r=e.split(".").reverse(),o=r[0],a=r.length-1,s="next"===this._ctx.dir?1:-1;return this.toArray(function(e){return e.sort(i)}).then(t)},toArray:function(e){var t=this._ctx;return this._read(function(e,n,i){Le&&e([a(t)]);var r=[];o(t,function(e){r.push(e)},function(){e(r)},n,i)},e)},offset:function(e){var n=this._ctx;return 0>=e?this:(n.offset+=e,n.or||n.algorithm||n.filter||n.replayFilter?t(n,function(){var t=e;return function(){return--t<0}}):t(n,function(){var t=e;return function(e,n){return 0===t?!0:1===t?(--t,!1):(n(function(){e.advance(t),t=0}),!1)}}),this)},limit:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),t(this._ctx,function(){var t=e;return function(e,n,i){return--t<=0&&n(i),t>=0}}),this},until:function(t,n){var i=this._ctx;return Le&&t(a(i)),e(this._ctx,function(e,i,r){return t(e.value)?(i(r),n):!0}),this},first:function(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)},last:function(e){return this.reverse().first(e)},filter:function(t){return Le&&t(a(this._ctx)),e(this._ctx,function(e){return t(e.value)}),n(this._ctx,t),this},and:function(e){return this.filter(e)},or:function(e){return new J(this._ctx.table,e,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(e){var t=this._ctx;return Le&&e(I(a(this._ctx),this._ctx.index?this._ctx.table.schema.idxByName[this._ctx.index].keyPath:this._ctx.table.schema.primKey.keyPath)),t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.key,n)})},eachUniqueKey:function(e){return this._ctx.unique="unique",this.eachKey(e)},keys:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return Le?new F(this.eachKey.bind(this)).then(function(e){return[e]}).then(e):this.each(function(e,t){n.push(t.key)}).then(function(){return n}).then(e)},uniqueKeys:function(e){return this._ctx.unique="unique",this.keys(e)},firstKey:function(e){return this.limit(1).keys(function(e){return e[0]}).then(e)},lastKey:function(e){return this.reverse().firstKey(e)},distinct:function(){
var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var i={};return e(this._ctx,function(e){var t=e.primaryKey.toString(),n=i.hasOwnProperty(t);return i[t]=!0,!n}),this}}}),f(le).from(Z).extend({modify:function(t){var n=this,i=this._ctx,r=i.table.hook,o=r.updating.fire,a=r.deleting.fire;return Le&&"function"==typeof t&&t.call({value:i.table.schema.instanceTemplate},i.table.schema.instanceTemplate),this._write(function(r,s,l,u){function c(e,t){function n(e){return y.push(e),b.push(r.primKey),r.onerror&&F.newPSD(function(){F.PSD.trans=u,r.onerror(e)}),h(),!0}C=t.primaryKey;var r={primKey:t.primaryKey,value:e,onsuccess:null,onerror:null};if(p.call(r,e,r)!==!1){var o=!r.hasOwnProperty("value");++v,S(function(){var a=o?t["delete"]():t.update(r.value);a.onerror=X(n,o?["deleting",e,"from",i.table.name]:["modifying",e,"on",i.table.name]),a.onsuccess=function(){r.onsuccess&&F.newPSD(function(){F.PSD.trans=u,r.onsuccess(r.value)}),++E,h()}},n)}else r.onsuccess&&r.onsuccess(r.value)}function A(e){return e&&(y.push(e),b.push(C)),s(new P("Error modifying one or more objects",y,E,b))}function h(){_&&E+y.length===v&&(y.length>0?A():r(E))}var p;if("function"==typeof t)p=o===e&&a===e?t:function(e){var n=N(e);if(t.call(this,e,this)===!1)return!1;if(this.hasOwnProperty("value")){var i=k(n,this.value),r=o.call(this,i,this.primKey,n,u);r&&(e=this.value,ae(r).forEach(function(t){T(e,t,r[t])}))}else a.call(this,this.primKey,e,u)};else if(o===e){var f=ae(t),m=f.length;p=function(e){for(var n=!1,i=0;m>i;++i){var r=f[i],o=t[r];I(e,r)!==o&&(T(e,r,o),n=!0)}return n}}else{var g=t;t=w(g),p=function(e){var n=!1,i=o.call(this,t,this.primKey,N(e),u);return i&&d(t,i),ae(t).forEach(function(i){var r=t[i];I(e,i)!==r&&(T(e,i,r),n=!0)}),i&&(t=w(g)),n}}var v=0,E=0,_=!1,y=[],b=[],C=null;n.clone().raw()._iterate(c,function(){_=!0,h()},A,l)})},"delete":function(){var t=this,n=this._ctx,i=n.range,r=n.table.hook.deleting.fire,o=r!==e;if(!o&&!n.or&&!n.algorithm&&!n.filter&&!n.replayFilter&&(n.isPrimKey&&!Me||!i))return this._write(function(e,t,r){var o=X(t,["deleting range from",n.table.name]),a=i?r.count(i):r.count();a.onerror=o,a.onsuccess=function(){var n=a.result;S(function(){var t=i?r["delete"](i):r.clear();t.onerror=o,t.onsuccess=function(){return e(n)}},function(e){return t(x(e))})}});var a=o?2e3:1e4;return this._write(function(e,i,s,l){var u=0,c=Object.create(n.table);c._tpf=l._tpf;var A=t.clone({table:c,keysOnly:!n.isMatch&&!o}).distinct().limit(a).raw(),d=[],h=function(){return A.each(o?function(e,t){d.push([t.primaryKey,t.value])}:function(e,t){d.push(t.primaryKey)}).then(function(){return o?d.sort(function(e,t){return ve(e[0],t[0])}):d.sort(ve),j(s,l,d,o,r)}).then(function(){var e=d.length;return u+=e,d=[],a>e?u:h()})};e(h())})}}),d(this,{Collection:Z,Table:V,Transaction:z,Version:u,WhereClause:J,WriteableCollection:le,WriteableTable:W}),o(),Be.forEach(function(e){e(Xe)})}function Y(e,t){var n=F.PSD;return function(){var i=F.PSD;F.PSD=n;try{e.apply(this,arguments)}catch(r){t(r)}finally{F.PSD=i}}}function Z(e){if("function"==typeof e)return new e;if(se(e))return[Z(e[0])];if(e&&"object"==typeof e){var t={};return q(t,e),t}return e}function q(e,t){return ae(t).forEach(function(n){var i=Z(t[n]);e[n]=i}),e}function X(e,t){return function(n){var i=n&&n.target.error||new Error("");if(t){var r=" occurred when "+t.map(function(e){switch(typeof e){case"function":return e();case"string":return e;default:return JSON.stringify(e)}}).join(" ");i.message&&i.message!=i.name&&(r+=". "+i.message),i.name?i=x(i,i.name+r):i+=r}return e(i),n&&(n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault()),!1}}function $(e){e.preventDefault()}function ee(e){var t,n=Q.dependencies.localStorage;if(!n)return e([]);try{t=JSON.parse(n.getItem("Dexie.DatabaseNames")||"[]")}catch(i){t=[]}e(t)&&n.setItem("Dexie.DatabaseNames",JSON.stringify(t))}function te(e){function t(e){return function(t){var i=e(t),r=i.value;return i.done?r:r&&"function"==typeof r.then?r.then(o,a):Array.isArray(r)?n(r,0):o(r)}}function n(e,t){if(t===e.length)return o(e);var i=e[t];return i.constructor&&"function"==typeof i.constructor.all?i.constructor.all(e).then(o,a):n(e,t+1)}var i=function(t){return e.next(t)},r=function(t){return e["throw"](t)},o=t(i),a=t(r);return t(i)()}function ne(e,t,n,i,r,o,a){this.name=e,this.keyPath=t,this.unique=n,this.multi=i,this.auto=r,this.compound=o,this.dotted=a;var s="string"==typeof t?t:t&&"["+[].join.call(t,"+")+"]";this.src=(n?"&":"")+(i?"*":"")+(r?"++":"")+s}function ie(e,t,n,i){this.name=e,this.primKey=t||new ne,this.indexes=n||[new ne],this.instanceTemplate=i,this.mappedClass=null,this.idxByName=n.reduce(function(e,t){return e[t.name]=t,e},{})}function re(e){return 1===e.length?e[0]:e}function oe(e){var t=e&&(e.getDatabaseNames||e.webkitGetDatabaseNames);return t&&t.bind(e)}var ae=Object.keys,se=Array.isArray,le="undefined"!=typeof self?self:"undefined"!=typeof window?window:t,ue=[].slice,ce=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","IncompatiblePromise"],Ae=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],de=ce.concat(Ae),he={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",IncompatiblePromise:"Incompatible Promise used in transaction scope. See http://tinyurl.com/znyqjqc"};f(D).from(Error).extend({dump:function(){return y(this)}}),f(P).from(D),f(L).from(D);var pe=de.reduce(function(e,t){return e[t]=t+"Error",e},{}),fe=D,me=de.reduce(function(e,t){function n(e,n){this.name=i,"string"==typeof e?(this.message=e,this.inner=n||null):"object"==typeof e?(this.message=e.name+" "+e.message,this.inner=e):(this.message=he[t],this.inner=null)}var i=t+"Error";return f(n).from(fe),e[t]=n,e},{});me.Syntax=SyntaxError,me.Type=TypeError,me.Range=RangeError;var ge=Ae.reduce(function(e,t){return e[t+"Error"]=me[t],e},{}),ve=de.reduce(function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=me[t]),e},{});ve.ModifyError=P,ve.DexieError=D,ve.BulkError=L;var Ee=le.setImmediate||function(e){var t=m(arguments,1);setTimeout(function(){e.apply(le,t)},0)};v(function(){Ee=_e=Ce=function(e){var t=arguments;setTimeout(function(){e.apply(le,m(t,1))},0)}});var _e=Ee,Se=!0,ye=[],be=[],Ce=function(e){ye.push([e,m(arguments,1)])};F.all=function(){var e=m(1===arguments.length&&se(arguments[0])?arguments[0]:arguments);return new F(function(t,n){function i(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){i(o,e)},n)}e[o]=a,0===--r&&t(e)}catch(l){n(l)}}if(0===e.length)return t([]);for(var r=e.length,o=0;o<e.length;o++)i(o,e[o])})},F.prototype.then=function(e,t){var n=this,i=new F(function(i,r){null===n._state?U(n,new j(e,t,i,r)):_e(U,n,new j(e,t,i,r))});return i._PSD=this._PSD,i.onuncatched=this.onuncatched,i._parent=this,i},F.prototype._then=function(t,n){U(this,new j(t,n,e,e))},F.prototype["catch"]=function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,function(e){return e instanceof t?n(e):F.reject(e)}):this.then(null,function(e){return e&&e.name===t?n(e):F.reject(e)})},F.prototype["finally"]=function(e){return this.then(function(t){return e(),t},function(t){return e(),F.reject(t)})},F.prototype.onuncatched=null,F.resolve=function(e){if(e&&"function"==typeof e.then)return e;var t=new F(function(){});return t._state=!0,t._value=e,t},F.reject=function(e){var t=new F(function(){});return t._state=!1,t._value=e,t},F.race=function(e){return new F(function(t,n){e.map(function(e){e.then(t,n)})})},F.PSD=null,F.newPSD=function(e){var t=F.PSD;F.PSD=t?Object.create(t):{};try{return e()}finally{F.PSD=t}},F.usePSD=function(e,t){var n=F.PSD;F.PSD=e;try{return t()}finally{F.PSD=n}},F._rootExec=V,F._tickFinalize=function(e){if(Se)throw new Error("Not in a virtual tick");be.push(e)},F.on=R(null,{error:[function(e,t){return t},J]});var Ie=String.fromCharCode(65535),Te=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(e){return Ie}}(),Oe="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",we="String expected.",Ne=[],ke="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),De=ke,Me=ke,Pe=function(){},Le=!1;Q["delete"]=function(e){var t=new Q(e),n=t["delete"]();return n.onblocked=function(e){return t.on("blocked",e),this},n},Q.exists=function(e){return new Q(e).open().then(function(e){return e.close(),!0})["catch"](Q.NoSuchDatabaseError,function(){return!1})},Q.getDatabaseNames=function(e){return new F(function(e,t){var n=oe(indexedDB);if(n){var i=n();i.onsuccess=function(t){e(m(t.target.result,0))},i.onerror=X(t)}else ee(function(t){return e(t),!1})}).then(e)},Q.defineClass=function(e){function t(t){t?d(this,t):Le&&q(this,e)}return t},Q.applyStructure=q,Q.ignoreTransaction=function(e){return F.newPSD(function(){return F.PSD.trans=null,e()})},Q.vip=function(e){return F.newPSD(function(){return F.PSD.letThrough=!0,e()})},Q.async=function(e){return function(){try{var t=te(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Q.Promise.resolve(t)}catch(n){return Q.Promise.reject(n)}}},Q.spawn=function(e,t,n){try{var i=te(e.apply(n,t||[]));return i&&"function"==typeof i.then?i:Q.Promise.resolve(i)}catch(r){return Q.Promise.reject(r)}},p(Q,"currentTransaction",{get:function(){return F.PSD&&F.PSD.trans||null}}),Q.Promise=F,Q.derive=f,Q.extend=d,Q.extendProto=h,Q.override=g,Q.Events=Q.events=R,Q.getByKeyPath=I,Q.setByKeyPath=T,Q.delByKeyPath=O,Q.shallowClone=w,Q.deepClone=N,Q.addons=[],Q.fakeAutoComplete=Pe,Q.asap=_,Q.maxKey=Te,Q.connections=Ne,Q.dump=y,d(Q,ve),Q.MultiModifyError=Q.ModifyError,Q.errnames=pe,Q.IndexSpec=ne,Q.TableSchema=ie;var xe=le.idbModules&&le.idbModules.shimIndexedDB?le.idbModules:{};return Q.dependencies={indexedDB:xe.shimIndexedDB||le.indexedDB||le.mozIndexedDB||le.webkitIndexedDB||le.msIndexedDB,IDBKeyRange:xe.IDBKeyRange||le.IDBKeyRange||le.webkitIDBKeyRange},S(function(){Q.dependencies.localStorage=null!=("undefined"!=typeof chrome&&null!==chrome?chrome.storage:void 0)?null:le.localStorage}),Q.semVer="1.3.6",Q.version=Q.semVer.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,2*n)}),v(function(){Q.fakeAutoComplete=Pe=v,Q.fake=Le=!0}),Q["default"]=Q,Q})}).call(t,function(){return this}(),n(152).setImmediate)},function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,i,r){t=t||"&",i=i||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var u=0;l>u;++u){var c,A,d,h,p=e[u].replace(a,"%20"),f=p.indexOf(i);f>=0?(c=p.substr(0,f),A=p.substr(f+1)):(c=p,A=""),d=decodeURIComponent(c),h=decodeURIComponent(A),n(o,d)?Array.isArray(o[d])?o[d].push(h):o[d]=[o[d],h]:o[d]=h}return o}},function(e,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,i,r){return t=t||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(r){var o=encodeURIComponent(n(r))+i;return Array.isArray(e[r])?e[r].map(function(e){return o+encodeURIComponent(n(e))}).join(t):o+encodeURIComponent(n(e[r]))}).join(t):r?encodeURIComponent(n(r))+i+encodeURIComponent(n(e)):""}},function(e,t,n){e.exports=n(548)},function(e,t,n){"use strict";function i(){this._callbacks=null,this._contexts=null}var r=n(50),o=n(15),a=n(13);o(i.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?a(!1):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),r.addPoolingTo(i),e.exports=i},function(e,t,n){"use strict";function i(e){return c.hasOwnProperty(e)?!0:u.hasOwnProperty(e)?!1:l.test(e)?(c[e]=!0,!0):(u[e]=!0,!1)}function r(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&1>t||e.hasOverloadedBooleanValue&&t===!1}var o=n(67),a=n(37),s=n(621),l=(n(18),/^[a-zA-Z_][\w\.\-]*$/),u={},c={},A={createMarkupForID:function(e){return o.ID_ATTRIBUTE_NAME+"="+s(e)},setAttributeForID:function(e,t){e.setAttribute(o.ID_ATTRIBUTE_NAME,t)},createMarkupForProperty:function(e,t){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){if(r(n,t))return"";var i=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?i+'=""':i+"="+s(t)}return o.isCustomAttribute(e)?null==t?"":e+"="+s(t):null},createMarkupForCustomAttribute:function(e,t){return i(e)&&null!=t?e+"="+s(t):""},setValueForProperty:function(e,t,n){var i=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(i){var a=i.mutationMethod;if(a)a(e,n);else if(r(i,n))this.deleteValueForProperty(e,t);else if(i.mustUseAttribute){var s=i.attributeName,l=i.attributeNamespace;l?e.setAttributeNS(l,s,""+n):i.hasBooleanValue||i.hasOverloadedBooleanValue&&n===!0?e.setAttribute(s,""):e.setAttribute(s,""+n)}else{var u=i.propertyName;i.hasSideEffects&&""+e[u]==""+n||(e[u]=n)}}else o.isCustomAttribute(t)&&A.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){i(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForProperty:function(e,t){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){var i=n.mutationMethod;if(i)i(e,void 0);else if(n.mustUseAttribute)e.removeAttribute(n.attributeName);else{var r=n.propertyName,a=o.getDefaultValueForProperty(e.nodeName,r);n.hasSideEffects&&""+e[r]===a||(e[r]=a)}}else o.isCustomAttribute(t)&&e.removeAttribute(t)}};a.measureMethods(A,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),e.exports=A},function(e,t,n){"use strict";function i(e){null!=e.checkedLink&&null!=e.valueLink?u(!1):void 0}function r(e){i(e),null!=e.value||null!=e.onChange?u(!1):void 0}function o(e){i(e),null!=e.checked||null!=e.onChange?u(!1):void 0}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=n(234),l=n(104),u=n(13),c=(n(18),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),A={value:function(e,t,n){return!e[t]||c[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:s.func},d={},h={checkPropTypes:function(e,t,n){for(var i in A){if(A.hasOwnProperty(i))var r=A[i](t,i,e,l.prop);if(r instanceof Error&&!(r.message in d)){d[r.message]=!0;a(n)}}},getValue:function(e){return e.valueLink?(r(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(o(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(r(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(o(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=h},function(e,t,n){"use strict";var i=n(137),r=n(30),o={processChildrenUpdates:i.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:i.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(e){r.purgeID(e)}};e.exports=o},function(e,t,n){"use strict";var i=n(13),r=!1,o={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){r?i(!1):void 0,o.unmountIDFromEnvironment=e.unmountIDFromEnvironment,o.replaceNodeWithMarkupByID=e.replaceNodeWithMarkupByID,o.processChildrenUpdates=e.processChildrenUpdates,r=!0}}};e.exports=o},function(e,t,n){"use strict";var i=n(44),r=n(222),o=n(224),a=n(68),s=n(30),l=n(37),u=n(55),c=n(38),A=n(139),d=n(140),h=n(622);n(18);o.inject();var p=l.measure("React","render",s.render),f={findDOMNode:d,render:p,unmountComponentAtNode:s.unmountComponentAtNode,version:A,unstable_batchedUpdates:c.batchedUpdates,unstable_renderSubtreeIntoContainer:h};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:i,InstanceHandles:a,Mount:s,Reconciler:u,TextComponent:r});e.exports=f},function(e,t,n){"use strict";var i=n(215),r=n(132),o=n(30),a=n(37),s=n(13),l={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},u={updatePropertyByID:function(e,t,n){var i=o.getNode(e);l.hasOwnProperty(t)?s(!1):void 0,null!=n?r.setValueForProperty(i,t,n):r.deleteValueForProperty(i,t)},dangerouslyReplaceNodeWithMarkupByID:function(e,t){var n=o.getNode(e);i.dangerouslyReplaceNodeWithMarkup(n,t)},dangerouslyProcessChildrenUpdates:function(e,t){for(var n=0;n<e.length;n++)e[n].parentNode=o.getNode(e[n].parentID);i.processUpdates(e,t)}};a.measureMethods(u,"ReactDOMIDOperations",{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),e.exports=u},function(e,t,n){"use strict";function i(e){s.enqueueUpdate(e)}function r(e,t){var n=a.get(e);return n?n:null}var o=(n(44),n(32)),a=n(86),s=n(38),l=n(15),u=n(13),c=(n(18),{isMounted:function(e){var t=a.get(e);return t?!!t._renderedComponent:!1},enqueueCallback:function(e,t){"function"!=typeof t?u(!1):void 0;var n=r(e);return n?(n._pendingCallbacks?n._pendingCallbacks.push(t):n._pendingCallbacks=[t],void i(n)):null},enqueueCallbackInternal:function(e,t){"function"!=typeof t?u(!1):void 0,e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],i(e)},enqueueForceUpdate:function(e){var t=r(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,i(t))},enqueueReplaceState:function(e,t){var n=r(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,i(n))},enqueueSetState:function(e,t){var n=r(e,"setState");if(n){var o=n._pendingStateQueue||(n._pendingStateQueue=[]);o.push(t),i(n)}},enqueueSetProps:function(e,t){var n=r(e,"setProps");n&&c.enqueueSetPropsInternal(n,t)},enqueueSetPropsInternal:function(e,t){var n=e._topLevelWrapper;n?void 0:u(!1);var r=n._pendingElement||n._currentElement,a=r.props,s=l({},a.props,t);n._pendingElement=o.cloneAndReplaceProps(r,o.cloneAndReplaceProps(a,s)),i(n)},enqueueReplaceProps:function(e,t){var n=r(e,"replaceProps");n&&c.enqueueReplacePropsInternal(n,t)},enqueueReplacePropsInternal:function(e,t){var n=e._topLevelWrapper;n?void 0:u(!1);var r=n._pendingElement||n._currentElement,a=r.props;n._pendingElement=o.cloneAndReplaceProps(r,o.cloneAndReplaceProps(a,t)),i(n)},enqueueElementInternal:function(e,t){e._pendingElement=t,i(e)}});e.exports=c},function(e,t){"use strict";e.exports="0.14.7"},function(e,t,n){"use strict";function i(e){return null==e?null:1===e.nodeType?e:r.has(e)?o.getNodeFromInstance(e):(null!=e.render&&"function"==typeof e.render?a(!1):void 0,void a(!1))}var r=(n(44),n(86)),o=n(30),a=n(13);n(18);e.exports=i},function(e,t){"use strict";function n(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}e.exports=n},function(e,t){"use strict";function n(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var i=r[e];return i?!!n[i]:!1}function i(e){return n}var r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=i},function(e,t){"use strict";function n(e){var t=e.target||e.srcElement||window;return 3===t.nodeType?t.parentNode:t}e.exports=n},function(e,t){"use strict";function n(e){var t=e&&(i&&e[i]||e[r]);return"function"==typeof t?t:void 0}var i="function"==typeof Symbol&&Symbol.iterator,r="@@iterator";e.exports=n},function(e,t,n){"use strict";function i(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function r(e){var t;if(null===e||e===!1)t=new a(r);else if("object"==typeof e){var n=e;!n||"function"!=typeof n.type&&"string"!=typeof n.type?u(!1):void 0,t="string"==typeof n.type?s.createInternalComponent(n):i(n.type)?new n.type(n):new c}else"string"==typeof e||"number"==typeof e?t=s.createInstanceForText(e):u(!1);return t.construct(e),t._mountIndex=0,t._mountImage=null,t}var o=n(579),a=n(226),s=n(232),l=n(15),u=n(13),c=(n(18),function(){});l(c.prototype,o.Mixin,{_instantiateReactComponent:r}),e.exports=r},function(e,t,n){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function i(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,i=n in document;if(!i){var a=document.createElement("div");a.setAttribute(n,"return;"),i="function"==typeof a[n]}return!i&&r&&"wheel"===e&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var r,o=n(24);o.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=i},function(e,t,n){"use strict";var i=n(24),r=n(108),o=n(109),a=function(e,t){e.textContent=t};i.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){o(e,r(t))})),e.exports=a},function(e,t){"use strict";function n(e,t){var n=null===e||e===!1,i=null===t||t===!1;if(n||i)return n===i;var r=typeof e,o=typeof t;return"string"===r||"number"===r?"string"===o||"number"===o:"object"===o&&e.type===t.type&&e.key===t.key}e.exports=n},function(e,t,n){"use strict";function i(e){return f[e]}function r(e,t){return e&&null!=e.key?a(e.key):t.toString(36)}function o(e){return(""+e).replace(m,i)}function a(e){return"$"+o(e)}function s(e,t,n,i){var o=typeof e;if("undefined"!==o&&"boolean"!==o||(e=null),null===e||"string"===o||"number"===o||u.isValidElement(e))return n(i,e,""===t?h+r(e,0):t),1;var l,c,f=0,m=""===t?h:t+p;if(Array.isArray(e))for(var g=0;g<e.length;g++)l=e[g],c=m+r(l,g),f+=s(l,c,n,i);else{var v=A(e);if(v){var E,_=v.call(e);if(v!==e.entries)for(var S=0;!(E=_.next()).done;)l=E.value,c=m+r(l,S++),f+=s(l,c,n,i);else for(;!(E=_.next()).done;){var y=E.value;y&&(l=y[1],c=m+a(y[0])+p+r(l,0),f+=s(l,c,n,i))}}else if("object"===o){String(e);d(!1)}}return f}function l(e,t,n){return null==e?0:s(e,"",t,n)}var u=(n(44),n(32)),c=n(68),A=n(144),d=n(13),h=(n(18),c.SEPARATOR),p=":",f={"=":"=0",".":"=1",":":"=2"},m=/[=.:]/g;e.exports=l},function(e,t,n){"use strict";var i=(n(15),n(39)),r=(n(18),i);e.exports=r},function(e,t){"use strict";function n(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=i.bind(t),a=0;a<n.length;a++)if(!o(n[a])||e[n[a]]!==t[n[a]])return!1;return!0}var i=Object.prototype.hasOwnProperty;e.exports=n},function(e,t,n){(function(e,i){function r(e,t){this._id=e,this._clearFn=t}var o=n(22).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},u=0;t.setTimeout=function(){return new r(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=u++,i=arguments.length<2?!1:s.call(arguments,1);return l[n]=!0,o(function(){l[n]&&(i?e.apply(null,i):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof i?i:function(e){delete l[e]}}).call(t,n(152).setImmediate,n(152).clearImmediate)},function(e,t,n){var i;(function(e,r){!function(o){function a(e){throw RangeError(M[e])}function s(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function l(e,t){var n=e.split("@"),i="";n.length>1&&(i=n[0]+"@",e=n[1]),e=e.replace(D,".");var r=e.split("."),o=s(r,t).join(".");return i+o}function u(e){for(var t,n,i=[],r=0,o=e.length;o>r;)t=e.charCodeAt(r++),t>=55296&&56319>=t&&o>r?(n=e.charCodeAt(r++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--)):i.push(t);return i}function c(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=x(e>>>10&1023|55296),e=56320|1023&e),t+=x(e)}).join("")}function A(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:S}function d(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function h(e,t,n){var i=0;for(e=n?L(e/I):e>>1,e+=L(e/t);e>P*b>>1;i+=S)e=L(e/P);return L(i+(P+1)*e/(e+C))}function p(e){var t,n,i,r,o,s,l,u,d,p,f=[],m=e.length,g=0,v=O,E=T;for(n=e.lastIndexOf(w),0>n&&(n=0),i=0;n>i;++i)e.charCodeAt(i)>=128&&a("not-basic"),f.push(e.charCodeAt(i));for(r=n>0?n+1:0;m>r;){for(o=g,s=1,l=S;r>=m&&a("invalid-input"),u=A(e.charCodeAt(r++)),(u>=S||u>L((_-g)/s))&&a("overflow"),g+=u*s,d=E>=l?y:l>=E+b?b:l-E,!(d>u);l+=S)p=S-d,s>L(_/p)&&a("overflow"),s*=p;t=f.length+1,E=h(g-o,t,0==o),L(g/t)>_-v&&a("overflow"),v+=L(g/t),g%=t,f.splice(g++,0,v)}return c(f)}function f(e){var t,n,i,r,o,s,l,c,A,p,f,m,g,v,E,C=[];for(e=u(e),m=e.length,t=O,n=0,o=T,s=0;m>s;++s)f=e[s],128>f&&C.push(x(f));for(i=r=C.length,r&&C.push(w);m>i;){for(l=_,s=0;m>s;++s)f=e[s],f>=t&&l>f&&(l=f);for(g=i+1,l-t>L((_-n)/g)&&a("overflow"),n+=(l-t)*g,t=l,s=0;m>s;++s)if(f=e[s],t>f&&++n>_&&a("overflow"),f==t){for(c=n,A=S;p=o>=A?y:A>=o+b?b:A-o,!(p>c);A+=S)E=c-p,v=S-p,C.push(x(d(p+E%v,0))),c=L(E/v);C.push(x(d(c,0))),o=h(n,g,i==r),n=0,++i}++n,++t}return C.join("")}function m(e){return l(e,function(e){return N.test(e)?p(e.slice(4).toLowerCase()):e})}function g(e){return l(e,function(e){return k.test(e)?"xn--"+f(e):e})}var v=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof r&&r);v.global!==v&&v.window!==v&&v.self!==v||(o=v);var E,_=2147483647,S=36,y=1,b=26,C=38,I=700,T=72,O=128,w="-",N=/^xn--/,k=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=S-y,L=Math.floor,x=String.fromCharCode;E={version:"1.3.2",ucs2:{decode:u,encode:c},decode:p,encode:f,toASCII:g,toUnicode:m},i=function(){return E}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}(this)}).call(t,n(51)(e),function(){return this}())},function(e,t,n){"use strict";var i=n(8),r=n(5),o=n(184),a={add:function(e,t,n){i.handleViewAction({actionType:r.BOOKMARK_THUMBNAIL_QUEUE_ADD_ITEM,pageId:e,id:t,url:n})},update:function(e,t,n){var a=o.getQueue(e);a&&0!==a.get("id")&&a.get("url")===t&&i.handleViewAction({actionType:r.BOOKMARK_THUMBNAIL_QUEUE_UPDATE_ITEM,page:e,id:a.get("id"),url:n})},remove:function(e,t,n){i.handleViewAction({actionType:r.BOOKMARK_THUMBNAIL_QUEUE_REMOVE_ITEM,page:e,id:t,url:n})}};e.exports=a},function(e,t,n){"use strict";var i=n(8),r=n(5),o=n(436),a={loadPromise:function(){return o().then(function(e){i.handleViewAction({actionType:r.CONTENT_SCRIPT_LOAD,contentScripts:e})})},addContentScript:function(e,t){i.handleViewAction({actionType:r.CONTENT_SCRIPT_PAGE_ADD,page:e,script:t})},removeContentScript:function(e,t){i.handleViewAction({actionType:r.CONTENT_SCRIPT_PAGE_REMOVE,page:e,script:t})}};e.exports=a},function(e,t,n){"use strict";var i=n(19),r=n(8),o=n(5),a=o.SEARCH_FIELD_SET_STATE,s=o.SEARCH_FIELD_ADD_TYPED_HISTORY,l=o.SEARCH_FIELD_DELETE_TYPED_HISTORY,u={setState:function(e,t){r.handleViewAction({actionType:a,state:t,page:e})},addTypedSearchHistory:function(e){var t=i.getActivePage().get("incognito");t===!1&&r.handleViewAction({actionType:s,query:e})},deleteTypedSearchHistory:function(e){r.handleViewAction({actionType:l,query:e})}};e.exports=u},function(e,t,n){"use strict";var i=n(8),r=n(5),o=n(4),a={toggleMenuPosition:function(){o.get("SHOW_PANEL",function(e){o.set({SHOW_PANEL:!e})}.bind(this))},newTab:function(e,t,n){n&&n.url&&(e=n.url),i.handleViewAction({actionType:r.TAB_NEW_TAB,url:e})},newBackgroundTab:function(e,t,n){n&&(n.url?e=n.url:n.source_url&&(e=n.source_url)),i.handleViewAction({actionType:r.TAB_NEW_BACKGROUND_TAB,url:e})},switchTabBackBySetting:function(e,t){i.handleViewAction({actionType:r.TAB_SWITCH_BACK_SETTING,maybeEvent:t})},switchTabForwardBySetting:function(e,t){i.handleViewAction({actionType:r.TAB_SWITCH_FORWARD_SETTING,maybeEvent:t})},switchTabBackByHistory:function(e,t){i.handleViewAction({actionType:r.TAB_SWITCH_BACK_HISTORY,maybeEvent:t})},switchTabForwardByHistory:function(e,t){i.handleViewAction({actionType:r.TAB_SWITCH_FORWARD_HISTORY,maybeEvent:t})},switchTabBackByOrder:function(e,t){i.handleViewAction({actionType:r.TAB_SWITCH_BACK_ORDER,maybeEvent:t})},switchTabForwardByOrder:function(e,t){i.handleViewAction({actionType:r.TAB_SWITCH_FORWARD_ORDER,maybeEvent:t})},undoRecentlyClosedTab:function(e){i.handleViewAction({actionType:r.TAB_UNDO_RECENTLY_CLOSED})},closeTab:function(e,t){return t&&t.preventDefault(),i.handleViewAction({actionType:r.TAB_CLOSE_TAB}),!1},closeAllButActiveTab:function(){i.handleViewAction({actionType:r.TAB_CLOSE_ALL_BUT_ACTIVE_TAB})},stackUntile:function(){i.handleViewAction({actionType:r.TAB_STACK_UNTILE})},stackTileGrid:function(){i.handleViewAction({actionType:r.TAB_STACK_TILE_GRID})},stackTileHorizontal:function(){i.handleViewAction({actionType:r.TAB_STACK_TILE_HORIZONTAL})},stackTileVertical:function(){i.handleViewAction({actionType:r.TAB_STACK_TILE_VERTICAL})},configChanged:function(e,t,n){var o={};o[n]=t,o.actionType=r.PANEL_CONF_CHANGED,i.handleViewAction(o)},viewPageSource:function(){i.handleViewAction({actionType:r.TAB_VIEW_PAGE_SOURCE})}};e.exports=a},function(e,t,n){"use strict";function i(){return{bookmarksData:o.getFlatListOfBookmarksFolders()}}var r=n(1),o=n(53),a=n(2),s=r.createClass({displayName:"BookmarksFoldersFlatList",getInitialState:function(){return i()},_onStoreChange:function(){this.setState(i())},componentWillMount:function(){o.addChangeListener(this._onStoreChange)},componentWillUnmount:function(){o.removeChangeListener(this._onStoreChange)},render:function(){var e=this.state.bookmarksData.map(function(e,t){return r.createElement("option",{key:"dir_"+t,value:e.id},e.title)}.bind(this));return r.createElement("select",{className:"bookmark-folders",value:this.props.selectedItemID,onChange:this.props.onChange,title:this.props.title},r.createElement("option",{value:"1"},a("Bookmarks")),e)}});e.exports=s},function(e,t,n){"use strict";var i=n(26),r=n(4),o=n(60),a=n(57),s=n(36);e.exports={boundShortcuts:[],_onCommandStoreChange:function(){this.boundShortcuts&&this.boundShortcuts.forEach(function(e){i.unbind(e.key,e.func)}),this.boundShortcuts=[];var e=s.getCommandShortcuts();Object.keys(e).forEach(function(t){var n=e[t]["function"];i.bind(t,n),this.boundShortcuts.push({key:t,func:n})}.bind(this))},componentWillMount:function(){s.addChangeListener(this._onCommandStoreChange);var e=[];s.getUserEditableCommands().forEach(function(t){r.addListener(t.name,a.configChanged),e.push(t.name)});for(var t=r.getKeysSync(e),n=[],i=0;i<e.length;i++){var l=t[e[i]];void 0!==l&&n.push({command:e[i],value:l})}a.setConfiguration(n),o.setConfig(r.getKeysSync(["SHOW_PANEL_SWITCH"])),r.addListener("SHOW_PANEL_SWITCH",o.configChanged)},componentWillUnmount:function(){s.removeChangeListener(this._onCommandStoreChange),s.getUserEditableCommands().forEach(function(e){return r.removeListener(e.name,a.configChanged)}),r.removeListener("SHOW_PANEL_SWITCH",o.configChanged)}}},function(e,t,n){(function(t){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(12),a=n(3),s=n(191),l=n(91),u=n(2),c=n(10),A=n(20).urls,d=n(33),h=n(190),p=n(9),f=n(17),m=f.debounce,g=n(23),v=n(114),E=v.VIVALDI_ROOT_BOOKMARK_FOLDER,_=n(72),S=n(54),y=n(46),b=n(52),C=n(5),I=C.CHANGED,T=r.createClass({displayName:"BookmarkEditItem",mixins:[c],vivaldiSettingsKeys:["BROWSER_FG_COLOR","BOOKMARK_BAR_VISIBLE","BOOKMARKS_BAR_FOLDER_IDS"],getInitialState:function(){return{id:"",title:"",url:"",nickname:"",description:"",thumbnail:"",speeddial:!1,isFolder:!1,isTrash:!1,create:!1,dateAdded:"",index:0,anchorObj:{},generalErrorKey:null,saveBookmarkItem:null,canceling:!1,editUrl:null}},componentWillMount:function(){S.addListener(I,this._onUrlbarStoreChanged)},componentWillUnmount:function(){S.removeListener(I,this._onUrlbarStoreChanged)},_onUrlbarStoreChanged:function(){var e=S.getUrlfieldStateFromId("BookmarkEditItem");this.setState(e)},getAnchorBookmarkObj:function(e,t,n){var i={parentId:E,anchorIsFolder:!1,id:"-9999",creatingFolder:t,url:"newurl.com",anchorId:-1};void 0===e||-1===e||"-9999"===e?n(i):a.bookmarks.get(e,function(e){return a.runtime.lastError?void n(i):void(e&&e.length>0&&(e[0].creatingFolder=t,e[0].anchorIsFolder=!e[0].url,e[0].url="newurl.com",e[0].children=null,n(e[0])))})},onCreate:function(e,t){var n=this;return this.state.create?void this.cancel():void this.getAnchorBookmarkObj(t,e,function(t){n.setState({create:!0,isFolder:e,title:e?u("New Folder"):"",url:"",nickname:"",description:"",speeddial:!1,thumbnail:"",anchorObj:t,generalErrorKey:null,canceling:!1},function(){e?(n.refs.refTitle.focus(),o.findDOMNode(n.refs.refTitle).value=u("New Folder"),o.findDOMNode(n.refs.refTitle).select(),o.findDOMNode(n.refs.refTitle).focus()):(o.findDOMNode(n.refs.refUrl).value=u("New Bookmark"),o.findDOMNode(n.refs.refUrl).select(),o.findDOMNode(n.refs.refUrl).focus())})})},saveBookmarkItemOnBlur:m(function(){this.state.canceling||this.saveBookmark()},100),saveBookmark:function(){var e=this;if(!this.state.isTrash){var t={};if(t.id=this.state.id,t.title=this.state.title?this.state.title.trim():"",t.url=(this.state.editUrl||this.state.url||"").trim(),t.nickname=this.state.nickname.trim(),t.description=this.state.description.trim(),t.speeddial=this.state.speeddial,t.index=this.state.index,t.thumbnail=this.state.thumbnail,!this.state.isFolder&&""===t.url)return void this.setState({generalErrorKey:u("URL cannot be empty.")});if(this.state.create){var n=this.state.anchorObj,i=n.creatingFolder,r=t.title?t.title:A.getDisplayUrl(t.url),o=t.url,s=n.index?n.index+1:null,l="";n.anchorIsFolder?i?l=n.parentId&&n.id!==E?n.parentId:E:(l=n.trash?E:n.id,s=0):l=i?n.parentId:"-9999"!==n.id?n.parentId:E;var c={parentId:l,title:r,index:s,url:o};this.createBookmark(c,function(t){a.runtime.lastError||e.props.onCreate(t.id,l)})}else this.updateBookmark(t)}},createBookmark:function(e,t){var n=this,i={parentId:e.parentId,title:e.title,index:e.hasOwnProperty("index")?e.index:null},r=e.url.trim();p.utilities.isUrlValid(r,function(o){o.urlValid&&o.schemeValid||r.length>0&&(r="http://"+r),r.length>0&&(i.url=r),a.bookmarks.create(i,function(i){a.runtime.lastError?n.setState({generalErrorKey:h(a.runtime.lastError.message)+"\n                  "+u("Changes not saved.")}):(n.setState({id:i.id,title:e.title,create:!1,generalErrorKey:null}),t(i))})})},updateBookmark:function(e){var t=this;p.utilities.isUrlValid(e.url,function(n){t.state.isFolder?e.url="":n.urlValid&&n.schemeValid||(e.url="http://"+e.url);var i=e.id;delete e.id;var r=e.index;delete e.index,a.bookmarks.update(i,e,function(n){i===t.state.id&&a.runtime.lastError?t.setState({generalErrorKey:h(a.runtime.lastError.message)+" "+u("Changes not saved.")}):(e.id=i,e.index=r,t.setState({generalErrorKey:null}),n&&n.id===t.state.id&&t.setState({url:n.url,editUrl:null}))})})},isFolder:function(){return this.state.isFolder===!0},isTrash:function(){return this.state.isTrash===!0},handleKeyDown:function(e){e.stopPropagation(),e.keyCode===g.KEY_RETURN&&(this.saveBookmark(),(this.state.isFolder||!this.state.isFolder&&""!==this.state.url.trim())&&this.props.onFocusTree()),e.keyCode===g.KEY_ESCAPE&&(e.preventDefault(),e.stopPropagation(),this.cancel(),this.props.onFocusTree())},handleUpdateThumbnail:function(e){e.stopPropagation();var t={id:this.state.id,url:this.state.url};b.updateBookmarkThumbnail(t)},checkChangeSpeeddial:function(){var e=this;this.setState({speeddial:!this.state.speeddial},function(){e.saveBookmark()})},isBookmarkBarChecked:function(){return this.state.BOOKMARKS_BAR_FOLDER_IDS&&this.state.BOOKMARKS_BAR_FOLDER_IDS[0]===this.state.id&&this.state.BOOKMARK_BAR_VISIBLE},checkChangeBookmarkBar:function(){d.setBookmarkBarFolderAndToggleVisibility(this.state.id)},onInputChange:function(e,t){var n;this.setState((n={},i(n,e,t.target.value),i(n,"generalErrorKey",null),n))},onUrlChange:function(e){this.setState({url:e,generalErrorKey:null})},onSelect:function(e){return this.state.create?void this.cancel():(this.setState({isFolder:!e.url,isTrash:e.trash,id:e?e.id:"",thumbnail:e?e.thumbnail:"",title:e?e.title:"",url:e?e.url:"",nickname:e?e.nickname:"",description:e?e.description:"",speeddial:e?e.speeddial:!1,dateAdded:e&&e.dateAdded?new Date(e.dateAdded):"",generalErrorKey:null}),void t.nextTick(function(){return y.setUrlfieldState("BookmarkEditItem",{selectionStart:0,selectionEnd:e.url?e.url.length:0,editUrl:null})}))},cancel:function(){this.setState({create:!1,canceling:!0,id:"",thumbnail:"",title:"",url:"",nickname:"",description:"",speeddial:"",dateAdded:"",generalErrorKey:null},function(){this.props.onCancel()})},render:function(){var e=s.dateTimeLong(this.state.dateAdded),t="ui-light"===this.state.BROWSER_FG_COLOR?"/resources/bookmark_item.png":"/resources/bookmark_item_dark.png";return r.createElement("div",{className:"manager-editor"},r.createElement("div",{className:"addbookmark-cardwrapper"},this.isFolder()?r.createElement("div",{className:"preview-folder",dangerouslySetInnerHTML:{__html:n(205)}}):r.createElement("div",{className:"preview"},r.createElement(l,{key:this.state.id,className:"bookmarks-editor-thumbnail favicon-current-border-color",src:this.state.thumbnail,altSrc:t,alt:u("Bookmark thumbnail image")}),r.createElement("button",{tabIndex:"-1",onClick:this.handleUpdateThumbnail,className:"update-thumbnail circular",title:u("Update thumbnail")})),r.createElement("div",{className:"dialog-content cardview"},r.createElement("div",{className:"fieldset"},r.createElement("input",{className:"cardview title",ref:"refTitle",id:"reftitle",placeholder:u("Title"),onChange:this.onInputChange.bind(this,"title"),value:this.state.title,onKeyDown:this.handleKeyDown,type:"text",onBlur:this.saveBookmarkItemOnBlur})),r.createElement("div",{className:this.isFolder()?"fieldset collapse":"fieldset"},r.createElement(_,{ref:"refUrl",title:u("Enter webpage address"),disabled:this.isFolder(),className:"cardview address",pageId:"BookmarkEditItem",placeholder:u("Address"),displayUrl:this.state.url,editUrl:this.state.editUrl,autocompletionEnabled:!0,triggerTypedHistory:!1,selectionStart:this.state.selectionStart,selectionEnd:this.state.selectionEnd,onUrlFieldChanged:this.onUrlChange,onKeyDown:this.handleKeyDown,onBlur:this.saveBookmarkItemOnBlur,autoFocus:!0})),r.createElement("div",{className:"fieldset resizable"},r.createElement("textarea",{className:"cardview description",ref:"refDescription",id:"refdescription",placeholder:u("Description"),value:this.state.description,onChange:this.onInputChange.bind(this,"description"),onKeyDown:this.handleKeyDown,type:"text",onBlur:this.saveBookmarkItemOnBlur})),r.createElement("div",{className:"fieldset"},r.createElement("input",{className:"cardview nickname",ref:"refNickname",id:"refnickname",placeholder:u("Nickname"),value:this.state.nickname,onChange:this.onInputChange.bind(this,"nickname"),onKeyDown:this.handleKeyDown,type:"text",onBlur:this.saveBookmarkItemOnBlur})),r.createElement("div",{className:this.isFolder()?"fieldset center cardview":"fieldset center collapse"},r.createElement("input",{ref:"refSpeeddial",id:"refspeeddial",className:"cardview",disabled:this.isFolder()?!1:"disabled",checked:this.state.speeddial,onChange:this.checkChangeSpeeddial,type:"checkbox"}),r.createElement("label",{htmlFor:"refspeeddial"},u("Use as Speed Dial"))),r.createElement("div",{className:this.isFolder()?"fieldset center cardview":"fieldset center collapse"},r.createElement("input",{ref:"refBookmarkBar",id:"refbookmarkBar",className:"cardview",disabled:this.isFolder()?!1:"disabled",checked:this.isBookmarkBarChecked(),onChange:this.checkChangeBookmarkBar,type:"checkbox"}),r.createElement("label",{htmlFor:"refbookmarkBar"},u("Use as Bookmark Bar"))),!this.state.create&&this.state.dateAdded&&r.createElement("div",{className:"fieldset"},r.createElement("div",{className:"meta-icon date fieldset",dangerouslySetInnerHTML:{__html:n(203)}}),r.createElement("span",{className:"dateCreated bookmark",title:u("Date created")},e)),this.state.generalErrorKey&&r.createElement("p",{className:"warning"},this.state.generalErrorKey))))}});e.exports=T}).call(t,n(22))},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(49),a=n(3),s=n(265),l=n(163),u=l.KeyboardNavigationBindingOnFocus,c=l.KeyboardNavigationBindingOnBlur,A=n(165),d=n(71),h=n(4),p=n(10),f=n(63),m=n(2),g=n(53),v=n(33),E=n(210),_=n(23),S=n(124),y=n(95),b=n(114),C=b.VIVALDI_ROOT_BOOKMARK_FOLDER,I=1500,T=-1,O="-9999",w=0,N=i.createClass({displayName:"BookmarkTree",mixins:[r,d,A,p],vivaldiSettingsKeys:["SHOW_VIVALDI_FOOTER","BOOKMARKS_OPEN_IN_NEW_TAB"],getInitialState:function(){return this.rowHeight=24,{bookmarkTreeNodeArray:[],dragoverBookmarkObj:{id:-1,position:"",lastFolderId:-1},hasFocus:!1,expandModel:{},renderedArray:[],cutItems:[],anchorCreateItemId:null}},componentDidMount:function(){var e=this,t=this.props.showBookmarkManager?"SCROLL_TOP_BOOKMARKS_MANAGER":"SCROLL_TOP_BOOKMARKS_PANEL";h.get(t,function(t){e.refs.bookmarkItems.scrollTop=t})},componentWillMount:function(){var e=this,t=this.props.showBookmarkManager?"EXPAND_BOOKMARKS_MANAGER":"EXPAND_BOOKMARKS_PANEL";h.get(t,function(t){e.prepareDataForRender(g.getBookmarksData(),t),g.addChangeListener(e._onStoreChange)});var n=this.props.showBookmarkManager?"SELECTION_BOOKMARKS_MANAGER":"SELECTION_BOOKMARKS_PANEL";h.get(n,function(t){t&&e.updateSelectionState(t)})},componentWillReceiveProps:function(e){this.props.filter!==e.filter&&this._onStoreChange(e.filter),this.props.sorting!==e.sorting&&this._onSortChange(e.sorting)},componentWillUpdate:function(e,t){this.rerenderVisibleTreeItems()},componentWillUnmount:function(){this.bookmarkTreeRemoveClipboardEventListeners(),c(this.getKeyboardNavigationMixinHandlers()),g.removeChangeListener(this._onStoreChange)},componentDidUpdate:function(e,t){var n=this.refs.bookmarkItems.scrollTop;this.props.showBookmarkManager?h.set({SCROLL_TOP_BOOKMARKS_MANAGER:n}):h.set({SCROLL_TOP_BOOKMARKS_PANEL:n});var i=this.findTreeItem(this.state.selectionModel.FirstSingleItemSelected);i&&this.props.onSelect(i)},_onSortChange:function(e){var t=this.getRenderedItems(this.state.bookmarkTreeNodeArray,this.state.expandModel,e);this.setState({renderedArray:t})},refreshTree:function(e){var t=this.getRenderedItems(this.state.bookmarkTreeNodeArray,this.state.expandModel,this.props.sorting,e);this.setState({renderedArray:t})},_onStoreChange:function(e){var t=this;e&&e.length>0?a.bookmarks.search(e,function(e){t.prepareDataForRender(e,t.state.expandModel)}):this.prepareDataForRender(g.getBookmarksData(),this.state.expandModel)},prepareDataForRender:function(e,t){var n=function a(e){e.children&&e.children.forEach(function(t){t.padding=e.padding+16,a(t)})};e.forEach(function(e){e.padding=0,n(e)});var i=this.getRenderedItems(e,t,this.props.sorting),r=o(this.state,{bookmarkTreeNodeArray:{$set:e},renderedArray:{$set:i},expandModel:{$set:t}});this.setState(r)},onCut:function(e){this.setState({cutItems:this.SelectionMixinGetAllSelected()}),this.setClipboard(e,!0)},onCopy:function(e){for(var t=[],n=this.SelectionMixinGetAllSelected(),i=0;i<n.length;i++)t.push(n[i].id);a.bookmarkManagerPrivate.copy(t)},toggleExpandModel:function(e){var t=this;this.state.expandModel[e]=!this.state.expandModel[e];var n={};this.props.showBookmarkManager?n.EXPAND_BOOKMARKS_MANAGER=this.state.expandModel:n.EXPAND_BOOKMARKS_PANEL=this.state.expandModel,h.set(n);var i=this.getRenderedItems(this.state.bookmarkTreeNodeArray,this.state.expandModel,this.props.sorting);this.setState({expansionModel:this.state.expandModel,renderedArray:i},function(){var n=t.state.renderedArray.findIndex(function(t){return t.id===e});t.scrollIntoToView(n)})},isExpanded:function(e){return this.state.expandModel&&!!this.state.expandModel[e]},ExpandMixinCollapseAll:function(e){this.setState({expandModel:{}})},setClipboard:function(e,t){function n(e){for(var t in i)if(i[t].id===e.id){o.push(e),a=e.url?a+e.url+"\n":a+e.title+"\n";break}e.children&&e.children.forEach(function(e){n(e)})}var i=this.SelectionMixinGetAllSelected(),r=this.findTreeItem(this.SelectionMixinGetLead()),o=[],a="";if(this.state.bookmarkTreeNodeArray.forEach(function(e){n(e)}),e.clipboardData.setData("isCut",t),e.clipboardData.setData("text/plain",a),r.url&&r.title){var s='<a href="'+r.url+'">\n        '+r.title+"</a>";e.clipboardData.setData("text/html",s)}e.clipboardData.setData("application/json",JSON.stringify(o)),e.stopPropagation(),e.preventDefault()},onPaste:function(e){var t=this,n=e.clipboardData.getData("isCut"),i=[],r=this.findTreeItem(this.SelectionMixinGetLead()),o=this.isFolder(r)?r.id:r.parentId;try{i=JSON.parse(e.clipboardData.getData("application/json"))}catch(s){}var l=i.length;"true"===n?!function(){t.isExpanded(o)||t.toggleExpandModel(o);var e=void 0;e=t.isFolder(r)?{parentId:r.id,index:0}:{parentId:r.parentId,index:++r.index};var n=0;i.map(function(i){v.disableBookmarkMutationHandlers(),a.bookmarks.move(i.id,e,function(){a.runtime.lastError,n++,n===l&&(v.enableBookmarkMutationHandlers(),t.setState({cutItems:[]}),t.selectById(i.id))})})}():(this.isExpanded(o)||this.toggleExpandModel(o),v.disableBookmarkMutationHandlers(),a.bookmarkManagerPrivate.paste(o,[this.SelectionMixinGetLead()],function(){v.enableBookmarkMutationHandlers()}))},bookmarkTreeRemoveClipboardEventListeners:function(){document.removeEventListener("cut",this.onCut),document.removeEventListener("copy",this.onCopy),document.removeEventListener("paste",this.onPaste)},bookmarkTreeAddClipboardEventListeners:function(){document.addEventListener("cut",this.onCut),document.addEventListener("copy",this.onCopy),document.addEventListener("paste",this.onPaste)},getKeyboardNavigationMixinHandlers:function(){return{up:this.onKeyArrowUp,down:this.onKeyArrowDown,ctrlUp:this.onKeyCtrlUp,ctrlDown:this.onKeyCtrlDown,home:this.onKeyHome,end:this.onKeyEnd,"delete":this.onKeyDelete,selectAll:this.onKeySelectAll,ctrlSpace:this.onKeyCtrlSpace,esc:this.onKeyEsc,left:this.onKeyLeftArrow,right:this.onKeyRightArrow}},onLostFocus:function(){this.bookmarkTreeRemoveClipboardEventListeners(),c(this.getKeyboardNavigationMixinHandlers()),this.setState({hasFocus:!1,cutItem:[]})},onGotFocus:function(){this.bookmarkTreeAddClipboardEventListeners(),u(this.getKeyboardNavigationMixinHandlers()),this.setState({hasFocus:!0})},selectNextAfterDeletion:function(e,t){var n=this.state.renderedArray.findIndex(function(t){return t.id===e}),i=n;return t?(i=0===n?1:n-1,1===this.state.renderedArray.length&&(i=0),this.state.renderedArray[i].id):(this.state.renderedArray.length===i+1?i--:i++,this.state.renderedArray[i].id)},onKeyCtrlUp:function(e){var t=this.SelectionMixinGetLead(),n=this.state.renderedArray.findIndex(function(e){return e.id===t});if(0!==n){var i=n-1,r=this.state.renderedArray[i];this.SelectionMixinSetLead(r.id),this.scrollIntoToView(i)}},onKeyCtrlDown:function(e){var t=this.SelectionMixinGetLead(),n=this.state.renderedArray.findIndex(function(e){return e.id===t}),i=this.state.renderedArray.length;if(n!==i-1){var r=n+1,o=this.state.renderedArray[r];this.SelectionMixinSetLead(o.id),this.scrollIntoToView(r)}},onKeyArrowDown:function(e){var t=this.SelectionMixinGetLead(),n=this.state.renderedArray.findIndex(function(e){return e.id===t}),i=this.state.renderedArray.length;if(n!==i-1){var r=n+1,o=this.state.renderedArray[r];this.selectById(o.id,e,r)}},onKeyArrowUp:function(e){var t=this.SelectionMixinGetLead(),n=this.state.renderedArray.findIndex(function(e){return e.id===t});if(0!==n){var i=n-1,r=this.state.renderedArray[i];this.selectById(r.id,e,i)}},onKeyHome:function(e){var t=this.state.renderedArray[0];this.selectById(t.id,e,0),e.preventDefault(),e.stopPropagation()},onKeyEnd:function(e){var t=this.state.renderedArray.length,n=this.state.renderedArray[t-1];this.selectById(n.id,e,t-1),e.preventDefault(),e.stopPropagation()},onKeyDelete:function(e){this.onDelete()},onKeySelectAll:function(e){this.SelectionMixinSelectAll()},onKeyCtrlSpace:function(e){var t=this.SelectionMixinGetLead();this.SelectionMixinSelectItem(t,e.ctrlKey,e.shiftKey,e.metaKey,"contextmenu"===e.type)},onKeyEsc:function(e){this.SelectionMixinUnSelectAll()},onKeyLeftArrow:function(e){if(this.isfolderAndHasItems&&this.isfolderAndHasItems()===!0){if(this.state.expandModel&&this.state.selectionModel.isSingleItemSelected){var t=this.isExpanded(this.state.selectionModel.FirstSingleItemSelected);t&&this.toggleExpandModel(this.state.selectionModel.FirstSingleItemSelected)}e.preventDefault(),e.stopPropagation()}},onKeyRightArrow:function(e){if(this.isfolderAndHasItems&&this.isfolderAndHasItems()===!0){if(this.state.expandModel&&this.state.selectionModel.isSingleItemSelected){var t=this.isExpanded(this.state.selectionModel.FirstSingleItemSelected);t||this.toggleExpandModel(this.state.selectionModel.FirstSingleItemSelected)}e.preventDefault(),e.stopPropagation()}},getAllIds:function(){return this.state.renderedArray.map(function(e){return e.id})},scrollIntoToView:function(e){this.refs.treeListEntries&&this.refs.treeListEntries.scrollAround(e)},getIdsBetween:function(e,t){var n=this.state.renderedArray.findIndex(function(t){return t.id===e}),i=this.state.renderedArray.findIndex(function(e){return e.id===t}),r=[];return r=n>i?this.state.renderedArray.slice(i,n+1):this.state.renderedArray.slice(n,i+1),r.map(function(e){return e.id})},selectById:function(e,t,n){var i=this;if(void 0!==e){if(e===T)return void this.SelectionMixinSelectItem(e);n||(n=this.state.renderedArray.findIndex(function(t){return t.id===e})),this.scrollIntoToView(n),t?this.SelectionMixinSelectItem(e,t.ctrlKey,t.shiftKey,t.metaKey,"contextmenu"===t.type):this.SelectionMixinSelectItem(e);var r={};return this.props.showBookmarkManager?r.SELECTION_BOOKMARKS_MANAGER=this.SelectionMixinGetSelectionModel():r.SELECTION_BOOKMARKS_PANEL=this.SelectionMixinGetSelectionModel(),h.set(r),e===O?void this.props.onSelect({id:e}):void a.bookmarks.get(e,function(t){a.runtime.lastError&&console.warn("chrome.bookmarks.get failed: %s %o",e,a.runtime.lastError);var n=t&&1===t.length?t[0]:null;n&&i.props.onSelect&&i.props.onSelect(n)})}},itemMouseDown:function(e,t){this.state.anchorCreateItemId&&this.setState({anchorCreateItemId:null},this.refreshTree());var n=this.SelectionMixinGetAllSelected(),i=!1;n.forEach(function(e){return e.id===t.id?void(i=!0):void 0});var r="MacIntel"===navigator.platform?e.metaKey:e.ctrlKey;i&&!r||this.selectById(t.id,e)},itemMouseUp:function(e,t){var n="MacIntel"===navigator.platform?e.metaKey:e.ctrlKey;2===e.button||n||this.SelectionMixinGetAllSelected().length>1&&this.selectById(t.id,e)},handleSelection:function(e,t,n){return this.refs.treeListEntries.scrollAround(n),e.id===O?void this.cancelCreate():void this.selectById(e.id,t,n)},rerenderVisibleTreeItems:function(){this.refs.treeListEntries&&this.refs.treeListEntries.forceUpdate()},renderBookmarkItem:function(e,t){var n=this.state.renderedArray[e];n.treeIndex=e;var r=this.SelectionMixinIsSelected(n.id),o=this.isExpanded(n.id),a=!1;r===!0&&(a=this.state.hasFocus);var l=this.SelectionMixinGetLead()===n.id,u=this.state.cutItems.map(function(e){return e.id}).indexOf(n.id)>-1;return i.createElement(s,{key:n.id,index:e,bookmark:n,showBookmarkManager:this.props.showBookmarkManager,ref:"bookmarkItem",toggle:this.toggleExpandModel,isBookmarkLead:this.isBookmarkLead,isExpanded:o,selected:r,hasFocus:a,lead:l,isCut:u,onDragOver:this.onDragOverBookmark,onDragLeave:this.onDragLeaveBookmark,onDragEnd:this.onDragEndBookmark,onMoveBookmark:this.onMoveBookmark,onCopyBookmark:this.onCopyBookmark,moveBookmarkToBookmarkBarFolder:this.moveBookmarkToBookmarkBarFolder,onDelete:this.deleteBookmarks,onToggleSpeeddial:this.props.onToggleSpeeddial,dragover:this.state.dragoverBookmarkObj.id===n.id,dragoverBookmarkObj:this.state.dragoverBookmarkObj,onNewItem:this.onCreateNewItem,onCancelCreate:this.cancelCreate,getSelectedBookmark:this.getSelectedBookmark,
getAllSelectedBookmark:this.SelectionMixinGetAllSelected,collapseAll:this.collapseAllFolders,expandAll:this.expandAllFolders,onCut:this.onCutContext,onCopy:this.onCopyContext,onPaste:this.onPasteContext,createUrlOnly:this.onCreateUrlOnly,onEdit:this.edit,statusOff:"off"===this.state.SHOW_VIVALDI_FOOTER,onItemMouseDown:this.itemMouseDown,onItemMouseUp:this.itemMouseUp,openBookmarkInNewTab:this.state.BOOKMARKS_OPEN_IN_NEW_TAB})},onCutContext:function(){document.execCommand("cut")},onCopyContext:function(){document.execCommand("copy")},onPasteContext:function(){document.execCommand("paste")},onCreateNewItem:function(e){this.props.onNew(e)},onNewItem:function(e){var t=this.SelectionMixinGetSelected(),n={};t!==T&&t!==O||(this.state.anchorCreateItemId?t=this.state.anchorCreateItemId:this.state.renderedArray&&(t=this.state.renderedArray[0].id)),this.setState({anchorCreateItemId:t});var i=this.findTreeItem(t);if((1===this.state.renderedArray.length||i.trash)&&(t=C),n.padding=i.padding,n.creatingFolder=e,n.children=e?[]:null,e&&!i.url&&this.isExpanded(i.id)&&i.children&&i.children.length>0){var r=i.children.length,o=i.children[r-1];n.id=o.id,t=o.parentId}else n.id=i.id,i.url||e||(n.padding=n.padding+16);return this.refreshTree(n),this.selectById(O),t},deleteBookmarks:function(){this.state.anchorCreateItemId?this.cancelCreate():this.onDelete()},edit:function(e){this.props.onEdit()},cancelCreate:function(){var e=this;this.refreshTree();var t=void 0;this.state.anchorCreateItemId&&(t=this.state.anchorCreateItemId),this.setState({anchorCreateItemId:null},function(){t&&e.selectById(t)})},collapseAllFolders:function(){this.ExpandMixinCollapseAll();var e={};this.props.showBookmarkManager?e.EXPAND_BOOKMARKS_MANAGER={}:e.EXPAND_BOOKMARKS_PANEL={},h.set(e),this.prepareDataForRender(g.getBookmarksData(),{})},expandAllFolders:function(){function e(n){!n.url&&n.children&&(t[n.id]=!0),n.children&&n.children.forEach(function(t){e(t)})}var t={};this.state.bookmarkTreeNodeArray.forEach(function(t){e(t)});var n={};this.props.showBookmarkManager?n.EXPAND_BOOKMARKS_MANAGER=t:n.EXPAND_BOOKMARKS_PANEL=t,h.set(n),this.prepareDataForRender(g.getBookmarksData(),t)},isBookmarkLead:function(e){return e===this.SelectionMixinGetLead()},isBookmarkSelected:function(e){return this.SelectionMixinIsSelected(e)},onCreateUrlOnly:function(e,t){var n=this;""===t&&(t=S(e));var i=this.findTreeItem(this.state.dragoverBookmarkObj.id),r=this.isFolder(i),o=r&&"on"===this.state.dragoverBookmarkObj.position?i.id:i.parentId,s=r&&"on"===this.state.dragoverBookmarkObj.position?0:"below"===this.state.dragoverBookmarkObj.position?++i.index:i.index;a.bookmarks.create({parentId:o,index:s,url:e,title:t},function(e){n.cancelDragOverObject(),n.selectById(e.id)},function(){a.runtime.lastError})},onDragLeaveBookmark:function(e,t){w=0},onDragOverBookmark:function(e,t){var n=t.currentTarget,i=n.getBoundingClientRect(),r=(t.clientY-i.top)/this.rowHeight,o="",a=this.isFolder(e);a&&!this.isExpanded(e.id)&&this.updateExpandFolderOnHover(t.timeStamp,e);var s=-1;this.state.bookmarkTreeNodeArray&&(s=this.state.bookmarkTreeNodeArray[this.state.bookmarkTreeNodeArray.length-1].id),this.isFolder(e)?o=.25>=r?"above":r>.75?"below":"on":.5>=r?o="above":r>.5&&(o="below"),(this.state.dragoverBookmarkObj.id!==e.id||this.state.dragoverBookmarkObj.id===e.id&&this.state.dragoverBookmarkObj.position!==o)&&this.setState({dragoverBookmarkObj:{id:e.id,position:o,lastFolderId:s}})},updateExpandFolderOnHover:function(e,t){for(var n=this.SelectionMixinGetAllSelected(),i=0;i<n.length;i++)if(t.id===n[i].id)return;var r=w;w=0,r?e-r>=I?this.toggleExpandModel(t.id):w=r:this.isFolder(t)&&!this.isExpanded(t.id)&&(w=e)},onMoveBookmark:function(e,t){if(e!==t.id){w=0;var n={},i=this.isFolder(t),r=this.state.dragoverBookmarkObj.position;n.parentId=i&&"on"===r?t.id:t.parentId;var o=parseInt(t.index),s="below"===r?++o:o;n.index="on"===r?0:s,this.cancelDragOverObject(),a.bookmarks.move(e.toString(),n,function(){a.runtime.lastError})}},onCopyBookmark:function(e,t){var n=this,i=this.findTreeItem(e),r=this.isFolder(t),o=this.isFolder(i),a=this.state.dragoverBookmarkObj.position,s=parseInt(t.index),l="below"===a?++s:s;this.createBookmark(i.title,i.url?i.url:null,r?t.id:t.parentId,i.description?i.description:null,i.nickname?i.nickname:null,l,function(e){o&&n.handleCopyBookmarkFolder(i,e.id)})},handleCopyBookmarkFolder:function(e,t){var n=this;e.children.forEach(function(e){var i=n.isFolder(e);n.createBookmark(e.title,e.url?e.url:null,t,e.description?e.description:null,e.nickname?e.nickname:null,void 0,function(t){i&&n.handleCopyBookmarkFolder(e,t.id)})})},createBookmark:function(e,t,n,i,r,o,s){a.bookmarks.create({title:e,url:t,parentId:n,description:i,nickname:r,index:o},s,function(){a.runtime.lastError})},moveBookmarkToBookmarkBarFolder:function(e){var t={};t.parentId=g.getBookmarkBarFolderId(),a.bookmarks.move(e.id.toString(),t,function(){a.runtime.lastError})},cancelDragOverObject:function(){this.setState({dragoverBookmarkObj:{id:-1,position:""}})},isFolder:function(e){return e?e.children&&e.children.length>0||void 0===e.url:!1},onDragEndBookmark:function(){this.cancelDragOverObject()},onKeyDown:function(e){if(e.keyCode===_.KEY_ENTER||e.keyCode===_.KEY_RETURN){var t=this.SelectionMixinGetAllSelected().map(function(e){return e.id});this.openSelectedBookmarks({type:"generic"},t,this.state.BOOKMARKS_OPEN_IN_NEW_TAB)}e.keyCode===_.KEY_ESCAPE&&(this.setState({cutItems:[]}),this.state.anchorCreateItemId&&(this.refreshTree(),this.setState({anchorCreateItemId:null})))},onScrollEvent:function(e){this.forceUpdate()},getSelectedBookmark:function(){var e=this.findTreeItem(this.SelectionMixinGetLead());return e},isfolderAndHasItems:function(){var e=this.getSelectedBookmark();return e.children&&e.children.length>0},getSelected:function(){return this.SelectionMixinGetSelected()},getRenderedItems:function(e,t,n,i){function r(e){return!!t[e]}var o=this,a=[];if(e.length>0&&n&&n.sortOrder>=f.ASCENDING_SORT){e=f.treeSort(y(e),n.sortField,n.sortOrder);var s=[{children:e}];f.foldersFirst(s),e=s[0].children}var l=function u(e){if(a.push(e),i&&e.id===i.id){var t=o.getDummyCreateItem(i,e.padding);e.trash?a.splice(a.length-1,0,t):a.push(t)}e.children&&("0"===e.id||r(e.id))&&e.children.forEach(function(e){return u(e)})};return 1===e.length&&i&&a.push(this.getDummyCreateItem(i,0)),e.forEach(function(e){l(e)}),a},getDummyCreateItem:function(e,t){var n=e.anchorIsFolder&&!e.creatingFolder?e.padding+16:e.padding;return{id:O,title:m(e.creatingFolder?"New Folder":"New Bookmark"),padding:n,url:e.creatingFolder?null:m("URL"),children:e.creatingFolder?[]:null}},findTreeItem:function(e){var t=void 0,n=function i(n){return n.id===e?t=n:void(n.children&&n.children.forEach(function(e){i(e)}))};return this.state.bookmarkTreeNodeArray.forEach(function(e){n(e)}),t},render:function(){var e=i.createElement("div",{ref:"bookmarkItems",tabIndex:"0",className:"vivaldi-tree",onBlur:this.onLostFocus,onFocus:this.onGotFocus,onScroll:this.onScrollEvent,onKeyDown:this.onKeyDown},i.createElement(E,{ref:"treeListEntries",itemRenderer:this.renderBookmarkItem,length:this.state.renderedArray.length,type:"uniform"}));return e}});e.exports=N},function(e,t,n){"use strict";var i=n(268),r=!0,o={getInitialState:function(){return{navigationModel:new i}},updateKeyboardState:function(){this.setState({stateCount:this.state.stateCount++,selectionModel:this.state.selectionModel})},setMultiSelectInMixin:function(e){r=e},KeyboardNavigationMixinReset:function(){this.state.navigationModel.clear()},KeyboardNavigationMixinAddToNavigationList:function(e){-1===this.state.selectionModel.leadIndex&&(this.state.selectionModel.leadIndex=e,this.state.selectionModel.selectedIds_.push(new Object({id:e,selected:!0})),this.state.selectionModel.anchorIndex=e),this.state.navigationModel.add(e)},left:function(e){if(this.isfolderAndHasItems&&this.isfolderAndHasItems()===!0){if(this.state.expandModel&&this.state.selectionModel.isSingleItemSelected){var t=this.isExpanded(this.state.selectionModel.FirstSingleItemSelected);t&&this.toggleExpandModel(this.state.selectionModel.FirstSingleItemSelected)}e.preventDefault(),e.stopPropagation()}},right:function(e){if(this.isfolderAndHasItems&&this.isfolderAndHasItems()===!0){if(this.state.expandModel&&this.state.selectionModel.isSingleItemSelected){var t=this.isExpanded(this.state.selectionModel.FirstSingleItemSelected);t||this.toggleExpandModel(this.state.selectionModel.FirstSingleItemSelected)}e.preventDefault(),e.stopPropagation()}},log:function(){for(var e="",t=this.state.navigationModel.list._head;t;)e=e+t.data+" - ",t=t.next},up:function(e){var t=this.state.selectionModel.leadIndex,n=this.state.navigationModel.list._tail;if(n)for(;n.prev;){if(t===n.data)return this.selectById(n.prev.data,e),this.state.selectionModel.leadIndex=n.prev.data,this.setState({selectionModel:this.state.selectionModel}),e&&(e.preventDefault(),e.stopPropagation()),!1;n=n.prev}},down:function(e){var t=this.state.selectionModel.leadIndex,n=this.state.navigationModel.list._head;if(n)for(;n.next;){if(t===n.data)return this.selectById(n.next.data,e),this.state.selectionModel.leadIndex=n.next.data,this.setState({selectionModel:this.state.selectionModel}),e&&(e.preventDefault(),e.stopPropagation()),!1;n=n.next}},home:function(){var e=this.state.navigationModel.list._head;this.selectById(e.data)},space:function(e){var t=this.state.selectionModel.leadIndex,n=this.state.selectionModel.isSelected(t);this.state.selectionModel.setIndexSelected(t,!n),this.updateKeyboardState()},end:function(){var e=this.state.navigationModel.list._tail;this.selectById(e.data)},ctrlup:function(e){for(var t=this.state.selectionModel.leadIndex,n=this.state.navigationModel.list._tail;n.prev;){if(t===n.data)return this.leadChanged(n.prev.data,e),this.state.selectionModel.leadIndex=n.prev.data,void this.updateKeyboardState();n=n.prev}},ctrldown:function(e){for(var t=this.state.selectionModel.leadIndex,n=this.state.navigationModel.list._head;n.next;){if(t===n.data)return this.state.selectionModel.leadIndex=n.next.data,this.leadChanged(n.next.data,e),void this.updateKeyboardState();n=n.next}},shiftup:function(){var e=this.state.selectionModel.leadIndex;this.state.selectionModel.unSelectAll(),-1===this.state.selectionModel.anchorIndex&&(this.state.selectionModel.anchorIndex=e);for(var t,n=this.state.navigationModel.list._tail;n;){if(e===n.data){if(!n.prev)return;this.state.selectionModel.leadIndex=n.prev.data,t=n.prev.data;var i,r=this.isAnchorFirst(this.state.selectionModel.leadIndex);for(i=r.anchorFirst?this.state.selectionModel.leadIndex:this.state.selectionModel.anchorIndex;r.node;){if(i===r.node.data)return this.state.selectionModel.setIndexSelected(r.node.data,!0),this.state.selectionModel.leadIndex=t,void this.updateKeyboardState();this.state.selectionModel.setIndexSelected(r.node.data,!0),r.node=r.node.next}}n=n.prev}},shiftdown:function(){var e=this.state.selectionModel.leadIndex;this.state.selectionModel.unSelectAll(),-1===this.state.selectionModel.anchorIndex&&(this.state.selectionModel.anchorIndex=e,this.state.selectionModel.setIndexSelected(e,!0));for(var t,n=this.state.navigationModel.list._head;n;){if(e===n.data){if(!n.next)return;this.state.selectionModel.leadIndex=n.next.data,t=n.next.data;var i,r=this.isAnchorFirst(this.state.selectionModel.leadIndex);for(i=r.anchorFirst?this.state.selectionModel.leadIndex:this.state.selectionModel.anchorIndex;r.node;){if(i===r.node.data)return this.state.selectionModel.setIndexSelected(r.node.data,!0),this.state.selectionModel.leadIndex=t,void this.updateKeyboardState();this.state.selectionModel.setIndexSelected(r.node.data,!0),r.node=r.node.next}}n=n.next}},_selectAll:function(e){return this.selectAll(),!1},KeyboardNavigationMixinOnFocus:function(){var e=n(26),t="MacIntel"===navigator.platform;e.bind("up",this.up),e.bind("down",this.down),e.bind("left",this.left),e.bind("right",this.right),e.bind("home",this.home),e.bind("end",this.end),e.bind("esc",this.unSelectAll),e.bind(t?"meta+a":"ctrl+a",this._selectAll),e.bind(t?"meta+left":"ctrl+left",this.left),e.bind(t?"meta+right":"ctrl+right",this.right),this.onDelete?e.bind(t?"meta+backspace":"del",this.onDelete):null,t||(e.bind("ctrl+space",this.space),e.bind("ctrl+up",this.ctrlup),e.bind("ctrl+down",this.ctrldown)),r&&(e.bind("shift+up",this.shiftup),e.bind("shift+down",this.shiftdown))},KeyboardNavigationMixinOnBlur:function(){var e=n(26),t="MacIntel"===navigator.platform;e.unbind("up",this.up),e.unbind("down",this.down),e.unbind("left",this.left),e.unbind("right",this.right),e.unbind("home",this.home),e.unbind("end",this.end),e.unbind("esc",this.unSelectAll),e.unbind(t?"meta+a":"ctrl+a",this._selectAll),e.unbind(t?"meta+left":"ctrl+left",this.left),e.unbind(t?"meta+right":"ctrl+right",this.right),this.onDelete?e.unbind(t?"meta+backspace":"del",this.onDelete):null,t||(e.unbind("ctrl+space",this.space),e.unbind("ctrl+up",this.ctrlup),e.unbind("ctrl+down",this.ctrldown)),r&&(e.unbind("shift+up",this.shiftup),e.unbind("shift+down",this.shiftdown))},KeyboardNavigationMixinAddItemToNavigationList:function(e,t){for(var n=!1,i=this.state.navigationModel._linkedList._head;i;){if(e===i.data){n=!0;break}i=i.next}n||-1===t||this.KeyboardNavigationMixinAddToNavigationList(e)}};e.exports=o},function(e,t,n){"use strict";var i=function(e){var t=n(26),i="MacIntel"===navigator.platform;t.bind("up",e.up),t.bind("down",e.down),t.bind("left",e.left),t.bind("right",e.right),t.bind("del",e["delete"]),t.bind("home",e.home),t.bind("end",e.end),t.bind("esc",e.esc),t.bind(i?"meta+a":"ctrl+a",e.selectAll),t.bind(i?"meta+left":"ctrl+left",e.left),t.bind(i?"meta+right":"ctrl+right",e.right),t.bind(i?"meta+backspace":"del",e["delete"]),i||(t.bind("ctrl+space",e.ctrlSpace),t.bind("ctrl+up",e.ctrlUp),t.bind("ctrl+down",e.ctrlDown)),t.bind("shift+up",e.up),t.bind("shift+down",e.down)},r=function(e){var t=n(26),i="MacIntel"===navigator.platform;t.unbind("up",e.up),t.unbind("down",e.down),t.unbind("left",e.left),t.unbind("right",e.right),t.unbind("del",e["delete"]),t.unbind("home",e.home),t.unbind("end",e.end),t.unbind("esc",e.esc),t.unbind(i?"meta+a":"ctrl+a",e.selectAll),t.unbind(i?"meta+left":"ctrl+left",e.left),t.unbind(i?"meta+right":"ctrl+right",e.right),t.unbind(i?"meta+backspace":"del",e["delete"]),i||(t.unbind("ctrl+space",e.ctrlSpace),t.unbind("ctrl+up",e.ctrlUp),t.unbind("ctrl+down",e.ctrlDown)),t.unbind("shift+up",e.up),t.unbind("shift+down",e.down)};t.KeyboardNavigationBindingOnBlur=r,t.KeyboardNavigationBindingOnFocus=i},function(e,t,n){"use strict";var i=n(166),r={getInitialState:function(){return{selectionModel:new i,stateCount:-1}},resetSelectionModel:function(){this.state.selectionModel.resetSelectionModel(),this.updateState()},updateState:function(){this.setState({stateCount:this.state.stateCount++})},unSelectAll:function(){this.state.selectionModel.unSelectAll(),this.updateState()},selectNextItemAfterDelete:function(e,t){var n=1,i=this.state.navigationModel.list._head,r=this.state.navigationModel.list._tail;if(i.data===r.data)return null;if(e===r.data)return n=r.prev.data;for(;i;){if(e===i.data){if(!t||!this.isExpanded(i.data))return n=i.next.data;for(i=i.next;i;){var o=this.findTreeItem(i.data);if(this.isFolder(o))return i.data;if(i=i.next,!i)return null}n=i.prev?i.prev.data:i.next.data}i=i.next}},selectAll:function(){for(var e=[],t=this.state.navigationModel.list._head;t;)e.push(t.data),t=t.next;this.state.selectionModel.selectAll(e),this.updateState()},SelectionMixinGetLead:function(){return this.state.selectionModel.leadIndex},SelectionMixinGetSelected:function(){return this.state.selectionModel.FirstSingleItemSelected},SelectionMixinGetAllSelected:function(){return this.state.selectionModel.selectedIds},SelectionMixinSetSelection:function(e){this.state.selectionModel.resetSelectionModel(),this.state.selectionModel.setIndexSelected(e,!0),this.state.selectionModel.leadIndex=e,this.updateState()},SelectionMixinIsSelected:function(e){return this.state.selectionModel.isSelected(e)},SelectionMixinIsLead:function(e){return this.state.selectionModel.isSelectionLead(e)},SelectionMixinSelectItem:function(e,t,n,i,r){this.state.selectionModel.leadIndex=e;var o="MacIntel"===navigator.platform?i:t,a=this.state.selectionModel.isSelected(e);if(o||n)a=r?r:!a;else{if(r&&this.state.selectionModel.length>1)return;this.state.selectionModel.unSelectAll(),a=!0}if(n){var s,l=this.isAnchorFirst(e);for(s=l.anchorFirst?e:this.state.selectionModel.anchorIndex;l.node;){if(s===l.node.data)return this.state.selectionModel.setIndexSelected(l.node.data,!0),void this.updateState();this.state.selectionModel.setIndexSelected(l.node.data,!0),l.node=l.node.next}}else this.state.selectionModel.anchorIndex=e,this.state.selectionModel.setIndexSelected(e,a);this.updateState()},isAnchorFirst:function(e){for(var t=this.state.navigationModel.list._head;t;){if(this.state.selectionModel.anchorIndex===t.data)return{anchorFirst:!0,node:t};if(e===t.data)return{anchorFirst:!1,node:t};t=t.next}}};e.exports=r},function(e,t,n){"use strict";var i=n(49),r=n(166),o={getInitialState:function(){return{selectionModel:new r}},resetSelectionModel:function(){this.state.selectionModel.resetSelectionModel(),this.updateSelectionState(new r)},updateSelectionState:function(e){var t=i(this.state.selectionModel,{$merge:e});t.__proto__=this.state.selectionModel.__proto__,this.setState({selectionModel:t})},selectNextItemAfterDelete:function(e,t){return this.selectNextAfterDeletion(e,t)},SelectionMixinSelectAll:function(){this.updateSelectionState(this.state.selectionModel.selectAll(this.getAllIds()))},SelectionMixinUnSelectAll:function(){this.updateSelectionState(this.state.selectionModel.unSelectAll())},SelectionMixinGetLead:function(){return this.state.selectionModel.leadIndex},SelectionMixinGetSelectionModel:function(){return this.state.selectionModel},SelectionMixinGetSelected:function(){return this.state.selectionModel.FirstSingleItemSelected},SelectionMixinGetAllSelected:function(){return this.state.selectionModel.selectedIds},SelectionMixinIsSelected:function(e){return this.state.selectionModel.isSelected(e)},SelectionMixinIsLead:function(e){return this.state.selectionModel.isSelectionLead(e)},SelectionMixinSetLead:function(e){this.updateSelectionState(this.state.selectionModel.setLeadIndex(e))},SelectionMixinSelectItem:function(e,t,n,i,r){var o={};o=this.state.selectionModel.setLeadIndex(e);var a="MacIntel"===navigator.platform?i:t,s=this.state.selectionModel.isSelected(e);if(a||n)s=r?r:!s;else{if(r&&this.state.selectionModel.length>1)return;o=Object.assign(this.state.selectionModel.unSelectAll()),s=!0}if(n){var l=this.getSelectedIdsFromIdToAnchor(e);o=Object.assign(this.state.selectionModel.setSelectedIds(l))}else this.state.selectionModel.anchorIndex=e,o=Object.assign(this.state.selectionModel.setIndexSelected(e,s));this.updateSelectionState(o)},getSelectedIdsFromIdToAnchor:function(e){var t=this.state.selectionModel.anchorIndex,n=this.getIdsBetween(t,e);return n}};e.exports=o},function(e,t){"use strict";function n(){this.selectedIds_=[],this.anchorIndex_=-1,this.leadIndex_=-1}n.prototype={isSelected:function(e){var t=this.selectedIds_.map(function(e){return e.id}).indexOf(e),n=this.selectedIds_[t];return n?n.selected:!1},get length(){return this.selectedIds_.length},get isSingleItemSelected(){return 1===this.selectedIds_.length},get FirstSingleItemSelected(){return this.isSingleItemSelected?this.selectedIds_[0].id:-1},get selectedIds(){return this.selectedIds_},set selectedIds(e){this.selectedIds=-1!==e?[e]:[]},get firstSelectedIndex(){for(var e=0;e<this.selectedIds_.length;e++)return Number(e);return-1},resetSelectionModel:function(){this.selectedIds_=[],this.anchorIndex_=-1,this.leadIndex_=-1},unSelectAll:function(){return this.selectedIds_=[],{selectedIds_:this.selectedIds_}},logSelectedIds:function(){console.log(this.selectedIds_)},selectAll:function(e){return e.forEach(function(e){this.selectedIds_.push(new Object({id:e,selected:!0}))}.bind(this)),{selectedIds_:this.selectedIds_}},isSelectionLead:function(e){return this.leadIndex===e},setSelectedIds:function(e){return this.selectedIds_=e.map(function(e){return{selected:!0,id:e}}),{selectedIds_:this.selectedIds_}},setLeadIndex:function(e){return this.leadIndex=e,{leadIndex_:this.leadIndex_}},setIndexSelected:function(e,t){var n=this.selectedIds_.map(function(e){return e.id}).indexOf(e),i=this.selectedIds_[n];if(!i||i.selected!==t){if(this.leadIndex=e,t)this.selectedIds_.push(new Object({id:e,selected:t}));else{var r=this.selectedIds_.map(function(e){return e.id}).indexOf(e);this.selectedIds_.splice(r,1)}return{leadIndex_:this.leadIndex_,selectedIds_:this.selectedIds_}}},get leadIndex(){return this.leadIndex_},set leadIndex(e){this.leadIndex_=e},get anchorIndex(){return this.anchorIndex_},set anchorIndex(e){this.anchorIndex_=e}},e.exports=n},function(e,t,n){"use strict";var i=n(1),r=n(6),o=n(2),a=n(63),s=i.createClass({displayName:"SortingSelector",updateField:function(e){var t=e.target.value,n=this.props.sort.sortOrder;"manually"===t?n=a.NO_SORTING:"manually"!==t&&this.props.sort.sortOrder===a.NO_SORTING&&(n=a.ASCENDING_SORT),this.props.onSortChange(n,t)},updateSort:function(e){var t=void 0;if(e===this.props.sort.sortField)switch(this.props.sort.sortOrder){case a.ASCENDING_SORT:t=a.DESCENDING_SORT;break;case a.DESCENDING_SORT:t=a.NO_SORTING;break;case a.NO_SORTING:t=a.ASCENDING_SORT}else t=a.ASCENDING_SORT;this.props.onSortChange(t,e)},updateOrder:function(){var e=this.props.sort.sortOrder===a.DESCENDING_SORT?a.ASCENDING_SORT:a.DESCENDING_SORT;this.props.onSortChange(e,this.props.sort.sortField)},_getSortLabel:function(e,t){var s=r({"sortselector-button":!0,"sortselector-button-active":this.props.sort.sortField===e&&this.props.sort.sortOrder!==a.NO_SORTING,"direction-ascending":this.props.sort.sortField===e&&this.props.sort.sortOrder===a.ASCENDING_SORT,"direction-descending":this.props.sort.sortField===e&&this.props.sort.sortOrder===a.DESCENDING_SORT});return i.createElement("label",null,i.createElement("button",{className:s,onClick:this.updateSort.bind(this,e),title:o("Toggle Sort Order"),tabIndex:this.props.keyAccess,dangerouslySetInnerHTML:{__html:t+n(204)}}))},render:function(){var e=r({"sortselector-button":!0,"direction-ascending":this.props.sort.sortOrder===a.ASCENDING_SORT,"direction-descending":this.props.sort.sortOrder===a.DESCENDING_SORT});return this.props.fullsize===!0?i.createElement("div",{className:"sortselector sortselector-tableheader"},this._getSortLabel("title",o("Title")),this._getSortLabel("url",o("Address")),this._getSortLabel("nickname",o("Nickname")),this._getSortLabel("description",o("Description"))):i.createElement("div",{className:"sortselector sortselector-compact"},i.createElement("select",{className:"sortselector-dropdown",value:this.props.sort.sortField,tabIndex:this.props.keyAccess,onChange:this.updateField},i.createElement("option",{value:"manually"},o("Sort Manually")),i.createElement("option",{value:"title"},o("Sort by Title")),i.createElement("option",{value:"url"},o("Sort by Address")),i.createElement("option",{value:"nickname"},o("Sort by Nickname")),i.createElement("option",{value:"description"},o("Sort by Description")),i.createElement("option",{value:"dateAdded"},o("Sort by Date Created"))),i.createElement("button",{className:e,onClick:this.updateOrder,title:o(this.props.sort.sortOrder===a.ASCENDING_SORT?"Sort Descending":"Sort Ascending"),tabIndex:this.props.keyAccess,disabled:this.props.sort.sortOrder===a.NO_SORTING?"disabled":!1,dangerouslySetInnerHTML:{__html:n(204)}}))}});e.exports=s},function(e,t,n){"use strict";function i(e){return{WebkitPaddingStart:16*e+"px"}}var r=n(1),o=n(21),a=r.createClass({displayName:"TreeNode",getDefaultProps:function(){return{depth:0}},onNodeClick:function(e,t){this.props.onNodeSelected(e,t)},onNodeDoubleClick:function(e,t){this.props.onNodeDoubleClick(e,t)},getNodeIcon:function(){return this.props.tree.getNodeIcon&&this.props.tree.getNodeIcon(this.props.node)},getContextMenuItems:function(){return this.props.tree.nodeMenuItems?this.props.tree.nodeMenuItems():[]},render:function(){return this.props.addNodeToKeyboardNavigation(this.props.node,this.props.parentId),r.createElement("div",{className:"node tree-row",title:this.props.tree.nodeTitle?this.props.tree.nodeTitle(this.props.node):"",onClick:this.onNodeClick.bind(this,this.props.node),onDoubleClick:this.onNodeDoubleClick.bind(this,this.props.node),onContextMenu:o(this.getContextMenuItems),"data-selected":this.props.isSelected(this.props.node)?"":null,"data-nofocus":this.props.isSelected(this.props.node)&&!this.props.hasFocus?"":null,"data-lead":this.props.isLead(this.props.node)?"":null},r.createElement("label",{ref:"NodeEnvelope",style:i(this.props.depth)},r.createElement("img",{src:this.getNodeIcon(),alt:""}),r.createElement("span",null,this.props.tree.nodeDisplayName?this.props.tree.nodeDisplayName(this.props.node):this.props.node.toString())))}});e.exports=a},function(e,t,n){"use strict";var i=n(1),r=n(9),o=n(28),a=n(2),s=null,l=i.createClass({displayName:"ImportBookmarks",handleClick:function(){this.state.shown&&(this.setState({ticks:0}),clearInterval(s),this.props.onClose()),this.setState({shown:!this.state.shown})},getInitialState:function(){return{msg:"",useDefaultLocation:!0,profilesArray:[],shown:!0,ticks:0,modalShown:!1,selectedIndex:0,importOptions:[],selectedProfile:"",masterPassword:""}},componentDidMount:function(){r.importData.onImportStarted.addListener(this.onImportStarted),r.importData.onImportItemStarted.addListener(this.onImportItemStarted),r.importData.onImportItemEnded.addListener(this.onImportItemEnded),r.importData.onImportEnded.addListener(this.onImportEnded)},componentWillUnmount:function(){r.importData.onImportStarted.removeListener(this.onImportStarted),r.importData.onImportItemStarted.removeListener(this.onImportItemStarted),r.importData.onImportItemEnded.removeListener(this.onImportItemEnded),r.importData.onImportEnded.removeListener(this.onImportEnded)},componentWillMount:function(){var e=this;r.importData.getProfiles(function(t){e.setState({profilesArray:t,importOptions:JSON.parse(JSON.stringify(t))})})},onHandleClick:function(){this.startImport()},onImportStarted:function(){this.setState({msg:"started"})},onImportItemStarted:function(e){},onImportItemEnded:function(e){},onImportEnded:function(e){this.setState({msg:0===e?"Success":"Failure"})},startImport:function(){var e=this,t=this.state.selectedIndex,n=this.state.profilesArray,i=n[t].history,o=n[t].favorites,a=n[t].passwords,s=n[t].search,l=n[t].notes,u=this.state.useDefaultLocation,c="",A=n[t].speeddial;this.refs.userProfile&&(c=""===this.state.selectedProfile?this.refs.userProfile.value:this.state.selectedProfile);var d=new Array(t.toString(),i.toString(),o.toString(),a.toString(),s.toString(),l.toString(),u.toString(),c.toString(),A.toString());r.importData.startImport(d,this.state.masterPassword,function(t){"Cancel"===t?e.setState({msg:""}):e.setState({msg:t})})},handlePasswordChange:function(e){this.setState({masterPassword:e.target.value})},handleProfileChange:function(e){var t=this.state.importOptions[e.target.value],n=t.hasDefaultInstall;this.setState({selectedIndex:e.target.value,useDefaultLocation:n})},handleUserProfileChange:function(e){this.setState({selectedProfile:e.target.value})},_toggleDefault:function(e){this.setState({useDefaultLocation:!this.state.useDefaultLocation})},__changeSelection:function(e,t){var n=this.state.profilesArray;n[e][t]=!n[e][t],this.setState({profilesArray:n})},_getImportButtonText:function(e,t){var n=e.willShowDialogType;return this.state.useDefaultLocation||"none"===n?a("Start Import"):"file"===n&&"Safari"!==t?a("Choose a File"):"folder"===n?a("Choose a Folder"):void 0},render:function(){var e=this.state.profilesArray.map(function(e){return i.createElement("option",{key:e.index,value:e.index},e.name)}),t=this.state.selectedIndex,n=this.state.profilesArray[t],r=this.state.importOptions[t];if(r&&r.UserProfiles&&r.UserProfiles.length>0)var s=r.UserProfiles.map(function(e){return i.createElement("option",{key:e.profileName,value:e.profileName},e.profileDisplayName)});if(r){var l=Boolean(!(r.passwords||r.history||r.notes||r.search||r.speeddial));return i.createElement(o,{onRequestClose:this.handleClick},function(){return this.state.msg.length>0?i.createElement("div",{className:"import-data"},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title"},a("Import Bookmarks and Settings"))),i.createElement("div",{className:"dialog-content"},"started"===this.state.msg&&i.createElement("p",{className:"in-progress"},a("Import in progress...")),"Success"===this.state.msg&&i.createElement("p",{className:"success"},a("Import completed.")),"Success"!==this.state.msg&&"started"!==this.state.msg&&i.createElement("p",{className:"error"},a("No data imported. ($1)",this.state.msg))),i.createElement("footer",{className:"dialog-footer"},i.createElement("input",{type:"button",className:"primary",disabled:"started"===this.state.msg,onClick:this.handleClick,value:a("Close")}))):i.createElement("div",{className:"import-data"},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title"},a("Import Bookmarks and Settings"))),i.createElement("div",{className:"dialog-content"},i.createElement("fieldset",null,i.createElement("div",null,i.createElement("label",{htmlFor:"browserSel",className:"from"},a("import","From")),i.createElement("select",{id:"browserSel",onChange:this.handleProfileChange,value:this.state.selectedIndex,autoFocus:!0},e))),i.createElement("fieldset",null,s&&i.createElement("div",{className:"profile"},i.createElement("label",{htmlFor:"userProfile"},a("Chrome User Profile")),i.createElement("select",{ref:"userProfile",id:"userProfile",onChange:this.handleUserProfileChange,value:this.state.selectedProfile},s)),r&&r.favorites&&i.createElement("div",null,i.createElement("input",{id:"f-favorites",type:"checkbox",checked:n?n.favorites:!1,onChange:this.__changeSelection.bind(this,t,"favorites"),disabled:l}),i.createElement("label",{htmlFor:"f-favorites"},a("Bookmarks"))),r.passwords&&i.createElement("div",{className:"setting-single"},i.createElement("input",{id:"f-passwords",type:"checkbox",checked:n?n.passwords:!1,onChange:this.__changeSelection.bind(this,t,"passwords")}),i.createElement("label",{htmlFor:"f-passwords"},a("Passwords"))),r.supportsMasterPassword&&i.createElement("div",{className:"setting-single import-masterpassword"},i.createElement("label",{htmlFor:"f-masterpassword"},a("Master password, if needed:")),i.createElement("input",{id:"f_masterpassword",type:"password",onChange:this.handlePasswordChange})),r.history&&i.createElement("div",null,i.createElement("input",{id:"f-history",type:"checkbox",checked:n?n.history:!1,onChange:this.__changeSelection.bind(this,t,"history")}),i.createElement("label",{htmlFor:"f-history"},a("History"))),r.notes&&i.createElement("div",null,i.createElement("input",{id:"f-notes",type:"checkbox",checked:n?n.notes:!1,onChange:this.__changeSelection.bind(this,t,"notes")}),i.createElement("label",{htmlFor:"f-notes"},a("Notes"))),r.search&&i.createElement("div",null,i.createElement("input",{id:"f-search",type:"checkbox",checked:n?n.search:!1,onChange:this.__changeSelection.bind(this,t,"search")}),i.createElement("label",{htmlFor:"f-search"},a("Search Engines"))),r.speeddial&&i.createElement("div",null,i.createElement("input",{id:"f-speeddial",type:"checkbox",checked:n?n.speeddial:!1,onChange:this.__changeSelection.bind(this,t,"speeddial")}),i.createElement("label",{htmlFor:"f-speeddial"},a("Speed Dial"))),r&&r.supportsStandaloneImport&&i.createElement("div",null,i.createElement("input",{id:"f-location",type:"checkbox",checked:this.state.useDefaultLocation&&r.hasDefaultInstall,onChange:this._toggleDefault.bind(this,r),disabled:r.hasDefaultInstall===!1}),i.createElement("label",{
htmlFor:"f-location"},a("Use Default Profile Location"))))),r&&r.hasDefaultInstall&&r.profilePath.length>0&&i.createElement("div",{className:"import-pathname"},a("Detected Profile Path:"),i.createElement("br",null),i.createElement("input",{type:"text",value:r.profilePath,readOnly:"true"})),i.createElement("footer",{className:"dialog-footer"},i.createElement("input",{type:"button",className:"primary",onClick:this.onHandleClick,value:this._getImportButtonText(r)}),i.createElement("input",{type:"button",onClick:this.handleClick,value:a("Cancel")})))}.bind(this)())}return null}});e.exports=l},function(e,t){"use strict";var n="a[href], area[href], input:not([disabled]), select:not([disabled]), option:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",i=function(e){if(!e.srcElement.matches(n)){for(var t=e.target;t!==document.body;){if(t.draggable){var i=document.activeElement,r=function o(e){this.removeEventListener("mouseup",o),this.removeEventListener("dragend",o),document.activeElement===document.body&&i.focus()};return t.addEventListener("mouseup",r),void t.addEventListener("dragend",r)}t=t.parentElement}e.preventDefault()}},r={componentDidMount:function(){document.body.addEventListener("mousedown",i)},componentWillUnmount:function(){document.body.removeEventListener("mousedown",i)}};e.exports=r},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(3),a=n(327),s=n(2),l=n(28),u=n(11),c=i.createClass({displayName:"CookieManager",mixins:[r],getInitialState:function(){return{cookieData:{},cookieFilter:"",confirmation:!1}},componentWillMount:function(){this.getAllCookies()},getAllCookies:function(){var e=this;o.cookies.getAll({},function(t){e.setState({cookieData:t.reduce(function(e,t){var n=e[t.domain]||[];return n.push(t),e[t.domain]=n,e},{}),cookieFilter:""})})},deleteFilteredCookies:function(){var e=this;o.cookies.getAll({},function(t){for(var n=0;n<t.length;n++)-1!==t[n].domain.indexOf(e.state.cookieFilter)&&o.cookies.remove({url:e.getCookieUrl(t[n]),name:t[n].name});e.getAllCookies()})},deleteAllCookies:function(){var e=this,t=0;o.cookies.getAll({},function(i){t=i.length;for(var r=0;r<i.length;r++)o.cookies.remove({url:e.getCookieUrl(i[r]),name:i[r].name},n)});var n=function(e){t--,0===t&&this.setState({cookieData:[],confirmation:!1})}.bind(this)},getCookieUrl:function(e){return"http"+(e.secure?"s":"")+"://"+e.domain+e.path},deleteCookie:function(e){this.getAllCookies()},onSettingsFilter:function(e){this.setState({cookieFilter:e.target.value})},onAskToDelete:function(){this.setState({confirmation:!0})},onCancel:function(){this.setState({confirmation:!1}),this.props.onClose()},keyDownModal:function(e){27===e.keyCode&&this.onCancel()},renderModal:function(){return i.createElement(l,{dialogWidth:400},i.createElement("div",{className:"dialog-delete-cookies",onKeyDown:this.keyDownModal},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title"},s("Delete All Cookies?"))),i.createElement("div",{className:"dialog-content"},i.createElement("p",null,s("All cookies will be removed."))),i.createElement("footer",{className:"dialog-footer"},i.createElement("input",{type:"button",className:"primary",onClick:this.deleteAllCookies,value:s("other","Delete"),autoFocus:!0}),i.createElement("input",{type:"button",onClick:this.onCancel,value:s("Cancel")}))))},render:function(){var e=this;if(!this.state.cookieData)return i.createElement("div",{className:"saved-passwords"},i.createElement("p",null,s("No cookies found.")));var t=i.createElement("div",null,this.state.confirmation&&this.renderModal(),i.createElement("div",{className:"setting-group setting-cookies unlimited"},i.createElement("h3",null,s("Cookie Overview")),i.createElement("div",{className:"setting-single"},i.createElement("input",{type:"search",placeholder:s("Filter by domain"),value:this.state.cookieFilter,onChange:this.onSettingsFilter})),i.createElement("div",{className:"setting-single"},i.createElement("ul",null,Object.keys(this.state.cookieData).filter(function(t){return-1!==t.indexOf(e.state.cookieFilter)}).map(function(t){return i.createElement(a,{key:"domain-"+t,domain:t,count:e.state.cookieData[t].length,item:e.state.cookieData[t],onCookieDelete:e.deleteCookie})}))),i.createElement("div",{className:"setting-single pad-top"},i.createElement("input",{type:"button",className:"danger",onClick:this.onAskToDelete,value:s("Delete All Cookies")}),this.state.cookieFilter&&i.createElement("input",{type:"button",onClick:this.deleteFilteredCookies,value:s("Delete Filtered Cookies")}))));return u(t,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(12),a=n(4),s=n(10),l=n(74),u=n(26),c=n(6),A=n(2),d=r.createClass({displayName:"ShortCutEditSetting",mixins:[s],vivaldiSettingsKeys:["DISABLE_SINGLE_KEY_SHORTCUTS","DISABLE_KEYBOARD_SHORTCUTS"],getInitialState:function(){return{keyValue:this.props.command.shortcut,gestures:this.props.command.gestures,showInQC:this.props.command.showInQC,selectedCombo:"",active:!1,focused:!1,duplicateCombo:"",singleKeyWarning:!1}},restoreDefault:function(e){var t=a.getDefault(this.props.command.name);this.setState({keyValue:t.shortcut||""},this.save)},clearCombo:function(e){this.setState({keyValue:[]},this.save)},checkChangeQC:function(e){this.setState({showInQC:!this.state.showInQC},this.save)},handleKeyEvent:function(e){var t=["shift+tab","tab","space","enter","esc","left","right","up","down"],n=u.keyComboFromEvent(e.nativeEvent);if(n&&"backspace"===n){e.stopPropagation();var i=this.state.keyValue.slice(0,this.state.keyValue.length-1);this.setState({keyValue:i,duplicateCombo:"",singleKeyWarning:!1},this.save)}else if(this.state.DISABLE_SINGLE_KEY_SHORTCUTS&&n&&1===n.length)this.setState({duplicateCombo:"",singleKeyWarning:!0});else if(n&&-1!==this.props.existingCombos.indexOf(n))this.setState({duplicateCombo:l(n),singleKeyWarning:!1});else if(n&&-1===t.indexOf(n)){var r=this.state.keyValue||[];this.setState({keyValue:r.slice().concat(n),duplicateCombo:"",singleKeyWarning:!1},this.save)}else this.navigateWithArrowKeys(e)},navigateWithArrowKeys:function(e){if(this.state.keyValue){var t=u.keyComboFromEvent(e.nativeEvent),n=document.activeElement;"left"===t?(e.preventDefault(),e.stopPropagation(),n.previousElementSibling&&n.previousElementSibling.focus()):"right"===t?(e.preventDefault(),e.stopPropagation(),n.nextElementSibling&&n.nextElementSibling.focus()):"up"===t?(e.preventDefault(),e.stopPropagation(),n.parentNode.firstChild.focus()):"down"===t&&(e.preventDefault(),e.stopPropagation(),n.parentNode.lastChild.focus())}},save:function(){var e={name:this.props.command.name,shortcut:this.state.keyValue,gestures:this.state.gestures,showInQC:this.state.showInQC};a.set(i({},this.props.command.name,e))},keyUpListener:function(e){if(e.stopPropagation(),e.preventDefault(),8===e.keyCode||46===e.keyCode){var t=this.state.keyValue,n=t.indexOf(e.target.dataset.raw);t.splice(n,1),o.findDOMNode(e.target.parentNode).querySelector("input").focus(),this.setState({keyValue:t},this.save)}},onTextFocus:function(e){this.setState({active:!0,focused:!0})},onTextBlur:function(e){e.preventDefault(),e.stopPropagation(),this.setState({active:!1,focused:!1,duplicateCombo:"",singleKeyWarning:!1}),this.save()},onButtonFocus:function(e){this.setState({active:!0})},onButtonBlur:function(e){e.preventDefault(),e.stopPropagation(),this.setState({active:!1,duplicateCombo:"",singleKeyWarning:!1}),this.save()},onComboFocus:function(e){this.setState({selectedCombo:e.target.dataset.raw,focused:!0,active:!0}),document.addEventListener("keyup",this.keyUpListener)},onComboBlur:function(e){this.setState({selectedCombo:"",focused:!1,active:!1}),document.removeEventListener("keyup",this.keyUpListener)},renderCombos:function(){var e=this;return this.props.command.shortcut?this.props.command.shortcut.map(function(t,n){return[r.createElement("input",{type:"button",key:n,className:t.length>1?"item":"item single","data-raw":t,onFocus:e.onComboFocus,onBlur:e.onComboBlur,onKeyDown:e.navigateWithArrowKeys,value:l(t)})]}):void 0},render:function(){return r.createElement("div",{className:c({controls:!0,active:this.state.active,focused:this.state.focused})},r.createElement("div",{className:"multiinput"},r.createElement("div",{className:"wrapper"},this.renderCombos(),r.createElement("input",{type:"text",id:this.props.id,value:"",className:"keyShortcutStop",onChange:this.onChange,onKeyPress:this.handleKeyEvent,onKeyDown:this.handleKeyEvent,onCancel:this.cancel,onFocus:this.onTextFocus,onBlur:this.onTextBlur}))),r.createElement("input",{type:"button",className:"circular restorekey",title:A("Restore default shortcut"),onClick:this.restoreDefault,onFocus:this.onButtonFocus,onBlur:this.onButtonBlur}),r.createElement("input",{type:"button",className:"circular clearkey",title:A("Clear shortcut"),onClick:this.clearCombo,onFocus:this.onButtonFocus,onBlur:this.onButtonBlur}),this.state.duplicateCombo&&r.createElement("p",{className:"info"},A("Shortcut $1 is already assigned",[this.state.duplicateCombo.toUpperCase()])),this.state.singleKeyWarning&&r.createElement("p",{className:"info"},A("Single Key Shortcuts are currently disabled")))}});e.exports=d},function(e,t,n){"use strict";var i=n(1),r=n(172),o=n(10),a=n(57),s=n(36),l=n(74),u=n(28),c=n(11),A=n(326),d=n(335),h=n(334),p=n(2),f="CATEGORY_COMMAND_APPLICATION",m=i.createClass({displayName:"ShortcutKeys",mixins:[o],vivaldiSettingsKeys:["DISABLE_SINGLE_KEY_SHORTCUTS","DISABLE_KEYBOARD_SHORTCUTS"],getInitialState:function(){return{commandArray:s.getAllCommands(),openCategories:[f],confirmation:!1}},_onStoreChange:function(){this.setState({commandArray:s.getAllCommands()})},componentWillMount:function(){s.addChangeListener(this._onStoreChange)},componentWillUnmount:function(){s.removeChangeListener(this._onStoreChange)},switchCategory:function(e){var t=this.state.openCategories;t.indexOf(e)>-1?t.splice(t.indexOf(e),1):t.push(e),this.setState({openCategories:t})},confirmRestoreKeys:function(){this.setState({confirmation:!0})},restoreKeys:function(){a.restoreCommandShortcutKeys(),this.setState({confirmation:!1})},onCancel:function(){this.setState({confirmation:!1})},keyDownModal:function(e){27===e.keyCode&&this.onCancel()},renderModal:function(){return i.createElement(u,{dialogWidth:400},i.createElement("div",{className:"dialog-restore-shortcuts"},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title"},p("Restore Keyboard Shortcuts?"))),i.createElement("div",{className:"dialog-content",onKeyDown:this.keyDownModal},i.createElement("p",null,p("All keyboard shortcuts will be restored to default setting."))),i.createElement("footer",{className:"dialog-footer",onKeyDown:this.keyDownModal},i.createElement("input",{type:"button",className:"primary",onClick:this.restoreKeys,value:p("Restore"),autoFocus:!0}),i.createElement("input",{type:"button",onClick:this.onCancel,value:p("Cancel")}))))},renderCategories:function(e){var t=e.reduce(function(e,t){return e[t.category]=(e[t.category]||[]).concat(t),e},{}),n=Object.keys(t).map(function(e,n){return this.renderCategory(e,t[e])}.bind(this));return i.createElement("div",null,n)},renderCategory:function(e,t){var n=this,r=A(e),o=this.props.filter||this.state.openCategories.indexOf(e)>-1?"show":"hide";return i.createElement("div",{className:"category "+o,key:e},i.createElement("button",{onClick:this.switchCategory.bind(this,e)},r),i.createElement("div",{className:"list"},t.map(function(e){return n.renderCommandKeys(e)})))},renderCommandKeys:function(e){for(var t=this.state.commandArray.map(function(e){return e.shortcut?e.shortcut:null}),n=t.reduce(function(e,t){return e.concat(t)}),o=[],a=0;a<n.length;a++)n[a]&&o.push(n[a]);if("mac"===this.props.platform&&"COMMAND_TOGGLE_MENU_POSITION"===e.name)return null;if("read-only"===this.props.view)return i.createElement("div",{className:"keycombo"},i.createElement("label",null,e.label),e.shortcut&&e.shortcut.map(function(e,t){return[i.createElement("input",{key:t,type:"button",disabled:!0,className:e.length>1?"item":"item single",value:l(e)})]}));var s=e.name.toLowerCase();return i.createElement("div",{className:"keycombo",key:s},i.createElement("label",{htmlFor:"combo-"+s},e.label),i.createElement(r,{id:"combo-"+s,onSelect:this.onChange,onExecute:this.onChange,key:s,onSave:this.saveKey,existingCombos:o,command:e}))},renderList:function(){var e,t=this;e="read-only"===this.props.view?this.state.commandArray.filter(function(e){return Boolean(e.shortcut&&e.shortcut.length>0)}):this.state.commandArray.filter(function(e){return!Boolean(e.notEditable)});var n=this.renderCategories([]);return c(n,this.props.filter)?this.renderCategories(e):(e=e.filter(function(e){return e.label.toLowerCase().indexOf(t.props.filter.toLowerCase())>-1||(e.shortcut||[]).some(function(e){return e.toLowerCase().indexOf(this.props.filter.toLowerCase())>-1}.bind(t))}),e.length>0?this.renderCategories(e):null)},render:function(){var e=Boolean(this.renderList());return"read-only"===this.props.view?this.renderList():e?i.createElement("div",{className:this.state.DISABLE_SINGLE_KEY_SHORTCUTS?"setting-group unlimited singlekeydisabled":"setting-group unlimited"},this.state.confirmation&&this.renderModal(),i.createElement("h2",null,p("Keyboard")),i.createElement(h,this.props),i.createElement("h3",null,p("Keyboard Shortcuts")),i.createElement(d,this.props),i.createElement("div",{className:"setting-single"},i.createElement("div",{className:"keystrokes"},this.renderList()),!this.props.filter&&i.createElement("input",{type:"button",className:"danger",onClick:this.confirmRestoreKeys,value:p("Restore Default Keys")}))):null}});e.exports=m},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(10),a=n(2),s=13,l=i.createClass({displayName:"CreateSearchEngine",mixins:[o],vivaldiSettingsKeys:["SEARCH_ENGINES","DEFAULT_SEARCH_ENGINE"],getInitialState:function(){return{name:this.props.name,url:this.props.url?this.props.url.replace("{searchTerms}","%s"):"","default":!1}},newSearchKeyDown:function(e){e.which===s&&this.create()},create:function(){var e=this.refs.newName.value.trim(),t=this.refs.newKeyword.value.trim(),n=this.refs.newURL.value.trim();e&&n&&(this.createSearchEngine({name:e,keyword:t,url:n}),"function"==typeof this.props.onClose&&this.props.onClose())},nameChange:function(e){this.setState({name:e.target.value})},defaultChange:function(e){this.setState({"default":e.target.checked})},urlChange:function(e){this.setState({url:e.target.value})},createSearchEngine:function(e){var t=this.state.SEARCH_ENGINES,n=Math.max.apply(Math,t.map(function(e){return e.Id}));n=isNaN(n)?0:n+1,t.push({Id:Number(n),Name:e.name,Keyword:e.keyword,Url:e.url}),r.set({SEARCH_ENGINES:t}),this.state["default"]&&r.set({DEFAULT_SEARCH_ENGINE:n})},render:function(){return i.createElement("div",{className:this.props.showAsDlg?null:"setting-section unlimited search-engine-add"},this.props.showAsDlg&&i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title"},a("Add Search Engine"))),!this.props.showAsDlg&&i.createElement("div",null,i.createElement("h3",null,a("Add Search Engine")),i.createElement("p",{className:"info"},a("Substitute search keyword in address with %s"))),i.createElement("div",{className:this.props.showAsDlg?"dialog-content":"setting-subgroup"},i.createElement("div",{className:this.props.showAsDlg?"fieldset":"setting-flexgroup"},i.createElement("input",{className:"searchengine_url setting-single-flex",type:"text",ref:"newURL",onKeyDown:this.newSearchKeyDown,placeholder:a("URL"),value:this.state.url,onChange:this.urlChange})),i.createElement("div",{className:this.props.showAsDlg?"fieldset":"setting-flexgroup"},i.createElement("input",{className:"setting-single-flex",type:"text",ref:"newName",onKeyDown:this.newSearchKeyDown,value:this.state.name,placeholder:a("Description"),onChange:this.nameChange}),i.createElement("input",{className:"searchengine_keyword setting-single-noflex",type:"text",ref:"newKeyword",placeholder:a("Nickname"),onKeyDown:this.newSearchKeyDown})),i.createElement("div",{className:"setting-single pad-top"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state["default"],onChange:this.defaultChange}),i.createElement("span",null,a("searchengine","Set as Default"))))),i.createElement("footer",{className:this.props.showAsDlg?"dialog-footer":"setting-single"},i.createElement("input",{type:"button",className:this.props.showAsDlg?"primary":"setting-single-noflex primary",onClick:this.create,value:a("Add")}),i.createElement("input",{type:"button",className:this.props.showAsDlg?null:"setting-single-noflex",onClick:this.props.onClose,value:a("Cancel")})))}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(12),o=n(360),a=n(348),s=n(346),l=n(369),u=n(173),c=n(345),A=n(354),d=n(14),h=n(355),p=n(325),f=n(350),m=n(347),g=n(349),v=n(352),E=n(336),_=(n(62),n(62),n(353)),S=n(324),y=n(329),b=n(171),C=n(328),I=n(343),T=n(341),O=n(337),w=n(370),N=n(90),k=n(3),D=n(42),M=n(2),P=n(81),L=n(20).urls,x=n(17),R=n(332),B=n(374),F=n(333),U=n(330),V=n(331),W=n(371),H="startup",K=i.createClass({displayName:"Settings",mixins:[n(170)],categoryMap:{"":["startup"],startup:["startup"],appearance:["appearance"],"start-page":["start-page"],tabs:["tab"],panel:["panel"],addressbar:["addressbar"],bookmarks:["bookmarks"],qc:["qc"],keyboard:["keyboard"],mouse:["mouse"],search:["search"],privacy:["privacy","cookies"],downloads:["downloads"],webpages:["webpages"],network:["network"],mail:["mail"],all:[]},getInitialState:function(){return{filterSetting:"",categoryTitle:H,filterCategory:this.categoryMap[H],restartDialogDiv:null,cookieManagerDiv:null,currentOS:D()}},componentDidMount:function(){window.isPopup()&&(document.title=this.getWindowTitle()),this.refs.filter.focus()},componentWillUnmount:function(){k.runtime.sendMessage({setLastSettingsWindowId:-1})},componentWillReceiveProps:function(e){if(e.page&&e.page.get("url")){var t=this._parseUrl(e.page.get("url"),"query"),n=t?"all":this._parseUrl(e.page.get("url"),"path")||H,i=this.categoryMap[n]?this.categoryMap[n]:[],r=n;this.setState({filterSetting:t,categoryTitle:r,filterCategory:i})}},componentDidUpdate:function(e,t){window.isPopup()&&this.state.categoryTitle&&t.categoryTitle!==this.state.categoryTitle&&(document.title=this.getWindowTitle())},getWindowTitle:function(){return M("Vivaldi Settings")+(this.state.categoryTitle&&": "+L.categoryTitleMap[this.state.categoryTitle])},_selectedCategoryContains:function(e){return this.state.filterCategory?0===this.state.filterCategory.length||x.intersection(this.state.filterCategory,e).length>0:void 0},setStateFromPath:function(e){this.setState({categoryTitle:e,filterCategory:this.categoryMap[e]||[]})},_onClickHelper:function(e,t,n,i){this.setState({filterSetting:""}),this.props.page&&d.overridePageProps(this.props.page,{url:L.getUrl(e),title:n,favIcon:i||"/resources/favicon_settings.png"}),this.setStateFromPath(t),this.refs.content.scrollTop=0},onCategoryClick:function(e){this._onClickHelper("vivaldi://settings/"+e+"/",e,L.categoryTitleMap[e])},showCookieManager:function(){this.setState({cookieManagerDiv:r.findDOMNode(this.refs.settings)})},onSettingsFilter:function(e){var t=this.refs.filter;this.setState({filterCategory:[],categoryTitle:"all",filterSetting:t.value})},showRestartDialog:function(){this.setState({restartDialogDiv:this.refs.settings})},closeCookieManager:function(){this.setState({cookieManagerDiv:null})},closeDialog:function(){this.setState({restartDialogDiv:null})},focusContent:function(e){var t=["A","LI","INPUT","SELECT","OPTION","BUTTON"];-1===t.indexOf(e.target.nodeName)&&this.refs.content.focus()},_parseUrl:function(e,t){var n=e.split("?"),i=n&&n.length>1?P.parse(n[1])[t]:null;return i},renderButtons:function(){var e=this;return Object.keys(this.categoryMap).map(function(t){return""===t||"network"===t&&"linux"===e.state.currentOS||"mail"===t?null:i.createElement("button",{key:"id-"+t.toLowerCase(),onClick:e.onCategoryClick.bind(e,t),className:e.state.categoryTitle===t?t+" on":t+" off"},i.createElement("img",{src:"/resources/pref-"+t+".svg",alt:""}),i.createElement("span",null,L.categoryTitleMap[t]))})},render:function(){var e=this.state.filterSetting?this.state.filterSetting.toLowerCase():null;return i.createElement(N,{ref:"settings",focusName:"focus_settings",className:"vivaldi-settings ui-light"},i.createElement("header",{className:"settings-header"},i.createElement("h1",null,this.getWindowTitle())),i.createElement("nav",{ref:"categories",className:"settings-navigation"},i.createElement("header",{className:"settings-navigation-header"},i.createElement("input",{className:"settings-search",ref:"filter",value:this.state.filterSetting,type:"search",placeholder:M("Search..."),onChange:this.onSettingsFilter,autoFocus:""===this.state.categoryTitle})),i.createElement("section",null,this.renderButtons())),this.state.categoryTitle.length>0&&i.createElement("div",{className:"settings-content",ref:"content",tabIndex:"0",onClick:this.focusContent},this._selectedCategoryContains(["startup"])&&i.createElement("section",{className:"setting-section"},i.createElement(o,{filter:e})),this._selectedCategoryContains(["startup"])&&i.createElement("section",{className:"setting-section"},i.createElement(E,{restartBrowserDlg:this.showRestartDialog,filter:e})),this._selectedCategoryContains(["appearance"])&&i.createElement("section",{className:"setting-section"},i.createElement(a,{filter:e,platform:this.state.currentOS})),this._selectedCategoryContains(["appearance"])&&"mac"!==this.state.currentOS&&i.createElement("section",{className:"setting-section"},i.createElement(v,{filter:e})),this._selectedCategoryContains(["appearance"])&&"mac"!==this.state.currentOS&&i.createElement("section",{className:"setting-section"},i.createElement(f,{filter:e})),this._selectedCategoryContains(["addressbar"])&&i.createElement("section",{className:"setting-section"},i.createElement(m,{filter:e})),this._selectedCategoryContains(["start-page"])&&i.createElement("section",{className:"setting-section"},i.createElement(s,{filter:e})),this._selectedCategoryContains(["tab"])&&i.createElement("section",{className:"setting-section"},i.createElement(l,{filter:e,platform:this.state.currentOS})),this._selectedCategoryContains(["panel"])&&i.createElement("section",{className:"setting-section"},i.createElement(A,{filter:e})),this._selectedCategoryContains(["bookmarks"])&&i.createElement("section",{className:"setting-section"},i.createElement(p,{filter:e}),i.createElement(g,{filter:e})),this._selectedCategoryContains(["qc"])&&i.createElement("section",{className:"setting-section"},i.createElement(h,{filter:e})),this._selectedCategoryContains(["keyboard"])&&i.createElement("section",{className:"setting-section"},i.createElement(u,{filter:e,platform:this.state.currentOS,view:"editable"})),this._selectedCategoryContains(["mouse"])&&i.createElement("section",{className:"setting-section"},i.createElement(c,{filter:e,platform:this.state.currentOS})),this._selectedCategoryContains(["search"])&&i.createElement("section",{className:"setting-section"},i.createElement(I,{filter:e,showAsDlg:!1})),this._selectedCategoryContains(["privacy"])&&i.createElement("section",{className:"setting-section"},i.createElement(O,{filter:e,platform:this.state.currentOS})),this._selectedCategoryContains(["privacy"])&&i.createElement("section",{className:"setting-section"},i.createElement(T,{filter:e})),this._selectedCategoryContains(["cookies"])&&i.createElement("section",{className:"setting-section"},i.createElement(y,{showCookieManager:this.showCookieManager,filter:e})),this._selectedCategoryContains(["cookies"])&&i.createElement("section",{className:"setting-section"},i.createElement(b,{filter:e})),this._selectedCategoryContains(["downloads"])&&i.createElement("section",{className:"setting-section"},i.createElement(R,{filter:e,platform:this.state.currentOS})),this._selectedCategoryContains(["webpages"])&&i.createElement("section",{className:"setting-section"},i.createElement(B,{filter:e})),this._selectedCategoryContains(["webpages"])&&i.createElement("section",{className:"setting-section"},i.createElement(U,{filter:e})),this._selectedCategoryContains(["webpages"])&&i.createElement("section",{className:"setting-section"},i.createElement(V,{filter:e}),i.createElement(W,{filter:e})),this._selectedCategoryContains(["webpages"])&&i.createElement("section",{className:"setting-section"},i.createElement(F,{filter:e})),this._selectedCategoryContains(["sync"])&&!1&&i.createElement("section",{className:"setting-section"},i.createElement(w,{filter:e})),this._selectedCategoryContains(["network"])&&"linux"!==this.state.currentOS&&i.createElement("section",{className:"setting-section"},i.createElement(_,{filter:e})),null,this.state.restartDialogDiv&&i.createElement(S,{parentDiv:this.state.restartDialogDiv,onClose:this.closeDialog}),this.state.cookieManagerDiv&&i.createElement(C,{parentDiv:this.state.cookieManagerDiv,onCloseBM:this.closeCookieManager})))}});e.exports=K},function(e,t,n){"use strict";var i=n(1),r=n(9),o=n(4),a=n(2),s=n(11),l=i.createClass({displayName:"VivaldiDefaultBrowser",getInitialState:function(){return{isVivaldiDefault:!0,checkIfVivaldiIsDefaultBrowserStartup:!1}},componentWillMount:function(){r.importData.isVivaldiDefaultBrowser(function(e){this.setState({isVivaldiDefault:e&&e.toString?"true"===e.toString():!1})}.bind(this)),o.get("CHECK_DEFAULT_BROWSER_STARTUP",function(e){this.setState({checkIfVivaldiIsDefaultBrowserStartup:e})}.bind(this))},setVivaldiDefault:function(){r.importData.setVivaldiAsDefaultBrowser(function(e){this.setState({isVivaldiDefault:e&&e.toString?"true"===e.toString():!1})}.bind(this)),this.props.onClose&&this.props.onClose()},checkChange:function(){o.set({CHECK_DEFAULT_BROWSER_STARTUP:!this.state.checkIfVivaldiIsDefaultBrowserStartup}),this.setState({checkIfVivaldiIsDefaultBrowserStartup:!this.state.checkIfVivaldiIsDefaultBrowserStartup})},onClose:function(){this.props.onClose&&this.props.onClose()},render:function(){var e=i.createElement("div",{className:"setting-group"},i.createElement("h3",null,a("Set Vivaldi as Default Browser")),i.createElement("div",{className:"setting-single"},this.state.isVivaldiDefault?i.createElement("p",null,a("Vivaldi is set as your default browser.")):i.createElement("span",null,i.createElement("input",{type:"button",className:"primary",onClick:this.setVivaldiDefault,value:a("browser","Set as Default")}),this.props.showNotNow&&i.createElement("input",{type:"button",onClick:this.onClose,value:a("Not Now")}))),i.createElement("div",{className:"setting-single pad-top"},i.createElement("label",{title:a("Check if Vivaldi is default browser on startup")},i.createElement("input",{type:"checkbox",checked:this.state.checkIfVivaldiIsDefaultBrowserStartup,onChange:this.checkChange}),i.createElement("span",null,a("Check on Startup")))));return s(e,this.props.filter)}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(12),o=n(3),a=n(21),s=n(2),l=n(6),u=i.createClass({displayName:"EditableSpeedDialTitle",getInitialState:function(){return{isEditing:!1,title:this.props.bookmark.title}},getDefaultProps:function(){return{howToEdit:"click"}},componentDidMount:function(){this.props.needsInitialEdit&&this.enableEditing()},componentDidUpdate:function(e,t){t.isEditing===!1&&this.state.isEditing===!0&&this.refs.input&&this.refs.input.value&&(this.refs.input.setSelectionRange(0,this.refs.input.value.length),this.refs.input.focus())},_documentClickHandler:function(e){r.findDOMNode(this).contains(e.target)||this.refs.input.blur()},enableEditing:function(){this.state.isEditing===!1&&(document.addEventListener("click",this._documentClickHandler),this.setState({isEditing:!0,fallbackTitle:this.state.title}))},handleClick:function(e){this.props.onSelect&&(this.props.onSelect(),r.findDOMNode(this).focus()),"click"===this.props.howToEdit&&this.enableEditing()},handleDoubleClick:function(e){"doubleClick"===this.props.howToEdit&&this.enableEditing()},handleBlur:function(e){this.state.title||this.cancelEdit(),this.setState({isEditing:!1}),this.props.needsInitialEdit&&"function"==typeof this.props.setSpeedDialAwaitingEdit&&this.props.setSpeedDialAwaitingEdit(null),document.removeEventListener("click",this._documentClickHandler)},handleChange:function(e){var t=e.target.value;this.setState({title:t}),this.saveTitle(t)},handleKeyDown:function(e){var t=e.keyCode;if(13===t)this.refs.input.blur();else{if(27!==t)return;this.cancelEdit(),this.refs.input.blur()}e.preventDefault()},deleteBookmark:function(){o.bookmarks.remove(this.props.bookmark.id,function(){o.runtime.lastError&&console.warn("The computer tried to update a bookmark, but The Bookmark API said no: ",o.runtime.lastError.message)})},removeSpeedDial:function(){o.bookmarks.update(this.props.bookmark.id,{speeddial:!1},function(){o.runtime.lastError&&console.warn("The computer tried to update a speeddial, but The Bookmark API said no: ",o.runtime.lastError.message)})},cancelEdit:function(){this.props.needsInitialEdit?this.deleteBookmark():(this.setState({title:this.state.fallbackTitle}),this.saveTitle(this.state.fallbackTitle))},saveTitle:function(e){o.bookmarks.update(this.props.bookmark.id,{title:e},function(){o.runtime.lastError&&console.warn("The computer tried to update a bookmark, but The Bookmark API said no: ",o.runtime.lastError.message)})},getContextMenuItems:function(){return[{name:s("Remove"),handler:this.removeSpeedDial}]},render:function(){var e=l({"editable-title-container":!0,edit:this.state.isEditing});return i.createElement("span",{className:e,onContextMenu:a(this.getContextMenuItems)},i.createElement("button",{className:this.props.className,tabIndex:"button-title"===this.props.className?-1:null,onClick:this.handleClick,title:this.state.title,onDoubleClick:this.handleDoubleClick},this.state.title),this.state.isEditing&&i.createElement("input",{type:"text",ref:"input",value:this.state.title,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onChange:this.handleChange}))}});e.exports=u},function(e,t,n){"use strict";var i=n(2),r=Object.freeze({SpeedDial:i("title","Start Page"),Bookmarks:i("Bookmarks"),History:i("History")});e.exports=r},function(e,t,n){(function(t){"use strict";var i=n(1),r=n(2),o=i.createClass({displayName:"AudioIcon",propTypes:{animated:i.PropTypes.bool,color:i.PropTypes.string.isRequired,mode:i.PropTypes.oneOf(["idle","playing","muting"]).isRequired},getDefaultProps:function(){return{color:"#ffffff",mode:"idle"}},componentDidMount:function(){this.renderIcon(this.props.mode,this.props.color)},componentWillReceiveProps:function(e,n){var i=this;this.props!==e&&this.isMounted()&&t.nextTick(function(){i.renderIcon(e.mode,e.color)})},renderIcon:function(e,t){function n(e,t){var n=t-e,i=e+s*n;return i}function i(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}var r,o=this.refs.canvas;if(o){var a=o.getContext("2d"),s=0,l=window.requestAnimationFrame||window.webkitRequestAnimationFrame;i(t)?r=i(t):console.error("Bad audio icon color (expected 6-digit HEX form):",t);var u=function(){a.clearRect(0,0,o.width,o.height),a.beginPath(),a.moveTo(4,12),a.lineTo(10,12),a.lineTo(18,4),a.lineTo(18,28),a.lineTo(10,20),a.lineTo(4,20),a.closePath(),a.lineWidth=0,a.fillStyle=t,a.fill()},c=function(){a.clearRect(0,0,o.width,o.height),a.beginPath(),a.moveTo(2,27),a.lineTo(5,30),a.lineTo(28,7),a.lineTo(25,4),a.closePath(),a.lineWidth=0,a.fillStyle=t,a.fill(),a.beginPath(),a.moveTo(4,12),a.lineTo(10,12),a.lineTo(18,4),a.lineTo(18,8),a.lineTo(6,20),a.lineTo(4,20),a.closePath(),a.lineWidth=0,a.fillStyle=t,a.fill(),a.beginPath(),a.moveTo(14,24),a.lineTo(18,20),a.lineTo(18,28),a.closePath(),
a.lineWidth=0,a.fillStyle=t,a.fill()},A=function(){a.clearRect(0,0,o.width,o.height),u(),s=s>1?0:Math.ceil(100*(s+.011))/100,a.beginPath(),a.moveTo(n(18,22),n(12,4)),a.quadraticCurveTo(n(20,32),16,n(18,22),n(20,28)),a.lineTo(n(20,24),n(22,30)),a.quadraticCurveTo(n(24,34),16,n(20,24),n(10,2)),a.closePath(),a.lineWidth=0,a.fillStyle="rgba("+r.r+","+r.g+","+r.b+","+(.7>s?1:(1-s)/.3)+")",a.fill(),"playing"===this.props.mode&&this.props.animated?l(A):d(this.props.mode)}.bind(this),d=function(e){"playing"===e?this.props.animated?A():u():"muting"===e?c():u()}.bind(this);d(e)}},render:function(){var e="";return"playing"===this.props.mode?e=r("Mute tab audio"):"muting"===this.props.mode&&(e=r("Unmute tab audio")),i.createElement("canvas",{className:"audioicon",ref:"canvas",width:"32",height:"32",title:e})}});e.exports=o}).call(t,n(22))},function(e,t,n){"use strict";var i=n(1),r=n(36),o=n(40),a=n(23),s=n(58),l=n(7),u=n(4),c=n(2),A=n(26),d=n(3),h=n(6),p=n(21),f=n(9),m=["VIVALDI_MENU_POSITION"],g=-1,v=i.createClass({displayName:"TitleBar",mixins:[l],hasMenuContent:!1,activeShortcuts:[],getInitialState:function(){return{altHover:!1,macColorVariant:1}},componentWillMount:function(){var e=this;"mac"===this.props.currentOS&&f.settings.getPreference("vivaldi.apple_aqua_color_variant",function(t){e.setState({macColorVariant:t.preferenceValue.number})}),"mac"!==this.props.currentOS&&(u.get(["VIVALDI_MENU_POSITION"],function(e){this.hasMenuContent="vivaldi"===e.VIVALDI_MENU_POSITION,this._setupShortcuts()}.bind(this)),u.addListener("VIVALDI_MENU_POSITION",this._onMenuPositionChanged),r.addChangeListener(this._onCommandStoreChanged),window.addEventListener("keydown",this.onKeyDown,!0),window.addEventListener("keyup",this.onKeyUp,!0))},componentWillUnmount:function(){var e=this;"mac"!==this.props.currentOS&&(u.removeListener("VIVALDI_MENU_POSITION",this._onMenuPositionChanged),r.addChangeListener(this._onCommandStoreChanged),window.removeEventListener("keydown",this.onKeyDown,!0),window.removeEventListener("keyup",this.onKeyUp,!0),this.activeShortcuts.forEach(function(t){t.shortcut&&A.unbind(t.shortcut,e.showSubMenu)}))},_onCommandStoreChanged:function(){"mac"!==this.props.currentOS&&this._setupShortcuts()},_onMenuPositionChanged:function(e,t){if(t){var n="vivaldi"===t;this.hasMenuContent!==n&&(this.hasMenuContent=n,this._setupShortcuts())}},_setupShortcuts:function(){var e=this;if(this.activeShortcuts.forEach(function(t){t.shortcut&&A.unbind(t.shortcut,e.showSubMenu)}),this.activeShortcuts=[],this.hasMenu()&&"mac"!==this.props.currentOS){for(var t=Object.keys(r.getCommandShortcuts()).filter(function(e){return e.includes("alt+")&&5===e.length}),n=[],i=[],o=void 0,a=r.getVerticalMenu(),s=0;s<a.length;s++){var l=a[s];if(void 0!==l.name&&"---"!==l.name&&l.mnemonic!==!1){var u=l.name.indexOf("&");-1!==u&&u+1<l.name.length&&(o=l.name.toUpperCase().charCodeAt(u+1),-1===n.indexOf(o)&&n.push(o))}}for(var s=0;s<a.length;s++){var l=a[s];if(void 0!==l.name)if("---"!==l.name&&l.mnemonic!==!1){var c="";if(n.length>0){var u=l.name.indexOf("&");if(-1!==u&&u+1<l.name.length){o=l.name.toUpperCase().charCodeAt(u+1),c="alt+"+String.fromCharCode(o).toLowerCase(),t.includes(c)?i.push({index:s,keyCode:o,mnemonicOffset:u}):(i.push({index:s,shortcut:c,keyCode:o,mnemonicOffset:u}),t.push(c));continue}}for(var d=!1,h=0;!d;)if(o=l.name.toUpperCase().charCodeAt(h),-1===n.indexOf(o))if(c="alt+"+String.fromCharCode(o).toLowerCase(),t.includes(c)){if(l.name.length===h+1)break;h+=1}else d=!0;else{if(l.name.length===h+1)break;h+=1}d?(i.push({index:s,shortcut:c,keyCode:o,mnemonicOffset:h}),t.push(c)):i.push({index:s})}else i.push({index:s});else i.push({index:s})}this.activeShortcuts=i,this.activeShortcuts.forEach(function(t){t.shortcut&&A.bind(t.shortcut,e.showSubMenu)})}},onKeyDown:function(e){e.repeat!==!0&&(g===a.KEY_ALT&&this.stopMenuDetection(),g=e.keyCode,g===a.KEY_ALT&&(window.addEventListener("mousedown",this.stopMenuDetection),window.addEventListener("mouseup",this.stopMenuDetection),window.addEventListener("mousemove",this.stopMenuDetection),window.addEventListener("wheel",this.stopMenuDetection)))},onKeyUp:function(e){g===a.KEY_ALT&&(this.stopMenuDetection(),e.keyCode===a.KEY_ALT&&this.hasMenu()&&this.showMenu(e))},stopMenuDetection:function(){g=-1,window.removeEventListener("mousedown",this.stopMenuDetection),window.removeEventListener("mouseup",this.stopMenuDetection),window.removeEventListener("mousemove",this.stopMenuDetection),window.removeEventListener("wheel",this.stopMenuDetection)},hasMenu:function(){return this.hasMenuContent&&!window.isPopup()},close:function(e){e.stopPropagation(),s.closeWindow()},minimize:function(){this.props.onNoVisualBlur(),d.app.window.current().minimize()},maximize:function(e){var t=d.app.window.current();if("mac"!==this.props.currentOS)t.isMaximized()?t.restore():t.maximize();else{var n=e.altKey;!e||1!==e.button&&n!==!0||t.isFullscreen()?t.isFullscreen()?t.restore():t.fullscreen():t.isMaximized()?t.restore():t.maximize()}},keyDownListener:function(e){e.altKey&&this.setState({altHover:!0})},keyUpListener:function(e){"Alt"===e.keyIdentifier&&this.setState({altHover:!1})},handleMouseEnter:function(e){e.altKey&&this.setState({altHover:!0}),document.addEventListener("keydown",this.keyDownListener),document.addEventListener("keyup",this.keyUpListener)},handleMouseLeave:function(e){this.setState({altHover:!1}),document.removeEventListener("keydown",this.keyDownListener),document.removeEventListener("keyup",this.keyUpListener)},showMenu:function(e){return p(r.getVerticalMenu(this.props.pages),null,"bottom",this.refs.vivaldiButton,null,null,this.activeShortcuts)(e)},showSubMenu:function(e){this.activeShortcuts.forEach(function(t){if(t.shortcut&&t.keyCode===e.keyCode){var n=r.getVerticalMenu(this.props.pages),i=n[t.index];return void p(n,null,"bottom",this.refs.vivaldiButton,null,i,this.activeShortcuts)(e)}}.bind(this))},render:function(){var e=this.props.title||"Vivaldi",t="top"!==this.props.tabPosition?"tabless":null,r=this.props.currentOS,o=d.app.window.current().isFullscreen(),a=window.navigator.appVersion.indexOf("Windows NT 10")>0?"win10":r,s=void 0,l=void 0,u=void 0;switch(a){case"linux":case"win":s=n(540),u=n(542),l=n(541);break;case"win10":s=n(543),u=n(545),l=n(544);break;case"mac":s=n(500),u=n(502),l=n(501)}return i.createElement("div",{ref:"titlebar",id:"titlebar",className:t},"mac"!==r&&this.hasMenu()&&i.createElement("button",{ref:"vivaldiButton",className:"vivaldi",onMouseDown:this.showMenu,title:c("Menu")},i.createElement("span",{dangerouslySetInnerHTML:{__html:n(539)}})),i.createElement("div",{className:h({"window-buttongroup":!0,"alt-hover":this.state.altHover&&!o,graphite:6===this.state.macColorVariant}),onMouseEnter:"mac"===r?this.handleMouseEnter:null,onMouseLeave:"mac"===r?this.handleMouseLeave:null},i.createElement("button",{tabIndex:"-1",className:"window-minimize",onClick:this.minimize,dangerouslySetInnerHTML:{__html:u}}),i.createElement("button",{tabIndex:"-1",className:"window-maximize",onClick:this.maximize,dangerouslySetInnerHTML:{__html:l}}),i.createElement("button",{tabIndex:"-1",className:"window-close",onClick:this.close,dangerouslySetInnerHTML:{__html:s}})),"top"!==this.props.tabPosition&&(this.hasMenu()||"mac"===r)&&i.createElement("div",{id:"pagetitle"},e))}});e.exports=o(v,m)},function(e,t,n){"use strict";var i,r,o=n(36),a=n(19),s=n(432),l={_onCommandStoreChanged:function(){i=o.getHorizontalMenu(a.getPages()),s(i)("menubar")},_onPageStoreChanged:function(){if(r){var e=o.getOpenTabsMenuList(a.getPages());i!==e&&(i=e,s(i)("tabs"))}},onBlur:function(){r=!1},onFocus:function(){r=!0,i=o.getHorizontalMenu(a.getPages()),s(i)("menubar")},onLastWindowClosed:function(){i=o.getHorizontalMenu(),s(i)("menubar")},init:function(){o.addChangeListener(this._onCommandStoreChanged),a.addChangeListener(l._onPageStoreChanged)}};e.exports=l},function(e,t,n){"use strict";var i=n(3),r=navigator.userAgent.replace(/Vivaldi/,"Viv"),o=navigator.userAgent.replace(/Vivaldi.*/,"Vivaldi/1.0."),a=navigator.userAgent.replace(/Vivaldi.*/,""),s=[{id:"VB9275UAALTER",urlMatches:"[docs|www]*.google.com|[fonts|www]*.gstatic.com/[^?]*",schemes:["https"],headerName:"User-Agent",headerValue:r},{id:"NETFLIX",urlMatches:".netflix.com/",schemes:["http","https"],headerName:"User-Agent",headerValue:o},{id:"gmaildisposition",urlMatches:"mail-attachment.googleusercontent.com",schemes:["https"],headerName:"User-Agent",headerValue:a}];"MacIntel"===navigator.platform&&s.push({id:"VB12544",urlMatches:"www.facebook.com/",schemes:["https"],headerName:"User-Agent",headerValue:navigator.userAgent+" OPR/12/ForFacebookWithLove"});var l=[];s.forEach(function(e){var t=new i.declarativeWebRequest.RequestMatcher({url:{urlEquals:e.urlEquals,hostEquals:e.hostEquals,schemes:e.schemes,urlMatches:e.urlMatches},resourceType:["main_frame","sub_frame","stylesheet","script","image","object","xmlhttprequest"],stages:["onBeforeSendHeaders"]}),n={id:e.id,conditions:[t],actions:[new i.declarativeWebRequest.SetRequestHeader({name:e.headerName,value:e.headerValue})]};l.push(n)}),e.exports={uaspoofRules:l,uaspoofRuleIds:l.map(function(e){return e.id})}},function(e,t,n){"use strict";function i(e){u=o.List(e),c.emitChange()}var r=n(16).EventEmitter,o=n(29),a=n(8),s=n(5),l="change",u=o.List(),c=Object.assign({},r.prototype,{getBackgroundTasks:function(e){return u},emitChange:function(){this.emit(l)},addChangeListener:function(e){this.on(l,e)},removeChangeListener:function(e){this.removeListener(l,e)}});a.register(function(e){var t=e.action;switch(t.actionType){case s.BACKGROUND_TASKS_SET:i(t.tasks);break;default:return!0}}),e.exports=c},function(e,t,n){"use strict";function i(e,t,n){A[e]=c.Map({id:t,url:n})}function r(e,t,n){var i=e.get("id");A[i]&&(A[i]=c.Map({id:t,url:n}))}function o(e,t){var n=e.get("id");A[n]&&(A[n]=void 0)}function a(e){A[e]&&(A[e]=void 0)}var s=n(8),l=n(5),u=n(16).EventEmitter,c=n(29),A={},d=Object.assign({},u.prototype,{getQueue:function(e){return A[e.get("id")]||c.Map()},emitChange:function(){this.emit(l.CHANGED)},addChangeListener:function(e){this.on(l.CHANGED,e)},removeChangeListener:function(e){this.removeListener(l.CHANGED,e)}});s.register(function(e){var t=e.action;switch(t.actionType){case l.BOOKMARK_THUMBNAIL_QUEUE_ADD_ITEM:i(t.pageId,t.id,t.url),d.emitChange();break;case l.BOOKMARK_THUMBNAIL_QUEUE_UPDATE_ITEM:r(t.page,t.id,t.url),d.emitChange();break;case l.BOOKMARK_THUMBNAIL_QUEUE_REMOVE_ITEM:o(t.page,t.id),d.emitChange();break;case l.CHROME_TABS_REMOVED:a(t.tabId),d.emitChange();break;default:return!0}return!0}),e.exports=d},function(e,t,n){"use strict";function i(e){c=u.fromJS(e)}function r(e,t){var n=e.get("id"),i=A[n]||u.Map();A[n]=i.set(t,!0)}function o(e,t){var n=e.get("id");A[n]&&(A[n]=A[n]["delete"](t))}var a=n(8),s=n(5),l=n(16).EventEmitter,u=n(29),c=u.List(),A={},d=Object.assign({},l.prototype,{getContentScripts:function(e){return c},getPageScripts:function(e){return A[e.get("id")]||u.Map()},emitChange:function(){this.emit(s.CHANGED)},addChangeListener:function(e){this.on(s.CHANGED,e)},removeChangeListener:function(e){this.removeListener(s.CHANGED,e)}});a.register(function(e){var t=e.action;switch(t.actionType){case s.CONTENT_SCRIPT_LOAD:i(t.contentScripts),d.emitChange();break;case s.CONTENT_SCRIPT_PAGE_ADD:r(t.page,t.script),d.emitChange();break;case s.CONTENT_SCRIPT_PAGE_REMOVE:o(t.page,t.script),d.emitChange();break;default:return!0}return!0}),e.exports=window.ContentScriptStore=d},function(e,t,n){"use strict";function i(e){u=e[0]?e[0]:l,c.emitChange()}var r=n(8),o=n(5),a=n(16).EventEmitter,s="change",l={children:[]},u=l,c=Object.assign({},a.prototype,{getNotesRoot:function(){return u},emitChange:function(){this.emit(s)},addChangeListener:function(e){this.on(s,e)},removeChangeListener:function(e){this.removeListener(s,e)}});r.register(function(e){var t=e.action;switch(t.actionType){case o.NOTES_INIT_ACTION:i(t.notes);break;default:return!0}}),e.exports=window.NoteStore=c},function(e,t,n){"use strict";function i(e,t){var n=e||E;return e&&Array.isArray(e)&&e.length>=v&&(n=f.take(e,v)),n&&t&&(n=n.filter(function(e){return e!==t})),n}function r(e){if("function"!=typeof e)throw TypeError("loadTypedHistory: callback required");d.get("TYPED_SEARCH_HISTORY",function(t){var n=E;try{t&&(n=JSON.parse(t))}catch(i){console.warn("Unable to parse typed history JSON. TODO: fix!",i)}n&&e(n)})}function o(e){var t=e.page.get("id");if(e.state){var n=e.state.searchEngine;n&&"undefined"!=typeof n.Id&&d.getSync("CURRENT_SEARCH_ENGINE")!==n.Id&&d.set({CURRENT_SEARCH_ENGINE:n.Id},function(){return _.emitChanged()})}m[t]=Object.assign(m[t]||{},f.omit(e.state,"searchEngine")),_.emitChanged()}function a(e){m[e.tabId]=void 0}function s(e){r(function(t){var n=i(t,e.query);n=[e.query].concat(n),d.set({TYPED_SEARCH_HISTORY:JSON.stringify(n)}),g=n,_.emitChanged()})}function l(e){var t=g.filter(function(t){return e!==t});d.set({TYPED_SEARCH_HISTORY:JSON.stringify(t)}),g=t,_.emitChanged()}function u(){d.remove("TYPED_SEARCH_HISTORY"),g=[],_.emitChanged()}var c=n(8),A=n(5),d=n(4),h=n(16),p=h.EventEmitter,f=n(17),m={},g=[],v=30,E=[],_=Object.assign({},p.prototype,{emitChanged:function(){this.emit(A.CHANGED)},getSearchEngine:function(e){return f.find(d.getSync("SEARCH_ENGINES"),{Id:d.getSync("CURRENT_SEARCH_ENGINE")})},getSearchText:function(e){var t=m[e.get("id")];return t?t.editText||"":null},getTypedSearchHistory:function(){return g}});c.register(function(e){var t=e.action;switch(t.actionType){case A.SEARCH_FIELD_SET_STATE:o(t);break;case A.SEARCH_FIELD_ADD_TYPED_HISTORY:s(t);break;case A.CHROME_TABS_REMOVED:a(t);break;case A.SEARCH_FIELD_DELETE_TYPED_HISTORY:l(t.query);break;case A.NAVIGATION_HISTORY_ALL_DELETED:u()}}),setTimeout(function(){return r(function(e){g=e,_.emitChanged()})},2e3),e.exports=_},function(e,t,n){"use strict";var i=n(8),r=n(5),o=n(16),a=o.EventEmitter,s=Object.assign({},a.prototype,{emitChanged:function(){this.emit(r.CHANGED)},getSearchSuggestURL:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return t.replace(/\%s/,encodeURIComponent(e))}});i.register(function(e){var t=e.action;switch(t.actionType){case r.SEARCH_SUGGEST_RESULT:var n=JSON.parse(t.json)[1];s.emit(r.SEARCH_SUGGEST_RESULT,{query:t.query,suggestions:n})}}),e.exports=s},function(e,t,n){"use strict";var i=n(8),r=n(5),o=n(16).EventEmitter,a="change",s=Object.assign({},o.prototype,{emitChangeParam:function(e){this.emit(a,e)},emitChange:function(){this.emit(a)},addChangeListener:function(e){this.on(a,e)},removeChangeListener:function(e){this.removeListener(a,e)}});i.register(function(e){var t=e.action;switch(t.actionType){case r.TAB_NEW_TAB:s.emitChangeParam({action:"newTab",url:t.url});break;case r.TAB_NEW_BACKGROUND_TAB:s.emitChangeParam({action:"newBackgroundTab",url:t.url});break;case r.TAB_CLOSE_TAB:s.emitChangeParam({action:"closeTab"});break;case r.TAB_CLOSE_ALL_BUT_ACTIVE_TAB:s.emitChangeParam({action:"closeAllButActiveTab"});break;case r.TAB_SWITCH_BACK_SETTING:s.emitChangeParam({action:"switchTabBackBySetting",maybeEvent:t.maybeEvent});break;case r.TAB_SWITCH_FORWARD_SETTING:s.emitChangeParam({action:"switchTabForwardBySetting",maybeEvent:t.maybeEvent});break;case r.TAB_SWITCH_BACK_HISTORY:s.emitChangeParam({action:"switchTabBackByHistory",maybeEvent:t.maybeEvent});break;case r.TAB_SWITCH_FORWARD_HISTORY:s.emitChangeParam({action:"switchTabForwardByHistory",maybeEvent:t.maybeEvent});break;case r.TAB_SWITCH_BACK_ORDER:s.emitChangeParam({action:"switchTabBackByOrder",maybeEvent:t.maybeEvent});break;case r.TAB_SWITCH_FORWARD_ORDER:s.emitChangeParam({action:"switchTabForwardByOrder",maybeEvent:t.maybeEvent});break;case r.TAB_UNDO_RECENTLY_CLOSED:s.emitChangeParam({action:"reopenRecentlyClosed"});break;case r.TAB_VIEW_PAGE_SOURCE:s.emitChangeParam({action:"viewPageSource"});break;case r.TAB_STACK_UNTILE:s.emitChangeParam({action:"stackUntile"});break;case r.TAB_STACK_TILE_GRID:s.emitChangeParam({action:"stackTileGrid"});break;case r.TAB_STACK_TILE_HORIZONTAL:s.emitChangeParam({action:"stackTileHorizontal"});break;case r.TAB_STACK_TILE_VERTICAL:s.emitChangeParam({action:"stackTileVertical"});break;default:return!0}return!0}),e.exports=s},function(e,t,n){"use strict";function i(e){return e in o?o[e]:e}var r=n(2),o={"Invalid URL.":r("Invalid URL."),"Nickname exists.":r("Nickname exists.")};e.exports=i},function(e,t,n){"use strict";var i,r=n(3),o=["be","gl","is","mk","hy","nn"];i=-1===o.indexOf(r.i18n.getUILanguage())?[r.i18n.getUILanguage(),"en-US"]:["en-US"];var a=new Intl.DateTimeFormat(i,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}),s=new Intl.DateTimeFormat(i,{month:"short",day:"numeric",hour:"numeric",minute:"numeric"});e.exports={dateTimeLong:function(e){return a.format(e)},dateTimeShort:function(e){return s.format(e)}}},function(e,t){"use strict";var n=function(e){return e&&(e.ctrlKey||e.altKey||e.metaKey)},i=function(e,t){var n={ctrlKey:[17],altKey:[18],metaKey:[91,93]};return Object.keys(n).filter(function(t){return e[t]}).filter(function(e){return-1!==n[e].indexOf(t.keyCode)}).some(Boolean)},r=function(){var e=!1;return function(t,r,o){return o=o||null,n(t)?void(e!==!0&&(e=!0,document.addEventListener("keyup",function a(n){i(t,n)&&(e=!1,r.call(o,n),document.removeEventListener("keyup",a))}))):void r.call(o)}}();t.modifierIsUp=i,t.modifierUpListener=r,t.hasModifier=n},function(e,t,n){"use strict";var i=n(29),r=["id","index","windowId","openerTabId","active","pinned","audible","url","title","favIconUrl","incognito","sessionId","discarded"],o=function(e){return a(i.Map(),e)},a=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;t>o;o++)n[o-1]=arguments[o];return n.reduce(function(e,t){var n=Object.keys(t).reduce(function(e,n){return-1!==r.indexOf(n)?e.set(n,t[n]):e},e);if(t.extData)try{n=n.set("extData",(n.extData||i.Map()).merge(JSON.parse(t.extData)))}catch(o){}return n},e.asMutable()).asImmutable()};t.tabToPage=o,t.updatePage=a},function(e,t,n){"use strict";var i=n(3),r=function(e,t){i.windows.get(e,function(n){var r=n.extData&&JSON.parse(n.extData)||{},o=JSON.stringify(Object.assign(r,t));i.windows.update(e,{extData:o})})};e.exports=r},function(e,t,n){"use strict";var i=n(3),r=function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];return new Promise(function(t,r){e.apply(void 0,n.concat([function(){i.runtime.lastError?r(i.runtime.lastError):t.apply(void 0,arguments)}]))})}};e.exports=r},function(e,t){"use strict";function n(e){try{return decodeURI(e)}catch(t){return e}}e.exports=n},function(e,t){e.exports="PNG\r\n\n\x00\x00\x00\rIHDR\x00\x00\x00\x00\x00\x00\b\x00\x00\x00µú7ê\x00\x00\x000IDATxcøÏ«Àø?2dàÀ¢\x00¬J\b)\x00Bü\nÀM®\n0!ñ\x00G¹N\bH·4v\x00\x00\x00\x00IEND®B`"},function(e,t){e.exports="PNG\r\n\n\x00\x00\x00\rIHDR\x00\x00\x00\x00\x00\x00\b\x00\x00\x00µú7ê\x00\x00\x00©IDATxcøÏVÀ`ÃPÃÐ\x00)\fÌ\nÒ\"\fìPÅà© A](	Â\f|\f¹\fµH°Á¨ x£ùÐ[¡¤@\x00ûABù`¢¸!XAH0Ê!`,\bGÈÆÉpX²²'# \b»(è©ë©«0@D¤ ÏTP;ä2#hÀ2Ç&\x00¥ñÄÍ­³\x00\x00\x00\x00IEND®B`"},function(e,t){e.exports=function(e,t,n,i,r){var o,a;if(void 0===i)i=0;else if(i=0|i,0>i||i>=e.length)throw new RangeError("invalid lower bound");if(void 0===r)r=e.length-1;else if(r=0|r,i>r||r>=e.length)throw new RangeError("invalid upper bound");for(;r>=i;)if(o=i+(r-i>>1),a=+n(e[o],t),0>a)i=o+1;else{if(!(a>0))return o;r=o-1}return~i}},function(e,t,n){function i(e,t){var n=e[t];return r(n)?n:void 0}var r=n(477);e.exports=i},function(e,t,n){function i(e,t){return r?void 0!==e[t]:a.call(e,t)}var r=n(100),o=Object.prototype,a=o.hasOwnProperty;e.exports=i},function(e,t,n){var i=n(480).runInContext();e.exports=n(474)(i,i)},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\n  <circle cx="8" cy="8" r="6"/>\n  <path d="M7.5 5.5v3m0 0h3" stroke-linecap="square"/>\n</svg>'},function(e,t){e.exports='<svg width="11" height="6" viewBox="0 0 11 6" xmlns="http://www.w3.org/2000/svg">\n  <path d="M5.5.133l.11-.11 4.456 4.456-1.498 1.497L5.5 2.91 2.432 5.976.934 4.48 5.39.022l.11.11z" />\n</svg>\n'},function(e,t){e.exports='<svg viewBox="0 0 100 78" xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <linearGradient x1="10%" y1="97%" x2="93%" y2="50%" id="a">\n      <stop class="stop1" stop-color="#F7F7F7" offset="0%"/>\n      <stop class="stop2" stop-color="#F6F6F6" offset="82%"/>\n      <stop class="stop3" stop-color="#F2F2F2" offset="83%"/>\n      <stop class="stop4" stop-color="#F1F1F1" offset="100%"/>\n    </linearGradient>\n  </defs>\n  <g fill="none">\n    <path class="folderoutline" stroke="#EAEAEA" fill="url(#a)" d="M0 7h100v71h-100z"/>\n    <path d="M38.672 5l-1.73-3.782c0-.67-1.025-1.218-1.88-1.218h-35.01v8.018h40l-.008-.018h59.956v-3h-61.328z" class="folder-tab-color"/>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26">\n  <path d="M13 4l-10.5 10h3.5v8h14v-8h3.5l-10.5-10zm5 16h-3v-5h-4v5h-3v-8.469l5-4.731 5 4.731v8.469z" />\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26">\n  <path d="M5 8v11h16V8H5zm8 8l-6-4.3V10l6 4.3 6-4.3v1.5L13 16z"/>\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-284 407.9 26 26">\r\n  <path d="M-276 425.9h2.5l7-7-2.5-2.4-7 6.9v2.5zm11.8-9.3c.3-.3.3-.7 0-.9l-1.5-1.5c-.3-.3-.7-.3-.9 0l-1.2 1.2 2.5 2.5 1.1-1.3zm-13.8 11.3h12v-1h-12v1z"/>\r\n</svg>'},function(e,t){e.exports='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n	<path d="M8 11l4-6H4l4 6z" />\n</svg>'},function(e,t,n){var i,r,o;!function(a,s){r=[t,e,n(1),n(12)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(this,function(e,t,n,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;s=u=l=void 0,i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0}},u=r(n),c=r(i),A=c["default"].findDOMNode,d=function(e,t){for(var n in e)if(e[n]!==t[n])return!1;return!0},h=function(e,t){return d(e,t)&&d(t,e)},p={x:"clientWidth",y:"clientHeight"},f={x:"clientTop",y:"clientLeft"},m={x:"innerWidth",y:"innerHeight"},g={x:"offsetWidth",y:"offsetHeight"},v={x:"offsetLeft",y:"offsetTop"},E={x:"overflowX",y:"overflowY"},_={x:"scrollLeft",y:"scrollTop"},S={x:"width",y:"height"},y=function(e){function t(e){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e);var n=this.props,i=n.initialIndex,r=n.length,a=n.pageSize,s=1,u=this.constrainFrom(i,r,s),c=this.constrainSize(a,r,a,u);this.state={from:u,size:c,itemsPerRow:s},this.cache={}}return a(t,e),s(t,null,[{key:"displayName",value:"ReactList",enumerable:!0},{key:"propTypes",value:{axis:n.PropTypes.oneOf(["x","y"]),initialIndex:n.PropTypes.number,itemSizeGetter:n.PropTypes.func,itemRenderer:n.PropTypes.func,itemsRenderer:n.PropTypes.func,length:n.PropTypes.number,pageSize:n.PropTypes.number,threshold:n.PropTypes.number,type:n.PropTypes.oneOf(["simple","variable","uniform"]),useTranslate3d:n.PropTypes.bool},enumerable:!0},{key:"defaultProps",value:{axis:"y",initialIndex:null,itemSizeGetter:null,itemRenderer:function(e,t){return u["default"].createElement("div",{key:t},e)},itemsRenderer:function(e,t){return u["default"].createElement("div",{ref:t},e)},length:0,pageSize:10,threshold:100,type:"simple",useTranslate3d:!1},enumerable:!0}]),s(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state,n=t.itemsPerRow,i=t.from,r=t.size,o=e.length,a=e.pageSize;i=this.constrainFrom(i,o,n),r=this.constrainSize(r,o,a,i),this.setState({from:i,size:r})}},{key:"componentDidMount",value:function(){this.scrollParent=this.getScrollParent(),this.updateFrame=this.updateFrame.bind(this),window.addEventListener("resize",this.updateFrame),this.scrollParent.addEventListener("scroll",this.updateFrame),this.updateFrame();var e=this.props.initialIndex;null!=e&&(this.afId=requestAnimationFrame(this.scrollTo.bind(this,e)))}},{key:"shouldComponentUpdate",value:function(e,t){return!h(e,this.props)||!h(t,this.state)}},{key:"componentDidUpdate",value:function(){this.updateFrame()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateFrame),this.scrollParent.removeEventListener("scroll",this.updateFrame),cancelAnimationFrame(this.afId)}},{key:"getOffset",value:function(e){var t=this.props.axis,n=e[f[t]]||0,i=v[t];do n+=e[i]||0;while(e=e.offsetParent);return n}},{key:"getScrollParent",value:function(){for(var e=A(this),t=E[this.props.axis];e=e.parentElement;)switch(window.getComputedStyle(e)[t]){case"auto":case"scroll":case"overlay":return e}return window}},{key:"getScroll",value:function(){var e=this.scrollParent,t=this.props.axis,n=_[t],i=e===window?document.body[n]:e[n],r=A(this);return i-(this.getOffset(r)-this.getOffset(e))}},{key:"setScroll",value:function(e){var t=this.scrollParent;return t===window?window.scrollTo(0,this.getOffset(A(this))+e):void(t[_[this.props.axis]]+=e-this.getScroll())}},{key:"getViewportSize",value:function(){var e=this.scrollParent,t=this.props.axis;return e===window?window[m[t]]:e[p[t]]}},{key:"getStartAndEnd",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props.threshold:arguments[0],t=this.getScroll()-e,n=t+this.getViewportSize()+2*e;return{start:t,end:n}}},{key:"getItemSizeAndItemsPerRow",value:function(){var e=A(this.items).children;if(!e.length)return{};var t=e[0],n=this.state.itemSize,i=this.props.axis,r=t[g[i]],o=Math.abs(r-n);if((isNaN(o)||o>=1)&&(n=r),!n)return{};for(var a=v[i],s=t[a],l=1,u=e[l];u&&u[a]===s;u=e[l])++l;return{itemSize:n,itemsPerRow:l}}},{key:"updateFrame",value:function(){switch(this.props.type){case"simple":return this.updateSimpleFrame();case"variable":return this.updateVariableFrame();case"uniform":return this.updateUniformFrame()}}},{key:"updateSimpleFrame",value:function(){var e=this.getStartAndEnd(),t=e.end,n=A(this.items).children,i=0;if(n.length){var r=this.props.axis,o=n[0],a=n[n.length-1];i=this.getOffset(a)+a[g[r]]-this.getOffset(o)}if(!(i>t)){var s=this.props,l=s.pageSize,u=s.length;this.setState({size:Math.min(this.state.size+l,u)})}}},{key:"updateVariableFrame",value:function(){this.props.itemSizeGetter||this.cacheSizes();for(var e=this.getStartAndEnd(),t=e.start,n=e.end,i=this.props,r=i.length,o=i.pageSize,a=0,s=0,l=0,u=r-1;u>s;){var c=this.getSizeOf(s);if(isNaN(c)||a+c>t)break;a+=c,++s}for(var A=r-s;A>l&&n>a;){var c=this.getSizeOf(s+l);if(isNaN(c)){l=Math.min(l+o,A);break}a+=c,++l}this.setState({from:s,size:l})}},{key:"updateUniformFrame",value:function(){var e=this.getItemSizeAndItemsPerRow(),t=e.itemSize,n=e.itemsPerRow;if(t&&n){var i=this.props,r=i.length,o=i.pageSize,a=this.getStartAndEnd(),s=a.start,l=a.end,u=this.constrainFrom(Math.floor(s/t)*n,r,n),c=this.constrainSize((Math.ceil((l-s)/t)+1)*n,r,o,u);return this.setState({itemsPerRow:n,from:u,itemSize:t,size:c})}}},{key:"getSpaceBefore",value:function(e){var t=this.state,n=t.itemSize,i=t.itemsPerRow;if(n)return Math.ceil(e/i)*n;for(var r=0,o=0;e>o;++o){var a=this.getSizeOf(o);if(isNaN(a))break;r+=a}return r}},{key:"cacheSizes",value:function(){for(var e=this.cache,t=this.state.from,n=A(this.items).children,i=g[this.props.axis],r=0,o=n.length;o>r;++r)e[t+r]=n[r][i]}},{key:"getSizeOf",value:function(e){var t=this.state.itemSize;if(t)return t;var n=this.props.itemSizeGetter;if(n)return n(e);var i=this.cache;return i[e]?i[e]:NaN}},{key:"constrainFrom",value:function(e,t,n){return"simple"===this.props.type?0:e?Math.max(Math.min(e,t-n-t%n),0):0}},{key:"constrainSize",value:function(e,t,n,i){return Math.min(Math.max(e,n),t-i)}},{key:"scrollTo",value:function(e){this.setScroll(this.getSpaceBefore(e))}},{key:"scrollAround",value:function(e){var t=this.getScroll(),n=this.getSpaceBefore(e);if(t>n)return this.setScroll(n);var i=n-this.getViewportSize()+this.getSizeOf(e);i>t&&this.setScroll(i)}},{key:"getVisibleRange",value:function(){for(var e=A(this),t=e.children,n=this.getOffset(e),i=g[this.props.axis],r=this.getStartAndEnd(0),o=r.start,a=r.end,s=0,l=0,u=0;u<t.length;++u){var c=t[u],d=this.getOffset(c)-n,h=d+c[i];o>=d&&h>o&&(s=u),a>d&&h>=a&&(l=u)}var p=this.state.from;return[p+s,p+l]}},{key:"renderItems",value:function(){for(var e=this,t=this.props,n=t.itemRenderer,i=t.itemsRenderer,r=this.state,o=r.from,a=r.size,s=[],l=0;a>l;++l)s.push(n(o+l,l));return i(s,function(t){return e.items=t})}},{key:"render",value:function(){var e=this.props,t=e.axis,n=e.length,i=e.type,r=e.useTranslate3d,o=this.state.from,a=this.renderItems();if("simple"===i)return a;var s={position:"relative"},l=this.getSpaceBefore(n);s[S[t]]=l,l&&"x"===t&&(s.overflowX="hidden");var c=this.getSpaceBefore(o),A="x"===t?c:0,d="y"===t?c:0,h=r?"translate3d("+A+"px, "+d+"px, 0)":"translate("+A+"px, "+d+"px)",p={MsTransform:h,WebkitTransform:h,transform:h};return u["default"].createElement("div",{style:s},u["default"].createElement("div",{style:p},a))}}]),t}(n.Component);t.exports=y})},function(e,t){"use strict";t.__esModule=!0,t["default"]={noWobble:[170,26],gentle:[120,14],wobbly:[180,12],stiff:[210,20]},e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=arguments.length<=1||void 0===arguments[1]?a["default"].noWobble:arguments[1];return{val:e,config:t}}t.__esModule=!0,t["default"]=r;var o=n(211),a=i(o);e.exports=t["default"]},function(e,t,n){(function(t){(function(){var n,i,r;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-r)/1e6},i=t.hrtime,n=function(){var e;return e=i(),1e9*e[0]+e[1]},r=n()):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,n(22))},function(e,t){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var i={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},r=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(e){r.forEach(function(t){i[n(t,e)]=i[e]})});var o={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0
},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},a={isUnitlessNumber:i,shorthandPropertyExpansions:o};e.exports=a},function(e,t,n){"use strict";function i(e,t,n){var i=n>=e.childNodes.length?null:e.childNodes.item(n);e.insertBefore(t,i)}var r=n(567),o=n(231),a=n(37),s=n(109),l=n(147),u=n(13),c={dangerouslyReplaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup,updateTextContent:l,processUpdates:function(e,t){for(var n,a=null,c=null,A=0;A<e.length;A++)if(n=e[A],n.type===o.MOVE_EXISTING||n.type===o.REMOVE_NODE){var d=n.fromIndex,h=n.parentNode.childNodes[d],p=n.parentID;h?void 0:u(!1),a=a||{},a[p]=a[p]||[],a[p][d]=h,c=c||[],c.push(h)}var f;if(f=t.length&&"string"==typeof t[0]?r.dangerouslyRenderMarkup(t):t,c)for(var m=0;m<c.length;m++)c[m].parentNode.removeChild(c[m]);for(var g=0;g<e.length;g++)switch(n=e[g],n.type){case o.INSERT_MARKUP:i(n.parentNode,f[n.markupIndex],n.toIndex);break;case o.MOVE_EXISTING:i(n.parentNode,a[n.parentID][n.fromIndex],n.toIndex);break;case o.SET_MARKUP:s(n.parentNode,n.content);break;case o.TEXT_CONTENT:l(n.parentNode,n.content);break;case o.REMOVE_NODE:}}};a.measureMethods(c,"DOMChildrenOperations",{updateTextContent:"updateTextContent"}),e.exports=c},function(e,t,n){"use strict";function i(){if(s)for(var e in l){var t=l[e],n=s.indexOf(e);if(n>-1?void 0:a(!1),!u.plugins[n]){t.extractEvents?void 0:a(!1),u.plugins[n]=t;var i=t.eventTypes;for(var o in i)r(i[o],t,o)?void 0:a(!1)}}}function r(e,t,n){u.eventNameDispatchConfigs.hasOwnProperty(n)?a(!1):void 0,u.eventNameDispatchConfigs[n]=e;var i=e.phasedRegistrationNames;if(i){for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];o(s,t,n)}return!0}return e.registrationName?(o(e.registrationName,t,n),!0):!1}function o(e,t,n){u.registrationNameModules[e]?a(!1):void 0,u.registrationNameModules[e]=t,u.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=n(13),s=null,l={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(e){s?a(!1):void 0,s=Array.prototype.slice.call(e),i()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];l.hasOwnProperty(n)&&l[n]===r||(l[n]?a(!1):void 0,l[n]=r,t=!0)}t&&i()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return u.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var i=u.registrationNameModules[t.phasedRegistrationNames[n]];if(i)return i}return null},_resetEventPlugins:function(){s=null;for(var e in l)l.hasOwnProperty(e)&&delete l[e];u.plugins.length=0;var t=u.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var i=u.registrationNameModules;for(var r in i)i.hasOwnProperty(r)&&delete i[r]}};e.exports=u},function(e,t,n){"use strict";function i(e){return(""+e).replace(_,"//")}function r(e,t){this.func=e,this.context=t,this.count=0}function o(e,t,n){var i=e.func,r=e.context;i.call(r,t,e.count++)}function a(e,t,n){if(null==e)return e;var i=r.getPooled(t,n);g(e,o,i),r.release(i)}function s(e,t,n,i){this.result=e,this.keyPrefix=t,this.func=n,this.context=i,this.count=0}function l(e,t,n){var r=e.result,o=e.keyPrefix,a=e.func,s=e.context,l=a.call(s,t,e.count++);Array.isArray(l)?u(l,r,n,m.thatReturnsArgument):null!=l&&(f.isValidElement(l)&&(l=f.cloneAndReplaceKey(l,o+(l!==t?i(l.key||"")+"/":"")+n)),r.push(l))}function u(e,t,n,r,o){var a="";null!=n&&(a=i(n)+"/");var u=s.getPooled(t,a,r,o);g(e,l,u),s.release(u)}function c(e,t,n){if(null==e)return e;var i=[];return u(e,i,null,t,n),i}function A(e,t,n){return null}function d(e,t){return g(e,A,null)}function h(e){var t=[];return u(e,t,null,m.thatReturnsArgument),t}var p=n(50),f=n(32),m=n(39),g=n(149),v=p.twoArgumentPooler,E=p.fourArgumentPooler,_=/\/(?!\/)/g;r.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},p.addPoolingTo(r,v),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},p.addPoolingTo(s,E);var S={forEach:a,map:c,mapIntoWithKeyPrefixInternal:u,count:d,toArray:h};e.exports=S},function(e,t,n){"use strict";function i(e,t){var n=y.hasOwnProperty(t)?y[t]:null;C.hasOwnProperty(t)&&(n!==_.OVERRIDE_BASE?m(!1):void 0),e.hasOwnProperty(t)&&(n!==_.DEFINE_MANY&&n!==_.DEFINE_MANY_MERGED?m(!1):void 0)}function r(e,t){if(t){"function"==typeof t?m(!1):void 0,d.isValidElement(t)?m(!1):void 0;var n=e.prototype;t.hasOwnProperty(E)&&b.mixins(e,t.mixins);for(var r in t)if(t.hasOwnProperty(r)&&r!==E){var o=t[r];if(i(n,r),b.hasOwnProperty(r))b[r](e,o);else{var a=y.hasOwnProperty(r),u=n.hasOwnProperty(r),c="function"==typeof o,A=c&&!a&&!u&&t.autobind!==!1;if(A)n.__reactAutoBindMap||(n.__reactAutoBindMap={}),n.__reactAutoBindMap[r]=o,n[r]=o;else if(u){var h=y[r];!a||h!==_.DEFINE_MANY_MERGED&&h!==_.DEFINE_MANY?m(!1):void 0,h===_.DEFINE_MANY_MERGED?n[r]=s(n[r],o):h===_.DEFINE_MANY&&(n[r]=l(n[r],o))}else n[r]=o}}}}function o(e,t){if(t)for(var n in t){var i=t[n];if(t.hasOwnProperty(n)){var r=n in b;r?m(!1):void 0;var o=n in e;o?m(!1):void 0,e[n]=i}}}function a(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:m(!1);for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?m(!1):void 0,e[n]=t[n]);return e}function s(e,t){return function(){var n=e.apply(this,arguments),i=t.apply(this,arguments);if(null==n)return i;if(null==i)return n;var r={};return a(r,n),a(r,i),r}}function l(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function u(e,t){var n=t.bind(e);return n}function c(e){for(var t in e.__reactAutoBindMap)if(e.__reactAutoBindMap.hasOwnProperty(t)){var n=e.__reactAutoBindMap[t];e[t]=u(e,n)}}var A=n(219),d=n(32),h=(n(104),n(103),n(233)),p=n(15),f=n(88),m=n(13),g=n(110),v=n(45),E=(n(18),v({mixins:null})),_=g({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),S=[],y={mixins:_.DEFINE_MANY,statics:_.DEFINE_MANY,propTypes:_.DEFINE_MANY,contextTypes:_.DEFINE_MANY,childContextTypes:_.DEFINE_MANY,getDefaultProps:_.DEFINE_MANY_MERGED,getInitialState:_.DEFINE_MANY_MERGED,getChildContext:_.DEFINE_MANY_MERGED,render:_.DEFINE_ONCE,componentWillMount:_.DEFINE_MANY,componentDidMount:_.DEFINE_MANY,componentWillReceiveProps:_.DEFINE_MANY,shouldComponentUpdate:_.DEFINE_ONCE,componentWillUpdate:_.DEFINE_MANY,componentDidUpdate:_.DEFINE_MANY,componentWillUnmount:_.DEFINE_MANY,updateComponent:_.OVERRIDE_BASE},b={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)r(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=p({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=p({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=s(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=p({},e.propTypes,t)},statics:function(e,t){o(e,t)},autobind:function(){}},C={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(e,t){this.updater.enqueueSetProps(this,e),t&&this.updater.enqueueCallback(this,t)},replaceProps:function(e,t){this.updater.enqueueReplaceProps(this,e),t&&this.updater.enqueueCallback(this,t)}},I=function(){};p(I.prototype,A.prototype,C);var T={createClass:function(e){var t=function(e,t,n){this.__reactAutoBindMap&&c(this),this.props=e,this.context=t,this.refs=f,this.updater=n||h,this.state=null;var i=this.getInitialState?this.getInitialState():null;"object"!=typeof i||Array.isArray(i)?m(!1):void 0,this.state=i};t.prototype=new I,t.prototype.constructor=t,S.forEach(r.bind(null,t)),r(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:m(!1);for(var n in y)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){S.push(e)}}};e.exports=T},function(e,t,n){"use strict";function i(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||r}var r=n(233),o=(n(107),n(88)),a=n(13);n(18);i.prototype.isReactComponent={},i.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?a(!1):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t)},i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e)};e.exports=i},function(e,t){"use strict";var n={useCreateElement:!1};e.exports=n},function(e,t,n){"use strict";function i(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=a.getValue(e);null!=t&&r(this,Boolean(e.multiple),t)}}function r(e,t,n){var i,r,o=s.getNode(e._rootNodeID).options;if(t){for(i={},r=0;r<n.length;r++)i[""+n[r]]=!0;for(r=0;r<o.length;r++){var a=i.hasOwnProperty(o[r].value);o[r].selected!==a&&(o[r].selected=a)}}else{for(i=""+n,r=0;r<o.length;r++)if(o[r].value===i)return void(o[r].selected=!0);o.length&&(o[0].selected=!0)}}function o(e){var t=this._currentElement.props,n=a.executeOnChange(t,e);return this._wrapperState.pendingUpdate=!0,l.asap(i,this),n}var a=n(133),s=n(30),l=n(38),u=n(15),c=(n(18),"__ReactDOMSelect_value$"+Math.random().toString(36).slice(2)),A={valueContextKey:c,getNativeProps:function(e,t,n){return u({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=a.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,onChange:o.bind(e),wasMultiple:Boolean(t.multiple)}},processChildContext:function(e,t,n){var i=u({},n);return i[c]=e._wrapperState.initialValue,i},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var i=a.getValue(t);null!=i?(e._wrapperState.pendingUpdate=!1,r(e,Boolean(t.multiple),i)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?r(e,Boolean(t.multiple),t.defaultValue):r(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=A},function(e,t,n){"use strict";var i=n(215),r=n(132),o=n(134),a=n(30),s=n(15),l=n(108),u=n(147),c=(n(150),function(e){});s(c.prototype,{construct:function(e){this._currentElement=e,this._stringText=""+e,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(e,t,n){if(this._rootNodeID=e,t.useCreateElement){var i=n[a.ownerDocumentContextKey],o=i.createElement("span");return r.setAttributeForID(o,e),a.getID(o),u(o,this._stringText),o}var s=l(this._stringText);return t.renderToStaticMarkup?s:"<span "+r.createMarkupForID(e)+">"+s+"</span>"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=a.getNode(this._rootNodeID);i.updateTextContent(r,n)}}},unmountComponent:function(){o.unmountIDFromEnvironment(this._rootNodeID)}}),e.exports=c},function(e,t,n){"use strict";function i(){this.reinitializeTransaction()}var r=n(38),o=n(106),a=n(15),s=n(39),l={initialize:s,close:function(){d.isBatchingUpdates=!1}},u={initialize:s,close:r.flushBatchedUpdates.bind(r)},c=[u,l];a(i.prototype,o.Mixin,{getTransactionWrappers:function(){return c}});var A=new i,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,i,r,o){var a=d.isBatchingUpdates;d.isBatchingUpdates=!0,a?e(t,n,i,r,o):A.perform(e,null,t,n,i,r,o)}};e.exports=d},function(e,t,n){"use strict";function i(){if(!I){I=!0,g.EventEmitter.injectReactEventListener(m),g.EventPluginHub.injectEventPluginOrder(s),g.EventPluginHub.injectInstanceHandle(v),g.EventPluginHub.injectMount(E),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:b,EnterLeaveEventPlugin:l,ChangeEventPlugin:o,SelectEventPlugin:S,BeforeInputEventPlugin:r}),g.NativeComponent.injectGenericComponentClass(p),g.NativeComponent.injectTextComponentClass(f),g.Class.injectMixin(A),g.DOMProperty.injectDOMPropertyConfig(c),g.DOMProperty.injectDOMPropertyConfig(C),g.EmptyComponent.injectEmptyComponent("noscript"),g.Updates.injectReconcileTransaction(_),g.Updates.injectBatchingStrategy(h),g.RootIndex.injectCreateReactRootIndex(u.canUseDOM?a.createReactRootIndex:y.createReactRootIndex),g.Component.injectEnvironment(d)}}var r=n(563),o=n(565),a=n(566),s=n(568),l=n(569),u=n(24),c=n(572),A=n(574),d=n(134),h=n(223),p=n(581),f=n(222),m=n(589),g=n(590),v=n(68),E=n(30),_=n(595),S=n(605),y=n(606),b=n(607),C=n(604),I=!1;e.exports={inject:i}},function(e,t,n){"use strict";function i(){if(A.current){var e=A.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function r(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;o("uniqueKey",e,t)}}function o(e,t,n){var r=i();if(!r){var o="string"==typeof n?n:n.displayName||n.name;o&&(r=" Check the top-level render call using <"+o+">.")}var a=p[e]||(p[e]={});if(a[r])return null;a[r]=!0;var s={parentOrOwner:r,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return t&&t._owner&&t._owner!==A.current&&(s.childOwner=" It was passed a child from "+t._owner.getName()+"."),s}function a(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var i=e[n];u.isValidElement(i)&&r(i,t)}else if(u.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var o=d(e);if(o&&o!==e.entries)for(var a,s=o.call(e);!(a=s.next()).done;)u.isValidElement(a.value)&&r(a.value,t)}}function s(e,t,n,r){for(var o in t)if(t.hasOwnProperty(o)){var a;try{"function"!=typeof t[o]?h(!1):void 0,a=t[o](n,o,e,r)}catch(s){a=s}if(a instanceof Error&&!(a.message in f)){f[a.message]=!0;i()}}}function l(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name;t.propTypes&&s(n,t.propTypes,e.props,c.prop),"function"==typeof t.getDefaultProps}}var u=n(32),c=n(104),A=(n(103),n(44)),d=(n(107),n(144)),h=n(13),p=(n(18),{}),f={},m={createElement:function(e,t,n){var i="string"==typeof e||"function"==typeof e,r=u.createElement.apply(this,arguments);if(null==r)return r;if(i)for(var o=2;o<arguments.length;o++)a(arguments[o],e);return l(r),r},createFactory:function(e){var t=m.createElement.bind(null,e);return t.type=e,t},cloneElement:function(e,t,n){for(var i=u.cloneElement.apply(this,arguments),r=2;r<arguments.length;r++)a(arguments[r],i.type);return l(i),i}};e.exports=m},function(e,t,n){"use strict";var i,r=n(32),o=n(227),a=n(55),s=n(15),l={injectEmptyComponent:function(e){i=r.createElement(e)}},u=function(e){this._currentElement=null,this._rootNodeID=null,this._renderedComponent=e(i)};s(u.prototype,{construct:function(e){},mountComponent:function(e,t,n){return o.registerNullComponentID(e),this._rootNodeID=e,a.mountComponent(this._renderedComponent,e,t,n)},receiveComponent:function(){},unmountComponent:function(e,t,n){a.unmountComponent(this._renderedComponent),o.deregisterNullComponentID(this._rootNodeID),this._rootNodeID=null,this._renderedComponent=null}}),u.injection=l,e.exports=u},function(e,t){"use strict";function n(e){return!!o[e]}function i(e){o[e]=!0}function r(e){delete o[e]}var o={},a={isNullComponentID:n,registerNullComponentID:i,deregisterNullComponentID:r};e.exports=a},function(e,t,n){"use strict";function i(e,t,n,i){try{return t(n,i)}catch(o){return void(null===r&&(r=o))}}var r=null,o={invokeGuardedCallback:i,invokeGuardedCallbackWithCatch:i,rethrowCaughtError:function(){if(r){var e=r;throw r=null,e}}};e.exports=o},function(e,t,n){"use strict";function i(e){return o(document.documentElement,e)}var r=n(585),o=n(244),a=n(245),s=n(246),l={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:l.hasSelectionCapabilities(e)?l.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,r=e.selectionRange;t!==n&&i(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,r),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=r.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,i=t.end;if("undefined"==typeof i&&(i=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(i,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",i-n),o.select()}else r.setOffsets(e,t)}};e.exports=l},function(e,t,n){"use strict";var i=n(616),r=/\/?>/,o={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=i(e);return e.replace(r," "+o.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(o.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var r=i(e);return r===n}};e.exports=o},function(e,t,n){"use strict";var i=n(110),r=i({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});e.exports=r},function(e,t,n){"use strict";function i(e){if("function"==typeof e.type)return e.type;var t=e.type,n=A[t];return null==n&&(A[t]=n=u(t)),n}function r(e){return c?void 0:l(!1),new c(e.type,e.props)}function o(e){return new d(e)}function a(e){return e instanceof d}var s=n(15),l=n(13),u=null,c=null,A={},d=null,h={injectGenericComponentClass:function(e){c=e},injectTextComponentClass:function(e){d=e},injectComponentClasses:function(e){s(A,e)}},p={getComponentClassForElement:i,createInternalComponent:r,createInstanceForText:o,isTextComponent:a,injection:h};e.exports=p},function(e,t,n){"use strict";function i(e,t){}var r=(n(18),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){i(e,"forceUpdate")},enqueueReplaceState:function(e,t){i(e,"replaceState")},enqueueSetState:function(e,t){i(e,"setState")},enqueueSetProps:function(e,t){i(e,"setProps")},enqueueReplaceProps:function(e,t){i(e,"replaceProps")}});e.exports=r},function(e,t,n){"use strict";function i(e){function t(t,n,i,r,o,a){if(r=r||y,a=a||i,null==n[i]){var s=E[o];return t?new Error("Required "+s+" `"+a+"` was not specified in "+("`"+r+"`.")):null}return e(n,i,r,o,a)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function r(e){function t(t,n,i,r,o){var a=t[n],s=f(a);if(s!==e){var l=E[r],u=m(a);return new Error("Invalid "+l+" `"+o+"` of type "+("`"+u+"` supplied to `"+i+"`, expected ")+("`"+e+"`."))}return null}return i(t)}function o(){return i(_.thatReturns(null))}function a(e){function t(t,n,i,r,o){var a=t[n];if(!Array.isArray(a)){var s=E[r],l=f(a);return new Error("Invalid "+s+" `"+o+"` of type "+("`"+l+"` supplied to `"+i+"`, expected an array."))}for(var u=0;u<a.length;u++){var c=e(a,u,i,r,o+"["+u+"]");if(c instanceof Error)return c}return null}return i(t)}function s(){function e(e,t,n,i,r){if(!v.isValidElement(e[t])){var o=E[i];return new Error("Invalid "+o+" `"+r+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return i(e)}function l(e){function t(t,n,i,r,o){if(!(t[n]instanceof e)){var a=E[r],s=e.name||y,l=g(t[n]);return new Error("Invalid "+a+" `"+o+"` of type "+("`"+l+"` supplied to `"+i+"`, expected ")+("instance of `"+s+"`."))}return null}return i(t)}function u(e){function t(t,n,i,r,o){for(var a=t[n],s=0;s<e.length;s++)if(a===e[s])return null;var l=E[r],u=JSON.stringify(e);return new Error("Invalid "+l+" `"+o+"` of value `"+a+"` "+("supplied to `"+i+"`, expected one of "+u+"."))}return i(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function c(e){function t(t,n,i,r,o){var a=t[n],s=f(a);if("object"!==s){var l=E[r];return new Error("Invalid "+l+" `"+o+"` of type "+("`"+s+"` supplied to `"+i+"`, expected an object."))}for(var u in a)if(a.hasOwnProperty(u)){var c=e(a,u,i,r,o+"."+u);if(c instanceof Error)return c}return null}return i(t)}function A(e){function t(t,n,i,r,o){for(var a=0;a<e.length;a++){var s=e[a];if(null==s(t,n,i,r,o))return null}var l=E[r];return new Error("Invalid "+l+" `"+o+"` supplied to "+("`"+i+"`."))}return i(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function d(){function e(e,t,n,i,r){if(!p(e[t])){var o=E[i];return new Error("Invalid "+o+" `"+r+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return i(e)}function h(e){function t(t,n,i,r,o){var a=t[n],s=f(a);if("object"!==s){var l=E[r];return new Error("Invalid "+l+" `"+o+"` of type `"+s+"` "+("supplied to `"+i+"`, expected `object`."))}for(var u in e){var c=e[u];if(c){var A=c(a,u,i,r,o+"."+u);if(A)return A}}return null}return i(t)}function p(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(p);if(null===e||v.isValidElement(e))return!0;var t=S(e);if(!t)return!1;var n,i=t.call(e);if(t!==e.entries){for(;!(n=i.next()).done;)if(!p(n.value))return!1}else for(;!(n=i.next()).done;){var r=n.value;if(r&&!p(r[1]))return!1}return!0;default:return!1}}function f(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function m(e){var t=f(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function g(e){return e.constructor&&e.constructor.name?e.constructor.name:"<<anonymous>>"}var v=n(32),E=n(103),_=n(39),S=n(144),y="<<anonymous>>",b={array:r("array"),bool:r("boolean"),func:r("function"),number:r("number"),object:r("object"),string:r("string"),any:o(),arrayOf:a,element:s(),instanceOf:l,node:d(),objectOf:c,oneOf:u,oneOfType:A,shape:h};e.exports=b},function(e,t){"use strict";var n={injectCreateReactRootIndex:function(e){i.createReactRootIndex=e}},i={createReactRootIndex:null,injection:n};e.exports=i},function(e,t){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};e.exports=n},function(e,t,n){"use strict";function i(e,t){if(null==t?r(!1):void 0,null==e)return t;var n=Array.isArray(e),i=Array.isArray(t);return n&&i?(e.push.apply(e,t),e):n?(e.push(t),e):i?[e].concat(t):[e,t]}var r=n(13);e.exports=i},function(e,t,n){"use strict";function i(e,t,n){var i=e,r=void 0===i[n];r&&null!=t&&(i[n]=t)}function r(e){if(null==e)return e;var t={};return o(e,i,t),t}var o=n(149);n(18);e.exports=r},function(e,t){"use strict";var n=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};e.exports=n},function(e,t,n){"use strict";function i(){return!o&&r.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var r=n(24),o=null;e.exports=i},function(e,t){"use strict";function n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&i[e.type]||"textarea"===t)}var i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=n},function(e,t,n){"use strict";function i(e){return r.isValidElement(e)?void 0:o(!1),e}var r=n(32),o=n(13);e.exports=i},function(e,t,n){"use strict";var i=n(39),r={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:i}},registerDefault:function(){}};e.exports=r},function(e,t,n){"use strict";function i(e,t){var n=!0;e:for(;n;){var i=e,o=t;if(n=!1,i&&o){if(i===o)return!0;if(r(i))return!1;if(r(o)){e=i,t=o.parentNode,n=!0;continue e}return i.contains?i.contains(o):i.compareDocumentPosition?!!(16&i.compareDocumentPosition(o)):!1}return!1}}var r=n(634);e.exports=i},function(e,t){"use strict";function n(e){try{e.focus()}catch(t){}}e.exports=n},function(e,t){"use strict";function n(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}e.exports=n},function(e,t,n){"use strict";function i(e){return a?void 0:o(!1),d.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?a.innerHTML="<link />":a.innerHTML="<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?d[e]:null}var r=n(24),o=n(13),a=r.canUseDOM?document.createElement("div"):null,s={},l=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],A=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:c,th:c},h=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];h.forEach(function(e){d[e]=A,s[e]=!0}),e.exports=i},function(e,t){"use strict";var n,i;e.exports={ar:function(e){return n=6,i=0===e?0:1===e?1:2===e?2:e%100>=3&&10>=e%100?3:e%100>=11&&99>=e%100?4:5},be:function(e){return n=4,i=e%10===1&&e%100!==11?0:e%10>=2&&4>=e%10&&(12>e%100||e%100>14)?1:e%10===0||e%10>=5&&9>=e%10||e%100>=11&&14>=e%100?2:3},bg:function(e){return n=2,i=1!==e},cs:function(e){return n=3,i=1===e?0:e>=2&&4>=e?1:2},da:function(e){return n=2,i=1!==e},de:function(e){return n=2,i=1!==e},el:function(e){return n=2,i=1!==e},en:function(e){return n=2,i=1!==e},eo:function(e){return n=2,i=1!==e},es:function(e){return n=2,i=1!==e},et:function(e){return n=2,i=1!==e},eu:function(e){return n=2,i=1!==e},fa:function(e){return n=1,i=0},fi:function(e){return n=2,i=1!==e},fr:function(e){return n=2,i=e>1},fy:function(e){return n=2,i=1!==e},gl:function(e){return n=2,i=1!==e},hr:function(e){return n=3,i=e%10===1&&e%100!==11?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2},hu:function(e){return n=2,i=1!==e},hy:function(e){return n=2,i=1!==e},id:function(e){return n=1,i=0},io:function(e){return n=2,i=1!==e},is:function(e){return n=2,i=e%10!==1||e%100===11},it:function(e){return n=2,i=1!==e},ja:function(e){return n=1,i=0},jbo:function(e){return n=1,i=0},ka:function(e){return n=1,i=0},ko:function(e){return n=1,i=0},ku:function(e){return n=2,i=1!==e},lt:function(e){return n=3,i=e%10===1&&e%100!==11?0:e%10>=2&&(10>e%100||e%100>=20)?1:2},lv:function(e){return n=3,i=e%10===1&&e%100!==11?0:0!==e?1:2},mk:function(e){return n=2,i=e%10===1&&e%100!==11?0:1},nb:function(e){return n=2,i=1!==e},nl:function(e){return n=2,i=1!==e},nn:function(e){return n=2,i=1!==e},pl:function(e){return n=3,i=1===e?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2},pt_BR:function(e){return n=2,i=e>1},pt_PT:function(e){return n=2,i=1!==e},ro:function(e){return n=3,i=1===e?0:e%100>19||e%100===0&&0!==e?2:1},ru:function(e){return n=4,i=e%10===1&&e%100!==11?0:e%10>=2&&4>=e%10&&(12>e%100||e%100>14)?1:e%10===0||e%10>=5&&9>=e%10||e%100>=11&&14>=e%100?2:3},sk:function(e){return n=3,i=1===e?0:e>=2&&4>=e?1:2},sl:function(e){return n=4,i=e%100===1?0:e%100===2?1:e%100===3||e%100===4?2:3},sq:function(e){return n=2,i=1!==e},sr:function(e){return n=3,i=e%10===1&&e%100!==11?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2},sv:function(e){return n=2,i=1!==e},tr:function(e){return n=2,i=e>1},uk:function(e){return n=3,i=e%10===1&&e%100!==11?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2},vi:function(e){return n=1,i=0},zh_CN:function(e){return n=1,i=0},zh_TW:function(e){return n=1,i=0}}},function(e,t,n){"use strict";var i=n(8),r=n(5),o={setActiveWebView:function(e){i.handleViewAction({actionType:r.WEBVIEW_SET_ACTIVE,webview:e})}};e.exports=o},function(e,t,n){"use strict";var i=n(8),r=n(5),o={setBackgroundTasks:function(e){i.handleViewAction({actionType:r.BACKGROUND_TASKS_SET,tasks:e})}};e.exports=o},function(e,t,n){"use strict";function i(){var e,t=function(t){t.clipboardData.types.indexOf("text/plain")>-1&&(e=t.clipboardData.getData("text/plain"),t.preventDefault())};return document.addEventListener("paste",t),document.execCommand("paste"),document.removeEventListener("paste",t),e}var r=n(35),o=n(3),a=["INPUT","FRAME","IFRAME","OBJECT","SELECT","TEXTAREA","EMBED"],s={undo:function(){o.editcommand.execute("undo")},redo:function(){o.editcommand.execute("redo")},cut:function(){o.editcommand.execute("cut")},copy:function(){o.editcommand.execute("copy")},paste:function(){o.editcommand.execute("paste")},selectAll:function(){o.editcommand.execute("selectAll")},pasteAsPlainText:function(){var e=i();a.indexOf(document.activeElement.tagName)>-1||document.activeElement.isContentEditable?document.execCommand("insertText",!1,e):"WEBVIEW"===document.activeElement.tagName&&document.activeElement.isFocusedElementEditable(function(t){t||(window.event.preventDefault(),document.activeElement.executeScript({code:"document.execCommand('insertText', false, "+JSON.stringify(e)+");"}))})},pasteAsPlainTextOrPastAndGo:function(e){var t=i();(a.indexOf(document.activeElement.tagName)>-1||document.activeElement.isContentEditable)&&!document.activeElement.classList.contains("url")?document.execCommand("insertText",!1,t):"WEBVIEW"===document.activeElement.tagName?document.activeElement.isFocusedElementEditable(function(e){e?(window.event.preventDefault(),document.activeElement.executeScript({code:"document.execCommand('insertText', false, "+JSON.stringify(t)+");"})):r.doAction("urlPasteAndGo")}):r.doAction("urlPasteAndGo")}};e.exports=s},function(e,t,n){"use strict";var i=n(8),r=n(5),o=n(9),a=!1,s={loadPromise:function(){return new Promise(function(e,t){o.notes.getTree(function(t){i.handleViewAction({actionType:r.NOTES_INIT_ACTION,notes:t}),e()})})},disableNoteMutationHandlers:function(){a=!0},enableNoteMutationHandlers:function(){a=!1,s.loadPromise()}};o.notes.onImportBegan.addListener(s.disableNoteMutationHandlers),o.notes.onImportEnded.addListener(s.enableNoteMutationHandlers);var l={onChanged:r.CHROME_NOTES_CHANGED,onCreated:r.CHROME_NOTES_CREATED,onRemoved:r.CHROME_NOTES_REMOVED,onMoved:r.CHROME_NOTES_MOVED};Object.keys(l).forEach(function(e){return o.notes[e].addListener(function(){a||s.loadPromise()})}),e.exports=s},function(e,t,n){"use strict";var i=n(8),r=n(188),o=n(5),a=o.SEARCH_SUGGEST_RESULT,s=void 0,l="",u=2,c=200,A={_onXHReadyStateChanged:function(){s&&s.readyState===XMLHttpRequest.DONE&&s.status===c&&(i.handleViewAction({actionType:a,query:l,json:s.responseText}),s=void 0,l="")},_abortXHR:function(){s.abort(),l="",s=void 0},suggest:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if("string"!=typeof e||0===e.length)throw TypeError("suggest query required");if(t.SuggestUrl&&!(e.length<u)){var n=r.getSearchSuggestURL(e,t.SuggestUrl);s&&this._abortXHR(),l=e,s=new XMLHttpRequest,s.onreadystatechange=this._onXHReadyStateChanged,s.open("GET",n,!0),s.send()}}};e.exports=A},function(e,t,n){"use strict";var i=n(3),r=n(8),o=n(5),a=o.SPATNAV_NAVIGATE,s=function(e,t){var n=document.activeElement,o=n&&"WEBVIEW"===n.tagName.toUpperCase();if(o){var s={actionType:a,direction:e};r.handleViewAction(s);var l=parseInt(n.getAttribute("tab_id"));i.tabs.sendMessage(l,s)}};e.exports={left:s.bind(void 0,"left"),up:s.bind(void 0,"up"),right:s.bind(void 0,"right"),down:s.bind(void 0,"down")}},,,function(e,t,n){(function(t){"use strict";function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0
}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(78),l=n(16).EventEmitter,u="0",c="1",A="2",d=s({Created:null,Removed:null,Changed:null,Moved:null,ChildrenReordered:null,ImportBegan:null,ImportEnded:null}),h=function f(e){o(this,f),this.id=e.id,this.parentId=e.parentId,this.index=e.index,this.url=e.url,this.title=e.title||"",this.speeddial=e.speeddial,this.dateAdded=e.dateAdded||Date.now(),this.dateGroupModified=e.dateGroupModified,this.unmodifiable="managed",this.children=e.children||[]},p=function(e){function n(){o(this,n);var e=i(this,Object.getPrototypeOf(n).call(this));return e.bookmarksBarFolder=new h({id:c,title:"Bookmarks Bar"}),e.otherBookmarksFolder=new h({id:A,title:"Other Bookmarks"}),e.rootFolder=new h({id:u,title:"",children:[e.bookmarksBarFolder,e.otherBookmarksFolder]}),e.nextId=3,e.bookmarkItems={},e.bookmarkItems[e.rootFolder.id]=e.rootFolder,e.bookmarkItems[e.bookmarksBarFolder.id]=e.bookmarksBarFolder,e.bookmarkItems[e.otherBookmarksFolder.id]=e.otherBookmarksFolder,e.recentBookmarks=[],e.onChanged={addListener:e.addEventListener.bind(e,d.Changed)},e.onCreated={addListener:e.addEventListener.bind(e,d.Created)},e.onRemoved={addListener:e.addEventListener.bind(e,d.Removed)},e.onMoved={addListener:e.addEventListener.bind(e,d.Moved)},e.onChildrenReordered={addListener:e.addEventListener.bind(e,d.ChildrenReordered)},e.onImportBegan={addListener:e.addEventListener.bind(e,d.ImportBegan)},e.onImportEnded={addListener:e.addEventListener.bind(e,d.ImportEnded)},e}return r(n,e),a(n,[{key:"get",value:function(e,n){var i=this,r=[].concat(e),o=r.map(function(e){return i.bookmarkItems[e]});t.nextTick(function(){return n&&n(o)})}},{key:"getTree",value:function(e){var n=this;t.nextTick(function(){return e&&e([n.rootFolder])})}},{key:"getSubTree",value:function(e,n){var i=this.bookmarkItems[e];t.nextTick(function(){return n&&n([i])})}},{key:"create",value:function(e,n){var i=this._getParent(e.parentId),r=new h({id:String(this.nextId++),parentId:i.id,title:e.title,url:e.url,speeddial:e.speeddial});this._addChild(i,r,e.index),this.recentBookmarks.push(r),this.bookmarkItems[r.id]=r,t.nextTick(function(){n&&n(r),this.emit(d.Created,r)}.bind(this))}},{key:"move",value:function(e,n,i){var r=this.bookmarkItems[e],o=r.index,a=this._getParent(r.parentId);this._removeChild(a,r);var s=this._getParent(n.parentId);this._addChild(s,r,n.index),t.nextTick(function(){i&&i(r),this.emit(d.Moved,{parentId:s.id,index:r.index,oldParentId:a.id,oldIndex:o})}.bind(this))}},{key:"update",value:function(e,n,i){var r=this.bookmarkItems[e];r.title=n.title||r.title,r.url=n.url||r.title,r.speeddial=void 0!==n.speeddial?n.speeddial:r.speeddial,t.nextTick(function(){i&&i(r),this.emit(d.Changed,{title:r.title,url:r.url})}.bind(this))}},{key:"remove",value:function(e,n){var i=this.bookmarkItems[e];this._removeChild(this._getParent(i.parentId),i),t.nextTick(function(){n&&n(i),this.emit(d.Removed,{parentId:i.parentId,index:i.index})}.bind(this))}},{key:"removeTree",value:function(e,n){var i=this.bookmarkItems[e];this._removeChild(this._getParent(i.parentId),i),this._removeChildren(i),t.nextTick(function(){return n&&n()})}},{key:"getChildren",value:function(e,n){var i=this.bookmarkItems[e];t.nextTick(function(){return n&&n(i.children)})}},{key:"search",value:function(e,t){t&&t([])}},{key:"getRecent",value:function(e,n){t.nextTick(function(){n&&n(this.recentBookmarks.reverse().slice(0,e))}.bind(this))}},{key:"addEventListener",value:function(e,t){this.on(e,t)}},{key:"_getParent",value:function(e){return e&&this.bookmarkItems[e]?this.bookmarkItems[e]:this.otherBookmarksFolder}},{key:"_addChild",value:function(e,t,n){n?e.children.splice(n,0,t):e.children=(e.children||[]).concat(t),this._updateIndexes(e)}},{key:"_removeChild",value:function(e,t){e.children=e.children.filter(function(e){return e!==t}),this._updateIndexes(e)}},{key:"_removeChildren",value:function(e){var t=this;e.children.forEach(function(e){return t._removeChildren(e)}),e.children=null}},{key:"_updateIndexes",value:function(e){for(var t=0;t<e.children.length;t++)e.children.index=t}}]),n}(l);e.exports=p}).call(t,n(22))},function(e,t,n){(function(t){"use strict";var i=n(257),r=n(259),o=n(260);window.vivaldiWindowId=42,window.isPopup=function(){return!1};var a=function(){},s={addListener:a,removeListener:a},l={app:{window:{current:function(){return{isFullscreen:function(){return!1},isMaximized:function(){return!0},onMaximized:s,onMinimized:s,onFullscreened:s,onRestored:s,show:a}}}},bookmarks:new i,contextMenus:{create:a,update:a,remove:a,removeAll:a,onClicked:s},declarativeWebRequest:{RequestMatcher:a,SetRequestHeader:a},downloads:{onCreated:s,onChanged:s,onErased:s,onDeterminingFilename:s,search:a,setShelfEnabled:a,pause:a,resume:a,erase:a},extension:{getURL:function(e){return e}},extensionActionUtils:{onAdded:s,onRemoved:s,onUpdated:s,onIconLoaded:s,getToolbarExtensions:a},history:{search:function(e,t){t([])},onVisitRemoved:s},i18n:{getMessage:function(e,t){return""},getUILanguage:function(){return"en-US"}},notifications:{create:a,update:a,clear:a,getAll:a,getPermissionLevel:a,onClosed:s,onClicked:s,onButtonClicked:s,onPermissionLevelChanged:s,onShowSettings:s},runtime:{sendMessage:a,onMessage:s,getPlatformInfo:a,getPackageDirectoryEntry:a},sessions:{getRecentlyClosed:a,onChanged:s},topSites:{get:function(e){t.nextTick(e.bind(this,[]))}},savedpasswords:{getSavedPasswordList:function(e){return[]}},storage:{onChanged:s,local:{get:a,set:a}},tabs:new r,windows:new o,contentSettings:{popups:{set:a,get:a},javascript:{set:a,get:a}},commandLinePrivate:{hasSwitch:a}};e.exports=l}).call(t,n(22))},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(78),a=n(29),s=n(16),l=s.EventEmitter,u=function(){},c=o({Created:null,Updated:null,Moved:null,SelectionChanged:null,ActiveChanged:null,Activated:null,HighlightChanged:null,Highlighted:null,Detached:null,Attached:null,Removed:null,Replaced:null,ZoomChange:null}),A=a.fromJS({id:null,index:null,windowId:window.vivaldiWindowId,openerTabId:null,selected:null,highlighted:null,active:!0,pinned:null,url:null,title:null,status:null,incognito:null,width:null,height:null,sessionId:null}),d=0,h=function(){function e(){var t=this;i(this,e),this.tabs=a.List(),this.eventEmitter=new l,this.eventEmitter.setMaxListeners(100),Object.keys(c).forEach(function(e){t["on"+e]={addListener:t.addEventListener.bind(t,c[e])}})}return r(e,[{key:"addEventListener",value:function(e,t){this.eventEmitter.on(e,t)}},{key:"get",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?u:arguments[1];t(this.tabs.find(function(t){return t.id===e}))}},{key:"getCurrent",value:function(){var e=arguments.length<=0||void 0===arguments[0]?u:arguments[0];e(this.tabs.first())}},{key:"connect",value:function(e,t){}},{key:"sendMessage",value:function(e,t,n,i){}},{key:"duplicate",value:function(e){arguments.length<=1||void 0===arguments[1]?u:arguments[1]}},{key:"highlight",value:function(e,t){}},{key:"sendRequest",value:function(e,t,n){}},{key:"getSelected",value:function(e,t){}},{key:"getAllInWindow",value:function(e,t){}},{key:"create",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?u:arguments[1],n=A.merge({id:d++}).merge(e);this.tabs=this.tabs.push(n),t(n.toJS()),this.eventEmitter.emit(c.Created,n.toJS()),n.get("active")&&this.eventEmitter.emit(c.Activated,n.toJS())}},{key:"query",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?u:arguments[1],n=a.fromJS(e);t(this.tabs.filter(function(e){return n.isSubset(e)}).toJS())}},{key:"update",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?u:arguments[2],i=this.tabs.find(function(t){return t.get("id")===e}),r=a.fromJS(t);i&&r&&(i=i.merge(r)),n(i),this.eventEmitter.emit(c.Update,i.get("id"),{status:"complete",url:i.get("url"),pinned:i.get("pinned")},i.toJS()),i.get("active")&&this.eventEmitter.emit(c.Activated,{tabId:i.get("id"),windowId:window.vivaldiWindowId})}},{key:"move",value:function(e,t,n){}},{key:"reload",value:function(e,t,n){}},{key:"remove",value:function(e,t){}},{key:"detectLanguage",value:function(e,t){}},{key:"captureVisibleTab",value:function(e,t,n){}},{key:"executeScript",value:function(e,t,n){}},{key:"insertCSS",value:function(e,t,n){}},{key:"setZoom",value:function(e,t,n){}},{key:"getZoom",value:function(e,t){}},{key:"setZoomSettings",value:function(e,t,n){}},{key:"getZoomSettings",value:function(e,t){}}]),e}();e.exports=h},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(78),a=n(29),s=n(16),l=s.EventEmitter,u=o({onCreated:null,onRemoved:null,onFocusChanged:null}),c=function(){function e(){var t=this;i(this,e),this.WINDOW_ID_NONE=-1,this.WINDOW_ID_CURRENT=-2,this.windows=a.List(),this.eventEmitter=new l,Object.keys(u).forEach(function(e){t["on"+e]={addListener:t.addEventListener.bind(t,u[e])}})}return r(e,[{key:"addEventListener",value:function(e,t){this.eventEmitter.on(e,t)}},{key:"get",value:function(e,t,n){}},{key:"getCurrent",value:function(e,t){}},{key:"getLastFocused",value:function(e,t){}},{key:"getAll",value:function(e,t){}},{key:"create",value:function(e,t){}},{key:"update",value:function(e,t,n){}},{key:"remove",value:function(e,t){}}]),e}();e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(12),o=n(66),a=n(49),s=n(3),l=n(161),u=n(160),c=n(71),A=n(58),d=n(52),h=n(2),p=n(63),f=n(167),m=n(4),g=i.createClass({displayName:"BookmarksManager",mixins:[c,o],getInitialState:function(){return{parentSelectedId:null,filter:"",bookmarkSorting:{sortOrder:p.NO_SORTING,sortField:"manually"}}},componentWillMount:function(){var e=this;m.get("BOOKMARKS_MANAGER_BOOKMARKSSORT",function(t){e.onSortChange(t.sortOrder,t.sortField)})},componentDidMount:function(){var e=this._getSelectedBookmark();e&&this.refs.bookmarkEditItem.onSelect(e)},getDefaultProps:function(){return{open:!0}},isFolder:function(e){return e.children&&e.children.length>0||void 0===e.url},onSortChange:function(e,t){var n=a(this.state,{bookmarkSorting:{sortOrder:{$set:e},sortField:{$set:t}}});this.setState(n);var i={sortOrder:e,sortField:t};m.set({BOOKMARKS_MANAGER_BOOKMARKSSORT:i})},edit:function(e){this.refs.bookmarkEditItem.onSelect(e)},create:function(e,t){this.refs.bookmarksManager.isExpanded(t)||this.refs.bookmarksManager.toggleExpandModel(t),this.refs.bookmarksManager.selectById(e),this.setState({createState:!1})},toggleSpeeddial:function(e){s.bookmarks.update(e.id,{speeddial:!e.speeddial},function(e){})},importData:function(){A.showImportData()},focusTree:function(){r.findDOMNode(this.refs.bookmarksManager).focus()},cancel:function(){this.refs.bookmarksManager.cancelCreate(),this.setState({editing:!1}),this.focusTree(),this.setState({createState:!1})},select:function(e){this.refs.bookmarkEditItem.onSelect(e)},createFolder:function(){this.createBookmarkItem(!0)},createBookmark:function(){this.createBookmarkItem(!1)},createBookmarkItem:function(e){var t=this.refs.bookmarksManager.onNewItem(e);this.refs.bookmarkEditItem.onCreate(e,t)},deleteItem:function(){this.refs.bookmarksManager.deleteBookmarks(),this.refs.bookmarkEditItem.cancel(),this.setState({createState:!1})},updateThumbnailHandler:function(){var e=this._getSelectedBookmark();this._updateThumbnail(e)},_getSelectedBookmark:function(){var e=this.refs.bookmarksManager.SelectionMixinGetSelected();return this.refs.bookmarksManager.findTreeItem(e)},_updateThumbnail:function(e){if(this.isFolder(e))for(var t=0;t<e.children.length;t++)this._updateThumbnail(e.children[t]);else d.updateBookmarkThumbnail(e)},render:function(){return this.props.open?i.createElement("div",{className:"manager",ref:"panelElement",style:this.props.style},i.createElement("div",{className:"manager-content"},i.createElement("div",{className:"toolbar-wrapper"},i.createElement("div",{className:"toolbar icons"},i.createElement("button",{className:"button-toolbar add",onClick:this.createBookmark},i.createElement("span",{dangerouslySetInnerHTML:{__html:n(65)}}),i.createElement("span",{className:"buttontext"},h("New Bookmark"))),i.createElement("button",{className:"button-toolbar folder",onClick:this.createFolder},i.createElement("span",{dangerouslySetInnerHTML:{__html:n(101)}}),i.createElement("span",{className:"buttontext"},h("New Folder"))),i.createElement("button",{className:"button-toolbar delete",onClick:this.deleteItem},i.createElement("span",{dangerouslySetInnerHTML:{__html:n(82)}}),i.createElement("span",{className:"buttontext"},h("other","Delete"))),i.createElement("button",{className:"button-toolbar import",onClick:this.importData},i.createElement("span",{dangerouslySetInnerHTML:{__html:n(532)}}),i.createElement("span",{className:"buttontext"},h("Import"))),i.createElement("button",{className:"button-toolbar updatethumb",onClick:this.updateThumbnailHandler},i.createElement("span",{dangerouslySetInnerHTML:{__html:n(536)}}),i.createElement("span",{className:"buttontext"},h("Update Thumbnails"))),i.createElement("div",{className:"bookmark-filter"},i.createElement("input",{valueLink:this.linkState("filter"),type:"search",placeholder:h("Search...")})))),i.createElement(f,{onSortChange:this.onSortChange,fullsize:!0,sort:this.state.bookmarkSorting}),i.createElement("div",{className:"manager-treeview"},i.createElement("div",{className:"vivaldi-tree-container"},i.createElement(l,{filter:this.state.filter,ref:"bookmarksManager",showBookmarkManager:!0,onEdit:this.edit,onNew:this.createBookmarkItem,onToggleSpeeddial:this.toggleSpeeddial,onSelect:this.select,sorting:this.state.bookmarkSorting})))),i.createElement(u,{ref:"bookmarkEditItem",onCancel:this.cancel,onCreate:this.create,onFocusTree:this.focusTree})):i.createElement("span",null)}});e.exports=g},function(e,t,n){"use strict";var i=n(1),r=n(12),o=n(66),a=n(49),s=n(33),l=n(161),u=n(160),c=n(58),A=n(41),d=n(70),h=n(4),p=n(10),f=n(167),m=n(63),g=n(2),v=n(114),E=v.VIVALDI_ROOT_BOOKMARK_FOLDER,_=n(3),S=n(6),y=n(73),b=n(21),C=406,I=238,T=600,O=i.createClass({displayName:"BookmarksPanel",mixins:[p,o],vivaldiSettingsKeys:["BOOKMARKS_EDITOR_HEIGHT"],getInitialState:function(){return{filter:"",editor:!1,bookmarkSorting:{sortOrder:m.NO_SORTING,sortField:"manually"}}},componentWillMount:function(){var e=this;h.get("BOOKMARKS_PANEL_BOOKMARKSSORT",function(t){e.onSortChange(t.sortOrder,t.sortField)})},componentDidMount:function(){A.addChangeListener(this.onPanelStoreChange)},componentWillUnmount:function(){A.removeChangeListener(this.onPanelStoreChange)},componentDidUpdate:function(e,t){!e.open&&this.props.open&&r.findDOMNode(this.refs.tree).focus()},onPanelStoreChange:function(e){this.props.open&&"setFocus"===e&&!y(r.findDOMNode(this))&&r.findDOMNode(this.refs.tree).focus()},select:function(e){this.refs.bookmarkEditItem&&this.refs.bookmarkEditItem.onSelect(e)},create:function(e,t){this.refs.tree.isExpanded(t)||this.refs.tree.toggleExpandModel(t),this.refs.tree.selectById(e)},createBookmark:function(){this.createBookmarkItem(!1)},createFolder:function(){this.createBookmarkItem(!0)},resetBookmarkBar:function(){s.setBookmarkBarFolderAndShow(E)},focusTree:function(){r.findDOMNode(this.refs.tree).focus()},createBookmarkItem:function(e){var t=this,n=function(){var n=t.refs.tree.onNewItem(e);t.refs.bookmarkEditItem.onCreate(e,n)};this.state.editor?n():this.setState({editor:!this.state.editor},function(){n()})},deleteItem:function(){this.refs.tree.deleteBookmarks(),this.state.editor&&this.toggleEdit()},importData:function(){c.showImportData()},toggleEdit:function(){var e=this;(this.state.editor||-1!==this.refs.tree.getSelected())&&this.setState({editor:!this.state.editor},function(){e.refs.tree.selectById(e.refs.tree.SelectionMixinGetSelected()),e.refs.tree.refreshTree()})},getSelected:function(){return this.refs.tree.getSelected()},cancel:function(){this.refs.tree.refreshTree(),this.state.editor&&this.toggleEdit()},toggleSpeeddial:function(e){_.bookmarks.update(e.id,{speeddial:!e.speeddial},function(e){})},onSortChange:function(e,t){var n=a(this.state,{bookmarkSorting:{sortOrder:{$set:e},sortField:{$set:t}}});this.setState(n);var i={sortOrder:e,sortField:t};h.set({BOOKMARKS_PANEL_BOOKMARKSSORT:i})},collapseAll:function(){this.refs.tree.collapseAllFolders()},expandAll:function(){this.refs.tree.expandAllFolders()},handleResize:function(e){var t=r.findDOMNode(this.refs.bookmarksEditor),n=t.getBoundingClientRect(),i=n.height+e;return i>T?i=T:I>i&&(i=I),h.set({BOOKMARKS_EDITOR_HEIGHT:i}),!0},resizeToDefault:function(){h.set({BOOKMARKS_EDITOR_HEIGHT:C})},getContextMenuItems:function(e){return[{name:g("New Bookmark"),handler:this.createBookmark},{name:g("New Folder"),handler:this.createFolder},{name:"---"},{name:g("Set as Bookmark Bar"),handler:this.resetBookmarkBar},{name:"---"},{name:g("Collapse All Folders"),handler:this.collapseAll},{name:g("Expand All Folders"),handler:this.expandAll},{name:"---"},{name:g("Import Bookmarks"),handler:this.importData}]},render:function(){if(!this.props.open)return null;var e=S({"button-toolbar":!0,edit:!0,active:this.state.editor});return i.createElement("div",{className:"panel panel-bookmarks",ref:"bookmarkPanelElement"},i.createElement("header",null,i.createElement("h1",null,g("Bookmarks")),i.createElement("div",{className:"toolbar icons"},i.createElement("input",{type:"search",placeholder:g("Search..."),valueLink:this.linkState("filter")}),i.createElement("span",null,i.createElement("button",{className:"button-toolbar add",title:g("New Bookmark"),tabIndex:this.props.keyAccess,onClick:this.createBookmark,dangerouslySetInnerHTML:{__html:n(65)}}),i.createElement("button",{className:"button-toolbar folder",title:g("New Folder"),tabIndex:this.props.keyAccess,onClick:this.createFolder,dangerouslySetInnerHTML:{__html:n(101)}}),i.createElement("button",{className:"button-toolbar delete",title:g("other","Delete"),tabIndex:this.props.keyAccess,onClick:this.deleteItem,dangerouslySetInnerHTML:{__html:n(82)}}),i.createElement("button",{className:e,title:g("verb","Edit"),tabIndex:this.props.keyAccess,onClick:this.toggleEdit,dangerouslySetInnerHTML:{__html:n(208)}})))),i.createElement(f,{onSortChange:this.onSortChange,keyAccess:this.props.keyAccess,sort:this.state.bookmarkSorting}),i.createElement("section",{onContextMenu:b(this.getContextMenuItems,this.onContextMenuOpen)},i.createElement(l,{ref:"tree",filter:this.state.filter,showBookmarkManager:!1,onToggleSpeeddial:this.toggleSpeeddial,onEdit:this.toggleEdit,onNew:this.createBookmarkItem,onSelect:this.select,sorting:this.state.bookmarkSorting})),this.state.editor&&i.createElement("section",{className:"panel-bookmarks-edit limited",ref:"bookmarksEditor",style:{flexBasis:this.state.BOOKMARKS_EDITOR_HEIGHT||C}},i.createElement(d,{onSlidebarMove:this.handleResize,onDoubleClick:this.resizeToDefault,position:"bottom"}),i.createElement(u,{ref:"bookmarkEditItem",onCancel:this.cancel,onCreate:this.create,getSelected:this.getSelected,onFocusTree:this.focusTree})))}});e.exports=O},function(e,t,n){"use strict";var i=n(1),r=n(49),o=n(33),a=n(53),s=n(264),l=n(23),u=n(14),c=n(19),A=n(130),d=n(2),h=n(3),p=n(6),f=n(21),m=n(63),g=n(95),v=n(4),E=n(10),_=i.createClass({displayName:"BookmarksBar",mixins:[E],vivaldiSettingsKeys:["BOOKMARKS_OPEN_IN_NEW_TAB"],getInitialState:function(){return this.change=!1,{bookmarksData:a.getBookmarksBar(),dragoverBookmarkObj:{id:-1},width:document.documentElement.clientWidth,clipBoardBookmark:{},bookmarkSorting:{sortOrder:m.NO_SORTING,sortField:"manually"},editId:-1,renderedArray:[]}},componentWillReceiveProps:function(e){e.display!==this.props.display&&this._onStoreChange()},onLostFocus:function(){this.bookmarkTreeRemoveClipboardEventListeners()},onGotFocus:function(){this.bookmarkTreeAddClipboardEventListeners()},_onStoreChange:function(){var e=a.getBookmarksBar();this.state.bookmarksData.map(function(e){e.buttonWidth&&delete e.buttonWidth});var t=this.getRenderedItems(e,this.state.bookmarkSorting);this.setState({bookmarksData:e,renderedArray:t})},getRenderedItems:function(e,t){return e.length>0&&t&&t.sortOrder>=m.ASCENDING_SORT?m.treeSort(e,t.sortField,t.sortOrder):e},componentWillMount:function(){var e=this;v.get("BOOKMARKS_BAR_BOOKMARKSSORT",function(t){e._onSortChange(t.sortOrder,t.sortField)}),a.addChangeListener(this._onStoreChange)},componentWillUnmount:function(){a.removeChangeListener(this._onStoreChange)},onKeyDown:function(e){e.keyCode===l.KEY_ESCAPE&&this.state.dragoverBookmarkObj&&this.setState({dragoverBookmarkObj:{id:-1}})},openUrl:function(e,t,n){var i="MacIntel"===navigator.platform?n.command:n.ctrl;if(n.shift&&i)u.openWindow(e,{incognito:!1});else{var r={inCurrent:!0};n.shift?r.inCurrent=!1:i?(r.inCurrent=!1,r.inBackground=!0):"center"===n.button?(r.inCurrent=!1,r.inBackground=!0):"right"===n.button&&(r.inCurrent=!1,r.inBackground=!1),u.openURL(e,r)}},showDropMenu:function(e,t){var n=this,i=function s(e){if(e.children){var t=[];return t.push({name:d("Add Active Tab"),handler:o.bookmarkPageInFolder.bind(n,c.getActivePage(),e.id)}),e.children.length>0&&(t.push({name:"---"}),e.children.forEach(function(e){t.push(s(e))})),{mnemonic:!1,name:n.trimTitle(e.title),bookmarkFolder:!0,items:t}}return{mnemonic:!1,name:n.trimTitle(e.title),url:e.url,handler:n.openUrl.bind(null,e.url)}};if(e.children){var r=[];return r.push({name:d("Add Active Tab"),handler:o.bookmarkPageInFolder.bind(this,c.getActivePage(),e.id)}),e.children.length>0&&(r.push({name:"---"}),e.children.forEach(function(e){r.push(i(e,this))}.bind(this))),{mnemonic:!1,bookmarkFolder:!0,name:e.title,items:r}}var a={};return a.mnemonic=!1,a.name=e.title,a.url=e.url,a.handler=this.openUrl.bind(null,e.url),a},trimTitle:function(e){return e.length>50?e.substring(0,50)+"...":e},onButtonRendered:function(e,t){for(var n=this.state.bookmarksData,i=!1,r=0;r<n.length;r++)n[r].id===e&&n[r].buttonWidth!==t&&(n[r].buttonWidth=t,i=!0),e===n[n.length-1].id&&i===!0&&(this.change=!0,this.setState({bookmarksData:n}))},onResize:function(e){this.setState({width:Math.floor(e.width)})},getBookmarkBarButton:function(e){return i.createElement(s,{ref:e.id,key:e.id,item:e,edit:this.state.editId===e.id,onEditChanged:this.onEditChanged,keyAccess:this.props.keyAccess,onDragStart:this.onDragStart,onDragEnd:this.onDragEndBookmark,onDragOver:this.onDragOver,display:this.props.display,statusOff:this.props.statusOff,dragover:this.state.dragoverBookmarkObj.id===e.id,dragoverBookmarkObj:this.state.dragoverBookmarkObj,onMoveBookmark:this.onMoveBookmark,onCopyBookmark:this.onCopyBookmark,onButtonRendered:this.onButtonRendered,extractTitleFromDropEvent:this.extractTitleFromDropEvent,createNewBookmarksBarItem:this._createNewItem,onCut:this.onCutContextMenu.bind(this,e),onCopy:this.onCopyContextMenu.bind(this,e),onPaste:this.onPasteContextMenu.bind(this,e),openBookmarkInNewTab:this.state.BOOKMARKS_OPEN_IN_NEW_TAB})},_createNewItem:function(e,t,n){var i=this,r={parentId:a.getBookmarkBarFolderId(),title:t,index:n,url:e};h.bookmarks.create(r,function(e){i.resetDragoverObj()})},_createNewTopFolder:function(){var e=this,t={parentId:a.getBookmarkBarFolderId(),title:d("New Folder"),index:0,url:""};h.bookmarks.create(t,function(t){h.runtime.lastError||e.setState({editId:t.id})})},extractTitleFromDropEvent:function(e){var t=e.nativeEvent.dataTransfer.getData("title"),n=e.nativeEvent.dataTransfer.getData("text/html");if(""!==n){var i=document.createElement("div");i.innerHTML=n;var r=i.getElementsByTagName("a");if(r&&r[0]){var o=r[0].textContent;""!==o&&(t=o)}}return t},resetDragoverObj:function(){this.setState({dragoverBookmarkObj:{id:-1,position:"",index:null}})},onEditChanged:function(e){this.setState({editId:e})},onDragEndBookmark:function(){this.draggedId=-1,this.setState({dragoverBookmarkObj:{id:-1}})},onDropBar:function(e){var t=this;e.preventDefault(),e.stopPropagation();var n=e.dataTransfer.getData("text/type");if("BookmarkBarItem"===n){var i=JSON.parse(e.nativeEvent.dataTransfer.getData("ids"));h.bookmarks.get(i,function(e){e.forEach(function(e){var n={parentId:a.getBookmarkBarFolderId(),index:a.getBookmarksBar().length};h.bookmarks.move(e.id,n,function(e){t.resetDragoverObj()})})})}else{var r=e.dataTransfer.getData("URL"),o=this.extractTitleFromDropEvent(e),s=this.state.dragoverBookmarkObj.index;this._createNewItem(r,o,s)}},onDragOverBar:function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="move"},onDragOver:function(e,t){if(e.id!==this.draggedId){var n=t.currentTarget,i=n.getBoundingClientRect(),r=(t.clientX-i.left)/i.width,o="";this.state.bookmarkSorting.sortOrder===m.NO_SORTING?o=this.isFolder(e)?.33>=r?"left":r>.66?"right":"on":.5>=r?"left":"right":this.isFolder(e)&&(o="on"),(this.state.dragoverBookmarkObj.id!==e.id||this.state.dragoverBookmarkObj.id===e.id&&this.state.dragoverBookmarkObj.position!==o)&&this.setState({dragoverBookmarkObj:{id:e.id,position:o,index:e.index}})}},onDragStart:function(e){this.draggedId=e},onMoveBookmark:function(e,t){var n=this.state.dragoverBookmarkObj.position;h.bookmarks.get(t,function(t){t.forEach(function(t){var i={},r=this.isFolder(e);i.parentId=r&&"on"===n?e.id:e.parentId;var o=parseInt(e.index),a="right"===n?++o:o;i.index="on"===n?0:a,h.bookmarks.move(t.id,i,function(){this.setState({dragoverBookmarkObj:{id:-1}})}.bind(this))}.bind(this))}.bind(this))},onCopyBookmark:function(e,t,n){var i=this.findBookmarkItem(e),r=this.isFolder(n),o=this.state.dragoverBookmarkObj.position,a=parseInt(n.index),s="below"===o?++a:a;h.bookmarks.create({title:i.title,url:i.url?i.url:null,parentId:r?n.id:n.parentId,description:i.description?i.description:null,nickname:i.nickname?i.nickname:null,index:s})},findBookmarkItem:function(e){var t={},n=function i(n){return n.id===e?t=n:void(n.children&&n.children.forEach(function(e){i(e)}))};return this.state.bookmarksData.forEach(function(e){n(e)}.bind(this)),t},isFolder:function(e){return e?e.children&&e.children.length>0||void 0===e.url:!1},bookmarkTreeRemoveClipboardEventListeners:function(){document.removeEventListener("cut",this.onCut),document.removeEventListener("copy",this.onCopy),document.removeEventListener("paste",this.onPaste)},bookmarkTreeAddClipboardEventListeners:function(){document.addEventListener("cut",this.onCut),document.addEventListener("copy",this.onCopy),document.addEventListener("paste",this.onPaste)},onCut:function(e){this.setClipboard(e,!0)},onCopy:function(e){h.bookmarkManagerPrivate.copy([this.state.clipBoardBookmark.id])},onPaste:function(e){var t=e.clipboardData.getData("isCut"),n=[],i=this.state.clipBoardBookmark,r=this.isFolder(i)?i.id:i.parentId;try{n=JSON.parse(e.clipboardData.getData("application/json"))}catch(a){}var s=n.length;"true"===t?!function(){var e={parentId:i.parentId,index:++i.index},t=0;n.forEach(function(n){o.disableBookmarkMutationHandlers(),h.bookmarks.move(n.id,e,function(){t++,t===s&&o.enableBookmarkMutationHandlers()})})}():(o.disableBookmarkMutationHandlers(),h.bookmarkManagerPrivate.paste(r,[this.state.clipBoardBookmark.id]),o.enableBookmarkMutationHandlers())},onCutContextMenu:function(e){this.setState({clipBoardBookmark:e}),document.execCommand("cut")},onCopyContextMenu:function(e){this.setState({clipBoardBookmark:e}),document.execCommand("copy")},onPasteContextMenu:function(e){this.setState({clipBoardBookmark:e}),document.execCommand("paste")},setClipboard:function(e,t){if(e.clipboardData.setData("isCut",t),e.clipboardData.setData("text/plain",this.state.clipBoardBookmark.url),this.state.clipBoardBookmark.url&&this.state.clipBoardBookmark.title){var n='<a href="'+this.state.clipBoardBookmark.url+'">\n        '+this.state.clipBoardBookmark.title+"</a>";e.clipboardData.setData("text/html",n)}e.clipboardData.setData("application/json",JSON.stringify([this.state.clipBoardBookmark])),e.stopPropagation(),e.preventDefault()},getExtenderButtonItems:function(){var e=this,t=10,n=[];return this.state.renderedArray.map(function(i){t+(i.buttonWidth?i.buttonWidth:0)>e.state.width?(i.title=e.trimTitle(i.title),n.push(e.showDropMenu(i,"bottom"))):t+=i.buttonWidth?i.buttonWidth:0}),n},_onSortOrderChange:function(){var e=this.state.bookmarkSorting.sortOrder===m.DESCENDING_SORT?m.ASCENDING_SORT:m.DESCENDING_SORT;this._onSortChange(e,this.state.bookmarkSorting.sortField)},_onTitleSortChange:function(e){var t=this.state.bookmarkSorting.sortOrder;"manually"!==e&&t===m.NO_SORTING?t=m.ASCENDING_SORT:"manually"===e&&(t=m.NO_SORTING),this._onSortChange(t,e)},_onSortChange:function(e,t){var n=r(this.state,{bookmarkSorting:{sortOrder:{$set:e},sortField:{$set:t}}});this.setState(n);var i={sortOrder:e,sortField:t};v.set({BOOKMARKS_BAR_BOOKMARKSSORT:i});var o=g(this.getRenderedItems(this.state.bookmarksData,i));this.setState({renderedArray:o})},getSortMenu:function(){var e=[{name:d("New Folder"),handler:this._createNewTopFolder},{name:d("Sort"),items:[{name:d("Manually"),handler:this._onTitleSortChange.bind(this,"manually"),type:"checkbox",checked:"manually"===this.state.bookmarkSorting.sortField},{name:d("by Title"),handler:this._onTitleSortChange.bind(this,"title"),type:"checkbox",checked:"title"===this.state.bookmarkSorting.sortField},{name:d("by Address"),handler:this._onTitleSortChange.bind(this,"url"),type:"checkbox",checked:"url"===this.state.bookmarkSorting.sortField},{name:d("by Nickname"),handler:this._onTitleSortChange.bind(this,"nickname"),type:"checkbox",checked:"nickname"===this.state.bookmarkSorting.sortField},{name:d("by Description"),handler:this._onTitleSortChange.bind(this,"description"),type:"checkbox",checked:"description"===this.state.bookmarkSorting.sortField},{name:d("by Date Created"),handler:this._onTitleSortChange.bind(this,"dateAdded"),type:"checkbox",checked:"dateAdded"===this.state.bookmarkSorting.sortField}]}];if(this.state.bookmarkSorting.sortOrder!==m.NO_SORTING){var t=d(this.state.bookmarkSorting.sortOrder===m.ASCENDING_SORT?"Descending":"Ascending");e[1].items.push({name:d("---")}),e[1].items.push({name:t,handler:this._onSortOrderChange})}return e},render:function(){for(var e=!1,t=10,n=[],r=0;r<this.state.renderedArray.length;r++){var o=this.state.renderedArray[r],a=t+(o.buttonWidth?o.buttonWidth:0);if(a>this.state.width){e=!0;break}n.push(this.getBookmarkBarButton(o)),t=a}var s=e>0?i.createElement("button",{className:"chevron",title:d("More bookmarks"),tabIndex:this.props.keyAccess,onClick:f(this.getExtenderButtonItems,null,"bottom")},i.createElement("img",{src:"/resources/chevron@2x.png",alt:""})):null;return i.createElement("div",{className:p({"bookmark-bar":!0,"favicon-current-background-color":this.props.useTabColor}),onBlur:this.onLostFocus,onDragOver:this.onDragOverBar,onDragLeave:this.resetDragoverObj,onDrop:this.onDropBar,onFocus:this.onGotFocus,onContextMenu:f(this.getSortMenu,this.onContextMenuOpen)},i.createElement(A,{className:"observer",embedCss:!1,onKeyDown:this.onKeyDown,onResize:this.onResize},n),s)}});e.exports=_},function(e,t,n){"use strict";var i=n(1),r=n(12),o=n(33),a=n(71),s=n(23),l=n(14),u=n(19),c=n(61),A=n(2),d=n(3),h=n(6),p=n(21),f="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",m=i.createClass({displayName:"BookmarksBarItem",
mixins:[a],getInitialState:function(){return{dragging:!1,isEditing:this.props.edit,title:this.props.item.title,fallbackTitle:this.props.item.title}},componentDidUpdate:function(){var e=r.findDOMNode(this.refs.bookmarkButton).offsetWidth;this.props.onButtonRendered(this.props.item.id,e)},rename:function(){this.setState({isEditing:!0,fallbackTitle:this.props.item.title}),this.props.onEditChanged(this.props.item.id)},handleChange:function(e){this.setState({title:e.target.value})},handleKeyDown:function(e){var t=e.keyCode;t===s.KEY_ENTER||t===s.KEY_RETURN?(this.saveTitle(e.target.value),this.refs.input.blur()):t===s.KEY_ESCAPE&&(this.cancelEdit(),this.refs.input.blur())},killEvent:function(e){e.preventDefault(),e.stopPropagation()},cancelEdit:function(){this.setState({title:this.state.fallbackTitle,isEditing:!1}),this.props.onEditChanged(-1),this.saveTitle(this.state.fallbackTitle)},saveTitle:function(e){d.bookmarks.update(this.props.item.id,{title:e},function(){d.runtime.lastError&&console.warn("The computer tried to update a bookmark, but The Bookmark API said no: ",d.runtime.lastError.message)})},handleFocus:function(e){e.target.select()},handleBlur:function(e){this.state.title||this.cancelEdit(),this.setState({isEditing:!1}),this.props.onEditChanged(-1)},"delete":function(){this.isFolder(this.props.item)?d.bookmarks.removeTree(this.props.item.id):d.bookmarks.remove(this.props.item.id)},trimTitle:function(e){return e.length>50?e.substring(0,50)+"...":e},getFolderContent:function(e){function t(e,n){if(e.children){var i=[];return i.push({name:A("Add Active Tab"),handler:o.bookmarkPageInFolder.bind(this,u.getActivePage(),e.id)}),e.children.length>0&&(i.push({name:"---"}),e.children.forEach(function(e){i.push(t(e,n))})),{mnemonic:!1,bookmarkFolder:!0,name:n.trimTitle(e.title),items:i}}return{mnemonic:!1,name:n.trimTitle(e.title),handler:n.openUrl.bind(null,e.url),url:e.url}}var n=[];return n.push({name:A("Add Active Tab"),handler:o.bookmarkPageInFolder.bind(this,u.getActivePage(),e.id)}),e.children.length>0&&(n.push({name:"---"}),e.children.forEach(function(e){n.push(t(e,this))}.bind(this))),n},handleItemClick:function(e){var t=this.props.item;if(!t.children){var n="none";0===e.button?n="left":2===e.button?n="right":1===e.button&&(n="center");var i={ctrl:!!e.ctrlKey,alt:!!e.altKey,shift:!!e.shiftKey,command:!("MacIntel"!==navigator.platform||!e.metaKey),button:n};this.openUrl(t.url,e,i)}},openUrl:function(e,t,n){var i="MacIntel"===navigator.platform?n.command:n.ctrl;if(n.shift&&i)l.openWindow(e,{incognito:!1});else{var r={};this.props.openBookmarkInNewTab&&!e.startsWith("javascript:")?r.inCurrent=!1:r.inCurrent=!0,n.shift?r.inCurrent=!1:i?(r.inCurrent=!1,r.inBackground=!0):"center"===n.button?(r.inCurrent=!1,r.inBackground=!0):"right"===n.button&&(r.inCurrent=!1,r.inBackground=!1),l.openURL(e,r)}},handleDrop:function(e){e.preventDefault(),e.stopPropagation();var t="MacIntel"===navigator.platform?e.metaKey:e.ctrlKey,n=[],i=!1;try{n=JSON.parse(e.nativeEvent.dataTransfer.getData("ids"))}catch(r){i=!0}if(i){var o=e.nativeEvent.dataTransfer.getData("text"),a=this.props.extractTitleFromDropEvent(e),s=this.props.dragoverBookmarkObj.index;this.props.createNewBookmarksBarItem(o,a,s)}else t?this.props.onCopyBookmark(this.props.item,n):this.props.onMoveBookmark(this.props.item,n)},handleDragStart:function(e){this.props.onDragStart(this.props.item.id),this.setState({dragging:!0}),e.dataTransfer.setData("text/type","BookmarkBarItem"),e.dataTransfer.setData("text/plain",this.props.item.url),e.dataTransfer.setData("text/uri-list",this.props.item.url),e.dataTransfer.effectAllowed="all",e.nativeEvent.dataTransfer.setData("ids",JSON.stringify([this.props.item.id.toString()])),e.nativeEvent.dataTransfer.setData("parentId",""+this.props.item.parentId),e.nativeEvent.dataTransfer.setData("text",""+this.props.item.url)},handleDragEnd:function(e){this.setState({dragging:!1}),this.props.onDragEnd()},handleDragLeave:function(e){},handleDragEnter:function(e){e.preventDefault()},handleDragOver:function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.dataTransfer.dropEffect="move",this.props.onDragOver(this.props.item,e)},handleMouseEnter:function(e){c.setStatus(this.props.item.url?this.props.item.url:this.props.item.title)},handleMouseLeave:function(e){c.clearStatus()},_openInNewWindow:function(e,t,n){e.children&&e.children.length>0?e.children.forEach(function(e){e.url&&this.openInNewWindow(e,t,n)}.bind(this)):e.url&&this.openInNewWindow(e,t,n)},_openInNewTab:function(e,t){e.children&&e.children.length>0?e.children.forEach(function(e){e.url&&this.openInNewTab(e,t)}.bind(this)):e.url&&this.openInNewTab(e,t)},_open:function(e){e.children&&e.children.length>0?e.children.forEach(function(e){e.url&&this.openInNewTab(e,!1)}.bind(this)):e.url&&this.openInCurrentTab(e)},isFolder:function(e){return e?e.children&&e.children.length>=0||void 0===e.url:!1},getContextMenuItems:function(e){return[{name:A("Open"),handler:this._open.bind(this,e)},{name:A("Open in New Tab"),handler:this._openInNewTab.bind(this,e,!1)},{name:A("Open in Background Tab"),handler:this._openInNewTab.bind(this,e,!0)},{name:"---"},{name:A("Open in New Window"),handler:this._openInNewWindow.bind(this,e,!1,!1)},{name:A("Open in Background Window"),handler:this._openInNewWindow.bind(this,e,!0,!1)},{name:A("Open in Private Window"),handler:this._openInNewWindow.bind(this,e,!1,!0)},{name:"---"},{name:A("Rename"),handler:this.rename},{name:"---"},{name:"MacIntel"===navigator.platform?A("mac","Cut"):A("win_linux","Cut"),handler:this.props.onCut},{name:"MacIntel"===navigator.platform?A("mac","Copy"):A("win_linux","Copy"),handler:this.props.onCopy},{name:"MacIntel"===navigator.platform?A("mac","Paste"):A("win_linux","Paste"),handler:this.props.onPaste},{name:A("other","Delete"),handler:this["delete"]}]},render:function(){var e,t,n=this.props.item;n.url?(e="chrome://favicon/"+n.url,t="icon"):(e=f,t="selectedfolder");var r;"icon"===this.props.display&&n.title&&n.url?(r=n.title,n.url!=="http://"+n.title&&(r=r+" ("+n.url+")")):"icon"===this.props.display&&n.title?r=n.title:n.url&&(r=n.url),void 0===r&&(r=A("Show folder contents"));var o=!1;return"icon"!==this.props.display&&(o="iconexceptfolders"===this.props.display?!n.url:!0),i.createElement("button",{key:n.id,ref:"bookmarkButton",title:this.props.statusOff?r:null,tabIndex:this.props.keyAccess,className:h({dragging:this.state.dragging,dragover:this.props.dragoverBookmarkObj.id===n.id&&"on"===this.props.dragoverBookmarkObj.position,dragoverLeft:this.props.dragoverBookmarkObj.id===n.id&&"left"===this.props.dragoverBookmarkObj.position,dragoverRight:this.props.dragoverBookmarkObj.id===n.id&&"right"===this.props.dragoverBookmarkObj.position}),draggable:!this.state.isEditing,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onDragOver:this.handleDragOver,onDrop:this.handleDrop,onMouseEnter:this.props.statusOff?null:this.handleMouseEnter,onMouseLeave:this.props.statusOff?null:this.handleMouseLeave,onClick:n.children?p(this.getFolderContent.bind(this,n),null,"bottom"):this.handleItemClick,onContextMenu:p(this.getContextMenuItems.bind(this,n),this.onContextMenuOpen),onKeyUp:this.killEvent},(!n.url||"text"!==this.props.display&&n.url)&&i.createElement("img",{src:e,alt:"",className:t}),this.state.isEditing?i.createElement("input",{ref:"input",type:"text",value:this.state.title,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.killEvent,onKeyDown:this.handleKeyDown,onChange:this.handleChange,autoFocus:!0}):o&&n.title)}});e.exports=m},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(3),a=n(9),s=n(6),l=n(71),u=n(21),c=n(2),A=n(33),d=n(61),h="0",p="1",f="2",m=i.createClass({displayName:"BookmarkItem",mixins:[l,r],handleEdit:function(){this.props.onEdit(this.props.bookmark)},isFolder:function(){return!this.props.bookmark.url},isTrash:function(){return this.props.bookmark.trash},hasChildren:function(){return this.props.bookmark.children&&this.props.bookmark.children.length>0},canBeSpeedDialFolder:function(){return this.isFolder()&&this.isEditable()},isEditable:function(){return-1===[h,p,f].indexOf(this.props.bookmark.id)},getBookmarkIcon:function(){var e="";return e=this.isFolder()?this.isTrash()?"/resources/trash-vivaldi-tree@2x.png":this.props.isExpanded?"/resources/folder_open.png":"/resources/folder.png":"chrome://favicon/"+this.props.bookmark.url},handleDoubleClick:function(){this.isFolder()?this.handleExpandClick():this.props.openBookmarkInNewTab&&!this.props.bookmark.url.startsWith("javascript:")?this._openInNewTab(!1):this.openInCurrentTab(this.props.bookmark)},onContextMenuOpen:function(e){},handleDragStart:function(e){this.props.createBookmark&&this.props.onCancelCreate();var t=this.props.getAllSelectedBookmark(),n=[];for(var i in t)n.push(t[i].id);e.dataTransfer.setData("text/plain","Bookmark"),e.dataTransfer.setData("text/uri-list",this.props.bookmark.url),e.dataTransfer.effectAllowed="all",e.nativeEvent.dataTransfer.setData("ids",""+JSON.stringify(n)),e.nativeEvent.dataTransfer.setData("parentId",""+this.props.bookmark.parentId),e.nativeEvent.dataTransfer.setData("text",""+this.props.bookmark.url),e.nativeEvent.dataTransfer.setData("title",this.props.bookmark.title),this.setState({dragging:!0})},handleDragEnd:function(e){var t=this,n=this.props.dragoverBookmarkObj;if(n.lastFolderId===n.id){var i=this.props.getAllSelectedBookmark();o.bookmarks.get(n.id,function(e){i.length>0&&i.forEach(function(n){t.props.onMoveBookmark(n.id,e[0],!0)})})}this.setState({dragging:!1}),this.props.onDragEnd()},handleDrop:function(e){var t=this;e.preventDefault(),e.stopPropagation();var n="MacIntel"===navigator.platform?e.metaKey:e.ctrlKey,i=!1,r=[];try{r=JSON.parse(e.nativeEvent.dataTransfer.getData("ids"))}catch(e){i=!0}if(i){var o=e.nativeEvent.dataTransfer.getData("text"),a=e.nativeEvent.dataTransfer.getData("title");this.props.createUrlOnly(o,a)}else r.length>0&&r.forEach(function(e){n?t.props.onCopyBookmark(e,t.props.bookmark):t.props.onMoveBookmark(e,t.props.bookmark)})},"delete":function(){this.props.onDelete(this.props.bookmark)},collapseAll:function(){this.props.collapseAll()},expandAll:function(){this.props.expandAll()},newFolder:function(){this.props.onNewItem(this.props.bookmark,!0)},handleDragLeave:function(e){e.preventDefault(),e.stopPropagation(),this.props.onDragLeave(this.props.bookmark,e)},handleDragOver:function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.dataTransfer.dropEffect="move",this.props.onDragOver(this.props.bookmark,e)},toggleSpeeddial:function(e){this.props.onToggleSpeeddial(this.props.bookmark)},spreedial:function(e){return!0},handleMouseDown:function(e){this.props.onItemMouseDown(e,this.props.bookmark),1===e.button&&(e.preventDefault(),e.stopPropagation())},handleMouseUp:function(e){this.props.onItemMouseUp(e,this.props.bookmark),1===e.button&&(this._openInNewTab(!0),e.preventDefault(),e.stopPropagation())},handleMouseEnter:function(e){d.setStatus(this.props.bookmark.url)},handleMouseLeave:function(e){d.clearStatus()},_openInNewWindow:function(e,t){this._open({type:"newWindow",background:e,incognito:t})},_openInNewTab:function(e){this._open({type:"newTab",background:e})},_openBookmark:function(){this._open({type:"generic"})},_open:function(e){var t=this.props.getAllSelectedBookmark().map(function(e){return e.id});this.openSelectedBookmarks(e,t,this.props.openBookmarkInNewTab)},_emptyTrash:function(){a.bookmarksPrivate.emptyTrash(function(e){e===!1&&console.warn("Empty trash failed.")})},setAsBookmarkBarFolder:function(e){A.setBookmarkBarFolderAndShow(e.id)},onCut:function(){this.props.onCut(this.props.bookmark)},onCopy:function(){this.props.onCopy(this.props.bookmark)},onPaste:function(){this.props.onPaste(this.props.bookmark)},handleExpandClick:function(){this.props.bookmark.children&&this.props.bookmark.children.length>0&&(this.props.toggle(this.props.bookmark.id),event.preventDefault(),event.stopPropagation())},moveToBookmarkBarFolder:function(e){this.props.moveBookmarkToBookmarkBarFolder(e)},getContextMenuItems:function(){return this.isTrash()?[{name:c("Empty Trash"),handler:this._emptyTrash}]:[{name:c("Open"),handler:this._openBookmark},{name:c("Open in New Tab"),handler:this._openInNewTab.bind(this,!1)},{name:c("Open in Background Tab"),handler:this._openInNewTab.bind(this,!0)},{name:"---"},{name:c("Open in New Window"),handler:this._openInNewWindow.bind(this,!1)},{name:c("Open in Private Window"),handler:this._openInNewWindow.bind(this,!1,!0)},{name:"---"},{name:c("Use as Speed Dial"),visible:this.canBeSpeedDialFolder()&&!this.props.bookmark.speeddial,handler:this.toggleSpeeddial},{name:c("Remove from Speed Dial"),visible:this.canBeSpeedDialFolder()&&this.props.bookmark.speeddial,handler:this.toggleSpeeddial},{name:c("Set as Bookmark Bar"),visible:this.isFolder(),handler:this.setAsBookmarkBarFolder.bind(this,this.props.bookmark)},{name:c("Move to Bookmark Bar"),handler:this.moveToBookmarkBarFolder.bind(this,this.props.bookmark)},{name:"---"},{name:c("Add New Folder"),handler:this.newFolder},{name:c("verb","Edit"),handler:this.handleEdit.bind(this,this.props.bookmark),visible:!this.props.showBookmarkManager},{name:c("Collapse All folders"),handler:this.collapseAll},{name:c("Expand All folders"),handler:this.expandAll},{name:"---"},{name:c("verb","Cut"),handler:this.onCut},{name:c("verb","Copy"),handler:this.onCopy},{name:c("verb","Paste"),handler:this.onPaste},{name:c("other","Delete"),handler:this["delete"]}]},render:function(){var e=this.props.selected,t=this.props.lead,n=this.props.bookmark.padding+"px",r=this.props.bookmark.padding+16+"px";return i.createElement("div",{refs:"tree-item",key:this.props.bookmark.id,"data-id":this.props.bookmark.id,className:"tree-item","data-selected":e?"":null,"data-lead":t?"":null,"data-cut":this.props.isCut?"":null,"data-expanded":this.props.isExpanded?"":null,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop,onContextMenu:u(this.getContextMenuItems,this.onContextMenuOpen)},i.createElement("div",{className:s({folder:this.isFolder()&&!this.isTrash(),trash:this.isTrash(),"tree-row":!0,dragging:this.props.dragging,dragover:this.props.dragoverBookmarkObj.id===this.props.bookmark.id&&"on"===this.props.dragoverBookmarkObj.position,dragoverAbove:this.props.dragoverBookmarkObj.id===this.props.bookmark.id&&"above"===this.props.dragoverBookmarkObj.position,dragoverBelow:this.props.dragoverBookmarkObj.id===this.props.bookmark.id&&"below"===this.props.dragoverBookmarkObj.position,"speeddial-folder":this.isFolder()&&this.props.bookmark.speeddial}),title:this.props.statusOff?this.props.bookmark.url:null,"data-selected":e?"":null,"data-nofocus":e&&!this.props.hasFocus?"":null,onDoubleClick:this.handleDoubleClick,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onMouseEnter:this.props.statusOff?null:this.handleMouseEnter,onMouseLeave:this.props.statusOff?null:this.handleMouseLeave,draggable:"true",onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd},i.createElement("label",{"data-parent":this.props.bookmark.parentId},this.isFolder()&&this.hasChildren()&&i.createElement("span",{className:"expand-icon",style:{marginLeft:n},onClick:this.handleExpandClick},this.hasChildren()?i.createElement("img",null):null),i.createElement("img",{src:this.getBookmarkIcon(),width:"16",height:"16",alt:"",style:{marginLeft:this.hasChildren()?0:r}}),i.createElement("span",{className:"title"},this.props.bookmark.title),this.hasChildren()&&!this.props.showBookmarkManager&&i.createElement("span",{className:"folder-item-count"},this.props.bookmark.children.length)),this.props.showBookmarkManager&&i.createElement("label",null,this.hasChildren()&&this.props.showBookmarkManager?i.createElement("span",{className:"secondary"},c("$1 item","$1 items",[this.props.bookmark.children.length])):this.props.bookmark.url),this.props.showBookmarkManager&&i.createElement("label",null,this.props.bookmark.nickname),this.props.showBookmarkManager&&i.createElement("label",null,this.props.bookmark.description)))}});e.exports=m},function(e,t,n){"use strict";var i=n(1),r=n(115),o=n(31),a=n(17),s=n(2),l=i.createClass({displayName:"VivaldiDropdown",mixins:[o],propTypes:{store:i.PropTypes.array,displayField:i.PropTypes.string,shortcut:i.PropTypes.string,itemField:i.PropTypes.string,onItemClicked:i.PropTypes.func,onClose:i.PropTypes.func,keyAccess:i.PropTypes.oneOf(["-1","0"]),disabled:i.PropTypes.bool},getInitialState:function(){return{isExpanded:this.props.isExpanded===!0||!1}},handleClickOutside:function(e){this.setState({isExpanded:!1})},onItemClicked:function(e,t){t&&t.stopPropagation(),this.props.onItemClicked(e.Id),this.setState({isExpanded:!1})},collapse:function(){this.state.isExpanded&&("function"==typeof this.props.onClose&&this.props.onClose(),this.setState({isExpanded:!1}))},expand:function(e){e&&e.preventDefault(),this.setState({isExpanded:!this.state.isExpanded})},isExpanded:function(){return this.state.isExpanded},renderDropdown:function(){var e=this.props.store.map(function(e){return{name:e.Name,icon:e.Image||e.FaviconUrl,shortcut:e.Keyword,noPrettifying:!0,Id:e.Id}});return i.createElement(r,{items:e,open:!0,minWidth:this.props.minWidth,onClosed:this.collapse,onItemSelected:this.onItemClicked,onDeleted:this.props.onDeleted})},renderTrigger:function(){return"search"===this.props.type?i.createElement("button",{className:"button-addressfield input-dropdown search-engines",tabIndex:this.props.keyAccess,onMouseDown:this.expand,title:s("Change search engine"),dangerouslySetInnerHTML:{__html:n(515)}}):i.createElement("button",{className:"button-addressfield input-dropdown search-history",tabIndex:this.props.keyAccess,onMouseDown:this.expand,disabled:this.props.disabled,title:s("Show search history"),dangerouslySetInnerHTML:{__html:n(209)}})},renderDefaultValue:function(){var e,t=this;a.isArray(this.props.store)&&this.props.store.length>0&&(e=a.find(this.props.store,function(e){return e[t.props.itemField]===t.props.value?e:void 0}));var n=i.createElement("a",{tabIndex:"0",onFocusout:"",onClick:this.expand},s("Select"));return e&&(n=i.createElement("a",{tabIndex:"0",onFocusout:"",onClick:this.expand},this.props.imageField&&this.renderImage(e[this.props.imageField]),e[this.props.displayField])),i.createElement("div",{className:"iconmenu-header"},n)},render:function(){var e={};return e["is-expanded"]=this.state.isExpanded===!0,e["is-collapsed"]=this.state.isExpanded===!1,i.createElement("span",null,this.props.hideTrigger&&this.renderDefaultValue(),!this.props.hideTrigger&&this.renderTrigger(),this.state.isExpanded===!0&&this.renderDropdown())}});e.exports=l},function(e,t){"use strict";function n(){this._length=0,this._head=null,this._tail=null}n.prototype={add:function(e){var t={data:e,next:null,prev:null};0===this._length?(this._head=t,this._tail=t):(this._tail.next=t,t.prev=this._tail,this._tail=t),this._length++},get length(){return this._length}},e.exports=n},function(e,t,n){"use strict";function i(){this._linkedList=new r}var r=n(267);i.prototype={add:function(e){this._linkedList.add(e)},clear:function(e){this._linkedList=new r},get list(){return this._linkedList},get length(){return this._linkedList.length},get print(){return 1===this.selectedIds_.length}},e.exports=i},function(e,t,n){"use strict";function i(e){return e.nodes||"nodes"}function r(e){return{WebkitPaddingStart:16*e+"px"}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n(1),s=n(21),l=n(168),u=n(6),c=a.createClass({displayName:"TreeFolder",getDefaultProps:function(){return{depth:0}},onExpandButtonClick:function(e){this.props.toggleExpansion(this.props.node)},onFolderClick:function(e,t){this.props.onFolderSelected(e,t),t.stopPropagation()},hasChildren:function(){var e=i(this.props.tree.keyAttrMap);return this.props.node.hasOwnProperty(e)&&this.props.node[e].length>0},getContextMenuItems:function(){return this.props.tree.folderMenuItems?this.props.tree.folderMenuItems():[]},render:function(){var e=[];if(this.props.addNodeToKeyboardNavigation(this.props.node,this.props.parentId),e.push(a.createElement("div",{className:u({folder:!this.props.node.trash,trash:this.props.node.trash,"tree-row":!0,"speeddial-folder":this.props.node.speeddial}),title:this.props.tree.nodeTitle?this.props.tree.nodeTitle(this.props.node):"",onDoubleClick:this.onExpandButtonClick,key:this.props.node.id,onContextMenu:s(this.getContextMenuItems),"data-expanded":-1!==this.props.expandedNodes.indexOf(this.props.node.id)?"":null,"data-selected":this.props.isSelected(this.props.node)?"":null,"data-nofocus":this.props.isSelected(this.props.node)&&!this.props.hasFocus?"":null,"data-lead":this.props.isLead(this.props.node)?"":null},a.createElement("label",{ref:"FolderEnvelope",style:r(this.props.depth),onClick:this.onFolderClick.bind(this,this.props.node)},a.createElement("span",{ref:"FolderExpandButton",className:"expand-icon",onClick:this.onExpandButtonClick},this.hasChildren()&&a.createElement("img",{alt:""})),a.createElement("span",{ref:"FolderExpandButton",onClick:this.onExpandButtonClick}),a.createElement("img",{alt:""}),a.createElement("span",{ref:"FolderDisplay",className:"mailpanel-counter",onClick:this.onFolderClick.bind(this,this.props.node)},this.props.tree.nodeDisplayName?this.props.tree.nodeDisplayName(this.props.node):this.props.node.toString())))),-1!==this.props.expandedNodes.indexOf(this.props.node.id)){var t=i(this.props.tree.keyAttrMap),n=this.props.node[t]||[];n.map(function(n){this.props.tree.isFolder(n)?e.push(a.createElement(c,o({},this.props,{parentId:this.props.node.id,nodes:n[t],node:n,key:n.id,toggleExpansion:this.props.toggleExpansion,expandedNodes:this.props.expandedNodes,depth:this.props.depth+1}))):e.push(a.createElement(l,o({},this.props,{parentId:this.props.node.id,node:n,key:n.id,depth:this.props.depth+1})))}.bind(this))}return a.createElement("div",null,e)}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(6),o=n(23),a=n(21),s=n(2),l=i.createClass({displayName:"TreeItem",isFolder:function(){return this.props.isFolder(this.props.treeItem)},isTrash:function(){return this.props.isTrash(this.props.treeItem)},isEditable:function(){return this.props.isEditable(this.props.treeItem)},handleClick:function(e){e.preventDefault(),e.stopPropagation()},handleDoubleClick:function(){this.isFolder()?this.handleExpandClick():this.props.onDoubleClick(this.props.treeItem)},onContextMenuOpen:function(e){this.props.onSelect(e,this.props.treeItem)},keyDown:function(e){if(e.keyCode===o.KEY_ENTER||e.keyCode===o.KEY_RETURN){var t=this.props.getSelectedItem();this._open(t)}},handleDragStart:function(e){this.props.createBookmark&&this.props.onCancelCreate();var t=this.props.getAllSelectedItems(),n=[];for(var i in t)n.push(t[i].id);e.dataTransfer.setData("text/plain","Bookmark"),e.dataTransfer.setData("text/uri-list",this.props.treeItem.url),e.dataTransfer.effectAllowed="all",e.nativeEvent.dataTransfer.setData("ids",""+JSON.stringify(n)),e.nativeEvent.dataTransfer.setData("parentId",""+this.props.treeItem.parentId),e.nativeEvent.dataTransfer.setData("text",""+this.props.treeItem.url),e.nativeEvent.dataTransfer.setData("title",this.props.treeItem.title),this.setState({dragging:!0})},handleDragEnd:function(e){this.setState({dragging:!1}),this.props.onDragEnd()},handleDrop:function(e){e.preventDefault(),e.stopPropagation();var t=JSON.parse(e.nativeEvent.dataTransfer.getData("ids"));t.length>0&&t.forEach(function(e){this.props.onMoveItem(e,this.props.treeItem)}.bind(this))},handleDragOver:function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.dataTransfer.dropEffect="move",this.props.onDragOver(this.props.treeItem,e)},handleMouseDown:function(e){this.props.onItemMouseDown(e)},handleMouseUp:function(e){this.props.onItemMouseUp(e)},handleExpandClick:function(){this.props.treeItem.children&&this.props.treeItem.children.length>0&&(this.props.toggle(this.props.treeItem.id),event.preventDefault(),event.stopPropagation())},getContextMenuItems:function(){return this.isTrash()?[{name:s("Empty Trash"),handler:this.props.onEmptyTrash}]:this.props.items.menuItems()},render:function(){var e=this.props.items.columns,t=Object.keys(e).map(function(t){return e[t](this.props.treeItem)}.bind(this)),n=this.props.selected,o=this.props.lead;return i.createElement("div",{key:this.props.treeItem.id,refs:"tree-item","data-id":this.props.treeItem.id,className:"tree-item","data-selected":n?"":null,"data-lead":o?"":null,"data-cut":this.props.isCut?"":null,"data-expanded":this.props.isExpanded(this.props.treeItem.id)?"":null,onDragOver:this.handleDragOver,onDrop:this.handleDrop,onKeyDown:this.keyDown,onContextMenu:a(this.getContextMenuItems,this.onContextMenuOpen)},i.createElement("div",{className:r({folder:this.isFolder()&&!this.isTrash(),trash:this.isTrash(),"tree-row":!0,dragging:this.props.dragging,dragover:this.props.dragoverObj.id===this.props.treeItem.id&&"on"===this.props.dragoverObj.position,dragoverAbove:this.props.dragoverObj.id===this.props.treeItem.id&&"above"===this.props.dragoverObj.position,dragoverBelow:this.props.dragoverObj.id===this.props.treeItem.id&&"below"===this.props.dragoverObj.position,"speeddial-folder":this.isFolder()&&this.props.treeItem.speeddial}),"data-selected":n?"":null,"data-nofocus":n&&!this.props.hasFocus?"":null,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,draggable:"true",onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd},i.createElement("label",null,t)))}});e.exports=l},function(e,t,n){"use strict";function i(e){return e.nodes||"nodes"}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=n(1),a=n(164),s=n(162),l=n(4),u=n(269),c=n(168),A=o.createClass({displayName:"VivaldiTree",mixins:[a,s],getInitialState:function(){return{hasFocus:!1,expandedNodes:[]}},componentWillMount:function(){var e="EXPAND_"+this.props.tree.name,t="SELECTION_"+this.props.tree.name;l.get([e,t],function(n){Array.isArray(n[e])&&this.setState({expandedNodes:n[e]}),this.SelectionMixinSetSelection(n[t])}.bind(this))},componentWillUnmount:function(){this.KeyboardNavigationMixinOnBlur()},saveSelection:function(){var e="SELECTION_"+this.props.tree.name,t=this.SelectionMixinGetSelected(),n={};n[e]=t,l.set(n)},folderSelected:function(e,t){t&&this.refs.TreeEnvelope.focus(),this.SelectionMixinSelectItem(e.id),this.props.tree.folderSelected(e,t),this.saveSelection()},nodeSelected:function(e,t){t&&this.refs.TreeEnvelope.focus(),this.SelectionMixinSelectItem(e.id),this.props.tree.nodeSelected(e,t),this.saveSelection()},onNodeDoubleClick:function(e,t){this.props.tree.nodeDoubleClicked(e,t)},findNodeById:function(e){for(var t=0;t<this.props.tree.nodes.length;t++){var n=this.props.tree.nodes[t];if(n.id===e)return n}},onDelete:function(e){this.props.onDelete()},unSelectAllTreeItems:function(){this.unSelectAll()},selectById:function(e,t){var n=this.findNodeById(e);n&&(this.props.tree.isFolder(n)?this.folderSelected(n,t):this.nodeSelected(n,t),t.target.children[n.index]&&t.target.querySelector("[data-lead]").scrollIntoViewIfNeeded())},isSelected:function(e){return this.SelectionMixinIsSelected(e.id)},isLead:function(e){return this.SelectionMixinGetLead()===e.id},toggleExpansion:function(e){var t,n=this.state.expandedNodes.indexOf(e.id);-1===n?t=this.state.expandedNodes.concat(e.id):(this.state.expandedNodes.splice(n,1),t=this.state.expandedNodes.slice()),this.setState({expandedNodes:t});var i={};i["EXPAND_"+this.props.tree.name]=t,l.set(i)},onLostFocus:function(){this.setState({hasFocus:!1}),this.KeyboardNavigationMixinOnBlur()},onGotFocus:function(){this.setState({hasFocus:!0}),this.KeyboardNavigationMixinOnFocus()},addNodeToKeyboardNavigation:function(e,t){this.KeyboardNavigationMixinAddItemToNavigationList(e.id,t)},render:function(){this.KeyboardNavigationMixinReset();var e=[];return this.props.tree.nodes.map(function(t){if(this.props.tree.isFolder(t)||this.props.tree.isTrash&&this.props.tree.isTrash(t)){var n=i(this.props.tree.keyAttrMap);e.push(o.createElement(u,r({},this.props,{parentId:0,nodes:t[n],node:t,key:t.id,onFolderSelected:this.folderSelected,onNodeSelected:this.nodeSelected,hasFocus:this.state.hasFocus,isSelected:this.isSelected,isLead:this.isLead,toggleExpansion:this.toggleExpansion,expandedNodes:this.state.expandedNodes,addNodeToKeyboardNavigation:this.addNodeToKeyboardNavigation})))}else e.push(o.createElement(c,r({},this.props,{parentId:0,node:t,key:t.id,onNodeSelected:this.nodeSelected,onNodeDoubleClick:this.onNodeDoubleClick,hasFocus:this.state.hasFocus,isSelected:this.isSelected,isLead:this.isLead,addNodeToKeyboardNavigation:this.addNodeToKeyboardNavigation})))}.bind(this)),o.createElement("div",{ref:"TreeEnvelope",tabIndex:"0",className:"vivaldi-tree",onFocus:this.onGotFocus,onBlur:this.onLostFocus},e)}});e.exports=A},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=n(1),o=n(49),a=n(7),s=n(163),l=s.KeyboardNavigationBindingOnFocus,u=s.KeyboardNavigationBindingOnBlur,c=n(165),A=n(4),d=n(63),h=n(95),p=n(210),f=n(270),m=n(23),g=1400,v=0,E=r.createClass({displayName:"VivTree",mixins:[a,c],getInitialState:function(){return this.rowHeight=24,{dragoverObj:{id:-1,position:"",lastFolderId:-1},hasFocus:!1,expandModel:{},renderedArray:[],cutItems:[]}},componentWillMount:function(){var e=this,t=this.props.tree.expandSettingsName;A.get(t,function(t){e.prepareDataForRender(e.props.treeNodes,t||{})});var n="SELECTION_"+t;A.get(n,function(t){t&&e.updateSelectionState(t)})},componentWillReceiveProps:function(e){this.prepareDataForRender(e.treeNodes,this.state.expandModel),this.props.filter!==e.filter&&this._onStoreChange(e.filter),this.props.sorting!==e.sorting&&this._onSortChange(e.sorting)},componentWillUpdate:function(e,t){this.rerenderVisibleTreeItems()},componentWillUnmount:function(){u(this.getKeyboardNavigationMixinHandlers()),this.treeRemoveClipboardEventListeners()},_onSortChange:function(e){var t=this.getRenderedItems(h(this.props.treeNodes),this.state.expandModel,e);this.setState({renderedArray:t})},refreshTree:function(e){var t=this.getRenderedItems(this.props.treeNodes,this.state.expandModel,this.props.sorting,e);this.setState({renderedArray:t})},prepareDataForRender:function(e,t){var n=function a(e){e.children&&e.children.forEach(function(t){t.padding=e.padding+16,a(t)})};e.forEach(function(e){e.padding=0,n(e)});var i=this.getRenderedItems(e,t,this.props.sorting),r=o(this.state,{renderedArray:{$set:i},expandModel:{$set:t}});this.setState(r)},onCut:function(e){this.setState({cutItems:this.SelectionMixinGetAllSelected()}),this.setClipboard(e,!0)},onCopy:function(e){this.setClipboard(e,!1)},toggleSelectedExpansion:function(){var e=this.SelectionMixinGetLead(),t=this.findTreeItem(e);this.isFolder(t)&&this.toggleExpandModel(t.id)},toggleExpandModel:function(e){this.state.expandModel[e]=!this.state.expandModel[e];var t={};t[this.props.tree.expandSettingsName]=this.state.expandModel,A.set(t);var n=this.getRenderedItems(this.props.treeNodes,this.state.expandModel,this.props.sorting);this.setState({expansionModel:this.state.expandModel,renderedArray:n})},isExpanded:function(e){return this.state.expandModel&&!!this.state.expandModel[e]},ExpandMixinCollapseAll:function(e){this.setState({expandModel:{}})},setClipboard:function(e,t){function n(e){for(var t in i)if(i[t].id===e.id){o.push(e);break}e.children&&e.children.forEach(function(e){n(e)})}var i=this.SelectionMixinGetAllSelected(),r=this.findTreeItem(this.SelectionMixinGetLead()),o=[];this.props.treeNodes.forEach(function(e){n(e)}),e.clipboardData.setData("isCut",t),
e.clipboardData.setData("text/plain",r.url?r.url:r.title),e.clipboardData.setData("application/json",JSON.stringify(o)),e.stopPropagation(),e.preventDefault()},onPaste:function(e){var t=this,n=e.clipboardData.getData("isCut"),r=[];try{r=JSON.parse(e.clipboardData.getData("application/json"))}catch(o){}var a=this.SelectionMixinGetLead(),s=this.findTreeItem(a),l=this.isFolder(s)?s.id:s.parentId,u=r.length;if("true"===n){var c=function(){if(0===t.state.cutItems.length)return{v:void 0};var e={parentId:l,index:t.isFolder(s)?0:++s.index},n=0;r.map(function(i){n++,t.props.tree.onMove(i.id,e,function(){n===u&&(t.setState({cutItems:[]}),t.selectById(i.id))})})}();if("object"===("undefined"==typeof c?"undefined":i(c)))return c.v}else!function(){var e=0;r.forEach(function(n){e++,n.parentId=l,t.props.tree.onCreate(n,function(n){u===e&&t.selectById(n.id)})})}()},treeRemoveClipboardEventListeners:function(){document.removeEventListener("cut",this.onCut),document.removeEventListener("copy",this.onCopy),document.removeEventListener("paste",this.onPaste)},treeAddClipboardEventListeners:function(){document.addEventListener("cut",this.onCut),document.addEventListener("copy",this.onCopy),document.addEventListener("paste",this.onPaste)},getKeyboardNavigationMixinHandlers:function(){return{up:this.onKeyArrowUp,down:this.onKeyArrowDown,ctrlUp:this.onKeyCtrlUp,ctrlDown:this.onKeyCtrlDown,home:this.onKeyHome,end:this.onKeyEnd,"delete":this.onKeyDelete,selectAll:this.onKeySelectAll,ctrlSpace:this.onKeyCtrlSpace,esc:this.onKeyEsc,left:this.onKeyLeftArrow,right:this.onKeyRightArrow}},onLostFocus:function(){this.treeRemoveClipboardEventListeners(),u(this.getKeyboardNavigationMixinHandlers()),this.setState({hasFocus:!1,cutItem:[]})},onGotFocus:function(){this.treeAddClipboardEventListeners(),l(this.getKeyboardNavigationMixinHandlers()),this.setState({hasFocus:!0})},leadChanged:function(e,t){var n=this.findTreeItem(e);this.scrollIntoToView(n.treeIndex,t)},scrollIntoToView:function(e,t){this.refs.treeListEntries&&this.refs.treeListEntries.scrollAround(e)},selectById:function(e,t,n){if(this.props.tree.onSelect(e,function(){}),-1===e)return void this.SelectionMixinSelectItem(e);n||(n=this.state.renderedArray.findIndex(function(t){return t.id===e})),this.scrollIntoToView(n,t),t?this.SelectionMixinSelectItem(e,t.ctrlKey,t.shiftKey,t.metaKey,"contextmenu"===t.type):this.SelectionMixinSelectItem(e);var i={};i["SELECTION_"+this.props.tree.expandSettingsName]=this.state.selectionModel,A.set(i),"-9999"===e},onItemDoubleClick:function(e,t){this.props.tree.onDoubleClick(e)},itemMouseDown:function(e,t){var n=this.SelectionMixinGetAllSelected(),i=!1;n.forEach(function(t){return e.id===t.id?void(i=!0):void 0});var r="MacIntel"===navigator.platform?t.metaKey:t.ctrlKey;i&&!r||this.selectById(e.id,t)},itemMouseUp:function(e,t){var n=this.SelectionMixinGetAllSelected(),i="MacIntel"===navigator.platform?t.metaKey:t.ctrlKey;n.length>1&&2!==t.button&&!i&&this.selectById(e.id,t)},handleSelection:function(e,t,n){return this.refs.treeListEntries.scrollAround(n),"-9999"===e.id?void this.cancelCreate():void this.selectById(e.id,t,n)},rerenderVisibleTreeItems:function(){this.refs.treeListEntries&&this.refs.treeListEntries.forceUpdate()},onNewItem:function(e){},onDelete:function(){this.props.tree.onDelete()},getNextSelectedAfterDelete:function(){var e=this.SelectionMixinGetLead(),t=this.findTreeItem(e),n=this.props.tree.isFolder(t),i=this.selectNextAfterDeletion(e,n);return i},deleteItems:function(){this.onDelete(),this.state.anchorCreateItemObj&&this.setState({anchorCreateItemObj:null})},edit:function(e){this.props.onEdit()},cancelCreate:function(){var e=this,t=-2;this.state.anchorCreateItemObj&&(t=this.state.anchorCreateItemObj.anchorId?this.state.anchorCreateItemObj.anchorId:"-1"),this.setState({anchorCreateItemObj:null},function(){-2!==t&&e.selectById(t)})},collapseAllFolders:function(){this.ExpandMixinCollapseAll();var e={};e[this.props.tree.expandSettingsName]={},A.set(e),this.prepareDataForRender(this.props.treeNodes,{})},expandAllFolders:function(){var e={},t=function i(t){!t.url&&t.children&&(e[t.id]=!0),t.children&&t.children.forEach(function(e){i(e)})};this.state.treeNodes.forEach(function(e){t(e)});var n={};n[this.props.tree.expandSettingsName]=e,A.set(n),this.prepareDataForRender(this.props.treeNodes,e)},onKeyCtrlUp:function(e){var t=this.SelectionMixinGetLead(),n=this.state.renderedArray.findIndex(function(e){return e.id===t});if(0!==n){var i=n-1,r=this.state.renderedArray[i];this.SelectionMixinSetLead(r.id),this.scrollIntoToView(i)}},onKeyCtrlDown:function(e){var t=this.SelectionMixinGetLead(),n=this.state.renderedArray.findIndex(function(e){return e.id===t}),i=this.state.renderedArray.length;if(n!==i-1){var r=n+1,o=this.state.renderedArray[r];this.SelectionMixinSetLead(o.id),this.scrollIntoToView(r)}},onKeyArrowDown:function(e){var t=this.SelectionMixinGetLead(),n=this.state.renderedArray.findIndex(function(e){return e.id===t}),i=this.state.renderedArray.length;if(n!==i-1){var r=n+1,o=this.state.renderedArray[r];this.selectById(o.id,e,r)}},onKeyArrowUp:function(e){var t=this.SelectionMixinGetLead(),n=this.state.renderedArray.findIndex(function(e){return e.id===t});if(0!==n){var i=n-1,r=this.state.renderedArray[i];this.selectById(r.id,e,i)}},onKeyHome:function(e){var t=this.state.renderedArray[0];this.selectById(t.id,e,0),e.preventDefault(),e.stopPropagation()},onKeyEnd:function(e){var t=this.state.renderedArray.length,n=this.state.renderedArray[t-1];this.selectById(n.id,e,t-1),e.preventDefault(),e.stopPropagation()},onKeyDelete:function(e){this.onDelete()},onKeySelectAll:function(e){this.SelectionMixinSelectAll()},onKeyCtrlSpace:function(e){var t=this.SelectionMixinGetLead();this.SelectionMixinSelectItem(t,e.ctrlKey,e.shiftKey,e.metaKey,"contextmenu"===e.type)},onKeyEsc:function(e){this.unSelectAll()},onKeyLeftArrow:function(e){if(this.isfolderAndHasItems&&this.isfolderAndHasItems()===!0){if(this.state.expandModel&&this.state.selectionModel.isSingleItemSelected){var t=this.isExpanded(this.state.selectionModel.FirstSingleItemSelected);t&&this.toggleExpandModel(this.state.selectionModel.FirstSingleItemSelected)}e.preventDefault(),e.stopPropagation()}},onKeyRightArrow:function(e){if(this.isfolderAndHasItems&&this.isfolderAndHasItems()===!0){if(this.state.expandModel&&this.state.selectionModel.isSingleItemSelected){var t=this.isExpanded(this.state.selectionModel.FirstSingleItemSelected);t||this.toggleExpandModel(this.state.selectionModel.FirstSingleItemSelected)}e.preventDefault(),e.stopPropagation()}},unSelectAll:function(){this.SelectionMixinUnSelectAll()},isItemLead:function(e){return e===this.SelectionMixinGetLead()},isItemSelected:function(e){return this.SelectionMixinIsSelected(e)},onDragOverItem:function(e,t){var n=t.currentTarget,i=n.getBoundingClientRect(),r=(t.clientY-i.top)/this.rowHeight,o="",a=this.isFolder(e.id)&&this.isExpanded(e.id);a||this.updateExpandFolderOnHover(t.timeStamp,e);var s=-1;this.state.treeNodes&&(s=this.state.treeNodes[this.state.treeNodes.length-1].id),this.isFolder(e)?o=.25>=r?"above":r>.75?"below":"on":.5>=r?o="above":r>.5&&(o="below"),(this.state.dragoverObj.id!==e.id||this.state.dragoverObj.id===e.id&&this.state.dragoverObj.position!==o)&&this.setState({dragoverObj:{id:e.id,position:o,lastFolderId:s}})},updateExpandFolderOnHover:function(e,t){for(var n=this.SelectionMixinGetAllSelected(),i=0;i<n.length;i++)if(t.id===n[i].id)return;var r=v;v=0,r?e-r>=g?this.toggleExpandModel(t.id):v=r:v=e},onMoveItem:function(e,t){if(e!==t.id){v=0;var n={},i=this.isFolder(t),r=this.state.dragoverObj.position;n.parentId=i&&"on"===r?t.id:t.parentId;var o=parseInt(t.index),a="below"===r?++o:o;n.index="on"===r?0:a,this.cancelDragOverObject(),this.props.tree.onMove(e.toString(),n,function(e){})}},cancelDragOverObject:function(){this.setState({dragoverObj:{id:-1,position:""}})},isFolder:function(e){return this.props.tree.isFolder(e)},isTrash:function(e){return this.props.tree.isTrash(e)},onDragEndItem:function(){this.cancelDragOverObject()},onKeyDown:function(e){e.keyCode===m.KEY_ESCAPE&&this.setState({cutItems:[]})},onScrollEvent:function(e){this.forceUpdate()},getSelectedItem:function(){var e=this.findTreeItem(this.SelectionMixinGetLead());return e},isfolderAndHasItems:function(){var e=this.getSelectedItem();return e.children&&e.children.length>0},getSelected:function(){return this.SelectionMixinGetSelected()},getRenderedItems:function(e,t,n,i){var r=this,o=[],a=function(e){return!!t[e]};n&&n.sortOrder>=d.ASCENDING_SORT&&(e=d.treeSort(e,n.sortField,n.sortOrder));var s=function l(e){o.push(e),i&&e.id===i.id&&o.push(r.getDummyCreateItem(i,e.padding)),e.children&&("0"===e.id||a(e.id))&&e.children.forEach(function(e){return l(e)})};return 0===e.length&&i&&o.push(this.getDummyCreateItem(i,0)),e.forEach(function(e){s(e)}),o},getAllSelectedItems:function(){return this.SelectionMixinGetAllSelected()},getLeadItem:function(){return this.SelectionMixinGetLead()},getDummyCreateItem:function(e,t){},findTreeItem:function(e){var t={},n=function i(n){return n.id===e?t=n:void(n.children&&n.children.forEach(function(e){i(e)}))};return this.props.treeNodes.forEach(function(e){n(e)}),t},selectNextAfterDeletion:function(e,t){var n=this.state.renderedArray.findIndex(function(t){return t.id===e}),i=n;return t?(i=0===n?1:n-1,this.state.renderedArray[i].id):this.state.renderedArray[i+1].id},getIdsBetween:function(e,t){var n=this.state.renderedArray.findIndex(function(t){return t.id===e}),i=this.state.renderedArray.findIndex(function(e){return e.id===t}),r=[];return r=n>i?this.state.renderedArray.slice(i,n+1):this.state.renderedArray.slice(n,i+1),r.map(function(e){return e.id})},getAllIds:function(){return this.state.renderedArray.map(function(e){return e.id})},renderTreeItem:function(e,t){var n=this.state.renderedArray[e];n.treeIndex=e;var i=this.SelectionMixinIsSelected(n.id),o=this.SelectionMixinGetLead()===n.id,a=this.state.cutItems.map(function(e){return e.id}).indexOf(n.id)>-1;return r.createElement(f,{key:t,index:e,treeItem:n,ref:"treeItem",toggle:this.toggleExpandModel,isExpanded:this.isExpanded,onSelect:this.handleSelection.bind(this,n,e),onItemMouseDown:this.itemMouseDown.bind(this,n),onItemMouseUp:this.itemMouseUp.bind(this,n),selected:i,hasFocus:this.state.hasFocus,lead:o,isCut:a,onDragOver:this.onDragOverItem,onDragEnd:this.onDragEndItem,onMoveItem:this.onMoveItem,onDelete:this.deleteItems,onToggleSpeeddial:this.props.onToggleSpeeddial,dragover:this.state.dragoverObj.id===n.id,dragoverObj:this.state.dragoverObj,onEdit:this.edit.bind(this,n),onNewItem:this.onNewItem,onCancelCreate:this.cancelCreate,getSelectedItem:this.getSelectedItem,getAllSelectedItems:this.SelectionMixinGetAllSelected,collapseAll:this.collapseAllFolders,expandAll:this.expandAllFolders,isFolder:this.props.tree.isFolder,isTrash:this.props.tree.isTrash,isEditable:this.props.tree.isEditable,items:this.props.tree.items,onEmptyTrash:this.props.tree.onEmptyTrash,onDoubleClick:this.onItemDoubleClick.bind(this,n)})},render:function(){return r.createElement("div",{ref:"treeItems",tabIndex:"0",className:"vivaldi-tree",onBlur:this.onLostFocus,onFocus:this.onGotFocus,onScroll:this.onScrollEvent,onKeyDown:this.onKeyDown},r.createElement(p,{ref:"treeListEntries",itemRenderer:this.renderTreeItem,length:this.state.renderedArray.length,type:"uniform"}))}});e.exports=E},function(e,t,n){"use strict";var i=n(1),r=n(12),o=n(26),a=n(6),s=n(21),l=n(74),u=i.createClass({displayName:"MenuItem",getDefaultProps:function(){return{isSelected:!1,menuShortcut:""}},componentWillMount:function(){this.props.menuShortcut.length>0&&o.bind(this.props.menuShortcut,this.handleMenuShortcut)},componentWillReceiveProps:function(e){e.isSelected===!0&&r.findDOMNode(this).scrollIntoViewIfNeeded(!1),e.menuShortcut!==this.props.menuShortcut&&(o.unbind(this.props.menuShortcut,this.handleMenuShortcut),e.menuShortcut.length>0&&o.bind(e.menuShortcut,this.handleMenuShortcut))},componentWillUnmount:function(){this.props.menuShortcut.length>0&&o.unbind(this.props.menuShortcut,this.handleMenuShortcut)},onItemSelected:function(e){2===e.button?e.stopPropagation():this.props.onItemSelected(this.props.menuItem,e)},killEvent:function(e){e.preventDefault(),e.stopPropagation()},handleMouseOver:function(){this.props.setSelected(this.props.nr)},handleMenuClosed:function(){this.props.platformPopups===!0&&this.props.menuDidClose()},handleMouseDown:function(e){this.props.platformPopups===!0&&s(this.props.menuItem.items,null,"bottom",this.refs.button,this.handleMenuClosed)(e)},handleMenuShortcut:function(e){this.props.platformPopups===!0&&(this.props.setSelected(this.props.nr),this.props.menuWillOpen(),s(this.props.menuItem.items,null,"bottom",this.refs.button,this.handleMenuClosed)(e))},getDisplayName:function(){if(-1===this.props.underlinedCharPosition)return this.props.menuItem.name;var e=this.props.menuItem.name,t=this.props.underlinedCharPosition;return i.createElement("span",null,t>0?e.substring(0,t):"",i.createElement("span",{className:"underlined"},e.substring(t,t+1)),e.substring(t+1),this.getDisplayShortcut())},getDisplayShortcut:function(){if(this.props.menuItem.shortcut){var e=this.props.menuItem.noPrettifying?this.props.menuItem.shortcut:l(this.props.menuItem.shortcut);return i.createElement("div",{className:"shortcut"},e)}return null},getIcon:function(){var e=void 0;return this.props.menuItem.iconSVG?this.props.menuItem.iconSVG:(e=this.props.menuItem.icon?this.props.menuItem.icon:this.props.menuItem.url?"chrome://favicon/"+this.props.menuItem.url:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7","<img src='"+e+"'>")},onDeleted:function(e,t){t.preventDefault(),t.stopPropagation(),"function"==typeof this.props.onDeleted&&this.props.onDeleted(e)},renderItem:function(){var e=this.props.menuItem.type||"normal";return i.createElement("li",{className:a({selectedItem:this.props.isSelected}),onMouseOver:this.handleMouseOver,onMouseDown:this.killEvent,onMouseUp:this.onItemSelected,title:this.props.menuItem.url},"normal"===e&&i.createElement("a",{tabIndex:"0"},i.createElement("span",{className:"menu-icon",dangerouslySetInnerHTML:{__html:this.getIcon()}}),i.createElement("span",{className:"menu-label"},this.getDisplayName()),this.props.onDeleted&&i.createElement("span",{className:"menu-delete",onMouseUp:this.onDeleted.bind(this,this.props.menuItem)})),"checkbox"===e&&i.createElement("a",{tabIndx:"0"},i.createElement("label",null,i.createElement("span",{className:"menu-icon"},i.createElement("input",{type:"checkbox",checked:this.props.menuItem.checked,readOnly:!0})),i.createElement("span",{className:"menu-label"},this.getDisplayName()))),"radio"===e&&i.createElement("a",{tabIndex:"0"},i.createElement("label",null,i.createElement("span",{className:"menu-icon"},i.createElement("input",{className:"menu-icon",type:"radio",name:"radiomenu",checked:this.props.menuItem.checked,readOnly:!0})),i.createElement("span",{className:"menu-label"},this.getDisplayName()))))},renderDivider:function(){return i.createElement("li",{className:"divider"})},renderSubmenuItem:function(){var e=n(115);return i.createElement("li",{className:a({selectedItem:this.props.isSelected,hasSubMenu:!0}),ref:"menuItem",onMouseOver:this.handleMouseOver,onMouseUp:this.killEvent,onMouseDown:this.handleMouseDown,onDoubleClick:this.killEvent},i.createElement("a",{tabIndex:"0",ref:"button"},i.createElement("img",{src:this.getIcon()}),this.getDisplayName()),this.props.platformPopups!==!0&&this.props.isSelected&&i.createElement(e,{items:this.props.menuItem.items,open:!0,subMenu:!0,onItemSelected:this.props.onItemSelected,onClosed:this.props.onClosed,giveFocusToParentMenu:this.props.giveFocusToParentMenu}))},render:function(){return this.props.menuItem.items?this.renderSubmenuItem():"---"===this.props.menuItem.name||"separator"===this.props.menuItem.type?this.renderDivider():this.renderItem()}});e.exports=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(275),a=function(){function e(){i(this,e)}return r(e,[{key:"put",value:function(e){return o.contacts.put(e)}},{key:"remove",value:function(e){return o.contacts["delete"](e)}},{key:"getAll",value:function(){var e={};return o.contacts.each(function(t){return e[t.id]=t}).then(function(){return e})}}]),e}();e.exports=new a},function(e,t,n){"use strict";var i=n(127),r=new i("Contact");r.version(1).stores({contacts:"id,address"}),r.open(),e.exports=r},function(e,t,n){"use strict";var i=n(1),r=n(116),o=n(271),a=i.createClass({displayName:"ContactTree",getNodeName:function(e){return e.name||e.address},getContactPhoto:function(e){return e.photo||r.prototype.defaultPhoto},isFolder:function(e){return!1},isTrash:function(e){return!1},render:function(){var e={name:"CONTACT_PANEL_TREE",nodeSelected:this.props.contactSelected,nodeDisplayName:this.getNodeName,getNodeIcon:this.getContactPhoto,isFolder:this.isFolder,isTrash:this.isTrash,keyAttrMap:{},nodeMenuItems:this.props.contactMenuItems,nodes:this.props.contactTree};return i.createElement(o,{tree:e})}});e.exports=a},function(e,t,n){"use strict";var i=n(1),r=n(116),o=n(111),a=n(2),s=i.createClass({displayName:"ContactView",attributeChange:function(e,t){var n=this.props.contact;n[e]=t,this.setState({contact:n})},nameChange:function(e){this.attributeChange("name",e.target.value)},addressChange:function(e){this.attributeChange("address",e.target.value)},phoneChange:function(e){this.attributeChange("phone",e.target.value)},postalChange:function(e){this.attributeChange("postal",e.target.value)},saveContact:function(){this.props.contact.isEmpty()||(o.saveContact(this.props.contact),o.selectContact(this.props.contact))},render:function(){return i.createElement("div",{className:"contact_view"},i.createElement("fieldset",null,i.createElement("img",{ref:"photo",src:this.props.contact.photo||r.prototype.defaultPhoto})),i.createElement("fieldset",null,i.createElement("input",{ref:"name",type:"text",value:this.props.contact.name,placeholder:a("Name"),onChange:this.nameChange,onBlur:this.saveContact})),i.createElement("fieldset",null,i.createElement("input",{ref:"email",type:"text",value:this.props.contact.address,placeholder:a("Email"),onChange:this.addressChange,onBlur:this.saveContact})),i.createElement("fieldset",null,i.createElement("input",{ref:"phone",type:"text",value:this.props.contact.phone,placeholder:a("Phone"),onChange:this.phoneChange,onBlur:this.saveContact})),i.createElement("fieldset",null,i.createElement("input",{ref:"postal",type:"text",value:this.props.contact.postal,placeholder:a("Address"),onChange:this.postalChange,onBlur:this.saveContact})))}});e.exports=s},function(e,t,n){"use strict";var i=n(1),r=n(12),o=n(116),a=n(276),s=n(277),l=n(421),u=n(420),c=n(111),A=n(14),d=n(41),h=n(7),p=n(2),f=n(6),m=n(73),g=n(21),v=n(20).urls,E=i.createClass({displayName:"ContactsPanel",mixins:[h],getInitialState:function(){return{contactTree:this._getAsNodeTree(""),filter:""}},componentWillMount:function(){d.addChangeListener(this.onPanelStoreChange),l.addChangeListener(this._contactsChanged),u.addChangeListener(this._contactsChanged)},componentWillUnmount:function(){d.removeChangeListener(this.onPanelStoreChange),l.removeChangeListener(this._contactsChanged),u.removeChangeListener(this._contactsChanged)},componentDidUpdate:function(e,t){!e.open&&this.props.open&&r.findDOMNode(this.refs.contactTree).focus()},onPanelStoreChange:function(e){this.props.open&&"setFocus"===e&&!m(r.findDOMNode(this))&&r.findDOMNode(this.refs.contactTree).focus()},_hasFilter:function(e,t){var n=e.name||e.address||"";return!t||0===t.length||n.toLowerCase().indexOf(t.toLowerCase())>-1},_getAsNodeTree:function(e){var t=this,n=l.getAll();return Object.keys(n).map(function(e){return n[e]}).filter(function(n){return t._hasFilter(n,e)})},_contactsChanged:function(){this.setState({contactTree:this._getAsNodeTree(this.state.filter)})},newContact:function(){c.selectContact(),this.setState({editor:!0})},deleteSelected:function(){c.deleteContact(u.getSelected())},deleteContact:function(e){c.deleteContact(e)},contactSelected:function(e){c.selectContact(e),A.openURL(v.internals.mailpage,{singleton:!0})},toggleEdit:function(){this.setState({editor:!this.state.editor})},getContactContextMenuItems:function(){return[{name:p("Compose"),handler:this.composeMail},{name:p("other","Delete"),handler:this.deleteContact}]},renderTree:function(){return i.createElement(a,{ref:"contactTree",contactTree:this.state.contactTree,contactSelected:this.contactSelected,contactMenuItems:this.getContactContextMenuItems})},renderEditor:function(){var e=u.getSelected()||new o;return i.createElement(s,{contact:e})},filterChange:function(e){var t=e.target.value;this.setState({filter:t,contactTree:this._getAsNodeTree(t)})},composeMail:function(){var e={};e.to=[u.getSelected()],A.openURL(v.internalUrl("mailpage","composer/new",p("Mail - New")))},getContextMenuItems:function(){return[{name:p("New Contact"),handler:this.newContact}]},render:function(){if(!this.props.open)return null;var e=f({"button-toolbar":!0,edit:!0,active:this.state.editor});return i.createElement("div",{className:"panel",id:"contacts"},i.createElement("header",null,i.createElement("h1",null,p("Contacts")),i.createElement("div",{className:"toolbar icons"},i.createElement("input",{type:"search",placeholder:p("Search..."),onChange:this.filterChange}),i.createElement("span",null,i.createElement("button",{className:"button-toolbar newcontact",ref:"newButton",title:p("New Contact"),tabIndex:this.props.keyAccess,onClick:g(this.getContextMenuItems),dangerouslySetInnerHTML:{__html:n(65)}}),i.createElement("button",{className:"button-toolbar delete",title:p("other","Delete"),tabIndex:this.props.keyAccess,onClick:this.deleteSelected,dangerouslySetInnerHTML:{__html:n(82)}}),i.createElement("button",{className:e,title:p("verb","Edit"),tabIndex:this.props.keyAccess,onClick:this.toggleEdit,dangerouslySetInnerHTML:{__html:n(208)}}),i.createElement("button",{className:"button-toolbar compose",ref:"compose",title:p("Compose mail to contact"),tabIndex:this.props.keyAccess,onClick:this.composeMail,dangerouslySetInnerHTML:{__html:n(207)}})))),i.createElement("section",{onContextMenu:g(this.getContextMenuItems)},this.renderTree()),this.state.editor&&this.renderEditor())}});e.exports=E},function(e,t){"use strict";function n(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;30>n;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}e.exports=n},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(71),a=n(31),s=n(158),l=n(3),u=n(9),c=n(23),A=n(2),d=n(6),h=n(190),p=n(126),f=i.createClass({displayName:"CreateBookmark",mixins:[o,a,r],getInitialState:function(){return{url:p(this.props.url),title:this.props.title,thumbnail:this.props.thumbnail,nickname:"",description:"",id:"",parentId:"1",treeParentId:"1",animated:!1,generalErrorKey:null}},componentWillReceiveProps:function(e){e.open&&this.onShowDialog(e)},onShowDialog:function(e){var t=this,n=e.bookmarkObj?e.bookmarkObj.id:null;n?this.setState({id:e.bookmarkObj.id,url:e.bookmarkObj.url,thumbnail:e.bookmarkObj.thumbnail,nickname:e.bookmarkObj.nickname,description:e.bookmarkObj.description,title:e.bookmarkObj.title,parentId:e.bookmarkObj.parentId,treeParentId:e.bookmarkObj.parentId,generalErrorKey:null}):this.isPageBookmarked(e.url,function(n){n.bookmarked?t.setState({id:n.bookmarkObj.id,url:n.bookmarkObj.url,thumbnail:n.bookmarkObj.thumbnail,nickname:n.bookmarkObj.nickname,description:n.bookmarkObj.description,title:n.bookmarkObj.title,parentId:n.bookmarkObj.parentId,treeParentId:n.bookmarkObj.parentId,generalErrorKey:null}):t.setState({id:"",url:e.url,title:e.title,thumbnail:e.thumbnail,bookmarked:e.isPageBookmarked,nickname:"",description:"",generalErrorKey:null})})},onSaveBookmark:function(){return""===this.state.url.trim()?void this.setState({generalErrorKey:A("URL cannot be empty.")}):void(this.state.id?(this.state.parentId!==this.state.treeParentId&&l.bookmarks.move(this.state.id,{parentId:this.state.treeParentId}),this.updateBookmark()):this.createBookmark())},createBookmark:function(){var e=this,t=this.state.url.trim();u.utilities.isUrlValid(this.state.url,function(n){n.urlValid&&n.schemeValid||(t="http://"+t),l.bookmarks.create({title:e.state.title,url:t,thumbnail:e.state.thumbnail,nickname:e.state.nickname,description:e.state.description,parentId:e.state.treeParentId,speeddial:!1},function(t){l.runtime.lastError?e.setState({generalErrorKey:h(l.runtime.lastError.message)+"\n                     "+A("Changes not saved.")}):(e.setState({id:t.id,animated:!0,generalErrorKey:null}),setTimeout(function(){e.setState({animated:!1})},1e3),e.onClose())})})},updateBookmark:function(){var e=this,t=this.state.url.trim();u.utilities.isUrlValid(this.state.url,function(n){n.urlValid&&n.schemeValid||(t="http://"+t),l.bookmarks.update(e.state.id,{title:e.state.title,url:t,thumbnail:e.state.thumbnail,nickname:e.state.nickname,description:e.state.description},function(t){l.runtime.lastError?e.setState({generalErrorKey:h(l.runtime.lastError.message)+"\n                     "+A("Changes not saved.")}):(e.setState({generalErrorKey:null}),e.onClose())})})},onDeleteBookmark:function(){var e=this;l.bookmarks.remove(this.state.id,function(){e.setState({id:""}),e.onClose()})},handleClickOutside:function(e){this.onClose()},onClose:function(){this.setState({id:""}),this.props.onClose()},keyDown:function(e){e.keyCode===c.KEY_ENTER||e.keyCode===c.KEY_RETURN?this.onSaveBookmark():e.keyCode===c.KEY_ESCAPE&&this.onClose()},onFolderChange:function(e){var t=e.target.value;this.setState({treeParentId:t})},changeValue:function(e,t){var n={};n[e]=t.target.value,n.generalErrorKey=null,this.setState(n)},render:function(){return i.createElement("div",{className:"add-bookmark-container addressfield-popup-container"},i.createElement("button",{ref:"addBookmark",tabIndex:this.props.keyAccess,disabled:!this.props.isBookmarkable,className:d({"button-addressfield":!0,bookmark:!0,bookmarked:this.props.isBookmarked,inactive:!this.props.isBookmarkable,docked:!this.props.isSearchOn,animated:this.state.animated}),onMouseDown:this.props.open?this.onClose:this.props.onOpen,title:A(this.props.isBookmarked?"Edit bookmark":"Add bookmark")}),this.props.open&&i.createElement("div",{className:"dialog-add-bookmark",onKeyDown:this.keyDown,style:{maxHeight:window.innerHeight-125+"px"}},i.createElement("div",{className:"addbookmark-cardwrapper"},i.createElement("div",{className:"cb-image favicon-current-border-color",style:{backgroundImage:"url("+(this.state.thumbnail?this.state.thumbnail:"/resources/bookmark_item.png")+")"}}),i.createElement("div",{className:"dialog-content cardview"},i.createElement("div",{className:"cb-form-row"},i.createElement("input",{className:"cardview title",type:"text",value:this.state.title,onChange:this.changeValue.bind(this,"title"),title:A("Bookmark Name"),placeholder:A("Bookmark Name"),onKeyDown:this.keyDown,autoFocus:!0})),i.createElement("div",{className:"cb-form-row"},i.createElement("input",{className:"cardview address",type:"text",value:this.state.url,onChange:this.changeValue.bind(this,"url"),title:A("Address"),placeholder:A("Address"),onKeyDown:this.keyDown})),i.createElement("div",{className:"cb-form-row cardview"},i.createElement(s,{onChange:this.onFolderChange,selectedItemID:this.state.treeParentId,title:A("Bookmark Folder")})),i.createElement("div",{className:"cb-form-row"},i.createElement("textarea",{className:"cardview description",type:"text",value:this.state.description,onChange:this.changeValue.bind(this,"description"),title:A("Description"),placeholder:A("Description"),onKeyDown:this.keyDown})),i.createElement("div",{className:"cb-form-row"},i.createElement("input",{className:"cardview nickname",type:"text",value:this.state.nickname,onChange:this.changeValue.bind(this,"nickname"),title:A("Nickname"),placeholder:A("Nickname"),onKeyDown:this.keyDown})))),this.state.generalErrorKey&&i.createElement("p",{className:"warning"},this.state.generalErrorKey),i.createElement("footer",{className:"dialog-footer cardview"},i.createElement("input",{type:"button",autoFocus:!0,className:"primary",value:A("Save"),onClick:this.onSaveBookmark}),i.createElement("input",{type:"button",value:A("other","Delete"),disabled:!this.state.id,onClick:this.onDeleteBookmark}),i.createElement("input",{type:"button",value:A("Cancel"),onClick:this.onClose}))))}});e.exports=f},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(23),a=n(19),s=n(6),l=n(4),u=n(20),c=u.urls,A=212,d=24,h=i.createClass({displayName:"VisualTabSwitcher",mixins:[r],getInitialState:function(){return{selected:a.getActivePage(),pages:a.getPages(),workingPageSet:[]}},componentWillMount:function(){this.createPageList()},componentDidMount:function(){this.refs.visualTabSwitcher.focus(),a.addChangeListener(this.onPageStoreChange)},componentWillUnmount:function(){a.removeChangeListener(this.onPageStoreChange)},onPageStoreChange:function(){this.createPageList()},getMaxAllowedWidth:function(){return window.innerWidth-A},getNumberOfPreviews:function(){if(this.state.pages.size*A<this.getMaxAllowedWidth())return this.state.pages.size;for(var e=1;(e+1)*A+d<this.getMaxAllowedWidth()&&e<this.state.pages.size;)e++;return e},getPagesInOrder:function(){var e=this.state.pages,t=this.state.selected,n=a.getPageHistory(),i=void 0;if(l.get("TAB_CYCLING_ORDER",function(e){return i=e}),"recently used"===i)return n.map(function(t){return e.find(function(e){return e.get("id")===t})}).reverse();var r=e.slice(e.indexOf(t),e.size);return r.concat(e.slice(0,e.indexOf(t)))},createPageList:function(){var e=this.getPagesInOrder(),t=this.getNumberOfPreviews(),n=1,i=[];e.size<t&&(n=Math.ceil(t/e.size));for(var r=0;n+3>r;r++)e.map(function(e,t){i.push({uid:Math.random(),page:e})});var o=e.indexOf(this.state.selected)+e.size+1,a=e.size+o-Math.ceil(t/2);i.splice(t+a,i.length),i.splice(0,a),this.setState({workingPageSet:i,pages:e})},updateWorkingSetWithOffset:function(e){var t=this.state.pages,n=this.state.workingPageSet.slice(),i=void 0;switch(e){case 1:i="forward";break;case-1:i="back";break;default:return}if("forward"===i){var r=n[n.length-1],o=t.indexOf(r.page)+1;o=(o%t.size+t.size)%t.size,n.splice(0,1),n.push({page:t.get(o),uid:Math.random()})}else if("back"===i){var o=t.indexOf(n[0].page)-1;o=(o%t.size+t.size)%t.size,n.splice(n.length-1,1),n.unshift({page:t.get(o),uid:Math.random()})}this.setState({workingPageSet:n})},getSelectedPageWithOffset:function(e){var t=this.state.pages,n=t.indexOf(this.state.selected)+e;return n=(n%t.size+t.size)%t.size,t.get(n)},onKeyUp:function(e){e.keyCode===o.KEY_CTRL&&(this.props.onClose(),e.stopPropagation(),e.preventDefault())},navigateWithOffset:function(e){this.state.pages.size*A>this.getMaxAllowedWidth()&&this.updateWorkingSetWithOffset(e),this.setState({selected:this.getSelectedPageWithOffset(e)})},selectBack:function(){this.navigateWithOffset(-1)},selectForward:function(){this.navigateWithOffset(1)},selectByUid:function(e){for(var t in this.state.workingPageSet){var n=this.state.workingPageSet[t];if(n.uid===e){this.setState({selected:n.page});break}}},render:function(){var e=this;return i.createElement("div",{className:"tabswitcher",tabIndex:"1",ref:"visualTabSwitcher",style:{width:this.getNumberOfPreviews()*A+d+"px"},onKeyUp:this.onKeyUp},i.createElement("div",{className:"visual-tabs visual-tabs-"+this.state.direction},this.state.workingPageSet.map(function(t){return i.createElement("div",{key:"visual-tab-"+t.uid,onMouseDown:e.selectByUid.bind(e,t.uid),style:{backgroundImage:"url("+t.page.getIn(["extData","thumbnail"])+")"},title:c.getDisplayTitle(t.page),
className:s({"visual-tab":!0,selected:t.page.get("id")===e.state.selected.get("id")})},i.createElement("div",{className:"visual-tab-favicon-container"},i.createElement("img",{className:"visual-tab-favicon",src:t.page.get("favIcon")})))})),i.createElement("div",{className:"visual-tab-switcher-title"},c.getDisplayTitle(this.state.selected)))}});e.exports=h},function(e,t,n){"use strict";var i=n(1),r=n(283),o=n(284),a=n(169),s=n(342),l=i.createClass({displayName:"DialogRenderWrapper",getInitialState:function(){return{dialogParentElement:null,customData:null,closeDialog:null}},render:function(){return"download"===this.props.customData.dialogtype?i.createElement(r,{dialogParentElement:this.props.dialogParentElement,customData:this.props.customData,onClose:this.props.closeDialog}):"importbookmarks"===this.props.customData.dialogtype?i.createElement(a,{dialogParentElement:this.props.dialogParentElement,onClose:this.props.closeDialog}):"createSearch"===this.props.customData.dialogtype?i.createElement(s,{dialogParentElement:this.props.dialogParentElement,onClose:this.props.closeDialog,name:this.props.customData.Name,url:this.props.customData.Url}):"javascript"===this.props.customData.dialogtype?i.createElement(o,{dialogParentElement:this.props.dialogParentElement,customData:this.props.customData,onClose:this.props.closeDialog}):(console.error("DialogRenderWrapper.render : You tried to show an unknown dialogtype."),null)}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(27),o=n(97),a=n(28),s=n(4),l=n(10),u=n(2),c=n(57),A=i.createClass({displayName:"DownloadDialog",mixins:[l],vivaldiSettingsKeys:["SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS"],getInitialState:function(){return{shown:!0,modalShown:!1,openSavedFiles:!1,askNextTime:!1}},componentWillMount:function(){s.get("OPEN_SAFE_FILES",function(e){this.setState({openSavedFiles:e})}.bind(this))},componentDidMount:function(){this.refs.defaultAction.focus()},componentWillReceiveProps:function(){this.setState({shown:!0})},onOpen:function(){this.props.customData.request.allow("open"),this.setState({shown:!this.state.shown}),!document.querySelector("#panels-container .downloads.active")&&this.state.SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS&&c.executeActions("COMMAND_SHOW_DOWNLOADS_PANEL"),this.close()},onSave:function(){this.props.customData.request.allow(),this.setState({shown:!this.state.shown}),!document.querySelector("#panels-container .downloads.active")&&this.state.SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS&&c.executeActions("COMMAND_SHOW_DOWNLOADS_PANEL"),this.close()},onSaveAs:function(){this.props.customData.request.allow("saveas"),this.setState({shown:!this.state.shown}),!document.querySelector("#panels-container .downloads.active")&&this.state.SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS&&c.executeActions("COMMAND_SHOW_DOWNLOADS_PANEL"),this.close()},onCancel:function(){this.props.customData.request.deny(),this.setState({shown:!this.state.shown}),this.close()},close:function(){s.set({AUTOMATICALLY_DOWNLOAD_FILES:this.state.askNextTime}),this.props.onClose()},onSetOpeningFiles:function(){this.setState({openSavedFiles:!this.state.openSavedFiles}),s.set({OPEN_SAFE_FILES:!this.state.openSavedFiles}),this.refs.defaultAction.focus()},onAskDownloadChanged:function(e){this.setState({askNextTime:e.target.value})},render:function(){var e=this.props.customData.suggestedFilename?this.props.customData.suggestedFilename:r.parse(this.props.customData.url).pathname.split("/").pop(),t=r.parse(this.props.customData.url).hostname,n=-1===this.props.customData.fileSize?u("Unknown"):o.filesize(this.props.customData.fileSize);return i.createElement(a,null,i.createElement("div",{className:"dialog-download"},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title",title:e},u("Download “$1”?",[e]))),i.createElement("div",{className:"dialog-content"},i.createElement("p",null,i.createElement("span",{className:"label",title:e},u("File Name"),":"),e),i.createElement("p",null,i.createElement("span",{className:"label"},u("File Size"),":"),n),i.createElement("p",null,i.createElement("span",{className:"label"},u("Host"),":"),t),i.createElement("label",{className:"autosave"},i.createElement("input",{type:"checkbox",onChange:this.onAskDownloadChanged}),i.createElement("span",null,u("Always Save Files to Default Download Location")))),i.createElement("footer",{className:"dialog-footer"},i.createElement("input",{type:"button",className:"primary",onClick:this.onSave,ref:"defaultAction",value:u("Save")}),i.createElement("input",{type:"button",onClick:this.onSaveAs,value:u("Save As...")}),i.createElement("input",{type:"button",onClick:this.onOpen,value:u("Open")}),i.createElement("input",{type:"button",onClick:this.onCancel,value:u("Cancel")}))))}});e.exports=A},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(27),a=n(28),s=n(2),l=i.createClass({displayName:"JavascriptDialog",getInitialState:function(){return{shown:!0,modalShown:!1,customData:this.props.customData,onClose:null,promptValue:this.props.customData.defaultPromptText,stopScripts:!1}},handleLoadStart:function(e){e.isTopLevel&&this.onCancel()},componentWillMount:function(){this.props.customData.webview.addEventListener("loadstart",this.handleLoadStart)},componentWillUnmount:function(){this.props.customData.webview.removeEventListener("loadstart",this.handleLoadStart)},componentWillReceiveProps:function(){this.setState({shown:!0})},onOk:function(){this.setState({shown:!this.state.shown}),this.state.stopScripts?r.contentSettings.javascript.set({primaryPattern:this.props.customData.url+"*",setting:"block"},function(){this.props.customData.webview.stop(),this.onCancel()}.bind(this)):(this.props.customData.dialog.ok(this.state.promptValue),this.props.onClose())},onCancel:function(){this.props.customData.dialog.cancel(),this.setState({shown:!this.state.shown}),this.props.onClose()},handlePrompt:function(e){this.setState({promptValue:e.target.value})},handleStopScripts:function(e){this.setState({stopScripts:e.target.checked})},render:function(){var e=o.parse(this.props.customData.url).hostname,t=this.props.customData.messageType,n=e?s("JavaScript from “$1”",[e]):s("JavaScript"),r=void 0,l=i.createElement("input",{type:"button",onClick:this.onCancel,value:s("Cancel")}),u=null;return"alert"===t?l=null:"prompt"===t&&(r=i.createElement("input",{type:"text",value:this.state.promptValue,onChange:this.handlePrompt,autoFocus:!0})),i.createElement(a,{dialogWidth:400},i.createElement("div",{className:"dialog-javascript"},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title",title:n},n)),i.createElement("form",{onSubmit:this.onOK},i.createElement("div",{className:"dialog-content"},i.createElement("p",null,this.props.customData.messageText),r),i.createElement("footer",{className:"dialog-footer"},i.createElement("input",{type:"submit",className:"primary",onClick:this.onOk,value:s("OK"),autoFocus:"prompt"!==t}),l,u))))}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(9),o=n(28),a=n(2),s=i.createClass({displayName:"OpenSessionDialog",getInitialState:function(){return{shown:!0,sessions:[],disabled:!0}},componentWillMount:function(){this.refreshSessionList()},handleClick:function(){this.state.shown&&this.props.onClose(),this.setState({shown:!this.state.shown})},handleDelete:function(){for(var e=this.refs.sessionItems.selectedOptions,t=0;t<e.length;t++)r.sessionsPrivate["delete"](e[t].value,function(n){n&&console.warn("Error deleting session '"+e[t].value+"', error: "+n)});this.refreshSessionList()},refreshSessionList:function(){var e=this;r.sessionsPrivate.getAll(function(t){Array.isArray(t)&&e.setState({sessions:t})})},hasSelectedSessions:function(){this.refs.sessionItems&&this.refs.sessionItems.selectedOptions.length>0?this.setState({disabled:!1}):this.setState({disabled:!0})},onOpenSessions:function(e){for(var t=this.refs.sessionItems.selectedOptions,n=0;n<t.length;n++)r.sessionsPrivate.open(t[n].value,function(e){e&&console.warn("Error opening session '"+t[n].value+"', error: "+e)});this.props.onClose()},render:function(){var e=this.state.sessions.map(function(e){return i.createElement("option",{value:e.name,key:e.name},e.name)});return i.createElement(o,{onRequestClose:this.handleClick},i.createElement("div",{className:"open-session"},i.createElement("div",{className:"dialog-session"},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title"},a("Open Session"))),i.createElement("form",{onSubmit:this.onOpenSessions},i.createElement("div",{className:"dialog-content session-dialog"},i.createElement("select",{multiple:!0,className:"session-list",ref:"sessionItems",onChange:this.hasSelectedSessions,autoFocus:!0},e)),i.createElement("footer",{className:"dialog-footer"},i.createElement("input",{type:"submit",className:"primary",value:a("Open"),disabled:this.state.disabled}),i.createElement("input",{type:"button",onClick:this.handleDelete,value:a("session","Delete"),disabled:this.state.disabled}),i.createElement("input",{type:"button",onClick:this.handleClick,value:a("Cancel")}))))))}});e.exports=s},function(e,t,n){"use strict";var i=n(1),r=n(9),o=n(28),a=n(2),s=i.createClass({displayName:"SaveSessionDialog",getInitialState:function(){return{shown:!0,name:"",invalidInput:!1,errorSaving:!1}},componentDidMount:function(){this.refs.inputName.focus()},handleClick:function(){this.state.shown&&this.props.onClose(),this.setState({shown:!this.state.shown})},onSaveSession:function(){var e=this;r.sessionsPrivate.saveOpenTabs(this.state.name,function(t){0===t?e.props.onClose():e.setState({errorSaving:!0})})},isValidName:function(e){var t=/^[^\\/:\*\?"<>\|]+$/,n=/^\./,i=/^(nul|prn|con|lpt[0-9]|com[0-9])(\.|$)/i;return t.test(e)&&!n.test(e)&&!i.test(e)},nameChange:function(e){""===e.target.value||this.isValidName(e.target.value)?this.setState({name:e.target.value,invalidInput:!1}):this.setState({invalidInput:!0})},render:function(){var e="";return this.state.invalidInput===!0?e=a("Invalid character in the session name."):this.state.errorSaving&&(e=a("Error saving the session.")),i.createElement(o,{onRequestClose:this.handleClick},i.createElement("div",{className:"save-session"},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title"},a("Save Open Tabs as Session"))),i.createElement("form",{onSubmit:this.onSaveSession},i.createElement("div",{className:"dialog-content session-dialog"},i.createElement("input",{type:"text",ref:"inputName",placeholder:a("Session Name"),onChange:this.nameChange,spellCheck:"false"})),""!==e&&i.createElement("div",{className:"error-validation"},i.createElement("input",{type:"text",value:e,readOnly:"true"})),i.createElement("footer",{className:"dialog-footer"},i.createElement("input",{type:"button",className:"primary",onClick:this.onSaveSession,value:a("Save"),disabled:this.state.invalidInput===!0}),i.createElement("input",{type:"button",onClick:this.handleClick,value:a("Cancel")})))))}});e.exports=s},function(e,t,n){"use strict";var i=n(1),r=n(173),o=n(23),a=n(10),s=n(2),l=i.createClass({displayName:"ShowKeyboardShortcuts",mixins:[a],vivaldiSettingsKeys:["DISABLE_SINGLE_KEY_SHORTCUTS"],getInitialState:function(){return{filter:""}},componentDidMount:function(){this.refs.comboFilter.focus()},onSettingsFilter:function(e){var t=this.refs.comboFilter;this.setState({filter:t.value.toLowerCase()})},onKeyDown:function(e){e.keyCode===o.KEY_ESCAPE&&(this.props.onClose(),e.stopPropagation(),e.preventDefault())},render:function(){return i.createElement("div",{className:"keyboardShortcutsWrapper",tabIndex:"0",ref:"keyboardList",onKeyDown:this.onKeyDown},i.createElement("header",null,i.createElement("h1",null,s("Keyboard Cheat Sheet")),i.createElement("input",{className:"search",ref:"comboFilter",value:this.state.filter,type:"search",placeholder:s("Filter Commands"),onChange:this.onSettingsFilter}),i.createElement("button",{className:"close",onClick:this.props.onClose})),i.createElement("div",{className:this.state.DISABLE_SINGLE_KEY_SHORTCUTS?"keystrokes singlekeydisabled":"keystrokes"},i.createElement(r,{filter:this.state.filter,view:"read-only"})))}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(12),o=n(3),a=n(97),s=n(322),l=n(2),u=i.createClass({displayName:"DownloadItem",getInitialState:function(){return{showDownloadsContextMenu:null,doSelectionOnAll:null,setActive:null}},componentDidMount:function(){o.downloads.getFileIcon(this.props.item.id,{size:32},this.onTransferIconFound)},componentWillReceiveProps:function(e){this.props.item.fileIcon!==e.item.fileIcon&&o.downloads.getFileIcon(this.props.item.id,{size:32},this.onTransferIconFound)},onOpen:function(){o.downloads.open(this.props.item.id)},onShow:function(){o.downloads.show(this.props.item.id)},onOpenDownloadFolder:function(){o.downloads.showDefaultFolder()},onClicked:function(e){e.ctrlKey||this.props.doSelectionOnAll(!1),this.props.item.isSelected=!this.props.item.isSelected,this.props.setActive(this.props.item),this.setState({isSelected:this.props.item.isSelected}),r.findDOMNode(this).focus()},onPause:function(){o.downloads.pause(this.props.item.id)},onResume:function(){o.downloads.resume(this.props.item.id)},onErase:function(){o.downloads.erase({id:this.props.item.id})},onTransferIconFound:function(e){this.isMounted()&&!o.runtime.lastError&&(this.props.item.fileIcon=e,this.setState({result:this.props.item}))},onContextmenu:function(e){var t="MacIntel"===navigator.platform?e.metaKey:e.ctrlKey;t||this.props.doSelectionOnAll(!1),this.props.item.isSelected=!0,this.setState({isSelected:this.props.item.isSelected}),this.props.showDownloadsContextMenu(e),e.preventDefault()},render:function(){var e=this.props.item.filename.split("\\").pop().split("/").pop(),t="complete"===this.props.item.state,n=this.props.item.bytesReceived,r=a.filesize(n),o=a.filesize(this.props.item.totalBytes?this.props.item.totalBytes:this.props.item.bytesReceived);return i.createElement("li",{onContextMenu:this.onContextmenu,onClick:this.onClicked,onDoubleClick:t?this.onOpen:this.onClicked,onShow:this.onShow,onPause:this.onPause,onResume:this.onResume,tabIndex:"-1",className:("complete"===this.props.item.state?"loaded":"")+(this.props.item.isSelected?" selected":"")},i.createElement("div",{className:"icon"},i.createElement("img",{src:this.props.item.fileIcon})),i.createElement("div",{className:"file"},i.createElement("div",{className:"filename"},e),"in_progress"===this.props.item.state&&i.createElement(s,{type:"bar",overridePercent:"complete"===this.props.item.state?100:-1,totalSize:this.props.item.totalBytes,currentSize:n}),i.createElement("div",{className:"size"},"complete"===this.props.item.state?r:this.props.item.paused?l("$1 of $2 — stopped",[r,o]):l("$1 of $2",[r,o]))))}});e.exports=u},function(e,t,n){"use strict";var i=n(1),r=n(12),o=n(288),a=n(66),s=n(26),l=n(41),u=n(2),c=n(3),A=n(73),d=n(21),h=300,p=i.createClass({displayName:"DownloadPanel",mixins:[a],getInitialState:function(){return{downloadItems:[],pollTimer:-1,hasActiveTransfersSelected:!1,hasPausedTransfersSelected:!1,activeItem:null,reversedOrder:!0,filter:"",focused:!1,isIncognitoWindow:!1}},componentWillMount:function(){var e=this;c.downloads&&c.downloads.setShelfEnabled(!1),window.vivaldiWindowId&&c.windows.get(window.vivaldiWindowId,function(t){e.setState({isIncognitoWindow:t.incognito})})},componentDidMount:function(){var e=this;c.downloads.onCreated.addListener(this.onTransferCreated),c.downloads.onChanged.addListener(this.onTransferChanged),c.downloads.onErased.addListener(this.onTransferErased),c.downloads.onDeterminingFilename.addListener(this.onDetermineFileName),c.downloads.search({},function(t){t.forEach(function(t){e.onTransferCreated(t)})}),l.addChangeListener(this.onPanelStoreChange)},componentDidUpdate:function(e,t){!e.open&&this.props.open?this.refs.downloadList.focus():this.props.open||this.releaseKeyboardBindings()},componentWillUnmount:function(){this.releaseKeyboardBindings(),c.downloads.onCreated.removeListener(this.onTransferCreated),c.downloads.onChanged.removeListener(this.onTransferChanged),c.downloads.onErased.removeListener(this.onTransferErased),c.downloads.onDeterminingFilename.removeListener(this.onDetermineFileName),l.removeChangeListener(this.onPanelStoreChange)},onPanelStoreChange:function(e){this.props.open&&"setFocus"===e&&!A(r.findDOMNode(this))?r.findDOMNode(this.refs.downloadList).focus():this.props.open||this.releaseKeyboardBindings()},setKeyboardBindings:function(){var e="MacIntel"===navigator.platform;s.bind("del",this.doRemoveSelected),s.bind("up",this.goToPrevious),s.bind("down",this.goToNext),s.bind("shift+up",this.selectPrevious),s.bind("shift+down",this.selectNext),s.bind("return",this.openSelected),s.bind(e?"meta+a":"ctrl+a",this.selectAll),e&&s.bind("meta+backspace",this.doRemoveSelected)},releaseKeyboardBindings:function(){var e="MacIntel"===navigator.platform;s.unbind("del",this.doRemoveSelected),s.unbind("up",this.goToPrevious),s.unbind("down",this.goToNext),s.unbind("shift+up",this.selectPrevious),s.unbind("shift+down",this.selectNext),s.unbind("return",this.openSelected),s.unbind(e?"meta+a":"ctrl+a",this.selectAll),e&&s.unbind("meta+backspace",this.doRemoveSelected)},onTransferCreated:function(e){var t=!0;this.state.isIncognitoWindow===!1&&e.incognito===!0&&(t=!1),t&&(e.isSelected=!1,this.state.reversedOrder?this.state.downloadItems.unshift(e):this.state.downloadItems.push(e),this.setState({downloadItems:this.state.downloadItems}),this.startPollingIfProgress())},getContextMenuItems:function(){return this.updateActiveProgressState(),[{name:u("Open File"),handler:this.openSelected},{name:u("MacIntel"===navigator.platform?"Show in Finder":"Open Containing Folder"),handler:this.showSelected},{name:u("Copy Download Address"),handler:this.copySelected},{name:u("Stop"),handler:this.stopSelected,visible:this.state.hasActiveTransfersSelected},{name:u("Remove"),handler:this.removeSelected},{name:"---"},{name:u("Clear Finished Downloads"),handler:this.removeSelected.bind(this,!0)}]},updateActiveProgressState:function(){for(var e=!1,t=!1,n=0;n<this.state.downloadItems.length;n++){var i=this.state.downloadItems[n];if(i.isSelected&&"in_progress"===i.state){e=!i.paused,t=i.paused;break}}this.setState({hasActiveTransfersSelected:e,hasPausedTransfersSelected:t})},onTransferChanged:function(e){for(var t=function(e){c.runtime.lastError||(this.fileIcon=e)},n=0;n<this.state.downloadItems.length;n++){var i=this.state.downloadItems[n];if(i.id===e.id){e.state&&e.state.current!==e.state.previous&&(this.state.downloadItems[n].state=e.state.current),e.paused&&e.paused.current!==e.paused.previous&&(this.state.downloadItems[n].paused=e.paused.current),e.canResume&&e.canResume.current!==e.canResume.previous&&(this.state.downloadItems[n].canResume=e.canResume.current),e.bytesReceived&&(this.state.downloadItems[n].bytesReceived=e.bytesReceived.current),e.totalBytes&&(this.state.downloadItems[n].totalBytes=e.totalBytes.current),e.filename&&e.filename.current!==e.filename.previous&&(this.state.downloadItems[n].filename=e.filename.current,c.downloads.getFileIcon(i.id,{size:32},t.bind(i))),e.danger&&e.danger.current!==e.danger.previous&&(this.state.downloadItems[n].danger=e.danger.current,c.downloads.acceptDanger(i.id));break}}this.setState({downloadItems:this.state.downloadItems}),this.startPollingIfProgress()},onTransferErased:function(e){for(var t=0;t<this.state.downloadItems.length;t++){var n=this.state.downloadItems[t];if(n.id===e){this.state.downloadItems.splice(t,1);break}}this.setState({downloadItems:this.state.downloadItems})},onDetermineFileName:function(e,t){function n(e,n){t({filename:e,conflictAction:n})}n(e.filename,"uniquify")},stopSelected:function(){this.state.downloadItems.forEach(function(e){e.isSelected&&c.downloads.pause(e.id)})},resumeSelected:function(){this.state.downloadItems.forEach(function(e){e.isSelected&&c.downloads.resume(e.id)})},restartSelected:function(){this.state.downloadItems.forEach(function(e){if(e.isSelected){var t={url:e.url};c.downloads.erase({id:e.id}),c.downloads.download(t,function(e){"undefined"==typeof e?console.log(c.runtime.lastError.message):console.log("download restarted : "+e)})}})},goToPrevious:function(){this.doSelectItemRelativeToActive(-1,!1)},goToNext:function(){this.doSelectItemRelativeToActive(1,!1)},selectPrevious:function(){this.doSelectItemRelativeToActive(-1,!0)},selectNext:function(){this.doSelectItemRelativeToActive(1,!0)},selectAll:function(){this.doSelectionOnAll(!0)},showSelected:function(){this.state.downloadItems.forEach(function(e){e.isSelected&&c.downloads.show(e.id)})},openSelected:function(){this.state.downloadItems.forEach(function(e){e.isSelected&&c.downloads.open(e.id)})},removeSelected:function(e){var t=!1,n=null,i=null;this.state.downloadItems.forEach(function(r){(r.isSelected||e===!0)&&("in_progress"!==r.state||"in_progress"===r.state&&r.paused)?(c.downloads.erase({id:r.id}),r=null,t=!0):t&&!i?i=r:n=r}.bind(this)),i?(i.isSelected=!0,this.setActive(i)):n&&(n.isSelected=!0,this.setActive(n))},removeSelectedHandler:function(e){this.removeSelected()},removeAllHandler:function(e){this.removeSelected(!0)},copySelected:function(){this.state.downloadItems.forEach(function(e){if(e.isSelected){var t=document.createElement("span");t.appendChild(document.createTextNode(e.url)),t.contentEditable=!0,t.style.flex="0",document.body.appendChild(t),t.focus(),document.execCommand("selectAll"),document.execCommand("copy",!1,null),document.body.removeChild(t)}})},doSelectionOnAll:function(e){this.state.downloadItems.forEach(function(t){t.isSelected=e}),this.setState({downloadItems:this.state.downloadItems})},setActive:function(e){this.setState({activeItem:e})},doRemoveSelected:function(){this.removeSelected()},doSelectItemRelativeToActive:function(e,t){if(this.state.activeItem)for(var n=0;n<this.state.downloadItems.length;n++){var i=this.state.downloadItems[n];if(i===this.state.activeItem&&n+e>=0&&n+e<this.state.downloadItems.length){t||this.doSelectionOnAll(!1),this.setActive(this.state.downloadItems[n+e]),this.state.activeItem.isSelected=!this.state.activeItem.isSelected,this.setState({downloadItems:this.state.downloadItems});break}}else this.setActive(this.state.downloadItems[0]),this.state.activeItem.isSelected=!0,this.setState({downloadItems:this.state.downloadItems})},startPollingIfProgress:function(){-1!==this.pollTimer&&clearTimeout(this.pollTimer),this.pollTimer=setTimeout(this.pollProgress,h)},pollProgress:function(){var e=this,t=0,n=0,i=0;c.downloads.search({state:"in_progress"},function(r){t=r.length,r.map(function(t){n+=t.totalBytes,i+=t.bytesReceived;var r={state:{current:""},paused:{current:""},canResume:{current:""},totalBytes:{current:0},bytesReceived:{current:0}};r.id=t.id,r.state.current=t.state,r.paused.current=t.paused,r.canResume.current=t.canResume,r.totalBytes.current=t.totalBytes,r.bytesReceived.current=t.bytesReceived,e.onTransferChanged(r)}),e.props.onTransfersUpdated(t,Math.floor(i/n*100))}),this.updateActiveProgressState()},handleFilterChange:function(e){this.setState({filter:e}),c.downloads.search({query:e.split(" ")},this.onDownloadsPopulated)},onDownloadsPopulated:function(e){this.setState({downloadItems:e})},onFocus:function(){this.setKeyboardBindings(),this.setState({focused:!0})},onBlur:function(){this.releaseKeyboardBindings(),this.setState({focused:!1})},render:function(){var e=this;if(!this.props.open)return null;var t=this.state.downloadItems.map(function(t){return i.createElement(o,{key:t.id,item:t,keyAccess:e.props.keyAccess,showDownloadsContextMenu:d(e.getContextMenuItems),doSelectionOnAll:e.doSelectionOnAll,setActive:e.setActive})}),r={value:this.state.filter,requestChange:this.handleFilterChange};return i.createElement("div",{className:"panel",id:"downloads"},i.createElement("header",null,i.createElement("h1",null,u("Downloads")),i.createElement("div",{className:"toolbar icons"},i.createElement("input",{type:"search",placeholder:u("Search..."),valueLink:r}),i.createElement("span",null,this.state.hasPausedTransfersSelected?i.createElement("button",{className:"button-toolbar dlresume",title:u("Resume"),tabIndex:this.props.keyAccess,onClick:this.resumeSelected,dangerouslySetInnerHTML:{__html:n(534)}}):i.createElement("button",{className:"button-toolbar dlstop",title:u("Stop"),tabIndex:this.props.keyAccess,disabled:!this.state.hasActiveTransfersSelected,onClick:this.stopSelected,dangerouslySetInnerHTML:{__html:n(535)}}),i.createElement("button",{className:"button-toolbar dlrestart",title:u("Restart"),tabIndex:this.props.keyAccess,disabled:!this.state.activeItem,onClick:this.restartSelected,dangerouslySetInnerHTML:{__html:n(533)}}),i.createElement("button",{className:"button-toolbar note-delete",title:u("other","Remove"),tabIndex:this.props.keyAccess,disabled:!this.state.activeItem,onClick:this.removeSelectedHandler,dangerouslySetInnerHTML:{__html:n(82)}}),i.createElement("button",{className:"button-toolbar dlclear",title:u("Clear Finished Downloads"),tabIndex:this.props.keyAccess,disabled:0===this.state.downloadItems.length,onClick:this.removeAllHandler,dangerouslySetInnerHTML:{__html:n(531)}})))),i.createElement("section",null,i.createElement("ul",{ref:"downloadList",className:this.state.focused?"focused":"blurred",tabIndex:"0",onFocus:this.onFocus,onBlur:this.onBlur},t)))}});e.exports=p},function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(1),o=n(12),a=n(426),s=n(6),l="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",u=150,c={isInternalDragging:void 0,anchor:void 0,positions:void 0,elements:void 0,elementsInitialOrder:void 0,sourceElement:void 0,dragFrom:void 0,dragTo:void 0,dragOver:void 0,dragLeftOf:void 0},A=r.createClass({displayName:"Draggable",getInitialState:function(){return{dragging:!1,dragOver:!1,dragBefore:!1,dragAfter:!1}},getDefaultProps:function(){return{dragId:"",dragType:"text/x-vivaldi-drag"}},shouldComponentUpdate:function(e,t){return this.state.dragging===!1},setDragging:function(e){this.props.setDragging&&this.props.setDragging(e)},onDragStart:function(e){this.setDragging(!0),c.isInternalDragging=!0,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData(this.props.dragType,this.props.dragId),o.findDOMNode(this).style.zIndex="100";var t=new Image;t.src=l,e.dataTransfer.setDragImage(t,0,0);var n=new window.WebKitCSSMatrix(o.findDOMNode(this).style.transform);c.anchor={x:e.clientX-n.m41,y:e.clientY-n.m42},c.dragFrom=this.props.dragId,setTimeout(function(){this.isMounted()&&(o.findDOMNode(this).style.pointerEvents="none")}.bind(this),0),o.findDOMNode(this).parentNode.classList.add("dragging"),c.elements=[].slice.call(o.findDOMNode(this).parentNode.querySelectorAll("*[draggable]")),c.elementsInitialOrder=[].slice.call(c.elements),c.positions=c.elements.map(function(e){return{left:e.getBoundingClientRect().left,top:e.getBoundingClientRect().top}}),c.boundBox=c.elements.map(function(e){return e.getBoundingClientRect()}).reduce(function(e,t){return e.minX=Math.min(t.left,e.minX),e.maxX=Math.max(t.left+t.width,e.maxX),e.minY=Math.min(t.top,e.minY),e.maxY=Math.max(t.top+t.width,e.maxY),e},{minX:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY}),c.sourceElement=o.findDOMNode(this)},_isPointOutside:function(e,t){var n=window!==t.nativeEvent.view,i=t.clientY,r=e.getBoundingClientRect();return n||i<r.top||i>r.top+r.height},onDrag:function(e){var t=o.findDOMNode(this);if(0!==e.clientX||0!==e.clientY){var n={deltaX:"x"in t.dataset?parseInt(t.dataset.x):0,deltaY:"y"in t.dataset?parseInt(t.dataset.y):0},i={deltaX:e.clientX-c.anchor.x,deltaY:e.clientY-c.anchor.y};if(this.props.lockToBounds){var r=t.getBoundingClientRect();if(r.left+(i.deltaX-n.deltaX)<c.boundBox.minX)return;if(r.left+r.width+(i.deltaX-n.deltaX)>c.boundBox.maxX)return}t.dataset.x=i.deltaX,t.dataset.y=i.deltaY;var a=this._animationKeyframes(n,i);t.animate(a,{duration:0,fill:"forwards"})}},_animationKeyframes:function(e,t){var n,i;return"x"===this.props.axis?(n="translateX("+e.deltaX+"px)",i="translateX("+t.deltaX+"px)"):"y"===this.props.axis?(n="translateY("+e.deltaY+"px)",i="translateY("+t.deltaY+"px)"):(n="translate("+e.deltaX+"px, "+e.deltaY+"px)",i="translate("+t.deltaX+"px, "+t.deltaY+"px)"),[{transform:n},{transform:i}]},onDragOver:function(e){-1!==e.dataTransfer.types.indexOf(this.props.dragType)&&(e.preventDefault(),e.stopPropagation()),c.isInternalDragging&&this._handleInternalDragging(e)},onDrop:function(e){-1!==e.dataTransfer.types.indexOf(this.props.dragType)&&(e.preventDefault(),e.stopPropagation(),!c.isInternalDragging&&this.props.onDraggableMove&&this.props.onDraggableMove(e.dataTransfer.getData(this.props.dragType),this.props.dragId,{isOver:Boolean(this.state.dragOver),isLeftOf:Boolean(this.state.dragBefore)})),this.setState({dragBefore:!1,dragOver:!1,dragAfter:!1})},_handleExternalDragging:function(e){var t=o.findDOMNode(this).getBoundingClientRect(),n=e.clientX-t.left;n<.2*t.width?this.setState({dragBefore:!0,dragOver:!1,dragAfter:!1}):n>.8*t.width?this.setState({dragBefore:!1,dragOver:!1,dragAfter:!0}):n>.2*t.width&&n<.8*t.width&&this.setState({dragBefore:!1,dragOver:!0,dragAfter:!1})},_handleInternalDragging:function(e){var t=o.findDOMNode(this).getBoundingClientRect(),n=e.clientX-t.left;c.dragTo=this.props.dragId,n<.2*t.width||n>.8*t.width?this._setDragOver(!0):n>.2*t.width&&n<.8*t.width?(this._setDragOver(!1),this.switchElements(c.sourceElement,o.findDOMNode(this))):this._setDragOver(!1)},switchElements:function(e,t,n){var i=c.elements.indexOf(e),r=c.elements.indexOf(t);c.elements.splice(r,0,c.elements.splice(i,1)[0]),c.dragLeftOf=i>r,this.animateElementsToOrder(c.sourceElement)},animateElementsToOrder:function(e,t){t=void 0===t?u:t,c.elements.forEach(function(n,i){if(!e||n!==e){var r={deltaX:"x"in n.dataset?parseInt(n.dataset.x):0,deltaY:"y"in n.dataset?parseInt(n.dataset.y):0},o=n.getBoundingClientRect(),a="left"in n.dataset?parseInt(n.dataset.left):o.left,s="top"in n.dataset?parseInt(n.dataset.top):o.top;"startTop"in n.dataset&&"startLeft"in n.dataset||(n.dataset.startTop=o.top,n.dataset.startLeft=o.left);var l={deltaX:c.positions[i].left-a+r.deltaX,deltaY:c.positions[i].top-s+r.deltaY};if(n.dataset.x=l.deltaX,n.dataset.y=l.deltaY,r.deltaX!==l.deltaX||r.deltaY!==l.deltaY){n.style.pointerEvents="none",n.dataset.left=a+l.deltaX,n.dataset.top=s+l.deltaY;var u=this._animationKeyframes(r,l),A=n.animate(u,{duration:t,fill:"forwards"});A.onfinish=function(e){n.style.pointerEvents="auto",delete n.dataset.left,delete n.dataset.top}}}},this)},onDragEnter:function(e){e.preventDefault(),e.stopPropagation()},onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),this._setDragOver(!1),this.setState({dragBefore:!1,dragOver:!1,dragAfter:!1})},_setDragOver:function(e){c.dragOver=e,this.setState({dragOver:e})},onDragEnd:function(e){c.isInternalDragging=!1,this.props.revertOnFinish?(c.elements=c.elementsInitialOrder,this.animateElementsToOrder(null,1)):this.animateElementsToOrder(null,50),o.findDOMNode(this).style.zIndex="0",o.findDOMNode(this).parentNode.classList.remove("dragging"),[].forEach.call(o.findDOMNode(this).parentNode.querySelectorAll("*[draggable]"),function(e){e.style.pointerEvents="auto",e.style.zIndex="0"}),"function"==typeof this.props.onDraggableMove&&"dragId"in this.props&&void 0!==c.dragFrom&&void 0!==c.dragTo&&this.props.onDraggableMove(c.dragFrom,c.dragTo,{isOver:Boolean(c.dragOver),isLeftOf:Boolean(c.dragLeftOf)}),this.setState({dragBefore:!1,dragOver:!1,dragAfter:!1}),this.setDragging(!1),c={}},render:function(){var e=a(this.props,"className"),t=s(this.props.className,{dragover:this.state.dragOver,"drag-before":this.state.dragBefore&&!c.isInternalDragging,"drag-end":this.state.dragAfter&&!c.isInternalDragging});return r.createElement("div",i({},e,{
className:t,draggable:"true",onDragStart:this.onDragStart,onDragEnter:this.onDragEnter,onDrag:this.onDrag,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onDragEnd:this.onDragEnd}),this.props.children)}});e.exports=A},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(2),a=n(3),s=n(6),l=n(21),u=n(10),c=-2,A=i.createClass({displayName:"ExtensionActionItem",mixins:[r,u],vivaldiSettingsKeys:["KEY_ACCESS"],getInitialState:function(){return{windowId:c,menuItems:[{name:o("Hide button"),handler:this.toggleExtensionAction}]}},toggleExtensionAction:function(){a.extensionActionUtils.toggleBrowserActionVisibility(this.props.id)},componentWillMount:function(){a.windows.getCurrent({windowTypes:["normal"]},function(e){this.setState({windowId:e.id})}.bind(this))},executeExtensionAction:function(e){this.props.onClicked(this.props.id,e.currentTarget)},render:function(){var e={backgroundColor:this.props.badgeBackgroundColor},t=s({"addressfield-popup-container":"page"===this.props.actionType}),n=s({"button-addressfield":"page"===this.props.actionType,"button-toolbar browserAction-button":"browser"===this.props.actionType,"actionVisibility-hidden":this.props.visible===!1||this.props.actionIsHidden===!0});return i.createElement("span",{className:t},"page"===this.props.actionType?i.createElement("button",{key:this.props.id,className:n,onClick:this.executeExtensionAction,title:this.props.badgeTooltip,tabIndex:this.state.KEY_ACCESS,onContextMenu:l(this.state.menuItems),style:{backgroundImage:"url("+this.props.badgeIcon+")"}},""!==this.props.badgeText&&i.createElement("span",{className:"browserAction-badge",style:e},this.props.badgeText)):i.createElement("button",{key:this.props.id,className:n,onClick:this.executeExtensionAction,title:this.props.badgeTooltip,tabIndex:this.state.KEY_ACCESS,onContextMenu:l(this.state.menuItems)},i.createElement("img",{src:this.props.badgeIcon}),""!==this.props.badgeText&&i.createElement("span",{className:"browserAction-badge",style:e},this.props.badgeText)))}});e.exports=A},function(e,t,n){"use strict";var i=n(6),r=n(31),o=n(1),a=n(12),s=n(10),l=25,u=25,c=800,A=600,d=o.createClass({displayName:"ExtensionActionPopup",mixins:[s,r],vivaldiSettingsKeys:["ADDRESS_BAR_POSITION"],getInitialState:function(){return{width:l,height:u,hasLoadedOnce:!1}},componentDidMount:function(){this.webviewelm=null},componentWillUnmount:function(){this.detachListeners()},attachListeners:function(){this.webviewelm&&(this.webviewelm.addEventListener("sizechanged",this.onSizeChanged),this.webviewelm.addEventListener("close",this.onClose),this.webviewelm.addEventListener("newwindow",this.onNewWindow),this.webviewelm.addEventListener("loadstart",this.onLoadStart),this.webviewelm.addEventListener("loadstop",this.onLoadStop))},detachListeners:function(){this.webviewelm&&(this.webviewelm.removeEventListener("sizechanged",this.onSizeChanged),this.webviewelm.removeEventListener("close",this.onClose),this.webviewelm.removeEventListener("newwindow",this.onNewWindow),this.webviewelm.removeEventListener("loadstart",this.onLoadStart),this.webviewelm.removeEventListener("loadstop",this.onLoadStop))},componentWillReceiveProps:function(e){this.props.popupVisible===!0&&e.popupVisible===!1&&this.setState({hasLoadedOnce:!1})},componentWillUpdate:function(e,t){e.popupVisible===!0?this.enableOnClickOutside():e.popupVisible===!1&&this.disableOnClickOutside()},handleClickOutside:function(e){this.props.popupWantsToClose()},recreateWebView:function(){this.detachListeners(),this.webviewelm&&this.webviewelm.parentNode.removeChild(this.webviewelm);var e=document.createElement("webview");e.setAttribute("autosize","on"),e.setAttribute("minwidth",l),e.setAttribute("minheight",u),e.setAttribute("maxwidth",c),e.setAttribute("maxheight",A),e.setAttribute("extensionhost",this.props.extensionId),e.setAttribute("partition","persist:"+this.props.extensionId),e.setAttribute("src",this.props.popupPage),e.setAttribute("class","ignore-react-onclickoutside"),a.findDOMNode(this.refs.popupcontainer).appendChild(e),this.webviewelm=e,this.attachListeners()},onSizeChanged:function(e){this.state.hasLoadedOnce&&this.setState({width:e.newWidth,height:e.newHeight})},onLoadStop:function(e){this.setState({hasLoadedOnce:!0})},onNewWindow:function(e){e.window.accept(window.vivaldiWindowId+";1")},onClose:function(){this.setState({hasLoadedOnce:!1}),this.props.popupWantsToClose()},render:function(){if(!this.props.extensionId)return null;var e=0,t=0,n=10;if(this.props.popupAnchor){var r=this.props.popupAnchor.getBoundingClientRect();e="bottom"===this.state.ADDRESS_BAR_POSITION?r.top-parseInt(this.state.height,10)-n:r.bottom+n,t=r.left-this.state.width+r.width/2+10}var a=this.state.hasLoadedOnce&&this.props.popupVisible,s={position:"fixed",height:this.state.height,width:this.state.width,left:t,top:e,visibility:a?"visible":"hidden"},l=i("popup",{hidden:!a,bottom:"bottom"===this.state.ADDRESS_BAR_POSITION,top:"top"===this.state.ADDRESS_BAR_POSITION});return o.createElement("span",{style:s,className:"extensionaction"},o.createElement("div",{className:l,ref:"popupcontainer",key:this.props.extensionId}))}});e.exports=d},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(7),a=n(291),s=n(292),l=-2,u=i.createClass({displayName:"ExtensionActionToolbar",mixins:[o],getInitialState:function(){return{extensionActions:[],extensionId:"",popupAnchor:null,popupPage:"",popupVisible:!1,tabId:-1,windowId:l}},componentWillMount:function(){r.extensionActionUtils&&r.extensionActionUtils.getToolbarExtensions&&r.extensionActionUtils.getToolbarExtensions(function(e){var t=e.filter(function(e){return this.props.showPageActions&&"page"===e.actionType?!0:!(!this.props.showBrowserActions||"browser"!==e.actionType)},this);this.setState({extensionActions:t})}.bind(this)),r.windows.getCurrent({windowTypes:["normal"]},function(e){this.setState({windowId:e.id})}.bind(this))},componentDidMount:function(){r.extensionActionUtils&&(r.extensionActionUtils.onAdded.addListener(this.onActionAdded),r.extensionActionUtils.onRemoved.addListener(this.onActionRemoved),r.extensionActionUtils.onUpdated.addListener(this.onActionChanged),r.extensionActionUtils.onIconLoaded.addListener(this.onIconLoaded))},componentWillUnmount:function(){r.extensionActionUtils.onAdded.removeListener(this.onActionAdded),r.extensionActionUtils.onRemoved.removeListener(this.onActionRemoved),r.extensionActionUtils.onUpdated.removeListener(this.onActionChanged),r.extensionActionUtils.onIconLoaded.removeListener(this.onIconLoaded)},getExtensionInfoIndex:function(e){for(var t=0;t<this.state.extensionActions.length;t++)if(this.state.extensionActions[t].id===e)return t;return-1},onIconLoaded:function(e){var t=this.getExtensionInfoIndex(e.id);-1!==t&&(this.state.extensionActions[t].badgeIcon=e.badgeIcon,this.setState({extensionActions:this.state.extensionActions.slice()}))},onActionChanged:function(e,t,n){var i=this.getExtensionInfoIndex(e.id);-1===i||t!==l&&t!==this.state.windowId||(this.state.extensionActions[i]=e,this.setState({extensionActions:this.state.extensionActions.slice(),tabId:n}))},onActionAdded:function(e){("page"===e.actionType&&this.props.showPageActions||"browser"===e.actionType&&this.props.showBrowserActions)&&(this.state.extensionActions.push(e),this.setState({extensionActions:this.state.extensionActions.slice()}))},onActionRemoved:function(e){var t=this.getExtensionInfoIndex(e.id);-1!==t&&(this.state.extensionActions.splice(t,1),this.setState({extensionActions:this.state.extensionActions.slice()}))},onExtensionActionClicked:function(e,t){t.focus();var n=t,i=function(t){t&&!t.popupUrl||(this.setState({popupVisible:!this.state.popupVisible,popupPage:t?t.popupUrl:null,popupAnchor:n,extensionId:e}),this.state.popupVisible&&this.refs.extensionactionpopup.recreateWebView())}.bind(this);r.extensionActionUtils.executeExtensionAction(e,this.state.windowId,i)},popupWantsToClose:function(){this.setState({popupVisible:!1})},render:function(){if(0===this.state.extensionActions.length)return null;var e=-1,t=this.props.incognito,n=this.state.extensionActions.map(function(n){return e+=1,t!==!0||n.allowInIncognito!==!1?i.createElement(a,{key:e,id:n.id,badgeTooltip:n.badgeTooltip,badgeIcon:n.badgeIcon,badgeText:n.badgeText,badgeTextColor:n.badgeTextColor,badgeBackgroundColor:n.badgeBackgroundColor,visible:n.visible,actionIsHidden:n.actionIsHidden,actionType:n.actionType,tabId:this.state.tabId,onClicked:this.onExtensionActionClicked}):void 0}.bind(this));return i.createElement("span",{ref:"extensionactiontoolbar",className:"extensions-wrapper"},n,i.createElement(s,{ref:"extensionactionpopup",popupVisible:this.state.popupVisible,popupPage:this.state.popupPage,popupAnchor:this.state.popupAnchor,extensionId:this.state.extensionId,popupWantsToClose:this.popupWantsToClose}))}});e.exports=u},function(e,t,n){"use strict";var i=n(1),r=n(26),o=n(5),a=n(35),s=n(47),l=n(2),u=n(6),c=n(17),A=n(20),d=A.urls,h=i.createClass({displayName:"FindInPage",getInitialState:function(){return this._getStateFromStores()},componentDidMount:function(){s.addChangeListener(this.onWebpageviewStoreChanged)},componentWillUnmount:function(){s.removeChangeListener(this.onWebpageviewStoreChanged)},onWebpageviewStoreChanged:function(e){if(!e.page||e.page.get("id")===this.props.page.get("id")&&!d.isInternalPage(e.page))switch(e.type){case o.FIND_IN_PAGE_RESULT_ACTION:this.setState(this._getStateFromStores());break;case o.WEBPAGEVIEW_ACTIONS:"findInPage"===e.action?(this.setState(this._getStateFromStores()),this.focusFindInPageInput()):"findNextInPage"===e.action?this.onNextClicked():"findPreviousInPage"===e.action&&this.onPreviousClicked();break;case o.CLOSE_FIND_IN_PAGE_ACTION:this.setState(this._getStateFromStores());break;case o.FIND_IN_PAGE_FOCUS:this.focusFindInPageInput()}},onKeyDown:function(e){e.nativeEvent.ctrlKey||e.nativeEvent.altKey||e.nativeEvent.metaKey||"Enter"===e.nativeEvent.keyIdentifier&&(e.nativeEvent.shiftKey?this.onPreviousClicked():this.onNextClicked())},onFocus:function(){r.bind("esc",this.closeFindInPage,"keydown")},onBlur:function(){r.unbind("esc",this.closeFindInPage)},closeFindInPage:function(){this.onCloseClicked()},focusFindInPageInput:c.debounce(function(){var e=this.refs.inputText;e&&(e.focus(),e.value&&e.select())},200),_hasFindInPageText:function(){return this._getFindInPageText().length>0},_getFindInPageText:function(){var e=this.refs.inputText;return e?e.value:""},onMatchCaseClicked:function(){this.props.onFindInPage(this._getFindInPageText(),!this.state.matchCase),this.setState({matchCase:!this.state.matchCase})},onPreviousClicked:function(){var e=!0;this.props.onFindNextInPage(this._getFindInPageText(),e,this.state.matchCase)},onNextClicked:function(){var e=!1;this.props.onFindNextInPage(this._getFindInPageText(),e,this.state.matchCase)},onCloseClicked:function(){a.closeFindInPageToolbar(this.props.page)},onFindInPageTextChanged:function(){var e=this._getFindInPageText();this.state.findInPageText!==e&&(this.setState({findInPageText:e}),"function"==typeof this.props.onFindInPage&&this.props.onFindInPage(e,this.state.matchCase))},_getStateFromStores:function(){var e=s.getFindResultsForPage(this.props.page),t={activeMatchOrdinal:e.activeMatchOrdinal,numberOfMatches:e.numberOfMatches,findInPageText:e.searchText,isFindInPageToolbarOpen:e.isFindInPageToolbarOpen,matchCase:e.matchCase};return t},render:function(){var e={"find-in-page":!0,"fip-nomatches":0===this.state.numberOfMatches&&this.state.findInPageText.length>0};return this.state.isFindInPageToolbarOpen!==!0?null:i.createElement("div",{className:u(e),key:"fipanimate-group",onFocus:this.onFocus,onBlur:this.onBlur,tabIndex:"-1"},i.createElement("div",{className:"fip-input"},i.createElement("label",{htmlFor:"fip-input-text"},l("Find in Page"),":"),i.createElement("input",{ref:"inputText",id:"fip-input-text",type:"search",onKeyDown:this.onKeyDown,onChange:this.onFindInPageTextChanged,defaultValue:this.state.findInPageText}),i.createElement("span",{className:"fip-results",style:{display:this.state.findInPageText.length>0?"inline":"none"}},l("$1 of $2",[this.state.activeMatchOrdinal,this.state.numberOfMatches]))),i.createElement("div",{className:"toolbar icons fip-controls"},i.createElement("button",{className:"fip-previous",value:"previous",onClick:this.onPreviousClicked,dangerouslySetInnerHTML:{__html:n(498)}}),i.createElement("button",{className:"fip-next",value:"next",onClick:this.onNextClicked,dangerouslySetInnerHTML:{__html:n(497)}}),i.createElement("button",{className:"fip-close",value:"close",onClick:this.onCloseClicked,dangerouslySetInnerHTML:{__html:n(496)}}),i.createElement("input",{type:"checkbox",id:"fip-matchcase",checked:this.state.matchCase,onChange:this.onMatchCaseClicked}),i.createElement("label",{htmlFor:"fip-matchcase"},l("Match Case"))))}});e.exports=h},function(e,t,n){"use strict";var i=n(1),r=n(12),o=n(14),a=n(3),s="chrome://history-frame",l=i.createClass({displayName:"History",handlePostMessage:function(e){if(e.origin===s&&e.data){var t=e.data;o.openURL(t,{inCurrent:!0})}},onWebviewLoadstop:function(e){e.target.contentWindow.postMessage("requestURL","*")},onPageBlocked:function(e){e.preventDefault(),"new_foreground_tab"===e.windowOpenDisposition?a.tabs.create({url:e.targetUrl}):"new_background_tab"===e.windowOpenDisposition?event.window.accept(window.vivaldiWindowId+";0"):"new_window"===e.windowOpenDisposition&&a.windows.create({url:e.targetUrl})},componentDidMount:function(){window.addEventListener("message",this.handlePostMessage,!1);var e=r.findDOMNode(this).querySelector("webview");e.addEventListener("loadstop",this.onWebviewLoadstop),e.addEventListener("newwindow",this.onPageBlocked,!0)},componentWillUnmount:function(){window.removeEventListener("message",this.handlePostMessage);var e=r.findDOMNode(this).querySelector("webview");e&&(e.removeEventListener("loadstop",this.onWebviewLoadstop),e.removeEventListener("newwindow",this.onPageBlocked,!0),e.parentNode.removeChild(e))},render:function(){return i.createElement("div",{ref:"history",className:"history"},i.createElement("webview",{src:s}))}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(10),a=n(21),s=n(2),l=n(6),u=4e3,c=i.createClass({displayName:"FullscreenInfoBubble",mixins:[o],vivaldiSettingsKeys:["COMMAND_FULLSCREEN"],getInitialState:function(){return{hover:!1,contextOpen:!1,show:!0,hideTimeoutID:-1}},componentDidMount:function(e,t){this.hideSelf()},startHover:function(e){this.setState({hover:!0})},endHover:function(e){this.setState({hover:!1})},showSelf:function(){-1!==this.timeoutID&&clearTimeout(this.timeoutID),this.setState({show:!0})},hideSelf:function(){var e=arguments.length<=0||void 0===arguments[0]?u:arguments[0];-1!==this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout(this.setState.bind(this,{show:!1}),e)},alwaysHide:function(){r.set({SHOW_FULLSCREEN_BUBBLE:!1}),this.hideSelf()},onContextMenu:function(e){var t=this,n=[{name:s("Hide Fullscreen Reminder"),handler:this.hideSelf},{name:s("Never Show Fullscreen Reminder"),handler:this.alwaysHide}];a(n,function(){return t.setState({contextOpen:!0})},"pointer",function(){return t.setState({contextOpen:!1,hover:!1})})(e)},render:function(){var e=l({fullscreeninfobubble:!0,show:this.state.hover||this.state.contextOpen||this.state.show});return i.createElement("div",{onMouseEnter:this.startHover,onMouseLeave:this.endHover},i.createElement("div",{className:e,onContextMenu:this.onContextMenu,onClick:this.hideSelf.bind(this,0)},s("Vivaldi is showing in Fullscreen mode. Press $1 to exit.",[this.state.COMMAND_FULLSCREEN.shortcut&&this.state.COMMAND_FULLSCREEN.shortcut.length>0?this.state.COMMAND_FULLSCREEN.shortcut[0].toUpperCase():"F11"])))}});e.exports=c},function(e,t){"use strict";function n(e){return e.indexOf(",")>-1&&(e='"'+e+'"'),e}function i(e,t){var i="";return i+=e&&""!==e?""===t?n(e):n(e)+" <"+t+">":t}var r=function(e){return e&&(e.MAIL_EMAIL||e.MAIL_NAME)?i(e.MAIL_NAME,e.MAIL_EMAIL):e&&(e.name||e.address)?i(e.name,e.address):e?e:""},o=function(e){var t="";if(e)for(var n=0;n<e.length;n++)t&&(t+=", "),t+=r(e[n]);return t},a=function(e){return e instanceof Array?o(e):r(e)};e.exports=a},function(e,t,n){"use strict";var i=n(127),r=new i("M3v1");r.version(1).stores({messages:"[accountId+path+uid]",tokens:"[accountId+path+uid],*tokens",searchList:"[accountId+path+uid],[sentDate+accountId+path+uid]"}),r.version(2).stores({messages:"[accountId+path+uid]",tokens:"[accountId+path+uid],*tokens",searchList:"[accountId+path+uid],[sentDate+accountId+path+uid]",folders:"accountId",mailboxCache:"[accountId+path],accountId"}),r.version(3).stores({messages:"[accountId+path+uid]",tokens:"[accountId+path+uid],*tokens",searchList:"[accountId+path+uid],[sentDate+accountId+path+uid]",folders:"accountId",mailboxCache:"[accountId+path],accountId"}).upgrade(function(e){e.messages.toCollection().modify({bodyParts:void 0})}),r.open(),e.exports=r},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=n(302),a=n(427),s=n(111),l=n(306),u=n(298),c=n(300),A=c.getAttachments,d=n(127),h={add:function(e,t,n){return u.transaction("rw",[u.messages,u.searchList,u.tokens],function(){d.Promise.all(n.map(function(n){var i=(n.from||[]).concat(n.to||[],n.cc||[],n.replyTo||[]),r=i.map(function(e){return e.name}).concat(i.map(function(e){return e.address})),s=l(r.join(" "),[]);l(n.subject,s);var c=o(!1,n.bodyParts),d="";c&&c.content&&(d="html"===c.type?a.htmlToText(c.content):c?c.content:""),l(d,s);var h={accountId:e,path:t,uid:n.uid,sentDate:n.sentDate};u.tokens.put(Object.assign({},h,{tokens:s}));var p=Object.assign({},h,{from:n.from,subject:n.subject,unread:n.unread,listId:n.listId});u.messages.put(Object.assign({},p,{to:n.to,cc:n.cc,replyTo:n.replyTo,raw:n.raw}));var f=Object.assign({},p,{attachment:A(n.bodyParts).length>0,unseen:n.unread&&0===n.bodyParts.filter(function(e){return e.content}).length});return u.searchList.put(f),f})).then(function(n){return s.addMessages(e,t,n)})})},remove:function(e,t,n){return u.transaction("rw",[u.messages,u.tokens,u.searchList],function(){return d.Promise.all(n.map(function(n){u.messages["delete"]([e,t,n]),u.tokens["delete"]([e,t,n]),u.searchList["delete"]([e,t,n])}))}).then(function(){return s.removeMessages(e,t,n)})},removeAllDataForAccount:function(e){var t=[e,"",0],n=[e,"￿",Number.MAX_VALUE],i=["messages","tokens","searchList"];return u.transaction("rw",i.map(function(e){return u[e]}),function(){return i.forEach(function(e){return u[e].where("[accountId+path+uid]").between(t,n)["delete"]()})})},get:function(e,t,n){return u.messages.get([e,t,n])},getTokens:function(e){return u.tokens.where("tokens").startsWith(e).distinct()},markRead:function(e,t,n){var o=n.map(function(n){return[e,t,n]});return u.transaction("rw",[u.messages,u.searchList],function(){u.searchList.where("[accountId+path+uid]").anyOf(o).modify(function(e){e.unread=!1,e.unseen=!1}),u.messages.where("[accountId+path+uid]").anyOf(o).modify(function(e){e.unread=!1})}).then(function(){return s.updateMessages(e,t,Object.assign.apply(Object,[{}].concat(r(n.map(function(e){return i({},e,{unread:!1})})))))})},markUnread:function(e,t,n){var o=n.map(function(n){return[e,t,n]});return u.transaction("rw",[u.messages,u.searchList],function(){u.searchList.where("[accountId+path+uid]").anyOf(o).modify(function(e){e.unread=!0}),u.messages.where("[accountId+path+uid]").anyOf(o).modify(function(e){e.unread=!0})}).then(function(){return s.updateMessages(e,t,Object.assign.apply(Object,[{}].concat(r(n.map(function(e){return i({},e,{unread:!0})})))))})},getSearchList:function(){return new Promise(function(e){var t=u.backendDB().transaction(["searchList"],"readonly").objectStore("searchList").index("[sentDate+accountId+path+uid]");t.getAll().onsuccess=function(t){e(t.target.result)}})},messageCount:function(e,t){return u.messages.where("[accountId+path+uid]").between([e,t,0],[e,t,Number.MAX_VALUE]).count()},tokenCount:function(e,t){return u.tokens.where("[accountId+path+uid]").between([e,t,0],[e,t,Number.MAX_VALUE]).count()},getSearchListEntry:function(e,t,n){return u.searchList.get([e,t,n])}};e.exports=h},function(e,t){"use strict";var n=function i(e,t){var n=[];return t.forEach(function(t){Array.isArray(t.content)?n=n.concat(i(e,t.content)):"attachment"===t.type&&!!t.id===e&&n.push(t)}),n};e.exports={getAttachments:n.bind(void 0,!1),getContentIdAttachments:n.bind(void 0,!0)}},function(e,t){"use strict";var n=function(e,t){return e.accountId===t.accountId?e.path===t.path?e.uid-t.uid:e.path.localeCompare(t.path):e.accountId.localeCompare(t.accountId)},i=function(e,t){return e.sentDate===t.sentDate?n(e,t):e.sentDate-t.sentDate};e.exports={msgComp:n,sentDateMsgComp:i}},function(e,t){"use strict";var n=function i(e,t){if(t){var n,r;e?(n="html",r="text"):(n="text",r="html");for(var o,a=0;a<t.length;a++){if(t[a].type===n)return t[a];o||t[a].type!==r?"signed"===t[a].type&&t[a].content&&(o=i(e,t[a].content)):o=t[a]}return o}};e.exports=n},function(e,t,n){"use strict";var i=n(422),r=n(117),o=r.ALL_MESSAGES_ACCOUNT_ID,a=r.UNREAD_FOLDER_PATH,s=r.RECEIVED_FOLDER_PATH,l=r.TRASH_FOLDER_PATH,u=r.TRASH_FOLDER_TYPE,c=r.SENT_FOLDER_PATH,A=r.SENT_FOLDER_TYPE,d={};d[s]=function(e){return e.accountId!==o&&i.getFolderType(e.accountId,e.path)!==A},d[a]=function(e){return e.unread},d[l]=function(e){return u===i.getFolderType(e.accountId,e.path)},d[c]=function(e){return A===i.getFolderType(e.accountId,e.path)},e.exports=d},function(e,t,n){"use strict";var i=n(17).curry,r=n(117),o=r.ALL_MESSAGES_ACCOUNT_ID,a=r.MAILING_LISTS_ACCOUNT_ID,s=function(e,t,n,i,r,s){return s[o]||(s[o]={unread:0,unseen:0,total:0}),e!==o&&e!==a&&(s[o].unread+=n,s[o].unseen+=i,s[o].total+=r),s[e]||(s[e]={unread:0,unseen:0,total:0}),e!==o&&(s[e].unread+=n,s[e].unseen+=i,s[e].total+=r),s[e][t]||(s[e][t]={unread:0,unseen:0,total:0}),s[e][t].unread+=n,s[e][t].unseen+=i,s[e][t].total+=r,s},l=i(s);e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(14),o=i.createClass({displayName:"MailPanel",gotoVivaldiNet:function(e){r.openURL("https://vivaldi.net/"),e.preventDefault()},render:function(){return this.props.open?i.createElement("div",{className:"panel",id:"mail_panel"},i.createElement("img",{className:"mailicon",src:"/resources/mail-soon.png",width:"205",height:"170"}),i.createElement("a",{href:"https://vivaldi.net",onClick:this.gotoVivaldiNet},i.createElement("img",{className:"antonio",src:"/resources/mailtext.png",width:"205",height:"312"}))):null}});e.exports=o},function(e,t,n){"use strict";function i(e,t,n){for(var i;i=t.exec(e);){var r=i[0].toLowerCase(),a=o(n,r,u);0>a&&(-a-2>=0&&0===r.indexOf(n[-a-2])?n.splice(-a-2,1,r):(n.length<=-a-1||0!==n[-a-1].indexOf(r))&&n.splice(-a-1,0,r))}}function r(e,t){return i(e,a,t),i(e,s,t),i(e,l,t),t}var o=n(199),a=/\d+\.\d+/g,s=/[^\s]+@[^\s]+\.[^\s.]+/g,l=/[^\s!¡?¿.:,;"+]{2,}/g,u=function(e,t){return e.localeCompare(t)};e.exports=r},function(e,t,n){"use strict";var i=n(1),r=n(21),o=i.createClass({displayName:"BackgroundTaskStatus",getInitialState:function(){return{taskInfo:this.props.taskInfo}},render:function(){return i.createElement("div",null,i.createElement("span",{className:"button-toolbar-small",id:this.state.taskInfo.id,title:this.state.taskInfo.title+"\n"+this.state.taskInfo.description,style:this.state.taskInfo.style,onContextMenu:r(this.props.taskInfo.menuItems)}),i.createElement("span",{className:"button-toolbar-small"},this.state.taskInfo.text))}});e.exports=o},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(183),a=n(307),s=i.createClass({displayName:"BackgroundTaskStatusList",mixins:[r],getInitialState:function(){return{backgroundTasks:o.getBackgroundTasks()}},componentWillMount:function(){o.addChangeListener(this.onBackgroundTaskStoreChange)},componentWillUnmount:function(){o.removeChangeListener(this.onBackgroundTaskStoreChange)},onBackgroundTaskStoreChange:function(){this.setState({backgroundTasks:o.getBackgroundTasks()})},render:function(){return i.createElement("div",null,this.state.backgroundTasks.map(function(e){return i.createElement(a,{key:e.id,taskInfo:e})}))}});e.exports=s},function(e,t,n){"use strict";var i=n(1),r=n(424),o=n(6),a=i.createClass({displayName:"StatusInfo",getInitialState:function(){return{status:r.getStatus(),visible:!1}},componentWillMount:function(){r.addChangeListener(this.onStoreChange)},componentWillUnmount:function(){r.removeChangeListener(this.onStoreChange)},onStoreChange:function(){var e=r.getStatus();this.setState({status:""===e?this.state.status:e,visible:""!==e})},render:function(){return i.createElement("div",{id:"status_info",className:o({status_info:!0,visible:this.state.visible})},i.createElement("span",null,this.state.status))}});e.exports=a},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(7),a=n(49),s=n(263),l=n(159),u=n(170),c=n(296),A=n(169),d=n(122),h=n(19),p=n(36),f=n(93),m=n(115),g=n(313),v=n(319),E=n(14),_=n(320),S=n(60),y=n(41),b=n(311),C=n(356),I=n(286),T=n(285),O=n(385),w=n(180),N=n(382),k=n(383),D=n(402),M=n(5),P=n(4),L=n(42),x=n(404),R=n(119),B=n(120),F=n(309),U=n(308),V=n(125),W=n(2),H=n(3),K=n(181),G=n(9),j=n(6),z=n(20),J=z.urls,Q=n(433),Y=Q.tabSwitcherListener,Z=n(46),q=n(40),X=["ADDRESS_BAR_POSITION","BOOKMARK_BAR_DISPLAY","BOOKMARK_BAR_POSITION","BOOKMARK_BAR_VISIBLE","BROWSER_FG_COLOR","FOCUS_CYCLE_TRAP","KEY_ACCESS","KEY_ACCESS_OS_DEFAULT","LINUX_ALT_CONTROLS","MINIMALISTIC_UI_RECOVER_INFO","MINIMALISTIC_UI_SHOW","PANEL_POSITION","SEARCH_ENGINES","SHOW_ADDRESS_BAR","SHOW_FULLSCREEN_BUBBLE","SHOW_TAB_BAR","SHOW_VIVALDI_FOOTER","SWITCH_TABS_AT_WINDOW_EDGE","TABCOLOR_BEHIND_TABS","TAB_POSITION","USE_TAB_TRANSPARENT_TABS","TAB_STACKING","USE_ANIMATION","USE_TABCOLOR"];"MacIntel"===navigator.platform&&(X.push("vivaldi.apple_keyboard_ui_mode"),X.push("vivaldi.apple_action_on_double_click"));var $=function(){return{pages:h.getPages(),activePage:h.getActivePage(),isSelecting:h.isSelecting(),pageSelection:h.getPageSelection(),pageHistory:h.getPageHistory()}},ee=r.createClass({displayName:"MainWindow",mixins:[u,l,o],getInitialState:function(){return Object.assign({currentOS:L(),startupDlg:null,currentWindowstate:H.app.window.current().isMaximized()?"maximized":"normal",previousWindowstate:null,hasFocus:!0,noVisualBlur:!1,mainDialogType:{key:null,func:null},showHorizontalVivaldiMenu:!1,importData:null,initialNativeView:!1,menuItems:[],incognito:!1,macKeyUIMode:null,macFrameDblClick:null,defaultPageZoomLevel:1,saveSession:null,openSession:null},$())},componentWillMount:function(){h.addChangeListener(this._onPageStoreChange),d.addChangeListener(this._onMainStoreChanged),p.addChangeListener(this._onCommandStoreChanged),f.addChangeListener(this._onActiveWebViewStoreChanged),H.tabs.onZoomChange.addListener(this._onTabZoomChange),G.zoom.onDefaultZoomChanged.addListener(this.onDefaultZoomChanged),P.get(["VIVALDI_MENU_POSITION"],function(e){var t="top"===e.VIVALDI_MENU_POSITION;"mac"===this.state.currentOS&&(t=!1),this.setState({showHorizontalVivaldiMenu:t})}.bind(this)),P.get(["VIVALDI_MENU_POSITION"],function(e){this.setState({showHorizontalVivaldiMenu:"top"===e.VIVALDI_MENU_POSITION}),"top"===e.VIVALDI_MENU_POSITION&&this.setState({menuItems:p.getHorizontalMenu(this.state.pages)})}.bind(this)),P.addListener("VIVALDI_MENU_POSITION",this.updateMenu),P.get("USE_NATIVE_WINDOW_DECORATIONS",function(e){this.setState({initialNativeView:e})}.bind(this)),P.addListener("MINIMALISTIC_UI_SHOW",this.handleToggleUI),H.windows.get(window.vivaldiWindowId,{},function(e){this.setState({incognito:e.incognito})}.bind(this)),this._updateKeyUIMode()},updateMenu:function(e,t){t&&(this.setState({showHorizontalVivaldiMenu:"top"===t}),"top"===t&&this.setState({menuItems:p.getHorizontalMenu(this.state.pages)}))},onLoad:function(){var e=H.app.window.current();P.get("APPLICATION_STATE",function(t){"fullscreen"===t&&e.fullscreen()})},componentDidMount:function(){var e=this;this.gestures=new g,this.gestures.attachEvents(),window.addEventListener("load",this.onLoad);var t=H.app.window.current();t.onMaximized.addListener(this.onMaximized),t.onFullscreened.addListener(this.onFullscreened),t.onRestored.addListener(this.onRestored),window.addEventListener("focus",this.onWindowFocus),window.addEventListener("blur",this.onWindowBlur),H.contextMenus.removeAll(function(){H.contextMenus.create({id:"addNewNote",title:W("Add Selection as New Note"),contexts:["selection"]},function(){H.runtime.lastError&&console.warn("contextMenus.create failed:",H.runtime.lastError)}.bind(e)),H.contextMenus.create({id:"searchWebFor",title:W("Search for “%s”"),contexts:["selection"]},function(){H.runtime.lastError&&console.warn("contextMenus.create failed:",H.runtime.lastError)}.bind(e)),H.contextMenus.create({id:"setStartpageImage",title:W("Use Image as Startpage Background"),contexts:["image"]},function(){H.runtime.lastError&&console.warn("contextMenus.create failed:",H.runtime.lastError)}.bind(e)),H.contextMenus.create({id:"addLinkToWebPanel",title:W("Add Link to Web Panel"),contexts:["link"]},function(){H.runtime.lastError&&console.warn("contextMenus.create failed:",H.runtime.lastError)}.bind(e)),H.contextMenus.create({id:"addPageToWebPanel",title:W("Add Page to Web Panel"),contexts:["page"]},function(){H.runtime.lastError&&console.warn("contextMenus.create failed:",H.runtime.lastError)}.bind(e)),H.contextMenus.onClicked.addListener(function(t,n){e.state.hasFocus&&("addNewNote"===t.menuItemId?G.notes.create({type:"note",content:t.selectionText,url:t.pageUrl}):"searchWebFor"===t.menuItemId?Z.goSearchURL(t.selectionText,{inCurrent:!1}):"setStartpageImage"===t.menuItemId?e._onSetStartpageBackground(t):"addLinkToWebPanel"===t.menuItemId?R.addByUrl(t.linkUrl):"addPageToWebPanel"===t.menuItemId?R.addByUrl(t.pageUrl):console.log("unknown contextmenu item clicked:",t,"in",n))})}),this.updateDocumentTitle(this.state.activePage),this.showStartupDialog()},componentDidUpdate:function(e,t){var n=this.state.activePage.get("title")!==t.activePage.get("title");n&&this.updateDocumentTitle(this.state.activePage)},componentWillUnmount:function(){this.gestures.detachEvents(),window.removeEventListener("load",this.onLoad),window.removeEventListener("focus",this.onWindowFocus),window.removeEventListener("blur",this.onWindowBlur),h.removeChangeListener(this._onPageStoreChange),d.removeChangeListener(this._onMainStoreChanged),p.removeChangeListener(this._onCommandStoreChanged),f.removeChangeListener(this._onActiveWebViewStoreChanged),H.tabs.onZoomChange.removeListener&&H.tabs.onZoomChange.removeListener(this._onTabZoomChange),G.zoom.onDefaultZoomChanged.removeListener(this.onDefaultZoomChanged),P.removeListener("VIVALDI_MENU_POSITION",this.updateMenu),P.removeListener("MINIMALISTIC_UI_SHOW",this.handleToggleUI)},_updateKeyUIMode:function(){if(this.props.vivaldiSettings.KEY_ACCESS_OS_DEFAULT){var e=this.props.vivaldiSettings["vivaldi.apple_keyboard_ui_mode"];2===e&&"0"!==this.props.vivaldiSettings.KEY_ACCESS?P.set({KEY_ACCESS:"0"}):0===e&&"-1"!==this.props.vivaldiSettings.KEY_ACCESS&&P.set({KEY_ACCESS:"-1"})}},_onSetStartpageBackground:function(e){var t=new XMLHttpRequest,n=new FileReader;t.open("GET",e.srcUrl,!0),t.responseType="blob",t.addEventListener("load",function(){200===t.status&&(n.onload=function(e){P.set({STARTPAGE_IMAGE_USER_DEFINED:e.target.result,STARTPAGE_IMAGE:"user_defined",STARTPAGE_SHOW_IMAGE:!0})},n.readAsDataURL(t.response))},!1),t.send()},_onPageStoreChange:function(){var e=$();this.state.pages!==e.pages&&this.state.showHorizontalVivaldiMenu&&Object.assign(e,this.getMenuItemsState(e.pages)),this.setState(e)},_onMainStoreChanged:function(e){"fullscreen"===e.action?this.toggleFullscreen():"quickcommand"===e.action?this.showQuickCommand():"importData"===e.action?this.showImportData():"saveSession"===e.action?this.showSaveSession():"openSession"===e.action?this.showOpenSession():e.type===M.MAIN_SHOW_KEYBOARDS_SHORTCUTS?this.showShortcuts():e.type===M.MAIN_ZOOM_IN?this.doActionZoomIn():e.type===M.MAIN_ZOOM_OUT?this.doActionZoomOut():e.type===M.MAIN_ZOOM_HALF?this.doActionZoomHalf():e.type===M.MAIN_ZOOM_DOUBLE?this.doActionZoomDouble():e.type===M.MAIN_ZOOM_RESET?this.doActionZoomReset():e.type===M.MAIN_TOGGLE_TAB_BAR?this.toggleTabBar():e.type===M.MAIN_TOGGLE_ADDRESS_BAR?this.toggleAddressBar():e.type===M.MAIN_TOGGLE_UI&&this.toggleUI();
},_onCommandStoreChanged:function(){this.state.showHorizontalVivaldiMenu&&this.setState(this.getMenuItemsState(this.state.pages))},getMenuItemsState:function(e){return{menuItems:p.getHorizontalMenu(e)}},close:function(e){e.stopPropagation();var t=H.app.window.getAll();H.app.window.current().close(),1===t.length&&H.runtime.sendMessage({action:"forceQuit"})},toggleFullscreen:function(){var e=H.app.window.current();e.isFullscreen()?(f.getActiveWebView()&&f.getActiveWebView().setIsFullscreen(!1),e.restore()):(e.fullscreen(),P.set({APPLICATION_STATE:"fullscreen"}))},showQuickCommand:function(){var e=a(this.state,{mainDialogType:this.state.mainDialogType&&this.state.mainDialogType.key===M.MAIN_SHOW_QUICKCOMMANDS?{key:{$set:null},func:{$set:null}}:{key:{$set:M.MAIN_SHOW_QUICKCOMMANDS},func:{$set:this.showQuickCommand}}});return this.setState(e),!1},showShortcuts:function(){var e=a(this.state,{mainDialogType:this.state.mainDialogType&&this.state.mainDialogType.key===M.MAIN_SHOW_KEYBOARDS_SHORTCUTS?{key:{$set:null},func:{$set:null}}:{key:{$set:M.MAIN_SHOW_KEYBOARDS_SHORTCUTS},func:{$set:this.showShortcuts}}});return this.setState(e),!1},toggleTabSwitcher:function(){var e=a(this.state,{mainDialogType:this.state.mainDialogType&&this.state.mainDialogType.key===M.MAIN_SHOW_VISUAL_TAB_SWITCHER?{key:{$set:null},func:{$set:null}}:{key:{$set:M.MAIN_SHOW_VISUAL_TAB_SWITCHER},func:{$set:this.toggleTabSwitcher}}});return this.setState(e),!1},toggleMenu:function(){var e=!this.state.showHorizontalVivaldiMenu;"mac"===this.state.currentOS&&(e=!1),this.setState({newState:e},function(){P.set({VIVALDI_MENU_POSITION:this.state.showHorizontalVivaldiMenu?"top":"vivaldi"})})},updateDocumentTitle:function(e){var t=J.getDisplayTitle(e);t!==document.title&&(document.title=t)},handleTabSwitcherActivation:function(e){if(!e){var t=this.refs.mainDialog.refs.visualTabSwitcher.state.selected;E.openPage(t)}this.toggleTabSwitcher()},switchTabVisualTabSwitcher:function(e,t){this.state.pages.size>1&&(this.state.mainDialogType.key!==M.MAIN_SHOW_VISUAL_TAB_SWITCHER&&(this.toggleTabSwitcher(),Y(e,this.handleTabSwitcherActivation)),t?this.refs.mainDialog.refs.visualTabSwitcher.selectForward():this.refs.mainDialog.refs.visualTabSwitcher.selectBack())},onMaximized:function(){"maximized"!==this.state.currentWindowstate&&(this.setState({previousWindowstate:this.state.currentWindowstate}),this.setState({currentWindowstate:"maximized"}))},onFullscreened:function(){"fullscreen"!==this.state.currentWindowstate&&(this.setState({previousWindowstate:this.state.currentWindowstate}),this.setState({currentWindowstate:"fullscreen"}))},onClosed:function(){"closed"!==this.state.currentWindowstate&&(this.setState({previousWindowstate:this.state.currentWindowstate}),this.setState({currentWindowstate:"closed"}))},onRestored:function(){var e=H.app.window.current();if(e.isMaximized())return void this.onMaximized();if(!e.isMinimized())return e.isFullscreen()?void this.onFullscreened():void("fullscreen"===this.state.currentWindowstate&&"normal"!==this.state.previousWindowstate||"normal"!==this.state.currentWindowstate&&(this.setState({previousWindowstate:this.state.currentWindowstate}),this.setState({currentWindowstate:"normal"}),P.set({APPLICATION_STATE:"normal"})))},maybeFocusLastActiveElement:function(){if(this._lastActiveElement)if("BODY"===this._lastActiveElement.tagName){var e=f.getActiveWebView();"content"===V(this.state.activePage)&&e&&e.focus()}else this._lastActiveElement.focus(),this._lastActiveElement=null},onWindowFocus:function(){var e=this;this.state.noVisualBlur&&this.setState({noVisualBlur:!1}),"mac"===this.state.currentOS&&K.onFocus(),this.setState({hasFocus:!0},function(){return e.maybeFocusLastActiveElement()})},onWindowBlur:function(){this._lastActiveElement=document.activeElement,"mac"===this.state.currentOS&&K.onBlur(),this.state.noVisualBlur||this.setState({hasFocus:!1})},noVisualBlur:function(){this.setState({noVisualBlur:!0})},onHTMLFullscreen:function(e){e.enterFullscreen&&this.setState({currentWindowstate:"fullscreen inner"})},_onActiveWebViewStoreChanged:function(){var e=this,t=null;H.tabs.getZoom(function(t){e.refs.zoomslider.forceZoomState(t)});var n=f.getActiveWebView();t!==n&&(t&&t.removeEventListener("fullscreen"),n&&(n.addEventListener("fullscreen",this.onHTMLFullscreen),t=n))},_onTabZoomChange:function(e){e.tabId===this.state.activePage.get("id")&&this.refs.zoomslider.forceZoomState(e.newZoomFactor)},handleDoubleClick:function(){if(H.app.window.current().isFullscreen())this.toggleFullscreen();else if(H.app.window.current().isMaximized())H.app.window.current().restore();else if("mac"===this.state.currentOS&&this.props.vivaldiSettings["vivaldi.apple_action_on_double_click"])if("Minimize"===this.props.vivaldiSettings["vivaldi.apple_action_on_double_click"])H.app.window.current().minimize();else{if("None"===this.props.vivaldiSettings["vivaldi.apple_action_on_double_click"])return!1;H.app.window.current().maximize()}else"linux"!==this.state.currentOS&&H.app.window.current().maximize()},closeImportData:function(){this.setState({importData:null})},showImportData:function(){this.setState({importData:this.refs.webpageview})},closeSaveSession:function(){this.setState({saveSession:null})},showSaveSession:function(){this.setState({saveSession:this.refs.webpageview})},closeOpenSession:function(){this.setState({openSession:null})},showOpenSession:function(){this.setState({openSession:this.refs.webpageview})},doActionZoomIn:function(){this.refs.zoomslider.zoomInStep()},doActionZoomOut:function(){this.refs.zoomslider.zoomOutStep()},doActionZoomHalf:function(){this.refs.zoomslider.zoomHalf()},doActionZoomDouble:function(){this.refs.zoomslider.zoomDouble()},doActionZoomReset:function(){var e=this;G.zoom.getDefaultZoom(function(t){e.refs.zoomslider.setZoomLevel(t)})},onDefaultZoomChanged:function(e){this.setState({defaultPageZoomLevel:e})},panelToggle:function(){S.togglePanelVisibility()},getBrowserClasses:function(){var e,t=this.props.vivaldiSettings.USE_TABCOLOR&&"on"===this.props.vivaldiSettings.TABCOLOR_BEHIND_TABS,n=(e={},i(e,this.props.vivaldiSettings.BROWSER_FG_COLOR,!0),i(e,"horizontal-menu",this.state.showHorizontalVivaldiMenu),i(e,"tabs-at-edge",this.props.vivaldiSettings.SWITCH_TABS_AT_WINDOW_EDGE),i(e,"ui-tabcolor-on",this.props.vivaldiSettings.USE_TABCOLOR),i(e,"ui-tabcolor-off",!this.props.vivaldiSettings.USE_TABCOLOR),i(e,"ui-transparent-tabs",this.props.vivaldiSettings.USE_TAB_TRANSPARENT_TABS),i(e,"color-behind-tabs-on",t),i(e,"color-behind-tabs-off",!t),i(e,"animation-on",this.props.vivaldiSettings.USE_ANIMATION),i(e,"animation-off",!this.props.vivaldiSettings.USE_ANIMATION),i(e,"favicon-current-background-color",t),i(e,"hasfocus",this.state.hasFocus),i(e,"isblurred",!this.state.hasFocus),i(e,"alt",this.props.vivaldiSettings.LINUX_ALT_CONTROLS),i(e,"native",this.state.initialNativeView),i(e,this.state.currentOS,!0),i(e,"win10",window.navigator.appVersion.indexOf("Windows NT 10")>0),i(e,"private",this.state.incognito),e);if(n["address-"+(this.props.vivaldiSettings.SHOW_ADDRESS_BAR?this.props.vivaldiSettings.ADDRESS_BAR_POSITION:"off")]=!0,n["tabs-"+(this.props.vivaldiSettings.SHOW_TAB_BAR?this.props.vivaldiSettings.TAB_POSITION:"off")]=!0,n["stacks-"+this.props.vivaldiSettings.TAB_STACKING]=!0,n[this.state.currentWindowstate]=!0,n["bookmark-bar-"+(this.props.vivaldiSettings.BOOKMARK_BAR_VISIBLE?this.props.vivaldiSettings.BOOKMARK_BAR_POSITION:"off")]=!0,this.state.activePage&&this.state.activePage.get("url")){var r=this.state.activePage.get("url");n["is-startpage"]=J.isStartPage(r),n["is-mail"]=J.isMailPage(r)}return j(n)},getFooterClasses:function(){var e={footer:!0,disabled:!this.props.vivaldiSettings.SHOW_VIVALDI_FOOTER||"off"===this.props.vivaldiSettings.SHOW_VIVALDI_FOOTER||"urls"===this.props.vivaldiSettings.SHOW_VIVALDI_FOOTER};return j(e)},showStartupDialog:function(){var e=this;P.get("CHECK_DEFAULT_BROWSER_STARTUP",function(t){t&&G.importData.isVivaldiDefaultBrowser(function(t){"false"===t&&e.setState({startupDlg:e.refs.webpageview})})})},closeStartupDialog:function(e){this.setState({startupDlg:null})},toggleTabBar:function(){P.set({SHOW_TAB_BAR:!this.props.vivaldiSettings.SHOW_TAB_BAR})},toggleAddressBar:function(){P.set({SHOW_ADDRESS_BAR:!this.props.vivaldiSettings.SHOW_ADDRESS_BAR})},handleToggleUI:function(e,t){t?(P.set({SHOW_TAB_BAR:this.props.vivaldiSettings.MINIMALISTIC_UI_RECOVER_INFO.SHOW_TAB_BAR,SHOW_ADDRESS_BAR:this.props.vivaldiSettings.MINIMALISTIC_UI_RECOVER_INFO.SHOW_ADDRESS_BAR,SHOW_VIVALDI_FOOTER:this.props.vivaldiSettings.MINIMALISTIC_UI_RECOVER_INFO.SHOW_VIVALDI_FOOTER,BOOKMARK_BAR_VISIBLE:this.props.vivaldiSettings.MINIMALISTIC_UI_RECOVER_INFO.BOOKMARK_BAR_VISIBLE}),this.props.vivaldiSettings.MINIMALISTIC_UI_RECOVER_INFO.SHOW_PANEL!==y.getPanelButtonsVisible()&&S.togglePanelVisibility()):(P.set({MINIMALISTIC_UI_RECOVER_INFO:{SHOW_TAB_BAR:this.props.vivaldiSettings.SHOW_TAB_BAR,SHOW_ADDRESS_BAR:this.props.vivaldiSettings.SHOW_ADDRESS_BAR,SHOW_VIVALDI_FOOTER:this.props.vivaldiSettings.SHOW_VIVALDI_FOOTER,BOOKMARK_BAR_VISIBLE:this.props.vivaldiSettings.BOOKMARK_BAR_VISIBLE,SHOW_PANEL:y.getPanelButtonsVisible()}}),P.set({SHOW_VIVALDI_FOOTER:"urls",SHOW_TAB_BAR:!1,SHOW_ADDRESS_BAR:!1,BOOKMARK_BAR_VISIBLE:!1}),y.getPanelButtonsVisible()&&S.togglePanelVisibility())},toggleUI:function(){P.set({MINIMALISTIC_UI_SHOW:!this.props.vivaldiSettings.MINIMALISTIC_UI_SHOW})},onPageZoomUpdated:function(e){f.getActiveWebView()&&(J.isInternalPage(this.state.activePage)||H.tabs.setZoom(e))},render:function(){var e=J.isInternalPage(this.state.activePage);return r.createElement("div",{id:"browser",ref:"browser",lang:H.i18n.getUILanguage(),className:this.getBrowserClasses(),onContextMenu:this.onContextMenu},r.createElement("div",{id:"header",onDoubleClick:this.handleDoubleClick,className:!this.props.vivaldiSettings.USE_TABCOLOR||"on"===this.props.vivaldiSettings.TABCOLOR_BEHIND_TABS||"top"===this.props.vivaldiSettings.TAB_POSITION&&this.props.vivaldiSettings.SHOW_TAB_BAR?null:"favicon-current-background-color"},r.createElement(w,{currentWindowstate:this.state.currentWindowstate,title:J.getDisplayTitle(this.state.activePage),pages:this.state.pages,currentOS:this.state.currentOS,tabPosition:this.props.vivaldiSettings.SHOW_TAB_BAR?this.props.vivaldiSettings.TAB_POSITION:"none",onNoVisualBlur:this.noVisualBlur}),this.state.showHorizontalVivaldiMenu&&this.state.menuItems&&r.createElement("div",{className:"topmenu"},r.createElement("button",{className:"vivaldi-horizontal-icon",onDoubleClick:this.close,title:W("Double Click to Close"),dangerouslySetInnerHTML:{__html:n(527)}}),r.createElement(m,{horizontal:!0,platformPopups:!0,items:this.state.menuItems}),r.createElement("div",{className:"horizontal-menu-pagetitle"},J.getDisplayTitle(this.state.activePage))),this.props.vivaldiSettings.SHOW_TAB_BAR&&"top"===this.props.vivaldiSettings.TAB_POSITION&&r.createElement(O,{ref:"tabbar",pages:this.state.pages,pageHistory:this.state.pageHistory,isSelecting:this.state.isSelecting,pageSelection:this.state.pageSelection,activePage:this.state.activePage,tabPosition:this.props.vivaldiSettings.TAB_POSITION,switchTabVisualTabSwitcher:this.switchTabVisualTabSwitcher}),!this.props.vivaldiSettings.SHOW_TAB_BAR&&r.createElement(O,{ref:"tabbar",pages:this.state.pages,pageHistory:this.state.pageHistory,isSelecting:this.state.isSelecting,pageSelection:this.state.pageSelection,activePage:this.state.activePage,tabPosition:"none",switchTabVisualTabSwitcher:this.switchTabVisualTabSwitcher})),r.createElement("div",{id:"main",className:this.props.vivaldiSettings.PANEL_POSITION},r.createElement(D,{id:this.state.activePage.get("id"),page:this.state.activePage,incognito:this.state.incognito,currentOS:this.state.currentOS,searchEngines:this.props.vivaldiSettings.SEARCH_ENGINES,currentWindowstate:this.state.currentWindowstate}),this.props.vivaldiSettings.BOOKMARK_BAR_VISIBLE&&r.createElement(s,{useTabColor:this.props.vivaldiSettings.USE_TABCOLOR&&"on"!==this.props.vivaldiSettings.TABCOLOR_BEHIND_TABS,display:this.props.vivaldiSettings.BOOKMARK_BAR_DISPLAY,statusOff:"off"===this.props.vivaldiSettings.SHOW_VIVALDI_FOOTER,keyAccess:this.props.vivaldiSettings.KEY_ACCESS}),r.createElement("div",{className:"inner"},this.props.vivaldiSettings.SHOW_TAB_BAR&&"left"===this.props.vivaldiSettings.TAB_POSITION&&r.createElement(O,{ref:"tabbar",pages:this.state.pages,pageHistory:this.state.pageHistory,isSelecting:this.state.isSelecting,pageSelection:this.state.pageSelection,activePage:this.state.activePage,tabPosition:this.props.vivaldiSettings.TAB_POSITION,switchTabVisualTabSwitcher:this.switchTabVisualTabSwitcher}),this.state.startupDlg&&r.createElement(C,{parentDiv:this.state.startupDlg,onClose:this.closeStartupDialog}),this.state.importData&&r.createElement(A,{dialogParentElement:this.state.importData,onClose:this.closeImportData,ref:"import"}),this.state.saveSession&&r.createElement(I,{dialogParentElement:this.state.saveSession,onClose:this.closeSaveSession,ref:"savesession"}),this.state.openSession&&r.createElement(T,{dialogParentElement:this.state.openSession,onClose:this.closeOpenSession,ref:"opensession"}),r.createElement(_,{key:"panel",position:this.props.vivaldiSettings.PANEL_POSITION}),r.createElement("div",{ref:"webpageview",id:"webview-container"},r.createElement(x,{pages:this.state.pages,cycleFocus:this.props.vivaldiSettings.FOCUS_CYCLE_TRAP}),"urls"===this.props.vivaldiSettings.SHOW_VIVALDI_FOOTER&&r.createElement(F,{page:this.state.activePage,ref:"statusinfo"})),"fullscreen"===this.state.currentWindowstate&&this.props.vivaldiSettings.SHOW_FULLSCREEN_BUBBLE&&"mac"!==this.state.currentOS&&r.createElement(c,{ref:"fullscreenbubble"}),this.props.vivaldiSettings.SHOW_TAB_BAR&&"right"===this.props.vivaldiSettings.TAB_POSITION&&r.createElement(O,{ref:"tabbar",pages:this.state.pages,pageHistory:this.state.pageHistory,isSelecting:this.state.isSelecting,pageSelection:this.state.pageSelection,activePage:this.state.activePage,tabPosition:this.props.vivaldiSettings.TAB_POSITION,switchTabVisualTabSwitcher:this.switchTabVisualTabSwitcher})),this.props.vivaldiSettings.SHOW_TAB_BAR&&"bottom"===this.props.vivaldiSettings.TAB_POSITION&&r.createElement(O,{ref:"tabbar",pages:this.state.pages,pageHistory:this.state.pageHistory,isSelecting:this.state.isSelecting,pageSelection:this.state.pageSelection,activePage:this.state.activePage,tabPosition:this.props.vivaldiSettings.TAB_POSITION,switchTabVisualTabSwitcher:this.switchTabVisualTabSwitcher})),r.createElement("div",{id:"footer",className:this.getFooterClasses()},"urls"!==this.props.vivaldiSettings.SHOW_VIVALDI_FOOTER&&r.createElement(F,{page:this.state.activePage,ref:"statusinfo"}),r.createElement(U,null),r.createElement("button",{className:"paneltogglefooter button-toolbar-small",title:W("Show Panel"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,onClick:this.panelToggle,dangerouslySetInnerHTML:{__html:n(530)}}),this.state.activePage&&r.createElement(k,{ref:"tilingtoggle",keyAccess:this.props.vivaldiSettings.KEY_ACCESS,disableOnClickOutside:!0,page:this.state.activePage,groupPages:h.getGroup(this.state.activePage.getIn(["extData","group"]),this.state.pages),tilePages:h.getTiles(this.state.activePage.getIn(["extData","tiling","id"]),this.state.pages),isSelecting:this.state.isSelecting,pageSelection:this.state.pageSelection}),r.createElement(N,{ref:"imagetoggle",keyAccess:this.props.vivaldiSettings.KEY_ACCESS,disableOnClickOutside:!0,activePage:this.state.activePage,disabled:!1}),r.createElement(v,{keyAccess:this.props.vivaldiSettings.KEY_ACCESS,page:this.state.activePage,disableOnClickOutside:!0,disabled:!1}),r.createElement(B,{ref:"zoomslider",inFooter:"true",keyAccess:this.props.vivaldiSettings.KEY_ACCESS,buttonClass:"button-toolbar-small",page:this.state.activePage,onZoomUpdated:this.onPageZoomUpdated,onZoomReset:this.doActionZoomReset,defaultZoomLevel:this.state.defaultPageZoomLevel,maxLevel:3,minLevel:.3,step:.1,disabled:e})),this.state.mainDialogType&&this.state.mainDialogType.key&&r.createElement(b,{ref:"mainDialog",onClose:this.state.mainDialogType.func,dialog:this.state.mainDialogType.key}))}});e.exports=q(ee,X)},function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(1),o=n(5),a=n(287),s=n(339),l=n(281),u=n(28),c=r.createClass({displayName:"MainDialog",getInitialState:function(){return{shown:!0}},componentWillReceiveProps:function(){this.setState({shown:!0})},handleClick:function(){this.state.shown&&this.props.onClose(function(){this.setState({shown:!this.state.shown})}.bind(this))},getLayeredComponentRootNode:function(){return this.props.parentDiv},render:function(){if(this.state.shown){var e=void 0;return e=this.props.dialog===o.MAIN_SHOW_VISUAL_TAB_SWITCHER?"modal-tabswitcher":this.props.dialog===o.MAIN_SHOW_QUICKCOMMANDS?"qc-modal float top":"float",r.createElement(u,{onRequestClose:this.handleClick,ignoreEscape:!0,viewMode:e},this.props.dialog===o.MAIN_SHOW_QUICKCOMMANDS&&r.createElement(s,i({key:o.MAIN_SHOW_QUICKCOMMANDS},this.props)),this.props.dialog===o.MAIN_SHOW_KEYBOARDS_SHORTCUTS&&r.createElement(a,i({key:o.MAIN_SHOW_KEYBOARDS_SHORTCUTS},this.props)),this.props.dialog===o.MAIN_SHOW_VISUAL_TAB_SWITCHER&&r.createElement(l,i({ref:"visualTabSwitcher",key:o.MAIN_SHOW_VISUAL_TAB_SWITCHER},this.props)))}return null}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(175),a=n(180),s=n(159),l=n(42),u=n(40),c=n(6),A=["LINUX_ALT_CONTROLS","USE_ANIMATION","USE_NATIVE_WINDOW_DECORATIONS"],d=i.createClass({displayName:"PopupWindow",mixins:[s],getInitialState:function(){var e=r.app.window.current();return{currentOS:l(),currentWindowstate:e.isMaximized()?"maximized":"normal",hasFocus:!0,initialNativeView:!1}},componentWillMount:function(){var e=r.app.window.current();e.onMaximized.addListener(this.onMaximized),e.onFullscreened.addListener(this.onFullscreened),e.onRestored.addListener(this.onRestored),window.addEventListener("focus",this.onFocus),window.addEventListener("blur",this.onBlur),this.setState({initialNativeView:this.props.vivaldiSettings.USE_NATIVE_WINDOW_DECORATIONS})},onMaximized:function(){this.setState({currentWindowstate:"maximized"})},onFullscreened:function(){this.setState({currentWindowstate:"fullscreen"})},onRestored:function(){var e=r.app.window.current();this.setState({currentWindowstate:e.isMaximized()?"maximized":"normal"})},onFocus:function(e){this.setState({hasFocus:!0})},onBlur:function(){this.setState({hasFocus:!1})},componentDidMount:function(){window.addEventListener("load",function(){var e=r.app.window.current();e?e.show():console.warn("Couldn't show hidden application window because missing current window")}.bind(this))},render:function(){var e=this.props.vivaldiSettings,t={popup:!0,"ui-light":!0,"ui-tabcolor-on":!0,"animation-on":e.USE_ANIMATION,"animation-off":!e.USE_ANIMATION,hasfocus:this.state.hasFocus,isblurred:!this.state.hasFocus,"native":this.state.initialNativeView,alt:e.LINUX_ALT_CONTROLS,win10:window.navigator.appVersion.indexOf("Windows NT 10")>0};return t[this.state.currentOS]=!0,t[this.state.currentWindowstate]=!0,t["is-settingspage"]=!0,i.createElement("div",{id:"browser",className:c(t),lang:r.i18n.getUILanguage(),onContextMenu:this.onContextMenu},i.createElement("div",{id:"header",onDoubleClick:this.handleDoubleClick,className:"favicon-current-background-color"},i.createElement(a,{currentWindowstate:this.state.currentWindowstate,currentOS:this.state.currentOS,tabPosition:"top",onNoVisualBlur:function(){}})),i.createElement("div",{className:"webpageview"},i.createElement(o,null)))}});e.exports=u(d,A)},function(e,t,n){"use strict";function i(e,t){return"Alt"===e.keyIdentifier&&e.altKey===!0&&e.ctrlKey===!1&&e.shiftKey===!1&&e.metaKey===!1&&t===!0}function r(e,t){return"Alt"===e.keyIdentifier&&e.altKey===!1&&e.ctrlKey===!1&&e.shiftKey===!1&&e.metaKey===!1&&t===!0}function o(){function e(e,t){var n=Math.atan2(t,e)+L/2;0>n&&(n+=2*Math.PI);var i=Math.floor(n/(2*Math.PI)*100);M.push(D[i])}function t(e,t){var n=Math.abs(e-t);return n>4&&(n=8-n),n}function n(e,t,n){for(var i=new Array(e),r=0;e>r;r++){i[r]=new Array(t);for(var o=0;t>o;o++)i[r][o]=n}return i}function o(e,i){if(-1===e[0])return 0===i.length?0:1e5;var r,o,a=n(e.length+1,i.length+1,0),s=a.slice();for(r=1;r<=e.length;r++)for(o=1;o<i.length;o++)a[r][o]=t(e[r-1],i[o-1]);for(o=1;o<=i.length;o++)s[0][o]=1e5;for(r=1;r<=e.length;r++)s[r][0]=1e5;s[0][0]=0;var l,u,c,A=0;for(r=1;r<=e.length;r++)for(o=1;o<i.length;o++)A=a[r][o],l=s[r-1][o]+A,u=s[r][o-1]+A,c=s[r-1][o-1]+A,s[r][o]=Math.min(Math.min(l,u),c);return s[r-1][o-1]}function l(){c.get("MOUSE_GESTURES_ENABLED",function(e){_="boolean"==typeof e?e:!1}.bind(this));var e={preferenceKey:"mousegestures_enabled",preferenceValue:{"boolean":_},preferenceType:"boolean"};d.settings.setPreference(e)}function p(){c.get("MOUSE_WHEEL_TAB_SWITCHING",function(e){"boolean"==typeof e&&(S=e)}.bind(this))}function f(){c.get("ALT_GESTURES_ENABLED",function(e){"boolean"==typeof e&&(y=e)}.bind(this))}function m(e){"mousegestures_enabled"===e.preferenceKey&&c.set({MOUSE_GESTURES_ENABLED:e.preferenceValue["boolean"]})}function g(){d.settings.getPreference("mousegestures_enabled",function(e){_=e.preferenceValue["boolean"]})}function v(){d.settings.getPreference("vivaldi.swipe_scroll_direction",function(e){b=e.preferenceValue["boolean"]})}var E,_=!1,S=!1,y=!1,b=Boolean("MacIntel"===navigator.platform),C=!1,I=!1,T=[],O=!1,w=!1,N=!1,k=5,D=[],M=[],P=2*Math.PI/100,L=2*Math.PI/8;this.init=function(){g(),"MacIntel"===navigator.platform&&v(),p(),f();var e;for(e=-L/2;e<=2*Math.PI-L/2;e+=P)E=Math.floor((e+L/2)/L),D.push(E)},this.attachEvents=function(){document.addEventListener("keydown",this.onMouseDown,!0),document.addEventListener("keyup",this.onMouseUp,!0),document.addEventListener("mousedown",this.onMouseDown,!0),document.addEventListener("mouseup",this.onMouseUp,!0),document.addEventListener("mousemove",this.onMouseMove,!0),document.addEventListener("wheel",this.onMouseWheel,!0),document.addEventListener("DOMMouseScroll",this.onMouseWheel,!0),document.addEventListener("contextmenu",this.onContextMenu,!0),c.addListener("MOUSE_GESTURES_ENABLED",l),c.addListener("ALT_GESTURES_ENABLED",f),c.addListener("MOUSE_WHEEL_TAB_SWITCHING",p),d.settings.onChanged.addListener(m)},this.detachEvents=function(){document.removeEventListener("keydown",this.onMouseDown),document.removeEventListener("keyup",this.onMouseUp),document.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("wheel",this.onMouseWheel),document.removeEventListener("DOMMouseScroll",this.onMouseWheel),document.removeEventListener("contextmenu",this.onContextMenu),c.removeListener("MOUSE_GESTURES_ENABLED",l),c.removeListener("ALT_GESTURES_ENABLED",f),c.removeListener("MOUSE_WHEEL_TAB_SWITCHING",p),d.settings.onChanged.removeListener(m)},this.init(),this.onContextMenu=function(e){(C||N)&&("win"===A()&&(e.stopPropagation(),e.preventDefault()),C=!1,N=!1)},this.onMouseDown=function(e){if(_&&!I&&(2===e.button||i(e,y))){N=!1,T.url=s.getTargetUrl();var t=s.getActivePage();t&&t.get("url")&&(T.source_url=t.get("url")),"mousedown"===e.type?(O=e.x,w=e.y):O=w=!1,I=!0}},this.onMouseUp=function(e){if((_||N)&&(2===e.button||r(e,y)))if(I=!1,N)e.preventDefault(),T=[],M=[],O=w=!1;else if(M.length>0){r(e,y)||"win"!==A()||(e.preventDefault(),e.stopPropagation());var t,n,i,s=1e5,l=a.getCommandsGestures();for(var u in l)l.hasOwnProperty(u)&&(n=u.split(""),i=o(n,M),s>i&&10>i&&(s=i,t=u));t&&(l[t]["function"](null,T),C=!0),T=[],M=[],O=w=!1}},this.onMouseMove=function(t){if(_&&I===!0){if("win"!==A()&&2!==t.button&&t.altKey!==!0)return I=!1,T=[],M=[],void(O=w=!1);if(O===!1)return O=t.x,void(w=t.y);var n=t.x-O,i=t.y-w,r=n*n+i*i,o=k*k;r>o&&(O=t.x,w=t.y,e(n,i))}};var x,R,B=.3,F=3,U=!1,V=0,W=!1,H=0,K=0,G=0;this.delayTimeout=void 0,this.onMouseWheel=function(e){var t=(new Date).getTime();"boolean"!=typeof x&&(0===G&&(R=t),G++,t-R>50&&(x=G>5));var n="MacIntel"!==navigator.platform?e.ctrlKey:e.metaKey;if(0===V?(V=t,n&&(U=!0)):t-V>1200?(V=0,n||(U=!1)):n||(U=!1),U){var i=s.getActivePage();if(!u.isInternalPage(i)){var r;r=e.wheelDelta<0?-.1:e.wheelDelta>0?.1:0,K=t,!W&&K-H>150&&(W=!0,h.tabs.getZoom(function(e){var t=Math.round(10*e)/10+r;t>.2&&h.tabs.setZoom(Math.min(Math.max(Math.round(10*t)/10,B),F))}),window.clearTimeout(this.delayTimeout),this.delayTimeout=setTimeout(function(){H=t,W=!1},100)),e.preventDefault()}}else{if(!S)return null;var o=!1;for(var l in e.path)if(e.path.hasOwnProperty(l)&&"tabs-container"===e.path[l].id){var c=e.path[l].className;if(-1===c.indexOf("overflow")){o=!0;break}}if("boolean"==typeof x&&(2===e.buttons||e.altKey||o)){e.preventDefault(),e.stopPropagation();var A,d,p=a.getCommands();if(e.wheelDelta>0)d=1;else{if(!(e.wheelDelta<0))return;d=-1}var f=b?"COMMAND_TAB_SWITCH_BACK_SETTING":"COMMAND_TAB_SWITCH_FORWARD_SETTING",m=b?"COMMAND_TAB_SWITCH_BACK_ORDER":"COMMAND_TAB_SWITCH_FORWARD_ORDER",g=b?"COMMAND_TAB_SWITCH_FORWARD_SETTING":"COMMAND_TAB_SWITCH_BACK_SETTING",v=b?"COMMAND_TAB_SWITCH_FORWARD_ORDER":"COMMAND_TAB_SWITCH_BACK_ORDER";x?(K=t,!W&&K-H>550&&(W=!0,A=d>0?2===e.buttons||e.altKey?f:m:2===e.buttons||e.altKey?g:v,window.clearTimeout(this.delayTimeout),this.delayTimeout=setTimeout(function(){H=t,W=!1},500))):A=d>0?2===e.buttons||e.altKey?f:m:2===e.buttons||e.altKey?g:v;for(var E in p)p.hasOwnProperty(E)&&p[E].name===A&&p[E].action(null,e);N=!0}}}}var a=n(36),s=n(19),l=n(20),u=l.urls,c=n(4),A=n(42),d=n(9),h=n(3);e.exports=o},function(e,t,n){"use strict";var i=n(1),r=n(2),o=i.createClass({displayName:"AttachmentItem",onRemoveScreenshot:function(){this.props.removeScreenshot(this.props.index)},onOpenScreenshot:function(){this.props.openScreenshot(this.props.index)},render:function(){return i.createElement("div",{className:"screenshot",style:{backgroundImage:"url("+this.props.item.content+")"}},i.createElement("button",{className:"screenshot-remove",title:r("Remove screenshot"),onClick:this.onRemoveScreenshot}),i.createElement("button",{className:"screenshot-view",title:r("View screenshot"),onClick:this.onOpenScreenshot}))}});e.exports=o},function(e,t,n){"use strict";var i=n(1),r=n(14),o=n(9),a=n(314),s=i.createClass({displayName:"AttachmentContainer",onOpenScreenshot:function(e){r.openURL(this.props.attachments[e].content)},onRemoveScreenshot:function(e){this.props.attachments.splice(e,1);var t={attachments:this.props.attachments};o.notes.update(this.props.selectedNote.id.toString(),t,function(e){o.notes.search(this.props.filter,this.props.onNotesPopulated)}.bind(this))},render:function(){if(!this.props.attachments)return null;var e=0,t=this.props.attachments.map(function(t){return i.createElement(a,{key:e,item:t,openScreenshot:this.onOpenScreenshot,removeScreenshot:this.onRemoveScreenshot,index:e++})}.bind(this));return i.createElement("div",{className:"screenshots-wrapper"},t)}});e.exports=s},function(e,t,n){(function(t){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=n(1),o=n(12),a=n(66),s=n(7),l=n(93),u=n(315),c=n(23),A=n(186),d=n(317),h=n(14),p=n(41),f=n(70),m=n(4),g=n(10),v=n(2),E=n(9),_=n(73),S=n(191),y=n(17),b=n(34),C=n(72),I=n(54),T=n(5),O=300,w=238,N=600,k=T.CHANGED,D=r.createClass({displayName:"NotesPanel",mixins:[g,a,s],vivaldiSettingsKeys:["NOTES_EDITOR_HEIGHT","KEY_ACCESS"],getInitialState:function(){return{filter:"",selectedNote:null,selectedFolder:null,titleValue:"",contentValue:"",urlValue:"",firstnoterequested:!1}},componentWillMount:function(){A.addChangeListener(this._onStoreChange),p.addChangeListener(this._onPanelStoreChange),I.addListener(k,this._onUrlbarStoreChanged)},componentDidUpdate:function(e,t){!e.open&&this.props.open&&this.refs.notesTree&&(o.findDOMNode(this.refs.notesTree).focus(),this.onItemSelected(this.refs.notesTree.refs.notesTree.getSelectedItem()))},componentWillUnmount:function(){A.removeChangeListener(this._onStoreChange),p.removeChangeListener(this._onPanelStoreChange),I.removeListener(k,this._onUrlbarStoreChanged)},_onPanelStoreChange:function(e){this.props.open&&"setFocus"===e&&!_(o.findDOMNode(this))&&o.findDOMNode(this.refs.notesTree).focus()},_onUrlbarStoreChanged:function(){var e=I.getUrlfieldStateFromId("NotesPanel");this.setState(e)},onNotesPopulated:function(e){this.setState({notes:e})},onItemSelected:function(e){e?this.isFolder(e)?this.onFolderSelected(e):this.onNoteSelected(e):this.setState(this.getInitialState())},onNoteSelected:function(e){this.setState({selectedNote:e,selectedFolder:null,titleValue:e.title,contentValue:e.content,urlValue:e.url})},onFolderSelected:function(e){this.setState({selectedNote:null,selectedFolder:e,titleValue:e.title,contentValue:"",urlValue:""})},unSelect:function(){this.refs.notesTree.unSelectAll(),this.setState({selectedNote:null,selectedFolder:null,urlValue:""})},isFolder:function(e){return y.has(e,"children")},onAddNote:function(){this._onAdd("note")},onAddFolder:function(){this._onAdd("folder")},_onAdd:function(e){var n=this,i=0;this.state.selectedNote&&!y.isEmpty(this.state.selectedNote)&&(i=this.state.selectedNote.parentId),this.state.selectedFolder&&(i=this.state.selectedFolder.id,this.refs.notesTree.expandNote(this.state.selectedFolder)),E.notes.create({type:e,title:"",parentId:i.toString()},function(e){n.refs.notesTree&&(n.refs.notesTree.selectNoteById(e.id),t.nextTick(function(){return n.refs.refContent.focus()}))})},onDeleteNote:function(){this.setState({selectedNote:null}),this.refs.notesTree.onDelete()},addDataURLAttachment:function(e){var t=this,n=e,r="object"===("undefined"==typeof e?"undefined":i(e));r&&(n=e.target.result);var o=this.state.selectedNote.attachments,a={attachments:o};0!==o.length||r||(a.url=l.getActiveWebView().src);var s={id:"0",content:n};a.attachments.push(s),E.notes.update(this.state.selectedNote.id.toString(),a,function(e){t.forceUpdate()})},onTakeScreenshot:function(){if(this.state.selectedNote){var e={scale:1,width:0,height:0};l.getActiveWebView()&&l.getActiveWebView().getThumbnail(e,this.addDataURLAttachment)}},onAddImageFile:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=this.addDataURLAttachment,n.readAsDataURL(t)},onOpenUrl:function(){this.state.urlValue&&h.openURL(b.fixLink(this.state.urlValue))},handleContentChange:function(e){var t=this;if(this.state.selectedFolder)return this.state.selectedFolder.title=e,void E.notes.update(this.state.selectedFolder.id.toString(),{title:this._generateTitle(e)},function(){E.notes.search(t.state.filter,t.onNotesPopulated)});if(this.setState({contentValue:e}),this.state.firstnoterequested!==!1||this.hasNote()){if(this.state.selectedNote){var n={title:this._generateTitle(e),content:e};E.notes.update(this.state.selectedNote.id.toString(),n,function(){E.notes.search(t.state.filter,t.onNotesPopulated)})}}else this.setState({firstnoterequested:!0}),E.notes.create({type:"note",content:e},function(e){t.setState({selectedNote:e})})},_generateTitle:function(e){var t=100,n=void 0,i=e.substring(0,t).indexOf("\n");if(i>=0)n=e.substring(0,i);else if(e.length>t){var r=e.substring(0,t).lastIndexOf(" ");n=r>=0?e.substring(0,r):e.substring(0,t-3)+"..."}return n?n:e},handleURLChange:function(){var e=this,t=o.findDOMNode(this.refs.noteUrl),n=t.value.trim();if("string"==typeof n&&n!==this.state.urlValue){var i=""===n?n:b.ensureURLProtocol(n);if(this.setState({urlValue:i,editUrl:null}),this.state.selectedNote){var r={url:i};E.notes.update(this.state.selectedNote.id.toString(),r,function(t){E.notes.search(e.state.filter,e.onNotesPopulated)})}}},handleFilterChange:function(e){this.setState({filter:e}),E.notes.search(e,this.onNotesPopulated)},onKeyDown:function(e){
e.keyCode===c.KEY_ESCAPE&&this.unSelect()},onGetNodeIcon:function(e){return e.url?"/resources/linked-note@2x.png":"/resources/default-note@2x.png"},_onStoreChange:function(){this.forceUpdate()},hasNote:function(){var e=A.getNotesRoot();if(e&&e.children){if(e.children.length>1)return!0;var t=e.children[0];if(t&&t.trash)return t.children&&t.children.length>0}return!1},handleResize:function(e){var t=o.findDOMNode(this.refs.noteEditor),n=t.getBoundingClientRect(),i=n.height+e;return i>N?i=N:w>i&&(i=w),m.set({NOTES_EDITOR_HEIGHT:i}),!0},resizeToDefault:function(){m.set({NOTES_EDITOR_HEIGHT:O})},render:function(){if(!this.props.open)return null;var e={value:this.state.selectedFolder?this.state.selectedFolder.title:this.state.contentValue,requestChange:this.handleContentChange},t={value:this.state.filter,requestChange:this.handleFilterChange},i=this.state.selectedNote?S.dateTimeLong(this.state.selectedNote.dateAdded):this.state.selectedFolder?S.dateTimeLong(this.state.selectedFolder.dateAdded):"";return r.createElement("div",{className:"panel",ref:"notesPanelElement",id:"notes-panel"},r.createElement("header",null,r.createElement("h1",null,v("Notes")),r.createElement("div",{className:"toolbar icons"},r.createElement("input",{type:"search",className:"notesearch",placeholder:v("Search..."),valueLink:t}),r.createElement("span",null,r.createElement("button",{title:v("New Note"),className:"button-toolbar note-new",tabIndex:this.state.KEY_ACCESS,onClick:this.onAddNote,dangerouslySetInnerHTML:{__html:n(65)}}),r.createElement("button",{title:v("New Folder"),className:"button-toolbar note-folder",tabIndex:this.state.KEY_ACCESS,onClick:this.onAddFolder,dangerouslySetInnerHTML:{__html:n(101)}}),r.createElement("button",{title:v("other","Delete"),className:"button-toolbar note-delete",tabIndex:this.state.KEY_ACCESS,onClick:this.onDeleteNote,dangerouslySetInnerHTML:{__html:n(82)}})))),r.createElement("section",{onClick:this.unSelect,onKeyDown:this.onKeyDown},!this.hasNote()&&r.createElement("div",{className:"no-notes"},r.createElement("div",{className:"happy-note",onClick:this.onAddNote},r.createElement("span",{dangerouslySetInnerHTML:{__html:n(499)}}),r.createElement("h1",null,v("Write Your First Note")),r.createElement("p",null,v("Add a new note to begin, or select text on any webpage\n              and create note from contextual menu.")))),r.createElement(d,{ref:"notesTree",filter:this.state.filter,onDelete:this.onDeleteNote,onNoteSelected:this.onItemSelected,onEditNote:this.onEditNote})),r.createElement("div",{className:"notes-editor",ref:"noteEditor",style:{height:this.state.NOTES_EDITOR_HEIGHT||O}},r.createElement(f,{onSlidebarMove:this.handleResize,onDoubleClick:this.resizeToDefault,position:"bottom"}),r.createElement("div",{className:"data notes-cardwrapper cardview"},r.createElement("div",{className:"dateCreated"},r.createElement("div",{className:"meta-icon date fieldset",dangerouslySetInnerHTML:{__html:n(203)}}),r.createElement("span",{title:v("Date created")},i)),r.createElement("div",{className:"urlwrapper"},r.createElement("button",{className:"meta-icon url",title:v("Go to Address"),disabled:!this.state.selectedNote,tabIndex:this.state.KEY_ACCESS,onClick:this.onOpenUrl,dangerouslySetInnerHTML:{__html:n(495)}}),r.createElement(C,{ref:"noteUrl",title:v("Enter webpage address"),className:"cardview address",disabled:!this.state.selectedNote,onBlur:this.handleURLChange,pageId:"NotesPanel",displayUrl:this.state.urlValue,editUrl:this.state.editUrl,autocompletionEnabled:!0,triggerTypedHistory:!1,selectionStart:this.state.selectionStart,selectionEnd:this.state.selectionEnd,placeholder:this.state.selectedNote?v("Address"):null})),(this.state.selectedNote||this.state.selectedFolder)&&r.createElement("textarea",{ref:"refContent",className:"note editor",placeholder:v(this.state.selectedFolder?"Folder":"Note"),title:v("Write a note"),valueLink:e}),!this.state.selectedNote&&!this.state.selectedFolder&&r.createElement("div",{className:"note shim",onClick:this.onAddNote},v("Click to create new note")),r.createElement("div",{className:"attachments-wrapper"},r.createElement(u,{ref:"attachmentcontainer",attachments:this.state.selectedNote?this.state.selectedNote.attachments:null,selectedNote:this.state.selectedNote,filter:this.state.filter,onNotesPopulated:this.onNotesPopulated}),r.createElement("div",{className:"add-attachments-wrapper"},r.createElement("button",{className:"add-attachments",tabIndex:this.state.KEY_ACCESS,onClick:this.addFiles}),r.createElement("div",{className:"add-attachments-callout"},r.createElement("button",{className:"add-attachment-screenshot",tabIndex:this.state.KEY_ACCESS,onClick:this.onTakeScreenshot,title:v("Add new screenshot")}),r.createElement("input",{className:"add-attachment-file",type:"file",title:v("Attach new file"),tabIndex:this.state.KEY_ACCESS,accept:"image/*",onChange:this.onAddImageFile})))))))}});e.exports=D}).call(t,n(22))},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(272),a=n(186),s=n(3),l=n(2),u=n(34),c=n(14),A=n(9),d=i.createClass({displayName:"NotesTree",mixins:[r],getInitialState:function(){return this.getNotesState()},componentWillMount:function(){a.addChangeListener(this._onStoreChange)},componentWillUnmount:function(){a.removeChangeListener(this._onStoreChange)},componentWillReceiveProps:function(e){this.props.filter!==e.filter&&this._onStoreChange(e.filter)},onDelete:function(){var e=this,t=this.refs.notesTree.getAllSelectedItems(),n=t.length;if(-1!==t){var i=0;t.map(function(t){i++,A.notes.get(t.id,function(r){r[0]&&r[0].trash!==!0&&A.notes.remove(t.id,function(){if(i===n){var t=e.refs.notesTree.getNextSelectedAfterDelete();t&&e.refs.notesTree.selectById(t),e.onSelect(t,function(){})}})})})}},getNotesState:function(){return{notesTree:a.getNotesRoot().children}},isFolder:function(e){return e.children},isTrash:function(e){return e.trash},isEditable:function(e){return!1},onDoubleClick:function(e){e.url&&c.openURL(u.fixLink(e.url))},onSelect:function(e,t){e&&this.refs.notesTree&&this.refs.notesTree.getSelected()!==e?A.notes.get(e,function(e){s.runtime.lastError&&console.log(s.runtime.lastError),this.props.onNoteSelected(e[0],function(){t()}.bind(this))}.bind(this)):this.props.onNoteSelected(void 0,function(){})},selectNoteById:function(e){this.refs.notesTree.selectById(e)},getNodeDisplayName:function(e){return i.createElement("span",{key:"display"+e.id},""!==e.title?e.title:e.content)},_onStoreChange:function(e){e&&e.length>0?A.notes.search(e,function(e){this.setState({notesTree:e})}.bind(this)):this.setState(this.getNotesState())},hasChildren:function(e){return this.isFolder(e)&&e.children&&e.children.length},handleExpandClick:function(e,t){this.refs.notesTree.toggleSelectedExpansion()},unSelectAll:function(){this.refs.notesTree.unSelectAll()},expandNote:function(e){this.refs.notesTree.isExpanded(e.id)||this.refs.notesTree.toggleSelectedExpansion()},onDeleteNote:function(e){this.onDelete()},onCreate:function(e,t){A.notes.create({parentId:e.parentId,attachments:e.attachments,content:e.content,title:e.title,type:e.children?"folder":"note"},function(e){t&&t(e)})},onMove:function(e,t,n){A.notes.move(e,t,function(e){n&&n()})},onCut:function(){document.execCommand("cut")},onCopy:function(){document.execCommand("copy")},onPaste:function(){document.execCommand("paste")},onEmptyTrash:function(){A.notes.emptyTrash(function(e){e===!1&&console.warn("Empty trash failed.")})},getNodeMenuItems:function(){return[{name:l("verb","Cut"),handler:this.onCut},{name:l("verb","Copy"),handler:this.onCopy},{name:l("verb","Paste"),handler:this.onPaste},{name:l("verb","Delete"),handler:this.onDeleteNote}]},getExpandArrows:function(e){var t=e.padding+"px";return this.isFolder(e)&&i.createElement("span",{key:"expand"+e.id,className:"expand-icon",style:{marginLeft:t},onClick:this.handleExpandClick},this.hasChildren(e)?i.createElement("img",null):null)},getNodeIcon:function(e){var t=e.padding+16+"px",n=null;return this.refs.notesTree?(e.children?(t="0px",n=e.trash?"/resources/trash-vivaldi-tree@2x.png":this.refs.notesTree.isExpanded(e.id)?"/resources/folder_open.png":"/resources/folder.png"):n=e.url?"/resources/linked-note@2x.png":"/resources/default-note@2x.png",i.createElement("img",{key:"icon"+e.id,style:{marginLeft:t},src:n})):void 0},render:function(){var e={isFolder:this.isFolder,isTrash:this.isTrash,onSelect:this.onSelect,onDoubleClick:this.onDoubleClick,onCreate:this.onCreate,onDelete:this.onDelete,onMove:this.onMove,onEmptyTrash:this.onEmptyTrash,expandSettingsName:"NOTES_TREE",items:{menuItems:this.getNodeMenuItems,columns:{getExpandArrows:this.getExpandArrows,getNodeIcon:this.getNodeIcon,getNodeDisplayName:this.getNodeDisplayName}}};return i.createElement(o,{ref:"notesTree",treeNodes:this.state.notesTree,tree:e})}});e.exports=d},function(e,t,n){"use strict";var i=n(1),r=n(7),o=i.createClass({displayName:"ActionItem",mixins:[r],getInitialState:function(){return{name:null}},onClicked:function(e){this.props.onItemClicked(this.props.name,e.target.checked)},render:function(){return i.createElement("li",null,i.createElement("label",null,i.createElement("input",{type:"checkbox",onChange:this.onClicked,checked:this.props.checked}),i.createElement("span",null,this.props.name)))}});e.exports=o},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(29),a=n(318),s=n(185),l=n(155),u=n(6),c=n(31),A=n(2),d=i.createClass({displayName:"PageActionChooser",mixins:[c,r],getInitialState:function(){return Object.assign({pageactionFiles:[],drawerOpen:!1,currentTarget:null},this.getContentScriptStoreState(this.props.page))},componentWillMount:function(){s.addChangeListener(this._onContentScriptStoreChange)},componentWillUnmount:function(){s.removeChangeListener(this._onContentScriptStoreChange)},componentWillReceiveProps:function(e){this.props.page.get("id")!==e.page.get("id")&&this.setState(this.getContentScriptStoreState(e.page))},componentDidUpdate:function(e,t){t.drawerOpen===!0&&this.state.drawerOpen===!1?this.disableOnClickOutside():t.drawerOpen===!1&&this.state.drawerOpen===!0&&this.enableOnClickOutside()},_onContentScriptStoreChange:function(){this.setState(this.getContentScriptStoreState(this.props.page))},getContentScriptStoreState:function(e){return{contentScripts:s.getContentScripts(),pageScripts:s.getPageScripts(e)}},onToggleOpenPageActions:function(){this.setState({drawerOpen:!this.state.drawerOpen})},onItemClicked:function(e,t){t?l.addContentScript(this.props.page,e):l.removeContentScript(this.props.page,e)},isActive:function(){return this.state.pageScripts!==o.Map()},isScriptEnabled:function(e){return Boolean(this.state.pageScripts.get(e))},handleClickOutside:function(e){this.setState({drawerOpen:!1})},render:function(){var e=this;return i.createElement("span",{className:"pageactions",title:A("Page actions"),ref:"pageactions"},i.createElement("button",{className:u("button-toolbar-small","page-action",{disabled:this.props.disabled,active:this.state.drawerOpen,attention:this.isActive()}),tabIndex:this.props.keyAccess,onClick:this.onToggleOpenPageActions,disabled:this.props.disabled,dangerouslySetInnerHTML:{__html:n(529)}}),this.state.drawerOpen&&i.createElement("div",{className:"callout"},i.createElement("header",null,i.createElement("h1",null,A("Page Actions"))),i.createElement("ul",{style:{maxHeight:window.innerHeight-150+"px"}},this.state.contentScripts.map(function(t,n){return i.createElement(a,{index:n,key:n,checked:e.isScriptEnabled(t.get("name")),name:t.get("name"),onItemClicked:e.onItemClicked})}))))}});e.exports=d},function(e,t,n){"use strict";function i(){return{selectedPanel:m.getSelectedPanel(),panelWidth:m.getPanelWidth(),collapsedWidth:m.getCollapsedWidth(),panelButtonsVisible:m.getPanelButtonsVisible(),panelSwitch:m.getPanelSwitch(),panelContentVisible:m.getPanelContentVisible(),focusContent:m.getFocusContent(),isMailWindow:m.getIsMailWindow(),regPanels:m.getRegPanels(),webPanels:m.getWebPanels()}}var r=n(1),o=n(12),a=n(7),s=n(406),l=n(262),u=n(278),c=n(289),A=n(90),d=n(305),h=n(58),p=n(316),f=n(60),m=n(41),g=n(423),v=n(70),E=n(69),_=n(10),S=n(407),y=n(119),b=n(2),C=n(6),I=n(21),T=220,O="MacIntel"===navigator.platform?6:10,w=.618,N=r.createClass({displayName:"Panel",mixins:[_,a],vivaldiSettingsKeys:["SHOW_WEB_PANEL_TITLE","KEY_ACCESS"],getInitialState:function(){return Object.assign({downloadItems:0,downloadProgress:0,webPanelData:[]},i())},_onStoreChange:function(){this.setState(i()),this.setupWebPanelData(this.state.webPanels)},componentWillMount:function(){m.addChangeListener(this._onStoreChange),g.addChangeListener(this._onSearchListStoreChange)},componentWillUnmount:function(){m.removeChangeListener(this._onStoreChange),g.removeChangeListener(this._onSearchListStoreChange)},_onSearchListStoreChange:function(){this.setState({unreadEmails:g.getAll().filter(function(e){return e.unread}).length})},setSelected:function(e){f.setSelectedPanel(e)},isWebPanelSelected:function(){var e;if(this.state.selectedPanel){var t=y.getPanelPrefix();e=this.state.selectedPanel.substr(0,t.length)===t}return e},handleDoubleClick:function(){this.handlePanelSwitch()},handlePanelMove:function(e){var t=o.findDOMNode(this.refs.panelsContainer),n=t.getBoundingClientRect(),i=n.width+e,r=document.getElementById("main").offsetWidth*w;return i>r?i=r:T>i&&(i=T),f.setWidth(i),!0},handlePanelSwitch:function(){f.togglePanelVisibility()},showPanelIfHidden:function(){this.state.panelContentVisible||this.handlePanelSwitch()},showPanelSettings:function(){h.showSettings()},transfersUpdated:function(e,t){"number"!=typeof t&&(t=0),this.setState({downloadItems:e,downloadProgress:t})},getWebPanelDataById:function(e){for(var t=0;t<this.state.webPanelData.length;t++){var n=this.state.webPanelData[t];if(n.id===e)return n}return null},setupWebPanelData:function(e){if(this.state.webPanelData.length!==e.length){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=this.getWebPanelDataById(i.id);if(r)t.push(r);else{var o=y.getFaviconPrefix()+i.contentUrl;t.push({id:i.id,title:"",faviconUrl:o})}}this.setState({webPanelData:t})}},isPanelOpen:function(e){return this.state.panelContentVisible===!0&&this.state.selectedPanel===e},isPanelAvailable:function(e){for(var t=this.state.regPanels,n=0;n<t.length;n++)if(t[n].id===e)return t[n].available!==!1;t=this.state.webPanels;for(var n=0;n<t.length;n++)if(t[n].id===e)return t[n].available!==!1;return!1},setWebPanelResource:function(e,t,n){this.setupWebPanelData(this.state.webPanels);for(var i=-1,r=0;r<this.state.webPanelData.length;r++){var o=this.state.webPanelData[r];if(o.id===e){"title"===t&&o.title!==n?i=r:"faviconUrl"===t&&o.faviconUrl!==n&&(i=r);break}}if(-1!==i){var a=[];for(r=0;r<this.state.webPanelData.length;r++){var s=this.state.webPanelData[r];r===i&&("title"===t?s.title=n:"faviconUrl"===t&&(s.faviconUrl=n)),a.push(s)}this.setState({webPanelData:a}),"title"===t&&y.setTitle(e,n)}},getContextMenuItems:function(e){return[{name:b("Web panel","Show Mobile Version"),handler:y.setMobileMode.bind(y,e.id,!0),visible:!Boolean(e.mobileMode===!0)},{name:b("Web panel","Show Desktop Version"),handler:y.setMobileMode.bind(y,e.id,!1),visible:Boolean(e.mobileMode===!0)},{name:b("Web panel","Hide Title"),handler:y.showWebPanelTitle.bind(y,!1),visible:Boolean(this.state.SHOW_WEB_PANEL_TITLE)},{name:b("Web panel","Show Title"),handler:y.showWebPanelTitle.bind(y,!0),visible:!Boolean(this.state.SHOW_WEB_PANEL_TITLE)},{name:b("Web panel","Copy Web Panel Address"),handler:y.copyWebPanelAdress.bind(y,e.id)},{name:"---",handler:null},{name:b("Remove Web Panel"),handler:y.removeById.bind(y,e.id)},{name:"---",handler:null},{name:b("Panels"),items:this.getPanelSelectorMenu(),handler:y.removeById.bind(y,e.id)}]},getPanelSelectorMenu:function(){var e=[{name:b("Bookmarks"),handler:this.handlePanelSelector.bind(this,m.getBookmarkName()),type:"checkbox",checked:this.isPanelAvailable(m.getBookmarkName())}];this.state.isMailWindow&&(e=e.concat([{name:b("Mail"),handler:this.handlePanelSelector.bind(this,m.getMailName()),type:"checkbox",checked:this.isPanelAvailable(m.getMailName())},{name:b("Contacts"),handler:this.handlePanelSelector.bind(this,m.getContactName()),type:"checkbox",checked:this.isPanelAvailable(m.getContactName())}])),e=e.concat([{name:b("Downloads"),handler:this.handlePanelSelector.bind(this,m.getDownloadName()),type:"checkbox",checked:this.isPanelAvailable(m.getDownloadName())},{name:b("Notes"),handler:this.handlePanelSelector.bind(this,m.getNotesName()),type:"checkbox",checked:this.isPanelAvailable(m.getNotesName())}]);var t=this.state.webPanels;if(t&&t.length>0){e.push({name:"---",handler:null});for(var n=0;n<t.length;n++){var i=t[n];e.push({name:i.title||i.contentUrl||b("Unknown Web Panel"),mnemonic:!1,handler:this.handlePanelSelector.bind(this,i.id),type:"checkbox",checked:this.isPanelAvailable(i.id)})}}return e},handlePanelSelector:function(e){var t=this.isPanelAvailable(e);t?(this.isPanelOpen(e)&&(m.getAvailablePanelCount()>1?m.getLastAvailablePanel()===e?f.showNextPanel("previous"):f.showNextPanel("next"):f.hidePanelContent()),f.setPanelAvailable(e,!1)):(f.setPanelAvailable(e,!0),f.setSelectedPanel(e))},hideToolTip:function(){E.clearTooltip()},renderWebPanel:function(e){var t=this.state.webPanels[e],n=this.state.panelContentVisible&&this.state.selectedPanel===t.id;return r.createElement(S,{key:t.id,isVisible:n,focusContent:this.state.focusContent&&n,id:t.id,src:t.contentUrl,mobileMode:t.mobileMode===!0,ref:t.id,displayTitleArea:this.state.SHOW_WEB_PANEL_TITLE,setWebPanelResource:this.setWebPanelResource})},renderAllWebPanels:function(){var e=[],t=this.state.webPanels;if(t)for(var n=0;n<t.length;n++)t[n].available!==!1&&e.push(this.renderWebPanel(n));return e},renderWebPanelButton:function(e){var t,n,i=this.state.webPanels[e],o=C({webviewbtn:!0,active:this.state.selectedPanel===i.id&&this.state.panelContentVisible===!0});if(this.state.webPanelData&&this.state.webPanelData.length>e){var a=this.state.webPanelData[e];t=a.title,t.length>0&&(t+="\n"),n=a.faviconUrl}return t+=i.contentUrl,r.createElement("button",{key:"button_"+i.id,title:t,className:o,tabIndex:this.state.KEY_ACCESS,onContextMenu:I(this.getContextMenuItems.bind(this,i),this.hideToolTip),onClick:this.setSelected.bind(this,i.id),onDoubleClick:this.setSelected.bind(this,i.id)},r.createElement("img",{src:n,alt:""}))},renderAllWebPanelButtons:function(){var e=[],t=this.state.webPanels;if(t)for(var n=0;n<t.length;n++)t[n].available!==!1&&e.push(this.renderWebPanelButton(n));return e},render:function(){var e=C({bookmarks:!0,active:this.state.selectedPanel===m.getBookmarkName()&&this.state.panelContentVisible===!0}),t=C({contacts:!0,active:this.state.selectedPanel===m.getContactName()&&this.state.panelContentVisible===!0}),i=C({mail:!0,active:this.state.selectedPanel===m.getMailName()&&this.state.panelContentVisible===!0}),o=C({downloads:!0,"in-progress":this.state.downloadItems>0,active:this.state.selectedPanel===m.getDownloadName()&&this.state.panelContentVisible===!0}),a=C({notes:!0,active:this.state.selectedPanel===m.getNotesName()&&this.state.panelContentVisible===!0}),h={left:"left"===this.props.position,right:"right"===this.props.position,button:this.state.panelSwitch,switcher:this.state.panelWidth<=O,icons:this.state.panelWidth>O&&this.state.panelWidth<="40"},f=C(h),g=b("Downloads"),E=this.state.downloadItems;return E>0&&(g=g+" "+b("($1 active transfer)","($1 active transfers)",[this.state.downloadItems])),r.createElement(A,{focusName:"focus_panel",id:"panels-container",ref:"panelsContainer",style:{width:this.state.panelWidth},className:f},r.createElement("div",{id:"panels",ref:"panelElement"},this.state.panelSwitch&&r.createElement("div",{id:"panel_switch",title:b("Toggle Panel"),ref:"panelSwitch",className:this.state.panelWidth<=O?"on":"off",onClick:this.handlePanelSwitch,onDoubleClick:this.handlePanelSwitch}),r.createElement("div",{id:"switch",onContextMenu:I(this.getPanelSelectorMenu,this.hideToolTip)},this.isPanelAvailable(m.getBookmarkName())?r.createElement("button",{title:b("Bookmarks"),className:e,tabIndex:this.state.KEY_ACCESS,onClick:this.setSelected.bind(this,m.getBookmarkName()),onDoubleClick:this.setSelected.bind(this,m.getBookmarkName()),dangerouslySetInnerHTML:{__html:n(517)}}):null,this.isPanelAvailable(m.getMailName())&&this.state.isMailWindow?r.createElement("button",{title:b("Mail"),className:i,tabIndex:this.state.KEY_ACCESS,onClick:this.setSelected.bind(this,m.getMailName()),onDoubleClick:this.setSelected.bind(this,m.getMailName())},r.createElement("span",{dangerouslySetInnerHTML:{__html:n(207)}}),this.state.unreadEmails?r.createElement("div",{className:"itemcounter"},this.state.unreadEmails):null):null,this.isPanelAvailable(m.getContactName())&&this.state.isMailWindow?r.createElement("button",{title:b("Contacts"),className:t,tabIndex:this.state.KEY_ACCESS,onClick:this.setSelected.bind(this,m.getContactName()),onDoubleClick:this.setSelected.bind(this,m.getContactName()),dangerouslySetInnerHTML:{__html:n(518)}}):null,this.isPanelAvailable(m.getDownloadName())?r.createElement("button",{title:g,className:o,tabIndex:this.state.KEY_ACCESS,onClick:this.setSelected.bind(this,m.getDownloadName()),onDoubleClick:this.setSelected.bind(this,m.getDownloadName())},r.createElement("span",{dangerouslySetInnerHTML:{__html:n(519)}}),r.createElement("div",{className:"progress"},r.createElement("div",{className:"loaded",style:{width:this.state.downloadProgress+"%"}}))):null,this.isPanelAvailable(m.getNotesName())?r.createElement("button",{title:b("Notes"),className:a,tabIndex:this.state.KEY_ACCESS,onClick:this.setSelected.bind(this,m.getNotesName()),onDoubleClick:this.setSelected.bind(this,m.getNotesName()),dangerouslySetInnerHTML:{__html:n(520)}}):null,r.createElement("div",{className:"webpanelsgroup"},this.renderAllWebPanelButtons(),r.createElement(s,{addNew:y.addByUrl,keyAccess:this.state.KEY_ACCESS})),r.createElement("button",{title:b("Settings"),className:"preferences",tabIndex:this.state.KEY_ACCESS,onClick:this.showPanelSettings,dangerouslySetInnerHTML:{__html:n(521)}})),r.createElement("div",{className:"panel-group"},r.createElement(l,{key:"panel-bookmarks",keyAccess:this.state.KEY_ACCESS,open:this.isPanelOpen(m.getBookmarkName())}),this.state.isMailWindow?r.createElement(d,{key:"panel-mail",keyAccess:this.state.KEY_ACCESS,open:this.isPanelOpen(m.getMailName())}):null,this.state.isMailWindow?r.createElement(u,{key:"panel-contacts",keyAccess:this.state.KEY_ACCESS,open:this.isPanelOpen(m.getContactName())}):null,r.createElement(c,{key:"panel-downloads",keyAccess:this.state.KEY_ACCESS,open:this.isPanelOpen(m.getDownloadName()),onTransfersUpdated:this.transfersUpdated}),r.createElement(p,{key:"panel-notes",keyAccess:this.state.KEY_ACCESS,open:this.isPanelOpen(m.getNotesName())}),r.createElement("div",{className:this.state.selectedPanel&&this.isWebPanelSelected()?"webpanel-stack":"webpanel-stack hidden"},this.renderAllWebPanels())),r.createElement(v,{onSlidebarMove:this.handlePanelMove,onDoubleClick:this.handleDoubleClick,position:this.props.position})))}});e.exports=N},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(94),a=n(40),s=n(97),l=n(6),u={currentPageId:null,isProgressing:!1,progress:0,bytes:0,bytesDisplayed:0,elLoaded:0,elLoadedDisplayed:0,elTotal:0,isStarted:!1},c=["USE_ANIMATION","USE_TABCOLOR"],A=void 0,d=i.createClass({displayName:"PageloadProgress",mixins:[r],getInitialState:function(){return u},componentWillMount:function(){o.addChangeListener(this._onNavigationStoreChanged)},componentWillUnmount:function(){o.removeChangeListener(this._onNavigationStoreChanged)},componentWillReceiveProps:function(e){var t=e.page;if(void 0!==t&&t.get("id")!==this.state.currentPageId){var n=o.getProgressInfo(t),i=n.get("progress"),r=n.get("loadedBytes"),a=n.get("loadedElements"),s=n.get("totalElements");0===i||1===i||void 0===i?this.setState(Object.assign({},u,{currentPageId:t.get("id")})):this.setState(Object.assign({},u,{currentPageId:t.get("id"),progress:i,bytes:r,elLoaded:a,elTotal:s}))}},_onNavigationStoreChanged:function(){var e=this.props.page,t=o.getProgressInfo(e),n=t.get("progress"),i=o.getNavigationInfo(e).get("trigger"),r=t.get("loadedBytes"),a=t.get("loadedElements"),s=t.get("totalElements");"start"===i?this.setState(Object.assign({},u,{currentPageId:e.get("id"),isStarted:!0,isProgressing:!0,progress:.1})):"stop"===i?this.setState({isProgressing:!1,progress:1}):"commit"===i&&(this.setState({progress:n,elLoaded:a,elTotal:s,bytes:r,isStarted:!0}),this.updateCount())},getIncrement:function(e,t){var n=t-e,i=0;return n>10?i=Math.floor(n/5):n>4?i=2:n>0&&(i=1),e+i},updateCount:function(){var e=this.state.bytes,t=this.state.bytesDisplayed,n=this.state.elLoadedDisplayed,i=this.state.elLoaded;1===this.state.progress&&i<this.state.elTotal&&(i=this.state.elTotal);var r=this.getIncrement(t,e),o=this.getIncrement(n,i);return clearTimeout(A),this.props.vivaldiSettings.USE_ANIMATION===!1?(this.setState({elLoadedDisplayed:i,bytesDisplayed:e}),!1):(i>n&&this.setState({elLoadedDisplayed:o}),e>t&&this.setState({bytesDisplayed:r}),void((i>o||e>r)&&(A=setTimeout(this.updateCount,80))))},render:function(){if(!this.props.open)return null;var e=this.state.progress,t=this.state.bytesDisplayed,n=this.state.elLoadedDisplayed,r=this.state.elTotal,o=this.state.isProgressing,a=t>1048576?1:0,u=this.state.isStarted,c=this.props.vivaldiSettings.USE_TABCOLOR,A=l({pageload:!0,unstarted:!u,progressing:o,"progress-done":1===e}),d=l({"pageload-indicator":!0,"favicon-current-background-color":c});return i.createElement("div",{className:A},i.createElement("progress",{className:d,value:100*this.state.progress,max:100}),i.createElement("div",{className:"pageload-ticker"},s.filesize(t,1024,a)),i.createElement("div",{className:"pageload-ticker"},n+"/"+r))}});e.exports=a(d,c)},function(e,t,n){"use strict";var i=n(1),r=i.createClass({displayName:"ProgressIndicator",getInitialState:function(){return{currentSize:0,totalSize:0,overridePercent:-1}},render:function(){var e=-1;return-1!==this.props.overridePercent?e=this.props.overridePercent:this.props.totalSize&&(e=this.props.currentSize/this.props.totalSize*100),"text"===this.props.type?i.createElement("i",null," ",e," % "):"bar"===this.props.type?-1===e?i.createElement("progress",null):i.createElement("progress",{value:e,max:"100"}):"circular"===this.props.type?i.createElement("i",null," ",e," % "):void 0}});e.exports=r},function(e,t,n){"use strict";var i=n(1),r=n(156),o=n(187),a=n(70),s=n(5),l=n(266),u=n(4),c=n(2),A=n(6),d=n(17),h=800,p=175,f=n(7),m=i.createClass({displayName:"SearchField",mixins:[f],propTypes:{searchEngines:i.PropTypes.array},getInitialState:function(){return{focused:!1,searchWidth:p}},componentWillMount:function(){u.get("SEARCH_FIELD_WIDTH",function(e){this.setState({searchWidth:e||p})}.bind(this)),u.addListener("SEARCH_FIELD_WIDTH",this.onSearchWidthChanged),o.addListener(s.CHANGED,this.onSearchFieldStoreChanged)},componentWillUnmount:function(){u.removeListener("SEARCH_FIELD_WIDTH",this.onSearchWidthChanged),o.removeListener(s.CHANGED,this.onSearchFieldStoreChanged)},onSearchWidthChanged:function(e,t){t!==e&&this.setState({editorHeight:t})},onSearchFieldStoreChanged:function(){var e=this,t=o.getTypedSearchHistory(),n=t.length>0?t.map(function(e){return{Name:e,Id:e}}):[];this.setState({typedHistoryStore:n},function(){Array.isArray(n)&&0===n.length&&e.refs.typedHistory&&e.refs.typedHistory.collapse()})},onKeyDown:function(e){if(13===e.keyCode){var t=this.props.currentSearchEngine&&this.props.currentSearchEngine.Url;if(!t){var n=d.find(this.props.searchEngines,{Id:parseInt(this.props.defaultSearchEngine)});t=n.Url}e.target.value&&e.target.value.length>0&&this.props.onEnterPressed(e.target.value,t)}else 40===e.keyCode&&(e.shiftKey?this.state.typedHistoryStore.length>0&&this.refs.typedHistory.expand():this.refs.searchEngines.expand())},onSearchEngineChanged:function(e){this.refs.search.select();var t=d.find(this.props.searchEngines,{Id:e}),n=this.refs.search.value;n.length>0&&this.props.onEnterPressed(n,t.Url),r.setState(this.props.page,{searchEngine:t})},onTypedSearchHistoryClicked:function(e){r.setState(this.props.page,{editText:e});var t=this.props.currentSearchEngine&&this.props.currentSearchEngine.Url;if(!t){var n=d.find(this.props.searchEngines,{Id:parseInt(this.props.defaultSearchEngine)});t=n.Url}t&&this.props.onEnterPressed(e,t)},onTypedSearchHistoryDeleted:function(e){r.deleteTypedSearchHistory(e.name),this.props.value===e.name&&r.setState(this.props.page,{editText:""})},onFocus:function(){this.setState({focused:!0})},onBlur:function(){this.setState({focused:!1})},onChange:function(e){r.setState(this.props.page,{editText:e.target.value})},handleResize:function(e){var t=this.refs.searchfield,n=t.getBoundingClientRect(),i=n.width+e;return i>h?i=h:p>i&&(i=p),u.set({SEARCH_FIELD_WIDTH:i}),this.setState({searchWidth:i}),!0},focusField:function(){if(this.refs.search){var e=this.refs.search;""!==e.value&&e.select(),e.focus()}},renderSearchEngines:function(){var e=this,t=d.clone(this.props.searchEngines);return parseInt(this.props.defaultSearchEngine>-1)&&t.unshift(t.splice(d.indexOf(t,d.find(t,{Id:this.props.defaultSearchEngine})),1)[0]),this.props.currentSearchEngine&&this.props.currentSearchEngine.Id>=0&&t.unshift(t.splice(d.indexOf(t,d.find(t,function(t){return t===e.props.currentSearchEngine.Id})),1)[0]),i.createElement(l,{ref:"searchEngines",type:"search",store:t,value:null!=this.props.currentSearchEngineId?this.props.currentSearchEngineId:this.props.defaultSearchEngine,onItemClicked:this.onSearchEngineChanged,onClose:this.focusField,minWidth:this.state.searchWidth-2,keyAccess:this.props.keyAccess})},renderTypedSearchHistory:function(){var e=this.state.typedHistoryStore;return i.createElement(l,{ref:"typedHistory",type:"dropdown",store:e,onItemClicked:this.onTypedSearchHistoryClicked,onClose:this.focusField,onDeleted:this.onTypedSearchHistoryDeleted,minWidth:this.state.searchWidth-2,disabled:!Array.isArray(e)||0===e.length,keyAccess:this.props.keyAccess})},render:function(){if(!this.props.searchEngines)return null;var e=c("verb","Search");e+=this.props.currentSearchEngine&&this.props.currentSearchEngine.Id>=0?" "+this.props.currentSearchEngine.Name:" "+(d.find(this.props.searchEngines,{Id:parseInt(this.props.defaultSearchEngine)})||this.props.searchEngines[0]).Name;var t=A({searchfield:!0,"favicon-current-border-color":this.props.tabcolor,"iconmenu-container":!0,focused:this.state.focused});return i.createElement("div",{ref:"searchfield",className:t,style:{flexBasis:this.state.searchWidth+"px"}},i.createElement(a,{onSlidebarMove:this.handleResize,position:"right"}),this.renderSearchEngines(),i.createElement("input",{type:"text",ref:"search",onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur,value:this.props.value,onChange:this.onChange,className:"searchfield-input",placeholder:e}),this.renderTypedSearchHistory())}});e.exports=m},function(e,t,n){"use strict";var i=n(1),r=n(28),o=n(2),a=i.createClass({displayName:"RestartBrowserDialog",getInitialState:function(){return{folderName:"",shown:!0,modalShown:!1,parentFolderId:this.props.parentFolderId}},getLayeredComponentRootNode:function(){return this.props.parentDiv},handleClick:function(){this.state.shown&&this.props.onClose(),this.setState({shown:!this.state.shown})},onClose:function(){this.state.shown&&this.props.onClose(),this.setState({shown:!this.state.shown})},onFolderChange:function(e){this.setState({folderName:e.target.value})},keyDown:function(e){13===event.keyCode?this.onCreate():27===event.keyCode&&this.onCancel()},render:function(){return this.state.shown?i.createElement(r,{onRequestClose:this.handleClick},i.createElement("div",{className:"dialog-restart"},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title"},o("Restart required"))),i.createElement("div",{className:"dialog-content"},i.createElement("p",null,o("Please restart the browser for this change to take effect."))),i.createElement("footer",{
className:"dialog-footer"},i.createElement("input",{type:"button",className:"primary",onClick:this.onClose,value:o("Close")})))):null}});e.exports=a},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(4),a=n(2),s=n(10),l=n(11),u=r.createClass({displayName:"BookmarkSettings",mixins:[s],vivaldiSettingsKeys:["BOOKMARKS_OPEN_IN_NEW_TAB"],saveVivaldiSettingFromEvent:function(e,t,n){o.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("span",null," ",r.createElement("h2",null,a("Bookmarks")),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,a("Behavior")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.BOOKMARKS_OPEN_IN_NEW_TAB,onChange:this.saveVivaldiSettingFromEvent.bind(this,"BOOKMARKS_OPEN_IN_NEW_TAB","checked")}),r.createElement("span",null,a("Open Bookmarks in New Tab"))))));return l(e,this.props.filter)}});e.exports=u},function(e,t,n){"use strict";var i=n(5),r=n(2),o=function(e){switch(e){case i.CATEGORY_COMMAND_APPLICATION:return"MacIntel"===navigator.platform?r("mac","Window"):r("win_linux","Window");case i.CATEGORY_COMMAND_APPEARANCE:return"MacIntel"===navigator.platform?r("mac","View"):r("win_linux","View");case i.CATEGORY_COMMAND_TAB_ACTION:return r("Tab");case i.CATEGORY_COMMAND_WEBPAGE_NAVIGATION:return r("Page");case i.CATEGORY_COMMAND_MAIL:return r("Mail");default:return"Unknown"}};e.exports=o},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(97),a=n(2),s=i.createClass({displayName:"CookieItem",getInitialState:function(){return{viewCookies:!1,viewInfo:!1}},deleteCookie:function(e){var t=this,n=Boolean(this.state.viewInfo);n?(this.removeChromeEntry(this.state.viewInfo),this.setState({viewCookies:Boolean(this.props.count>1),viewInfo:!1})):(this.props.item.map(function(e){return t.removeChromeEntry(e)}),this.setState({viewCookies:!1,viewInfo:!1})),e.stopPropagation()},removeChromeEntry:function(e){var t="http"+(e.secure?"s":"")+"://",n=t+e.domain+e.path,i={url:n,name:e.name};r.cookies.remove(i,function(e){this.props.onCookieDelete(e)}.bind(this))},showDetail:function(){this.setState({viewCookies:!this.state.viewCookies,viewInfo:this.state.viewCookies===!0?!1:this.state.viewInfo})},showInfo:function(e){this.setState({viewInfo:e})},renderCookies:function(){var e=this;return this.props.item.map(function(t){return i.createElement("a",{tabIndex:"0",key:"cookie-"+t.name.toLowerCase(),onFocus:e.showInfo.bind(e,t)},t.name)})},renderInfo:function(){return i.createElement("dl",null,i.createElement("dt",null,a("Expires:")),i.createElement("dd",null,o.date("Y/n/j H:i",this.state.viewInfo.expirationDate)),i.createElement("dt",null,a("Path:")),i.createElement("dd",null,this.state.viewInfo.path),i.createElement("dt",null,a("Host Only:")),i.createElement("dd",null,this.state.viewInfo.hostOnly.toString()),i.createElement("dt",null,a("HTTP Only:")),i.createElement("dd",null,this.state.viewInfo.httpOnly.toString()),i.createElement("dt",null,a("Session:")),i.createElement("dd",null,this.state.viewInfo.session.toString()),i.createElement("dt",null,a("Secure:")),i.createElement("dd",null,this.state.viewInfo.secure.toString()),i.createElement("dt",null,a("Value:")),i.createElement("dd",null,this.state.viewInfo.value))},render:function(){return i.createElement("li",null,i.createElement("div",{className:"overview",onClick:this.showDetail},i.createElement("span",null,this.props.domain,!this.state.viewCookies&&i.createElement("span",{className:"count"},this.props.count)),i.createElement("span",{className:"controls"},i.createElement("input",{type:"button",className:"circular clearkey",title:a(this.state.viewInfo?"Delete selected cookie":"Delete cookies"),onClick:this.deleteCookie}))),this.state.viewCookies&&i.createElement("div",{className:"detail"},this.renderCookies(),this.state.viewInfo&&i.createElement("div",{className:"info"},this.renderInfo())))}});e.exports=s},function(e,t,n){"use strict";var i=n(1),r=n(171),o=n(28),a=i.createClass({displayName:"CookieManagerDialog",handleClick:function(){var e={dialogText:this.state.value};this.state.shown&&this.props.onCloseBM(e),this.setState({shown:!this.state.shown})},getInitialState:function(){return{msg:"",shown:!0,modalShown:!1}},getLayeredComponentRootNode:function(){return this.props.parentDiv},componentWillReceiveProps:function(e){this.setState({shown:!0})},render:function(){return i.createElement(o,{onRequestClose:this.handleClick,dialogWidth:600},i.createElement(r,{onClose:this.handleClick}))}});e.exports=a},function(e,t,n){"use strict";var i=n(1),r=n(9),o=n(25),a=n(2),s=n(11),l=i.createClass({displayName:"CookieSettings",getInitialState:function(){return{cookieSetting:"",blockThirdParty:!1}},componentWillMount:function(){r.importData.getDefaultContentSettings("cookies",function(e){this.setState({cookieSetting:e})}.bind(this)),r.importData.getBlockThirdPartyCookies(function(e){this.setState({blockThirdParty:e})}.bind(this))},checkChange:function(){r.importData.setBlockThirdPartyCookies(!this.state.blockThirdParty,function(e){}.bind(this)),this.setState({blockThirdParty:!this.state.blockThirdParty})},handleChange:function(e){var t=e.target.value;this.setState({cookieSetting:t}),r.importData.setDefaultContentSettings("cookies",t,function(e){})},showCookieManager:function(){this.props.showCookieManager()},render:function(){var e=i.createElement("span",null,i.createElement("h2",null,a("Cookies")),i.createElement("div",{className:"setting-group"},i.createElement("h3",null,a("Accept Cookies")),i.createElement(o,{className:"cookieSelection",name:"cookieSelGroup",ref:"cookieSelGroup",value:this.state.cookieSetting,onChange:this.handleChange},i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"allow"}),i.createElement("span",null,a("All")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"session_only"}),i.createElement("span",null,a("Session Only")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"block"}),i.createElement("span",null,a("Never")))))),i.createElement("div",{className:"setting-group"},i.createElement("h3",null,a("Third-Party Cookies")),i.createElement("div",{className:"setting-single"},i.createElement("label",{title:a("Block Third-Party Cookies")},i.createElement("input",{type:"checkbox",checked:this.state.blockThirdParty,onChange:this.checkChange}),i.createElement("span",null,a("Block Third-Party Cookies"))))));return s(e,this.props.filter)}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(9),o=n(2),a=n(11),s="intl.charset_default",l=i.createClass({displayName:"DefaultEncoding",getInitialState:function(){return{availableEncodings:[],defaultCharset:""}},componentWillMount:function(){var e=this;r.settings.onChanged.addListener(this.encodingSetingsChanged),r.settings.getPreference(s,function(t){e.setLocalState(t.preferenceValue.string)}),r.utilities.getAvailablePageEncodings(function(t){e.setState({availableEncodings:t})})},componentWillUnmount:function(){r.settings.onChanged.removeListener(this.encodingSetingsChanged)},setLocalState:function(e){this.setState({defaultCharset:e})},encodingSetingsChanged:function(e){e.preferenceKey===s&&this.setLocalState(e.preferenceValue.string)},encodingChanged:function(e){this.saveCharsetValue(e.target.value)},saveCharsetValue:function(e){this.setLocalState(e);var t={preferenceKey:s,preferenceValue:{string:e},preferenceType:"string"};r.settings.setPreference(t)},render:function(){var e=this.state.availableEncodings.map(function(e){return i.createElement("option",{key:e.encoding,value:e.encoding},e.name)}),t=i.createElement("select",{onChange:this.encodingChanged,value:this.state.defaultCharset},e),n=i.createElement("div",{className:"setting-group"},i.createElement("h3",null,o("Default Character Encoding")),t);return a(n,this.props.filter)}});e.exports=l},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(4),a=n(11),s=n(120),l=n(9),u=n(2),c=r.createClass({displayName:"DefaultGlobalZoom",getInitialState:function(){return{defaultGlobalZoom:1}},componentWillMount:function(){var e=this;l.zoom.getDefaultZoom(function(t){e.setState({defaultGlobalZoom:t})}),l.zoom.onDefaultZoomChanged.addListener(this.updateLocalState)},componentWillUnmount:function(){l.zoom.onDefaultZoomChanged.removeListener(this.updateLocalState)},updateLocalState:function(e){this.setState({defaultGlobalZoom:e})},saveVivaldiSettingFromEvent:function(e,t,n){o.set(i({},e,n.target[t]))},handleZoomUpdated:function(e){l.zoom.setDefaultZoom(e)},render:function(){var e=r.createElement("div",{className:"setting-group unlimited"},r.createElement("h3",null,u("Default Webpage Zoom")),r.createElement("div",{className:"setting-single"},r.createElement("div",{id:"zoom_control"},r.createElement(s,{ref:"zoomslider",maxLevel:2,minLevel:.5,step:.05,initialZoom:this.state.defaultGlobalZoom,onZoomUpdated:this.handleZoomUpdated}))));return a(e,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(9),o=n(2),a=n(11),s=n(4),l=n(10),u=i.createClass({displayName:"DownloadSettings",mixins:[l],vivaldiSettingsKeys:["AUTOMATICALLY_DOWNLOAD_FILES","SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS"],getInitialState:function(){return{"download.default_directory":""}},componentWillMount:function(){function e(e){t.setState(e)}var t=this;r.settings.getPreference("download.default_directory",function(t){var n={"download.default_directory":t.preferenceValue.string};e(n)})},handleDownloadDirectoryChange:function(e){this.setState({"download.default_directory":e});var t={preferenceKey:"download.default_directory",preferenceValue:{string:e},preferenceType:"string"};r.settings.setPreference(t)},handleAutoDownloadChange:function(e){s.set({AUTOMATICALLY_DOWNLOAD_FILES:e})},handleShowDownloadPanelChange:function(e){s.set({SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS:e})},render:function(){var e={value:this.state["download.default_directory"],requestChange:this.handleDownloadDirectoryChange},t={value:this.state.AUTOMATICALLY_DOWNLOAD_FILES,requestChange:this.handleAutoDownloadChange},n={value:this.state.SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS,requestChange:this.handleShowDownloadPanelChange},r=i.createElement("div",{className:"setting-group unlimited"},i.createElement("h2",null,o("Downloads")),i.createElement("div",{className:"setting-subgroup"},i.createElement("h3",null,o("Download Location")),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"text",valueLink:e}))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checkedLink:t}),i.createElement("span",null,o("Always Save Files to Default Download Location")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checkedLink:n}),i.createElement("span",null,o("Open Download Panel Automatically"))))));return a(r,this.props.filter)}});e.exports=u},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=n(1),a=n(9),s=n(2),l=n(11),u=n(3),c=n(49),A=9,d=2,h=99,p="webkit.webprefs.minimum_font_size",f="webkit.webprefs.fonts.standard.Zyyy",m="webkit.webprefs.fonts.fixed.Zyyy",g="webkit.webprefs.fonts.serif.Zyyy",v="webkit.webprefs.fonts.sansserif.Zyyy",E="webkit.webprefs.fonts.cursive.Zyyy",_="webkit.webprefs.fonts.fantasy.Zyyy",S={standard:{localizedFamily:s("Standard")},sansserif:{localizedFamily:s("Sans-serif")},serif:{localizedFamily:s("Serif")},fixed:{localizedFamily:s("Monospaced")},cursive:{localizedFamily:s("Cursive")},fantasy:{localizedFamily:s("Fantasy")}},y=o.createClass({displayName:"Fonts",getInitialState:function(){return{minFontSize:null,fontList:[],fonts:{}}},componentWillMount:function(){var e=this;this.updateLocalState(),a.settings.onChanged.addListener(this.onFontSizeChanged),u.fontSettings.onFontChanged.addListener(function(t){var n=c(e.state,{fonts:{$merge:i({},t.genericFamily,{font:t.fontId,localizedFamily:S[t.genericFamily].localizedFamily})}});e.setState(n)}),u.fontSettings.getFontList(function(t){e.setState({fontList:t})}),this.mapObject(S,function(t,n){u.fontSettings.getFont({genericFamily:t},function(r){var o=c(e.state,{fonts:{$merge:i({},t,{font:r.fontId,localizedFamily:n.localizedFamily})}});e.setState(o)})})},mapObject:function(e,t){return Object.keys(e).map(function(n){return t(n,e[n])})},componentWillUnmount:function(){a.settings.onChanged.removeListener(this.onFontSizeChanged)},updateLocalState:function(){var e=this;a.settings.getPreference(p,function(t){e.setState({minFontSize:t.preferenceValue.integer})})},handleFontSizeSetting:function(e){var t=e.target.checked;t?this.handleFontSizeChanged(A,!0):this.handleFontSizeChanged(0,!0)},handleFontSizeChanged:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=void 0;if(n="object"===("undefined"==typeof e?"undefined":r(e))?e.target.value:e,this.setState({minFontSize:n}),"number"==typeof parseInt(n)&&(!t&&n>=d&&h>=n||t)){var i={preferenceKey:p,preferenceValue:{integer:parseInt(n)},preferenceType:"integer"};a.settings.setPreference(i)}},onFontSizeChanged:function(e){e.preferenceKey===p&&this.setState({minFontSize:e.preferenceValue.integer})},changeHandler:function(e,t){var n=f;switch(e){case"standard":n=f;break;case"fantasy":n=_;break;case"fixed":n=m;break;case"sansserif":n=v;break;case"serif":n=g;break;case"cursive":n=E}var i={preferenceKey:n,preferenceValue:{string:t.target.value},preferenceType:"string"};a.settings.setPreference(i)},renderOptions:function(){var e=parseInt(this.state.minFontSize),t=[9,10,11,12,14,16,18,24];return-1===t.indexOf(e)&&(t.push(e),t=t.sort(function(e,t){return e-t})),t.map(function(e){return o.createElement("option",{key:e},e)})},render:function(){var e=this,t=this.state.fontList.map(function(e){return o.createElement("option",{key:e.fontId,value:e.fontId},e.displayName)}),n=o.createElement("div",{className:"fontSlider"},o.createElement("h2",null,s("Fonts")),o.createElement("h3",null,s("Minimum Font Size")),o.createElement("div",{className:"setting-group unlimited"},o.createElement("label",null,o.createElement("input",{type:"checkbox",onChange:this.handleFontSizeSetting,checked:0!==this.state.minFontSize}),o.createElement("span",null,s("Limit minimum font size to")),o.createElement("span",{className:"fake-dataset"},o.createElement("input",{type:"text",value:0===this.state.minFontSize?A:this.state.minFontSize,onChange:this.handleFontSizeChanged,onBlur:this.updateLocalState,disabled:0===this.state.minFontSize}),o.createElement("select",{value:this.state.minFontSize,onChange:this.handleFontSizeChanged,disabled:0===this.state.minFontSize},this.renderOptions())))),o.createElement("div",{className:"font-face-list"},o.createElement("h3",null,s("Default Fonts")),o.createElement("div",{className:"setting-single"},this.mapObject(this.state.fonts,function(n,i){return o.createElement("label",{key:n},o.createElement("span",null,i.localizedFamily),o.createElement("select",{onChange:e.changeHandler.bind(e,n),value:i.font},t))}))));return l(n,this.props.filter)}});e.exports=y},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(2),a=n(11),s=n(25),l=n(4),u=n(10),c=n(9),A=r.createClass({displayName:"FullKeyAccess",mixins:[u],vivaldiSettingsKeys:["KEY_ACCESS","KEY_ACCESS_OS_DEFAULT","FOCUS_CYCLE_TRAP"],getInitialState:function(){return{macKeyUIMode:null}},componentWillMount:function(){var e=this;"MacIntel"===navigator.platform&&c.settings.getPreference("vivaldi.apple_keyboard_ui_mode",function(t){e.setState({macKeyUIMode:t.preferenceValue.number})})},saveVivaldiSettingFromEvent:function(e,t,n){l.set(i({},e,n.target[t]))},handleDarwinKeyAccess:function(e){var t=e.target.checked;t||"-1"===this.state.KEY_ACCESS?t&&2===this.state.macKeyUIMode&&"0"!==this.state.KEY_ACCESS?l.set({KEY_ACCESS:"0"}):t&&0===this.state.macKeyUIMode&&"-1"!==this.state.KEY_ACCESS&&l.set({KEY_ACCESS:"-1"}):l.set({KEY_ACCESS:"-1"}),l.set({KEY_ACCESS_OS_DEFAULT:t})},render:function(){var e=r.createElement("div",null,r.createElement("div",{className:"setting-group"},r.createElement("h3",null,o("Full Keyboard Access")),"MacIntel"===navigator.platform&&r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.KEY_ACCESS_OS_DEFAULT,onChange:this.handleDarwinKeyAccess}),r.createElement("span",null,o("Inherit from System Preferences")))),r.createElement(s,{name:"keyAccessSetting",ref:"keyAccessGroup",className:"setting-single",value:this.state.KEY_ACCESS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"KEY_ACCESS","value")},r.createElement("label",null,r.createElement("input",{type:"radio",value:"0",disabled:this.state.KEY_ACCESS_OS_DEFAULT}),r.createElement("span",null,o("Enable"))),r.createElement("p",{className:"info"},o("Press TAB key to focus all controls")),r.createElement("label",null,r.createElement("input",{type:"radio",value:"-1",disabled:this.state.KEY_ACCESS_OS_DEFAULT}),r.createElement("span",null,o("Disable"))),r.createElement("p",{className:"info"},o("Press TAB key to focus text boxes and lists only")))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,o("Toolbar Focus Cycling")),r.createElement(s,{name:"toolbarFocusCycling",ref:"keyAccessGroup",className:"setting-single",value:this.state.FOCUS_CYCLE_TRAP,onChange:this.saveVivaldiSettingFromEvent.bind(this,"FOCUS_CYCLE_TRAP","value")},r.createElement("label",null,r.createElement("input",{type:"radio",value:!0}),r.createElement("span",null,o("Enable"))),r.createElement("p",{className:"info"},o("TAB key focus is bound to individual toolbars or webpage")),r.createElement("label",null,r.createElement("input",{type:"radio",value:!1}),r.createElement("span",null,o("Disable"))),r.createElement("p",{className:"info"},o("TAB key focus cycles through whole application")))));return a(e,this.props.filter)}});e.exports=A},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(2),a=n(11),s=n(4),l=n(10),u=r.createClass({displayName:"ConfigureSingleKeyShortcut",mixins:[l],vivaldiSettingsKeys:["DISABLE_SINGLE_KEY_SHORTCUTS","DISABLE_KEYBOARD_SHORTCUTS"],saveVivaldiSettingFromEvent:function(e,t,n){s.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("div",{className:"setting-group unlimited"},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.DISABLE_KEYBOARD_SHORTCUTS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"DISABLE_KEYBOARD_SHORTCUTS","checked")}),r.createElement("span",null,o("Disable All Keyboard Shortcuts")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.DISABLE_SINGLE_KEY_SHORTCUTS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"DISABLE_SINGLE_KEY_SHORTCUTS","checked"),disabled:this.state.DISABLE_KEYBOARD_SHORTCUTS}),r.createElement("span",null,o("Disable Single Key Shortcuts")))));return a(e,this.props.filter)}});e.exports=u},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(9),a=n(2),s=n(11),l=i.createClass({displayName:"LanguageSetting",getInitialState:function(){return{language:r.i18n.getUILanguage()}},componentWillMount:function(){this.locales=[{key:"ar",value:a("Arabic")+" - العربية"},{key:"be",value:a("Belarusian")+" - Беларуская"},{key:"bg",value:a("Bulgarian")+" - български"},{key:"ca",value:a("Catalan")+" - Català"},{key:"cs",value:a("Czech")+" - Čeština"},{key:"da",value:a("Danish")+" - Dansk"},{key:"de",value:a("German")+" - Deutsch"},{key:"el",value:a("Greek")+" - Ελληνικά"},{key:"en-US",value:a("English")+" - English"},{key:"es",value:a("Spanish")+" - Español"},{key:"es-PE",value:a("Spanish (Peru)")+" - Español (Perú)"},{key:"et",value:a("Estonian")+" - Eesti keel"},{key:"eu",value:a("Basque")+" - Euskara"},{key:"fa",value:a("Persian")+" - فارسی"},{key:"fi",value:a("Finnish")+" - Suomi"},{key:"fr",value:a("French")+" - Français"},{key:"fy",value:a("Frisian")+" - Frysk"},{key:"gl",value:a("Galician")+" - Galego"},{key:"hu",value:a("Hungarian")+" - Magyar"},{key:"hr",value:a("Croatian")+" - Hrvatski"},{key:"hy",value:a("Armenian")+" - Հայերեն"},{key:"id",value:a("Indonesian")+" - Bahasa Indonesia"},{key:"io",value:a("Ido")+" - Ido"},{key:"is",value:a("Icelandic")+" - Íslenska"},{key:"it",value:a("Italian")+" - Italiano"},{key:"ja",value:a("Japanese")+" - 日本語"},{key:"jbo",value:a("Lojban")+" - lo banjubu'o"},{key:"ka",value:a("Georgian")+" - ქართული ენა"},{key:"ko",value:a("Korean")+" - 한국어"},{key:"ku",value:a("Kurdish")+" - کوردی"},{key:"lt",value:a("Lithuanian")+" - Lietuvių"},{key:"lv",value:a("Latvian")+" - Latviešu"},{key:"mk",value:a("Macedonian")+" - Македонски"},{key:"nb",value:a("Norwegian (Bokmål)")+" - Norsk (bokmål)"},{key:"nn",value:a("Norwegian (Nynorsk)")+" - Norsk (nynorsk)"},{key:"nl",value:a("Dutch")+" - Nederlands"},{key:"pl",value:a("Polish")+" - Polski"},{key:"pt-BR",value:a("Portuguese (Brazil)")+" - Português (Brasil)"},{key:"pt-PT",value:a("Portuguese (Portugal)")+" - Português (Europeu)"},{key:"ro",value:a("Romanian")+" - Română"},{key:"ru",value:a("Russian")+" - Русский"},{key:"sc",value:a("Sardinian")+" - Sardu"},{key:"sk",value:a("Slovak")+" - Slovenčina"},{key:"sl",value:a("Slovenian")+" - Slovenski"},{key:"sq",value:a("Albanian")+" - Shqip"},{key:"sr",value:a("Serbian")+" - Српски"},{key:"sv",value:a("Swedish")+" - Svenska"},{key:"tr",value:a("Turkish")+" - Türkçe"},{key:"uk",value:a("Ukrainian")+" - Українська"},{key:"vi",value:a("Vietnamese")+" - Tiếng Việt"},{key:"zh-CN",value:a("Chinese (China)")+" - 简体中文"},{key:"zh-TW",value:a("Chinese (Taiwan)")+" - 正體中文"}],this.locales.sort(function(e,t){return e.value.localeCompare(t.value)})},langChanged:function(e){this.setState({language:e.target.value})},saveLanguage:function(){var e=this;o.importData.setVivaldiLanguage(this.state.language,function(t){e.props.restartBrowserDlg()})},render:function(){var e=i.createElement("div",null,i.createElement("h2",null,a("Language")),i.createElement("div",{className:"setting-group"},i.createElement("h3",null,a("Select interface language")),i.createElement("div",{className:"setting-single"},i.createElement("select",{onChange:this.langChanged,value:this.state.language},this.locales.map(function(e){return i.createElement("option",{key:e.key,value:e.key},e.value)}))),i.createElement("div",{className:"setting-single"},i.createElement("input",{type:"button",className:"primary",onClick:this.saveLanguage,value:a("Save Language")}))));return s(e,this.props.filter)}});e.exports=l},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(9),a=n(2),s=n(11),l=n(4),u=n(10),c=r.createClass({displayName:"Privacy",mixins:[u],vivaldiSettingsKeys:["URLBAR_SEARCH_DISABLED","DISABLE_DIAGNOSTICS","ADDRESS_BAR_SUGGEST_ENABLED"],getInitialState:function(){return{"alternate_error_pages.enabled":!1,"safebrowsing.enabled":!1,"safebrowsing.extended_reporting_enabled":!1,enable_do_not_track:!1,"search.suggest_enabled":!1}},componentWillMount:function(){var e=this,t=function(t){return e.setState(t)},n=function(e,t){for(var n={},i=0;i<e.length;i++)"alternate_error_pages.enabled"===e[i].preferenceKey&&(n["alternate_error_pages.enabled"]=e[i].preferenceValue["boolean"]),"safebrowsing.extended_reporting_enabled"===e[i].preferenceKey&&(n["safebrowsing.extended_reporting_enabled"]=e[i].preferenceValue["boolean"]),"safebrowsing.enabled"===e[i].preferenceKey&&(n["safebrowsing.enabled"]=e[i].preferenceValue["boolean"]),"search.suggest_enabled"===e[i].preferenceKey&&(n["search.suggest_enabled"]=e[i].preferenceValue["boolean"]),"enable_do_not_track"===e[i].preferenceKey&&(n.enable_do_not_track=e[i].preferenceValue["boolean"]);t(n)}.bind(this);o.settings.getAllPreferences(function(e){return n(e,t)})},handleVivaldiSettingsChanged:function(e){l.set(i({},e,!this.state[e]))},handleSettingsChange:function(e){o.settings.togglePreference(e,function(t){var n={};n[e]=t,this.setState(n)}.bind(this))},render:function(){var e=r.createElement("span",null,r.createElement("h2",null,a("Privacy")),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,a("Third Party Services")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state["safebrowsing.enabled"],onChange:this.handleSettingsChange.bind(this,"safebrowsing.enabled")}),r.createElement("span",null,a("Enable Google Phishing and Malware Protection")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state["safebrowsing.extended_reporting_enabled"],onChange:this.handleSettingsChange.bind(this,"safebrowsing.extended_reporting_enabled")}),r.createElement("span",null,a("Report Safe Browsing Incidents to Google")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:!this.state.URLBAR_SEARCH_DISABLED,onChange:this.handleVivaldiSettingsChanged.bind(this,"URLBAR_SEARCH_DISABLED")}),r.createElement("span",null,a("Enable Search in Address Field")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.ADDRESS_BAR_SUGGEST_ENABLED,onChange:this.handleVivaldiSettingsChanged.bind(this,"ADDRESS_BAR_SUGGEST_ENABLED")}),r.createElement("span",null,a("Enable Search Suggestions in Address Field"))))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,a("Do Not Track")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.enable_do_not_track,onChange:this.handleSettingsChange.bind(this,"enable_do_not_track")}),r.createElement("span",null,a("Ask Websites Not to Track Me")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:!this.state.DISABLE_DIAGNOSTICS,onChange:this.handleVivaldiSettingsChanged.bind(this,"DISABLE_DIAGNOSTICS")}),r.createElement("span",null,a("Report Diagnostics"))))));return s(e,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(172),a=n(74),s=n(6),l=i.createClass({displayName:"QuickCommandItem",getInitialState:function(){return{keyValue:this.props.commandObj.command.shortcut}},cancel:function(){this.props.onCancel()},saveKey:function(e,t){var n={};n[e]=t,this.setState({keyValue:t}),r.set(n),this.props.onCancel()},handleClick:function(e){this.props.editing||this.props.onExecute(this.props.commandObj),e.stopPropagation(),e.preventDefault()},mouseOver:function(e){this.props.onMouseOver(e,this.props.commandObj),e.stopPropagation(),e.preventDefault()},handleEdit:function(e){},render:function(){return i.createElement("li",{"data-selected":this.props.selected?"":null,className:s({"quick-command":!0,editing:this.props.editing}),onClick:this.handleClick,onMouseOver:this.mouseOver},this.props.commandObj.imageUrl&&i.createElement("img",{className:"quick-command-favicon",src:this.props.commandObj.imageUrl}),i.createElement("span",{className:"quick-command-title"},this.props.commandObj.name),""!==this.props.commandObj.url&&i.createElement("span",{className:"quick-command-url"},this.props.commandObj.url),""!==this.state.keyValue&&i.createElement("span",{className:"view quick-command-meta",onClick:"command"===this.props.commandObj.type?this.handleEdit:null},a(this.state.keyValue)),""!==this.props.commandObj.meta&&i.createElement("span",{className:"view quick-command-meta"},this.props.commandObj.meta),this.props.editing&&i.createElement(o,{setFocus:!0,command:this.props.commandObj,editing:this.props.editing,onCancel:this.cancel,onSave:this.saveKey,key:this.props.commandObj.key}))}});e.exports=l},function(e,t,n){"use strict";var i=n(53),r=n(57),o=n(36),a=n(40),s=n(23),l=n(162),u=n(14),c=n(19),A=n(338),d=n(1),h=n(12),p=n(164),f=n(157),m=n(2),g=n(3),v=n(34),E=v.ensureURLProtocol,_=v.isUrlNavigable,S=n(20),y=S.urls,b=n(17),C=m("Filter Quick Commands"),I=["SEARCH_ENGINES","DEFAULT_SEARCH_ENGINE","QUICK_COMMAND_OPEN_URL_IN_NEW_TAB","BOOKMARKS_OPEN_IN_NEW_TAB"],T=d.createClass({displayName:"QuickCommandSearch",mixins:[l,p],mouseX:0,mouseY:0,getInitialState:function(){return{quickCommandSearchValue:"",typeAheadHint:C,selected:"",editingCommandId:null,bookmarkCache:[],bookmarkNicks:[],bookmarkFolders:[],historyArr:[],currentSearchEngine:null}},componentWillMount:function(){this.setMultiSelectInMixin(!1),this.setState({bookmarkCache:i.getBookmarksRootNode()})},componentDidUpdate:function(e,t){return t.quickCommandSearchValue!==this.state.quickCommandSearchValue&&"/."===this.state.quickCommandSearchValue?(f.newTab("http://slashdot.org/"),void this.props.onClose()):void 0},componentWillUnmount:function(){this.KeyboardNavigationMixinOnBlur()},componentWillUpdate:function(e,t){this.state.navigationModel.clear()},onCancel:function(){this.setState({editingCommandId:null}),this.KeyboardNavigationMixinOnFocus(),this.refs.quickCommand.focus()},onQuickCommandSearchKeyDown:function(e){e.keyCode===s.KEY_ESCAPE&&(e.stopPropagation(),e.preventDefault())},onQuickCommandSearchKeyUp:function(e){if(this.setState({editingCommandId:null}),e.keyCode===s.KEY_ESCAPE)this.state.quickCommandSearchValue.length>0?this.setState({quickCommandSearchValue:"",typeAheadHint:C}):this.props.onClose(),e.stopPropagation(),e.preventDefault();else if(e.keyCode===s.KEY_RETURN){var t=this.SelectionMixinGetSelected();this.executeCommand(this.getCommandByStringId(t))}},getCommandByStringId:function(e){for(var t=this.getActions(),n=0;n<t.length;n++)if(t[n].id===e)return t[n]},executeCommand:function(e){if(this.props.onClose(),e&&e.hasOwnProperty("type"))if("openTab"===e.type)u.openPage(e.command);else if("bookmarkNick"===e.type){var t=e.command.url.toLowerCase();t.toLowerCase().startsWith("javascript:")?u.openURL(t,{inCurrent:!0}):this.props.vivaldiSettings.BOOKMARKS_OPEN_IN_NEW_TAB?f.newTab(t):u.openURL(t,{inCurrent:!0})}else if("url"===e.type){var n=e.name.trim();n.toLowerCase().startsWith("javascript:")?u.openURL(n,{inCurrent:!0}):u.openURL(E(n),this.props.vivaldiSettings.QUICK_COMMAND_OPEN_URL_IN_NEW_TAB?{}:{inCurrent:!0})}else"search"===e.type?f.newTab(e.value):"command"===e.type?r.executeActions(e.id):"history"===e.type?f.newTab(e.command.url):"bookmarkFolders"===e.type&&g.bookmarks.getSubTree(e.command.id,function(e){for(var t=0;t<e[0].children.length;t++)e[0].children[t].url&&f.newTab(e[0].children[t].url)})},searchChange:function(e){var t=null,n=e.target.value,i=this.props.vivaldiSettings.SEARCH_ENGINES;if(n.length>0&&n.indexOf(" ")>=1)for(var r=n.substring(0,n.indexOf(" ")),o=0;o<i.length;o++)if(i[o].Keyword===r){t=i[o];break}g.history.search({text:n,maxResults:10},function(e){this.setState({historyArr:e})}.bind(this)),n.length>0&&g.bookmarks.search(n,function(e){this.setState({bookmarkNicks:e,
bookmarkFolders:e.filter(function(e){return!e.url})})}.bind(this)),this.setState({quickCommandSearchValue:n,currentSearchEngine:t});var a=this.findNickName(this.state.bookmarkCache,n);a.id?this.selectById(a.id):(this.resetSelectionModel(),this.hintChange(n))},findNickName:function(e,t){if(!e||!t)return!1;if(e.nickname===t)return e;if(e.children)for(var n=0;n<e.children.length;n++){var i=this.findNickName(e.children[n],t);if(i)return i}return!1},hintChange:function(e){if(e===C||""===e)this.setState({typeAheadHint:C});else{var t=this.SelectionMixinGetSelected(),n=this.getCommandByStringId(t),i=this.refs.quickCommand.value;if(-1===t||"search"===n.type||"url"===n.type)this.setState({typeAheadHint:""});else if(""===i)this.setState({typeAheadHint:n.name});else{var r=void 0;r="bookmarkNick"===n.type&&n.meta.toLowerCase()===i.toLowerCase()?" – "+n.name:0===n.name.toLowerCase().indexOf(i.toLowerCase())?n.name.substring(i.length,n.name.length):-1!==n.name.toLowerCase().indexOf(i)?n.name.substring(n.name.toLowerCase().indexOf(i.toLowerCase())+i.length,n.name.length):n.url.substring(n.url.toLowerCase().indexOf(i.toLowerCase())+i.length,n.url.length),this.setState({typeAheadHint:i+r})}}},selectById:function(e){this.SelectionMixinSelectItem(e);var t=this.getCommandByStringId(e),n=this.refs.selected?h.findDOMNode(this.refs.selected):null;if(n){var i=this.refs.quickCommands,r=n.offsetTop-i.scrollTop;r>252?i.scrollTop=n.offsetTop-252:0>r&&(i.scrollTop=n.offsetTop),this.hintChange(t.name?t.name:"")}},onEdit:function(e,t){this.SelectionMixinSelectItem(e.id,t.ctrlKey,t.shiftKey,2===t.button),this.setState({editingCommandId:e.id})},select:function(e,t,n){this.SelectionMixinSelectItem(n,t.ctrlKey,t.shiftKey,2===t.button),this.SelectionMixinIsSelected(n)&&e.key!==this.state.editingCommandId&&this.setState({editingCommandId:null})},over:function(e,t){this.mouseX===e.pageX&&this.mouseY===e.pageY||(this.mouseX=e.pageX,this.mouseY=e.pageY,this.SelectionMixinSelectItem(t.id))},getActions:function(e){return this.getUrl().concat(this.getSearch(),this.getDefaultSearch(),this.getOpenPages(),this.getCommands(),this.getBookmarkNicks(),this.getBookmarkFolders(),this.getHistory())},getCommands:function(){for(var e=o.getQuickCommands(),t=e.length,n=[],i=0;t>i;i++)e[i].label.toLowerCase().indexOf(this.state.quickCommandSearchValue.toLowerCase())>-1&&n.push({id:e[i].name,name:e[i].label,type:"command",faviconurl:"",command:e[i],searchString:e[i].label});return n},getOpenPages:function(){var e=this;return b.compact(c.getPages().map(function(t){var n=y.getDisplayTitle(t)+t.get("url"),i=null;return e.state.quickCommandSearchValue&&(i=new RegExp(e.state.quickCommandSearchValue.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"i")),!i||n.match(i)?{id:t.get("id"),name:y.getDisplayTitle(t),url:y.isInternalUrl(t.get("url"))?"":t.get("url"),type:"openTab",imageUrl:t.get("favIcon"),searchString:n,command:t}:void 0}).toJS())},getHistory:function(){for(var e=this.state.historyArr.length,t=[],n=0;e>n;n++)(this.state.historyArr[n].title+this.state.historyArr[n].url).toLowerCase().indexOf(this.state.quickCommandSearchValue.toLowerCase())>-1&&t.push({id:this.state.historyArr[n].id,name:this.state.historyArr[n].title,url:y.isInternalUrl(this.state.historyArr[n].url)?"":this.state.historyArr[n].url,type:"history",imageUrl:"chrome://favicon/"+this.state.historyArr[n].url,searchString:this.state.historyArr[n].title+this.state.historyArr[n].url,command:this.state.historyArr[n]});return t},getBookmarkNicks:function(){for(var e=this,t=this.state.bookmarkNicks.length,n=[],i=0;t>i;i++)this.state.bookmarkNicks[i].url&&(this.state.bookmarkNicks[i].nickname+this.state.bookmarkNicks[i].url+this.state.bookmarkNicks[i].title).toLowerCase().indexOf(this.state.quickCommandSearchValue.toLowerCase())>-1&&n.push({id:this.state.bookmarkNicks[i].id,name:this.state.bookmarkNicks[i].title,url:this.state.bookmarkNicks[i].url,meta:this.state.bookmarkNicks[i].nickname,type:"bookmarkNick",imageUrl:"chrome://favicon/"+this.state.bookmarkNicks[i].url,searchString:this.state.bookmarkNicks[i].nickname+this.state.bookmarkNicks[i].url+this.state.bookmarkNicks[i].title,command:this.state.bookmarkNicks[i]});return n.sort(function(t){return t.meta.toLowerCase()===e.state.quickCommandSearchValue.toLowerCase()?-1:1}),n},getBookmarkFolders:function(){for(var e=this.state.bookmarkFolders.length,t=[],n=0;e>n;n++)t.push({id:this.state.bookmarkFolders[n].id,name:this.state.bookmarkFolders[n].title,url:"",meta:"",type:"bookmarkFolders",imageUrl:"/resources/folder@2x.png",searchString:this.state.bookmarkFolders[n].nickname+this.state.bookmarkFolders[n].title,command:this.state.bookmarkFolders[n]});return t},getUrl:function(){var e=[];return this.state.quickCommandSearchValue&&e.push({id:this.state.quickCommandSearchValue,name:this.state.quickCommandSearchValue.trim(),url:"",meta:"",type:"url",imageUrl:"chrome://favicon/"+this.state.quickCommandSearchValue,searchString:this.state.quickCommandSearchValue,command:"fixed"}),e},getSearch:function(){var e=[];if(this.state.currentSearchEngine){var t=this.state.quickCommandSearchValue.trim(),n=t.substring(t.indexOf(" "),t.length),i=this.state.currentSearchEngine.Url,r=i.replace("%s",n.replace(" ","+"));e.push({id:this.state.currentSearchEngine.Name,name:m("Search “$1” on $2",[n.trim(),this.state.currentSearchEngine.Name]),url:"",meta:"",type:"search",imageUrl:this.state.currentSearchEngine.Image,searchString:this.state.quickCommandSearchValue,command:"fixed",value:r})}return e},getDefaultSearch:function(){var e=[],t=this.props.vivaldiSettings.SEARCH_ENGINES,n=parseInt(this.props.vivaldiSettings.DEFAULT_SEARCH_ENGINE);if(this.state.quickCommandSearchValue&&n&&!this.state.currentSearchEngine){for(var i={},r=0;r<t.length;r++)if(t[r].Id===n){i=t[r];break}var o=encodeURIComponent(this.state.quickCommandSearchValue.trim()),a=i.Url,s=a.replace("%s",o);e.push({id:i.Name,name:m("Search “$1” on $2",[this.state.quickCommandSearchValue.trim(),i.Name]),url:"",meta:"",type:"search",imageUrl:i.Image,searchString:this.state.quickCommandSearchValue,command:"fixed",value:s})}return e},renderActions:function(e){return e.map(function(e){this.KeyboardNavigationMixinAddToNavigationList(e.id);var t=this.SelectionMixinIsSelected(e.id);return d.createElement(A,{ref:t?"selected":"",key:e.id,commandObj:e,selected:t,onSave:this.saveKey,onExecute:this.executeCommand,onEdit:this.onEdit,editing:this.state.editingCommandId===e.id,onCancel:this.onCancel,onMouseOver:this.over})}.bind(this))},renderBookmarkNicks:function(){return this.getBookmarkNicks().length>0?d.createElement("span",null,d.createElement("div",{className:"quick-command-sectionheader"},m("Bookmarks")),d.createElement("ul",{className:"quick-commands-bookmarks"},this.renderActions(this.getBookmarkNicks()))):null},renderBookmarkFolders:function(){return this.getBookmarkFolders().length>0?d.createElement("span",null,d.createElement("div",{className:"quick-command-sectionheader"},m("Open All Bookmarks in Folder")),d.createElement("ul",{className:"quick-commands-bookmarks"},this.renderActions(this.getBookmarkFolders()))):null},renderUrl:function(){var e=this.state.quickCommandSearchValue.trim().toLowerCase();return this.getUrl().length>0&&_(e)||e.startsWith("javascript:")?d.createElement("span",null,d.createElement("div",{className:"quick-command-sectionheader"},m("Go to Address")),d.createElement("ul",{className:"quick-commands-bookmarks"},this.renderActions(this.getUrl()))):null},renderSearch:function(){return this.getSearch().length>0?d.createElement("span",null,d.createElement("div",{className:"quick-command-sectionheader"},m("verb","Search")),d.createElement("ul",{className:"quick-commands-bookmarks"},this.renderActions(this.getSearch()))):null},renderDefaultSearch:function(){return this.getDefaultSearch().length>0?d.createElement("span",null,d.createElement("div",{className:"quick-command-sectionheader"},m("Default Search")),d.createElement("ul",{className:"quick-commands-bookmarks"},this.renderActions(this.getDefaultSearch()))):null},renderOpenTabs:function(){return this.getOpenPages().length>0?d.createElement("span",null,d.createElement("div",{className:"quick-command-sectionheader"},m("Tabs")),d.createElement("ul",{className:"quick-commands-tabs"},this.renderActions(this.getOpenPages()))):null},renderHistory:function(){return this.getHistory().length>0?d.createElement("span",null,d.createElement("div",{className:"quick-command-sectionheader"},m("History")),d.createElement("ul",{className:"quick-commands-history"},this.renderActions(this.getHistory()))):null},renderCommands:function(){return this.getCommands().length>0?d.createElement("span",null,d.createElement("div",{className:"quick-command-sectionheader"},m("Commands")),d.createElement("ul",{className:"quick-commands-actions"},this.renderActions(this.getCommands()))):null},render:function(){return d.createElement("div",{className:"quick-command-container",onFocus:this.KeyboardNavigationMixinOnFocus},d.createElement("div",{className:"qc-entry"},d.createElement("input",{tabIndex:"-1",readOnly:!0,ref:"quickCommandHint",className:"quick-command-search-hint",value:this.state.typeAheadHint}),d.createElement("input",{autoFocus:!0,ref:"quickCommand",className:"quick-command-search",onKeyDown:this.onQuickCommandSearchKeyDown,onKeyUp:this.onQuickCommandSearchKeyUp,value:this.state.quickCommandSearchValue,onChange:this.searchChange})),d.createElement("div",{className:"quick-commands",ref:"quickCommands"},this.renderUrl(),this.renderSearch(),this.renderDefaultSearch(),this.renderOpenTabs(),this.renderCommands(),this.state.quickCommandSearchValue&&this.renderBookmarkNicks(),this.state.quickCommandSearchValue&&this.renderBookmarkFolders(),this.state.quickCommandSearchValue&&this.renderHistory()))}});e.exports=a(T,I)},function(e,t,n){"use strict";var i=n(1),r=n(2),o=i.createClass({displayName:"SavedPasswordItem",render:function(){return i.createElement("div",{className:"setting-single controls"},i.createElement("label",null,i.createElement("span",{className:"selectable"},this.props.savedPassword.origin)),i.createElement("label",null,i.createElement("span",{className:"selectable"},this.props.savedPassword.username)),i.createElement("input",{type:"button",className:"circular clearkey",title:r("Delete Password"),onClick:this.props.onDelete}))}});e.exports=o},function(e,t,n){"use strict";var i=n(1),r=n(340),o=n(28),a=n(11),s=n(2),l=n(3),u=n(27),c=i.createClass({displayName:"SavedPasswords",getInitialState:function(){return{savedPasswordsData:[],confirmation:!1,toRemove:null}},componentWillMount:function(){this.getSavedPassords()},getSavedPassords:function(){l.savedpasswords.getList(function(e){this.setState({savedPasswordsData:e})}.bind(this))},deleteSavedPassword:function(){l.savedpasswords.remove(this.state.toRemove.id,function(e){this.getSavedPassords()}.bind(this)),this.setState({confirmation:!1,toRemove:null})},onAskToDelete:function(e){this.setState({confirmation:!0,toRemove:e})},onCancel:function(){this.setState({confirmation:!1,toRemove:null}),this.props.onClose()},keyDown:function(e){27===e.keyCode&&this.onCancel()},renderModal:function(){var e=u.parse(this.state.toRemove.origin).hostname;return i.createElement(o,{onRequestClose:this.onCancel,dialogWidth:400},i.createElement("div",{className:"dialog-new-bookmark-folder"},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title"},s("Delete password for $1?",[e||this.state.toRemove.origin]))),i.createElement("div",{className:"dialog-content",onKeyDown:this.keyDown},i.createElement("p",null,s("Password for user “$1” on page “$2” will be removed.",[this.state.toRemove.username,this.state.toRemove.origin]))),i.createElement("footer",{className:"dialog-footer",onKeyDown:this.keyDown},i.createElement("input",{type:"button",className:"primary",onClick:this.deleteSavedPassword,value:s("other","Delete"),autoFocus:!0}),i.createElement("input",{type:"button",onClick:this.onCancel,value:s("Cancel")}))))},render:function(){var e=i.createElement("div",{className:"saved-passwords setting-group unlimited"},i.createElement("h2",null,s("Passwords")),this.state.confirmation&&this.renderModal(),this.state.savedPasswordsData.length>0?i.createElement("div",{className:"saved-passwords"},i.createElement("div",{className:"header"},i.createElement("label",null,s("Website")),i.createElement("label",null,s("Account Name"))),i.createElement("div",{className:"password_list"},this.state.savedPasswordsData.map(function(e){return i.createElement(r,{key:e.id,savedPassword:e,onDelete:this.onAskToDelete.bind(this,e)})}.bind(this)))):i.createElement("div",{className:"saved-passwords"},i.createElement("p",null,s("No saved passwords found."))));return a(e,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(174),o=n(28),a=i.createClass({displayName:"CreateSearchEngineDlg",handleClick:function(){console.log("handleclick");var e={dialogText:this.state.value};this.state.shown&&this.props.onClose(e),this.setState({shown:!this.state.shown})},getInitialState:function(){return{msg:"",shown:!0,modalShown:!1}},getLayeredComponentRootNode:function(){return this.props.parentDiv},componentWillReceiveProps:function(){this.setState({shown:!0})},render:function(){return this.state.shown?i.createElement(o,{onRequestClose:this.handleClick},i.createElement("div",{className:"dialog-addsearch"},i.createElement(r,{showAsDlg:!0,onClose:this.handleClick,name:this.props.name,url:this.props.url}))):i.createElement("div",null)}});e.exports=a},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(66),a=n(4),s=n(10),l=n(174),u=n(2),c=n(17),A=n(6),d=n(11),h=n(28),p=r.createClass({displayName:"SearchEngines",mixins:[s,o],vivaldiSettingsKeys:["ADDRESS_BAR_SUGGEST_ENABLED","DEFAULT_SEARCH_ENGINE","SEARCH_ENGINES","SEARCH_FIELD_ENABLED"],getInitialState:function(){return{SEARCH_ENGINES:[],adding:!1,defaultSearchEngineId:-1,selectedSearchEngineId:-1,foundSearchEngine:!1,seUrl:"",seName:"",seKeyword:"",confirmation:!1}},saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},componentWillReceiveProps:function(e){if(this.state.SEARCH_ENGINES&&this.state.SEARCH_ENGINES.length>0&&e.filter&&e.filter.length>0){for(var t=this.state.SEARCH_ENGINES,n=0;n<t.length;n++)if((t[n].Keyword+t[n].Url+t[n].Name).toLowerCase().indexOf(e.filter.toLowerCase())>-1)return void this.setState({foundSearchEngine:!0});this.setState({foundSearchEngine:!1})}},onSearchEngineChanged:function(){var e=this;a.set({SEARCH_ENGINES:this.state.SEARCH_ENGINES.map(function(t){return e.state.selectedSearchEngineId===t.Id&&(t.Url=e.refs.urlInput.value,t.Name=e.refs.nameInput.value,t.Keyword=e.refs.keywordInput.value),t})}),this.setState({selectedSearchEngineId:-1,seUrl:"",seName:"",seKeyword:""})},deleteSearchEngine:function(e){var t=c.reject(c.map(this.state.SEARCH_ENGINES,function(e){return delete e._Text,e}),function(t){return t.Id===e});a.set({SEARCH_ENGINES:t}),this.setState({selectedSearchEngineId:-1})},cancel:function(){this.setState({adding:!1,selectedSearchEngineId:-1})},createSearchEngine:function(e){var t,n=c.map(this.state.SEARCH_ENGINES,function(e){return delete e._Text,e}),i=Math.max.apply(Math,n.map(function(e){return e.Id}));t={Id:i?i+1:0,Name:e.name,Keyword:e.keyword,Url:e.url},n.push(t),this.setState({adding:!1}),a.set({SEARCH_ENGINES:n})},restoreSearchEngines:function(){var e=a.getDefault("SEARCH_ENGINES"),t=a.getDefault("DEFAULT_SEARCH_ENGINE");a.set({DEFAULT_SEARCH_ENGINE:t,SEARCH_ENGINES:e}),this.setState({selectedSearchEngineId:-1,adding:!1,confirmation:!1})},addNewSearchEngine:function(){this.setState({adding:!this.state.adding,selectedSearchEngineId:-1})},edit:function(e,t){this.setState({adding:!1,selectedSearchEngineId:e},function(){t()})},onSearchEngineSelected:function(e){if(this.state.selectedSearchEngineId===e)this.setState({selectedSearchEngineId:-1,seUrl:"",seName:"",seKeyword:""});else{var t=c.find(this.state.SEARCH_ENGINES,{Id:parseInt(e)});this.setState({selectedSearchEngineId:e,seUrl:t.Url,seName:t.Name,seKeyword:t.Keyword})}},setSearchEnabled:function(e){var t=e.target.checked;a.set({SEARCH_FIELD_ENABLED:t})},setDefault:function(e){a.set({DEFAULT_SEARCH_ENGINE:e.toString()}),this.setState({selectedSearchEngineId:-1,adding:!1})},confirmRestoreSearch:function(){this.setState({confirmation:!0})},onCancel:function(){this.setState({confirmation:!1})},keyDownModal:function(e){27===e.keyCode&&this.onCancel()},renderModal:function(){return r.createElement(h,{dialogWidth:400},r.createElement("div",{className:"dialog-restore-search"},r.createElement("header",{className:"dialog-header"},r.createElement("h1",{className:"dialog-title"},u("Restore Default Search Engines?"))),r.createElement("div",{className:"dialog-content",onKeyDown:this.keyDownModal},r.createElement("p",null,u("Search engines will be reset to default settings, which will\n                also reset your custom search engines."))),r.createElement("footer",{className:"dialog-footer",onKeyDown:this.keyDownModal},r.createElement("input",{type:"button",className:"primary",onClick:this.restoreSearchEngines,value:u("Restore"),autoFocus:!0}),r.createElement("input",{type:"button",onClick:this.onCancel,value:u("Cancel")}))))},renderList:function(){var e=this;return this.state.SEARCH_ENGINES.map(function(t){var n=t.Id===parseInt(e.state.DEFAULT_SEARCH_ENGINE),i="/resources/page-web@2x.png";return i=t.FaviconUrl?t.FaviconUrl:"chrome://favicon/"+t.Url,r.createElement("li",{className:"controls",key:t.Id,onDoubleClick:e.onSearchEngineSelected.bind(e,t.Id)},r.createElement("span",{className:"favicon"},r.createElement("img",{src:i,alt:"",width:"16",height:"16"})),r.createElement("span",{className:"name"},t.Name),r.createElement("span",{className:"keyword",title:u("Keyboard Shortcut")},t.Keyword),r.createElement("span",null,r.createElement("input",{type:"button",disabled:n,className:"circular defaultkey",title:n?u("Default Search Engine"):u("searchengine","Set as Default"),onClick:e.setDefault.bind(e,t.Id)}),r.createElement("input",{type:"button",className:"circular editkey",title:u("Edit Search Engine"),onClick:e.onSearchEngineSelected.bind(e,t.Id)}),r.createElement("input",{type:"button",disabled:n,className:"circular clearkey",title:u("Remove Search Engine"),onClick:e.deleteSearchEngine.bind(e,t.Id)})))})},render:function(){if(!this.state.SEARCH_ENGINES||!this.state.DEFAULT_SEARCH_ENGINE)return null;var e=r.createElement("section",null,this.state.confirmation&&this.renderModal(),r.createElement("h2",null,u("noun","Search")),r.createElement("div",{className:"setting-group unlimited"},r.createElement("div",{className:"setting-group"},r.createElement("h3",null,u("Search Field in Address Bar")),r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.SEARCH_FIELD_ENABLED,onChange:this.setSearchEnabled}),r.createElement("span",null,u("Enable")))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,u("Search Suggestions")),r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.ADDRESS_BAR_SUGGEST_ENABLED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"ADDRESS_BAR_SUGGEST_ENABLED","checked")}),r.createElement("span",null,u("Enable"))))),r.createElement("div",{className:A({"setting-group":!0,unlimited:!0,"setting-search-engine":!0,"default":this.props["default"]})},r.createElement("h3",null,u("Search Engines")),r.createElement("div",{className:"setting-subgroup"},r.createElement("ul",{className:"se-list"},this.renderList()),parseInt(this.state.selectedSearchEngineId)>-1&&r.createElement("div",{className:"setting-group unlimited search-engine-create"},r.createElement("h3",null,u("Edit Search Engine")),r.createElement("div",{className:"setting-flexgroup"},r.createElement("input",{ref:"urlInput",className:"searchengine_url setting-single-flex",type:"text",title:u("Search Engine Address"),placeholder:u("URL"),valueLink:this.linkState("seUrl")})),r.createElement("div",{className:"setting-flexgroup"},r.createElement("input",{className:"setting-single-flex",type:"text",ref:"nameInput",placeholder:u("Description"),valueLink:this.linkState("seName")}),r.createElement("input",{ref:"keywordInput",className:"searchengine_keyword setting-single-noflex",type:"text",title:u("Shortcut for Search Engine"),placeholder:u("Nickname"),valueLink:this.linkState("seKeyword")})),r.createElement("div",{className:"setting-flexgroup"},r.createElement("input",{type:"button",className:"setting-single-noflex primary",onClick:this.onSearchEngineChanged,value:u("OK")}),r.createElement("input",{type:"button",className:"setting-single-noflex",onClick:this.cancel,value:u("Cancel")})))),this.state.adding===!0&&r.createElement(l,{onClose:this.cancel,onCreate:this.createSearchEngine}),this.state.adding===!1&&r.createElement("div",{className:"setting-single"},r.createElement("input",{type:"button",onClick:this.addNewSearchEngine,value:u("Add New Search Engine")})),r.createElement("div",{className:"setting-single"},r.createElement("input",{type:"button",className:"danger",onClick:this.confirmRestoreSearch,value:u("Restore Defaults")}))));return this.state.foundSearchEngine?e:d(e,this.props.filter)}});e.exports=p},function(e,t){"use strict";function n(e){function t(e){var t,r=0,o=0,a=0,s=0,l=0,u=0;for(t=0;t<e.length;t++)"0"===e[t]?l+=1:"4"===e[t]&&(l-=1),l>r&&(r=l),o>l&&(o=l);for(t=0;t<e.length;t++)"2"===e[t]?u-=1:"6"===e[t]&&(u+=1),u>a&&(a=u),s>u&&(s=u);return o>0&&(o=0),s>0&&(s=0),(i-2*n)/Math.max(Math.abs(r-o),Math.abs(a-s))}var n=40,i=200,r=8,o="#006ed7",a=50,s=4,l=4;this.points=[],this.points_buffer=[],this.stopped=!0,this.canvas=e,this.init_points=function(){this.points=[],this.points_buffer=[];var e={x:n,y:n};this.points.push(e);var o,a=t(this.sequence);for(o=0;o<this.sequence.length;o++){var s={};"0"===this.sequence[o]?(s.x=this.points[o].x+a,s.y=this.points[o].y):"2"===this.sequence[o]?(s.x=this.points[o].x,s.y=this.points[o].y+a):"4"===this.sequence[o]?(s.x=this.points[o].x-a,s.y=this.points[o].y):"6"===this.sequence[o]&&(s.x=this.points[o].x,s.y=this.points[o].y-a),this.points.push(s)}var l=this.points[0].x,u=this.points[0].y,c=this.points[0].x,A=this.points[0].y;for(o=1;o<this.points.length;o++)this.points[o].x<l&&(l=this.points[o].x),this.points[o].x>c&&(c=this.points[o].x),this.points[o].y<u&&(u=this.points[o].y),this.points[o].y>A&&(A=this.points[o].y);if(n>l){for(o=0;o<this.points.length;o++)this.points[o].x+=-(l-n);c+=-(l-n)}if(n>u){for(o=0;o<this.points.length;o++)this.points[o].y+=-(u-n);A+=-(u-n)}for(o=0;o<this.points.length;o++)this.points[o].x+=(i-n-c)/2,this.points[o].y+=(i-n-A-r)/2;for(o=0;o<this.points.length;o++){var d={x:this.points[o].x,y:this.points[o].y};this.points_buffer.push(d)}},this.reset_points=function(){var e;for(e=0;e<this.points_buffer.length;e++)this.points[e].x=this.points_buffer[e].x,this.points[e].y=this.points_buffer[e].y},this.draw_point=function(e){this.ctx.beginPath(),this.ctx.arc(e.x,e.y,r,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fillStyle=o,this.ctx.fill()},this.idx=0,this.timeout=0,this.draw_segment=function(){if(!this.stopped){if(this.idx>=this.points.length)return this.timeout>=a?(this.timeout=0,this.idx=0,this.reset_points(),void(this.requestId=window.requestAnimationFrame(this.draw_segment.bind(this)))):(this.ctx.fillStyle="rgba(255,255,255,0.15)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.timeout++,void(this.requestId=window.requestAnimationFrame(this.draw_segment.bind(this))));this.timeout=0,this.ctx.fillStyle="rgba(255,255,255,0.1)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.draw_point(this.points[this.idx]),!this.points[this.idx+1]||this.points[this.idx].x===this.points[this.idx+1].x&&this.points[this.idx].y===this.points[this.idx+1].y?(this.idx++,this.draw_segment()):(this.points[this.idx].x<this.points[this.idx+1].x?this.points[this.idx].x+=s:this.points[this.idx].x>this.points[this.idx+1].x&&(this.points[this.idx].x-=s),this.points[this.idx].y<this.points[this.idx+1].y?this.points[this.idx].y+=l:this.points[this.idx].y>this.points[this.idx+1].y&&(this.points[this.idx].y-=l),this.requestId=window.requestAnimationFrame(this.draw_segment.bind(this)))}},this.clear_canvas=function(){this.ctx.fillStyle="rgb(255,255,255)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)},this.start=function(e){this.sequence=e,this.ctx=this.canvas.getContext("2d"),this.ctx.lineWidth=3,this.clear_canvas(),this.init_points(),this.stopped&&(this.stopped=!1,this.requestId=window.requestAnimationFrame(this.draw_segment.bind(this)))},this.stop=function(){this.stopped=!0,this.current_point_index=0,this.timeout=0,this.idx=0,window.cancelAnimationFrame(this.requestId)}}e.exports=n},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(344),a=n(36),s=n(2),l=n(11),u=n(4),c=n(10),A=n(9),d=r.createClass({displayName:"MouseGestures",mixins:[c],vivaldiSettingsKeys:["MOUSE_GESTURES_ENABLED","ALT_GESTURES_ENABLED"],selected:void 0,getInitialState:function(){return{commandArray:a.getAllCommands(),assignedArray:a.getCommandsGestures(),rockerGestures:null}},componentWillMount:function(){var e=this;A.settings.getPreference("vivaldi.rocker_gestures_enabled",function(t){e.setState({rockerGestures:t.preferenceValue["boolean"]})})},checkChange:function(){var e={preferenceKey:"vivaldi.rocker_gestures_enabled",preferenceValue:{"boolean":!this.state.rockerGestures},preferenceType:"boolean"};A.settings.setPreference(e),this.setState({rockerGestures:!this.state.rockerGestures})},getDefaultProps:function(){return{filter:""}},saveVivaldiSettingFromEvent:function(e,t,n){u.set(i({},e,n.target[t]))},animation:void 0,onChange:function(e){var t=e.target.value;"number"==typeof parseInt(t)?(this.selected=t,this.animation||(this.animation=new o(this.refs.gestureCanvas)),this.animation.stop(),this.animation.start(t)):this.selected=void 0},clearAnimation:function(){if(void 0!==this.animation){this.animation.stop();var e=this.refs.gestureCanvas,t=e.getContext("2d");t.clearRect(0,0,e.width,e.height)}},renderGesture:function(){return r.createElement("canvas",{id:"canvas",ref:"gestureCanvas",width:"200",height:"200"})},renderCommands:function(){for(var e=[],t=0;t<this.state.commandArray.length;t++){var n=this.state.commandArray[t];if(n.gestures&&(n.actualLabel=n.gestureLabel?n.gestureLabel:n.label,e.push(n),n.gestureOnLink)){var i=Object.create(n);i.actualLabel=i.gestureOnLink,e.push(i)}}return e.sort(function(e,t){return e.actualLabel>t.actualLabel?1:t.actualLabel>e.actualLabel?-1:0}),e.map(function(e){return r.createElement("option",{key:"id-gesture-"+e.actualLabel.toLowerCase(),value:e.gestures[0]},e.actualLabel)})},render:function(){var e=r.createElement("div",null,r.createElement("h2",null,s("Mouse")),r.createElement("div",{className:"setting-group unlimited"},r.createElement("h3",null,s("Gestures")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.MOUSE_GESTURES_ENABLED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"MOUSE_GESTURES_ENABLED","checked")}),r.createElement("span",null,s("Allow Gestures"))),r.createElement("p",{className:"info"},s("Hold down right mouse button and perform\n              a gesture to issue related command."))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.ALT_GESTURES_ENABLED,disabled:!this.state.MOUSE_GESTURES_ENABLED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"ALT_GESTURES_ENABLED","checked")}),r.createElement("span",null,s("Perform Gestures with ALT Key"))),r.createElement("p",{className:"info"},s("Use gestures with trackpad or other input\n              device."))),r.createElement("div",{className:"setting-single pad-top"},r.createElement("h3",null,s("Gesture Mapping")),r.createElement("div",{className:"gesture-map setting-single"},r.createElement("select",{className:"gesture-list",onChange:this.onChange,onFocus:this.onChange,onBlur:this.clearAnimation,size:"9"},this.renderCommands()),r.createElement("div",{className:"gesture"},this.renderGesture()))),null!==this.state.rockerGestures&&r.createElement("div",{className:"setting-single pad-top"},r.createElement("h3",null,s("Rocker Gestures")),r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.rockerGestures,onChange:this.checkChange}),r.createElement("span",null,s("Allow Rocker Gestures"))),r.createElement("p",{className:"info"},s("Press right mouse button followed by left\n                mouse button click to go back in history. Press left mouse\n                button followed by right click to advance forward in\n                history.")))));return l(e,this.props.filter)}});e.exports=d},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(25),a=n(4),s=n(10),l=n(11),u=n(2),c=r.createClass({displayName:"Appearance",mixins:[s],vivaldiSettingsKeys:["STARTPAGE_SHOW_IMAGE","STARTPAGE_IMAGE","STARTPAGE_IMAGE_USER_DEFINED","STARTPAGE_IMAGE_STRETCH","STARTPAGE_IMAGE_REPEAT","STARTPAGE_BG_COLOR","STARTPAGE_BG_COLOR_USER_DEFINED","STARTPAGE_FG_COLOR","SPEEDDIAL_TITLES_VISIBLE","SPEEDDIAL_ADDBUTTON_VISIBLE","SPEEDDIAL_COLS","BROWSER_FG_COLOR","USE_TABCOLOR"],saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},setStartpageImageStretch:function(e){var t=e.target.checked;this.setState({STARTPAGE_IMAGE_STRETCH:t,STARTPAGE_IMAGE_REPEAT:t?!1:this.state.STARTPAGE_IMAGE_REPEAT}),a.set({STARTPAGE_IMAGE_STRETCH:t,STARTPAGE_IMAGE_REPEAT:t?!1:this.state.STARTPAGE_IMAGE_REPEAT})},setStartpageImageRepeat:function(e){var t=e.target.checked;this.setState({STARTPAGE_IMAGE_REPEAT:t,STARTPAGE_IMAGE_STRETCH:t?!1:this.state.STARTPAGE_IMAGE_STRETCH}),a.set({STARTPAGE_IMAGE_REPEAT:t,STARTPAGE_IMAGE_STRETCH:t?!1:this.state.STARTPAGE_IMAGE_STRETCH})},setStartpageShowImage:function(e){var t=e.target.checked;this.setState({STARTPAGE_SHOW_IMAGE:t}),a.set({STARTPAGE_SHOW_IMAGE:t})},setStartpageUserDefinedBgColor:function(e){var t=e.target.value;this.setState({STARTPAGE_BG_COLOR_USER_DEFINED:t}),a.set({STARTPAGE_BG_COLOR_USER_DEFINED:t})},setStartpageUserDefinedImage:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){this.setState({STARTPAGE_IMAGE_USER_DEFINED:e.target.result}),a.set({STARTPAGE_IMAGE_USER_DEFINED:e.target.result})}.bind(this),n.readAsDataURL(t)},handleColorClick:function(){this.refs.bgColorPicker.click()},handleImageClick:function(){this.refs.bgImagePicker.click()},render:function(){var e=r.createElement("div",null,r.createElement("h2",null,u("other","Start Page")),r.createElement("div",{className:"setting-group unlimited"},r.createElement("h3",null,u("Background Color")),r.createElement(o,{name:"BGColor",className:"thumbnail-wrapper",value:this.state.STARTPAGE_BG_COLOR,onChange:this.saveVivaldiSettingFromEvent.bind(this,"STARTPAGE_BG_COLOR","value")},r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"#cccccc",style:{backgroundColor:"#cccccc"}}),r.createElement("span",null,u("Default")))),r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"#BDD1DE",style:{backgroundColor:"#BDD1DE"}}),r.createElement("span",null,u("Blue")))),r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"#313B41",style:{backgroundColor:"#313B41"}}),r.createElement("span",null,u("Pro")))),r.createElement("div",{
className:"setting-single image-radio has-secondlevel"},r.createElement("label",null,r.createElement("input",{type:"radio",className:"colorpicker",value:"user_defined",style:{backgroundColor:this.state.STARTPAGE_BG_COLOR_USER_DEFINED}}),r.createElement("span",null,u("Custom")),r.createElement("button",{onClick:this.handleColorClick,title:u("Change the Background Color"),className:"secondlevel"},u("Change")))))),r.createElement("input",{ref:"bgColorPicker",type:"color",value:this.state.STARTPAGE_BG_COLOR_USER_DEFINED,onChange:this.setStartpageUserDefinedBgColor,style:{position:"absolute",visibility:"hidden"}}),r.createElement("div",{className:"setting-group unlimited"},r.createElement("h3",null,u("Background Image")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.STARTPAGE_SHOW_IMAGE,onChange:this.setStartpageShowImage}),r.createElement("span",null,u("Show Background Image")))),r.createElement(o,{name:"startpageImage",className:"thumbnail-wrapper",value:this.state.STARTPAGE_IMAGE,onChange:this.saveVivaldiSettingFromEvent.bind(this,"STARTPAGE_IMAGE","value")},r.createElement("div",{className:"setting-group-double"},r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"../resources/bg.jpg",disabled:!this.state.STARTPAGE_SHOW_IMAGE,style:{backgroundImage:"url(../resources/bg.jpg)"}}),r.createElement("span",null,u("Mist")))),r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"../resources/bg_alt_1.jpg",disabled:!this.state.STARTPAGE_SHOW_IMAGE,style:{backgroundImage:"url(../resources/bg_alt_1.jpg)"}}),r.createElement("span",null,u("Sunset")))),r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"../resources/bg_alt_2.jpg",disabled:!this.state.STARTPAGE_SHOW_IMAGE,style:{backgroundImage:"url(../resources/bg_alt_2.jpg)"}}),r.createElement("span",null,u("Starry Night")))),r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"../resources/bg_alt_3.jpg",disabled:!this.state.STARTPAGE_SHOW_IMAGE,style:{backgroundImage:"url(../resources/bg_alt_3.jpg)"}}),r.createElement("span",null,u("Pink Cloud"))))),r.createElement("div",{className:"setting-group-double"},r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"../resources/bg_alt_5.jpg",disabled:!this.state.STARTPAGE_SHOW_IMAGE,style:{backgroundImage:"url(../resources/bg_alt_5.jpg)"}}),r.createElement("span",null,u("Purple Lake")))),r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"../resources/bg_alt_4.jpg",disabled:!this.state.STARTPAGE_SHOW_IMAGE,style:{backgroundImage:"url(../resources/bg_alt_4.jpg)"}}),r.createElement("span",null,u("Jelly Fish")))),r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"../resources/bg_alt_6.jpg",disabled:!this.state.STARTPAGE_SHOW_IMAGE,style:{backgroundImage:"url(../resources/bg_alt_6.jpg)"}}),r.createElement("span",null,u("Wave")))),r.createElement("div",{className:"setting-single image-radio has-secondlevel"},r.createElement("label",null,r.createElement("input",{type:"radio",className:"addfile",value:"user_defined",disabled:!this.state.STARTPAGE_SHOW_IMAGE,style:{backgroundImage:"url("+this.state.STARTPAGE_IMAGE_USER_DEFINED+")",backgroundRepeat:this.state.STARTPAGE_IMAGE_REPEAT?"repeat":"no-repeat",backgroundSize:this.state.STARTPAGE_IMAGE_REPEAT?"auto":"cover"}}),r.createElement("span",null,u("Custom")),r.createElement("button",{className:"secondlevel",disabled:!this.state.STARTPAGE_SHOW_IMAGE,title:u("Change the Background Image"),onClick:this.handleImageClick},u("Change")))))),r.createElement("input",{type:"file",disabled:!this.state.STARTPAGE_SHOW_IMAGE,ref:"bgImagePicker",onChange:this.setStartpageUserDefinedImage,style:{position:"absolute",visibility:"hidden"}})),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,u("Background Image Options")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",disabled:!this.state.STARTPAGE_SHOW_IMAGE,checked:this.state.STARTPAGE_IMAGE_STRETCH,onChange:this.setStartpageImageStretch}),r.createElement("span",null,u("Scale to Fit")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",disabled:!this.state.STARTPAGE_SHOW_IMAGE,checked:this.state.STARTPAGE_IMAGE_REPEAT,onChange:this.setStartpageImageRepeat}),r.createElement("span",null,u("Repeat"))))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,u("Interface Color")),r.createElement(o,{value:this.state.STARTPAGE_FG_COLOR,name:"FGColor",onChange:this.saveVivaldiSettingFromEvent.bind(this,"STARTPAGE_FG_COLOR","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"ui-light"}),r.createElement("span",null,u("Light")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"ui-dark"}),r.createElement("span",null,u("Dark")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:""}),r.createElement("span",null,u("Inherit from Window Appearance")))))),r.createElement("h2",null,u("Speed Dial")),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,u("Show Speed Dial Titles")),r.createElement(o,{name:"SpeedDialTitles",value:this.state.SPEEDDIAL_TITLES_VISIBLE,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SPEEDDIAL_TITLES_VISIBLE","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"always"}),r.createElement("span",null,u("Always")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"hover"}),r.createElement("span",null,u("When Needed")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"never"}),r.createElement("span",null,u("Never")))))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,u("Speed Dial Layout")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.SPEEDDIAL_ADDBUTTON_VISIBLE,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SPEEDDIAL_ADDBUTTON_VISIBLE","checked")}),r.createElement("span",null,u("Show “Add” button"))),r.createElement("p",{className:"info"},u("When disabled, new bookmarks can be added\n              by double-clicking the Speed Dial background.")))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,u("Maximum Columns")),r.createElement("select",{className:"max-columns",value:this.state.SPEEDDIAL_COLS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SPEEDDIAL_COLS","value"),title:u("Number of Speed Dial columns")},r.createElement("option",{value:"1"},"1"),r.createElement("option",{value:"2"},"2"),r.createElement("option",{value:"3"},"3"),r.createElement("option",{value:"4"},"4"),r.createElement("option",{value:"5"},"5"),r.createElement("option",{value:"6"},"6"))));return l(e,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(25),a=n(4),s=n(10),l=n(2),u=n(11),c=r.createClass({displayName:"AddressBar",mixins:[s],vivaldiSettingsKeys:["ADDRESS_BAR_AUTOCOMPLETE_ENABLED","ADDRESS_BAR_AUTOCOMPLETE_PREFER_BOOKMARKS","ADDRESS_BAR_OMNIDROPDOWN_ENABLED","ADDRESS_BAR_POSITION","ADDRESS_BAR_SHOW_FULL_URL","SHOW_ADDRESS_BAR","SHOW_FFW_RWD_BUTTONS"],saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("section",null,r.createElement("h2",null,l("Address Bar")),r.createElement("div",{className:"setting-group unlimited"},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.SHOW_ADDRESS_BAR,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SHOW_ADDRESS_BAR","checked")}),r.createElement("span",null,l("Show Address Bar"))))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,l("Address Bar Position")),r.createElement(o,{name:"addressbar-position",value:this.state.ADDRESS_BAR_POSITION,ref:"addressPositionGroup",onChange:this.saveVivaldiSettingFromEvent.bind(this,"ADDRESS_BAR_POSITION","value"),className:"group"},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"top"}),r.createElement("span",null,l("Top")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"bottom"}),r.createElement("span",null,l("Bottom")))))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,l("Address Bar Options")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.SHOW_FFW_RWD_BUTTONS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SHOW_FFW_RWD_BUTTONS","checked")}),r.createElement("span",null,l("Enable Fast Forward and Rewind")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.ADDRESS_BAR_SHOW_FULL_URL,onChange:this.saveVivaldiSettingFromEvent.bind(this,"ADDRESS_BAR_SHOW_FULL_URL","checked")}),r.createElement("span",null,l("Show Full URL")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.ADDRESS_BAR_OMNIDROPDOWN_ENABLED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"ADDRESS_BAR_OMNIDROPDOWN_ENABLED","checked")}),r.createElement("span",null,l("Dropdown Enabled"))))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,l("Address Autocomplete")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.ADDRESS_BAR_AUTOCOMPLETE_ENABLED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"ADDRESS_BAR_AUTOCOMPLETE_ENABLED","checked")}),r.createElement("span",null,l("Enabled")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.ADDRESS_BAR_AUTOCOMPLETE_PREFER_BOOKMARKS,disabled:!this.state.ADDRESS_BAR_AUTOCOMPLETE_ENABLED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"ADDRESS_BAR_AUTOCOMPLETE_PREFER_BOOKMARKS","checked")}),r.createElement("span",null,l("Always Prefer Bookmarks"))))));return u(e,this.props.filter)}});e.exports=c},function(e,t,n){(function(t){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(25),a=n(4),s=n(10),l=n(11),u=n(120),c=n(61),A=n(9),d=n(2),h=r.createClass({displayName:"Appearance",mixins:[s],vivaldiSettingsKeys:["LINUX_ALT_CONTROLS","USE_NATIVE_WINDOW_DECORATIONS","BROWSER_FG_COLOR","SHOW_VIVALDI_FOOTER","USE_TABCOLOR","TABCOLOR_BEHIND_TABS","MINIMALISTIC_UI_SHOW","USE_ANIMATION","USE_SETTINGS_WINDOW_AS_TAB"],getInitialState:function(){return{initialZoom:1}},componentWillMount:function(){var e=this;A.zoom.getVivaldiUIZoom(function(t){return e.setState({initialZoom:t})})},saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},reportStatusBar:function(e){this.saveVivaldiSettingFromEvent("SHOW_VIVALDI_FOOTER","value",e),"urls"===e.target.value&&t.nextTick(function(){return c.setStatus(d("Status Info set to Overlay"),2e3)})},handleZoomUpdated:function(e){A.zoom.setVivaldiUIZoom(e),this.setState({initialZoom:e})},render:function(){var e=void 0;e=this.state.USE_TABCOLOR&&"on"===this.state.TABCOLOR_BEHIND_TABS?"tabcolor-behind":this.state.USE_TABCOLOR&&"on"!==this.state.TABCOLOR_BEHIND_TABS?"tabcolor-infront":"tabcolor-off";var t=r.createElement("div",{className:"setting-group unlimited"},r.createElement("h2",null,d("Window Appearance")),r.createElement("div",{className:"setting-group"},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.USE_NATIVE_WINDOW_DECORATIONS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"USE_NATIVE_WINDOW_DECORATIONS","checked")}),r.createElement("span",null,d("Use Native Window"))),r.createElement("p",{className:"info"},d("This setting requires a restart to take full effect."))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.USE_SETTINGS_WINDOW_AS_TAB,onChange:this.saveVivaldiSettingFromEvent.bind(this,"USE_SETTINGS_WINDOW_AS_TAB","checked")}),r.createElement("span",null,d("Open Settings in a Tab")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.MINIMALISTIC_UI_SHOW,onChange:this.saveVivaldiSettingFromEvent.bind(this,"MINIMALISTIC_UI_SHOW","checked")}),r.createElement("span",null,d("Show User Interface")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.USE_ANIMATION,onChange:this.saveVivaldiSettingFromEvent.bind(this,"USE_ANIMATION","checked")}),r.createElement("span",null,d("Use Animation"))))),"linux"===this.props.platform&&r.createElement("div",{className:"setting-group"},r.createElement("h3",null,d("Window Controls Position")),r.createElement(o,{className:"linuxAltControls",ref:"linuxAltControls",name:"linuxAltControls",value:this.state.LINUX_ALT_CONTROLS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"LINUX_ALT_CONTROLS","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:!1}),r.createElement("span",null,d("Right Side")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:!0}),r.createElement("span",null,d("Left Side")))))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,d("Status Bar")),r.createElement("div",{className:"setting-single"},r.createElement(o,{name:"StatusBar",className:"group",value:this.state.SHOW_VIVALDI_FOOTER,onChange:this.reportStatusBar},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"on"}),r.createElement("span",null,d("Show Status Bar")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"urls"}),r.createElement("span",null,d("Show Status Info Overlay")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"off"}),r.createElement("span",null,d("Hide Status Bar"))))))),r.createElement("div",{className:"setting-group unlimited"},r.createElement("h3",null,d("User Interface Zoom")),r.createElement("div",{className:"setting-single"},r.createElement(u,{maxLevel:2,minLevel:.5,step:.05,initialZoom:this.state.initialZoom,onZoomUpdated:this.handleZoomUpdated}))),r.createElement("h3",null,d("Interface Color")),r.createElement("div",{className:"setting-group unlimited"},r.createElement(o,{name:"BrowserBGColor",className:"group",value:this.state.BROWSER_FG_COLOR,onChange:this.saveVivaldiSettingFromEvent.bind(this,"BROWSER_FG_COLOR","value")},r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"ui-light",className:"light-ui-preview "+e}),r.createElement("span",null,d("Light")))),r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"ui-dark",className:"dark-ui-preview "+e}),r.createElement("span",null,d("Dark"))))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.USE_TABCOLOR,onChange:this.saveVivaldiSettingFromEvent.bind(this,"USE_TABCOLOR","checked")}),r.createElement("span",null,d("Use Page Theme Color in User Interface"))),r.createElement("div",{className:"setting-single pad-top"},r.createElement(o,{name:"color-area",className:"group",value:this.state.TABCOLOR_BEHIND_TABS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TABCOLOR_BEHIND_TABS","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"off",disabled:!this.state.USE_TABCOLOR}),r.createElement("span",null,d("Color Active Tab")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"on",disabled:!this.state.USE_TABCOLOR}),r.createElement("span",null,d("Color Tab Bar Background")))))))));return l(t,this.props.filter)}});e.exports=h}).call(t,n(22))},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(25),a=n(4),s=n(10),l=n(2),u=n(11),c=n(158),A=n(33),d=r.createClass({displayName:"BookmarkBar",mixins:[s],vivaldiSettingsKeys:["BOOKMARK_BAR_POSITION","BOOKMARK_BAR_VISIBLE","BOOKMARK_BAR_DISPLAY","BOOKMARKS_BAR_FOLDER_IDS"],handleShowBookmarkBar:function(){a.set({BOOKMARK_BAR_VISIBLE:!this.state.BOOKMARK_BAR_VISIBLE})},saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},onFolderChange:function(e){A.setBookmarkBarFolder(e.target.value)},render:function(){var e=this.state.BOOKMARKS_BAR_FOLDER_IDS?this.state.BOOKMARKS_BAR_FOLDER_IDS[0]:"1",t=r.createElement("div",null,r.createElement("h2",null,l("Bookmark Bar")),r.createElement("div",{className:"setting-group unlimited"},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.BOOKMARK_BAR_VISIBLE,onChange:this.handleShowBookmarkBar}),r.createElement("span",null,l("Show Bookmark Bar"))))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,l("Select Bookmark Bar Folder")),r.createElement("div",{className:"setting-single"},r.createElement(c,{onChange:this.onFolderChange,selectedItemID:e}))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,l("Bookmark Bar Position")),r.createElement(o,{name:"bookmark-position",value:this.state.BOOKMARK_BAR_POSITION,ref:"bookmarkPositionGroup",onChange:this.saveVivaldiSettingFromEvent.bind(this,"BOOKMARK_BAR_POSITION","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"top"}),r.createElement("span",null,l("Top")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"bottom"}),r.createElement("span",null,l("Bottom")))))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,l("Bookmark Bar Display")),r.createElement(o,{name:"bookmark_bar_display",ref:"bookmark_bar_display",value:this.state.BOOKMARK_BAR_DISPLAY,onChange:this.saveVivaldiSettingFromEvent.bind(this,"BOOKMARK_BAR_DISPLAY","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"default"}),r.createElement("span",null,l("Text and Icon")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"text"}),r.createElement("span",null,l("Text Only")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"icon"}),r.createElement("span",null,l("Icon Only")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"iconexceptfolders"}),r.createElement("span",null,l("Bookmark Icon Only")))))));return u(t,this.props.filter)}});e.exports=d},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(4),a=n(10),s=n(2),l=n(11),u=r.createClass({displayName:"FullscreenSettings",mixins:[a],vivaldiSettingsKeys:["SHOW_FULLSCREEN_BUBBLE"],saveVivaldiSettingFromEvent:function(e,t,n){o.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("span",null,r.createElement("div",{className:"setting-group"},r.createElement("h3",null,s("Fullscreen")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.SHOW_FULLSCREEN_BUBBLE,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SHOW_FULLSCREEN_BUBBLE","checked")}),r.createElement("span",null,s("Show Fullscreen Reminder"))))));return l(e,this.props.filter)}});e.exports=u},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(10),a=n(11),s=n(2),l="about:blank",u=i.createClass({displayName:"HomePageSetting",mixins:[o],vivaldiSettingsKeys:["DEFAULT_HOME"],getInitialState:function(){return{updating:!1,startPage:r.getSync("DEFAULT_HOME")}},saveHomePage:function(){var e=this.refs.startPage.value;""===e?e=l:e.match(/^[a-zA-Z]+:\/\//)||e.match(/^vivaldi:/)||e.match(/^about:/)||(e="http://"+e),r.set({DEFAULT_HOME:e},this.setState({updating:!1}))},startPageChange:function(){this.setState({updating:this.refs.startPage.value!==this.state.DEFAULT_HOME,startPage:this.refs.startPage.value})},render:function(){var e=i.createElement("div",{className:"setting-group homepage"},i.createElement("h3",null,s("other","Homepage")),i.createElement("form",{className:"setting-single"},i.createElement("input",{type:"text",ref:"startPage",placeholder:s("Address"),value:this.state.startPage,onChange:this.startPageChange}),i.createElement("input",{type:"submit",value:s("Save"),disabled:!this.state.updating,onClick:this.saveHomePage})));return a(e,this.props.filter)}});e.exports=u},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(25),a=n(4),s=n(10),l=n(2),u=n(11),c=r.createClass({displayName:"MenuType",mixins:[s],vivaldiSettingsKeys:["VIVALDI_MENU_POSITION"],saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("span",null,r.createElement("h2",null,l("Menu")),r.createElement("div",{className:"setting-group"},r.createElement(o,{name:"menuPosition",ref:"menuPositionGroup",value:this.state.VIVALDI_MENU_POSITION,onChange:this.saveVivaldiSettingFromEvent.bind(this,"VIVALDI_MENU_POSITION","value"),className:"group"},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"top"}),r.createElement("span",null,l("Horizontal Menu")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"vivaldi"}),r.createElement("span",null,l("Vivaldi Button")))))));return u(e,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(9),o=n(2),a=n(11),s=i.createClass({displayName:"NetworkSettings",onClick:function(){r.importData.launchNetworkSettings(function(e){})},render:function(){var e=i.createElement("span",null,i.createElement("h2",null,o("Network")),i.createElement("div",{className:"setting-group"},i.createElement("h3",null,o("Proxies")),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"button",value:o("Proxy Settings"),onClick:this.onClick})))));return a(e,this.props.filter)}});e.exports=s},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(25),a=n(4),s=n(10),l=n(2),u=n(11),c=r.createClass({displayName:"Panels",mixins:[s],vivaldiSettingsKeys:["SHOW_PANEL_SWITCH","PANEL_POSITION"],saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("span",null,r.createElement("h2",null,l("Panels")),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,l("Panel Position")),r.createElement(o,{name:"panelPosition",ref:"panelPositionGroup",value:this.state.PANEL_POSITION,onChange:this.saveVivaldiSettingFromEvent.bind(this,"PANEL_POSITION","value"),className:"group"},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"left"}),r.createElement("span",null,l("Left Side")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"right"}),r.createElement("span",null,l("Right Side")))))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,l("Panel Options")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",title:l("Display a panel toggle button along the side"),checked:this.state.SHOW_PANEL_SWITCH,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SHOW_PANEL_SWITCH","checked")}),r.createElement("span",null,l("Show Panel Toggle"))))));return u(e,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(4),a=n(2),s=n(10),l=n(11),u=r.createClass({displayName:"QuickCommands",mixins:[s],vivaldiSettingsKeys:["QUICK_COMMAND_OPEN_URL_IN_NEW_TAB"],saveVivaldiSettingFromEvent:function(e,t,n){o.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("span",null,r.createElement("h2",null,a("Quick Commands")),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,a("Behavior")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.QUICK_COMMAND_OPEN_URL_IN_NEW_TAB,onChange:this.saveVivaldiSettingFromEvent.bind(this,"QUICK_COMMAND_OPEN_URL_IN_NEW_TAB","checked")}),r.createElement("span",null,a("Open Pages in New Tab"))))));return l(e,this.props.filter)}});e.exports=u},function(e,t,n){"use strict";var i=n(1),r=n(176),o=n(28),a=n(2),s=i.createClass({displayName:"SetVivaldiDefaultBrowserDlg",getInitialState:function(){return{msg:"",shown:!0,modalShown:!1}},handleClick:function(){var e={dialogText:this.state.value};this.state.shown&&this.props.onClose(e),this.setState({shown:!this.state.shown})},componentWillReceiveProps:function(){this.setState({shown:!0})},render:function(){return this.state.shown?i.createElement(o,{onRequestClose:this.handleClick,viewMode:"default-browser slide"},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title"},a("Default Browser"))),i.createElement("div",{className:"dialog-content"},i.createElement(r,{onClose:this.handleClick,startup:!0})),i.createElement("footer",{className:"dialog-footer"},i.createElement("input",{type:"button",value:a("Cancel"),onClick:this.handleClick}))):null}});e.exports=s},function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(1),o=n(11),a=n(358),s=n(23),l=n(2),u=n(9),c=r.createClass({displayName:"SpecificSession",getInitialState:function(){return{STARTUP_SESSION_URLS:[],hasUrlInInput:!1}},componentWillMount:function(){var e=this;u.settings.getPreference("session.startup_urls",function(t){var n=t.preferenceValue.array,i=n.map(function(e,t){return{url:e,id:t}});e.setState({STARTUP_SESSION_URLS:i})})},handleInputChange:function(e){if(e.target.value.length>2?this.setState({hasUrlInInput:!0}):this.setState({hasUrlInInput:!1}),e.keyCode===s.KEY_ESCAPE)e.target.value="",this.setState({hasUrlInInput:!1});else{if(e.keyCode!==s.KEY_RETURN&&e.keyCode!==s.KEY_ENTER)return;e.target.value.length>2&&this.addUrl()}},saveChanges:function(){for(var e=[],t=this.state.STARTUP_SESSION_URLS,n=0;n<t.length;n++)e.push(t[n].url);var i={preferenceKey:"session.startup_urls",preferenceValue:{array:e},preferenceType:"array"};u.settings.setPreference(i)},addUrl:function(){var e=this.refs.createUrlField.value.trim();-1===e.indexOf("://")&&(e="http://"+e),this.refs.createUrlField.value="",this.setState({hasUrlInInput:!1});var t=0;this.state.STARTUP_SESSION_URLS.length>0&&(t=Math.max.apply(Math,this.state.STARTUP_SESSION_URLS.map(function(e){return e.id?e.id:0}))),this.state.STARTUP_SESSION_URLS.push({url:e,id:t+1}),this.saveChanges()},save:function(e){for(var t=this.state.STARTUP_SESSION_URLS,n=0;n<t.length;n++)if(t[n].id===e.id){var i=e.url;-1===i.indexOf(":")&&(i="http://"+i),t[n].url=i;break}this.setState({STARTUP_SESSION_URLS:t},function(){this.saveChanges()}.bind(this))},deleteUrl:function(e){for(var t=this.state.STARTUP_SESSION_URLS,n=0;n<t.length;n++)if(t[n].url===e.url){t.splice(n,1);break}this.setState({STARTUP_SESSION_URLS:t},function(){this.saveChanges()}.bind(this))},render:function(){var e=this.state.STARTUP_SESSION_URLS.map(function(e){return r.createElement(a,i({urlItem:e,key:e.id,onDelete:this.deleteUrl.bind(this,e),onSave:this.save},this.props))}.bind(this)),t=r.createElement("div",{className:"setting-group setting-startup-specific-pages"},r.createElement("h3",null,l("Startup Pages")),e,r.createElement("div",{className:"setting-flexgroup"},r.createElement("input",{className:"setting-single-flex",type:"text",ref:"createUrlField",value:this.props.url,onKeyUp:this.handleInputChange,placeholder:l("Enter page URL")}),r.createElement("input",{className:"setting-single-noflex",type:"button",onClick:this.addUrl,disabled:!this.state.hasUrlInInput,value:l("Add")})));return o(t,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(11),o=n(2),a=i.createClass({displayName:"SpecificSessionItem",handleUrlChange:function(e){var t=this.props.urlItem;t.url=e.target.value,this.props.onSave(t)},render:function(){var e=i.createElement("div",{className:"setting-single"},i.createElement("input",{className:"edit",type:"text",ref:"editField",value:this.props.urlItem.url,onChange:this.handleUrlChange}),i.createElement("input",{type:"button",tabIndex:"-1",className:"circular clearkey",onClick:this.props.onDelete,title:o("Remove page")}));return r(e,this.props.filter)}});e.exports=a},function(e,t,n){"use strict";var i=n(1),r=n(11),o=n(25),a=n(357),s=n(9),l=n(2),u=n(7),c=i.createClass({displayName:"StartupSetting",mixins:[u],getInitialState:function(){return{STARTUP_OPTIONS:"last"}},componentWillMount:function(){s.importData.getStartupAction(function(e){this.setState({STARTUP_OPTIONS:e})}.bind(this))},saveStartup:function(e){var t=e.target.value;s.importData.setStartupAction(t,function(e){this.setState({STARTUP_OPTIONS:e})}.bind(this))},render:function(){var e="urls"===this.state.STARTUP_OPTIONS?i.createElement(a,this.props):null,t=i.createElement("span",null,i.createElement("div",{className:"setting-group"},i.createElement("h3",null,l("Startup with")),i.createElement(o,{
name:"startupSettings",ref:"startupSettingsGroup",value:this.state.STARTUP_OPTIONS,onChange:this.saveStartup},i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"last"}),i.createElement("span",null,l("Last Session")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"homepage"}),i.createElement("span",null,l("radio","Homepage")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"speeddial"}),i.createElement("span",null,l("radio","Start Page")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"urls"}),i.createElement("span",null,l("Specific Pages")))))),e);return r(t,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(1),o=n(12),a=n(2),s=n(359),l=n(176),u=n(351),c=r.createClass({displayName:"StartupSettingSection",componentDidUpdate:function(){o.findDOMNode(this.refs.startUp).style.display=o.findDOMNode(this.refs.defaultBrowser)||o.findDOMNode(this.refs.homepageSettings)||o.findDOMNode(this.refs.startupSettings)?"inline":"none"},render:function(){return r.createElement("span",{ref:"startUp"},r.createElement("h2",null,a("Startup")),r.createElement(l,i({},this.props,{ref:"defaultBrowser"})),r.createElement(u,i({},this.props,{ref:"homepageSettings"})),r.createElement(s,i({},this.props,{ref:"startupSettings"})))}});e.exports=c},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(25),a=n(4),s=n(10),l=n(2),u=n(11),c=r.createClass({displayName:"TabActivation",mixins:[s],vivaldiSettingsKeys:["TAB_CLOSE_ACTIVATION"],saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("span",null,r.createElement("div",{className:"setting-group"},r.createElement("div",{className:"setting-single"},r.createElement("h3",null,l("When Closing a Tab Activate")),r.createElement(o,{name:"tabActivate",ref:"newTabActivation",value:this.state.TAB_CLOSE_ACTIVATION,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_CLOSE_ACTIVATION","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"keep_relations"}),r.createElement("span",null,l("Next Related Tab")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"activation_order"}),r.createElement("span",null,l("Previous in Activation Order")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"right"}),r.createElement("span",null,l("Right")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"left"}),r.createElement("span",null,l("Left"))))))));return u(e,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(4),a=n(10),s=n(2),l=n(11),u=r.createClass({displayName:"TabColor",mixins:[a],vivaldiSettingsKeys:["USE_TABCOLOR","USE_TAB_TRANSPARENT_TABS"],saveVivaldiSettingFromEvent:function(e,t,n){o.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("div",{className:"setting-group"},r.createElement("div",{className:"setting-single"},r.createElement("h3",null,s("Tab Colors")),r.createElement("div",{className:"setting-single"},r.createElement("label",{title:s("Colors the active tab with the dominant color of the website you are viewing")},r.createElement("input",{type:"checkbox",checked:this.state.USE_TABCOLOR,onChange:this.saveVivaldiSettingFromEvent.bind(this,"USE_TABCOLOR","checked")}),r.createElement("span",null,s("Use Page Theme Color")))),r.createElement("div",{className:"setting-single"},r.createElement("label",{title:s("Removes the background color for the non-active tabs.")},r.createElement("input",{type:"checkbox",checked:this.state.USE_TAB_TRANSPARENT_TABS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"USE_TAB_TRANSPARENT_TABS","checked")}),r.createElement("span",null,s("Transparent Background Tabs"))))));return l(e,this.props.filter)}});e.exports=u},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(25),a=n(4),s=n(2),l=n(11),u=n(10),c=r.createClass({displayName:"TabCycling",mixins:[u],vivaldiSettingsKeys:["TAB_SWITCH_VISUAL","TAB_CYCLING_ORDER","MOUSE_WHEEL_TAB_SWITCHING","TAB_CLICK_ACTIVE_OPENS_PREVIOUS"],getInitialState:function(){return{tabCyclingOrderSetting:"recently used"}},saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("div",{className:"setting-group"},r.createElement("h3",{htmlFor:"tabSelection"},s("Tab Cycling")),r.createElement(o,{name:"tabCyclingOrder",ref:"tabSelGroup",value:this.state.TAB_CYCLING_ORDER,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_CYCLING_ORDER","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"recently used"}),r.createElement("span",null,s("Cycle in Recently Used Order")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"tab order"}),r.createElement("span",null,s("Cycle in Tab Order"))))),r.createElement("div",{className:"setting-single pad-top"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.TAB_SWITCH_VISUAL,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_SWITCH_VISUAL","checked")}),r.createElement("span",null,s("Show Tab Cycler")))),r.createElement("div",{className:"setting-single"},r.createElement("label",{title:s("Scroll over Tab Bar to switch tabs by order, or scroll anywhere else while holding ALT key to switch tabs per Tab Cycling setting.")},r.createElement("input",{type:"checkbox",checked:this.state.MOUSE_WHEEL_TAB_SWITCHING,onChange:this.saveVivaldiSettingFromEvent.bind(this,"MOUSE_WHEEL_TAB_SWITCHING","checked")}),r.createElement("span",null,s("Switch Tabs by Scrolling")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.TAB_CLICK_ACTIVE_OPENS_PREVIOUS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_CLICK_ACTIVE_OPENS_PREVIOUS","checked")}),r.createElement("span",null,s("Click Active Tab to Switch to Previous Tab")))));return l(e,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(25),a=n(4),s=n(10),l=n(2),u=n(11),c=r.createClass({displayName:"TabOpen",mixins:[s],vivaldiSettingsKeys:["TAB_NEW_PLACEMENT","TAB_CLONE_PLACEMENT"],saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("span",null,r.createElement("div",{className:"setting-group"},r.createElement("div",{className:"setting-single"},r.createElement("h3",null,l("New Tab Position")),r.createElement(o,{name:"tabOpen",value:this.state.TAB_NEW_PLACEMENT,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_NEW_PLACEMENT","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"alwayslast"}),r.createElement("span",null,l("Always Last")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"rightofcurrent"}),r.createElement("span",null,l("Next to Related Tabs")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"directrightofcurrent"}),r.createElement("span",null,l("Next to Tab"))))))),r.createElement("div",{className:"setting-group"},r.createElement("div",{className:"setting-single"},r.createElement("h3",null,l("Cloned Tab Position")),r.createElement(o,{name:"tabClone",value:this.state.TAB_CLONE_PLACEMENT,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_CLONE_PLACEMENT","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"alwayslast"}),r.createElement("span",null,l("Always Last")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"rightofcurrent"}),r.createElement("span",null,l("Right of Current Tab"))))))));return u(e,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(4),a=n(10),s=n(2),l=n(11),u=r.createClass({displayName:"TabPosition",mixins:[a],vivaldiSettingsKeys:["SWITCH_TABS_AT_WINDOW_EDGE","TAB_CLOSEBUTTON_ENABLED","TAB_UNREAD_ENABLED","TAB_THUMBNAILS_ENABLED","USE_TAB_CLOSE_ON_DOUBLECLICK","USE_TOOLTIP"],saveVivaldiSettingFromEvent:function(e,t,n){o.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("div",{className:"setting-group"},r.createElement("div",{className:"setting-single"},r.createElement("h3",null,s("Tab Options")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.USE_TOOLTIP,onChange:this.saveVivaldiSettingFromEvent.bind(this,"USE_TOOLTIP","checked")}),r.createElement("span",null,s("Show Popup Thumbnails")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.TAB_THUMBNAILS_ENABLED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_THUMBNAILS_ENABLED","checked")}),r.createElement("span",null,s("Show Tab Thumbnails")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.TAB_CLOSEBUTTON_ENABLED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_CLOSEBUTTON_ENABLED","checked")}),r.createElement("span",null,s("Display Close Button")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.USE_TAB_CLOSE_ON_DOUBLECLICK,onChange:this.saveVivaldiSettingFromEvent.bind(this,"USE_TAB_CLOSE_ON_DOUBLECLICK","checked")}),r.createElement("span",null,s("Close Tab on Double Click")))),"mac"!==this.props.platform&&r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.SWITCH_TABS_AT_WINDOW_EDGE,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SWITCH_TABS_AT_WINDOW_EDGE","checked"),disabled:"left"===this.state.TAB_POSITION||"right"===this.state.TAB_POSITION}),r.createElement("span",null,s("Remove Tab Spacing in Maximized Windows")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.TAB_UNREAD_ENABLED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_UNREAD_ENABLED","checked")}),r.createElement("span",null,s("Use Unread Indicators"))))));return l(e,this.props.filter)}});e.exports=u},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(25),a=n(4),s=n(10),l=n(2),u=n(11),c=r.createClass({displayName:"TabPinning",mixins:[s],vivaldiSettingsKeys:["CLOSABLE_PINNED_TABS"],saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("div",{className:"setting-group"},r.createElement("h3",null,l("Pinned Tabs")),r.createElement(o,{name:"closablePinnedTabs",value:this.state.CLOSABLE_PINNED_TABS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"CLOSABLE_PINNED_TABS","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"off"}),r.createElement("span",null,l("Don’t Close Pinned Tabs")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"on"}),r.createElement("span",null,l("Close as Other Tabs"))))));return u(e,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(25),a=n(4),s=n(10),l=n(2),u=n(11),c=r.createClass({displayName:"TabPosition",mixins:[s],vivaldiSettingsKeys:["TAB_POSITION","SHOW_TAB_BAR"],saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("div",{style:{display:"inline"}},r.createElement("div",{className:"setting-group unlimited"},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.SHOW_TAB_BAR,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SHOW_TAB_BAR","checked")}),r.createElement("span",null,l("Show Tab Bar"))))),r.createElement("div",{className:"setting-group"},r.createElement("div",{className:"setting-single"},r.createElement("h3",null,l("Tab Bar Position")),r.createElement(o,{name:"tabPosition",value:this.state.TAB_POSITION,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_POSITION","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"top"}),r.createElement("span",null,l("Top")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"left"}),r.createElement("span",null,l("Left Side")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"right"}),r.createElement("span",null,l("Right Side")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"bottom"}),r.createElement("span",null,l("Bottom"))))))));return u(e,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(4),a=n(10),s=n(2),l=n(11),u=r.createClass({displayName:"TabStacking",mixins:[a],vivaldiSettingsKeys:["TAB_STACKING","TAB_STACKING_OPEN_IN_CURRENT"],saveVivaldiSettingFromEvent:function(e,t,n){o.set(i({},e,n.target[t]))},handleChange:function(e){o.set({TAB_STACKING:e.target.checked?"on":"off"})},render:function(){var e=r.createElement("div",{className:"setting-group"},r.createElement("h3",null,s("Tab Stacking")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:"on"===this.state.TAB_STACKING,onChange:this.handleChange}),r.createElement("span",null,s("Enable Tab Stacking")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.TAB_STACKING_OPEN_IN_CURRENT,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_STACKING_OPEN_IN_CURRENT","checked")}),r.createElement("span",null,s("Open Tabs in Current Tab Stack")))));return l(e,this.props.filter)}});e.exports=u},function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(1),o=n(12),a=n(2),s=n(361),l=n(363),u=n(362),c=n(364),A=n(366),d=n(367),h=n(368),p=n(365),f=r.createClass({displayName:"TabsSettingSection",componentDidUpdate:function(){o.findDOMNode(this.refs.start).style.display=o.findDOMNode(this.refs.tabposition)||o.findDOMNode(this.refs.tabcycling)||o.findDOMNode(this.refs.taboopen)||o.findDOMNode(this.refs.tabpinning)||o.findDOMNode(this.refs.tabanimation)||o.findDOMNode(this.refs.tabcolor)||o.findDOMNode(this.refs.tabstacking)?"inline":"none"},render:function(){return r.createElement("div",{ref:"start"},r.createElement("h2",null,a("Tabs")),r.createElement(d,i({},this.props,{ref:"tabposition"})),r.createElement(c,i({},this.props,{ref:"tabopen"})),r.createElement(s,i({},this.props,{ref:"tabactivation"})),r.createElement("h2",null,a("Tab Display")),r.createElement(u,i({},this.props,{ref:"tabcolor"})),r.createElement(p,i({},this.props,{ref:"taboptions"})),r.createElement("h2",null,a("Tab Features")),r.createElement(l,i({},this.props,{ref:"tabcycling"})),r.createElement(h,i({},this.props,{ref:"tabstacking"})),r.createElement(A,i({},this.props,{ref:"tabpinning"})))}});e.exports=f},function(e,t,n){"use strict";var i=n(1),r=n(2),o=n(4),a=n(11),s=i.createClass({displayName:"Sync",getInitialState:function(){return{syncServices:[]}},changeSelection:function(e){var t=this.state.syncServices.map(function(t){return{id:t.id,name:t.name,selected:t.id===e?!t.selected:t.selected}});this.setState({syncServices:t},function(){o.set({SYNC_SETTINGS:t})})},componentWillMount:function(){o.get(["SYNC_SETTINGS"],function(e){this.setState({syncServices:e.SYNC_SETTINGS})}.bind(this))},selectAll:function(){var e=this.refs.selectAllRef.checked,t=this.state.syncServices.map(function(t){return{id:t.id,selected:e,name:t.name}});this.setState({syncServices:t},function(){o.set({SYNC_SETTINGS:t})})},render:function(){var e=this.state.syncServices.map(function(e){return i.createElement("div",{key:e.id,className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:e.selected,onChange:this.changeSelection.bind(this,e.id)}),i.createElement("span",null,e.name)))}.bind(this)),t=i.createElement("span",null,i.createElement("h2",null,r("Sync settings")),i.createElement("div",{className:"setting-group"},i.createElement("h3",null,r("Sync data across devices")),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",ref:"selectAllRef",onChange:this.selectAll}),i.createElement("span",null,r("All")))),e));return a(t,this.props.filter)}});e.exports=s},function(e,t,n){"use strict";var i=n(1),r=n(11),o=n(9),a=n(409),s=n(2),l=i.createClass({displayName:"TabZoom",getInitialState:function(){return{tabZoom:!1}},componentWillMount:function(){this.updateLocalState(),o.settings.onChanged.addListener(this.onDefaultTabZoomChanged)},componentWillUnmount:function(){o.settings.onChanged.removeListener(this.onDefaultTabZoomChanged)},updateLocalState:function(){var e=this;o.settings.getPreference(a.kVivaldiTabZoom,function(t){e.setState({tabZoom:t.preferenceValue["boolean"]})})},onDefaultTabZoomChanged:function(e){e.preferenceKey===a.kVivaldiTabZoom&&this.updateLocalState()},onZoomModeChange:function(e){var t=e.target.checked;this.setState({tabZoom:t});var n={preferenceKey:a.kVivaldiTabZoom,preferenceValue:{"boolean":t},preferenceType:"boolean"};o.settings.setPreference(n)},render:function(){var e=i.createElement("div",{className:"setting-group unlimited"},i.createElement("h3",null,s("Tab Zoom")),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.tabZoom,onChange:this.onZoomModeChange}),i.createElement("span",null,s("Use Tab Zoom"))),i.createElement("p",{className:"info"},s("Retain zoom level when navigating between websites"))));return r(e,this.props.filter)}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(11),o=n(25),a=n(9),s=n(2),l=i.createClass({displayName:"TabToLinksSetting",getInitialState:function(){return{tabsToLinks:!1}},componentWillMount:function(){var e=this;a.settings.getPreference("vivaldi.tabs_to_links",function(t){e.setState({tabsToLinks:t.preferenceValue["boolean"]})})},checkChange:function(e){var t=Boolean("true"===e.target.value),n={preferenceKey:"vivaldi.tabs_to_links",preferenceValue:{"boolean":t},preferenceType:"boolean"};a.settings.setPreference(n),this.setState({tabsToLinks:t})},render:function(){var e=i.createElement("div",{className:"setting-group unlimited"},i.createElement("div",{className:"setting-single"},i.createElement("h3",null,s("Webpage Focus")),i.createElement("p",{className:"info"},s("This setting takes effect in new tabs or windows only.")),i.createElement(o,{name:"keyAccessSetting",ref:"keyAccessGroup",className:"setting-single",value:this.state.tabsToLinks,onChange:this.checkChange},i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:!1}),i.createElement("span",null,s("Focus Forms Only")))),i.createElement("div",{className:"setting-single"},i.createElement("label",{className:"setting-single"},i.createElement("input",{type:"radio",value:!0}),i.createElement("span",null,s("Focus All Controls and Links")))))));return r(e,this.props.filter)}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(9),o=n(2),a=n(11),s=i.createClass({displayName:"SmoothScrollingSetting",getInitialState:function(){return{smoothScrollingEnabled:!0}},componentWillMount:function(){var e=this;r.settings.getPreference("smooth_scrolling_enabled",function(t){e.setState({smoothScrollingEnabled:t.preferenceValue["boolean"]})})},checkChange:function(){var e={preferenceKey:"smooth_scrolling_enabled",preferenceValue:{"boolean":!this.state.smoothScrollingEnabled},preferenceType:"boolean"};r.settings.setPreference(e),this.setState({smoothScrollingEnabled:!this.state.smoothScrollingEnabled})},render:function(){var e=i.createElement("div",{className:"setting-group unlimited"},i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.smoothScrollingEnabled,onChange:this.checkChange}),i.createElement("span",null,o("Smooth Scrolling"))),i.createElement("p",{className:"info"},o("This setting requires a restart to take full effect."))));return a(e,this.props.filter)}});e.exports=s},function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(1),o=n(12),a=n(2),s=n(373),l=n(372),u=r.createClass({displayName:"WebpagesSettingSection",componentDidUpdate:function(){o.findDOMNode(this.refs.webpages).style.display=o.findDOMNode(this.refs.smoothScrolling)||o.findDOMNode(this.refs.tabToLinks)?"inline":"none"},render:function(){return r.createElement("div",{ref:"webpages"},r.createElement("h2",null,a("Webpages")),r.createElement(s,i({},this.props,{ref:"smoothScrolling"})),r.createElement(l,i({},this.props,{ref:"tabToLinks"})))}});e.exports=u},function(e,t,n){"use strict";var i=n(1),r=n(6),o=i.createClass({displayName:"SpeedDialAddButton",render:function(){return i.createElement("div",{className:r({dial:!0,add:!0,active:this.props.drawerIsOpen})},i.createElement("button",{ref:"openAddSpeedDial",className:"dial-image",title:this.props.title,onClick:this.props.handleClick}))}});e.exports=o},function(e,t,n){"use strict";var i=n(1),r=n(12),o=n(72),a=n(54),s=n(5),l=n(377),u=n(34).ensureURLProtocol,c=n(52),A=n(34).isValidURL,d=n(3),h=n(9),p=n(2),f=s.CHANGED,m=i.createClass({displayName:"SpeedDialDrawer",getInitialState:function(){return{addSpeedDialTitle:"",isSpeedDialURLValid:!1}},componentDidMount:function(){r.findDOMNode(this.refs.urlField).focus(),a.addListener(f,this._onUrlbarStoreChanged)},componentWillUnmount:function(){a.removeListener(f,this._onUrlbarStoreChanged)},_onUrlbarStoreChanged:function(){var e=a.getUrlfieldStateFromId("speedDialDrawer");this.setState(e),this.onUrlFieldChanged()},addSpeedDialFolder:function(){var e={parentId:this.props.node.id,title:p("New Folder")};d.bookmarks.create(e,function(e){d.runtime.lastError&&console.warn("The computer tried to create a speed dial folder, but The Bookmark API said no. ",d.runtime.lastError.message),this.props.setSpeedDialAwaitingEdit(e.id),this.toggleStartpageDrawer(!1)}.bind(this))},toggleStartpageDrawer:function(e){this.props.toggleStartpageDrawer(!1)},drawerSubmitHandler:function(e){e.stopPropagation(),e.preventDefault();var t=(this.state.editUrl||this.state.url||"").trim();0!==t.length&&(t=u(t),this.addSpeedDial(this.state.editUrl,this.state.editUrl),this.setState({editUrl:""}))},addSpeedDial:function(e,t){var n={parentId:this.props.node.id,title:e,url:u(t)},i="chrome://thumb/"+u(t);h.thumbnails.isThumbnailAvailable("",i,function(e){e.hasThumbnail&&(n.thumbnail=e.thumbnailUrl),d.bookmarks.create(n,function(e){d.runtime.lastError&&console.warn("The computer tried to create a speed dial, but The Bookmark API said no. ",d.runtime.lastError.message),e&&c.updateBookmarkThumbnail(e)})}),this.toggleStartpageDrawer(!1)},isSpeedDialURLValid:function(){var e=this.refs.urlField&&r.findDOMNode(this.refs.urlField)&&r.findDOMNode(this.refs.urlField).value.trim();return A(u(e))},onUrlFieldChanged:function(e){this.setState({isSpeedDialURLValid:this.isSpeedDialURLValid()})},render:function(){return i.createElement("aside",{key:"drawer",className:"startpage-drawer"},i.createElement("section",{className:"drawer-adddial"},i.createElement("header",null,i.createElement("h2",null,p("Add Bookmark"))),i.createElement("form",{className:"drawer-addform",onSubmit:this.drawerSubmitHandler},i.createElement(o,{ref:"urlField",className:"address",editUrl:this.state.editUrl,autocompletionEnabled:!0,selectionStart:this.state.selectionStart,selectionEnd:this.state.selectionEnd,pageId:"speedDialDrawer",onUrlFieldChanged:this.onUrlFieldChanged,title:p("Enter page address"),triggerTypedHistory:!1}),i.createElement("input",{className:"add-dial-submit primary",type:"submit",disabled:!this.state.isSpeedDialURLValid,value:p("Add")})),i.createElement("div",{className:"toolbar icons"},i.createElement("button",{className:"button-toolbar folder flex",onClick:this.addSpeedDialFolder},i.createElement("span",{dangerouslySetInnerHTML:{__html:n(101)}}),i.createElement("span",{className:"buttontext"},p("New Folder"))))),i.createElement(l,{toggleStartpageDrawer:this.toggleStartpageDrawer,node:this.props.node}))}});e.exports=m},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(9),a=n(34).ensureURLProtocol,s=n(34).isInternalURL,l=n(34).isIgnoredURL,u=n(52),c=n(2),A=i.createClass({displayName:"SpeedDialAddContent",getInitialState:function(){return{suggestions:[]}},propTypes:{node:i.PropTypes.object.isRequired},componentWillMount:function(){this.updateSuggestions()},updateSuggestions:function(e){r.topSites.get(function(e){this.setState({suggestions:e.filter(function(e){return!(s(e.url)||l(e.url))})})}.bind(this))},addSpeedDial:function(e,t){var n={parentId:this.props.node.id,title:e,url:a(t)},i="chrome://thumb/"+a(t);o.thumbnails.isThumbnailAvailable("",i,function(e){e.hasThumbnail&&(n.thumbnail=e.thumbnailUrl),r.bookmarks.create(n,function(e){r.runtime.lastError&&console.warn("The computer tried to create a speed dial, but The Bookmark API said no. ",r.runtime.lastError.message),e&&u.updateBookmarkThumbnail(e)})}),this.toggleStartpageDrawer(!1)},toggleStartpageDrawer:function(e){this.props.toggleStartpageDrawer(e)},render:function(){return i.createElement("section",{className:"drawer-suggestions"},i.createElement("header",null,i.createElement("h2",null,c("Suggestions")),i.createElement("button",{className:"close",tabIndex:"-1",onClick:this.toggleStartpageDrawer.bind(this,!1)})),i.createElement("div",{className:"dials dial-suggestions"},this.state.suggestions&&this.state.suggestions.length?this.state.suggestions.map(function(e,t){return i.createElement("div",{key:t,className:"dial",title:e.title,onClick:this.addSpeedDial.bind(this,e.title,e.url),"data-dialurl":e.url},i.createElement("div",{className:"dial-image",style:{backgroundImage:"url(chrome://thumb/"+a(e.url)+")"}}),i.createElement("div",{className:"dial-title"},e.title))},this):i.createElement("p",null,c("No history to choose from yet."))))}});e.exports=A},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(12),a=n(66),s=n(7),l=n(379),u=n(375),c=n(2),A=n(6),d=n(3),h=n(5),p=n(47),f=n(52),m=n(40),g=["SPEEDDIAL_TITLES_VISIBLE","SPEEDDIAL_ADDBUTTON_VISIBLE","SPEEDDIAL_COLS","USE_ANIMATION"],v=null,E=r.createClass({displayName:"SpeedDialView",mixins:[a,s],propTypes:{openSpeedDialNode:r.PropTypes.func,speedDialNode:r.PropTypes.object,speedDialSetNode:r.PropTypes.object,drawerIsOpen:r.PropTypes.bool,isAnimating:r.PropTypes.bool,isActive:r.PropTypes.bool,columnBas:r.PropTypes.number,open:r.PropTypes.bool,toggleStartpageDrawer:r.PropTypes.func.isRequired,awaitingInitialEditId:r.PropTypes.string},getInitialState:function(){return{showDialOverlay:!1}},componentWillMount:function(){p.addChangeListener(this._onWebpageViewStoreChanged)},componentWillUnmount:function(){p.removeChangeListener(this._onWebpageViewStoreChanged)},_onWebpageViewStoreChanged:function(e){e.type===h.PAGE_RELOAD&&this.handleUpdateThumbnailFolder(this.props.speedDialNode.id)},componentDidUpdate:function(){var e=function(t){"transform"===t.propertyName&&this._temporaryAnimationEl&&(this._temporaryAnimationEl.removeEventListener("webkitTransitionEnd",e),o.unmountComponentAtNode(this._temporaryAnimationEl),this._temporaryAnimationEl.parentNode.removeChild(this._temporaryAnimationEl),this._temporaryAnimationEl=null,this._animateBackward=!1)}.bind(this);this._temporaryAnimationEl&&(this._temporaryAnimationEl.addEventListener("webkitTransitionEnd",e),this._animateBackward===!0?o.findDOMNode(this).classList.add("pause-animations","animateFront"):o.findDOMNode(this).classList.add("pause-animations","animateBack"),setTimeout(function(){this._temporaryAnimationEl&&(this._animateBackward===!0?(o.findDOMNode(this).classList.remove("pause-animations","animateFront"),this._temporaryAnimationEl.firstChild.classList.add("animateBack")):(o.findDOMNode(this).classList.remove("pause-animations","animateBack"),this._temporaryAnimationEl.firstChild.classList.add("animateFront")))}.bind(this),5))},_temporaryAnimationEl:null,_animateBackward:!1,componentWillReceiveProps:function(e){var t=this;this.props.speedDialSetNode&&this.props.speedDialNode&&e.speedDialSetNode&&e.speedDialNode&&this.props.speedDialSetNode.id===e.speedDialSetNode.id&&this.props.speedDialNode.id!==e.speedDialNode.id&&this.props.vivaldiSettings.USE_ANIMATION&&(this.props.speedDialNode.id===e.speedDialNode.parentId?this._saveCloneForAnimation():e.speedDialNode.children&&e.speedDialNode.children.find(function(e){return e.id===t.props.speedDialNode.id})&&(this._saveCloneForAnimation(),this._animateBackward=!0))},_saveCloneForAnimation:function(){if(o.findDOMNode(this)&&(v&&!this.refs.rootElement&&(this.refs.rootElement=v),this.refs.rootElement)){var e=this.refs.rootElement._reactInternalComponent._currentElement;e&&v!==e&&(v=this.refs.rootElement);var t=r.cloneElement(e,e.props);this._temporaryAnimationEl=document.createElement("div"),o.render(t,this._temporaryAnimationEl),o.findDOMNode(this).parentNode.appendChild(this._temporaryAnimationEl)}},onDragOverHandler:function(e){e.preventDefault(),e.stopPropagation()},createSpeedDial:function(e){d.bookmarks.create({parentId:this.state.node.id,url:this.state.addDialogURL,title:"Placeholder Title"})},openSpeedDialNode:function(e,t){this.props.openSpeedDialNode(e,t)},openParentNode:function(e){
d.bookmarks.getSubTree(this.props.speedDialNode.parentId,function(e){if(d.runtime.lastError)return void console.warn("Error Removing: The bookmark for speed dial `"+this.props.title+"` does not exist!");var t=e[0];t&&this.openSpeedDialNode(t)}.bind(this))},isTopLevel:function(){return!this.props.speedDialNode||!this.props.speedDialSetNode||this.props.speedDialNode.id===this.props.speedDialSetNode.id},renderNavigation:function(){return this.isTopLevel()?null:r.createElement("nav",{className:"startpage-folder-navigation"},r.createElement("button",{onClick:this.openParentNode,title:c("Show Parent Folder"),"data-name":"up-button",className:"button-startpage up"},this.props.speedDialNode.title))},handleUpdateThumbnailFolder:function(e){d.bookmarks.getChildren(e,function(e){return e.forEach(f.updateBookmarkThumbnail.bind(f))})},getSpeedDialColumns:function(){var e=this.props.vivaldiSettings.SPEEDDIAL_COLS;return this.props.columnBase>=1600&&e>5?"cols6":this.props.columnBase>=1350&&e>4?"cols5":this.props.columnBase>=1100&&e>3?"cols4":this.props.columnBase>=850&&e>2?"cols3":this.props.columnBase>=600&&e>1?"cols2":"cols1"},render:function(){var e=this.props.vivaldiSettings;if(this.props.open===!1||void 0===e.SPEEDDIAL_COLS)return null;var t=this.props.speedDialNode&&this.props.speedDialNode.children||[],n=t.map(function(e,t){return r.createElement(l,{key:t+"-"+e.id+"-"+(e.dateGroupModified||""),node:e,openSpeedDialNode:this.props.openSpeedDialNode,awaitingInitialEditId:this.props.awaitingInitialEditId,setSpeedDialAwaitingEdit:this.props.setSpeedDialAwaitingEdit})},this),o=this.props.speedDialSet.length>0,a=A(i({dials:!0,"sd-titles-onhover":"hover"===e.SPEEDDIAL_TITLES_VISIBLE,speeddial:!0},this.getSpeedDialColumns(),!0));return r.createElement("span",null,this.renderNavigation(),r.createElement("div",{className:a,ref:"rootElement"},n,e.SPEEDDIAL_ADDBUTTON_VISIBLE&&r.createElement(u,{drawerIsOpen:this.props.drawerIsOpen,title:c(o?"Add Bookmark":"First add a new Speed Dial folder"),handleClick:o?this.props.toggleStartpageDrawer:this.props.createSpeedDialSet})))}});e.exports=m(E,g)},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(183),a=n(290),s=n(177),l=n(14),u=n(61),c=n(91),A=n(52),d=n(10),h=n(2),p=n(3),f=n(6),m=n(21),g=i.createClass({displayName:"SpeedDial",mixins:[d,r],focusedElement:null,vivaldiSettingsKeys:["SPEEDDIAL_TITLES_VISIBLE","SHOW_VIVALDI_FOOTER"],propTypes:{openSpeedDialNode:i.PropTypes.func.isRequired,node:i.PropTypes.object.isRequired},getInitialState:function(){return{updating:A.isBookmarkThumbnailCapture(this.props.node.id),mouseIsDown:!1}},componentWillMount:function(){o.addChangeListener(this.onBackgroundTaskStoreChange)},componentWillUnmount:function(){o.removeChangeListener(this.onBackgroundTaskStoreChange)},isFolder:function(){return!this.props.node.url},isBookmark:function(){return!this.isFolder()},handleRemoveDial:function(e){e&&e.stopPropagation(),this.props.node.title&&this.props.node.url?p.bookmarks.remove(this.props.node.id,function(){p.runtime.lastError&&console.warn("Error Removing: The bookmark for speed dial `"+this.props.title+"` does not exist!")}.bind(this)):p.bookmarks.removeTree(this.props.node.id,function(){p.runtime.lastError&&console.warn("Error removing bookmark folder: "+this.props.node.id)}.bind(this))},handleUpdateThumbnail:function(e){e&&"function"==typeof e.stopPropagation&&e.stopPropagation(),A.updateBookmarkThumbnail(this.props.node)},onBackgroundTaskStoreChange:function(e,t){this.isMounted()&&this.setState({updating:A.isBookmarkThumbnailCapture(this.props.node.id)})},openSpeedDialNodeHandler:function(e,t){var n="MacIntel"===navigator.platform?t.metaKey:t.ctrlKey,i=!1,r=!1;return t.shiftKey&&!t.altKey&&n?void l.openWindow(e.url,{incognito:!1}):(!t.shiftKey||t.altKey||n?t.shiftKey||t.altKey||!n?1===t.button&&(i=!0,r=!0):(i=!0,r=!0):i=!0,void this.openSpeedDialNode(e,{openInBackground:r,openInNewTab:i}))},openSpeedDialNode:function(e,t){this.props.openSpeedDialNode(e,t)},handleMouseEnter:function(e){u.setStatus(this.props.node.url)},handleMouseLeave:function(e){u.clearStatus()},draggableMoveHandler:function(e,t,n){n=n||{},n.isOver||p.bookmarks.get(t,function(i){p.bookmarks.getChildren(i[0].parentId,function(i){var r;for(r=0;r<i.length&&i[r].id!==t;r++);n.isLeftOf||r++,p.bookmarks.move(e,{index:r},function(e){p.runtime.lastError&&console.warn("Error moving bookmark: ",p.runtime.lastError)}.bind(this))})})},mouseDownHandler:function(e){1===e.button&&(-1!==navigator.platform.indexOf("Linux")?this.focusedElement=document.activeElement:(e.preventDefault(),e.stopPropagation())),this.setState({mouseIsDown:!0})},mouseUpHandler:function(){this.setState({mouseIsDown:!1}),this.focusedElement&&setTimeout(function(){this.focusedElement.focus(),this.focusedElement=null}.bind(this),1)},getContextMenuItems:function(e){return[{name:h("Open"),handler:this.openSpeedDialNode.bind(this,e),visible:this.isBookmark()},{name:h("Open in New Tab"),handler:this.openSpeedDialNode.bind(this,e,{openInNewTab:!0}),visible:this.isBookmark()},{name:h("Open in Background Tab"),handler:this.openSpeedDialNode.bind(this,e,{openInNewTab:!0,openInBackground:!0}),visible:this.isBookmark()},{name:"---"},{name:h("Open in New Window"),handler:this.openSpeedDialNode.bind(this,e,{openInNewWindow:!0}),visible:this.isBookmark()},{name:h("Open in Private Window"),handler:this.openSpeedDialNode.bind(this,e,{openInNewWindow:!0,incognito:!0}),visible:this.isBookmark()},{name:"---"},{name:h("Open all Speed Dials"),handler:this.openSpeedDialNode.bind(this,e,{openInBackground:!0}),visible:this.isFolder()},{name:"---"},{name:h("Reload"),handler:this.handleUpdateThumbnail,visible:this.isBookmark()},{name:h("other","Delete"),handler:this.handleRemoveDial}]},render:function(){var e=this.props.node,t="off"===this.state.SHOW_VIVALDI_FOOTER;return i.createElement(a,{tabIndex:"0",ref:"draggable",dragId:this.props.node.id,onDraggableMove:this.draggableMoveHandler,onContextMenu:m(this.getContextMenuItems.bind(this,e)),dragImageSrc:"/resources/drag-and-drop.png",className:f({draggable:!0,dial:!0,clicked:this.state.mouseIsDown,folder:Boolean(this.props.node.children)})},i.createElement("div",{ref:"thumbnail",className:"dial-image",title:t?this.props.node.url:null,onMouseEnter:t?null:this.handleMouseEnter,onMouseLeave:t?null:this.handleMouseLeave,onMouseDown:this.mouseDownHandler,onMouseUp:this.mouseUpHandler,onClick:this.openSpeedDialNodeHandler.bind(this,e)},Boolean(this.props.node.children)&&i.createElement("div",{className:"dial-folder-icon",dangerouslySetInnerHTML:{__html:n(205)}}),i.createElement(c,{key:e.id,src:e.thumbnail,altSrc:""})),"never"!==this.state.SPEEDDIAL_TITLES_VISIBLE&&i.createElement(s,{howToEdit:"click",className:"button-title",setSpeedDialAwaitingEdit:this.props.setSpeedDialAwaitingEdit,needsInitialEdit:this.props.awaitingInitialEditId===this.props.node.id,bookmark:this.props.node}),e.url&&i.createElement("button",{tabIndex:"-1",onClick:this.handleUpdateThumbnail,className:f({circular:!0,"update-thumbnail":!0,updating:this.state.updating}),disabled:!!this.state.updating,title:h("Update thumbnail")}),i.createElement("button",{tabIndex:"-1",onClick:this.handleRemoveDial,title:h("other","Delete"),className:"close circular"}))}});e.exports=g},function(e,t,n){"use strict";var i=n(1),r=n(177),o=n(178),a=n(2),s=n(6),l=i.createClass({displayName:"StartPageTopMenu",getInitialState:function(){return{}},propTypes:{openMenuItem:i.PropTypes.func,createSpeedDialSet:i.PropTypes.func,section:i.PropTypes.string,speedDialSet:i.PropTypes.array,speedDialSetNode:i.PropTypes.object},openMenuItem:function(e,t,n){this.props.openMenuItem(e,t,n)},render:function(){return i.createElement("nav",{className:"startpage-navigation"},i.createElement("div",{className:"startpage-navigation-group"},this.props.speedDialSet.map(function(e,t){var n=this.props.section===o.SpeedDial&&this.props.speedDialSetNode&&this.props.speedDialSetNode.id===e.id;return i.createElement(r,{className:s({active:n,"button-startpage":!0}),key:e.id,tabIndex:"0",bookmark:e,howToEdit:"doubleClick",onSelect:this.openMenuItem.bind(this,o.SpeedDial,e),needsInitialEdit:this.props.initialEditSpeedDialSet===e.id})},this),i.createElement("button",{onClick:this.props.createSpeedDialSet,className:"button-startpage add-set",title:a("Add new Speed Dial folder"),dangerouslySetInnerHTML:{__html:n(528)}})),i.createElement("div",{className:"startpage-navigation-group"},i.createElement("button",{onClick:this.openMenuItem.bind(this,o.Bookmarks,null),title:a("Bookmarks"),className:s({"button-startpage":!0,active:this.props.section===o.Bookmarks})},a("Bookmarks"))),i.createElement("div",{className:"startpage-navigation-group"},i.createElement("button",{onClick:this.openMenuItem.bind(this,o.History,null),title:a("History"),className:s({"button-startpage":!0,active:this.props.section===o.History})},a("History"))))}});e.exports=l},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(12),a=n(546),s=n(7),l=n(130),u=n(3),c=n(178),A=n(14),d=n(380),h=n(378),p=n(376),f=n(261),m=n(53),g=n(41),v=n(295),E=n(6),_=n(21),S=n(40),y=n(26),b=n(2),C="1",I=["BROWSER_FG_COLOR","STARTPAGE_BG_COLOR","STARTPAGE_BG_COLOR_USER_DEFINED","STARTPAGE_FG_COLOR","STARTPAGE_SHOW_IMAGE","STARTPAGE_IMAGE","STARTPAGE_IMAGE_USER_DEFINED","STARTPAGE_IMAGE_STRETCH","STARTPAGE_IMAGE_REPEAT","SPEEDDIAL_ADDBUTTON_VISIBLE"],T=r.createClass({displayName:"StartPage",mixins:[s],getInitialState:function(){var e=m.getSpeeddialNodes(),t=e&&e[0]||null,n=void 0;return n="bookmarks"===this.props.view?c.Bookmarks:"history"===this.props.view?c.History:c.SpeedDial,{section:n,speeddialNodes:e,menuSpeeddial:t,currentSpeeddial:t,bookmarkRoot:m.getBookmarksRootNode(),drawerIsOpen:!1,awaitingInitialEditId:null,contentIsScrolled:!1,scrollPosition:null,uiresize:window.innerWidth-g.getPanelWidth()}},componentWillMount:function(){m.addChangeListener(this._onStoreChange)},componentWillUnmount:function(){m.removeChangeListener(this._onStoreChange),y.unbind("esc",this.closeDrawerOnEsc)},onFocus:function(){y.bind("esc",this.closeDrawerOnEsc)},onBlur:function(){y.unbind("esc",this.closeDrawerOnEsc)},_onStoreChange:function(){var e=m.getSpeeddialNodes(),t=e.length?e[0]:null,n=t,i=void 0,r=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0)i=s.value,this.getUpdatedNode(i,this.state.currentSpeeddial)&&(n=this.getUpdatedNode(i,this.state.currentSpeeddial)),this.getUpdatedNode(i,this.state.menuSpeeddial)&&(t=this.getUpdatedNode(i,this.state.menuSpeeddial))}catch(u){o=!0,a=u}finally{try{!r&&l["return"]&&l["return"]()}finally{if(o)throw a}}this.setState({speeddialNodes:e,menuSpeeddial:t,currentSpeeddial:n})},getUpdatedNode:function O(e,t){if(e&&e.id&&t&&t.id){if(e.id===t.id)return e;if(e.children){for(var n=0;n<e.children.length;n++){var i=O(e.children[n],t);if(i&&i.id===t.id)return i}return null}return null}return null},onResize:function(e){this.setState({uiresize:Math.floor(e.width)})},closeDrawerOnEsc:function(e){e.preventDefault(),e.stopPropagation(),this.state.drawerIsOpen&&this.toggleStartpageDrawer(!1)},onScrollHandler:function(){if(this.refs.sdWrapper){var e=o.findDOMNode(this.refs.sdWrapper).scrollTop;this.setState({contentIsScrolled:e>50,scrollPosition:e})}},toggleStartpageDrawer:function(e){var t="boolean"==typeof e?e:!this.state.drawerIsOpen;this.setState({drawerIsOpen:t})},createSpeedDialSet:function(){u.bookmarks.create({parentId:C,title:b("New Folder")},function(e){u.bookmarks.update(e.id,{speeddial:!0},function(e){this.setState({initialEditSpeedDialSet:e.id}),this.openMenuItem(c.SpeedDial,e)}.bind(this))}.bind(this))},openMenuItem:function(e,t,n){this.props.updatePageThumbnailWithActiveWebview(this.props.page,1e3);var i=t&&t.id&&t;this.setState({section:e,menuSpeeddial:i,currentSpeeddial:i})},isFolder:function(e){return!e.url},openFolder:function(e,t){t=t||{},t.openInBackground===!0?u.bookmarks.getChildren(e.id,function(e){e.forEach(function(e){A.openURL(e.url,{inCurrent:!1,inBackground:!0})})}):(this.setState({currentSpeeddial:e}),o.findDOMNode(this.refs.sdWrapper).scrollTop=0)},openSpeedDialNode:function(e,t){t=t||{},this.isFolder(e)?this.openFolder(e,t):t.openInNewWindow?A.openWindow(e.url,{incognito:t.incognito}):A.openURL(e.url,{inCurrent:!t.openInNewTab,inBackground:t.openInBackground,bookmarkId:e.id,addOpenerTabId:!0})},setSpeedDialAwaitingEdit:function(e){this.setState({awaitingInitialEditId:e})},getStartpageStyle:function(){var e={bgColor:this.props.vivaldiSettings.STARTPAGE_BG_COLOR,bgColorUser:this.props.vivaldiSettings.STARTPAGE_BG_COLOR_USER_DEFINED,imageStretch:this.props.vivaldiSettings.STARTPAGE_IMAGE_STRETCH,imageRepeat:this.props.vivaldiSettings.STARTPAGE_IMAGE_REPEAT,showImage:this.props.vivaldiSettings.STARTPAGE_SHOW_IMAGE,imageUrl:this.props.vivaldiSettings.STARTPAGE_IMAGE,imageUrlUser:this.props.vivaldiSettings.STARTPAGE_IMAGE_USER_DEFINED},t="user_defined"===e.bgColor?e.bgColorUser:e.bgColor,n=e.imageStretch?"cover":"auto",i=e.imageRepeat?"repeat":"no-repeat",r="url(data:image/gif;base64,R0lGODlhAQABAAAAACwAAAAAAQABAAA=)";return e.showImage&&"user_defined"===e.imageUrl?r="url("+e.imageUrlUser+")":e.showImage&&(r="url("+e.imageUrl+")"),{backgroundColor:t,backgroundImage:r,backgroundSize:n,backgroundRepeat:i}},renderSpeedDial:function(){return r.createElement(h,{speedDialNode:this.state.currentSpeeddial,speedDialSetNode:this.state.menuSpeeddial,speedDialSet:this.state.speeddialNodes,toggleStartpageDrawer:this.toggleStartpageDrawer,createSpeedDialSet:this.createSpeedDialSet,drawerIsOpen:this.state.drawerIsOpen,isActive:!0,columnBase:this.state.uiresize,open:!0,openSpeedDialNode:this.openSpeedDialNode,setSpeedDialAwaitingEdit:this.setSpeedDialAwaitingEdit,awaitingInitialEditId:this.state.awaitingInitialEditId})},renderSection:function(){return this.state.section===c.Bookmarks?r.createElement(f,null):this.state.section===c.History?r.createElement(v,{page:this.props.page}):this.state.section===c.SpeedDial?this.renderSpeedDial():(console.warn("Unknown Startpage Section: ",this.state.section),null)},getContextMenuItems:function(){return[{name:b("Add Bookmark to Speed Dial"),handler:this.toggleStartpageDrawer,visible:!this.state.drawerIsOpen}]},render:function(){var e;if(!this.props.open)return null;var t=Boolean(this.props.vivaldiSettings.STARTPAGE_FG_COLOR),n=this.state.speeddialNodes.length>0?this.toggleStartpageDrawer:this.createSpeedDialSet;return r.createElement("div",{key:this.props.id,ref:"startpage",tabIndex:"0",onFocus:this.onFocus,onBlur:this.onBlur,style:this.getStartpageStyle(),className:E((e={startpage:!0},i(e,this.props.vivaldiSettings.BROWSER_FG_COLOR,!t),i(e,this.props.vivaldiSettings.STARTPAGE_FG_COLOR,t),i(e,"scrolled",this.state.contentIsScrolled),e))},r.createElement(d,{openMenuItem:this.openMenuItem,section:this.state.section,speedDialSet:this.state.speeddialNodes,speedDialSetNode:this.state.menuSpeeddial,createSpeedDialSet:this.createSpeedDialSet,initialEditSpeedDialSet:this.state.initialEditSpeedDialSet}),r.createElement("div",{ref:"startpageContent",className:"startpage-content",onContextMenu:this.state.section===c.SpeedDial&&_(this.getContextMenuItems),onDoubleClick:this.state.section===c.SpeedDial&&!this.props.vivaldiSettings.SPEEDDIAL_ADDBUTTON_VISIBLE&&n},r.createElement(l,{embedCss:!1,onResize:this.onResize,onScroll:this.onScrollHandler,className:"sdwrapper",ref:"sdWrapper"},this.renderSection())),r.createElement(a,{transitionEnterTimeout:500,transitionLeaveTimeout:200,transitionName:"startpage-drawer-transition",component:"div",className:"startpage-drawer-wrapper"},this.state.drawerIsOpen&&r.createElement(p,{key:"drawer-"+this.props.id,node:this.state.currentSpeeddial,setSpeedDialAwaitingEdit:this.setSpeedDialAwaitingEdit,toggleStartpageDrawer:this.toggleStartpageDrawer})))}});e.exports=S(T,I)},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(19),a=n(31),s=n(6),l=n(2),u=n(9),c=n(3),A=i.createClass({displayName:"ToggleImages",mixins:[a,r],getInitialState:function(){return{pageId:-1,showImages:!0,loadFromCacheOnly:!1,drawerOpen:!1}},componentWillReceiveProps:function(e){e.activePage&&e.activePage!==this.props.activePage&&this.onWebviewPageIDChanged(e.activePage.get("id"))},componentDidUpdate:function(e,t){t.drawerOpen===!0&&this.state.drawerOpen===!1?this.disableOnClickOutside():t.drawerOpen===!1&&this.state.drawerOpen===!0&&this.enableOnClickOutside()},onWebviewPageIDChanged:function(e){var t=this;e&&u.tabsPrivate.get(e,function(n){c.runtime.lastError||n&&t.setState({showImages:n.showImages,loadFromCacheOnly:n.loadFromCacheOnly,pageId:e})})},onShowAll:function(){this.updatePageImageState(!0,!1,!0),this.setState({drawerOpen:!1})},onShowCached:function(){this.updatePageImageState(!0,!0,!0),this.setState({drawerOpen:!1})},onHideAll:function(){this.updatePageImageState(!1,!1,!1),this.setState({drawerOpen:!1})},updatePageImageState:function(e,t,n){this.setState({showImages:e,loadFromCacheOnly:t});var i=o.getActivePage();i&&u.tabsPrivate.update(i.get("id"),{showImages:e,loadFromCacheOnly:t,enablePlugins:n})},handleClickOutside:function(){this.setState({drawerOpen:!1})},onToggleOpenImageActions:function(){this.setState({drawerOpen:!this.state.drawerOpen})},render:function(){var e=this.state.showImages&&!this.state.loadFromCacheOnly,t=!this.state.showImages&&!this.state.loadFromCacheOnly,n=this.state.showImages&&this.state.loadFromCacheOnly,r=s({"button-toolbar-small":!0,"image-action":!0,disabled:this.props.disabled,noimages:t&&!this.props.disabled,cachedimages:n&&!this.props.disabled});return i.createElement("span",{title:l("Toggle images"),className:"imageactions",ref:"imageactions"},i.createElement("button",{className:r,tabIndex:this.props.keyAccess,onClick:this.onToggleOpenImageActions,disabled:this.props.disabled}),this.state.drawerOpen&&i.createElement("div",{className:"callout"},i.createElement("form",null,i.createElement("ul",null,i.createElement("li",null,i.createElement("label",null,i.createElement("input",{type:"radio",name:"toggle-images-group",checked:e,autoFocus:e,onChange:this.onShowAll}),l("Show Images"))),i.createElement("li",null,i.createElement("label",null,i.createElement("input",{type:"radio",name:"toggle-images-group",checked:n,autoFocus:n,onChange:this.onShowCached}),l("Show only cached Images"))),i.createElement("li",null,i.createElement("label",null,i.createElement("input",{type:"radio",name:"toggle-images-group",checked:t,autoFocus:t,onChange:this.onHideAll}),l("No Images")))))))}});e.exports=A},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(7),a=n(19),s=n(14),l=n(31),u=n(29),c=n(2),A=n(6),d=r.createClass({displayName:"ToggleTiling",mixins:[o,l],propTypes:{page:r.PropTypes.instanceOf(u.Map).isRequired,groupPages:r.PropTypes.instanceOf(u.List).isRequired,tilePages:r.PropTypes.instanceOf(u.List).isRequired,isSelecting:r.PropTypes.bool.isRequired,pageSelection:r.PropTypes.instanceOf(u.Set).isRequired},getInitialState:function(){return{drawerOpen:!1}},componentWillReceiveProps:function(e){this.props.page.get("id")!==e.page.get("id")&&this.closeDrawer()},componentDidUpdate:function(e,t){t.drawerOpen===!0&&this.state.drawerOpen===!1?this.disableOnClickOutside():t.drawerOpen===!1&&this.state.drawerOpen===!0&&this.enableOnClickOutside()},closeDrawer:function(){this.setState({drawerOpen:!1})},toggleDrawer:function(){this.setState({drawerOpen:!this.state.drawerOpen})},setTiling:function(e){var t=this,n=this.props.page.getIn(["extData","group"]);if(this.props.pageSelection.count()>1){var i=this.props.pageSelection.map(function(e){return a.getPages().find(function(t){return t.get("id")===e})}).filter(Boolean).toList();s.tilePages(i,e),s.clearSelection()}else if(this.props.page.getIn(["extData","tiling","id"])){var r=a.getPages().filter(function(e){return e.getIn(["extData","tiling","id"])===t.props.page.getIn(["extData","tiling","id"])});s.tilePages(r,e)}else a.isGroup(n)&&s.tileTabStack(n,e);this.closeDrawer()},unTile:function(){s.unTilePages(this.props.page.getIn(["extData","tiling","id"])),this.closeDrawer()},handleClickOutside:function(){this.closeDrawer()},render:function(){var e=this.props.page.getIn(["extData","tiling","layout"]),t="tile-"+(e||"none"),n=A(i({"button-toolbar-small":!0,"tile-action":!0},t,!0)),o=this.props.groupPages.count()>1||this.props.tilePages.count()>1||this.props.pageSelection.count()>1;return r.createElement("span",{className:"tilingtoggle",ref:"tilingtoggle",title:o?null:c("Page tiling")+"\n"+c("Select multiple tabs or create tab stack to tile pages")},r.createElement("button",{ref:"tilingtogglebutton",className:n,tabIndex:this.props.keyAccess,onClick:this.toggleDrawer,disabled:!o,title:c("Page tiling")}),this.state.drawerOpen&&r.createElement("div",{className:"callout"},r.createElement("button",{className:"tile-vertically",disabled:"vertically"===e,title:c("Tile vertically"),onMouseUp:this.setTiling.bind(this,"vertically")}),r.createElement("button",{className:"tile-horizontally",disabled:"horizontally"===e,title:c("Tile horizontally"),onMouseUp:this.setTiling.bind(this,"horizontally")}),r.createElement("button",{className:"tile-grid",disabled:"grid"===e,title:c("Tile to grid"),onMouseUp:this.setTiling.bind(this,"grid")}),r.createElement("button",{className:"tile-none",disabled:!this.props.page.getIn(["extData","tiling","id"]),title:c("Untile pages"),onMouseUp:this.unTile})))}});e.exports=d},function(e,t,n){"use strict";var i=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(1),o=n(33),a=n(42),s=n(386),l=n(91),u=n(69),c=n(7),A=n(14),d=n(19),h=n(123),p=n(3),f=n(21),m=n(27),g=n(20),v=g.urls,E=n(75),_=E.isPageGrouped,S=E.isPageTiled,y=n(34),b=y.isInternalURL,C=n(35),I=n(6),T=n(179),O=n(76),w=n(202),N=w.compose,k=w.capitalize,D=w.truncate,M=n(2),P=r.createClass({mixins:[c],displayName:"Tab",discardPages:function(e){e.forEach(A.discardPage)},cloneTab:function(e){A.clonePage(e)},reloadTab:function(e){A.reloadPage(e)},pinTab:function(){A.clearSelection(),A.togglePinned(this.props.page)},bookmarkAllOpenPages:function(){A.clearSelection(),o.bookmarkAllOpenPages()},bookmarkTab:function(e){A.clearSelection(),o.bookmarkPageInFolder(e)},handleClose:function(e,t){t.altKey?this.closeAllButTab(e):this.closeTab(e)},closeTab:function(e){_(e)&&this.props.highlightId!==e.get("id")?A.closePage(e):this.props.closeTab(this.props.page)},closeTabStack:function(e){e&&e.stopPropagation(),A.closeTabStack(this.props.page,!0)},muteTab:function(){A.mutePage(this.props.page)},closeAllButTab:function(e,t){var n=!t;A.closeOther(e,n)},newTab:function(){A.openURL()},createTab:function(e){A.openURL(e)},onClick:function(e){1===e.button&&e.stopPropagation()},doubleClick:function(e){e.stopPropagation(),e.preventDefault(),this.props.USE_TAB_CLOSE_ON_DOUBLECLICK&&this.closeTab(this.props.page)},stopPropagateHandler:function(e){e.stopPropagation(),e.preventDefault()},selectTab:function(e,t){this.props.selectTab(e,t)},reopenClosedTab:function(){this.props.reopenClosedTab()},disolveTabStack:function(){A.clearSelection(),A.expandTabStack(this.props.page.getIn(["extData","group"]))},removeFromTabStack:function(){A.removeFromTabStack(this.props.page)},isTabstackingEnabled:function(){return"on"===this.props.TAB_STACKING},isTabStack:function(e){return this.isTabstackingEnabled()&&_(e)},tileTabStack:function(){var e=this.props.page.getIn(["extData","group"]);A.tileTabStack(e),A.clearSelection()},isPageTiledWithType:function(e){return S(this.props.page)&&this.props.page.getIn(["extData","tiling","type"])===e},closeSelection:function(e){e.forEach(A.closePage)},tileSelection:function(e){var t=e.count()<4?"vertically":"grid";A.tilePages(e.toList(),t),A.clearSelection()},unTilePages:function(){var e=this.props.page.getIn(["extData","tiling","id"]);A.unTilePages(e)},onTabIndicatorPress:function(e,t){t.stopPropagation();var n="mac"===a(),i=n?t.metaKey:t.ctrlKey,r=t.shiftKey;if(0===t.button)if((i||r)&&document.hasFocus()){var o=r&&!i;A.setSelection(e,o,!1)}else this.props.selectTab(e,t);else 1===t.button&&-1!==navigator.platform.indexOf("Linux")&&C.doAction("focusWebView")},renderTabGroupIndicator:function(){var e=this;return this.props.stack?r.createElement("div",{className:"tab-group-indicator"},this.props.stack.map(function(t){var n=I({"tab-indicator":!0,"favicon-current-background-color":e.props.USE_TABCOLOR&&"off"===e.props.TABCOLOR_BEHIND_TABS&&e.props.highlightId===t.get("id")&&e.props.page.get("active"),active:e.props.highlightId===t.get("id"),marked:e.props.isSelecting&&e.props.pageSelection.contains(t.get("id")),unread:e.props.TAB_UNREAD_ENABLED&&e.props.page.getIn(["extData","read"])!==!0&&t.get("id")!==e.props.highlightId});return r.createElement("div",{key:"stack-"+t.get("id"),className:n,title:v.getDisplayTitle(t),onContextMenu:e.onContextMenu.bind(e,t,!0),onMouseDown:e.onTabIndicatorPress.bind(e,t)})})):null},hideToolTip:function(){u.clearTooltip()},keyDown:function(e){var t=e.keyCode;13===t&&this.props.selectTab(this.props.page,e)},createGroup:function(e){A.createTabStack(e,!1)},_getHostnameId:function(e){if(v.isInternalUrl(e.get("url"))){var t=Object.keys(v.internals).find(function(t){return e.get("url").startsWith(v.internals[t])});if(t)return N(D({length:16}),k)(t)}return m.parse(O(e.get("url"))).hostname},getHostnameAndGroup:function(){var e=this,t=this._getHostnameId(this.props.page);return[t,d.getPages().filter(function(e){return!e.get("pinned")}).filter(function(e){return!d.isGroup(e.getIn(["extData","group"]))}).filter(function(n){return e._getHostnameId(n)===t})]},onContextMenu:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=arguments[2];return i.persist(),i.preventDefault(),i.stopPropagation(),p.windows.getAll({populate:!0,windowTypes:["normal"]},function(r){var o=r.filter(function(e){return"popup"!==JSON.parse(e.extData).windowType}).filter(function(e){return!e.incognito}).filter(function(e){return e.id!==window.vivaldiWindowId});f(t.getContextMenuItems(e,o,i,n),t.hideToolTip)(i)}),!1},getContextMenuItems:function(e,t,n){var r=this,o=n.screenX,s=n.screenY,l=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],u=e.get("mediastate"),c=this.props.pageSelection.map(function(e){return d.getPages().find(function(t){return t.get("id")===e})}),p=[{name:M("New Window"),handler:A.detachPage.bind(this,e,o,s)}];t.length>0&&!function(){var n=!l;p=p.concat({name:"---",handler:null},t.map(function(t,i){var o=t.tabs.find(function(e){return e.active}),a=o?o.title:i+1,s=M("Window with $1 Active Tab ($2)","Window with $1 Active Tabs ($2)",[t.tabs.length,a]);return{name:s,handler:A.moveToWindow.bind(r,e,t.id,n)}}))}();var f="linux"===a(),m=!e.get("active")&&!e.get("discarded")&&e.get("url")!==d.getDefaultStartpage(),g=0!==d.getDiscardablePages().count(),v=d.getPages().count(),E=(l||!d.isGroup(e.getIn(["extData","group"]))?v>1:v-d.getGroup(e.getIn(["extData","group"])).count())>=1,_=this.getHostnameAndGroup(),S=i(_,2),y=S[0],b=S[1];return[{name:M("New Tab"),handler:this.newTab},{name:"---"},{name:M("Reload Tab"),handler:this.reloadTab.bind(this,e)},{name:M("Clone Tab"),handler:this.cloneTab.bind(this,e)},{name:M("Pin Tab"),handler:this.pinTab,visible:!this.isTabStack(e)&&!e.get("pinned")},{name:M("Unpin Tab"),handler:this.pinTab,visible:!this.isTabStack(e)&&e.get("pinned")},{name:M("Move to"),items:p,visible:e.get("incognito")!==!0},{name:"---"},{name:M("Mute Tab"),handler:this.muteTab,type:"checkbox",checked:"muting"===u,visible:"playing"===u||"muting"===u},{name:"---"},{name:M("Bookmark Tab"),handler:this.bookmarkTab.bind(this,e)},{name:M("Bookmark All Open Pages"),handler:this.bookmarkAllOpenPages},{name:"---"},{name:M("New Tab Stack with Selection ($1 Tabs)",[c.count()]),handler:this.createGroup.bind(this,c),visible:this.isTabstackingEnabled()&&this.props.isSelecting&&c.count()>1},{name:M("Stack Tabs by Host ($1 of $2)",[b.count(),y]),handler:this.createGroup.bind(this,b),visible:this.isTabstackingEnabled()&&!this.isTabStack(e)&&b.count()>1},{name:M("Remove from Tab Stack"),handler:this.removeFromTabStack,visible:this.isTabStack(e)},{name:M("Ungroup Tab Stack"),handler:this.disolveTabStack,visible:this.isTabStack(e)},{name:"---"},{name:M("Tile Tab Stack"),handler:this.tileTabStack,visible:this.isTabStack(e)&&!this.isPageTiledWithType("group")&&!this.isPageTiledWithType("selection")},{name:M("Untile Tab Stack"),handler:this.unTilePages,visible:this.isTabStack(e)&&(this.isPageTiledWithType("group")||this.isPageTiledWithType("selection"))},{name:M("Tile Selection ($1 Tabs)",[c.count()]),handler:this.tileSelection.bind(this,c),visible:!this.isPageTiledWithType("selection")&&this.props.isSelecting&&c.count()>1},{name:M("Untile Selection"),handler:this.unTilePages,visible:this.isPageTiledWithType("selection")&&!this.isTabStack(e)},{name:"---"},{name:M("Hibernate Tab"),handler:this.discardPages.bind(this,[e]),visible:!f&&m&&!this.isTabStack(e)},{name:M("Hibernate Tab Stack"),handler:this.discardPages.bind(this,d.getGroup(e.getIn(["extData","group"]))),visible:!f&&m&&this.isTabStack(e)},{name:M("Hibernate Selection ($1 Background Tabs)",[c.filter(function(e){return!e.get("active")}).count()]),handler:this.discardPages.bind(this,c.filter(function(e){return!e.get("active")})),visible:this.isTabstackingEnabled()&&this.props.isSelecting&&c.filter(function(e){return!e.get("active")}).count()>0},{name:M("Hibernate Background Tabs"),handler:this.discardPages.bind(this,d.getDiscardablePages()),visible:!f&&g},{name:"---"},{name:M("Close Tab"),handler:this.closeTab.bind(this,e)},{name:M("Close Selection ($1 Tabs)",[c.count()]),handler:this.closeSelection.bind(this,c),visible:this.props.isSelecting&&c.count()>0},{name:M("Close Tab Stack"),handler:this.closeTabStack,visible:this.isTabStack(e)},{name:M("Close Other Tabs"),handler:this.closeAllButTab.bind(this,e,l),visible:E},{name:M("Reopen Closed Tab"),handler:this.reopenClosedTab,visible:Boolean(h.getTrash().length)}]},render:function(){var e=this.props.page,t=e.get("active"),n="on"===this.props.TABCOLOR_BEHIND_TABS,i="ui-light"===this.props.BROWSER_FG_COLOR,o=Boolean(this.props.smallTab),u=e.get("mediastate");u&&"none"!==u&&!e.get("discarded")||(u="idle");var c=I(this.props.className,{tab:!0,marked:this.props.isSelecting&&this.props.pageSelection.contains(e.get("id")),"tab-small":o&&!e.get("pinned"),pinned:e.get("pinned"),active:t,"tab-group":d.isGroup(e.getIn(["extData","group"])),"favicon-current-background-color":this.props.USE_TABCOLOR&&t,"audio-on":"playing"===u,"audio-muted":"muting"===u,loading:e.getIn(["navigationState","isLoading"]),"button-off":!this.props.TAB_CLOSEBUTTON_ENABLED,unread:this.props.TAB_UNREAD_ENABLED&&e.getIn(["extData","read"])!==!0&&!t&&!d.isGroup(e.getIn(["extData","group"]))&&!b(e.get("url"))}),A=void 0;A=o?i?"#111111":"#ffffff":i?this.props.USE_TABCOLOR&&n&&!t||this.props.USE_TABCOLOR&&!n&&t?"#ffffff":"#111111":"#ffffff";var h=this.props.TAB_CLOSEBUTTON_ENABLED&&("mac"===a()||!d.isLastPage(e)||e.get("url")!==d.getDefaultStartpage()),p=v.getDisplayTitle(e),f=this.isTabStack(e)?M("Tab stack with $1 tabs",[this.props.stack.size]):p,m=e.get("incognito")?e.get("favIcon"):e.get("favIconUrl");return r.createElement("div",{className:c,ref:"tab",key:e.get("id"),title:this.props.USE_TOOLTIP?null:f,onClick:this.onClick,onDoubleClick:this.doubleClick,onContextMenu:this.onContextMenu.bind(this,e,!1),onMouseMove:this.props.onMouseMove,onMouseLeave:this.props.onMouseLeave,
onKeyDown:this.keyDown,tabIndex:this.props.KEY_ACCESS},r.createElement("div",{className:"tab-header"},r.createElement(s,{page:e}),r.createElement("span",{className:"favicon",style:{backgroundImage:"url("+(m||"/resources/page-web@2x.png")+")"}}),r.createElement("span",{className:"title"},p),h&&r.createElement("span",{className:"close",onClick:this.handleClose.bind(this,e),onMouseDown:this.stopPropagateHandler,title:M("Close tab")+"\n"+M("$1 click to close other tabs except this one",["MacIntel"===navigator.platform?M("key","Option"):M("key","Alt")])}),r.createElement("span",{className:"tab-audio",onClick:this.muteTab,onMouseDown:this.stopPropagateHandler},r.createElement(T,{animated:this.props.USE_ANIMATION,color:A,mode:u}))),this.props.TAB_THUMBNAILS_ENABLED&&r.createElement(l,{className:"tab-thumb",src:e.getIn(["extData","thumbnail"]),alt:"",size:"cover"}),this.renderTabGroupIndicator())}});e.exports=P},function(e,t,n){(function(t){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(29),a=n(33),s=n(387),l=n(388),u=n(21),c=n(7),A=n(69),d=n(70),h=n(4),p=n(40),f=n(75),m=f.isPageGrouped,g=n(14),v=n(19),E=n(112),_=n(123),S=n(189),y=n(91),b=n(35),C=n(20),I=C.urls,T=n(6),O=n(130),w=n(42),N=n(179),k=n(2),D=30,M=150,P=181,L=100,x=260,R=32,B=["ADDRESS_BAR_POSITION","BROWSER_FG_COLOR","CLOSABLE_PINNED_TABS","KEY_ACCESS","KEY_NEXT_TAB","KEY_PREVIOUS_TAB","SWITCH_TABS_AT_WINDOW_EDGE","TABBAR_WIDTH","TABCOLOR_BEHIND_TABS","TABS_HEIGHT","TAB_CLOSEBUTTON_ENABLED","TAB_CYCLING_ORDER","TAB_POSITION","TAB_STACKING","TAB_SWITCH_VISUAL","TAB_THUMBNAILS_ENABLED","TAB_UNREAD_ENABLED","USE_ANIMATION","USE_TABCOLOR","USE_TAB_CLOSE_ON_DOUBLECLICK","USE_TAB_TRANSPARENT_TABS","USE_TOOLTIP","TAB_CLICK_ACTIVE_OPENS_PREVIOUS"],F=r.createClass({displayName:"TabBar",mixins:[c],getInitialState:function(){return{tabsHeight:D,tabsWidth:L,tabStripWidth:0,tabStripHeight:0,tooltipHeight:400,tooltipWidth:600,tabStripOverflow:!1}},componentWillMount:function(){var e=this;h.get(["TABS_HEIGHT","TABBAR_WIDTH"],function(t){return e.setState({tabsHeight:t.TABS_HEIGHT||D,tabsWidth:t.TABBAR_WIDTH||L})})},componentDidMount:function(){S.addChangeListener(this.onTabStoreChange)},componentWillUnmount:function(){S.removeChangeListener(this.onTabStoreChange),window.removeEventListener("mouseout",this.windowMouseOut)},onTabStoreChange:function(e){var n=this;"newTab"===e.action?g.openURL(e.url):"newBackgroundTab"===e.action?g.openURL(e.url,{inBackground:!0}):"closeTab"===e.action?t.nextTick(function(){return n.closeTab(n.props.activePage)}):"closeAllButActiveTab"===e.action?t.nextTick(function(){return n.closeAllButActiveTab()}):"switchTabBackBySetting"===e.action?this.switchBackBySetting(e.maybeEvent):"switchTabForwardBySetting"===e.action?this.switchForwardBySetting(e.maybeEvent):"switchTabBackByHistory"===e.action?this.switchBackByHistory(e.maybeEvent):"switchTabForwardByHistory"===e.action?this.switchForwardByHistory(e.maybeEvent):"switchTabBackByOrder"===e.action?this.switchBackByOrder(e.maybeEvent):"switchTabForwardByOrder"===e.action?this.switchForwardByOrder(e.maybeEvent):"reopenRecentlyClosed"===e.action?this.reopenClosedTab():"viewPageSource"===e.action?t.nextTick(function(){return g.openURL("view-source:"+n.props.activePage.get("url"))}):"stackUntile"===e.action?t.nextTick(function(){return g.unTilePages(n.props.activePage.getIn(["extData","tiling","id"]))}):"stackTileGrid"===e.action?t.nextTick(function(){return g.tileTabStack(n.props.activePage.getIn(["extData","group"]),"grid")}):"stackTileHorizontal"===e.action?t.nextTick(function(){return g.tileTabStack(n.props.activePage.getIn(["extData","group"]),"horizontally")}):"stackTileVertical"===e.action&&t.nextTick(function(){return g.tileTabStack(n.props.activePage.getIn(["extData","group"]),"vertically")})},setTabScrollingState:function(e){this.setState({tabScrolling:e})},selectTab:function(e,t){A.clearTooltip(),e.get("active")?g.clearSelection():(t.stopPropagation(),g.openPage(e))},createTab:function(e){e&&e.stopPropagation(),g.openURL()},createTabWithMiddleClick:function(e){1===e.button&&(e.preventDefault(),this.createTab())},closeTab:function(e,n){if(n&&n.stopPropagation&&n.stopPropagation(),t.nextTick(A.clearTooltip),m(e))g.closeTabStack(e);else{var i=!e.get("pinned")||"on"===this.props.vivaldiSettings.CLOSABLE_PINNED_TABS;i?g.closePage(e):g.buryPage(e)}},closeAllButActiveTab:function(){g.closeOther(v.getActivePage())},removeFromTabStack:function(e){g.removeFromTabStack(e)},muteTab:function(e,t){t&&t.stopPropagation(),g.mutePage(e)},closeSingleTab:function(e,t){t&&t.stopPropagation(),g.closePage(e)},switchBackBySetting:function(e){this.props.vivaldiSettings.TAB_SWITCH_VISUAL?this.props.switchTabVisualTabSwitcher(e,!0):"recently used"===this.props.vivaldiSettings.TAB_CYCLING_ORDER?t.nextTick(function(){return g.cycleByHistory(e,{goBack:!0})}):t.nextTick(function(){return g.cycleByOrder(e,{goBack:!0})})},switchForwardBySetting:function(e){this.props.vivaldiSettings.TAB_SWITCH_VISUAL?this.props.switchTabVisualTabSwitcher(e,!1):"recently used"===this.props.vivaldiSettings.TAB_CYCLING_ORDER?t.nextTick(function(){return g.cycleByHistory(e,{goBack:!1})}):t.nextTick(function(){return g.cycleByOrder(e,{goBack:!1})})},switchBackByHistory:function(e){t.nextTick(function(){return g.cycleByHistory(e,{goBack:!0})})},switchForwardByHistory:function(e){t.nextTick(function(){return g.cycleByHistory(e,{goBack:!1})})},switchBackByOrder:function(e){t.nextTick(function(){return g.cycleByOrder(e,{goBack:!0})})},switchForwardByOrder:function(e){t.nextTick(function(){return g.cycleByOrder(e,{goBack:!1})})},reopenClosedTab:function(){E.undeletePreviousTab()},switchTabView:function(e){var t=this.props.vivaldiSettings;e.stopPropagation(),e.preventDefault(),"top"===t.TAB_POSITION||"bottom"===t.TAB_POSITION?(this.state.tabsHeight>D+18?(this.state.tabsHeight=D,setTimeout(function(){h.set({TAB_THUMBNAILS_ENABLED:!1})},500)):(this.state.tabsHeight=M,h.set({TAB_THUMBNAILS_ENABLED:!0})),h.set({TABS_HEIGHT:this.state.tabsHeight})):(this.state.tabsWidth!==P?this.state.tabsWidth=P:this.state.tabsWidth=L,h.set({TABBAR_WIDTH:this.state.tabsWidth}))},handleTabsMove:function(e){var t=this.refs.tabsContainer;if("top"===this.props.vivaldiSettings.TAB_POSITION||"bottom"===this.props.vivaldiSettings.TAB_POSITION){var n=parseInt(t.style.height)+e;n>M?(n=M,h.set({TAB_THUMBNAILS_ENABLED:!0})):D>n?(n=D,h.set({TAB_THUMBNAILS_ENABLED:!1})):h.set({TAB_THUMBNAILS_ENABLED:!0}),h.set({TABS_HEIGHT:n}),this.setState({tabsHeight:n})}else{var i=parseInt(t.style.width)+e;i>x?i=x:L>i&&(i=L),h.set({TABBAR_WIDTH:i}),this.setState({tabsWidth:i})}return!0},getGroupHighlightId:function(e){return v.getGroupHighlightId(e)},getTabContextMenu:function(e){return[{name:k("Close Tab"),handler:this.closeSingleTab.bind(this,e)},{name:"---",handler:null},{name:k("Remove from Tab Stack"),handler:this.removeFromTabStack.bind(this,e),visible:m(e)}]},getTabBarContextMenu:function(){return[{name:k("New Tab"),handler:this.createTab},{name:k("Bookmark All Open Pages"),handler:a.bookmarkAllOpenPages},{name:"---",handler:null},{name:k("Reopen Closed Tab"),handler:this.reopenClosedTab,visible:Boolean(_.getTrash().length)}]},onMouseDown:function(e){1===e.button&&-1!==navigator.platform.indexOf("Linux")&&b.doAction("focusWebView")},onDoubleClick:function(e){0===e.button&&this.createTab()},onClick:function(e){1===e.button&&this.createTab()},getTooltipPlacement:function(){var e={top:"below",bottom:"above",left:"after",right:"before"};return e[this.props.tabPosition]},getTooltipContent:function(e){var t=this,n=this.props.vivaldiSettings,i=void 0,a=void 0,s=m(e);if("on"===n.TAB_STACKING&&s){var l=e.getIn(["extData","group"]);i=v.getGroup(l),a=this.getGroupHighlightId(l)}else i=o.List.of(e),a=null;var c="mac"===w(),A=Boolean("ui-light"===n.BROWSER_FG_COLOR)?"#111111":"#ffffff",d=r.createElement("div",{className:T({"tab-group":s,"tab-solo":!s})},i.map(function(e){return r.createElement("div",{key:e.get("id"),className:T({active:e.get("active"),"tooltip-item":!0,"last-active":a&&a===e.get("id")}),draggable:"true",onContextMenu:u(t.getTabContextMenu.bind(t,e)),onClick:t.selectTab.bind(t,e)},r.createElement(y,{className:"thumbnail-image",size:"cover",src:e.getIn(["extData","thumbnail"]),alt:I.getDisplayTitle(e)}),r.createElement("div",{className:"thumbnail-caption"},c&&r.createElement("button",{className:"close",tabIndex:n.KEY_ACCESS,onClick:t.closeSingleTab.bind(t,e)}),r.createElement("span",{className:"thumbnail-text"},I.getDisplayTitle(e)),("playing"===e.get("mediastate")||"muting"===e.get("mediastate"))&&r.createElement("button",{className:"tooltip-audio-button",tabIndex:n.KEY_ACCESS,onClick:t.muteTab.bind(t,e)},r.createElement(N,{animated:n.USE_ANIMATION,color:A,mode:e.get("mediastate")})),!c&&r.createElement("button",{className:"close",tabIndex:n.KEY_ACCESS,onClick:t.closeSingleTab.bind(t,e)})))})),h=1,p=226+h,f=188+h,g=window.innerWidth,E=i.count()*p+h,_=f+h;if(E>g){var S=Math.ceil(E/g);E=p*Math.ceil(i.count()/S)+h,_=f*S+h}return{width:E,height:_,content:d}},getTabDirection:function(){var e=this.props.vivaldiSettings.TAB_POSITION;return"left"===e||"right"===e?"Vertical":"Horizontal"},setOverflowClass:function(e){this.setState({tabStripOverflow:e})},onResize:function(e){this.setState({tabStripWidth:e.width,tabStripHeight:e.height})},render:function(){var e,t=this.props.vivaldiSettings,o=t.TAB_POSITION,a="on"===t.TABCOLOR_BEHIND_TABS,c=t.ADDRESS_BAR_POSITION,A="off"!==t.TAB_STACKING,h=this.getTabDirection(),p="Horizontal"===h?this.state.tabStripWidth-R:this.state.tabStripWidth,f="Vertical"===h?this.state.tabStripHeight-R:this.state.tabStripHeight,g={};"left"===o||"right"===o?g.width=this.state.tabsWidth:t.TAB_THUMBNAILS_ENABLED?g.height=this.state.tabsHeight:g.height=D;var E=this.props.pages.filter(function(e){return!Boolean(e.get("isRemoved"))}),_=!1;t.USE_TABCOLOR&&("top"===o&&"top"===c||"bottom"===o&&!a||("left"===o||"right"===o)&&!a)&&(_=!0);var S=this.state.TAB_THUMBNAILS_ENABLED;return r.createElement("div",{id:"tabs-container",ref:"tabsContainer",onMouseDown:this.onMouseDown,onDoubleClick:this.onDoubleClick,onClick:this.onClick,onContextMenu:u(this.getTabBarContextMenu),style:g,className:T((e={"tab-group-open":A&&m(v.getActivePage())},i(e,S?"view-thumbs":"no-thumbs",!0),i(e,this.props.tabPosition,!0),i(e,"scrolling","on"===this.state.tabScrolling),i(e,"overflow",this.state.tabStripOverflow),i(e,"favicon-current-border-color",_),i(e,"tabs-at-edge",this.state.SWITCH_TABS_AT_WINDOW_EDGE&&"left"!==o&&"right"!==o),e))},r.createElement(O,{className:"resize",embedCss:!1,onResize:this.onResize},r.createElement(s,{ref:"tabStrip",className:"tab-strip",maxWidth:p,maxHeight:f,direction:h,selectTab:this.selectTab,getTooltipContent:this.getTooltipContent,getGroupHighlightId:this.getGroupHighlightId,setOverflowClass:this.setOverflowClass,USE_TOOLTIP:t.USE_TOOLTIP,TAB_STACKING:t.TAB_STACKING,USE_ANIMATION:t.USE_ANIMATION,USE_TABCOLOR:t.USE_TABCOLOR,TABCOLOR_BEHIND_TABS:t.TABCOLOR_BEHIND_TABS,BROWSER_FG_COLOR:t.BROWSER_FG_COLOR,USE_TAB_TRANSPARENT_TABS:t.USE_TAB_TRANSPARENT_TABS,TABS_HEIGHT:t.TABS_HEIGHT,TAB_THUMBNAILS_ENABLED:t.TAB_THUMBNAILS_ENABLED,KEY_ACCESS:t.KEY_ACCESS,TAB_CLOSEBUTTON_ENABLED:t.TAB_CLOSEBUTTON_ENABLED,TAB_UNREAD_ENABLED:t.TAB_UNREAD_ENABLED,USE_TAB_CLOSE_ON_DOUBLECLICK:t.USE_TAB_CLOSE_ON_DOUBLECLICK,TAB_CLICK_ACTIVE_OPENS_PREVIOUS:t.TAB_CLICK_ACTIVE_OPENS_PREVIOUS,closeTab:this.closeTab,reopenClosedTab:this.reopenClosedTab,tabPosition:this.props.tabPosition,isSelecting:this.props.isSelecting,pageSelection:this.props.pageSelection,pages:E}),r.createElement("button",{ref:"newTabButton",className:"button-tabbar newtab",tabIndex:t.KEY_ACCESS,onClick:this.createTab,onDoubleClick:this.createTab,title:k("Open a new tab"),dangerouslySetInnerHTML:{__html:n(537)}})),r.createElement(l,{keyAccess:t.KEY_ACCESS}),r.createElement(d,{onSlidebarMove:this.handleTabsMove,onDoubleClick:this.switchTabView,position:this.props.tabPosition}))}});e.exports=p(F,B)}).call(t,n(22))},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(94),a=n(6),s=i.createClass({displayName:"TabProgressIndicator",mixins:[r],getInitialState:function(){return{isProgressing:!1,progress:0}},componentWillMount:function(){o.addChangeListener(this._onNavigationStoreChanged)},componentWillUnmount:function(){o.removeChangeListener(this._onNavigationStoreChanged)},_onNavigationStoreChanged:function(){var e=this.props.page,t=o.getProgressInfo(e).get("progress"),n=o.getNavigationInfo(e).get("trigger");"start"===n?this.setState({isProgressing:!1,progress:0}):"stop"===n?this.setState({isProgressing:!1,progress:1}):"commit"!==n&&"content"!==n||this.setState({isProgressing:!0,progress:t})},render:function(){var e=this.state.progress,t=this.state.isProgressing,n=a({"progress-indicator":!0,progressing:t,"progress-done":1===e});return i.createElement("span",{className:n,style:{transform:"scaleX("+e+")"}})}});e.exports=s},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(1),a=n(12),s=n(555),l=s.TransitionMotion,u=s.spring,c=n(7),A=n(29),d=n(384),h=n(389),p=n(14),f=n(19),m=n(35),g=n(26),v=n(17),E=v.findLast,_=n(447),S=n(434),y=200,b=181,C=150,I=66,T=31,O=31,w=7,N=[240,26],k=!1,D=o.createClass({mixins:[c],displayName:"TabStrip",propTypes:{direction:o.PropTypes.oneOf(["Horizontal","Vertical"]).isRequired,maxWidth:o.PropTypes.number,maxHeight:o.PropTypes.number,setOverflowClass:o.PropTypes.func},getInitialState:function(){return{layout:A.List(),mouse:null,dragOver:null,recoverIndex:null,ignoreOver:null,prevMove:null,lastPress:null,dragMoved:!1,frozenTabWidth:null,frozenTabHeight:null}},componentWillMount:function(){this.updateDimensions(this.props)},componentWillReceiveProps:function(e){this.props.pages===e.pages&&this.props.maxWidth===e.maxWidth&&this.props.maxHeight===e.maxHeight&&this.props.TAB_STACKING===e.TAB_STACKING||this.updateDimensions(e)},componentDidMount:function(){var e=document.querySelector("#tabs-container");return e?void e.addEventListener("mouseleave",this.onMouseLeaveHandler):void console.warn("Missing tabs container for resize while shrinking.")},componentWillUnmount:function(){var e=document.querySelector("#tabs-container");return e?void e.removeEventListener("mouseleave",this.onMouseLeaveHandler):void console.warn("Missing tabs container for resize while shrinking.")},onMouseLeaveHandler:function(e){this.setState({frozenTabWidth:null,frozenTabHeight:null},function(){this.updateDimensions(this.props)})},updateDimensions:function(e){var t=this.getTabWidth(e),n=this.getTabHeight(e),i=a.findDOMNode(this.refs.tabs)?a.findDOMNode(this.refs.tabs).clientHeight:0;i>e.maxHeight?this.props.setOverflowClass(!0):this.props.setOverflowClass(!1),this.setState({composition:this.createComposition(e.pages,e.direction,t,e.TAB_THUMBNAILS_ENABLED?n:T,"on"===e.TAB_STACKING)})},createComposition:function(e,t,n,i,r){var o=["extData","group"],a=function(e,s,l){var u=this,c=arguments.length<=3||void 0===arguments[3]?0:arguments[3],d=arguments.length<=4||void 0===arguments[4]?[]:arguments[4];if(e===A.List())return d;var h=e.first(),p=e.rest(),m=h.getIn(o),g=r&&f.isGroup(m),v=void 0;return v="Horizontal"===t?s=h.get("pinned")?T:h.get("active")||g&&h.getIn(["extData","group"])===f.getActivePage().getIn(["extData","group"])?n>T?n:T:n:l=h.get("pinned")?T:g?Math.max(i,T)+w:Math.max(i,T),g&&!function(){var t=u.props.getGroupHighlightId(h.getIn(o));h=e.find(function(e){return e.get("id")===t})||h,p=p.filter(function(e){return e.getIn(o)!==m})}(),d.push({page:h,width:s,height:l,position:c,delta:v}),a(p,s,l,c+v,d)}.bind(this);return a(e,n,i)},getStyles:function(){var e=this,t=this.state,n=t.dragMoved,i=t.isPressed,o=t.lastPress,a=t.dragOver;return this.state.composition.reduce(function(t,s,l){var c=void 0,A=void 0,d=n&&o===s.page.get("id"),h=n&&i&&d;if(h){var p=r(e.state.mouse,2);c=p[0],A=p[1];var f=e.clampComponent(s,c,A),m=r(f,2);c=m[0],A=m[1]}else c=s.position,A=s.position;var g=e.limitDirection(c,A),v=r(g,2);c=v[0],A=v[1];var E=[S(c),S(A)];c=E[0],A=E[1];var _=S(s.width),y=S(s.height),b=void 0;b=e.props.USE_ANIMATION?u:function(e){return e};var C=a===s.page.get("id"),I={id:s.page.get("id"),page:s.page,isHovered:C,dragShadow:b(h?4:0),shadowOpacity:b(h?.2:0),colorOpacity:b(C?1:0),bgColor:b(C?.6:1),zIndex:d?2:C?1:0,width:_,height:y,x:i?h?c:b(c,N):k&&d?b(c,N):c,y:i?h?A:b(A,N):k&&d?b(A,N):A};return d&&(k=!1),t[s.page.get("id")]=I,t},{})},clampComponent:function(e,t,n){if(e.page.get("pinned")){var i=E(this.state.composition,function(e){return e.page.get("pinned")});return[_(t,-5,i.position),_(n,-5,i.position)]}var r=this.state.composition.find(function(e){return!e.page.get("pinned")}),o="Horizontal"===this.props.direction?this.getWidth()-e.width:this.getHeight()-e.height;return[_(t,r.position,o+5),_(n,r.position,o+5)]},startDragging:function(e,t,n,i){var r=e.pageX,o=e.pageY;window.addEventListener("touchmove",this.handleTouchMove),window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("touchend",this.handleMouseUp),window.addEventListener("mouseup",this.handleMouseUp),g.bind("esc",this.cancelDragging),this.setState({lastPress:t.get("id"),recoverIndex:t.get("index"),isPressed:!0,dragMoved:!1,draggedActive:t.get("active"),delta:[r-n,o-i],mouse:[n,i],start:[r,o]})},cancelDragging:function(){var e=this.state,t=e.lastPress,n=e.recoverIndex,i=this.props.pages.find(function(e){return e.get("id")===t});p.moveToIndex(i,n),this.endDragging()},updateDragging:function(e){var t=this,n=e.pageX,i=e.pageY,o=this.state,a=o.isDragging,s=o.lastPress,l=r(o.delta,2),u=l[0],c=l[1],A=r(this.state.start,2),d=A[0],h=A[1],f=2;a||(Math.abs(d-n)>f||Math.abs(h-i)>f)&&(a=!0,this.setState({isDragging:!0})),a&&!function(){var e=n-u,o=i-c,a={mouse:[e,o],dragMoved:!0},l=t.state.composition.find(function(e){return e.page.get("id")===s}),A=t.clampComponent(l,e,o),d=r(A,2);e=d[0],o=d[1];var h="Horizontal"===t.props.direction?e:o,f=h+l.delta/2,m=t.state.composition.find(function(e){return f>e.position&&f<e.position+e.delta});if(m&&m.page.get("id")!==s&&(t.state.ignoreOver=t.state.dragOver,t.state.dragOver=null,p.movePage(t.props.pages.find(function(e){return e.get("id")===s}),m.page,"on"===t.props.TAB_STACKING)),"on"===t.props.TAB_STACKING){var g=t.state.composition.find(function(e){return h>e.position+.4*e.delta&&h<e.position+.8*e.delta}),v=t.state.composition.find(function(e){return h+l.delta>e.position+.2*e.delta&&h+l.delta<e.position+.6*e.delta});if(g&&!g.page.get("pinned")&&g.page.get("id")!==s){var E=g.page.get("id");E!==t.state.ignoreOver&&(a.dragOver=E)}else if(v&&!v.page.get("pinned")&&v.page.get("id")!==s){var E=v.page.get("id");E!==t.state.ignoreOver&&(a.dragOver=E)}else a.dragOver=null,a.ignoreOver=null}t.setState(a)}()},stopDragging:function(){var e=this;if(this.state.dragOver){var t=this.props.pages.find(function(t){return t.get("id")===e.state.lastPress}),n=this.props.pages.find(function(t){return t.get("id")===e.state.dragOver});t&&n&&t.get("id")!==n.get("id")&&p.createTabStack(A.List.of(t,n))}this.endDragging()},endDragging:function(){window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("touchend",this.handleMouseUp),window.removeEventListener("mouseup",this.handleMouseUp),g.unbind("esc",this.cancelDragging),k=!0,this.props.TAB_CLICK_ACTIVE_OPENS_PREVIOUS&&!this.state.isDragging&&this.state.draggedActive&&p.minimizePage(),this.setState({isPressed:!1,isDragging:!1,recoverIndex:null,delta:null,mouse:null,dragOver:null})},handleTouchMove:function(e){e.preventDefault(),this.updateDragging(e.touches[0])},handleMouseMove:function(e){e.preventDefault(),this.updateDragging(e)},handleMouseUp:function(e){this.stopDragging(e)},closeTab:function(e,t){this.freezeTabSize(e),this.props.closeTab(e,t)},freezeTabSize:function(e){var t=this.props.pages.last();t&&e.get("id")===t.get("id")?this.setState({frozenTabWidth:null,frozenTabHeight:null}):this.setState({frozenTabWidth:this.getTabWidth(this.props),frozenTabHeight:this.getTabHeight(this.props)})},mouseDownHandler:function(e,t,n,i){var r="MacIntel"!==navigator.platform?i.ctrlKey:i.metaKey,o=i.shiftKey;if(0===i.button)if((r||o)&&document.hasFocus()){var a=o&&!r;p.setSelection(e,a)}else this.props.selectTab(e,i),this.startDragging(i,e,t,n);else 1===i.button&&-1!==navigator.platform.indexOf("Linux")&&m.doAction("focusWebView")},mouseUpHandler:function(e,t,n,i){1===i.button&&this.closeTab(e,i)},touchStartHandler:function(e,t,n,i){this.startDragging(i.touches[0],e,t,n)},limitDirection:function(e,t){return"Horizontal"===this.props.direction?[e,0]:[0,t]},getVisibleTabCount:function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];if(e===A.List())return 0;var n=e.first(),i=e.rest(),r=["extData","group"],o=n.getIn(r),a=t&&f.isGroup(o);return i=a?i.filter(function(e){return e.getIn(r)!==o}):e.rest(),1+this.getVisibleTabCount(i,t)},getTabWidth:function(e){if(this.state.frozenTabWidth)return this.state.frozenTabWidth;var t=e.pages.filter(function(e){return e.get("pinned")}).reduce(function(e,t){return e+O},0),n=e.maxWidth-t;if("Horizontal"===e.direction){var r=this.getVisibleTabCount(e.pages.filter(function(e){return!e.get("pinned")}),"on"===e.TAB_STACKING),o=e.pages.find(function(e){return e.get("active")}),a="object"===("undefined"==typeof o?"undefined":i(o))&&o.get("pinned"),s=n>r*b?b:n/r;return T>s&&!a?s-(T-s)/r:s}return"100%"},getTabHeight:function(e){if(this.state.frozenTabHeight)return this.state.frozenTabHeight;var t=e.pages.filter(function(e){return e.get("pinned")}).reduce(function(e,t){return e+O},0),n=e.maxHeight-t;if("Vertical"===e.direction){var i=this.getVisibleTabCount(e.pages.filter(function(e){return!e.get("pinned")}),"on"===e.TAB_STACKING);return n>i*C?C:n/i}return"auto"},getWidth:function(){if("Horizontal"===this.props.direction){var e=this.state.composition[this.state.composition.length-1];return e?e.position+e.width:0}return"100%"},getHeight:function(e){if("Vertical"===this.props.direction){var t=this.state.composition[this.state.composition.length-1];return t?t.position+t.height:0}return"auto"},getTooltipPlacement:function(){var e={top:"below",bottom:"above",left:"after",right:"before"};return e[this.props.tabPosition]},renderTab:function(e,t,n,i,r,a){var s=void 0,l=void 0;return"on"===this.props.TAB_STACKING?(s=f.getGroup(t.getIn(["extData","group"])),l=s.count()>1):(s=A.List(),l=!1),o.createElement(h,{key:e,id:t.get("id"),disabled:!this.props.USE_TOOLTIP||this.state.isPressed,pointerEvents:l?"auto":"none",placement:this.getTooltipPlacement(),appearDelay:y,content:this.props.getTooltipContent,context:t},o.createElement("div",{className:"tab-position",style:n,onMouseDown:this.mouseDownHandler.bind(this,t,r,a),onMouseUp:this.mouseUpHandler.bind(this,t,r,a),onTouchStart:this.touchStartHandler.bind(this,t,r,a)},o.createElement(d,{key:e,stack:l&&s,isDragged:i,page:t,isSelecting:this.props.isSelecting,pageSelection:this.props.pageSelection,smallTab:Boolean(n.width<=I),highlightId:l&&this.props.getGroupHighlightId(t.getIn(["extData","group"])),TAB_STACKING:this.props.TAB_STACKING,USE_TABCOLOR:this.props.USE_TABCOLOR,BROWSER_FG_COLOR:this.props.BROWSER_FG_COLOR,KEY_ACCESS:this.props.KEY_ACCESS,TAB_CLOSEBUTTON_ENABLED:this.props.TAB_CLOSEBUTTON_ENABLED,USE_TOOLTIP:this.props.USE_TOOLTIP,USE_TAB_TRANSPARENT_TABS:this.props.USE_TAB_TRANSPARENT_TABS,USE_TAB_CLOSE_ON_DOUBLECLICK:this.props.USE_TAB_CLOSE_ON_DOUBLECLICK,TAB_THUMBNAILS_ENABLED:this.props.TAB_THUMBNAILS_ENABLED,TAB_UNREAD_ENABLED:this.props.TAB_UNREAD_ENABLED,USE_ANIMATION:this.props.USE_ANIMATION,TABCOLOR_BEHIND_TABS:this.props.TABCOLOR_BEHIND_TABS,selectTab:this.props.selectTab,closeTab:this.closeTab,reopenClosedTab:this.props.reopenClosedTab})))},render:function(){var e=this;if(this.props.maxWidth<=0||this.props.maxHeight<=0)return null;var t=this.getTabWidth(this.props),n=this.getTabHeight(this.props),i={maxWidth:this.getWidth(t),maxHeight:this.getHeight(n)};return o.createElement(l,{ref:"tabs",styles:this.getStyles(),willEnter:this.willEnter,willLeave:this.willLeave},function(t){return o.createElement("div",{className:e.props.className,style:i},Object.keys(t).map(function(n){var i=t[n],r=i.page,o=i.isDragged,a=i.dragShadow,s=i.shadowOpacity,l=i.bgColor,u=i.zIndex,c=i.height,A=i.opacity,d=i.width,h=i.x,p=i.y,f={transform:"translate3d("+h+"px, "+p+"px, 0)",boxShadow:"0 -1px "+a+"px -1px rgba(0,0,0,"+s+")",zIndex:u,width:d,height:c,opacity:A,WebkitFilter:"brightness("+l+")"};return e.renderTab(n,r,f,o,h,p)}))})}});e.exports=D},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(112),a=n(123),s=n(21),l=n(6),u=n(2),c=i.createClass({displayName:"Trash",mixins:[r],getInitialState:function(){return{trash:a.getTrash(),isTrashOpen:!1,showTrashContextMenu:null}},componentWillMount:function(){a.addChangeListener(this.onTrashStoreChange)},componentWillUnmount:function(){a.removeChangeListener(this.onTrashStoreChange)},onTrashStoreChange:function(){this.setState({trash:a.getTrash()})},emptyTrash:function(){o.emptyTrash()},undeleteTab:function(e){o.undeleteTab(e)},undeleteWindow:function(e){o.restoreWindow(e)},trimTitle:function(e){return e.length>90&&(e=e.substring(0,90)+"..."),e},onOpen:function(){},onClose:function(){},getContextMenuHandler:function(){var e=this;if(0===this.state.trash.length)return null;var t=[],n=this.state.trash.map(function(t,n){if(t.tab){var i=t.tab;return{mnemonic:!1,name:e.trimTitle(i.title),url:i.url,handler:e.undeleteTab.bind(e,i)}}if(t.window){var r=t.window;return{name:e.trimTitle(u("Window with $1 Tab","Window with $1 Tabs",[r.tabs.length])),items:[{name:u("All"),handler:e.undeleteWindow.bind(e,r)}].concat(r.tabs.map(function(t){return{mnemonic:!1,name:e.trimTitle(t.title),url:t.url,handler:e.undeleteTab.bind(e,t)}}))}}}),i=[{name:"---"},{name:u("Clear All"),handler:o.emptyTrash}];t=t.concat(n).concat(i);var r=this.refs.trashButton;return s(t,null,"bottom",r)},render:function(){var e=this,t=this.state.trash.length,r=l({"button-tabbar":!0,"toggle-trash":!0,active:this.state.isTrashOpen}),o=function(t){return e.getContextMenuHandler()(t)};return i.createElement("div",{className:"trash"},i.createElement("button",{ref:"trashButton",className:r,tabIndex:this.props.keyAccess,onClick:o,onContextMenu:o,disabled:0===t?"disabled":"",title:u("Trash"),dangerouslySetInnerHTML:{__html:n(538)}}))}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(12),o=n(7),a=n(69),s=n(425),l=n(429),u=l.onlyDistinct,c=n(6),A=4,d=i.createClass({mixins:[o],displayName:"Tooltip",getInitialState:function(){return{show:s.getShowTooltip(this.props.id)}},getDefaultProps:function(){return{appearDelay:200,disabled:!1}},"static":{removeTimoutId:null},_onStoreChange:function(){s.getTooltipCleared()===!0&&(this.hideTooltip(0),this.removeTooltip()),this.setState({show:s.getShowTooltip(this.props.id)})},componentWillMount:function(){s.addChangeListener(this._onStoreChange)},componentWillUnmount:function(){s.removeChangeListener(this._onStoreChange),r.unmountComponentAtNode(this.target)},componentDidMount:function(){this.target=this.getOrCreateTarget(),this.renderToolTip()},componentDidUpdate:function(){this.renderToolTip()},componentWillReceiveProps:function(e){!this.props.disabled&&e.disabled&&this.hideTooltip()},onMouseMove:u(function(e){this.props.disabled||this.showTooltip()}),onMouseLeave:function(){this.props.disabled||this.hideTooltip(200)},tooltipIsOpen:function(){return Boolean(this.target&&this.target.firstChild&&this.target.firstChild.classList.contains("tooltip"))},showTooltip:function(){var e=this;this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),d.removeTimoutId&&(clearTimeout(d.removeTimoutId),d.removeTimoutId=null);var t=this.tooltipIsOpen()?0:this.props.appearDelay;this.timeoutId=setTimeout(function(){!e.state.show&&e.isMounted()&&a.showTooltip(e.props.id)},t)},hideTooltip:function(e){var t=this;this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.timeoutId=setTimeout(function(){t.state.show&&t.isMounted()&&a.hideTooltip(t.props.id)},e),d.removeTimoutId=setTimeout(this.removeTooltip,e)},removeTooltip:function(){r.unmountComponentAtNode(this.target)},getOrCreateTarget:function(){var e=document.getElementById("vivaldi-tooltip");return e||(e=document.createElement("div"),e.id="vivaldi-tooltip",document.getElementById("app").appendChild(e)),e},getPosition:function(e,t){var n=void 0,i=void 0,o=r.findDOMNode(this).getBoundingClientRect();if("above"===this.props.placement){var a=o.left+o.width/2;n=a-e/2,i=o.top-t-A}else if("after"===this.props.placement)n=o.left+o.width+A,i=o.top;else if("before"===this.props.placement)n=o.left-e-A,i=o.top;else{var s=o.left+o.width/2;n=s-e/2,i=o.top+o.height+A}return 0>n&&(n=0),0>i&&(i=0),n+e>window.innerWidth&&(n-=n+e-window.innerWidth),i+t>window.innerHeight&&(i-=i+t-window.innerHeight),{positionLeft:n,positionTop:i}},renderToolTip:function(){if(this.state.show&&this.isMounted()){var e;e="after"===this.props.placement||"before"===this.props.placement?"top 150ms, height 50ms":"left 150ms, height 50ms";var t=this.props.content(this.props.context),n=t.width,o=t.height,a=t.content,s=this.getPosition(n,o),l=s.positionLeft,u=s.positionTop,A={left:l,top:u,pointerEvents:this.props.pointerEvents,width:n,height:o,transition:e},d=c(this.props.className,{tooltip:!0});r.render(i.createElement("div",{className:d,style:A,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},a),this.target)}},render:function(){var e=i.Children.only(this.props.children);return this.props.disabled?e:i.cloneElement(e,{onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave})}});e.exports=d},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(46),a=n(12);t.OmniNavigation=function(){function e(t){i(this,e),this._urlfield=t}return r(e,[{key:"_save",value:function(){var e=a.findDOMNode(this._urlfield);e.value&&(this._urlfield._complist=[],this._urlfield._results=0,this._urlfield._completedItem=void 0,o.setUrlfieldState(this._urlfield.props.pageId,{editUrl:e.value,selectionStart:e.value.length,selectionEnd:e.value.length}))}},{key:"up",value:function(){return this._urlfield.props.moveAutocompleteHighlight&&this._urlfield.props.moveAutocompleteHighlight(!1)?!1:(this._save(),this._urlfield.props.isOmniDropdownOpen||this._urlfield.props.isTypedHistoryOpen?!1:void(this._urlfield.props.triggerTypedHistory!==!1&&o.showTypedHistory()))}},{key:"down",value:function(){if(this._urlfield.props.isOmniDropdownOpen||this._urlfield.props.isTypedHistoryOpen){if(this._urlfield.props.moveAutocompleteHighlight&&this._urlfield.props.moveAutocompleteHighlight(!0))return!1}else this._urlfield.props.triggerTypedHistory!==!1&&o.showTypedHistory();this._save()}},{key:"pageUp",value:function(){return this._urlfield.props.moveAutocompleteHighlight&&this._urlfield.props.moveAutocompleteHighlight(!1,!0)?!1:void this._save()}},{key:"pageDown",value:function(){return this._urlfield.props.moveAutocompleteHighlight&&this._urlfield.props.moveAutocompleteHighlight(!0,!0)?!1:void this._save();
}}]),e}()},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(2),a=n(17),s=n(31),l=n(14),u=n(118),c=i.createClass({displayName:"LocationPermissionDialog",mixins:[s,r],propTypes:{onDialogClosed:i.PropTypes.func,isBlocking:i.PropTypes.bool,isDecided:i.PropTypes.bool,onPermissionClicked:i.PropTypes.func,url:i.PropTypes.string},handleClickOutside:function(e){this.props.onDialogClosed()},getTitle:function(){return this.props.isDecided?this.props.isBlocking?o("Website “$1” has been denied location access.",[this.props.url]):o("Website “$1” is accessing your location.",[this.props.url]):o("Website “$1” would like to access your location.",[this.props.url])},_privacyNotice:function(){l.openURL("https://location.services.mozilla.com/privacy")},change:function(){l.openURL("chrome://settings/contentExceptions#location")},renderAllowDenyQuery:function(){return i.createElement("section",null,i.createElement("div",{className:"geo-notice"},i.createElement("a",{href:"",title:"Mozilla Location Service Privacy Notice",onClick:this._privacyNotice},"Privacy Notice")),i.createElement("input",{type:"button",disabled:this.props.isAsking===!1,onClick:a.partial(this.props.onPermissionClicked,!1),value:o("Allow")}),i.createElement("input",{type:"button",className:"primary",onClick:a.partial(this.props.onPermissionClicked,!0),value:o("Deny"),autoFocus:!0}))},render:function(){return i.createElement("section",{className:"addressfield-popup"},i.createElement("header",{className:"addressfield-popup-header"},i.createElement("h1",null,this.getTitle())),i.createElement("section",{className:"addressfield-popup-content"},this.props.isDecided===!1&&this.renderAllowDenyQuery()||i.createElement(u,{onDialogClosed:this.props.onDialogClosed,onChange:this.change})))}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(391),a=n(59),s=n(6),l=i.createClass({displayName:"LocationPermissionNotificator",mixins:[r],propTypes:{page:i.PropTypes.object,request:i.PropTypes.object},getInitialState:function(){return{isDialogOpen:null===this.props.request.get("blocked")}},componentWillReceiveProps:function(e){null===this.props.request.get("blocked")&&null===e.request.get("blocked")&&this.setState({isDialogOpen:!0})},onNotificatorClicked:function(e){this.setState({isDialogOpen:!this.state.isDialogOpen})},onDialogClosed:function(){this.setState({isDialogOpen:!1})},onPermissionClicked:function(e){var t=this.props.request.get("requestEvent");e===!1?t.allow():t.deny(),this.onDialogClosed(),a.setPermission(this.props.page,"geolocation",t,e)},render:function(){var e=null!==this.props.request.get("blocked")?this.props.request.get("blocked"):!0,t={"ignore-react-onclickoutside":!0,"button-addressfield":!0,"permission-location":!0,"is-allowing":!e,"is-blocking":e,"is-dialog-open":this.state.isDialogOpen},r=null;return this.state.isDialogOpen===!0&&(r=i.createElement(o,{url:this.props.request.get("requestEvent").url,onPermissionClicked:this.onPermissionClicked,isBlocking:e,isDecided:null!==this.props.request.get("blocked"),onDialogClosed:this.onDialogClosed})),i.createElement("div",{className:"locationpermission addressfield-popup-container"},i.createElement("button",{className:s(t),onClick:this.onNotificatorClicked,dangerouslySetInnerHTML:{__html:n(523)}}),r)}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(2),a=n(17),s=n(31),l=n(14),u=n(118),c=i.createClass({displayName:"MediaPermissionDialog",mixins:[s,r],propTypes:{url:i.PropTypes.string,onDialogClosed:i.PropTypes.func,onPermissionClicked:i.PropTypes.func,isDecided:i.PropTypes.bool,isBlocking:i.PropTypes.bool},handleClickOutside:function(e){this.props.onDialogClosed()},getTitle:function(){return this.props.isDecided?this.props.isBlocking?o("Website “$1” has been denied camera access.",[this.props.url]):o("Website “$1” is accessing your camera.",[this.props.url]):o("Website “$1” would like to access your camera.",[this.props.url])},change:function(){l.openURL("chrome://settings/contentExceptions#media-stream-camera")},renderAllowDenyQuery:function(){return i.createElement("section",null,i.createElement("input",{type:"button",className:"primary",onClick:a.partial(this.props.onPermissionClicked,!1),value:o("Allow"),autoFocus:!0}),i.createElement("input",{type:"button",onClick:a.partial(this.props.onPermissionClicked,!0),value:o("Deny")}))},render:function(){return i.createElement("div",{className:"addressfield-popup"},i.createElement("header",{className:"addressfield-popup-header"},i.createElement("h1",null,this.getTitle())),i.createElement("div",{className:"addressfield-popup-content"},this.props.isDecided===!1&&this.renderAllowDenyQuery()||i.createElement(u,{onDialogClosed:this.props.onDialogClosed,onChange:this.change})))}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(393),a=n(59),s=n(6),l=i.createClass({displayName:"MediaPermissionNotificator",mixins:[r],propTypes:{page:i.PropTypes.object,request:i.PropTypes.object},getInitialState:function(){var e=this.props.request.get("blocked");return{isDialogOpen:null===e}},componentWillReceiveProps:function(e){null===this.props.request.get("blocked")&&null===e.request.get("blocked")&&this.setState({isDialogOpen:!0})},onNotificatorClicked:function(e){this.setState({isDialogOpen:!this.state.isDialogOpen})},onDialogClosed:function(){this.setState({isDialogOpen:!1})},onPermissionClicked:function(e){var t=this.props.request.get("requestEvent");e===!1?t.allow():t.deny(),this.onDialogClosed(),a.setPermission(this.props.page,"media",t,e)},render:function(){var e=null!==this.props.request.get("blocked")?this.props.request.get("blocked"):!0,t={"ignore-react-onclickoutside":!0,"button-addressfield":!0,"permission-camera":!0,"is-allowing":!e,"is-blocking":e,"is-dialog-open":this.state.isDialogOpen},r=null;return this.state.isDialogOpen===!0&&(r=i.createElement(o,{url:this.props.request.get("requestEvent").url,onPermissionClicked:this.onPermissionClicked,isBlocking:e,isDecided:null!==this.props.request.get("blocked"),onDialogClosed:this.onDialogClosed})),i.createElement("div",{className:"mediapermission addressfield-popup-container"},i.createElement("button",{className:s(t),onClick:this.onNotificatorClicked,dangerouslySetInnerHTML:{__html:n(522)}}),r)}});e.exports=l},function(e,t,n){"use strict";var i=n(93),r=n(121),o=n(23),a=n(19),s=n(7),l=n(1),u=n(2),c=n(6),A=n(21),d=750,h=l.createClass({displayName:"NavigateButton",mixins:[s],getInitialState:function(){return{currentIndex:-1,timerId:0}},doMouseUp:function(e){clearTimeout(this.state.timerId),this.state.acceptMouseUp===!0&&(this.setState({acceptMouseUp:!1}),this.props.doAction())},doMouseDown:function(e){if(0===e.button){this.setState({acceptMouseUp:!0});var t=setTimeout(function(){this.setState({acceptMouseUp:!1}),this.showMenu(e,"bottom")}.bind(this),d);this.setState({timerId:t})}},doKeyDown:function(e){e.keyCode===o.KEY_ESCAPE&&(this.setState({acceptMouseUp:!1}),clearTimeout(this.state.timerId))},showContextMenu:function(e){e.persist(),e.preventDefault(),e.stopPropagation(),this.showMenu(e,"bottom")},showMenu:function(e,t){var n=this,o=void 0;switch(this.props.type){case"Back":case"Forward":i.getActiveWebView().getPageHistory(function(n,i){var r=n;"Back"===this.props.type?(i=i.slice(0,n),i=i.reverse()):"Forward"===this.props.type&&(i=i.slice(n+1));var a=0;o=i.map(function(e){var t=i[a].index-r;return{name:e.name,url:e.url,handler:this.onMenuActivated.bind(this,t),id:a++,mnemonic:!1}}.bind(this)),A(o,null,t,this.refs.button,null)(e)}.bind(this));break;case"Rewind":var s=r.getRewindHistory(a.getActivePage()),l=r.getRewindIndexes(a.getActivePage());o=s.map(function(e,t){return{name:e.name,url:e.url,handler:n.onMenuActivated.bind(n,-1*l[t]),id:t,mnemonic:!1}}),A(o,null,t,this.refs.button,null)(e);break;default:throw new Error("Tried to create an unknown navigation button. Must be 'Back', 'Forward' or 'Rewind'.")}},onMenuActivated:function(e){i.getActiveWebView().go(e)},render:function(){var e=c({"button-toolbar":!0,back:"Back"===this.props.type,forward:"Forward"===this.props.type,rewind:"Rewind"===this.props.type}),t=void 0,i=void 0;if("Back"===this.props.type)t=n(510),i=u("Go to previous page")+"\n"+u("Hold for history list");else if("Forward"===this.props.type)t=n(512),i=u("Go to next page")+"\n"+u("Hold for forward history list");else{if("Rewind"!==this.props.type)throw new Error("Tried to create an unknown navigation button. Must be 'Back', 'Forward' or 'Rewind'.");t=n(514),i=u("Rewind by visited domain")+"\n"+u("Hold for history domain list")}return l.createElement("button",{className:e,ref:"button",onContextMenu:this.showContextMenu,disabled:!this.props.canNavigate,title:i,tabIndex:this.props.keyAccess,onMouseUp:this.doMouseUp,onMouseDown:this.doMouseDown,onKeyDown:this.doKeyDown,dangerouslySetInnerHTML:{__html:t}})}});e.exports=h},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(2),a=n(31),s=n(14),l=n(118),u=i.createClass({displayName:"NotificationPermissionDialog",mixins:[a,r],propTypes:{onDialogClosed:i.PropTypes.func,isBlocking:i.PropTypes.bool,isDecided:i.PropTypes.bool,onPermissionClicked:i.PropTypes.func,url:i.PropTypes.string},handleClickOutside:function(e){this.props.onDialogClosed()},getTitle:function(){return this.props.isDecided?this.props.isBlocking?o("Website “$1” has been denied showing notifications.",[this.props.url]):o("Website “$1” is authorized to show notifications.",[this.props.url]):o("Website “$1” would like to show notifications.",[this.props.url])},allow:function(){this.props.onPermissionClicked(!1)},deny:function(){this.props.onPermissionClicked(!0)},change:function(){s.openURL("chrome://settings/contentExceptions#notifications")},renderAllowDenyQuery:function(){return i.createElement("section",null,i.createElement("input",{type:"button",disabled:this.props.isAsking===!1,onClick:this.allow,value:o("Allow")}),i.createElement("input",{type:"button",className:"primary",onClick:this.deny,value:o("Deny"),autoFocus:!0}))},render:function(){return i.createElement("section",{className:"addressfield-popup"},i.createElement("header",{className:"addressfield-popup-header"},i.createElement("h1",null,this.getTitle())),i.createElement("section",{className:"addressfield-popup-content"},this.props.isDecided===!1&&this.renderAllowDenyQuery()||i.createElement(l,{onDialogClosed:this.props.onDialogClosed,onChange:this.change})))}});e.exports=u},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(396),a=n(59),s=n(6),l=i.createClass({displayName:"NotificationPermissionNotificator",mixins:[r],propTypes:{page:i.PropTypes.object,request:i.PropTypes.object},getInitialState:function(){return{isDialogOpen:null===this.props.request.get("blocked")}},componentWillReceiveProps:function(e){null===this.props.request.get("blocked")&&null===e.request.get("blocked")&&this.setState({isDialogOpen:!0})},onNotificatorClicked:function(e){this.setState({isDialogOpen:!this.state.isDialogOpen})},onDialogClosed:function(){this.setState({isDialogOpen:!1})},onPermissionClicked:function(e){var t=this.props.request.get("requestEvent");e===!1?t.allow():t.deny(),this.onDialogClosed(),a.setPermission(this.props.page,"notifications",t,e)},render:function(){var e=null!==this.props.request.get("blocked")?this.props.request.get("blocked"):!0,t={"ignore-react-onclickoutside":!0,"button-addressfield":!0,"is-allowing":!e,"is-blocking":e,"is-dialog-open":this.state.isDialogOpen},r=null;return this.state.isDialogOpen===!0&&(r=i.createElement(o,{url:this.props.request.get("requestEvent").url,onPermissionClicked:this.onPermissionClicked,isBlocking:e,isDecided:null!==this.props.request.get("blocked"),onDialogClosed:this.onDialogClosed})),i.createElement("div",{className:"addressfield-popup-container"},i.createElement("button",{className:s(t),onClick:this.onNotificatorClicked,dangerouslySetInnerHTML:{__html:n(524)}}),r)}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(12),o=n(7),a=n(92),s=n(2),l=n(17),u=n(31),c=n(196),A=i.createClass({displayName:"OmniDropdown",mixins:[o,u],_ignoreMouseMove:!1,propTypes:{onLinkItemClicked:i.PropTypes.func,suggestEnabled:i.PropTypes.bool},getInitialState:function(){return{}},componentDidUpdate:function(e,t){e.isOpen===!0&&this.props.isOpen===!1?this.disableOnClickOutside():e.isOpen===!1&&this.props.isOpen===!0&&this.enableOnClickOutside()},handleClickOutside:function(e){this.props.onClose()},onLinkItemClicked:function(e,t){this.props.onLinkItemClicked(e,t)},onSearchClicked:function(){this.props.defaultSearchEngine&&this.props.defaultSearchEngine.Url&&this.props.onSearchClicked(this.props.pattern,this.props.defaultSearchEngine.Url)},getNumberOfSelectableItems:function(){var e=r.findDOMNode(this);return e?e.querySelectorAll(".omni-clickable").length:0},getCurrentValue:function(){var e=r.findDOMNode(this);if(e){var t=e.querySelector(".highlight");return t&&t.dataset.url?t.dataset.url:this.props.pattern}return""},_removeAllHighlighted:function(){var e=function(e){e.classList.remove("highlight")},t=r.findDOMNode(this);t&&Array.prototype.forEach.call(t.querySelectorAll(".highlight"),e)},_currentURL:null,moveHighlightToElement:function(e){e&&(e.classList.add("highlight"),e.scrollIntoViewIfNeeded())},moveHighlight:function(e){this._removeAllHighlighted();var t=r.findDOMNode(this);if(t){var n=t.querySelectorAll(".omni-clickable");e>=0&&this.moveHighlightToElement(n[e])}},onDeleteHistoryItem:function(e){e.preventDefault(),e.stopPropagation(),"function"==typeof this.props.onDeleteHistoryItem&&this.props.onDeleteHistoryItem(e.target.dataset.url)},onMouseOver:function(e){if(!this._ignoreMouseMove){var t=l.findIndex(document.getElementsByClassName("omni-clickable"),function(t){return t===e.target.parentNode});t>=0&&this.props.setAutocompleteHighlight(t,!1)}},onScrolled:function(e){var t=this;this._ignoreMouseMove=!0,setTimeout(function(){return t._ignoreMouseMove=!1},100)},renderLinkItem:function(e,t){var n=e.type===a.OMNI_RESULT_SUGGEST;return i.createElement("div",{key:e.type+"-"+e.id,"data-url":e.url,className:"omni-clickable",onClick:this.onLinkItemClicked.bind(this,e)},!n&&e.url&&i.createElement("img",{className:"favicon",src:"chrome://favicon/"+e.url}),n&&(!this.props.typedSearchEngine&&i.createElement("img",{className:"favicon",src:this.props.defaultSearchEngine.Image})||i.createElement("img",{className:"favicon",src:this.props.typedSearchEngine.Image})),e.type===a.OMNI_RESULT_FOLDER_NICKNAME&&i.createElement("img",{className:"favicon",src:"/resources/folder@2x.png"}),e.url&&i.createElement("span",{className:"url"},c(e.url)),e.type===a.OMNI_RESULT_FOLDER_NICKNAME&&i.createElement("span",{className:"url"},s("Open all bookmarks in folder")+" ("+(e.urls&&e.urls.length||0)+")"),void 0!==t&&i.createElement("span",{className:"nickname"},e.nickname)||i.createElement("span",{className:"title"},e.title),0===e.type.indexOf("OMNI_RESULT_HISTORY")&&i.createElement("span",{className:"erase-from-history","data-url":e.url,title:s("Delete history item"),onClick:this.onDeleteHistoryItem}))},renderBookmarks:function(e){var t=this;return Array.isArray(e)&&0!==e.length?i.createElement("section",{className:"filter-bookmarks ignore-react-onclickoutside"},i.createElement("label",null,s("Bookmarks")),e.map(function(e){return t.renderLinkItem(e)})):null},renderHistory:function(e){var t=this;return!Array.isArray(e)||e.length<=0?null:i.createElement("section",{className:"filter-history ignore-react-onclickoutside"},i.createElement("label",null,s("History")),e.map(function(e){return t.renderLinkItem(e)}))},renderURLSearch:function(){if("string"!=typeof this.props.pattern||this.props.pattern.length<0||!this.props.defaultSearchEngine)return null;var e=this.props.typedSearchEngine?this.props.typedSearchEngine.Name:this.props.defaultSearchEngine.Name;return i.createElement("section",{className:"filter-search ignore-react-onclickoutside"},i.createElement("label",null,s("Search $1",[e])),i.createElement("div",{onClick:this.onSearchClicked,className:"search omni-clickable","data-url":this.props.pattern},i.createElement("img",{className:"favicon",src:(this.props.typedSearchEngine||this.props.defaultSearchEngine).Image}),this.props.pattern))},renderNickname:function(e){return!Array.isArray(e)||e.length<=0?null:i.createElement("section",{className:"filter-bookmarks ignore-react-onclickoutside"},i.createElement("label",null,s("Nickname")),l.take(e.map(function(e){return this.renderLinkItem(e,e.nickname)}.bind(this)),a.OMNI_RESULT_COUNT))},renderSuggest:function(e){var t=this;return!Array.isArray(e)||e.length<=0?null:i.createElement("section",{className:"filter-suggestions ignore-react-onclickoutside"},i.createElement("label",null,s("Suggestions")),l.take(e.map(function(e){return t.renderLinkItem(e)}),a.OMNI_RESULT_COUNT))},render:function(){if(!this.props.isOpen)return null;if(this.props.results&&this.props.results.length>0){var e=l.take(this.props.results.filter(function(e){return 0===e.type.indexOf("OMNI_RESULT_HISTORY")}),a.OMNI_RESULT_COUNT),t=l.take(this.props.results.filter(function(e){return 0===e.type.indexOf("OMNI_RESULT_BOOKMARK")&&-1===e.type.indexOf("OMNI_RESULT_BOOKMARK_NICKNAME")}),a.OMNI_RESULT_COUNT),n=this.props.results.filter(function(e){return 0===e.type.indexOf("OMNI_RESULT_BOOKMARK_NICKNAME")||0===e.type.indexOf("OMNI_RESULT_FOLDER_NICKNAME")}),r=this.props.suggestEnabled?l.take(this.props.results.filter(function(e){return 0===e.type.indexOf("OMNI_RESULT_SUGGEST")}),a.OMNI_RESULT_COUNT_SUGGEST):[];return i.createElement("div",{className:"urlSearch",onMouseOver:this.onMouseOver,onScroll:this.onScrolled},this.renderNickname(n),this.props.isUrlbarSearchDisabled!==!0&&this.renderURLSearch(),this.props.suggestEnabled&&this.renderSuggest(r),this.renderBookmarks(t),this.renderHistory(e))}return i.createElement("div",{className:"urlSearch",onMouseOver:this.onMouseOver,onScroll:this.onScrolled},this.renderURLSearch())}});e.exports=A},function(e,t,n){"use strict";var i=n(1),r=n(2),o=n(31),a=i.createClass({displayName:"PopupBlockerDialog",mixins:[o],propTypes:{onDialogClosed:i.PropTypes.func,onShouldBlockClicked:i.PropTypes.func,blockedPopups:i.PropTypes.object,shouldBlockPopups:i.PropTypes.bool,onPopupAllowed:i.PropTypes.func},getInitialState:function(){return{}},handleClickOutside:function(e){this.props.onDialogClosed()},onAllowBlockedClicked:function(e,t){t.preventDefault(),this.props.onPopupAllowed(e)},renderItem:function(e){return i.createElement("a",{className:"popupblocker-blocked-page",onClick:this.onAllowBlockedClicked.bind(this,e),key:e.targetUrl+e.timeStamp,title:e.targetUrl,href:e.targetUrl},e.targetUrl)},renderItems:function(e){var t=this;return i.createElement("div",{className:"popupblocker-blocked-pages"},e.map(function(e){return t.renderItem(e)}))},onShouldBlockClicked:function(e){this.props.onShouldBlockClicked(e)},renderAlwaysBlockQuery:function(){return i.createElement("section",{className:"dialog-footer"},i.createElement("label",null,i.createElement("input",{type:"radio",name:"blocked",value:"false",defaultChecked:this.props.shouldBlockPopups!==!1,onChange:this.onShouldBlockClicked.bind(this,!0)}),r("Block Pop-ups")),i.createElement("label",null,i.createElement("input",{type:"radio",name:"blocked",value:"true",defaultChecked:this.props.shouldBlockPopups===!1,onChange:this.onShouldBlockClicked.bind(this,!1)}),r("Always Allow")))},render:function(){return this.props.blockedPopups.size>0?i.createElement("div",{tabIndex:"0",className:"addressfield-popup"},i.createElement("header",{className:"addressfield-popup-header"},i.createElement("h1",null,r("Blocked Pop-up Pages"))),i.createElement("div",{className:"addressfield-popup-content"},this.renderItems(this.props.blockedPopups)),this.renderAlwaysBlockQuery()):null}});e.exports=a},function(e,t,n){"use strict";var i=n(1),r=n(399),o=n(3),a=n(27),s=n(6),l=i.createClass({displayName:"PopupBlockerNotificator",mixins:[],propTypes:{url:i.PropTypes.string,blockedPopups:i.PropTypes.object,onPopupAllowed:i.PropTypes.func,onDialogClosed:i.PropTypes.func},getInitialState:function(){return{isDialogOpen:!1,shouldBlockPopups:!0}},componentWillMount:function(){this.props.url&&o.contentSettings.popups.get({primaryUrl:this.props.url},function(e){if(o.runtime.lastError)return void console.warn("ERROR getting content settings for popups. Original message:\n"+o.runtime.lastError.message);if(e){var t="allow"!==e.setting;this.setState({shouldBlockPopups:t})}}.bind(this))},onNotificatorClicked:function(e){this.setState({isDialogOpen:!this.state.isDialogOpen})},onDialogClosed:function(){this.setState({isDialogOpen:!1})},onShouldBlockClicked:function(e){var t=a.parse(this.props.url),n=[t.protocol];t.slashes&&n.push("//"),n.push(t.host),n.push("/*");var i=n.join("");t=null,o.contentSettings.popups.set({primaryPattern:i,setting:e===!1?"allow":"block"},function(){this.setState({shouldBlockPopups:e})}.bind(this))},render:function(){var e={"button-addressfield":!0,"permission-popup":!0,"is-blocking":this.state.shouldBlockPopups===!0,"is-allowing":this.state.shouldBlockPopups===!1,"is-dialog-open":this.state.isDialogOpen},t=null;this.state.isDialogOpen===!0&&(t=i.createElement(r,{shouldBlockPopups:this.state.shouldBlockPopups,onShouldBlockClicked:this.onShouldBlockClicked,blockedPopups:this.props.blockedPopups,onPopupAllowed:this.props.onPopupAllowed,onDialogClosed:this.onDialogClosed}));var o=null;return this.props.blockedPopups.size>0&&(o=i.createElement("button",{className:s(e),onClick:this.onNotificatorClicked,dangerouslySetInnerHTML:{__html:n(525)}})),i.createElement("div",{className:"popupblocker addressfield-popup-container"},o,t)}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(12),o=n(7),a=n(92),s=n(46),l=n(31),u=n(2),c=n(17),A=i.createClass({displayName:"TypedHistory",mixins:[o,l],_ignoreMouseMove:!1,handleClickOutside:function(e){s.hideTypedHistory()},onLinkItemClicked:function(e,t){this.props.onLinkItemClicked(e)},onSearchClicked:function(){this.props.defaultSearchEngine&&this.props.defaultSearchEngine.Url&&this.props.onSearchClicked(this.props.pattern,this.props.defaultSearchEngine.Url)},getNumberOfSelectableItems:function(){return this.props.results.length||0},getCurrentValue:function(){var e=r.findDOMNode(this);if(e){var t=e.querySelector(".highlight");return t&&t.dataset.url?t.dataset.url:this.props.displayUrl}return""},_removeAllHighlighted:function(){var e=function(e){e.classList.remove("highlight")},t=r.findDOMNode(this);t&&Array.prototype.forEach.call(t.querySelectorAll(".highlight"),e)},_currentURL:null,moveHighlightToElement:function(e){e&&(e.classList.add("highlight"),e.scrollIntoViewIfNeeded())},moveHighlight:function(e){this._removeAllHighlighted();var t=r.findDOMNode(this);if(t){var n=t.querySelectorAll(".omni-clickable");e>=0&&this.moveHighlightToElement(n[e])}},onDeleteHistoryItem:function(e,t){t.preventDefault(),t.stopPropagation(),s.deleteTypedHistory(e)},onMouseOver:function(e){if(!this._ignoreMouseMove){var t=c.findIndex(document.getElementsByClassName("omni-clickable"),function(t){return t===e.target.parentNode});t>=0&&this.props.setAutocompleteHighlight(t,!1)}},onScrolled:function(e){var t=this;this._ignoreMouseMove=!0,setTimeout(function(){return t._ignoreMouseMove=!1},100)},renderLinkItem:function(e){return i.createElement("div",{key:e.url,"data-type":a.OMNI_TYPE_TYPED_HISTORY,"data-url":e.url,className:"omni-clickable",onMouseUp:this.onLinkItemClicked.bind(this,e)},i.createElement("img",{className:"favicon",src:"chrome://favicon/"+e.url}),i.createElement("span",{className:"title"},e.url),i.createElement("span",{className:"erase-from-history",title:u("Delete history item"),onMouseUp:this.onDeleteHistoryItem.bind(this,e.url)}))},renderResults:function(e){return i.createElement("section",{className:"filter-typedhistory"},i.createElement("label",null,u("Typed history")),e.map(this.renderLinkItem))},render:function(){return Array.isArray(this.props.results)&&0!==this.props.results.length?i.createElement("div",{className:"urlSearch",onMouseOver:this.onMouseOver,onScroll:this.onScrolled},this.renderResults(this.props.results)):null}});e.exports=A},function(e,t,n){(function(t){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=n(1),o=n(12),a=n(7),s=n(93),l=n(280),u=n(293),c=n(89),A=n(121),d=n(90),h=n(392),p=n(122),f=n(394),m=n(395),g=n(59),v=n(94),E=n(397),_=n(398),S=n(14),y=n(321),b=n(400),C=n(323),I=n(187),T=n(189),O=n(69),w=n(401),N=n(72),k=n(46),D=n(54),M=n(92),P=n(444),L=n(5),x=n(10),R=n(35),B=n(47),F=n(2),U=n(3),V=n(6),W=n(435),H=n(48),K=n(124),G=n(17),j=n(125),z=n(27),J=n(20).urls,Q=n(430),Y=Q.isPath,Z=Q.win32PathToFileUrl,q=L.CHANGED,X="Win32"===navigator.platform,$={},ee=H("urlbar"),te=["view-source:","file:","javascript:"],ne=2e3,ie=r.createClass({displayName:"UrlBar",mixins:[x,a],vivaldiSettingsKeys:["ADDRESS_BAR_AUTOCOMPLETE_ENABLED","ADDRESS_BAR_AUTOCOMPLETE_PREFER_BOOKMARKS","ADDRESS_BAR_OMNIDROPDOWN_ENABLED","ADDRESS_BAR_SHOW_FULL_URL","ADDRESS_BAR_SUGGEST_ENABLED","DEFAULT_SEARCH_ENGINE","KEY_ACCESS","SEARCH_FIELD_ENABLED","SHOW_ADDRESS_BAR","SHOW_FFW_RWD_BUTTONS","TABCOLOR_BEHIND_TABS","URLBAR_SEARCH_DISABLED","USE_TABCOLOR"],getInitialState:function(){return Object.assign({createBookmarkCallout:!1,showOmniDropdown:!1,focused:!1,isBookmarked:!1,USE_TABCOLOR:!0,searchEnginesCleaned:Array.isArray(this.props.searchEngines)?W(this.props.searchEngines):void 0},this.getUrlbarStoreState(this.props.page),this.getSearchFieldStoreState(this.props.page),this.getNavigationStoreState(this.props.page),this.getFastForwardStoreState(this.props.page))},updateStoresForPage:function(e){this.setState(Object.assign({},this.getUrlbarStoreState(e),this.getSearchFieldStoreState(e),this.getNavigationStoreState(e),this.getFastForwardStoreState(e)))},getUrlbarStoreState:function(e){return Object.assign({showTypedHistory:D.showTypedHistory(),typedHistory:D.getTypedHistory()},D.getUrlfieldState(e))},getSearchFieldStoreState:function(e){return{searchText:I.getSearchText(e),currentSearchEngine:I.getSearchEngine(e)}},getNavigationStoreState:function(e){return{progressInfo:v.getProgressInfo(e),navigationInfo:v.getNavigationInfo(e),sslInfo:v.getSSLInfo(e),blockedPopups:v.getBlockedPopups(e),permissionInfo:v.getPermissionInfo(e)}},getFastForwardStoreState:function(e){return{forwardUrl:A.getFastForwardUrl(e),rewindRelativeIndex:A.getRewindRelativeIndex(e)}},_setBookmarkedState:function(e){var t=this;return e?void U.bookmarks.search({url:e},function(e){e&&e.length>0?t.setState({isBookmarked:!0}):t.setState({isBookmarked:!1})}):void this.setState({isBookmarked:!1})},_onUrlbarStoreChanged:function(){this.setState(this.getUrlbarStoreState(this.props.page))},_onSearchFieldStoreChanged:function(){this.setState(this.getSearchFieldStoreState(this.props.page))},_onNavigationStoreChanged:function(){this.setState(this.getNavigationStoreState(this.props.page))},_onFastForwardStoreChanged:function(){this.setState(this.getFastForwardStoreState(this.props.page))},focusAddressField:function(e){if(this.isMounted()){var t=o.findDOMNode(this.refs.urlField);ee("focus addressfield. Select?",e,document.activeElement),document.activeElement!==t&&t.focus(),e&&t.select()}},blurAddressField:function(e){if(this.isMounted()){var t=o.findDOMNode(this.refs.urlField);t.blur()}this.hideDropdown()},getDisplayURL:function(e){if(e){var t=K(e.get("url"));t.length>ne&&(t=t.substr(0,ne));var n=z.parse(t);if(n.auth&&(n.auth="",t=z.format(n)),""!==t){if(this.state.ADDRESS_BAR_SHOW_FULL_URL===!0)return t;var i=t.replace(/^(.*?:\/\/\/*)(.*)$/,"$2");return G.some(te,function(e){return 0===RegExp.$1.indexOf(e)})?t:this.state.focused!==!0?i.replace(/(.*?)[#\?].*/,"$1"):i}}return""},hideTooltip:function(){O.clearTooltip()},componentWillReceiveProps:function(e){this.props.page.get("id")!==e.page.get("id")&&this.prepareNewPage(e.page),this.props.page.get("favIcon")!==e.page.get("favIcon")&&this.updateColor(e.page),this.props.page.get("url")!==e.page.get("url")&&this._setBookmarkedState(e.page.get("url")),Array.isArray(e.searchEngines)&&this.props.searchEngines!==e.searchEngines&&this.setState({searchEnginesCleaned:W(e.searchEngines)})},componentDidUpdate:function(e,t,n){this.props.page.get("id")!==e.page.get("id")&&this.updateFocus(this.props.page)},onSearch:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];t&&(n.useSearchEngineURL=t,k.goSearchURL(e,n),this.hideDropdown())},componentWillMount:function(){p.addChangeListener(this._onMainStoreChanged),B.addChangeListener(this._onWebpageviewStoreChanged),T.addChangeListener(this._onTabStoreChanged),D.addListener(q,this._onUrlbarStoreChanged),I.addListener(q,this._onSearchFieldStoreChanged),v.addChangeListener(this._onNavigationStoreChanged),A.addChangeListener(this._onFastForwardStoreChanged),this._setBookmarkedState(this.props.page.get("url")),this.onSearchAddTypedHistory=G.partialRight(this.onSearch,{addTypedHistory:!0}),this.onSearchAddTypedSearchHistory=G.partialRight(this.onSearch,{addTypedSearchHistory:!0}),this.updateColor(this.props.page)},componentDidMount:function(){this.updateFocus(this.props.page)},componentWillUnmount:function(){p.removeChangeListener(this._onMainStoreChanged),B.removeChangeListener(this._onWebpageviewStoreChanged),T.removeChangeListener(this._onTabStoreChanged),D.removeListener(q,this._onUrlbarStoreChanged),I.removeListener(q,this._onSearchFieldStoreChanged),v.removeChangeListener(this._onNavigationStoreChanged),A.removeChangeListener(this._onFastForwardStoreChanged)},_onMainStoreChanged:function(e){if(e.page&&this.props.page&&e.page.cid===this.props.page.cid)switch(e.action){case"showPageInfo":this.doActionShowPageInfo(e.event)}},_onTabStoreChanged:function(e){"newTab"!==e.action&&"closeTab"!==e.action||this.hideDropdown()},updateFocus:function(e){if(e)switch(j(e)){case"urlField":this.focusAddressField()}},urlPasteAndGo:function(e){this.props.page&&this.props.page.get("active")&&(this.hideDropdown(),this.focusAddressField(),o.findDOMNode(this.refs.urlField).select(),document.execCommand("paste"),"url"===document.activeElement.className&&this.urlFieldGo(),this.blurAddressField())},focusSearchField:function(e){this.refs.search&&this.refs.search.focusField()},_onWebpageviewStoreChanged:function(e){var n=this;e.type===L.WEBPAGEVIEW_ACTIONS&&("addBookmark"===e.action?this.onCreateBookmarkCallout():"focusAddressField"===e.action?this.focusAddressField(!0):"urlPasteAndGo"===e.action?this.urlPasteAndGo():"focusSearchField"===e.action&&t.nextTick(function(){return n.focusSearchField()}))},onFocus:function(){this.setState({focused:!0})},onBlur:function(){this.setState({focused:!1})},urlFieldGo:function(e){var t=this,n=o.findDOMNode(this.refs.urlField).value.trim();if(n&&0!==n.length){if("/."===n)return k.go("http://slashdot.org"),void this.updateFocus(this.props.page);if(Y(n,X))return k.go(Z(n)),void this.updateFocus(this.props.page);var i=J.getUrl(n);this.hideDropdown(),U.bookmarks.getTree(function(e){var n=function s(e){i===e.nickname&&(i=e.children&&e.children.length?e.children.map(function(e){return e.url}):e.url),e.children&&e.children.forEach(s)};e.forEach(n),void 0!==t.refs.urlField.compProtocol&&("string"==typeof i&&(i=t.refs.urlField.compProtocol+i),t.refs.urlField.compProtocol="");var r=z.parse(i,!1,!0),o=z.parse(K(t.props.page.get("url")));if(!r.protocol&&o.protocol){var a=z.parse(o.protocol+(o.slashes?"//":"")+i);a.host===o.host&&(i=z.format(a))}k.go(i,{enableSearch:!0,addTypedHistory:!0,addTypedSearchHistory:!1})})}},fromDragDropBookmark:function(e){k.go(e)},doActionBack:function(e){R.back()},doActionForward:function(e){R.forward()},doActionFastForward:function(e){c.navigateFastforward(this.props.page)},doActionFastRewind:function(e){this.state.rewindRelativeIndex>0&&R.go(-1*this.state.rewindRelativeIndex)},doActionReload:function(e){this.state.navigationInfo&&(this.state.navigationInfo.get("isLoading")?R.stop():R.reload(),this.updateFocus(this.props.page));
},doActionHome:function(e){S.showHomepage()},doActionShowPageInfo:function(e){if(s.getActiveWebView()){var t=this.refs.webpageview_nav_siteinfo,n=t.getBoundingClientRect(),i=n.left,r=n.top,o=i+window.screenX+Math.round(t.offsetWidth/2),a=r+window.screenY+t.offsetHeight;s.getActiveWebView().showPageInfo({left:Math.floor(o),top:Math.floor(a)})}},setUrlDragEvent:function(e){var t=this.props.page.get("url"),n=e.dataTransfer,i=document.createElement("img");i.src=this.props.page.get("favIconUrl")||"/resources/default_favicon_64.png",n.setDragImage(i,i.width-i.width/3,i.height-i.height/3),n.setData("text/uri-list",t),n.setData("text/plain",t),n.setData("URL",t),n.setData("title",this.props.page.get("title"))},setAutocompleteHighlight:function(e,t){if(this.refs.omniDropdown){this.selIndex=e;var n=this.refs.omniDropdown.moveHighlight(e);if(t){var i=this.refs.omniDropdown.getCurrentValue();""!==i&&(o.findDOMNode(this.refs.urlField).value=i)}return n}return!1},moveAutocompleteHighlight:function(e,t){var n=o.findDOMNode(this.refs.omniDropdown);if(n){var i=null,r=!1,a=!1,s=n.getElementsByClassName("omni-clickable");if(null==this.selIndex||-1===this.selIndex||null==s[this.selIndex])i=e?0:this.refs.omniDropdown.getNumberOfSelectableItems()-1;else{var l=s[this.selIndex],u=0===this.selIndex||parseInt(n.scrollTop)+10>l.offsetTop;if(t)if(e)u?i=G.findIndex(s,function(e){return e.offsetTop+e.offsetHeight>n.offsetHeight}):(l.scrollIntoView(!0),i=G.findIndex(s,function(e){return e.offsetTop>n.offsetHeight+n.scrollTop})),-1===i&&(i+=this.refs.omniDropdown.getNumberOfSelectableItems());else if(u)n.scrollTop-=n.offsetHeight;else{for(var c=s.length-1;c>0&&!(s[c].offsetTop-s[c].offsetHeight<n.scrollTop);c--);i=c}else i=this.selIndex+(e?1:-1),e?i>=this.refs.omniDropdown.getNumberOfSelectableItems()&&(i=-1):(u?r=!0:a=!0,-1>i&&(i=this.refs.omniDropdown.getNumberOfSelectableItems()-1))}if(null!=i)return-1!==i?(a||s[i].scrollIntoView(r),this.setAutocompleteHighlight(i,!0)):this.setAutocompleteHighlight(-1,!0)}return!1},showOmniDropdown:function(e,t){this.state.ADDRESS_BAR_OMNIDROPDOWN_ENABLED!==!1&&(ee("showing dropdown"),this.props.showOmniDropdown!==!0&&(this.state.showTypedHistory!==!1&&this.hideDropdown(),this.setState({urlFieldSearchPattern:t,urlFieldSearchResults:e,showOmniDropdown:!0})))},hideDropdown:function(){this.state.showOmniDropdown!==!1&&(ee("hiding dropdown"),this.setState({showOmniDropdown:!1})),this.state.showTypedHistory!==!1&&(this.setState({showTypedHistory:!1}),k.hideTypedHistory()),this.selIndex=null},onOmniDropdownItemClicked:function(e,t){return t&&t.defaultPrevented?!1:(Array.isArray(e.urls)?k.go(e.urls):k.go(e.url),e.type===M.OMNI_RESULT_BOOKMARK_FOLDER_NICKNAME&&this.refs.urlField.revertUrl(),void this.hideDropdown())},onDeleteHistoryItem:function(e){var t=this;U.history.deleteUrl({url:e},function(){t.setState({urlFieldSearchResults:t.state.urlFieldSearchResults.filter(function(t){return t.url!==e})})})},toggleShowTypedHistory:function(){this.state.showTypedHistory===!0?k.hideTypedHistory():(this.focusAddressField(),k.showTypedHistory())},onCreateBookmarkCallout:function(e){var t=this.props.page;if(t.get("active")){if(!J.isBookmarkablePage(t))return;t.get("url")&&this.setState({createBookmarkCallout:!0})}},onCloseCreateBookmarkCallout:function(){this._setBookmarkedState(this.props.page.get("url")),this.setState({createBookmarkCallout:!1})},updateColor:function(e){if(!this.state.USE_TABCOLOR)return void P.removeCSSClasses();var t=v.getThemeColor(e);t&&P.colorIsValid(t)?P.updateCSSClasses(t):e.get("favIcon")&&$[e.get("favIcon")]?P.updateCSSClasses("rgb("+$[e.get("favIcon")].join(",")+")"):e.get("favIcon")?P.getToolbarBackgroundColor(e.get("favIcon"),function(t){$[e.get("favIcon")]=t,Array.isArray(t)&&3===t.length?P.updateCSSClasses("rgb("+t.join(",")+")"):P.removeCSSClasses()}):P.removeCSSClasses()},prepareNewPage:function(e){this.updateStoresForPage(e),this.updateFocus(e),this.hideDropdown()},forceRendering:function(e){this.setState({pageUpdated:!0})},onNavigationStateChanged:function(e){var t=e.get("url"),n=e.navigationState();switch(ee("page updated",n.trigger,t),n.trigger){case"init":R.closeFindInPageToolbar(e);break;case"commit":this.prepareNewPage(e);break;case"start":break;case"stop":break;case"content":break;case"abort":}},_getTypedSearchEngine:function(e,t){if("string"==typeof t&&t.indexOf(" ")>=1){var n=function(){var n=t.split(" ")[0];return{v:e.find(function(e){return e.Keyword.toLowerCase()===n.toLowerCase()})}}();if("object"===("undefined"==typeof n?"undefined":i(n)))return n.v}},_getDefaultSearchEngine:function(e){var t=this;return this.state.DEFAULT_SEARCH_ENGINE?e.find(function(e){return e.Id===parseInt(t.state.DEFAULT_SEARCH_ENGINE)}):e[0]},onProgressUpdate:function(e,t){J.isInternalPage(e)||this.setState({progressInfo:t})},onPopupAllowed:function(e){this.props.page&&(g.removeBlockedPopupEvent(this.props.page,e),this.refs.popupBlockerNotificator.onDialogClosed(),e.window.accept(window.vivaldiWindowId))},_isEditingUrl:function(){if(""===this.state.editUrl)return!0;if(null==this.state.editUrl)return!1;if(this.props.page&&this.refs.urlField){var e=this.refs.urlField.getTypedURL();return"string"==typeof e&&""!==e&&this.getDisplayURL(this.props.page)!==e}return!1},render:function(){var e={"bookmark-bar":!1,toolbar:!0,"toolbar-addressbar":!0,"favicon-current-background-color":this.state.USE_TABCOLOR&&"on"!==this.state.TABCOLOR_BEHIND_TABS,"default":!this.state.USE_TABCOLOR,search:this.state.SEARCH_FIELD_ENABLED},t=this.state.searchEnginesCleaned||[],i=this._getTypedSearchEngine(this.props.searchEngines,this.state.editUrl),o=this._getDefaultSearchEngine(t),a=J.isBookmarkablePage(this.props.page),s=J.isInternalPage(this.props.page),c=J.isInternalPage(this.props.page),A=this.state.sslInfo.get("issuer")||"",p=this.state.sslInfo.get("state"),g=this._isEditingUrl()?{secure:!1,certified:!1,insecure:!1,internal:!0}:{secure:"secure_no_ev"===p,certified:"secure_with_ev"===p,insecure:"security_error"===p,internal:s},v=F(this.state.typedHistory.length>0?"Show typed history":"Enter an address to activate typed history");return r.createElement(d,{focusName:"focus_addressbar",className:V(e),ref:"urlbar"},r.createElement(m,{type:"Back",ref:"webpageview_nav_back",keyAccess:this.state.KEY_ACCESS,canNavigate:this.state.navigationInfo.get("canGoBack"),doAction:this.doActionBack}),r.createElement(m,{type:"Forward",ref:"webpageview_nav_forward",keyAccess:this.state.KEY_ACCESS,canNavigate:this.state.navigationInfo.get("canGoForward"),doAction:this.doActionForward}),this.state.SHOW_FFW_RWD_BUTTONS&&r.createElement(m,{type:"Rewind",ref:"webpageview_nav_rew",keyAccess:this.state.KEY_ACCESS,canNavigate:Number.isInteger(this.state.rewindRelativeIndex)&&this.state.rewindRelativeIndex>0,doAction:this.doActionFastRewind}),this.state.SHOW_FFW_RWD_BUTTONS&&r.createElement("button",{className:"button-toolbar next",ref:"webpageview_nav_ffw",tabIndex:this.state.KEY_ACCESS,title:this.state.forwardUrl?F("Fast Forward - $1",[this.state.forwardUrl]):F("Fast Forward"),onClick:this.doActionFastForward,disabled:!this.state.forwardUrl,dangerouslySetInnerHTML:{__html:n(511)}}),r.createElement("button",{className:V("button-toolbar","reload",{loading:this.state.navigationInfo.get("isLoading")&&!s}),tabIndex:this.state.KEY_ACCESS,disabled:!c&&(!this.state.navigationInfo.get("canNavigate")||s),title:F(this.state.navigationInfo.get("isLoading")&&!s?"Stop":"Reload current page"),onClick:this.doActionReload},this.state.navigationInfo.get("isLoading")&&!s?r.createElement("span",{dangerouslySetInnerHTML:{__html:n(516)}}):r.createElement("span",{dangerouslySetInnerHTML:{__html:n(513)}})),r.createElement("button",{className:"button-toolbar home",ref:"webpageview_nav_home",title:F("Go to homepage"),tabIndex:this.state.KEY_ACCESS,onClick:this.doActionHome,dangerouslySetInnerHTML:{__html:n(206)}}),r.createElement("div",{ref:"addressfield",className:V({addressfield:!0,"favicon-current-border-color":this.state.USE_TABCOLOR&&"on"!==this.state.TABCOLOR_BEHIND_TABS,focused:this.state.focused})},r.createElement(y,{page:this.props.page,ref:"webpageview_loadprogress",open:!s}),this.props.incognito===!0&&r.createElement("div",{title:F("Private Window"),className:"private-window-button",dangerouslySetInnerHTML:{__html:n(526)}}),i?r.createElement("img",{className:"searchengine-icon",src:i.Image}):r.createElement("button",{ref:"webpageview_nav_siteinfo",className:V("button-addressfield","addressfield-siteinfo",g),title:F("Site info"),tabIndex:this.state.KEY_ACCESS,draggable:!s,onDragStart:this.setUrlDragEvent,onClick:this.doActionShowPageInfo},A),r.createElement("form",{onSubmit:this.urlFieldGo},r.createElement(N,{displayUrl:this.getDisplayURL(this.props.page),autocompletionEnabled:this.state.ADDRESS_BAR_AUTOCOMPLETE_ENABLED,autocompletionPreferBookmarks:this.state.ADDRESS_BAR_AUTOCOMPLETE_PREFER_BOOKMARKS,editUrl:this.state.editUrl,fieldGo:this.urlFieldGo,hideDropdown:this.hideDropdown,isActive:this.props.page&&this.props.page.get("active")||!1,isOmniDropdownOpen:this.state.showOmniDropdown,isTypedHistoryOpen:this.state.showTypedHistory,moveAutocompleteHighlight:this.moveAutocompleteHighlight,onBlur:this.onBlur,onDragDropBookmark:this.fromDragDropBookmark,onFocus:this.onFocus,pageId:this.props.page&&this.props.page.get("id"),ref:"urlField",selectionEnd:this.state.selectionEnd,selectionStart:this.state.selectionStart,suggestEnabled:this.state.ADDRESS_BAR_SUGGEST_ENABLED,showDropdown:this.showOmniDropdown,autocompleteOnTitle:!0,url:this.props.page&&this.props.page.get("url")||"",defaultSearchEngine:o,typedSearchEngine:i}),this.state.showTypedHistory===!0?r.createElement(w,{ref:"omniDropdown",setAutocompleteHighlight:this.setAutocompleteHighlight,onLinkItemClicked:this.onOmniDropdownItemClicked,displayUrl:this.props.page&&K(this.props.page.get("url"))||"",results:this.state.typedHistory}):this.state.ADDRESS_BAR_OMNIDROPDOWN_ENABLED!==!1&&r.createElement(_,{ref:"omniDropdown",pattern:this.state.urlFieldSearchPattern,results:this.state.urlFieldSearchResults,defaultSearchEngine:o,typedSearchEngine:i,onLinkItemClicked:this.onOmniDropdownItemClicked,onDeleteHistoryItem:this.onDeleteHistoryItem,setAutocompleteHighlight:this.setAutocompleteHighlight,onSearchClicked:this.onSearchAddTypedHistory,isUrlbarSearchDisabled:this.state.URLBAR_SEARCH_DISABLED,isOpen:this.state.showOmniDropdown,onClose:this.hideDropdown,disableOnClickOutside:!0,suggestEnabled:this.state.ADDRESS_BAR_SUGGEST_ENABLED,displayUrl:this.props.page&&K(this.props.page.get("url"))||""})),this.state.permissionInfo.get("geolocation")&&r.createElement(h,{request:this.state.permissionInfo.get("geolocation"),page:this.props.page}),this.state.permissionInfo.get("media")&&r.createElement(f,{request:this.state.permissionInfo.get("media"),page:this.props.page}),this.state.permissionInfo.get("notifications")&&r.createElement(E,{request:this.state.permissionInfo.get("notifications"),page:this.props.page}),this.state.SHOW_ADDRESS_BAR&&r.createElement(u,{showPageActions:!0,showBrowserActions:!1,incognito:this.props.incognito}),this.state.blockedPopups.size>0&&r.createElement(b,{ref:"popupBlockerNotificator",url:this.props.page&&this.props.page.get("url"),blockedPopups:this.state.blockedPopups,onPopupAllowed:this.onPopupAllowed}),r.createElement("button",{className:"button-addressfield input-dropdown",title:v,tabIndex:this.state.KEY_ACCESS,disabled:0===this.state.typedHistory.length,onMouseDown:this.toggleShowTypedHistory,dangerouslySetInnerHTML:{__html:n(209)}}),this.props.page&&a&&r.createElement(l,{ref:"bookmarkCallout",keyAccess:this.state.KEY_ACCESS,open:this.state.createBookmarkCallout,onOpen:this.onCreateBookmarkCallout,onClose:this.onCloseCreateBookmarkCallout,title:this.props.page.get("title"),url:this.props.page.get("url"),isBookmarked:this.state.isBookmarked,isBookmarkable:a,isSearchOn:this.state.SEARCH_FIELD_ENABLED,thumbnail:this.props.page.getIn(["extData","thumbnail"])})),this.state.SEARCH_FIELD_ENABLED&&r.createElement(C,{ref:"search",page:this.props.page,value:this.state.searchText,tabcolor:!(!this.state.USE_TABCOLOR||"off"!==this.state.TABCOLOR_BEHIND_TABS),defaultSearchEngine:this.state.DEFAULT_SEARCH_ENGINE,currentSearchEngine:this.state.currentSearchEngine,searchEngines:this.state.searchEnginesCleaned,onEnterPressed:this.onSearchAddTypedSearchHistory,keyAccess:this.state.KEY_ACCESS}),this.state.SHOW_ADDRESS_BAR&&r.createElement(u,{showPageActions:!1,showBrowserActions:!0,incognito:this.props.incognito}))}});e.exports=ie}).call(t,n(22))},function(e,t,n){"use strict";var i=n(1),r=n(62),o=n(62),a=n(62),s=n(175),l=n(408),u=n(381),c=n(20).urls,A=n(75),d=A.isPageVisible,h=i.createClass({displayName:"InternalPage",render:function(){var e=this.props.page,t=e.get("url"),n=[],A=d(e),h=Boolean(c.matchInternal("startpage",t)),p=Boolean(c.matchInternal("welcome",t));if(n.push(i.createElement(u,{open:A&&(h||p),page:e,view:"speeddial",updatePageThumbnailWithActiveWebview:this.props.updatePageThumbnailWithActiveWebview,key:"startpage"})),c.matchInternal("bookmarks",t)&&n.push(i.createElement(u,{open:d(e)&&c.matchInternal("bookmarks",t),page:e,view:"bookmarks",updatePageThumbnailWithActiveWebview:this.props.updatePageThumbnailWithActiveWebview,key:"bookmarks"})),c.matchInternal("history",t)&&n.push(i.createElement(u,{open:d(e)&&c.matchInternal("history",t),page:e,view:"history",updatePageThumbnailWithActiveWebview:this.props.updatePageThumbnailWithActiveWebview,key:"history"})),p&&n.push(i.createElement(l,{open:A,page:e,key:"welcome"})),c.matchInternal("settings",t))n.push(i.createElement(s,{page:e,key:"settings"}));else if(c.matchUrl(c.internalUrl("mailpage","composer"),t)){var f=c.getUrlParams(t).path,m=f.substr("composer/".length);n.push(i.createElement(r,{action:m,key:"mail"}))}else if(c.matchUrl(c.internalUrl("mailpage","message"),t)){var f=c.getUrlParams(t).path,g=f.split("/"),v=g[1],E=g.slice(2,g.length-1).join("/"),_=g[g.length-1];n.push(i.createElement(o,{key:"mailmessage",accountId:v,path:E,uid:_}))}else c.matchInternal("mailpage",t)&&n.push(i.createElement(a,{key:"mailview"}));return i.createElement("div",{className:"internal-page"},n)}});e.exports=h},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(405),a=n(35),s=n(19),l=n(75),u=l.isPageVisible,c=n(20),A=c.urls,d=n(3),h=i.createClass({displayName:"WebPageCollection",mixins:[r],componentDidUpdate:function(e,t){var n=this;this.props.pages.find(function(e){return e.get("isRemoved")})&&d.tabs.query({windowId:window.vivaldiWindowId},function(e){return e.forEach(function(e){var t=n.props.pages.find(function(t){return t.get("id")===e.id});t&&t.get("isRemoved")&&d.tabs.remove(e.id,function(){d.runtime.lastError})})})},handleFocus:function(e){"WEBVIEW"===e.relatedTarget.tagName&&this.props.cycleFocus===!0&&a.doAction("focusWebView")},render:function(){var e=this.props.cycleFocus?"0":"-1";return i.createElement("div",{id:"webpage-stack"},i.createElement("span",{tabIndex:e,onFocus:this.handleFocus}),this.props.pages.filter(function(e){return!Boolean(e.get("isRemoved"))}).sortBy(function(e){return e.get("id")}).map(function(e){return i.createElement(o,{id:"page-component-"+e.get("id"),key:"page-component-"+e.get("id"),page:e,tiles:s.getTiles(e.getIn(["extData","tiling","id"])),isInternal:A.isInternalPage(e),isVisible:u(e)})}),i.createElement("span",{tabIndex:e,onFocus:this.handleFocus}))}});e.exports=h},function(e,t,n){(function(t){"use strict";var i=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(1),o=n(12),a=n(7),s=n(249),l=n(184),u=n(154),c=n(57),A=n(282),d=n(294),h=n(29),p=n(403),f=n(58),m=n(27),g=n(59),v=n(61),E=n(14),_=n(52),S=n(46),y=n(5),b=n(4),C=n(10),I=n(35),T=n(47),O=n(94),w=n(89),N=n(185),k=n(3),D=n(6),M=n(64),P=n(125),L=n(17),x=n(9),R=n(75),B=R.isPageTiled,F=n(20),U=F.urls,V=n(126),W={close:"handleOnClose",contentload:"handleContentLoad",contentsdiscarded:"handleOnContentsDiscarded",createsearch:"handleOnCreateSearch",dialog:"handleOnJavascriptDialog",exit:"handleOnProcessExit",loadabort:"handleLoadAbort",loadcommit:"handleLoadCommit",loadprogress:"handleOnLoadProgress",loadredirect:"handleLoadRedirected",loadstart:"handleLoadStart",loadstop:"handleLoadStop",mediastatechanged:"handleOnMediaStateChanged",newwindow:"handleOnNewWindow",pasteandgo:"handleOnPasteAndGo",permissionrequest:"handleOnPermissionRequest",requestpageinfo:"handleOnRequestPageInfo",sslstatechanged:"handleOnSSLStateChanged",targeturlchanged:"handleOnTargetURLChanged"},H=r.createClass({displayName:"WebPageContent",mixins:[a,C],_injectScript:!1,_updateFocus:!1,vivaldiSettingsKeys:["SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS"],getInitialState:function(){return Object.assign({fullscreen_state_changed:null,blockPopups:!0,dialogParentElement:null},this.getContentScriptStoreState(this.props.page))},componentWillMount:function(){T.addChangeListener(this._onWebpageviewStoreChanged),N.addChangeListener(this._onContentScriptStoreChanged)},componentDidMount:function(){var e=this;this.webview=this.refs.pagediv.firstChild,this.webview.setVisible(this.props.isVisible),this.attachWebviewHandlers(),this.props.page.get("active")&&t.nextTick(function(){s.setActiveWebView(e.webview)})},componentWillReceiveProps:function(e){var n=this,i=this.props.page,r=e.page,o=i.get("active")===!1&&r.get("active")===!0;if(o&&this.webview&&(t.nextTick(function(){return s.setActiveWebView(n.webview)}),O.getNavigationInfo(e.page).isLoading!==!0))try{this.updateFocus(r)}catch(a){t.nextTick(function(){return n.updateFocus(r)})}this.updateViewUnchangedFlag(i,r),i.get("id")!==r.get("id")&&this.setState(this.getContentScriptStoreState(r)),e.isVisible!==this.props.isVisible&&this.webview.setVisible(e.isVisible),r.get("target")&&r.get("target")!==i.get("target")&&(this.checkProcessExitState(),this.webview.src=e.page.getIn(["target","url"]),e.page.getIn(["target","isTyped"])&&(this.webview.wasTyped="true"))},componentDidUpdate:function(e,t){var n=e.page,i=this.props.page,r=n.get("active")===!1&&i.get("active"),o=!i.getIn(["extData","thumbnail"]);r&&o&&this.updatePageThumbnailWithActiveWebview(i,50)},componentWillUnmount:function(){T.removeChangeListener(this._onWebpageviewStoreChanged),N.removeChangeListener(this._onContentScriptStoreChanged),this.removeWebviewHandlers()},_onContentScriptStoreChanged:function(){var e=this,t=this.getContentScriptStoreState(this.props.page);if(t.pageScripts!==this.state.pageScripts){var n=this.state.pageScripts.some(function(e,n){return e&&!t.pageScripts.get(n)});if(n)return this.setState(t),void this.webview.reload();var i=t.contentScripts.filter(function(n){return!e.state.pageScripts.get(n.get("name"))&&t.pageScripts.get(n.get("name"))});return this.injectUserContentScripts(i),void this.setState(t)}this.setState(t)},checkProcessExitState:function(){var e=this;void 0!==this.props.page.get("processexitstate")&&"normal"!==this.props.page.get("processexitstate")&&(this.handleOnContentsDiscarded(),t.nextTick(function(){return E.setProcessExitState(e.props.page.get("id"),void 0)}))},getContentScriptStoreState:function(e){return{contentScripts:N.getContentScripts(),pageScripts:N.getPageScripts(e)}},viewUnchangedFlags:{},updateViewUnchangedFlag:function(e,t){var n=["extData","tiling"];e.get("active")===t.get("active")&&e.getIn(n)===t.getIn(n)||(this.viewUnchangedFlags={})},isInternalThumbnail_:function(e){return e&&0===e.indexOf("/resources/")},updatePageThumbnailWithActiveWebview:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=M();this.viewUnchangedFlags[i]=this.props.page.get("active")===!0;var r=e.get("url");setTimeout(function(){t.viewUnchangedFlags[i]&&!function(){var n=e.get("incognito");x.thumbnails.isThumbnailAvailable("",r,function(o){o.hasThumbnail!==!1||n?_.getPageThumbnail(e,50,t.webview,{thumbUrl:r,captureAsBase64:!0,incognito:n},function(n){t.props.page.get("active")&&t.viewUnchangedFlags[i]&&n&&E.setThumbnail(e,n)}):_.getPageThumbnail(e,50,t.webview,{thumbUrl:r,captureAsBase64:!1,incognito:n},function(n){t.props.page.get("active")&&t.viewUnchangedFlags[i]&&n&&E.setThumbnail(e,n)})})}()},n);var o=l.getQueue(e);o&&o.get("url")===e.get("url")&&!function(){var n=o.get("id");k.bookmarks.get(n,function(r){if(k.runtime.lastError)console.warn("chrome.bookmarks.get failed:",n,k.runtime.lastError);else{var o=r&&1===r.length?r[0]:null,a=t.isInternalThumbnail_(o.thumbnail);a===!1&&x.thumbnails.isThumbnailAvailable(o.id,"",function(n){if(n.hasThumbnail===!1){var r="http://bookmark_thumbnail/"+o.id;_.getPageThumbnail(e,50,t.webview,{thumbUrl:r,captureAsBase64:!1,incognito:!1},function(e){t.props.page.get("active")&&t.viewUnchangedFlags[i]?k.bookmarks.update(o.id,{thumbnail:e}):console.warn("Cannot update thumbnail as page was not active")})}})}}),u.remove(e,n,m)}()},attachWebviewHandlers:function(){var e=this;Object.keys(W).forEach(function(t){return e.webview.addEventListener(t,e[W[t]])})},removeWebviewHandlers:function(){var e=this;Object.keys(W).forEach(function(t){return e.webview.removeEventListener(t,e[W[t]])})},updateNavigationState:function(e,t,n){var i=U.isNavigatablePage(this.props.page),r=h.Map({canNavigate:i,canGoBack:i&&this.webview.canGoBack(),canGoForward:this.webview.canGoForward(),isLoading:t,trigger:n});g.setNavigationState(this.props.page,r)},getMetaThemeColor:function(){var e=this,t="(function() {\n        var metaThemeColor = document.querySelector('meta[name=theme-color]');\n        if (metaThemeColor) {\n          return metaThemeColor.getAttribute('content');\n        } else {\n          return \"\";\n        }\n      })()";this.webview.executeScript({code:t},function(t){if(!k.runtime.lastError){var n=i(t,1),r=n[0];r?g.setThemeColor(e.props.page,r):g.setThemeColor(e.props.page,null)}})},handleContentLoad:function(e){this.props.page.get("active")&&this.updatePageThumbnailWithActiveWebview(this.props.page,100),this.updateNavigationState(e.url,!1,"content")},handleLoadCommit:function(e){var n=this;if(e.isTopLevel){if(U.isInternalUrl(e.url)?w.setFastForwardInfo(this.props.page.get("id"),""):this._injectScript=!0,U.equalUrl(e.url,this.props.page.get("url"),!0)||g.resetPermissions(this.props.page),this._injectScript===!0){this.webview.executeScript({file:"browser-bundle.js"},function(){return w.initTab(n.props.page)});var i=this.state.contentScripts.filter(function(e){return Boolean(n.state.pageScripts.get(e.get("name")))});this.injectUserContentScripts(i),this._injectScript=!1}t.nextTick(function(){return w.setRewindInfo(n.webview,n.props.page)}),this.webview.setVisible(this.props.isVisible),this.updateNavigationState(e.url,!0,"commit"),this._updateFocus&&(S.clearUrlfieldState(this.props.page.get("id")),this.updateFocus(this.props.page),this._updateFocus=!1)}},handleLoadStart:function(e){if(e.isTopLevel){var t=this.props.page,n=t.getIn(["extData","urlForThumbnail"]);this.props.page.get("active")&&n!==e.url&&E.setThumbnail(t,null),this.updateNavigationState(e.url,!0,"start"),U.isInternalUrl(e.url)||(this._injectScript=!0),this._updateFocus=!0}},handleLoadStop:function(e){this.updateNavigationState(e.url,!1,"stop"),this.getMetaThemeColor(),this.props.page.getIn(["extData","thumbnail"])||this.updatePageThumbnailWithActiveWebview(this.props.page,0)},handleLoadRedirected:function(e){if(e.isTopLevel){var t=e.newUrl,n=e.oldUrl;u.update(this.props.page,n,t)}},handleLoadAbort:function(){event.isTopLevel&&this.updateNavigationState(event.url,!1,"abort")},handleOnLoadProgress:function(e){var t=h.Map({url:e.url,progress:e.progress,loadedBytes:e.loadedBytes,loadedElements:e.loadedElements,totalElements:e.totalElements});g.setProgressState(this.props.page,t)},handleOnClose:function(){E.closePage(this.props.page)},handleBlockedPopup:function(e){g.addBlockedPopupEvent(this.props.page,e)},injectUserContentScripts:function(e){var t=this;e.forEach(function(e){var n={code:e.get("code"),allFrames:!0,runAt:"document_start"};"script"===e.get("type")?t.webview.executeScript(n):"style"===e.get("type")&&t.webview.insertCSS(n)})},_onNewPopupCallback:function(e,t){t!==!1?this.handleBlockedPopup(e):e.window.accept(window.vivaldiWindowId+";1")},onNewPopup:function(e){e.targetUrl||(e.targetUrl="about:blank"),e.userGesture?(this.setState({blockPopups:!1}),this._onNewPopupCallback(e,!1)):k.contentSettings.popups.get({primaryUrl:this.props.page.get("url")},function(t){if(k.runtime.lastError)return void console.warn("ERROR getting content settings for popups. Original message:\n"+k.runtime.lastError.message);var n=!0;t&&(n="allow"!==t.setting,this.setState({blockPopups:n})),this._onNewPopupCallback(e,n)}.bind(this))},handleOnNewWindow:function(e){switch(e.windowOpenDisposition){case"current_tab":e.preventDefault(),e.window.accept(window.vivaldiWindowId+";1");break;case"new_background_tab":e.preventDefault(),e.window.accept(window.vivaldiWindowId+";0");break;case"new_foreground_tab":e.preventDefault(),e.window.accept(window.vivaldiWindowId+";1");break;case"new_window":e.preventDefault(),E.openWindow(null,{},function(t){e.window.accept(t.id+";1")});break;case"off_the_record":e.preventDefault(),E.openWindow(e.targetUrl,{incognito:!0},function(t){e.window.accept(t.id+";1;I")});break;case"new_popup":e.preventDefault(),this.onNewPopup(e);break;case"ignore":case"save_to_disk":}},showDialog:function(e){e.webview=this.webview,this.setState({dialogParentElement:this.refs.webpagecontainer,customData:e})},handleOnCloseDialog:function(e){this.setState({dialogParentElement:null})},handleOnJavascriptDialog:function(){event.preventDefault(),event.dialogtype="javascript",this.showDialog(event)},handleOnPermissionRequest:function(e){var t=this;switch(e.preventDefault(),e.permission){case"geolocation":case"media":case"notifications":var n=null;g.setPermission(this.props.page,e.permission,e.request,n);break;case"loadplugin":e.request.allow();break;case"download":b.get("AUTOMATICALLY_DOWNLOAD_FILES",function(n){if(n){e.request.allow();var i=document.querySelector("#panels-container");i.style.width.slice(0,-2)<50&&t.state.SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS&&c.executeActions("COMMAND_SHOW_DOWNLOADS_PANEL")}else e.dialogtype=e.permission,t.showDialog(e)});break;default:e.dialogtype=e.permission,this.showDialog(e)}},handleOnMediaStateChanged:function(e){E.setMediaState(this.props.page.get("id"),e.activeMediaType)},handleOnProcessExit:function(e){E.setProcessExitState(this.props.page.get("id"),e.reason)},handleOnSSLStateChanged:function(e){g.setSSLState(this.props.page,e.SSLState,e.issuerstring)},handleOnTargetURLChanged:function(e){var t=e.newUrl,n=V(t);E.setTargetURL(n);var i=m.parse(n);i.auth="",v.setStatus(m.format(i))},handleOnCreateSearch:function(){event.dialogtype="createSearch",this.showDialog(event)},handleOnPasteAndGo:function(e){e.preventDefault();var t=e.clipBoardText.trim();S.go(t)},handleOnContentsDiscarded:function(){this.removeWebviewHandlers(),o.findDOMNode(this.refs.pagediv).removeChild(this.webview);var e=document.createElement("webview");e.id=this.props.page.get("id"),e.partition="persist:storage",e.tab_id=this.props.page.get("id"),o.findDOMNode(this.refs.pagediv).appendChild(e),this.webview=e,this.attachWebviewHandlers()},handleOnRequestPageInfo:function(e){f.showPageInfo(this.props.page,e)},_onWebpageviewStoreChanged:function(e){var n=this;e.type===y.CLOSE_FIND_IN_PAGE_ACTION?this.props.page.get("active")&&(this.webview.stopFinding("keep"),this.focusWebView()):e.type===y.PAGE_GO?this.props.page.get("active")&&this.webview.go(e.index):e.type===y.PAGE_BACK?this.props.page.get("active")&&this.webview.back():e.type===y.PAGE_DISCARD?this.props.page.get("id")===e.page.get("id")&&this.webview.discardPage():e.type===y.PAGE_FORWARD?this.props.page.get("active")&&this.webview.forward():e.type===y.PAGE_STOP?this.doActionStop():e.type===y.PAGE_RELOAD?(this.checkProcessExitState(),this.props.page.get("active")&&(k.tabs.reload(this.props.page.get("id"),{bypassCache:e.bypassCache}),t.nextTick(function(){return g.resetPermissions(n.props.page)}))):e.type===y.WEBPAGEVIEW_ACTIONS&&("exportSettings"===e.action||("focusWebView"===e.action?this.props.page.get("active")&&this.focusWebView():"print"===e.action?this.props.page.get("active")&&this.webview.print():"savePage"===e.action?this.savePage():"openPage"===e.action&&this.openPage()))},doActionStop:function(){this.props.page.get("active")&&this.webview.stop()},savePage:function(){this.props.page.get("active")&&x.importData.savePage(function(e){})},openPage:function(){this.props.page.get("active")&&x.importData.openPage(function(e){})},focusWebView:L.debounce(function(){U.isInternalUrl(this.props.page.get("url"))?o.findDOMNode(this.refs.internal).querySelector("input:first-of-type, button:first-of-type, select:first-of-type").focus():this.webview.focus()},5),onMouseDown:function(){this.props.page.get("active")||E.openPage(this.props.page)},getTilingStyle:function(){var e=this;if(this.props.tiles.count()<2)return{};var t=this.props.page.getIn(["extData","tiling"]),n=this.props.tiles.count(),i=this.props.tiles.findIndex(function(t){return t.get("id")===e.props.page.get("id")});if("grid"===t.get("layout")){var r=Math.ceil(Math.sqrt(n)),o=Math.ceil(n/r),a=Math.floor(i/r),s=i%r,l=100/r,u=100/o,c=u;return o-a>1&&i+r*(o-a-1)>=n&&(c=100/(o-1)),{top:c*a+"%",height:c+"%",left:l*s+"%",width:l+"%"}}if("horizontally"===t.get("layout")){var A=100/n;return{top:A*i+"%",height:A+"%"}}var A=100/n;return{left:A*i+"%",width:A+"%"}},updateFocus:function(e){if(e&&e.get("active")===!0){var t=P(e);"findInPage"===t?this.focusFindInPage():"content"===t&&this.focusWebView()}},focusFindInPage:function(){I.showFindInPageToolbar(this.props.page)},_onFindInPage:function(e,t){I.findInPage(this.props.page,e,t,this.webview)},_onFindNextInPage:function(e,t,n){I.findNextInPage(this.props.page,e,t,n,this.webview)},render:function(){var e=this.props.page,t=Object.assign({visibility:this.props.isVisible?"visible":"hidden",zIndex:this.props.isVisible?"inherit":"0"},this.getTilingStyle()),n={webpageview:!0,active:e.get("active"),visible:this.props.isVisible,tiled:B(this.props.page)};return r.createElement("div",{className:D(n),ref:"webpageview",style:t,tabIndex:"-1",onMouseDown:this.onMouseDown},r.createElement("div",{ref:"webpagecontainer"},r.createElement(d,{ref:"findInPage",page:e,onFindInPage:this._onFindInPage,onFindNextInPage:this._onFindNextInPage}),r.createElement("div",{ref:"pagediv",className:"webpage",dangerouslySetInnerHTML:{__html:'<webview\n              id="'+e.get("id")+'"\n              partition="persist:storage"\n              tab_id="'+e.get("id")+'" />'}}),r.createElement(p,{ref:"internal",page:e,updatePageThumbnailWithActiveWebview:this.updatePageThumbnailWithActiveWebview}),this.state.dialogParentElement&&r.createElement(A,{dialogParentElement:this.state.dialogParentElement,customData:this.state.customData,closeDialog:this.handleOnCloseDialog})))}});e.exports=H}).call(t,n(22))},function(e,t,n){"use strict";var i=n(31),r=n(19),o=n(7),a=n(1),s=n(2),l=n(6),u=n(34).ensureURLProtocol,c=n(20).urls,A=n(72),d=n(54),h=n(46),p=n(5),f=n(26),m=p.CHANGED,g=a.createClass({displayName:"AddWebPanelButton",mixins:[i,o],getInitialState:function(){return{drawerOpen:!1,url:"",editUrl:null}},componentWillMount:function(){d.addListener(m,this._onUrlbarStoreChanged)},componentWillUnmount:function(){d.removeListener(m,this._onUrlbarStoreChanged)},_onUrlbarStoreChanged:function(){var e=d.getUrlfieldStateFromId("AddWebPanel");this.setState(e)},handleClickOutside:function(){this.closeDrawer()},onToggleCallout:function(){if(this.state.drawerOpen)this.closeDrawer();else{var e=r.getActivePage(),t=e.get("url"),n={drawerOpen:!0
};c.isBookmarkablePage(e)&&(n.url=t),h.setUrlfieldState("AddWebPanel",{selectionStart:0,selectionEnd:t.length,editUrl:null}),this.setState(n),f.bind("esc",this.closeDrawer)}},onAddWebpanel:function(){var e=(this.state.editUrl||this.state.url||"").trim();0!==e.length&&(e=u(e),this.props.addNew(e),this.setState(this.getInitialState()))},onUrlChange:function(e){this.setState({url:e})},closeDrawer:function(e){f.unbind("esc",this.closeDrawer),this.setState({drawerOpen:!1})},preventContextMenu:function(e){e.stopPropagation()},render:function(){var e=l({addwebpanelcallout:!0,hidden:!this.state.drawerOpen});return a.createElement("div",{className:"addwebpanel-wrapper"},a.createElement("button",{title:s("Add Web Panel"),className:"addwebpanel",tabIndex:this.props.keyAccess,onClick:this.onToggleCallout,dangerouslySetInnerHTML:{__html:n(65)}}),this.state.drawerOpen&&a.createElement("div",{className:e,onContextMenu:this.preventContextMenu},a.createElement("form",null,a.createElement("header",null,a.createElement("h1",null,s("Add Web Panel"))),a.createElement("div",{className:"toolbar icons"},a.createElement(A,{ref:"input",className:"address",title:s("Enter webpage address"),pageId:"AddWebPanel",placeholder:"vivaldi.net",displayUrl:this.state.url,editUrl:this.state.editUrl,autocompletionEnabled:!0,triggerTypedHistory:!1,selectionStart:this.state.selectionStart,selectionEnd:this.state.selectionEnd,onUrlFieldChanged:this.onUrlChange,autoFocus:!0}),a.createElement("button",{className:"button-toolbar add",onClick:this.onAddWebpanel,dangerouslySetInnerHTML:{__html:n(65)}})))))}});e.exports=g},function(e,t,n){"use strict";var i=n(1),r=n(12),o=n(7),a=n(14),s=n(41),l=n(2),u=n(3),c=n(6),A=n(73),d=n(27),h=n(76),p=n(182),f=p.uaspoofRules,m=p.uaspoofRuleIds,g='(function() {\n  var faviconElement = document.querySelector(\n    \'link[rel="icon"],link[rel="shortcut icon"]\');\n  if (faviconElement) {\n    return faviconElement.getAttribute(\'href\');\n  } else {\n    return "";\n  }\n})()',v=i.createClass({displayName:"WebPanel",mixins:[o],getInitialState:function(){return{title:l("Loading..."),canGoBack:!1,canReload:!1,lookupFavicon:!0}},componentDidMount:function(){var e=this,t=this.refs.webpanelwebview;this.props.mobileMode&&t.setUserAgentOverride(this.getMobileUAString()),t.addEventListener("contentload",this.handleContentLoad),t.addEventListener("loadstop",this.handleLoadStop),t.addEventListener("newwindow",this.handleNewWindow),t.addEventListener("dialog",this.handleDialog),u.declarativeWebRequest.onRequest.removeRules(m,function(){return t.src=e.props.src}),s.addChangeListener(this.onPanelStoreChange)},componentWillUnmount:function(){var e=this.refs.webpanelwebview;e.removeEventListener("contentload",this.handleContentLoad),e.removeEventListener("loadstop",this.handleLoadStop),e.removeEventListener("newwindow",this.handleNewWindow),e.removeEventListener("dialog",this.handleDialog),s.removeChangeListener(this.onPanelStoreChange)},componentDidUpdate:function(){this.props.focusContent&&(document.activeElement.blur(),this.refs.webpanelwebview.focus())},componentWillReceiveProps:function(e){var t=this.refs.webpanelwebview;e.mobileMode!==t.isUserAgentOverridden()&&(e.mobileMode?t.setUserAgentOverride(this.getMobileUAString()):t.setUserAgentOverride(navigator.userAgent),this.reload())},onPanelStoreChange:function(e){this.props.isVisible&&"setFocus"===e&&!A(r.findDOMNode(this))&&(document.activeElement.blur(),r.findDOMNode(this).querySelector("webview").focus())},getMobileUAString:function(){var e=navigator.userAgent,t=e.indexOf("("),n=e.indexOf(")",t);return t>=0&&n>t&&(e=e.substr(0,t+1)+"Linux; Android 6.0.1; SM-G920F Build/MMB29K"+e.substr(n)),e=e.replace("Safari","Mobile Safari")},handleNewWindow:function(e){switch(e.windowOpenDisposition){case"current_tab":case"new_foreground_tab":e.preventDefault(),e.window.accept(window.vivaldiWindowId+";1");break;case"new_background_tab":e.preventDefault(),e.window.accept(window.vivaldiWindowId+";0");break;case"new_window":e.preventDefault(),a.openWindow(e.targetUrl,{focused:!0});break;case"off_the_record":e.preventDefault(),a.openWindow(e.targetUrl,{focused:!0,incognito:!0});break;case"new_popup":e.preventDefault();break;case"ignore":case"save_to_disk":}},handleDialog:function(e){"confirm"===e.messageType||"prompt"===e.messageType?e.dialog.cancel():"alert"===e.messageType&&e.dialog.ok("")},getFaviconHost:function(){var e=d.parse(this.refs.webpanelwebview.src);return e.protocol+"//"+e.host+"/"},handleLoadStop:function(e){u.declarativeWebRequest.onRequest.addRules(f);var t=this.refs.webpanelwebview;this.setState({canGoBack:t.canGoBack(),canReload:!0}),this.state.lookupFavicon&&t.executeScript({code:g},function(e){u.runtime.lastError&&console.warn("query favicon:",u.runtime.lastError);var t=void 0===e?void 0:e[0];if(t){var n=t.indexOf("data:");0!==n&&(n=t.indexOf("//"),-1===n?t=this.getFaviconHost()+t:0===n&&(t="http:"+t),t=h(t,{stripWWW:!1})),this.props.setWebPanelResource(this.props.id,"faviconUrl",t),this.setState({lookupFavicon:!1})}}.bind(this)),t.setZoomMode("per-view"),t.setZoom(1)},handleContentLoad:function(e){this.refs.webpanelwebview.executeScript({code:"document.title"},function(e){this.setState({title:e[0]}),this.props.setWebPanelResource(this.props.id,"title",e[0])}.bind(this))},reload:function(){this.setState({title:l("Loading..."),canReload:!1}),this.refs.webpanelwebview.reload()},home:function(){var e=this;this.setState({title:l("Loading..."),canReload:!1}),u.declarativeWebRequest.onRequest.removeRules(m,function(){return e.refs.webpanelwebview.src=e.props.src})},navigateBack:function(){this.refs.webpanelwebview.back()},render:function(){var e=c({panel:!0,webpanel:!0,visible:this.props.isVisible});return i.createElement("div",{className:e},this.props.isVisible&&this.props.displayTitleArea&&i.createElement("header",{className:"webpanel-header"},i.createElement("div",{className:"toolbar icons webpanel-wrap"},i.createElement("h1",{className:"webpanel-title",title:this.state.title},this.state.title),i.createElement("button",{className:"button-toolbar home webpanelbutton",title:l("Home"),onClick:this.home,disabled:!this.state.canReload,dangerouslySetInnerHTML:{__html:n(206)}}))),i.createElement("section",{className:"webpanel-content"},i.createElement("webview",{ref:"webpanelwebview",name:"vivaldi-webpanel"})))}});e.exports=v},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(6),a=n(4),s=n(14),l=n(19),u=n(40),c=n(2),A="light-ui-colors-on-front",d="light-ui-colors-on-behind",h="dark-ui-colors-on-front",p="dark-ui-colors-on-behind",f="dark-ui-colors-off",m="light-ui-colors-off",g="top",v="left",E="right",_="bottom",S="../resources/bg.jpg",y="../resources/bg_alt_1.jpg",b="../resources/bg_alt_2.jpg",C="../resources/bg_alt_3.jpg",I="../resources/bg_alt_4.jpg",T="../resources/bg_alt_5.jpg",O="../resources/bg_alt_6.jpg",w="user_defined",N=["BROWSER_FG_COLOR","STARTPAGE_BG_COLOR","STARTPAGE_BG_COLOR_USER_DEFINED","STARTPAGE_FG_COLOR","STARTPAGE_SHOW_IMAGE","STARTPAGE_IMAGE","STARTPAGE_IMAGE_USER_DEFINED","STARTPAGE_IMAGE_STRETCH","STARTPAGE_IMAGE_REPEAT","BROWSER_FG_COLOR","USE_TABCOLOR","TABCOLOR_BEHIND_TABS","TAB_POSITION","STARTPAGE_IMAGE","STARTPAGE_IMAGE_USER_DEFINED","STARTPAGE_SHOW_IMAGE","KEY_ACCESS"],k=r.createClass({displayName:"WelcomePage",getInitialState:function(){return{currentPageIndex:1,doneInOne:!1}},goForward:function(){this.setState({currentPageIndex:this.state.currentPageIndex+1})},goBackward:function(){this.setState({currentPageIndex:this.state.currentPageIndex-1})},goStart:function(){this.setState({doneInOne:!0}),setTimeout(function(){s.openURL(l.getDefaultStartpage(),{inCurrent:!0})},1e3)},goToStep:function(e){this.setState({currentPageIndex:e})},getStartpageStyle:function(){var e=this.props.vivaldiSettings,t={bgColor:e.STARTPAGE_BG_COLOR,bgColorUser:e.STARTPAGE_BG_COLOR_USER_DEFINED,imageStretch:e.STARTPAGE_IMAGE_STRETCH,imageRepeat:e.STARTPAGE_IMAGE_REPEAT,showImage:e.STARTPAGE_SHOW_IMAGE,imageUrl:e.STARTPAGE_IMAGE,imageUrlUser:e.STARTPAGE_IMAGE_USER_DEFINED},n="user_defined"===t.bgColor?t.bgColorUser:t.bgColor,i=t.imageStretch?"cover":"auto",r=t.imageRepeat?"repeat":"no-repeat",o="url(data:image/gif;base64,R0lGODlhAQABAAAAACwAAAAAAQABAAA=)";return t.showImage&&"user_defined"===t.imageUrl?o="url("+t.imageUrlUser+")":t.showImage&&(o="url("+t.imageUrl+")"),{backgroundColor:n,backgroundImage:o,backgroundSize:i,backgroundRepeat:r}},setApperance:function(e){switch(e){case A:a.set({USE_TABCOLOR:!0,TABCOLOR_BEHIND_TABS:"off",BROWSER_FG_COLOR:"ui-light"});break;case d:a.set({USE_TABCOLOR:!0,TABCOLOR_BEHIND_TABS:"on",BROWSER_FG_COLOR:"ui-light"});break;case h:a.set({USE_TABCOLOR:!0,TABCOLOR_BEHIND_TABS:"off",BROWSER_FG_COLOR:"ui-dark"});break;case p:a.set({USE_TABCOLOR:!0,TABCOLOR_BEHIND_TABS:"on",BROWSER_FG_COLOR:"ui-dark"});break;case f:a.set({USE_TABCOLOR:!1,TABCOLOR_BEHIND_TABS:"off",BROWSER_FG_COLOR:"ui-light"});break;case m:a.set({USE_TABCOLOR:!1,TABCOLOR_BEHIND_TABS:"off",BROWSER_FG_COLOR:"ui-dark"})}},setTabPosition:function(e){a.set({TAB_POSITION:e})},setBackground:function(e){a.set({STARTPAGE_SHOW_IMAGE:!0,STARTPAGE_IMAGE:e})},render:function(){var e=this.props.vivaldiSettings,t=e.TAB_POSITION,n=e.STARTPAGE_IMAGE,a=this.state.currentPageIndex,s=o(i({welcome:!0,done:this.state.doneInOne},"showstep-"+a,!0));if(!this.props.open)return null;var l=void 0;return"ui-light"===e.BROWSER_FG_COLOR?e.USE_TABCOLOR===!1?l=f:"off"===e.TABCOLOR_BEHIND_TABS?l=A:"on"===e.TABCOLOR_BEHIND_TABS&&(l=d):"ui-dark"===e.BROWSER_FG_COLOR&&(e.USE_TABCOLOR===!1?l=m:"off"===e.TABCOLOR_BEHIND_TABS?l=h:"on"===e.TABCOLOR_BEHIND_TABS&&(l=p)),r.createElement("div",{className:s,style:3===a?this.getStartpageStyle():null},r.createElement("div",{className:"hero"},r.createElement("h2",null,c("Welcome to Vivaldi")),r.createElement("h1",null,c("Let’s Get You Started!"))),r.createElement("div",{className:"steps"},r.createElement("div",{className:"step step-1"},r.createElement("div",{className:"step-wrap"},r.createElement("p",null,c("Spend one minute setting things up just the way you like\n                it.")),r.createElement("p",null,c("Let’s start with some appearance choices.\n                Which one of these do you prefer?")),r.createElement("div",{className:"television-rack"},r.createElement("div",{className:"television"},r.createElement("button",{title:c("Light UI, Color in Front"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(l===A?"selected":""),onClick:this.setApperance.bind(this,A)},r.createElement("div",{className:"television-image light-ui-colors-on-front"}),r.createElement("div",{className:"television-title"},c("Colors on front"))),r.createElement("button",{title:c("Light UI, Color Behind"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(l===d?"selected":""),onClick:this.setApperance.bind(this,d)},r.createElement("div",{className:"television-image light-ui-colors-on-behind"}),r.createElement("div",{className:"television-title"},c("Colors on behind"))),r.createElement("button",{title:c("Light UI, Color Off"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(l===f?"selected":""),onClick:this.setApperance.bind(this,f)},r.createElement("div",{className:"television-image light-ui-colors-off"}),r.createElement("div",{className:"television-title"},c("Colors off")))),r.createElement("div",{className:"television"},r.createElement("button",{title:c("Dark UI, Color in Front"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(l===h?"selected":""),onClick:this.setApperance.bind(this,h)},r.createElement("div",{className:"television-image dark-ui-colors-on-front"}),r.createElement("div",{className:"television-title"},c("Colors on front"))),r.createElement("button",{title:c("Dark UI, Color Behind"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(l===p?"selected":""),onClick:this.setApperance.bind(this,p)},r.createElement("div",{className:"television-image dark-ui-colors-on-behind"}),r.createElement("div",{className:"television-title"},c("Colors on behind"))),r.createElement("button",{title:c("Dark UI, Color Off"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(l===m?"selected":""),onClick:this.setApperance.bind(this,m)},r.createElement("div",{className:"television-image dark-ui-colors-off"}),r.createElement("div",{className:"television-title"},c("Colors off"))))),r.createElement("button",{tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"welcome-navigation",onClick:this.goForward},c("Next:")," ",r.createElement("strong",null,c("Tab Bar Position"))))),r.createElement("div",{className:"step step-2"},r.createElement("div",{className:"step-wrap"},r.createElement("p",null,c("Just as important, where do you like your tab bar\n                positioned?")),r.createElement("div",{className:"television"},r.createElement("button",{title:c("Top"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(t===g?"selected":""),onClick:this.setTabPosition.bind(this,g)},r.createElement("div",{className:"television-image preview-tabs-top"}),r.createElement("div",{className:"television-title"},c("Top"))),r.createElement("button",{title:c("Bottom"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(t===_?"selected":""),onClick:this.setTabPosition.bind(this,_)},r.createElement("div",{className:"television-image preview-tabs-bottom"}),r.createElement("div",{className:"television-title"},c("Bottom"))),r.createElement("button",{title:c("Left"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(t===v?"selected":""),onClick:this.setTabPosition.bind(this,v)},r.createElement("div",{className:"television-image preview-tabs-left"}),r.createElement("div",{className:"television-title"},c("Left Side"))),r.createElement("button",{title:c("Right"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(t===E?"selected":""),onClick:this.setTabPosition.bind(this,E)},r.createElement("div",{className:"television-image preview-tabs-right"}),r.createElement("div",{className:"television-title"},c("Right Side")))),r.createElement("button",{tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"welcome-navigation",onClick:this.goForward},c("Next:")," ",r.createElement("strong",null,c("Startpage Backgrounds"))),r.createElement("a",{onClick:this.goBackward},c("navigation","Back")))),r.createElement("div",{className:"step step-3"},r.createElement("div",{className:"step-wrap"},r.createElement("p",null,c("Finally, pick a background picture for your Start Page.")),r.createElement("div",{className:"television"},r.createElement("button",{title:c("Mist"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(n===S?"selected":""),onClick:this.setBackground.bind(this,S)},r.createElement("div",{className:"television-image",style:{backgroundImage:"url("+S+")"}}),r.createElement("div",{className:"television-title"},c("Mist"))),r.createElement("button",{title:c("Sunset"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(n===y?"selected":""),onClick:this.setBackground.bind(this,y)},r.createElement("div",{className:"television-image",style:{backgroundImage:"url("+y+")"}}),r.createElement("div",{className:"television-title"},c("Sunset"))),r.createElement("button",{title:c("Starry Night"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(n===b?"selected":""),onClick:this.setBackground.bind(this,b)},r.createElement("div",{className:"television-image",style:{backgroundImage:"url("+b+")"}}),r.createElement("div",{className:"television-title"},c("Starry Night"))),r.createElement("button",{title:c("Pink Cloud"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(n===C?"selected":""),onClick:this.setBackground.bind(this,C)},r.createElement("div",{className:"television-image",style:{backgroundImage:"url("+C+")"}}),r.createElement("div",{className:"television-title"},c("Pink Cloud"))),r.createElement("br",null),r.createElement("button",{title:c("Jellyfish"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(n===I?"selected":""),onClick:this.setBackground.bind(this,I)},r.createElement("div",{className:"television-image",style:{backgroundImage:"url("+I+")"}}),r.createElement("div",{className:"television-title"},c("Jellyfish"))),r.createElement("button",{title:c("Purple Lake"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(n===T?"selected":""),onClick:this.setBackground.bind(this,T)},r.createElement("div",{className:"television-image",style:{backgroundImage:"url("+T+")"}}),r.createElement("div",{className:"television-title"},c("Purple Lake"))),r.createElement("button",{title:c("Wave"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(n===O?"selected":""),onClick:this.setBackground.bind(this,O)},r.createElement("div",{className:"television-image",style:{backgroundImage:"url("+O+")"}}),r.createElement("div",{className:"television-title"},c("Wave"))),r.createElement("button",{title:c("Custom"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(n===w?"selected":""),onClick:this.setBackground.bind(this,w)},r.createElement("div",{className:"television-image",style:{backgroundImage:"url("+e.STARTPAGE_IMAGE_USER_DEFINED+")"}}),r.createElement("div",{className:"television-title"},c("Custom")))),r.createElement("button",{tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"welcome-navigation",onClick:this.goStart},c("Done,")," ",r.createElement("strong",null,c("Start Browsing!"))),r.createElement("a",{onClick:this.goBackward},c("navigation","Back"))))))}});e.exports=u(k,N)},function(e,t){"use strict";var n={kVivaldiTabZoom:"vivaldi.tab_zoom_enabled"};e.exports=n},function(e,t){"use strict";var n=function(e,t,n,i,r,o){this.id=e,this.title=n,this.style=i,this.description=r,this.menuItems=o,this.progress=0,this.text=t};e.exports=n},function(e,t){"use strict";e.exports={ADDRESS_BAR_AUTOCOMPLETE_PREFER_BOOKMARKS:!0,ADDRESS_BAR_AUTOCOMPLETE_ENABLED:!0,ADDRESS_BAR_OMNIDROPDOWN_ENABLED:!0,ADDRESS_BAR_POSITION:"top",BOOKMARKS_BAR_FOLDER_IDS:["1"],BOOKMARK_BAR_DISPLAY:"default",BOOKMARK_BAR_POSITION:"top",BOOKMARK_BAR_VISIBLE:!1,BOOKMARKS_MANAGER_BOOKMARKSSORT:{sortOrder:1,sortField:"manually"},BOOKMARKS_PANEL_BOOKMARKSSORT:{sortOrder:1,sortField:"manually"},BOOKMARKS_BAR_BOOKMARKSSORT:{sortOrder:1,sortField:"manually"},BROWSER_FG_COLOR:"ui-light",CHECK_DEFAULT_BROWSER_STARTUP:!1,CLOSABLE_PINNED_TABS:"off",COMMAND_ADD_BOOKMARK:{shortcut:["ctrl+d"],showInQC:!0},COMMAND_CLIPBOARD_PASTE_AS_PLAIN_TEXT:{showInQC:!0},COMMAND_CLIPBOARD_PASTE_AS_PLAIN_TEXT_OR_PASTE_AND_GO:{shortcut:["ctrl+shift+v"],showInQC:!0},COMMAND_CLONE_TAB:{showInQC:!0},COMMAND_PIN_TAB:{showInQC:!0},COMMAND_CLOSE_TAB:{shortcut:["ctrl+w","ctrl+f4"],gestures:["20"],showInQC:!0},COMMAND_CLOSE_ALL_BUT_ACTIVE_TAB:{showInQC:!0},COMMAND_DEVELOPER_TOOLS:{shortcut:["ctrl+shift+i","f12"],showInQC:!0},COMMAND_DOWNLOAD_EXTENSIONS:{showInQC:!0},COMMAND_EXPORT_SETTINGS:{showInQC:!0},COMMAND_FIND_IN_PAGE:{shortcut:["ctrl+f","."],showInQC:!0},COMMAND_FIND_NEXT_IN_PAGE:{shortcut:["f3","ctrl+g"],showInQC:!0},COMMAND_FIND_PREVIOUS_IN_PAGE:{shortcut:["shift+f3","ctrl+shift+g"],showInQC:!0},COMMAND_FOCUS_ADDRESSFIELD:{shortcut:["f8","ctrl+l","alt+d"],showInQC:!0},COMMAND_FOCUS_PANEL:{shortcut:["f7"],showInQC:!0},COMMAND_FOCUS_SEARCHFIELD:{shortcut:["ctrl+k","ctrl+e"],showInQC:!0},COMMAND_FOCUS_WEBVIEW:{shortcut:["f9"],showInQC:!0},COMMAND_FULLSCREEN:{shortcut:["f11"],showInQC:!0},COMMAND_IMPORT_DATA:{showInQC:!0},COMMAND_EXPORT_DATA:{showInQC:!0},COMMAND_SAVE_SESSION:{showInQC:!0},COMMAND_OPEN_SESSION:{showInQC:!0},COMMAND_IMPORT_SETTINGS:{showInQC:!0},COMMAND_MAIN_TOGGLE_ADDRESS_BAR:{shortcut:[],showInQC:!0},COMMAND_MAIN_TOGGLE_TAB_BAR:{shortcut:[],showInQC:!0},COMMAND_MAIN_TOGGLE_UI:{shortcut:["ctrl+f11"],showInQC:!0},COMMAND_MAIN_ZOOM_DOUBLE:{shortcut:["8"],showInQC:!0},COMMAND_MAIN_ZOOM_HALF:{shortcut:["7"],showInQC:!0},COMMAND_MAIN_ZOOM_IN:{shortcut:["0","+","ctrl+=","ctrl++"],showInQC:!0},COMMAND_MAIN_ZOOM_OUT:{shortcut:["9","-","ctrl+-"],showInQC:!0},COMMAND_MAIN_ZOOM_RESET:{shortcut:["ctrl+0","6","*","ctrl+*"],showInQC:!0},COMMAND_NEW_BACKGROUND_TAB:{gestures:["26"],showInQC:!0},COMMAND_NEW_PRIVATE_WINDOW:{shortcut:["ctrl+shift+n"],showInQC:!0},COMMAND_NEW_TAB:{shortcut:["ctrl+t"],gestures:["2"],showInQC:!0},COMMAND_NEW_WINDOW:{shortcut:["ctrl+n"],showInQC:!0},COMMAND_CLOSE_WINDOW:{showInQC:!0},COMMAND_OPEN_PAGE:{shortcut:["ctrl+o"],showInQC:!0},COMMAND_PAGE_BACK:{shortcut:["backspace","ctrl+left","alt+left","z"],gestures:["4"],showInQC:!0},COMMAND_PAGE_DISABLE_KEYBOARD_SHORTCUTS:{showInQC:!0},COMMAND_PAGE_FORWARD:{shortcut:["ctrl+right","alt+right","x"],gestures:["0"],showInQC:!0},COMMAND_PAGE_REWIND:{showInQC:!0,gestures:["42"]},COMMAND_PAGE_FAST_FORWARD:{showInQC:!0,gestures:["06"]},COMMAND_PAGE_REFRESH:{shortcut:["ctrl+r","f5"],gestures:["62"],showInQC:!0},COMMAND_PAGE_RELOAD_NOCACHE:{shortcut:["ctrl+shift+r","ctrl+f5"],showInQC:!0},COMMAND_PASTE_AND_GO:{showInQC:!0},COMMAND_PRINT_PAGE:{shortcut:["ctrl+p"],showInQC:!0},COMMAND_SAVE_PAGE:{shortcut:["ctrl+s"],showInQC:!0},COMMAND_SHOW_BOOKMARK_BAR:{shortcut:["ctrl+shift+b"],showInQC:!0},COMMAND_SHOW_BOOKMARK_PANEL:{shortcut:["f6"],showInQC:!0},COMMAND_SHOW_CLEAR_PRIVATE_DATA:{shortcut:["ctrl+shift+del"],showInQC:!0},COMMAND_SHOW_CONTACTS_PANEL:{shortcut:["ctrl+shift+c"],showInQC:!0},COMMAND_SHOW_DOWNLOADS_PANEL:{shortcut:["ctrl+shift+d"],showInQC:!0},COMMAND_SHOW_EXTENSIONS:{shortcut:["ctrl+shift+e"],showInQC:!0},COMMAND_SHOW_HELP:{shortcut:["f1"],showInQC:!0},COMMAND_SHOW_HISTORY:{shortcut:["ctrl+h"],showInQC:!0},COMMAND_SHOW_BOOKMARKS:{shortcut:["ctrl+b"],showInQC:!0},COMMAND_SHOW_HOMEPAGE:{shortcut:["alt+home"],showInQC:!0},COMMAND_SHOW_KEYBOARDSHORTCUTS:{shortcut:["ctrl+f1"],showInQC:!0},COMMAND_SHOW_MAIL_PANEL:{shortcut:["ctrl+shift+m"],showInQC:!0},COMMAND_SHOW_NEXT_PANEL:{shortcut:["alt+f7"],showInQC:!0},COMMAND_SHOW_NOTES_PANEL:{shortcut:["ctrl+shift+o"],showInQC:!0},COMMAND_SHOW_PLUGINS:{showInQC:!0},COMMAND_SHOW_PREVIOUS_PANEL:{shortcut:["alt+shift+f7"],showInQC:!0},COMMAND_SHOW_QUICK_COMMANDS:{shortcut:["f2"],showInQC:!1},COMMAND_SHOW_SETTINGS:{shortcut:["alt+p"],showInQC:!0},COMMAND_SHOW_WEB_PANEL_1:{showInQC:!0},COMMAND_SHOW_WEB_PANEL_2:{showInQC:!0},COMMAND_SHOW_WEB_PANEL_3:{showInQC:!0},COMMAND_SHOW_WEB_PANEL_4:{showInQC:!0},COMMAND_SHOW_WEB_PANEL_5:{showInQC:!0},COMMAND_SHOW_WEB_PANEL_6:{showInQC:!0},COMMAND_SHOW_WEB_PANEL_7:{showInQC:!0},COMMAND_SHOW_WEB_PANEL_8:{showInQC:!0},COMMAND_SHOW_WEB_PANEL_9:{showInQC:!0},COMMAND_SHOW_WELCOME:{showInQC:!0},COMMAND_SPATNAV_DOWN:{shortcut:["shift+down","s"]},COMMAND_SPATNAV_LEFT:{shortcut:["shift+left","a"]},COMMAND_SPATNAV_RIGHT:{shortcut:["shift+right","d"]},COMMAND_SPATNAV_UP:{shortcut:["shift+up","w"]},COMMAND_STOP_PAGE:{shortcut:["esc"],gestures:["6"],showInQC:!0},COMMAND_TAB_REOPEN_RECENTLY_CLOSED:{shortcut:["ctrl+z","ctrl+shift+t"],gestures:["60"],showInQC:!0},COMMAND_TAB_STACK_TILE_GRID:{shortcut:["ctrl+f7"],showInQC:!0},COMMAND_TAB_STACK_TILE_HORIZONTAL:{shortcut:["ctrl+f8"],showInQC:!0},COMMAND_TAB_STACK_TILE_VERTICAL:{shortcut:["ctrl+f9"],showInQC:!0},COMMAND_TAB_STACK_UNTILE:{shortcut:["ctrl+f6"],showInQC:!0},COMMAND_TAB_SWITCH_BACK_HISTORY:{shortcut:["ctrl+4","4"],showInQC:!0},COMMAND_TAB_SWITCH_BACK_ORDER:{shortcut:["ctrl+2","2"],showInQC:!0},COMMAND_TAB_SWITCH_BACK_SETTING:{shortcut:["ctrl+tab"],showInQC:!1},COMMAND_TAB_SWITCH_FORWARD_HISTORY:{shortcut:["ctrl+5","5"],showInQC:!0},COMMAND_TAB_SWITCH_FORWARD_ORDER:{shortcut:["ctrl+1","1"],showInQC:!0},COMMAND_TAB_SWITCH_FORWARD_SETTING:{shortcut:["ctrl+shift+tab","meta+shift+left"],showInQC:!1},COMMAND_TAB_VIEW_PAGE_SOURCE:{shortcut:["ctrl+u"],showInQC:!0},COMMAND_TASK_MANAGER:{shortcut:["shift+esc"],showInQC:!0},COMMAND_TOGGLE_FOOTER:{shortcut:["ctrl+shift+s"],showInQC:!0},COMMAND_TOGGLE_MENU_POSITION:{shortcut:["ctrl+m"],showInQC:!0},COMMAND_TOGGLE_PANEL:{shortcut:["f4"],showInQC:!0},COMMAND_TOGGLE_INTERFACE_COLOR:{showInQC:!0},DEFAULT_HOME:"https://vivaldi.com/",DEFAULT_SEARCH_ENGINE:"1",DISABLE_SINGLE_KEY_SHORTCUTS:!0,DISABLE_KEYBOARD_SHORTCUTS:!1,EXPAND_BOOKMARKS_MANAGER:{},EXPAND_BOOKMARKS_PANEL:{},FOCUS_CYCLE_TRAP:!0,KEY_ACCESS:"-1",KEY_ACCESS_OS_DEFAULT:!1,KEY_VIVALDI_MENU_POSITION:"f2",LINUX_ALT_CONTROLS:!1,MAIL_IS_TURNED_OFF:!1,MAIL_OUTBOX_SEND_CUE:"1",MAIL_VIEW_LAYOUT:"top",MAIL_VIEW_POS:{width:400,height:240},MAIL_SEARCH_ASCENDING:!1,MINIMALISTIC_UI_RECOVER_INFO:{SHOW_PANEL:"",SHOW_ADDRESS_BAR:"",SHOW_TAB_BAR:"",SHOW_VIVALDI_FOOTER:""},MINIMALISTIC_UI_SHOW:!0,MOUSE_GESTURES_ENABLED:!0,ALT_GESTURES_ENABLED:!1,MOUSE_WHEEL_TAB_SWITCHING:!1,TAB_CLICK_ACTIVE_OPENS_PREVIOUS:!1,OPEN_SAFE_FILES:!1,PANEL_POSITION:"left",QUICK_COMMAND_OPEN_URL_IN_NEW_TAB:!1,BOOKMARKS_OPEN_IN_NEW_TAB:!0,SEARCH_FIELD_ENABLED:!0,SHOW_ADDRESS_BAR:!0,SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS:!0,SHOW_FFW_RWD_BUTTONS:!0,SHOW_FULLSCREEN_BUBBLE:!0,SHOW_PANEL:!0,SHOW_PANEL_SWITCH:!1,SHOW_TAB_BAR:!0,SHOW_VIVALDI_FOOTER:"on",SHOW_WEB_PANEL_TITLE:!0,SPEEDDIAL_ADDBUTTON_VISIBLE:!0,SPEEDDIAL_COLS:6,SPEEDDIAL_TITLES_VISIBLE:"always",STARTPAGE_BG_COLOR:"#cccccc",STARTPAGE_BG_COLOR_USER_DEFINED:"#bfb8b0",STARTPAGE_FG_COLOR:"",STARTPAGE_IMAGE:"../resources/bg.jpg",STARTPAGE_IMAGE_REPEAT:!1,STARTPAGE_IMAGE_STRETCH:!0,STARTPAGE_IMAGE_USER_DEFINED:"../resources/bg.jpg",STARTPAGE_SHOW_IMAGE:!0,STARTUP_SESSION_URLS:[],SWITCH_TABS_AT_WINDOW_EDGE:!1,SYNC_SETTINGS:[{id:1,name:"Apps",selected:!1},{id:2,name:"Autofill",selected:!1},{id:3,name:"Bookmarks",selected:!1},{id:4,name:"Extensions",selected:!1},{id:5,name:"History",selected:!1},{id:6,name:"Passwords",selected:!1},{id:7,name:"Settings",selected:!1},{id:8,name:"Themes",selected:!1},{id:9,name:"Open tabs",selected:!1},{id:10,name:"Notes",selected:!1}],TABBAR_WIDTH:180,TAB_CYCLING_ORDER:"recently used",USE_ANIMATION:!0,TAB_NEW_PLACEMENT:"rightofcurrent",TAB_CLOSEBUTTON_ENABLED:!0,TAB_CLONE_PLACEMENT:"rightofcurrent",TAB_CLOSE_ACTIVATION:"keep_relations",TAB_POSITION:"top",TAB_SCROLLING:"off",TAB_STACKING:"on",TAB_STACKING_OPEN_IN_CURRENT:!0,TAB_SWITCH_VISUAL:!1,TAB_THUMBNAILS_ENABLED:!0,TAB_UNREAD_ENABLED:!0,USE_CLOSE_ON_DOUBLECLICK:!1,USE_NATIVE_WINDOW_DECORATIONS:!1,USE_SETTINGS_WINDOW_AS_TAB:!1,USE_TABCOLOR:!0,TABCOLOR_BEHIND_TABS:"off",USE_TAB_TRANSPARENT_TABS:!1,USE_TOOLTIP:!0,VIVALDI_MENU_POSITION:"vivaldi",SEARCH_ENGINES:[{Id:1,Name:"Bing",Keyword:"b",Url:"https://www.vivaldi.rocks/Results.aspx?gd=SY1000190&ctid=&ISID=1D83D349-F886-40D4-B0E0-D0186D90911A&SearchSource=58&UM=8&D=090215&q=%s",FaviconUrl:"data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAQAQAABMLAAATCwAAAAAAAAAAAAAAuf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Dtvr%2FAbj9%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8dlMH%2FTFZa%2F0dcZf8al8f%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8zdY7%2FUFBQ%2F1BQUP9QUFD%2FUFBQ%2Fzptgf8MqeT%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf7%2FQmJu%2FzN3kf9PUVL%2FUFBQ%2F1BQUP9QUFD%2FTlJT%2FyuBov8DtPf%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2B%2F1BQUP9FXmf%2FFZ3R%2FzR0jP9QUFH%2FUFBQ%2F1BQUP9QUFD%2FR1xj%2FxyVw%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2Fv9QUFD%2FUFBQ%2F0Nhbf8Auf%2F%2FD6Xd%2Fzlug%2F9QUFD%2FUFBQ%2F1BQUP9QUFD%2FALn%2B%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf7%2FUFBQ%2F1BQUP9QUFD%2FALn%2F%2FwC5%2F%2F8Fs%2FX%2FNnKI%2F1BQUP9QUFD%2FUFBQ%2FwC5%2Fv8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2B%2F1BQUP9QUFD%2FUFBQ%2FwC5%2F%2F8Auf%2F%2FTFVZ%2F1BQUP9QUFD%2FUFBQ%2F1BQUP8Auf7%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2Fv9QUFD%2FUFBQ%2F1BQUP8Auf%2F%2FMXmU%2F1BQUP9QUFD%2FR1xk%2Fy58mf8WndD%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf7%2FUFBQ%2F1BQUP9QUFD%2FALn%2F%2Fz9ndv8ohKf%2FD6Xd%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2B%2F1BQUP9QUFD%2FUFBQ%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2Fv9QUFD%2FUFBQ%2F0ZdZf8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf7%2FUFBQ%2F0NhbP8nhqv%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwO09%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FAABOVAAASUUAAEluAABsNgAARmEAAGx5AAAgTQAAZWwAADUgAABlcAAAbmcAACwgAABudQAAZUkAAGVsAABSTw%3D%3D",SuggestUrl:"https://www.bing.com/osjson.aspx?query=%s"},{Id:4,Name:"DuckDuckGo",Keyword:"d",Url:"https://duckduckgo.com/?q=%s&t=vivaldi",FaviconUrl:"data:image/png;base64,AAABAAQAQEAAAAEAIAAoQAAARgAAACAgAAABACAAKBAAAG5AAAAYGAAAAQAgACgJAACWUAAAEBAAAAEAIAAoBAAAvlkAACgAAABAAAAAgAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoSM8gKEXSYChE0YAlRNK/JUTSvydE0e8nRNH/J0TR/ydE0f8nRNH/J0TR7yVE0r8lRNK/KETRgChF0mAoSM8gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJkPSUCZD0J8jQ9HfJ0TR/ydE0f8nRNH/J0TR/ydE0f8nRNH/J0TR/ydE0f8nRNH/J0TR/ydE0f8nRNH/J0TR/ydE0f8nRNH/J0TR/yND0d8mQ9CfJkPSUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACBAzxAoRtGAI0PS3ydF0v8nRdL/J0XS/ydF0v8nRdL/J0XS/ydF0v8nRdL/J0XS/ydF0v8nRdL/J0XS/ydF0v8nRdL/J0XS/ydF0v8nRdL/J0XS/ydF0v8nRdL/J0XS/ydF0v8jQ9LfKEbRgCBAzxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIEDPECZD0p8nRdL/J0XS/ydF0v8nRdL/J0XS/ydF0v8jQ9LfJkPSn3aI4K+ToemA6Or6j////4D///+A/v7+v/7+/r/+/v6//v7+v+3x/c+2wvC/lKLp30lk2r8jQ9LfJ0XS/ydF0v8nRdL/J0XS/ydF0v8nRdL/JkPSnyBAzxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKEbTgCdF0u8nRdL/J0XS/ydF0v8nRdL/I0PS3ydG0o8lRdUw////UP/////////////////////////////////////////////////////////////////////+/v6/AAAAACVF1TAnRtKPI0PS3ydF0v8nRdL/J0XS/ydF0v8nRdLvKEbTgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlRdUwJ0PRzydF0/8nRdP/J0XT/ydF0/8lRdK/JkbSUAAAAACvr68QtbW1YPHx8c/o9+z/gNCU/7rmxf/z+/X/////////////////////////////////////////////////uMHw7ydG0o8lRdUwAAAAAAAAAAAmRtJQJUXSvydF0/8nRdP/J0XT/ydF0/8nQ9HPJUXVMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAnR9RwJ0XT/ydF0/8nRdP/J0XT/yVF0r8oRNNAAAAAACBAzxAoRtOAUGPK37W1tf/6+vr/o92y/0a7ZP9Gu2T/Ur9u/6Pdsv/z+/X//////////////////////////////////////0Jd2f8nRdP/J0XT/yND1N8oRtOAIEDPEAAAAAAoRNNAJUXSvydF0/8nRdP/J0XT/ydF0/8nR9RwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmR9SfJ0bT/ydG0/8nRtP/J0bT7ydH1HAAAAAAIEDPECZH1J8nRtP/J0bT/25+xP++vr7//////3TMi/9Gu2T/Rrtk/0a7ZP9Gu2T/Ur9u/2e0aP9EoUP/RKFD/2ezZv+i0KH//////6667/8rVcX/NXmi/z6egP9Gu2T/Qqxy/ydG0/8mR9SfIEDPEAAAAAAnR9RwJ0bT7ydG0/8nRtP/J0bT/yZH1J8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACBAzxAlRdS/J0bU/ydG1P8nRtT/J0bRzyhI1yAAAAAAKEbTgCdG1O8nRtT/J0bU/ydG1P+Jkr//zMzM//////90zIv/Rrtk/0a7ZP9Gu2T/Rrtk/0a2Xv9EpEf/Rrli/0a7ZP9Gu2T/Rrli/4DPkv9OsXz/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP8nRtT/J0bU/ydG1O8oRtOAAAAAAChI1yAnRtHPJ0bU/ydG1P8nRtT/JUXUvyBAzxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACBAzxAnRtHPJ0bU/ydG1P8nRtT/JkfUnwAAAAAoSNcgJ0bRzydG1P8nRtT/J0bU/ydG1P8nRtT/o6e5/9ra2v//////aciB/0a7ZP9Gu2T/Rrtk/0a7ZP9GtVz/RahL/0a7ZP9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP9Gu2T/K1XG/ydG1P8nRtT/J0bU/ydG0c8oSNcgAAAAACZH1J8nRtT/J0bU/ydG1P8nRtHPIEDPEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlRdS/J0bU/ydG1P8nRtT/KEXVYAAAAAAmRtZQJ0bU7ydG1P8nRtT/J0bU/ydG1P8nRtT/OVTQ/7W1tf/t7e3//////0a7ZP9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/0WoS/9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/y9juP8nRtT/J0bU/ydG1P8nRtT/J0bU7yZG1lAAAAAAKEXVYCdG1P8nRtT/J0bU/yVF1L8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmR9WfJ0fV/ydH1f8nR9X/KEjVYAAAAAAoSNVgJ0fV/ydH1f8nR9X/J0fV/ydH1f8nR9X/J0fV/1Npy/+1tbX///////////9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP9FqEv/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP8tXcD/J0fV/ydH1f8nR9X/J0fV/ydH1f8nR9X/KEjVYAAAAAAoSNVgJ0fV/ydH1f8nR9X/JkfVnwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAnR9ZwJ0fV/ydH1f8nR9X/KEjVYAAAAAAoSNVgJ0fV/ydH1f8nR9X/J0fV/ydH1f8nR9X/J0fV/ydH1f9ufsX/w8PD////////////Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP9Gu2T/aL51/1K/bv9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP9Gu2T/J0fV/ydH1f8nR9X/J0fV/ydH1f8nR9X/J0fV/ydH1f8oSNVgAAAAAChI1WAnR9X/J0fV/ydH1f8nR9ZwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlRdUwJ0fV/ydH1f8nR9X/JkfVnwAAAAAoSNVgJ0fV/ydH1f8nR9X/J0fV/ydH1f8nR9X/J0fV/ydH1f8nR9X/kpq9/9HR0f///////////0a7ZP9Gu2T/Rrtk/0a7ZP+A0JT/0e7Y///////z+/X/xerP/22vp/83gZ3/M3Or/ziIlf9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/ydH1f8nR9X/J0fV/ydH1f8nR9X/J0fV/ydH1f8nR9X/J0fV/yhI1WAAAAAAJkfVnydH1f8nR9X/J0fV/yVF1TAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJ0fWzydH1v8nR9b/J0fWzwAAAAAmRtZQJ0fW/ydH1v8nR9b/J0fW/ydH1v8nR9b/J0fW/ydH1v8nR9b/J0fW/7W1tf/f39////////////+A0JT/dMyL/67hu//o9+z///////////////////////////9ddeD/J0fW/ydH1v8nR9b/L2S5/0Ktcv9Gu2T/Rrtk/0Clef8nR9b/J0fW/ydH1v8nR9b/J0fW/ydH1v8nR9b/J0fW/ydH1v8nR9b/JkbWUAAAAAAnR9bPJ0fW/ydH1v8nR9bPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKEjVgCdH1v8nR9b/J0fW7yhI1yAoSNcgJ0fW7ydH1v8nR9b/J0fW/ydH1v8nR9b/J0fW/ydH1v8nR9b/J0fW/0Fc0P+1tbX/8fHx///////////////////////////////////////////////////////k6Pr/J0fW/ydH1v8nR9b/J0fW/ydH1v8pT8//NoGd/0Ktcv82gZ3/J0fW/ydH1v8nR9b/J0fW/ydH1v8nR9b/J0fW/ydH1v8nR9b/J0fW/ydH1u8oSNcgKEjXICdH1u8nR9b/J0fW/yhI1YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIFDPECZH1u8mSNb/JkjW/ydJ1nAAAAAAJkfWzyZI1v8mSNb/JkjW/yZI1v8mSNb/JkjW/yZI1v8mSNb/JkjW/yZI1v9cccr/tbW1////////////////////////////////////////////////////////////oK/t/yZI1v8mSNb/JkjW/yZI1v8mSNb/JkjW/yZI1v8mSNb/JkjW/yZI1v8mSNb/JkjW/yZI1v8mSNb/JkjW/yZI1v8mSNb/JkjW/yZI1v8mSNb/JkfWzwAAAAAnSdZwJkjW/yZI1v8mR9bvIFDPEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACVH2I8mSNf/JkjX/yZH1s8AAAAAJ0nWcCZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/doXE/8jIyP///////////////////////////////////////////////////////////09q3v8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8nSdZwAAAAACZH1s8mSNf/JkjX/yVH2I8AAAAAAAAAAAAAAAAAAAAAAAAAACBQzxAmR9jvJkjX/yZI1/8oSNdAIFDPECZH2O8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/5qhu//V1dX///////////////////////////////////////////////////////H0/f8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkfY7yBQzxAoSNdAJkjX/yZI1/8mR9jvIFDPEAAAAAAAAAAAAAAAAAAAAAAmSNeAJkjX/yZI1/8lSNa/AAAAACZI1Z8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/+1tbX/6Ojo//////////////////////////////////////////////////////+7xvP/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNWfAAAAACVI1r8mSNf/JkjX/yZI14AAAAAAAAAAAAAAAAAAAAAAI0nY3yZJ2P8mSdj/JknWUCBQ3xAmSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P9KZM//tbW1//b29v//////////////////////////////////////////////////////k6Tr/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yBQ3xAmSdZQJknY/yZJ2P8jSdjfAAAAAAAAAAAAAAAAKEjXQCZJ2P8mSdj/I0nY3wAAAAAmSteAJknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/ZXjJ/7q6uv///////////////////////////////////////////////////////////3eN5/8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSteAAAAAACNJ2N8mSdj/JknY/yhI10AAAAAAAAAAACVJ2I8mSdj/JknY/yVJ2I8AAAAAI0nY3yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/3+Nwv/IyMj///////////////////////////////////////////////////////////9cd+L/JknY/yZJ2P8mSdj/JknY/x9r4f8Yjur/ELDz/wvJ+v8J0vz/CdL8/wnS/P8J0vz/ELDz/xiO6v8hY9//JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/I0nY3wAAAAAlSdiPJknY/yZJ2P8lSdiPAAAAAAAAAAAjSdjfJknY/yZJ2P8lStowJUraMCZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P+jqLn/2tra////////////////////////////////////////////////////////////aoLk/yZJ2P8ddOP/FJ/v/wvJ+v8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/xCw8/8fa+H/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8lStowJUraMCZJ2P8mSdj/I0nY3wAAAAAoSNcgJknZ/yZJ2f8jSdnfAAAAACZK2YAmSdn/JknZ/yZJ2f8mSdn/JknZ/yZJ2f8mSdn/JknZ/yZJ2f8mSdn/JknZ/yZJ2f8vUNf/tbW1/+3t7f///////////////////////////////////////////////////////////1vG9v8Lyfr/CdL8/wnS/P8J0vz/CdL8/wnS/P8QsPP/ELDz/xCw8/8OuPX/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/xt85v8mSdn/JknZ/yZJ2f8mSdn/JknZ/yZJ2f8mSdn/JkrZgAAAAAAjSdnfJknZ/yZJ2f8oSNcgJknZUCZK2f8mStn/JErZrwAAAAAlSdq/JkrZ/yZK2f8mStn/JkrZ/yZK2f8mStn/JkrZ/yZK2f8mStn/JkrZ/yZK2f8mStn/SmXQ/7W1tf/6+vr//////////////////////////////////////////////////////2Xj/f8J0vz/CdL8/wnS/P8J0vz/ELDz/x9s4v8mStn/JkrZ/yZK2f8mStn/JkrZ/yZK2f8hZOD/G33m/xaX7f8OufX/CdL8/wnS/P8SqPH/JkrZ/yZK2f8mStn/JkrZ/yZK2f8mStn/JkrZ/yVJ2r8AAAAAJErZryZK2f8mStn/JknZUCZK2YAmStn/JkrZ/ydL2HAAAAAAJkrZ/yZK2f8mStn/JkrZ/yZK2f8mStn/JkrZ/yZK2f8mStn/JkrZ/yZK2f8mStn/JkrZ/26Ax/++vr7//////////////////////////////////////////////////////6Pu/v8J0vz/CdL8/wnS/P8J0vz/ELDz/yZK2f8mStn/JkrZ/yZK2f8mStn/JkrZ/yZK2f8mStn/JkrZ/yZK2f8mStn/JkrZ/yZK2f8hZOD/JkrZ/yZK2f8mStn/JkrZ/yZK2f8mStn/JkrZ/yZK2f8mStn/AAAAACdL2HAmStn/JkrZ/yZK2YAkStuvJkra/yZK2v8oTNtAJUraMCZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v+IlMH/zMzM//////////////////////////////////////////////////////9W4P3/CdL8/wnS/P8J0vz/CdL8/xSf7/8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yVK2jAoTNtAJkra/yZK2v8kStuvJUnavyZK2v8mStr/KEjXIChM20AmStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/o6i6/9ra2v//////////////////////////////////////////////////////R939/wnS/P8J0vz/CdL8/wnS/P8J0vz/GI7r/x115f8Yjuv/GI7r/xiO6/8Yjuv/H2zj/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8oTNtAKEjXICZK2v8mStr/JUnavyNL2t8mS9r/Jkva/wAAAAAnS9twJkva/yZL2v8mS9r/Jkva/yZL2v8mS9r/Jkva/yZL2v8mS9r/Jkva/yZL2v8mS9r/OFjV/7W1tf/t7e3//////////////////////////////////////////////////////8L0/v8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8Lyvr/FJ/v/x115f8mS9r/Jkva/yZL2v8mS9r/Jkva/yZL2v8mS9r/Jkva/yZL2v8mS9r/Jkva/yZL2v8mS9r/J0vbcAAAAAAmS9r/Jkva/yNL2t8mS9v/Jkvb/yZL2/8AAAAAJkzbgCZL2/8mS9v/Jkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/Jkvb/1Nsz/+1tbX/////////////////////////////////////////////////////////////////svH+/xjV/P8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/DcH4/xaX7f8iXN//Jkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/Jkvb/yZM24AAAAAAJkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/AAAAACZM24AmS9v/Jkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/Jkvb/yZL2/9ugMj/w8PD///////////////////////////////////////////////////////////////////////w/P//ZeP9/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/xCw9P8ddeX/Jkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/Jkvb/yZL2/8mTNuAAAAAACZL2/8mS9v/Jkvb/yZL2/8mS9v/Jkvb/wAAAAAmTNuAJkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/kZu//9HR0f/////////////////////////////////////////////////////////////////////////////////w/P//wvT+/4Tp/v+E6f7/hOn+/1bg/f8o2Pz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/w3B+P8fbeP/Jkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/JkzbgAAAAAAmS9v/Jkvb/yZL2/8mS9z/Jkvc/yZL3P8AAAAAJkzbgCZL3P8mS9z/Jkvc/yZL3P8mS9z/Jkvc/yZL3P8mS9z/Jkvc/yZL3P8mS9z/Jkvc/6yut//f39///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////4Gr7/8bfuj/FJ/w/w3B+P8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/x9t5P8mS9z/Jkvc/yZL3P8mS9z/Jkvc/yZM24AAAAAAJkvc/yZL3P8mS9z/I0vc3yZM3P8mTNz/AAAAACdL3XAmTNz/Jkzc/yZM3P8mTNz/Jkzc/yZM3P8mTNz/Jkzc/yZM3P8mTNz/Jkzc/y9T2v+1tbX/7e3t//////////////////j08v+xhm7/qnth/9W9sP////////////////////////////////////////////////////////////////////////////////+Tpu7/Jkzc/yZM3P8mTNz/Il3g/xmH6v8SqPL/CdL8/wnS/P8J0vz/CdL8/wvK+v8hZeL/Jkzc/yZM3P8mTNz/Jkzc/yZM3P8nS91wAAAAACZM3P8mTNz/I0vc3yVM3L8mTNz/Jkzc/yVK2jAoTNtAJkzc/yZM3P8mTNz/Jkzc/yZM3P8mTNz/Jkzc/yZM3P8mTNz/Jkzc/yZM3P9KZtL/tbW1//////////////////////+xhm7/jk8s/45PLP+OTyz/6t7X///////////////////////////////////////////////////////j08r/6t7X////////////k6bu/yZM3P8mTNz/Jkzc/yZM3P8mTNz/Jkzc/yJd4P8fbuT/H27k/x9u5P8mTNz/Jkzc/yZM3P8mTNz/Jkzc/yZM3P8mTNz/KEzbQCVK2jAmTNz/Jkzc/yVM3L8kStyvJkzd/yZM3f8oTNtAKFDfICZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/boHJ/76+vv//////////////////////lVo5/45PLP+qe2H/uJF7/86yo/////////////////////////////////////////////////+jcFT/jk8s/45PLP/cyL3//////5Om7v8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yhQ3yAoTNtAJkzd/yZM3f8kStyvJkzdgCZM3f8mTN3/JkzdgAAAAAAmTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/26Byf/IyMj//////////////////////7+ciP+OTyz/sYZu/86yo//x6eX/////////////////////////////////////////////////jk8s/45PLP+/nIj/x6eW//////9ceeb/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8AAAAAJkzdgCZM3f8mTN3/JkzdgCZN3FAmTd3/Jk3d/yRN3a8AAAAAJU3evyZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f9ugcn/1dXV////////////////////////////1b2w/8enlv/x6eX//////////////////////////////////////////////////////6NwVP+OTyz/3Mi9/9W9sP//////NFjf/yZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8lTd6/AAAAACRN3a8mTd3/Jk3d/yZN3FAgUN8QJk3d/yZN3f8mStrvAAAAACdN3XAmTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8mTd3/boHJ/9ra2v/////////////////////////////////////////////////////////////////////////////////////////////////49PL/zrKj/+PTyv//////1t75/yZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8mTd3/J03dcAAAAAAmStrvJk3d/yZN3f8gUN8QAAAAACZO3c8mTd7/Jk3e/yVK3zAlSt8wJk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/26Byv/a2tr////////////ly8P//////////////////////////////////////////////////////////////////////////////////////////////////////4Wb7P8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yVK3zAlSt8wJk3e/yZN3v8mTt3PAAAAAAAAAAAlTd2PJk3e/yZN3v8lTd2PAAAAACZO3c8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v9TbtH/2tra////////////zZ6Q/929tf////////////////////////////////////////////////////////////////////////////////////////////////9BY+L/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZO3c8AAAAAJU3djyZN3v8mTd7/JU3djwAAAAAAAAAAJUrfMCZN3v8mTd7/Jkrb7wAAAAAnTd9wJk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/L1Tb/8jIyP////////////Hk4P/DjH3/s25e/7h5bP/DjoP/////////////////////////////////////////////////6dTN/+PIwP/q1tL/4cfC/8+lnP+uvPP/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8nTd9wAAAAACZK2+8mTd7/Jk3e/yVK3zAAAAAAAAAAAAAAAAAjS9zfJk7f/yZO3/8lTd9gIFDfECZL3O8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/+Nmcf////////////////////////////////////////////////////////////////////////////////////////////Tq6D/v4V3/76Fef/t3dr/QWTj/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mS9zvIFDfECVN32AmTt//Jk7f/yNL3N8AAAAAAAAAAAAAAAAAAAAAJ03fcCZO3/8mTt//Jk7dzwAAAAAmTt+AJk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//SmjV/+jo6P//////////////////////////////////////////////////////////////////////////////////////////////////////oLLx/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7fgAAAAAAmTt3PJk7f/yZO3/8nTd9wAAAAAAAAAAAAAAAAAAAAACBQ3xAmS9zvJk7f/yZO3/8mTd9QIFDfECZL3O8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/+EltX/////////////////////////////////////////////////////////////////////////////////////////////////5On7/zRZ4f8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jkvc7yBQ3xAmTd9QJk7f/yZO3/8mS9zvIFDfEAAAAAAAAAAAAAAAAAAAAAAAAAAAJk7fgCZO4P8mTuD/I0vg3wAAAAAlTd9gJk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/5uq4f//////////////////////////////////////////////////////////////////////////////////////8fT9/09v5v8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yVN32AAAAAAI0vg3yZO4P8mTuD/Jk7fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACBQ3xAmS+DvJk7g/yZO4P8mTt+AAAAAACVN4L8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/ZYHl/+Tp+///////////////////////////////////////////////////////////////////////8fT9/05v5v8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yVN4L8AAAAAJk7fgCZO4P8mTuD/Jkvg7yBQ3xAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJVDfYCVP4P8lT+D/JU/g/yVQ3zAgUN8QJUzg7yVP4P8lT+D/JU/g/yVP4P8lT+D/JU/g/yVP4P8lT+D/JU/g/yVP4P8lT+D/d5Hs/7vI9f/x9P3////////////////////////////////////////////W3vn/hJzu/zNa4v8lT+D/JU/g/yVP4P8lT+D/JU/g/yVP4P8lT+D/JU/g/yVP4P8lT+D/JU/g/yVP4P8lT+D/JU/g/yVP4P8lT+D/JU/g/yVM4O8gUN8QJVDfMCVP4P8lT+D/JU/g/yVQ32AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlTeK/JU/h/yVP4f8iTuHPIFDfECVQ3zAlT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/W3XQ/0lp1v9Jadb/SWnW/22Cy/9tgsv/qLPX/+Tm7////////////////////////////+Tp+/8zWuP/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lUN8wIFDfECJO4c8lT+H/JU/h/yVN4r8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKFDfICVM4e8lT+H/JU/h/yNP4Z8AAAAAJVDiYCVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/7G51P/t7e3/7e3t/+3t7f/29vb//////////////////////////////////////9be+f8zWuP/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lUOJgAAAAACNP4Z8lT+H/JU/h/yVM4e8oUN8gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlUOJgJU/h/yVP4f8lT+H/I0/hnwAAAAAlUOJgJU/h/yVP4f8lT+H/JU/h/yVP4f8uVd7/hJzu/9bb7f//////////////////////////////////////8fT9/4Sc7v8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lUOJgAAAAACNP4Z8lT+H/JU/h/yVP4f8lUOJgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACVQ4Y8lUOL/JVDi/yVQ4v8jUOKfAAAAACVQ4mAlUOL/JVDi/yVQ4v8lUOL/W3bR/6200P/x8fH////////////////////////////J0/j/d5Lt/zNb4/8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOJgAAAAACNQ4p8lUOL/JVDi/yVQ4v8lUOGPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAI1DinyVQ4v8lUOL/JVDi/yNQ4p8AAAAAJVDkMCVQ4u8lUOL/JVDi/y5W3/9cfOn/kqjx/5Ko8f+SqPH/d5Lt/1x86f8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4u8lUOQwAAAAACNQ4p8lUOL/JVDi/yVQ4v8jUOKfAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjUOKfJVDi/yVQ4v8lUOL/JFDgryBQ3xAgUN8QJFDgryVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yRQ4K8gUN8QIFDfECRQ4K8lUOL/JVDi/yVQ4v8jUOKfAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACNQ4p8lUOL/JVDi/yVQ4v8iUOHPJVDkMAAAAAAmUOJQI1Di3yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/I1Di3yZQ4lAAAAAAJVDkMCJQ4c8lUOL/JVDi/yVQ4v8jUOKfAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJlDjgCVQ4/8lUOP/JVDj/yVQ4/8mUuOAIFDfECBQ3xAmUOOAJVDj7yVQ4/8lUOP/JVDj/yVQ4/8lUOP/JVDj/yVQ4/8lUOP/JVDj/yVQ4/8lUOP/JVDj/yVQ4/8lUOP/JVDj/yVQ4/8lUOP/JVDj/yVQ4/8lUOP/JVDj/yVQ4/8lUOPvJlDjgCBQ3xAgUN8QJlLjgCVQ4/8lUOP/JVDj/yVQ4/8mUOOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmUOJQJVHj7yVR4/8lUeP/JVHj/yNR5N8lUOJgAAAAAAAAAAAlUOJgIlHhzyVR4/8lUeP/JVHj/yVR4/8lUeP/JVHj/yVR4/8lUeP/JVHj/yVR4/8lUeP/JVHj/yVR4/8lUeP/JVHj/yVR4/8lUeP/JVHj/yJR4c8lUOJgAAAAAAAAAAAlUOJgI1Hk3yVR4/8lUeP/JVHj/yVR4+8mUOJQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAChQ3yAlUeK/JVHj/yVR4/8lUeP/JVHj/yNR5N8lUORgIFDfEAAAAAAoUN8gJFLkcCRS468jUeTfJVHj/yVR4/8lUeP/JVHj/yVR4/8lUeP/JVHj/yVR4/8lUeP/JVHj/yNR5N8kUuOvJFLkcChQ3yAAAAAAIFDfECVQ5GAjUeTfJVHj/yVR4/8lUeP/JVHj/yVR4r8oUN8gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACVQ5GAjUeTfJVHk/yVR5P8lUeT/JVHk/yVR5O8jUuSfJlDmUAAAAAAAAAAAAAAAACBQ3xAkUONAJFDjQCRS5HAmUuOAJlLjgCRS5HAkUONAJFDjQCBQ3xAAAAAAAAAAAAAAAAAmUOZQI1LknyVR5O8lUeT/JVHk/yVR5P8lUeT/I1Hk3yVQ5GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIFDfECZS44AlUeTvJVHk/yVR5P8lUeT/JVHk/yVR5P8lUeT/JVHkvyZS44AlUORgJFDjQCBQ3xAAAAAAAAAAAAAAAAAAAAAAIFDfECRQ40AlUORgJlLjgCVR5L8lUeT/JVHk/yVR5P8lUeT/JVHk/yVR5P8lUeTvJlLjgCBQ3xAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACVQ5GAiU+HPJVLk/yVS5P8lUuT/JVLk/yVS5P8lUuT/JVLk/yVS5P8lUuT/JVLk/yVS5P8lUuT/JVLk/yVS5P8lUuT/JVLk/yVS5P8lUuT/JVLk/yVS5P8lUuT/JVLk/yJT4c8lUORgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAChQ5yAkUuZwJVHmvyVS5f8lUuX/JVLl/yVS5f8lUuX/JVLl/yVS5f8lUuX/JVLl/yVS5f8lUuX/JVLl/yVS5f8lUuX/JVLl/yVS5f8lUea/JFLmcChQ5yAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJFTjQCRS5nAlUuSPJVHmvyVR5r8lUea/JVLl/yVS5f8lUea/JVHmvyVR5r8lUuSPJFLmcCRU40AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACAAAABAAAAAAQAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoSM8gJ0TRcCdE0K8jQ9HfJ0TR/ydE0f8nRNH/J0TR/yND0d8nRNCvJ0TRcChIzyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoRNNAJUXSvydF0v8nRdL/J0XS/11z3f9dc93/eIvj/5Oi6f+Toun/a3/g/zVQ1f8nRdL/J0XS/yVF0r8oRNNAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgQM8QJ0TTrydF0/8nRdP/JUXSvyhF0mDr7vuv/v7+v/7+/r/9/f3P///////////+/v6/ydHzgChF0mAlRdK/J0XT/ydF0/8nRNOvIEDPEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJUXVMCdG0+8nRtP/J0bRzyhE00AAAAAAx8fHQNrx4Z+U2KTf6Pfs//////////////////Dy/N8nRtKPJUXVMAAAAAAoRNNAJ0bRzydG0/8nRtPvJUXVMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAChF1WAnRtT/J0bU/yhG04AAAAAAJkbWUCND1N/IyMj/xerP/0a7ZP9Gu2T/f8iK/3O/ev+Ly5L/iaTX/zNyqv88lof/M3ik3yZG1lAAAAAAKEbTgCdG1P8nRtT/KEXVYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlRdUwJ0fV/ydH1f8oRdVgIEDPECdH068nR9X/QlvP/9ra2v+j3bL/Rrtk/0a7ZP9Fs1r/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP8+noD/J0fV/ydH068gQM8QKEXVYCdH1f8nR9X/JUXVMAAAAAAAAAAAAAAAAAAAAAAAAAAAIEDPECdH1e8nR9X/KEjVYCBAzxAnR9XPJ0fV/ydH1f9ccMn/7e3t/6Pdsv9Gu2T/Rrtk/0WuVP9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/z6egP8nR9X/J0fV/ydH1c8gQM8QKEjVYCdH1f8nR9XvIEDPEAAAAAAAAAAAAAAAAAAAAAAnR9avJ0fW/yhI1YAgUM8QJ0fWzydH1v8nR9b/J0fW/4CMwf/6+vr/o92y/0a7ZP9dxHf/otuv/67hu/8+noH/Pp6B/0a7ZP9Gu2T/OpCP/ydH1v8nR9b/J0fW/ydH1s8gUM8QKEjVgCdH1v8nR9avAAAAAAAAAAAAAAAAKEjXQCZI1v8mR9bPAAAAACRH1q8mSNb/JkjW/yZI1v8mSNb/o6rE///////o9+z/0e7Y////////////1t33/yZI1v8mSNb/LmW6/zyXiP8yc6z/JkjW/yZI1v8mSNb/JkjW/yRH1q8AAAAAJkfWzyZI1v8oSNdAAAAAAAAAAAAlSNa/JkjX/yhI10AmSdZQJkjX/yZI1/8mSNf/JkjX/yZI1//R0dH///////////////////////////+TpOv/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZJ1lAoSNdAJkjX/yVI1r8AAAAAKEjXICZJ2P8mR9jPAAAAACNJ2N8mSdj/JknY/yZJ2P8mSdj/SmTP/9/f3////////////////////////////1x34v8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/I0nY3wAAAAAmR9jPJknY/yhI1yAnSdhwJknY/yVI12AlStowJknY/yZJ2P8mSdj/JknY/yZJ2P9leMn/7e3t////////////////////////////XHfi/x104/8Un+//DcH4/wnS/P8J0vz/CdL8/xCw8/8bfOb/JknY/yZJ2P8mSdj/JUraMCVI12AmSdj/J0nYcCRK2a8mStn/KEjXICVJ2o8mStn/JkrZ/yZK2f8mStn/JkrZ/4iTwP///////////////////////////9H3/v8Y1fz/CdL8/w659f8Yjuv/GI7r/xiO6/8QsPP/C8r6/wnS/P8Zhej/JkrZ/yZK2f8lSdqPKEjXICZK2f8kStmvI0ra3yNK2d8AAAAAJUnavyZK2v8mStr/Jkra/yZK2v8mStr/sbbH////////////////////////////KNj8/wnS/P8Lyvr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Ilve/yZK2v8mStr/Jkra/yVJ2r8AAAAAI0rZ3yNK2t8mStr/JUnavwAAAAAmR9jvJkra/yZK2v8mStr/Jkra/y9R2P/R0dH///////////////////////////8o2Pz/CdL8/wnS/P8QsPT/ELD0/xCw9P8Un+//HXXl/yZK2v8mStr/Jkra/yZK2v8mStr/JkfY7wAAAAAlSdq/Jkra/yZL2/8lSdq/AAAAACZL2/8mS9v/Jkvb/yZL2/8mS9v/SmbS/+Pj4////////////////////////////+D5//9H3f3/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/C8r6/xaX7v8iXN//Jkvb/yZL2/8mS9v/AAAAACVJ2r8mS9v/Jkvc/yVJ3L8AAAAAJkvc/yZL3P8mS9z/Jkvc/yZL3P9ugMj/8fHx///////////////////////////////////////R9/7/wvT+/6Pu/v9n2vv/Drn2/wnS/P8J0vz/CdL8/wnS/P8Yj+z/Jkvc/yZL3P8AAAAAJUncvyZL3P8mTNz/JUzcvwAAAAAmSdnvJkzc/yZM3P8mTNz/Jkzc/4iUwf///////////6p7Yf+VWjn/8enl///////////////////////x6eX/8enl/8nS9v8mTNz/JFTe/xt+6P8SqPL/ELH0/x125v8mTNz/JknZ7wAAAAAlTNy/Jkzc/yNL3N8mSdrvAAAAACVM3r8mTN3/Jkzd/yZM3f8mTN3/n6nN////////////lVo5/7+ciP/q3tf//////////////////////45PLP+4kXv/ydL2/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8lTN6/AAAAACNL3N8jS9zfJE3dryZN3f8oUN8gJU3djyZN3f8mTd3/Jk3d/yZN3f+krdL////////////x6eX/6t7X////////////////////////////sYZu/+PTyv+gsfD/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yVN3Y8oUN8gJk3d/yRN3a8nTd9wJk3e/ydN33AlSt8wJk3e/yZN3v8mTd7/Jk3e/6Su0v//////0qea/////////////////////////////////////////////////09u5P8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/JUrfMCdN33AmTd7/J03fcChQ3yAmTt//Jk7dzwAAAAAlTd6/Jk7f/yZO3/8mTt//hJbV///////n0cr/0qmg/+fSzv//////////////////////2ret/7yAcv+xpcX/Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yVN3r8AAAAAJk7dzyZO3/8oUN8gAAAAACRP3a8mTt//KFDfQChQ30AmTt//Jk7f/yZO3/84W9r/6Ov0/////////////////////////////////////////////////1x65/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//KFDfQChQ30AmTt//JE/drwAAAAAAAAAAKFDfQCZO4P8mTuDPAAAAACZP4Z8mTuD/Jk7g/yZO4P9Ob+b/5On7//////////////////////////////////////93kez/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZP4Z8AAAAAJk7gzyZO4P8oUN9AAAAAAAAAAAAAAAAAI0/hnyVP4f8lTuGPIFDfECJO4M8lT+H/JU/h/0lp1v9Jadb/m6vh//Hx8f////////////////+gsvL/TnDm/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8iTuDPIFDfECVO4Y8lT+H/I0/hnwAAAAAAAAAAAAAAAAAAAAAgUN8QJUzh7yVP4f8lUOJgIFDfECJO4c8lT+H/pLTr///////////////////////x9P3/aYbq/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/Ik7hzyBQ3xAlUOJgJU/h/yVM4e8gUN8QAAAAAAAAAAAAAAAAAAAAAAAAAAAlUN8wJVDi7yVQ4v8lUOJgIFDfECNQ4p+Jm9v/ydP4/8nT+P+tvfT/d5Lt/zNb5P8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yNQ4p8gUN8QJVDiYCVQ4v8lUOLvJVDfMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlUOQwJVDi7yVQ4v8lUOKPAAAAACRQ40AlUOK/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4r8kUONAAAAAACVQ4o8lUOL/JVDi7yVQ5DAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlUOQwI1Hk3yVR4/8jUeTfJFDjQAAAAAAlUOQwJlLjgCVR4r8jUeTfJVHj/yVR4/8jUeTfJVHivyZS44AlUOQwAAAAACRQ40AjUeTfJVHj/yNR5N8lUOQwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgUN8QI1LknyVR5P8lUeT/I1Hk3yRS5HAoUOcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKFDnICRS5HAjUeTfJVHk/yVR5P8jUuSfIFDfEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJFDjQCNS5J8lUuT/JVLk/yVS5P8lUuTvJVHkvyVR5L8lUeS/JVHkvyVS5O8lUuT/JVLk/yVS5P8kUuOvJFDjQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACBQ3xAlUuRgI1LlnyJT5c8lUuX/JVLl/yVS5f8lUuX/IlPlzyNS5Z8lUuRgIFDfEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAGAAAADAAAAABACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACVE0XslQNL8I0HS/yE/0v8gP9L/ID/R/yFA0f8jQtL/JT/P/SVE0XsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmRtRqJkTT/yRC0/8ePtSwFjbXOQAAAAAAAAAAAAAAAAAAAAAaN9U8Ij/UsiZD1P8nRNP/JkbUagAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACRG1MsnRtT/J0XTngAAAAAAAAAAxMvRztPyyf////////////////95gvB0AAAAAAAAAAAnRdWeJ0bU/yRG1MsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJ0bV5CdG1f8qR9UrAAAAABw+1Zk8UND/4PzL/yy9RP9SwF3/S7pO/53anP8wjIT/OZx8/yM83JoAAAAAKkfVKydG1f8nRtXkAAAAAAAAAAAAAAAAAAAAAAAAAAAlR9WxJ0fV/yBAzxArVdUGI0TV/xk61/9ib8f/z/vI/ya1Rf8qqz7/MrtM/z65UP9FzUv/Q7pj/yM74P8mRNj/K1XVBiBAzxAnR9X/JUfVsQAAAAAAAAAAAAAAACdJ2DsmSNb/JkjWSgAAAAAlR9b/IETW/xE31/+gosj/2PvT/2nMfv/h+d//wOq//yJesf9AtWT/QrBs/yM+3/8lRdj/JkjW/wAAAAAmSNZKJkjW/ydJ2DsAAAAAAAAAACZF1P0jSNXYAAAAACNE1PIlR9f/HkLX/wsy1v/W09H/////////////////qa33/xEr3/8gON//KU7N/yVA2/8mRdj/JkfX/yNE1PIAAAAAI0jV2CZF1P0AAAAAKErXJiZJ2P8oQ9cTJkrZZCZJ2P8kSNj/HEHY/w830//5893/////////////////T2Tg/xYx1v8jOdj/JzvY/yc+1/8nQtf/JkbX/yZI2P8mStlkKEPXEyZJ2P8oStcmJUnakCZJ2f8AAAAAJknW/iZI2f8jRtn/GD7Z/zNPyf////H/////////////////LD3W/xVQ2/8Ujez/EKny/xWY7v8hXN7/J0LX/yZG2P8mSNb+AAAAACZJ2f8lSdqQJkvZ2yZL2ZMAgP8CJkrZ/yVJ2f8iR9n/FDzY/1twv//////////////////z////AMH5/wC79/8Xf+f/GYTo/xOj7/8J0Pv/IGfh/ydG2P8mSdj/AID/AiZL2ZMmS9nbJkva/ydL204oS9tHJkva/yVK2v8gRtr/DznZ/6CoxP////////////////9q6P7/ANT+/wd75/8WZuD/H1jd/ysw0/8qNtT/KD/X/ydG2P8mStn/KEvbRydL204mS9r/Jkvb/ylL3CwnS9tpJkvb/yVK2/8eRdv/CjXa/9jWz///////////////////////O+D//wDV//8A3///AOr//wLe//8Tnu//I1Hd/ydD2f8mSNr/J0nbaSlL3CwmS9v/Jkzc/yRN2zInS91iJkzc/yRL3P8cRNz/FD3X//354///////28W3////////////////////////////MYLs/wqg8f8D4v//APf//yNa3/8mSdv/J0vdYiRN2zImTNz/Jkzd/yZM3F4kTd84Jkzd/yRK3f8bQ93/MVLP////9//jzLr/fDEI///+/v///////////3wxCP/wv5j/PVXj/x842v8nPdn/KEHa/ydG2/8mStz/JEnfOCZM3F4mTN3/Jk3eySZL3rAAAAAAJk3e/yRL3v8bRN7/NVbO//////////////78//////////////////Thz///+N3/DTfe/x5D3f8lSN3/Jkrd/yZL3f8mTN7/AAAAACZL3rAmTd7JJkzdciZN3v8AAAAAJk3c1iRL3v8cRd3/Fz/X////9f//7+L////////////////////////+6f+svfP/EDzd/yBI3f8lS93/Jkzd/yZM3v8mTdzWAAAAACZN3v8mTN1yAFX/AyZO3/8nTt9IKUvcLCVN3/8gSd//Djve/8HH3P////////////////////////////////8fSeD/GUTe/yNM3v8mTt//Jk7f/yZO3/8pS9wsJ07fSCZO3/8AVf8DAAAAACZM38UlT+D/AAAAACNP3rQhTOD/FELf/wY22v+Bldj/6ert////////////w83x/y5X4f8TQd7/H0vf/yRO4P8lT+D/JU/g/yNP3rQAAAAAJU/g/yZM38UAAAAAAAAAACRJ2wclT+H/Jk7howAAAAAhTd7dGEXh/5Kg0v////n//////////P9Wduj/Bzfd/xZC3/8fSuD/I03h/yRO4f8lT+H/IU7e3QAAAAAmTuGjJU/h/yRJ2wcAAAAAAAAAAAAAAAAkUONcJVDi/yRP4nEAAAAAHkvhtT1h3f9gfuf/Mlrk/wg53v8SQd//G0jh/yFN4f8jT+L/JFDi/yVQ4v8lUOG1AAAAACRP4nElUOL/JFDjXAAAAAAAAAAAAAAAAAAAAAAAAAAAI1DkgyVQ4/8kT+SeAAAAABxK4y0aR+PXGkfi/x1J4v8gTOL/I07j/yRP4/8lT+P/JE/j1ydO4y4AAAAAJVDjnSVQ4/8jUOSDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACVQ4mAlUeP/JFDj/yRQ40AAAAAAAAAAACJO4jQjT+JXJlLiVydT4jQAAAAAAAAAACRQ40AlUeP/JVHj/yVQ4mAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAnTusNJVHk0SVR5P8lUOT/JlHkqiRQ41wlT+M3JU/jNyRQ41wmUeSqJVHk/yVR5P8lUeTRJ07rDQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACRJ2wclUuR9JVDlziVS5f8lUuX/JVLl/yVS5f8lUOXOJVLkfSRJ2wcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAABAAAAAgAAAAAQAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANdUYAC7OqAAm0PcAI9L/ACPS/wAn0PcALtGoADXVGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8zeAjXS/6Cv8///////////////////////o7D7/wQ11/8AM9LeAAAAAAAAAAAAAAAAAAAAAAAAAAAAMs7zUnbg///////Iyv7/j/i3/yG0C/9e0Tz/id2P/8Dil///////WHrl/wAyzvMAAAAAAAAAAAAAAAAAMNPdaYjl//P1/f9RceT/cYbv/1jlmf9FvS7/S8I5/yfAQf8cgwD/W3Xy//Xz//9piOb/ADDT3QAAAAAHOtdGEUPX//////9Ga+D/ABnQ/7G99v///////////8K7//8AIdf/DD2m/wAj3P9Oa+P//////xJD1/8HOtdGADbVpK6/8v+kuPD/ACfS/wAd0f/v8P7///////////9/g+3/AEHi/wGE8P8Ba+f/ADDW/6e07/+uvfL/ADPVpAAy1v//////Ml7f/wAt1f8AMNf////////////8////AND+/wCm9f8FiOz/ALj3/wCd8P82Vtz//////wAx1f8AMdj//////wM62f8ALtf/OGTi////////////3v///wDQ//8Atfn/ALX3/wGW7/8GOtn/BCzX//////8AMNf/ADLZ//////8AMNn/ACzZ/5Cq8/////v/3MGx////////////0f///0XG/P8Azv3/APz//wB86P//////ADDY/wA12v//////L17i/wAp2v+Mqvf//+/U/41JIP/Yvq///////69kNP+wqM7/ASna/wIq2P83WeD//////wA02v8CO9rTrr/0/6a69P8AJdr/iaj2//+8lv/m1Mb//fv5////7v/1vp//jqfy/wAz3f8AL9r/q7v0/6+/9P8CO9rTC0HdQxBI4P//////Qm3n/wA54P//////////////////////0d///wAt4P8AMt7/Unjp//////8RSOD/C0HdQwAAAAADOuDzZors//f4//9pje3/5uz9////////////Qm/p/wAl3f8ALd7/a47t//////9oi+z/Azrg8wAAAAAAAAAAAAAAAAE94P9Kden//////9zk/P9zku7/ACrd/wAj3P84Z+f/scP2//////9Peer/Aj3g/wAAAAAAAAAAAAAAAAAAAAAAAAAABDzg8wVA4f+bs/P/+/3+/////////////////6a89P8LReL/BUHg8wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALReVGA0DjpAA64/8AOOL/ADnj/wA85P8FQeOkD0XlRgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
SuggestUrl:"https://ac.duckduckgo.com/ac/?q=%s&type=list"},{Id:3,Name:"Yahoo!",Keyword:"y",Url:"https://www.vivaldi.rocks/Results.aspx?gd=SY1000191&ctid=&ISID=6607C819-705B-493E-B85F-75D5FF8ECA5D&SearchSource=58&UM=8&D=091115&q=%s",FaviconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAABMEAYAAACXB41oAAAqaElEQVR4Ae2dB3hVRffuZ5%2BWTggl9B4g9Bp6Cb2G3ps0KUqRqiAgCCIgSBVCERAUBASkCwhSNfQOCaEEklASCOnllL3vb44crx%2Bf3%2F%2B79z43JNHM86wzu8yesuadd62ZXY7SdYMQe301TWSHbA2kgwYM4rIQ2vZ0yDk7y2wNoAGDOMbvwmxdZGsgfTRg0H6CwT5Nn8yzc83WgEHsQQkfZisiWwPpowGD2AGDjU6fzLNzzdaAQfsOJQzOVkS2BtJHAwaxEQbrmz6ZZ%2BearQGDWAvAOv0DFKG80UZn9g1IPsQF8URMiA6RaRMRC%2FIcSUESXu8TCblqmL1yKDXxX4NBW0Wa1v81XdZNUJ6q50I%2BABNnhbBNJwY46mmOAS7tPrKA7S3IPSQVsSH1kfxgTYKsL7gDcMol4hPERREvhDzFLSQGkelU5E0gc%2BifHJROrYT4oc%2FfYCVfdqyUKkhu%2BvpHgONBv59guynkNFSs0tUQIo8okc%2BlJNgZW6K%2BSxT714p96QKbuXl6jTRMJYsAnZcyF5wFJuyyrgE7nSMHp90W4lmFh3WTuwsRVezenZR9QiQfS3tlBYT6wlzTEjIcAPj%2B7MsmUQ8Jun844AzaIjoCRWW54DBTFag5DGWfrMAoFhjJ9ohDP%2BYb6zxPCL%2FOAbnz1hSiZvuAEO%2BeQhT9pOIF91oAqmeuAQY9wDhgHKCbQB5HlCWiOXjwILc25LdEe1fcAJwdbP5aaaxkQMJFG8ef3g0dnJxDiGtTj1R5QfqgAj90fh4hRIR3qFdSMoALJ4%2FqxL8Sc50WRN7PXmv3Hwg2pSMjb3tQFmSwBnRaASGsP9OJdWGor1w66Vg0btpr0PlCBiFafj68eRFXmGpVqbyuLMWoc9RYbSjgUy2fyk5XtigvlbawzjJ9P7GNvC4p9RUAiC%2BWz%2B6LddXStENcN1XdI%2FpRxgO1pzab9DX0AQqAMjQzHlFgtLilUe%2BZMbVnvL7v%2FKy3EAeuLZ33KEGIlyWf%2BaXCpiaYVPcO%2BToj1EukIdIE%2F0OC0iFSiG1JWQdgSkXAkVsIcyP6aYUQhdaWjnHHhxo4beHnZWGNSrmamXLTqdZPLTptMcAIsE3UutC3M5xW6Z5wTW3rOu0mwOj8vF7aWEzg9ciTacPw6bfF7LQ0J72XNl9bJ4TrRs9dBqMQXh8VfM85gNi9wH2nUgCmkvNZHXWwrElbq8JQ4r64LaI5vt25t66HEJHxwT8nXRBi0%2BqPgkNIf7XO0eUvNgphnAjQ2pF%2BNFIZge3sJpTo7xyUDiMAWJFMDDDHbA0zJ7wBFixgmyyEb8e6HvjZ4v1Wa0ZV2s4pvxLeLjCS%2BVLKNZVONDZy3qWD5ZKevOpn6SDE5eBD%2B6ODhTg3%2B8flz2G%2BR12ubkw4wuSwU8xA814AeSuto4avJllLPAaQ3YyzlCEALTBnS8MYIQrP863mPg%2BTq%2B840bsF8foO3vnWYordCrR2om7m3qlX1NVcd8G0SVnGvk%2BKReUe76alk71CfhPieINNh8Mx30YYTFeYMvoyUMoSSz%2Ftb8xoSsBzIb5vkkkBBriUOnQAszmzNFfHhfAZXr2%2BZy4hJlzb%2BrjqUSFybs7%2F2MkFgPhaumkwkeG0cbDyNRbvyIHAaDpwZ4v5ve9h0h4%2BvtYnXkdenyIX8ZE%2BpqMnkX839r8knonUYpu8pCnTApGbCGAT88HAK7YPIhuQUUIU%2FLnkRDcA06HkuG4lYKpGp%2FoYCgJk0ruKOPKqrfQRjABtqVZOXBViXdXR52%2FvEuKXAlvuRwBcE2XoAaJMK8zI3zQoATDY1oGZEGA50bgTHduETrqGa1TW%2B6VpthBTfffMqZkoRJGmFd73mAOwwsxRKmlgneXS7Oxs%2B%2FniewBnb9slyQ9Pcr3FVlLe0DcuB1CAROBzCl8EcNg7VyWW4U0H3MGcjuOSddyRO0gM5Q6V%2Fhl1A6iijxD%2Bk%2Fq2KwRQB6yat8S3GlWv4HbBkJdz4eKeRnrzmZTlKj7bgkPdllz%2BmWzG%2FtY3BhNrBOC69qS79Xu%2B%2F1YPDmflYNCmoaRCmbAJQdTpGXVrp3irK4Tofmza1z7eQhQbWXlmDkxUmiH5orQsuor6%2FQrg%2BVY%2F9UAw7dg%2FLXDrQ5xu0xLOAQLjPLDzknxuI8T2DnSARgLm%2FzZI4OWAfQCcso9tT8RNiGN9vjsQ%2Fg6u1Q9xba3Ue2TFNbsrwYLG5U6xui34%2BOs8mhguC9HfMC%2BqLIz22S8dDBdg5NRycVZrefI6hZwhLyviAD2bWT0o7RnR3y3PRAyWB5VipiyMehXfpWJsg9a5GwjxUaHdPn6zODdaeSRgCKO7UxNdHSEODf3qXNhZITY0%2BWjbbTrMmAKwMI1KLGlHIORjXzwlSpfgTK56BMdervqnYj5tmPMO60f2KBkOoJ5%2Fvsn3B4kbS1utEcwW55pHbxJi8%2B0pPe8cFmJPpWVd72PyTQPJRubxBIGh%2Fy5BaQflf7stEwHsHKqFAWxdlRXSNI4vvMmzOqavtm%2FnGfl7cbyRVWh0RMSK2%2F4JY4SYNapNv3NFYY7QuGaWuYALH0kpQx5PEa57aybHlbIMsGQYsfTz1hlGMb8Ukytv%2B7EmDFV1WYuReQGj7VfbWU0nRLTukXfyUSFmPGzm8dsCJhs%2BL5ebO1H%2FeKp8j%2BslPTvMNJtZNSjtOjCajmUCgKF0CQYrrMMSpyhywVfvHgyAGhx1qwdonLa6euqZgen9DGN1LC8EDnov9hoMd8ztuzmPYQynCZyjg%2BTiqHjxe15vDVwU90coyRZm09wbBp7OssmpBh3yxMHAll2X%2FPAhldo6k%2FIFTHvB6aGuhBArXIeUuvpQiJOB2%2B%2BH0w5TZdpxijzk4JDmMosHg%2FYRHQpFZ3iQDjEsYANgtmNCVLA2%2FCb3Nvzqcl55jXSWdaxlktYKcnN7cDCpK7PEMgfGP28IaZyn02A8eX9RwySJ9kjuDGzNa%2F%2FO2Jp61RQi2DvowEt3bnPeuLg3FlYqN7f%2Bs1x7OXdIGS8w7dVqtxqS11uIU3O2Tw1PoQ0MNA0mlEsy0tfL6sEgJtMgr0zQDGfqgGKVocSYt9K96sR4nWG7i5gmFyb1uwzbFFgqOPpsjZj3hIjtGWtIBWCm2piVu6SjM7X8xJkl4CeKYUxGbltttl8g1grHDdG0r0KuhoNyX2LAfGdZreFTlvCtEuxZjnnC%2B%2B5TjUxCUnImzrXiP%2BqYcconXewOfxY2lQYtkwBMa4cyd2LqKht%2B0VOn%2FC1LfuQGE9mmWsdpbVB4hP4zhfWiB59eqx0bhd4Z4eo7gOpXQFmLayOQBCSzhNeMrAykQgyU%2B7OvTY2tBLBWm%2BurDBBtpYgV%2FbGmQ7xrOsFkOccXjDV9wMJw4l1hXkmbWAKRdyzsa2QwX1YNdgazP86SUS3AJEhfSTuN%2BAGwSPdyujmYxh%2B9kox3OOah9hIzANMiLVHrjHO8MrxtMr6LMkB8LLZzrZwUjEEyG8Awi8JIPfEXRVcms7siBqeYYLTDKa5qQZh3gUtB3VLiIJeJegaWu8hd3AhrqS7IYBgb10UvXZdUJCsDTJtCJ2akD%2BYAmARTKEy1w%2FSuXIk3LOIphwcot4z4Ti4DqB%2BqNzX8qzSP5JJynUn4kN4faYncZD8aoUMzTXCiJgbElfr1g4hKpQyX905VJ%2Bt5NZDjh0RbHQyl1NHpxEGSJpj66GaSdpUYKh8A%2FcM3ZmKTpQFm98EkFWdUeA0wUR6llkSXY615VZxdW0NrUfVbKpVblJB11PXSbVfYN3m4bNclkTYfcobzp4ilOYpEpB%2BXWYIbFQHw2ofIRQBU3rmDMph2zDUUVGiruCbC5Oq9lk%2FtI5ZhOhMtFWxfcZw2aQnEt4llv2R1gNkZzJuGZFR4PesSrGVp89Dnh4m15IN8yfvjSlgAmvJxsXcE5kK3Q%2F9c%2BiS5qxQa6VwEJugpdqv4ZNoQzoVR%2BccI5iXTBAl62EvFkVd9eRrDUtDi1JoBst0lRH%2BXc4HcEX3FgrJ3mq9tI2urpWJHmy9z%2FGdEguwKIvslqwMMT0ZoBWhIBgcFMImZuBx1zSMsk1gU3%2Fa4RRJOcckW1QbktHCuIQ89F2bWtbDy7Jyr2G%2BOXKPuOREJxP7sZ4J2UIvfgwS7ASY%2BBMCYUZYYXDkyJ5MS4yjTBt1aGKuz5bF82Sa%2B7Yuu5h%2BYFXd8cj4VwHEX4rz02QTHtCfEKpKlZ5HTqH8hGpHRAcdXeKD4Uuh0uxChTy5UjqkjRL26nY8UPszxBLOXitkpd7He7DyzSdrLY5IJxac8T8hlWUfHfALI7pCHDZGdksFBe58K%2FASg9uoG63bwCJhXkwjvGKp2VOshRuHAPzCWl77m4%2Fm3jXEHAFq32BJpczl%2BQZxXfOiTqYjUSRYPBjlD04plglYw2uUbPbpAYn%2FWjTxPPYo6AYBuxP9iXSxnVMYtynQek1lWZqB7KAuUUS2%2FzzdUiBOldopHgMsZ%2F0a%2FgGsdDr%2FD9HLorYYilJYD0wfApA9Zbmf1j3M3Yq4yqtbWXG0ZKM%2FMenUJpvK4s1mPeb%2FifdTtWXuOh4htth60AcbT1yMPGOzv8ECiQZsJwErSmIwOEhAIDzAL5QHPb9W5kfzKS4gQj%2FOLXwCoyn2bVMsXRF2bq2vkDDJg9PtDSy%2FkHnPvQ2GRmBRzp%2BSBNsClG8710neBLeyvm72tdr2eNWq1KRBm0uVXkqSJ69hw7OOyeRgAhd03G2BiWyvLK20zj1TviVyXnMYdCbcjpqcNafdj6l2C9sHgWnHysCA2JIsHg5hDg3BCM0tQvqEmtfBtb1gP2hKYzY9Ym%2F%2FeQ56qGNP4jLc%2FOo%2B1hMv6lu7otzQXwOpSetwXvsy%2BNl3%2FTFy%2FzzoanauHKRRYT7RAkhAzkl7BQMY6RIJBo94qbLSINwHT%2Bkb6fEFTgtq3LvgueNmYOk0dgMm87XxR9xTmLb7lRVgUvqYW2SEBE2kCbPp48qDNWnrWlyLeZjBo2H37M%2BJvs9T%2Fg7LkbRMdZuJ8q5%2FqRDK6Ly48tOsJnVl7UkBq4fpgJjrV2TZDiE5tPljj%2Byt3l4o%2FGJ%2BA6TmyZ%2BuXD94DaDvpMBNAe4ZMpEDY5P%2FrSr8n%2BUnWOgggYNjUEWCsuhA12jYeVaAQDx7enWOtUolzH2hlxF7qUF23S75cEtc16mKaH%2B7ZmvWG%2B7FczwRAbCXdVeLhyG0kGvmbBKV5ASFWNcgET1O8qdAiHMCXsV7Cl2HEF85dulYOTOasufteNmG0e1XOX8UZU6MWsg3RnOncapaRaj6eCzN97HeVzj40%2FuudoTCIgqOtYHYNTADkozD2p1IBnh1s5ONgHrb%2BOkh2ksENkddJ0XMZLKuuon6JxLBk3bXtLhZJ4R2Bhsua1%2FJnEtI%2B123T95xvZDmmFqcOS5VLSmvi3rozYjf1q7Y27d5cITZ2n%2B55ZQIAi7ackV850pUjjTdlwMZyGSOrB6UZo2fl5EwIMKlZTI6ojRSGsYbRqXRM7bmtfy7M8Ynj1lep1xmTc9qlpZ4Rry1S9VpjOihE10d5wUsW%2FbbMfAgL7ri8aMwtABA5%2BsGchPmcpxPFMQAHq%2Bik38NMjTcif2cSBpv94UEJKlhJcL1WBfmKsk8R9ybGAZcr8XnW54twBbABl9%2Fz9e1G%2FM6IS2VgVP0Wk78umHQXLHNVTKPwE%2B0EZWCqX0lTraxQbirtwGlVl%2FF6mG6%2F28qrIQdw28wfz78MWLUEyzwxhbpVJS3ttgNN%2BpMySD81iwWlWV0hvjqYSQEmlSmVKsWK4N%2Bk4TPaDgvR2LfrxOKsNb3fZenPtWA6lyke7Y03SbbRbFEBg0lxbqp3wtc3Pg1NieR5q1479oXR1qAt%2B5eF9%2BFR%2Bc9u1YoHEMnbEiLM5GeronloSymDPOSTqbpK4ooCi7qMcJ1laMPN9%2BGll3l8AF5qt55VyJP3L3v37lSiHEtvo0vV9AjDx%2Foq7WsbPp%2F6TJ2iwUhMMp7an%2BnSs54vAesICcA2jSatUe4pHalnY5eZel%2BAVn9Vl5AvAVqnqepljmtPLTO0cdTDj7QlufgeAuCzGsiUpld46E3LxACTLCYDpknBNIkQlA9jmWcBiv0QT3RjjwI4xsNDF7Xyy8eb2%2FPLRXr6cP5pyhHbA9JPV%2FbI70wY9zq9px%2FE8ZMpBWw3%2BATApvCQpKI8X3bvYUDCbtah1kcvScOkacFae20klrSEV1Onany%2Bwq3YFLeTMi7e1%2F0XAOfr8cK4DSCr5s%2FkLS010lZQi4MRe5oi5GtyrM9%2FKf09237LQTWA8%2F3UI1pZjlcUjewfWqEI9qSJ%2Fh1ogcodpQPN83eZoa%2FEi7tTA5NCJvGkzsUpX146TuJDli6SOXVNEYAomVW%2BRJJVgKY0HQ7A2mZigMnO%2BHMwsiOB5ozg9Ju70pmYmlw3vZe4lGJW6Tb2vfIlmED%2BNqCCD23jSwB6EybIesxcR71Eh8fYKmmYUOWIbogSRlbjDD2URuznUD5VFpBnTu4HkLdWQbuiLSf9z7bHGqBWQ22u2nPSeekmyRmq4TNTOV1PmOto6nxbKyHOfr5n2%2BNwXg5a%2Fev1qB95Fj9iumtVynPb5VnIOIPyl1uaqwAdp76Z%2FY6D9gbQlimX7aazsctUfXUhDp9Yr4WO5o6SYeLcC59S%2FhFzf%2B0WIBtIHTDTDhOe2YGmNHUSYvm3WQhg6NYeFH6lMOolM9gqA4pFxHS2ulaI4t3KB3nBNE3695xQgo6t1ajt%2BcI5MXV5in%2FjMQXG2OFcTA%2FziE1KhOhGfEJsEA%2BJk3hOC19JNOZpLYAKIx2XjwLZplpuq5T18vzTiilLuEt16MSlp%2FN4z3Hk1sgHMOEtr9OfROGYp9YXU61wVMOEdobimLgPmgf2rMcEwWWpe17DWIA211JLBUCiOje7ChD%2Fb6DF2E3nIuU3pQ316%2BuyWo%2FJPXxv%2FbBQ9gOnT%2FQ6n0Q9tpq7aOcZGCNovj%2FX30UYMJkVaEoTlgKWO2VBgKHTP4I0Oh4Ig8VuQlG4tRxAw6yqZ%2BhDGCiHziPAuTHP%2BjeucN%2FTl9ffDpaNzvkKbKrFvnWPxSQG5BrFF3iErqMSouzCN%2Fs%2B4bClDH0XFHE2aSY%2B28XQRnE472Ftr9ePBWAxs6LdkkeRdwBlbsYEn%2BXayWx%2FSF83xFeU%2FiDOfL2qbUcVBZjjzqz%2Bvv5KgHbLfaSBSYL1Y4uvSh0BWgv7JOBNoC1QTslZp6m%2Fyyq5rne4yganUAC3KnbC%2BvOAS%2F3YXIGvZtjL1AFA2e4%2FljfkwMskQWnSS4hlE7I4wKQyJcj%2BHGAN%2B5LCc%2BJEOmQdSWA3%2BdkBtQLixb68ZhaAaIbY2J5NLFkrF%2BdII5YSV0VWcLw0AjAMX9OpYQinFRd%2BpNmDweyvmknmMyJ65AGCr2QHWkuAltjmYdFqAK3j6gL1SwG0eI9FRga3dbylmOpD2hqi5V8CbZ7yi0K9TWNddugxyUcabugaSh1Xbps4%2FZyB9rRIeyVNuX4m9elEPg6gZRKQKU2c0WPU3wBg6PZ%2FDLLTJSokKOgY%2B20kZqZywmBf7YfF7MdU4j8xopKHfQlWT0QyZBoiwWh5HRP9ZYA9ZTlaGDFMKb8xZsNRrxfYpl1RADY%2BaPW4%2Bt9QnWoe941MOqwDLa5qftL6iVaiELGD0RK5mjLxEA8qMJhpvssF%2FUiA1n3D16Hkv7LexGrnFpN3pbQQ9TOANp%2B0Pbg%2BFIHJMzoo%2Fr8AsFH%2FAIBllKYl0CS4HyOAOO0SYMJJrzuhdVxR%2FMbxtjWTG6Ty6Ng0D38j4LZ2t1jUnKT147uThYn%2FDDQYUvlE2SsZ17TY5Yp%2BLECbvtElFN9s1fhJ0ee43rYzZZ%2FamHTMaJWtXM8gkss7GRUU%2F2lCLEnNBli6d8BrRrM%2FeRsH0A4DhooArXHrqXagDVsT1GAoQNvsMdYIk1nbW2JVV2pVi8%2Fh%2FRlorychSnNlsOIDA571qG4sI8Tuhksm3nokxGqnj4qd2wx5Noew%2Fbne4ZuymRHBwCyJbwdkRNH%2F0DJfM5pTXohtqhC%2FLv5p7qNyENWtd4O1HHw1qOba6g3PAbTTHoeNdQCaZjmgRqCr2rzxWYT4Nq%2B5RHFtGUMLZQfrd4EvqqWGsT58KmjE80mc55jd5B8kxsfL6Nml4g%2BdLlmUzWB0xdsNDtP5nGKZhKQCCGtpGG1xqwlFuQU1IXJN%2FYY3AVrFHGWNgzlntnyqPoSZHhpb6mCllI2J3axLhFi8YGS1M5jesz%2FvfxC2ATcRcyhvg%2F2LWdTebtP%2BXJri7w%2FAFmcD7M9KeavbDqBJhzwZoG0BTDj5dbu28i56HaCFrGnY8DLLLAVzf%2BDEEkjCxldx5vEAa%2BaI%2FGdgsrMXDtQMw9eSX180%2FEYecqIgzWIG%2B17UwB6yAebQREbHRiogJwPMOOVsNhU%2FylqQWeeOVvHF5gkxtOrnL%2F2YzW54NSP54lreCxm7v0IYzOVUFGCd5RpvRM52MwmwqIk9GBwb2XEGa8BC%2BXL5g%2FU5uZTi3Bvg4HtdeHE4R%2FgRPlg3MMgj6kusaUhcgrk6wAJ8hpmklcDCd8tswKJG9qBzbGTHmUQDDqAxCZCMpAc8uvX47Z4Aqyb7TMoUZv72RdlMDCyHNrMB5tBEZosdQJMM5Q7IfgJY%2BFyiGCLXyTKZKaRGfxmyAfaXasmEB6X5zMAF0%2F9Xjbw9gEnlyOmydGTlfTJGpf3Wi9yW8t%2BCdGDljMvhDGdRhf%2B3Zv7bedlDUj%2BO%2BN8S%2FIcDjqUJfDX7bS7JenLhVh53nGMzvUP6A8wBrF5Aqga38PYxEGcxS%2BL%2BmXUnbV1EE48hcnotfQpHcADqPgeYwqcVJj2KsYTiC0uQduLltSrEBRDP17G8%2Fk0FOvZxnO3g9CGW%2Fo1j33GeQ%2Fbg2Jf3HeUUyJFe1kcec5yXsQzShMllgaJILsTRkSXZlvcx5Tnu9%2F5xHZv%2FEhz5ybRy0LE0IVf71fZcQu%2FYAIjamZj81B5IP47LdHcRaTJlmbJujnwc7ZL5cdyMjq1dEXSjHuBYN4Sb7nY2dLSB3fQK6Q8wqQw6hi%2FLuKsAo7Ffh2CfskL01o8pXOMog7ONrpD9wyf%2BpFvyp2Y%2BZzuR6xqgi6FCdDYN3V4lH6%2BDzehbRT5QyAsey7QIAIfSbC9Q5DLiEK6pjRRHJDhk6%2FyRMqQvTh%2FQIakA2voD%2B%2BQh9%2B1PQ5QidnRQTbaLcX4Bh6hn6irS7yFv1qe0TZyjLqIe25WJP6PcMZw7zQAIIt0lYtJY2xN%2FS8ztIOtx8vqctHIp4QEiZ4muiKybgsjyAKeVfXUX%2BfUlP67LsSbPeOdnPF603mdhrlrEtX1aeZnB64ncQ5xHkg5dWilfPhKkBpMHaez%2BGToV7KtTxGmtCM%2BlPQ7o6sOyR9l91Yp7TyfvQ5yTg1kOBAnGdA6ymekbpBIJfK%2F0mYYiX118WS75Kz7%2Bd3RunQZ0ZJ3Edv2Ko6g0gGSVo3EQUhcFwjI2WK7C53X7FKTDxmxZOtAfxSetidtiHkj6IqKtZLRK79TZVHAAj1VNaDi3CExoo5Ptj7%2BkkY%2BVbUArX9rI1TT%2FDbd1%2FIfR3h67fGexPyD%2FaDcJtBOcB0B29oRp5CDQ6CDPIbmDXPqR%2Fp0ezXw7Q7D5iy73eJ96wZq2DaTvr98uO7W2X4uZxb2F6HVpbETNr%2FkDjy%2FG3fHjfHeX9ytWI33ZBtXKe1MncwzXeZA3A0K%2BnOJgEvMFjg8DY8%2FLLvQazOM8%2FkuVJteEeKfl9Fe1B6KKQx0CSySD6Ukdhpd8F%2FWkfHKyTh8eZGz45dmm9fkrHWupxTl3k3958qF9agj5d2NMH3U%2FZmCQjh24pG0TBliTFT02lAFwFnRiQ7dCDioZp3OQ4zx9QyLZ09nG47hfjPQrx89q8qWLHzutevcarDPs1NwaDX7iDecXJ2qHz5aMkdDFQq2M24xT9P58b37q%2FJsNFvLSxvCdcfeK8eBpn%2F3G0Aaw%2F1antibiSePXVGjRFIWGuXgZNDrAUCV1cxxFJic7W0lvhTnUl8zqXcpU9izBV50DN99pw7AavbdJpR2beEbv7rPlCSchlLbUD2axBZC%2BP1%2FxUQu3kM%2FiTw%2FdNLnNRj7i275T5z20I9Yp3paylD%2BEyL82pBXlJHaPXZoGUA%2BU2VTh5mPuDarRjVNDsdynSwZ7%2FiLEu%2BM%2Bm1D%2FJu9s9Lp2PBrmW9twWpezPgDic9uvVjq%2BUnCdxELk9%2FGOjWmtaMeWngv6X2zFe5PVvj1yuznpYs0bbACYZyu6yEdwTN2dushHcgLyDLFUusifkJzZO7xjIR5l%2B77%2FR4fI71bXy2nPJkFQR10nugyByHc6VdHt5%2Bmdl1fKR2%2BANAG0IgfyfURF0jmg6nQOCvlLCUcYxcZKNJr97xot2HKhCUBplGOiCRD2ODpmWfXrdBBslspobNtrQIXyG7F2L8rvz71IiPWLZub59RwAKIFeuks3wj%2BoyFTyqmUYJz9UZ3U3l5cvgdTq22pQMVpl%2BZ60kRT9hHLn0lHDk1%2FKPzxI80v9UPoj5qLJwko9FEa0%2FCMH%2B7oSZkO%2B8iafzbcsTblog8nSxqeutlZlcb108ivp%2F42fu6RyUzOmqpRnXyfyWVBsZNzRGbhOa053j4QBw9cHe78C0Gf2H7TeTxJi3qR3449Sfqsn%2FeuXq8n38w3Doiv3pN5ppqn6jgyQ2YEnmh%2FkbSfjoZFhH%2FIV0T3r812lntoEc3%2BxC0ABLgkoU1HiLzm%2BL20Xj3OL72NX%2Bl%2B6QbmuZ9tEtuGW0vJVLZtXYKD9aKphQNcuM1ynmObQjoDU5%2FJ1v3uDrreJxjzqAZXuGO1NQCTLp3NIf4A5GpDKBp0pX49XaOiL3tHfJGpCbKz26YCgLgAsapxH9Vf4aHeajCxNhwz4dNrJ2nTU9uTF4y%2BTLuzhg7iY5wCUTtAHCtHmk4HvVCCfEx%2FunB3KiDx4e0PqLQDVrtvgCRWDUKJZlFVKU%2BYd5Blgq2UrKT9Nabtk2Sm%2F%2F5DimbTZcgkd00nWkQCOTrb1Ir7N%2FnucX5k821KY%2FXOpla1DwV%2FFou08awnRYHTHy6Xo7N0NAzde86QDX1hVmzsAgPUM%2B6hbdcoGiC7kayzJG%2BdtI1fFAcRTN3ZuvAdrdMg37Hol6lG7erPtxfPgW80pu8YLX%2B9o4tZcwWFcI3UkB8Z31HsgchmRg%2FM88ojjeuKVpFtPOgB4uOamyncor8yqao3zYh59F1d7mg8QueRyb2ZsyZvk%2Fi9mpIxBBd88nBaPydbHUr8D5IFO7UKUnuHtAczRiqNswAxON%2BkQQPfTqG%2FX3RnGx04q3Lr6Mhq%2FOX7XNwHN8LXyx8eYtzGik1eMusqI0zMKdYvpkIMlAqXPUfFo3aoFAMKxWVvrBv%2BGCd28Ky60Eq7FvCoD8m7hu2L1yi3PEwFYesN4dIzWT3MV35CHk%2F6kUgXfvnvHa6U%2B5u2jsC6Rvk74KNu7tClTjs%2BOTe7y1JfObHS8yz0frhOdxZcyfQG1%2BMQcAF%2FfX%2F9MNxDgxD%2BcED%2Be%2FYLkCVDtIHhFTOfaO%2B51rFRkn%2Fo%2BXBI84mUZJpbWgkPcv%2BaPGY41rFz4OAAelrJBMmtM%2FNNLSbPIj3PKZ1yDbv7y6zqyTjGUCQAl075YFX4x0YfB0cl2RvuAd5S9fETOjriUK%2FJcdKb9Dy7f1L8ozn30kLQYcwGuAdRSD28rvH2AKb83Tb50Kv%2BbJ%2FVo2hYLo37zgbkzzgMUl2HuU0yTMQE%2FLqxyaSc%2BT5W4EslX6Dc6XT0IABb28fOFlaJyhfdNaMKMvtjj5nGD2A9%2FeimRDnzsHjwwhlHe9oNBeSr8CMDwU9TFlBnPP3anEJfgyfXcHDtmPSz%2FdlndwFs668FEG8tNjbqpR81Ntd10WCPzIXU46YPEXS2MOCeLDi7EJhYdJItE8IruK2IZXrfp9503fm3sS7Z4qJ2SwGCmV9H%2BHf8m%2BFTUV5RX6tiXWkpi%2BGTnO4D1P%2BVJsj8e2S4r6ije7HfnLahqFBWkVZdf7M45Ot8kl4WYxnZXCrzw5zhgk38haF%2FaSCB%2BS%2BHtA8zRMEyIXO%2BR%2F86hewkB5Aut8KoGOAh96ZSCiQureWvnS0aybg%2F9h9nIkeKmuRQFYL59VviuY%2BS3T7knH2vpnzSxUS0jsy7rR5%2FXrgmgclrW2ABio%2Btd6%2FvMYrZY232Q60oUvFjrr8EUapqtrHZdiN%2BKHij0ECf9WPf950Ka8vrZzX3hd%2FfzyYHv998JGceqQty%2BhQ8AOGy7QprYpzFhk%2BMxNbbDtqoqx%2FOfLdEhx7vsS%2BCXJF1ZRHb0a%2BZyPElq%2F86sH77kwHILcl%2BDcQo9DUqEaa5%2BdWZSBOU4%2BbvUN9RiUnG1oLsbgJWfJpCfBbWvbcGs%2FxZKcSQvxQBOvr8t8voV%2FcC9K9agj8FZB3AerwhVXj1hNWSO90DX1ezPvPs4piV6DEePMJj9L3bi%2Fy3XdDuQcQCTI1TKKuQ0ChpmeipNoD7YEKTbio%2BR13RZn4iPdAKlD8CkNe1wtCQd4h7g%2BYNpGaZ078DIwy94rdFpTrdzQ4nXzD59%2FjD%2B%2FOyBz47Q8boo3TT56n8TtduSMmfJ46Vtk0pH6scaJuhgFJcDbgeNnhBSA8reQEePID7CPh1sgNGc27tVlC9jmCY75zec4uM8Fx8Hxv0K8Orve%2F9Bc17wHTqyZpUO1LOR%2FqXeHcBTV9t0WQ4dTzkpgNvihe%2B2o8DQHJj%2BRl90WecDY%2B%2F9NXDDDUzbuSPH0sIeMbBWhHzw6imTAOd%2BX5RvzTWwuQ1AyjUxjbrZ%2F3owPzHmWy5Gyz%2B412BFSzDbX%2BGLzhtoKA%2B4Q3dfSYnqzEtF7a9WivqUem8x9jfcp95fPCwbx8DTU5YiB4xkUylvKejeUjn%2FsRj%2BkMD%2BpWjDGOMPOka%2FIcZYXdcGhUQaB%2Bl2syZpNh41XRKiZ8T44Bqf8IjxxP3fPPySgTjxSbM4FGv7xlpVAyBqM2spFZBE%2FxidmPA1zv%2B7O8qHTuQT9X3GtKoKMPNMKlLaPRJA3DG11F2lA7a67jE8oGw6Tv4Xt8PM2T92MpfzXzj30NcBeC2c3zF8CyCLu601BvDfpSljLxwDyEm6%2BG5mmHSiz8o1zWey3NCjbqGCvfERC%2FtGeQGoBg3a%2FFRqFOcrBVZqPgdn%2FMCme7eXArAuX7e4cRemnZsWI9e%2FFv40suwx0tU63%2FJMsWasp20aGV0DJtOfcEnVrQa4gMQGc5pDiEejnxC3z%2BQnCvpdGlvcrw9f3rrd4GihzeRz9P3cx%2BhNa6plrm0bvu3p74y3jXxm49SDAwkzyA%2BmlX8U9gfDsvk2QsY9cKineSjEwmi05WOgFqrZKx%2BMsO7bC%2FF9XZh2V2uZfxcj9OrF0zsjYaza%2B5r%2FUAwlhX51dXd0ExTXJWJlwnUUdwxsSBaMQ1LJi7QStHlO5u%2FkhhNfNrZGy3zfYCq2By%2BJeQcAtC%2F7ysuJyeWEC6%2Be03Gxc6Kt8gVa3R3y8UL%2FdJrmxjJEA68aznsAzoV6fQpSn9DpV3pGwS7PDE8Kx8N8hkW6GP0WnPWgxnsLw5CFipSyeZ4iD5t%2Bq1z2sDZPK63e5I6O99UzUSnEVa7eeD6O65IoC6AqU5BQgHOFOg%2FHNdxT5mRumtBp1ft3Kt8mTZzuY%2FlnWVFfhYcnpHFiOJ85ri9fYi%2FyzGMA17VJ22LbxXrihpWWa21Z1tp93%2BcFeTZo1uxkKRP%2FkfrRh%2FNrruCP3z7qs%2BXQh6jnpxc5U4qSry%2Flor%2B3xWQZBzDJnQrKXUhb6ZA8loKD3WCepqE9d5RtiSmqtufMfQAUsetBldgv6Pi5yGIA9T2C4vUSEHQwf2jA6uLvedlZqCnbMJsK22lcJ9e8bAdIvwTJxX4b9rnWCBj0mCxdEPkAIAFL2l8tq0SMbydfttUq0pEct1lIP%2FL3PHRDST%2BEc3SiGMsAacF5f%2FYBhdaVc%2BEIjKXBllpfrllDGbMBljfxIK4pgFAn%2B4sZEjiNkdLUiwGifoesRrgmZ33P867kn%2BNi3knORvLarc2Rf80cfy76XAqDKnZw%2FMSUl%2BQPC8uPDNtnngHMIR6VHZsrnpX%2FBR0elOS6PbpVJ67nZ%2BwFJCZYOK7URdDH2zKTGQcw2mgPtfktjlKb02aVDoWlbHSi9LP0DVEeSlbeI82vCMq0fzfCSiw7x4YA0n8J2us9CQDJks4IipZrcPb0BmIJbtjOfsz8%2Bvib%2BTjSSfDJvGR5AO3fypXnZNoSiKQgT0SW%2BQxJQCKQVwht%2B8tOlfWVAmvab6YXJYZJ5Xdc5V%2FrqB2IZf7uv5%2FXHaHJ1FV%2BKEU5wbH7yAukOeJLEwuQvhNVbc02g82JASz%2FaVd%2B6VEuOIswJAZ5SyHjAeZQvActdkZQkv0zR1Jx0YhURjIiQfEmCDj0tw9vttkxgN5suAOoDj2WIQGsKVnPDnKHnt%2B8Lp335djI2OAAThLVkCxxCXn8pyo5zv%2Fp0D9q8z8B6k0lSCBKSUSkHmEt%2B%2BIvUUYG2X3ZIVsD6aaBbIClm2qzM5YayAZYNg7SVQPZAEtX9WZnng2wbAykqwayAZau6s3O%2FH8BsHhkmA5DmLIAAAAASUVORK5CYII%3D"},{Id:2,Name:"Wikipedia",Keyword:"w",Url:"https://en.wikipedia.org/wiki/Special:Search?search=%s",FaviconUrl:"data:image/png;base64,AAABAAMAMDAQAAEABABoBgAANgAAACAgEAABAAQA6AIAAJ4GAAAQEBAAAQAEACgBAACGCQAAKAAAADAAAABgAAAAAQAEAAAAAAAABgAAAAAAAAAAAAAQAAAAAAAAAAEBAQAXFxcAMDAwAEdHRwBYWFgAZ2dnAHZ2dgCHh4cAlZWVAKmpqQC3t7cAx8fHANfX1wDo6OgA/v7+AAAAAAD////+7u7u7u7u7u7u7u7u7u7u7u///////+7u7u7u7u7u7u7u7u7u7u7u7u7u/////u7u7u7u7u7u7u7u7u7u7u7u7u7u7///7u7u7u7u7u7u7u7u7u7u7u7u7u7u7v/+7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u/+7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u/+7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u/u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7sa+7u7u7u1b7u7u7u7u7u7u7u7u7u7u7p9u7u7u7ugG7u7u7u7u7u7u7u7u7u7u7TAa7u7u7tQBzu7u7u7u7u7u7u7u7u7u6wAF7u7u7pAAju7u7u7u7u7u7u7u7u7u1AAAru7u7U//Le7u7u7u7u7u7u7u7u7uz/8RPe7u6gAB+e7u7u7u7u7u7u7u7u7ubw94Ce7u1QAIIu7u7u7u7u7u7u7u7u7tH/G+Mt7usAAtcL7u7u7u7u7u7u7u7u7n8ATun47uQACO0T7u7u7u7u7u7u7u7u7hDxnu4x3sAPLO5Qzu7u7u7u7u7u7u7u6P/z7u6wXk/wfu7ATu7u7u7u7u7u7u7u4QAY7u7kCQADzu7kDO7u7u7u7u7u7u7uoA8u7u7sAAAG7u7r9e7u7u7u7u7u7u7uIPB+7u7uUAAs7u7uMd7u7u7u7u7u7u7rEAHe7u7uQABu7u7un37u7u7u7u7u7u7kAAXu7u7sAPHe7u7u4S3u7u7u7u7u7u7BAA3u7u7k8AHO7u7u6Aju7u7u7u7u7u5g/07u7u7B8BBe7u7u7RLu7u7u7u7u7u0v/87u7u5QAGQa7u7u7nCe7u7u7u7u7ugAA+7u7uwQ8dsE7u7u7rBO7u7u7u7u7tP/++7u7uYAB+5Qnu7u7tQa7u7u7u7u7pH/Lu7u7sLwHe6xPe7u7ur27u7u7u7u7V//ru7u7mAAju7n+e7u7u0yvu7u7u7u6h8C3u7u6yAB3u7rEs7u7u6Pfu7u7u7u1AAE7u7u5g/27u7tQG3u7u6QHO7u7u7tbwAB3u7ukfAH7u7sIAju7u5wA97u7utiAAAAF76lAA/wWeyDAA84zqUAABfO7uMiNERDIm4iNERDIrkiNEQybiI0RDJO7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7+7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u/+7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u/+7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u//7u7u7u7u7u7u7u7u7u7u7u7u7u7u7v///u7u7u7u7u7u7u7u7u7u7u7u7u7u7////+7u7u7u7u7u7u7u7u7u7u7u7u7u///////+7u7u7u7u7u7u7u7u7u7u7u/////+AAAAAH8AAPAAAAAADwAA4AAAAAAHAADAAAAAAAMAAIAAAAAAAQAAgAAAAAABAACAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAABAACAAAAAAAEAAIAAAAAAAQAAwAAAAAADAADgAAAAAAcAAPAAAAAADwAA/gAAAAB/AAAoAAAAIAAAAEAAAAABAAQAAAAAAIACAAAAAAAAAAAAABAAAAAAAAAAAQEBABYWFgAnJycANTU1AEdHRwBZWVkAZWVlAHh4eACIiIgAmZmZAK6urgDMzMwA19fXAOnp6QD+/v4AAAAAAP//7u7u7u7u7u7u7u7u////7u7u7u7u7u7u7u7u7u7//u7u7u7u7u7u7u7u7u7u7/7u7u7u7u7u7u7u7u7u7u/u7u7u7u7u7u7u7u7u7u7u7u7u7u7X3u7u7I7u7u7u7u7u7u7uYF7u7uIK7u7u7u7u7u7u7QAM7u6vBO7u7u7u7u7u7ucABe7uMA/O7u7u7u7u7u7R8q/O6gCEbu7u7u7u7u7ukAnibuTx6g3u7u7u7u7u7hAe6gzP+O4Y7u7u7u7u7urwju4mXx7uge7u7u7u7u7jAd7uoACO7tCe7u7u7u7uoPfu7uEB3u7mPu7u7u7u7k8N7u7QBu7u6wru7u7u7uwAXu7ufwbu7u407u7u7u7lAM7u7RBQzu7ur87u7u7u0ATu7ucA0l7u7uFu7u7u7n/67u7RB+oL7u7nHe7u7u0fPu7ucA3uJO7u7Qju7u7o/67u7Q9u7q+u7u5R3u7u0Q/e7ub/vu7PLO7uX13u4w//Be4v/xnoH/+ekv//Xu7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7+7u7u7u7u7u7u7u7u7u7v/u7u7u7u7u7u7u7u7u7u7//u7u7u7u7u7u7u7u7u7v///+7u7u7u7u7u7u7u7v//8AAAD8AAAAOAAAABgAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAGAAAABwAAAA/AAAA8oAAAAEAAAACAAAAABAAQAAAAAAMAAAAAAAAAAAAAAABAAAAAAAAAAAQEBABcXFwAnJycAOzs7AElJSQBpaWkAeXl5AIaGhgCVlZUApqamALOzswDMzMwA2dnZAObm5gD+/v4AAAAAAP/u7u7u7u7//u7u7u7u7u/u7uzu7t7u7u7u4Y7lTu7u7u6QTtA77u7u7iaoctXu7u7qDOQZ5d7u7uRO5R7rbu7uv77iLu5O7u5D7pGn7pju7QrtKOTe4+6z+OT40z2RTO7u7u7u7u7u7u7u7u7u7u7+7u7u7u7u7//u7u7u7u7/wAMAD4ABAA8AAAAPAAAADwAAAA8AAAAPAAAADwAAAA8AAAAPAAAADwAAAA8AAAAPAAAADwAAAA+AAQAPwAMADw==",SuggestUrl:"https://en.wikipedia.org/w/api.php?action=opensearch&search=%s"},{Id:0,Name:"Google",Keyword:"g",Url:"https://www.google.com/search?q=%s",FaviconUrl:"data:image/png;base64,AAABAAIAEBAAAAEAIABoBAAAJgAAACAgAAABACAAqBAAAI4EAAAoAAAAEAAAACAAAAABACAAAAAAAAAEAAASCwAAEgsAAAAAAAAAAAAA9IVCSvSFQuf0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hULk9IVCSvSFQub0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQuf0hUL/9IVC//SFQv/0hUL/9Y1O//rIq//+7+f//eXX//vUvf/7z7X/96Fu//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//vYwv/97OH/9ZRZ//SFQv/0hUL/9IhG//zbx//3om7/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/97uX/+buW//SFQv/0hUL/9IVC//SFQv/5upT/+9O6//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/+b6b//zezP/0iEf/9IVC//SFQv/1klf//ezh//vPtP/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/3qXr/+siq//m8lv/5wqD//vTu//3t4//1klb/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0h0b//vbx//zi0//1j1H/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/2nmn/+bmS/////v/4sIX/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/5uJH///v5//eoef/1jU//+82y//afav/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL//vXw//vOs//0hUL/9IVC//ekcf/96+D/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//728v/4sIX/9IVC//SFQv/4s4n///v4//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/6yKn/+byX//SFQv/0hkT//eTV//vWv//0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IZE//m6lP/5u5b//OHQ///+/f/6y6//96d3//SFQv/0hUL/9IVC//SFQv/0hULm9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hULm9IVCSfSFQub0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hULm9IVCSQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAAEAAAAABACAAAAAAAAAQAAASCwAAEgsAAAAAAAAAAAAA9IVCAPSFQif0hUKt9IVC8vSFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQvL0hUKt9IVCJ/SFQgD0hUIo9IVC7/SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hULv9IVCKPSFQq30hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUKt9IVC8fSFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQvP0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9YtL//i2jv/828f//vLr///7+P///Pv//vTu//3n2v/6zbH/96Nw//SFQ//0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//ekcv/+8+z////////////+9fD/+9K5//m9mf/4to7/+buV//vSuf/++PT//OPT//aYYP/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/2l13///r3/////////fv/+b2Z//SIRv/0hUL/9IVC//SFQv/0hUL/9IVC//WNT//84M///vXv//aZYf/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//vPtP////////////i0i//0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//WQUv///Pr//OPU//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL//eTV///////+9O7/9IVD//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//3m2P//////9ppi//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/718H///////3s4f/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL//vDn///////4soj/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//erff////////38//WTWP/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//iziv////////////iwhf/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//rMsP///////eXW//WSVv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/4sYb///z7/////////Pv/9ZFV//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//ixhv/+8Of//vn1//rMsP/4rH//9plh//WQUv/1j1L/+s2x//////////////////m9mf/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SGQ//2nmn/+buW//vNsv/82sb//e3j/////////////////////v/5wZ//9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/83Mj////////////++fb/+K+C//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9ZRZ/////////////vTt//aaYv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/1lFr////////////6xqf/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//ehbf/70bj//end//3o2////v3///////3l1//0iEb/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/5wqD////////////96t7/96Z2//WOUP/2nWf//NvH//zcyP/1i0z/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/96l6/////////////vLr//WPUf/0hUL/9IVC//SFQv/0h0b//end//3k1f/0iUn/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/8387////////////4sYf/9IVC//SFQv/0hUL/9IVC//SFQv/6w6L///////nBn//0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC///69////////vj1//SIR//0hUL/9IVC//SFQv/0hUL/9IVC//m+mv///////e3j//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL///r3///////8387/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/+syw///////++fb/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/95NX///////vUvP/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/97OH///////7y6//0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//i2jv///////N/O//SFQv/0hUL/9IVC//SFQv/0hUL/96Nx////////////+s2x//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IdF//zh0P//+/j/9ZJW//SFQv/0hUL/9IVC//SKSv/96t7///////738v/1k1f/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9YxN//vUvf/96+D/96Z0//WNT//3om///ebY/////////Pv/+LKI//WVW//0h0X/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//agbP/7zbL//enc//749P////////////////////////////3r4P/3p3f/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hULx9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC8/SFQq30hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUKt9IVCJ/SFQu/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC7/SFQif0hUIA9IVCJfSFQq30hULx9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC8fSFQq30hUIl9IVCAIAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAB"}]}},function(e,t){"use strict";e.exports={COMMAND_ADD_BOOKMARK:{shortcut:["meta+d"],showInQC:!0},COMMAND_CLIPBOARD_PASTE_AS_PLAIN_TEXT_OR_PASTE_AND_GO:{shortcut:["shift+meta+v"],showInQC:!0},COMMAND_CLOSE_TAB:{shortcut:["meta+w"],gestures:["20"],showInQC:!0},COMMAND_DEVELOPER_TOOLS:{shortcut:["shift+meta+i","f12"],showInQC:!0},COMMAND_EXIT:{shortcut:["meta+q"],showInQC:!0},COMMAND_FIND_IN_PAGE:{shortcut:["meta+f","."],showInQC:!0},COMMAND_FIND_NEXT_IN_PAGE:{shortcut:["f3","meta+g"],showInQC:!0},COMMAND_FIND_PREVIOUS_IN_PAGE:{shortcut:["shift+f3","shift+meta+g"],showInQC:!0},COMMAND_FOCUS_ADDRESSFIELD:{shortcut:["meta+l","f8"],showInQC:!0},COMMAND_FOCUS_SEARCHFIELD:{shortcut:["meta+k"],showInQC:!0},COMMAND_FULLSCREEN:{shortcut:["ctrl+meta+f","f11"],showInQC:!1},COMMAND_MAIL_MARK_SELECTED_UNREAD:{shortcut:["shift+k"],showInQC:!1},COMMAND_MAIN_ZOOM_IN:{shortcut:["meta+=","meta++","0","+"],showInQC:!0},COMMAND_MAIN_ZOOM_OUT:{shortcut:["meta+-","9","-"],showInQC:!0},COMMAND_MAIN_ZOOM_RESET:{shortcut:["meta+0","6","*"],showInQC:!0},COMMAND_MAIN_TOGGLE_UI:{shortcut:["meta+f11"],showInQC:!0},COMMAND_SHOW_KEYBOARDSHORTCUTS:{shortcut:["meta+f1"],showInQC:!0},COMMAND_NEW_TAB:{shortcut:["meta+t"],gestures:["2"],showInQC:!0},COMMAND_NEW_WINDOW:{shortcut:["meta+n"],showInQC:!0},COMMAND_NEW_PRIVATE_WINDOW:{shortcut:["shift+meta+n"],showInQC:!0},COMMAND_CLOSE_WINDOW:{shortcut:["shift+meta+w"],showInQC:!0},COMMAND_OPEN_PAGE:{shortcut:["meta+o"],showInQC:!0},COMMAND_STOP_PAGE:{shortcut:["esc","meta+."],gestures:["6"],showInQC:!0},COMMAND_PAGE_BACK:{shortcut:["backspace","meta+left","z"],gestures:["4"],showInQC:!0},COMMAND_PAGE_FORWARD:{shortcut:["meta+right","x"],gestures:["0"],showInQC:!0},COMMAND_PAGE_REFRESH:{shortcut:["meta+r","f5"],gestures:["62"],showInQC:!0},COMMAND_PAGE_RELOAD_NOCACHE:{shortcut:["shift+meta+r","meta+f5"],showInQC:!0},COMMAND_PRINT_PAGE:{shortcut:["meta+p"],showInQC:!0},COMMAND_SAVE_PAGE:{shortcut:["meta+s"],showInQC:!0},COMMAND_SHOW_BOOKMARK_BAR:{shortcut:["shift+meta+b"],showInQC:!0},COMMAND_SHOW_BOOKMARK_PANEL:{shortcut:["alt+meta+b"],showInQC:!0},COMMAND_SHOW_CONTACTS_PANEL:{shortcut:["alt+meta+c"],showInQC:!0},COMMAND_SHOW_DOWNLOADS_PANEL:{shortcut:["alt+meta+l"],showInQC:!0},COMMAND_SHOW_MAIL_PANEL:{shortcut:["alt+meta+m"],showInQC:!0},COMMAND_SHOW_NOTES_PANEL:{shortcut:["alt+meta+n"],showInQC:!0},COMMAND_SHOW_EXTENSIONS:{shortcut:["ctrl+meta+e"],showInQC:!0},COMMAND_SHOW_HELP:{shortcut:["shift+meta+?"],showInQC:!0},COMMAND_SHOW_HISTORY:{shortcut:["meta+y"],showInQC:!0},COMMAND_SHOW_BOOKMARKS:{shortcut:["ctrl+meta+b"],showInQC:!0},COMMAND_SHOW_CLEAR_PRIVATE_DATA:{shortcut:["shift+meta+del"],showInQC:!0},COMMAND_SHOW_QUICK_COMMANDS:{shortcut:["meta+e","f2"],showInQC:!1},COMMAND_SHOW_SETTINGS:{shortcut:["meta+,"],showInQC:!0},COMMAND_SHOW_HOMEPAGE:{shortcut:["shift+meta+h"],showInQC:!0},COMMAND_TAB_REOPEN_RECENTLY_CLOSED:{shortcut:["meta+z","shift+meta+t"],gestures:["60"],showInQC:!0},COMMAND_TAB_STACK_TILE_GRID:{shortcut:["meta+f7"],showInQC:!0},COMMAND_TAB_STACK_TILE_HORIZONTAL:{shortcut:["meta+f8"],showInQC:!0},COMMAND_TAB_STACK_TILE_VERTICAL:{shortcut:["meta+f9"],showInQC:!0},COMMAND_TAB_STACK_UNTILE:{shortcut:["meta+f6"],showInQC:!0},COMMAND_TAB_SWITCH_BACK_HISTORY:{shortcut:["meta+4","4"],showInQC:!0},COMMAND_TAB_SWITCH_BACK_ORDER:{shortcut:["shift+meta+}","meta+2","2"],showInQC:!0},COMMAND_TAB_SWITCH_BACK_SETTING:{shortcut:["ctrl+tab","shift+meta+right"],showInQC:!1},COMMAND_TAB_SWITCH_FORWARD_HISTORY:{shortcut:["meta+5","5"],showInQC:!0},COMMAND_TAB_SWITCH_FORWARD_ORDER:{shortcut:["shift+meta+{","meta+1","1"],showInQC:!0},COMMAND_TAB_SWITCH_FORWARD_SETTING:{shortcut:["ctrl+shift+tab","shift+meta+left"],showInQC:!1},COMMAND_TAB_VIEW_PAGE_SOURCE:{shortcut:["meta+u"],showInQC:!0},COMMAND_TASK_MANAGER:{showInQC:!0},COMMAND_TOGGLE_FOOTER:{shortcut:["meta+/"],showInQC:!0},COMMAND_TOGGLE_MENU_POSITION:{showInQC:!1},COMMAND_TOGGLE_PANEL:{shortcut:["alt+meta+p","f4"],showInQC:!0},COMMAND_SHOW_NEXT_PANEL:{shortcut:["alt+meta+down"],showInQC:!0},COMMAND_SHOW_PREVIOUS_PANEL:{shortcut:["alt+meta+up"],showInQC:!0}}},function(e,t){"use strict";e.exports={COMMAND_CLOSE_WINDOW:{shortcut:["ctrl+shift+w"],showInQC:!0},COMMAND_EXIT:{shortcut:["ctrl+q"],showInQC:!0}}},function(e,t){"use strict";e.exports={COMMAND_EXIT:{showInQC:!0}}},function(e,t,n){"use strict";var i=n(3),r=n(4),o=n(33),a="en-US",s="/default-bookmarks/",l=function(){var e=i.i18n.getUILanguage();return-1===["be","de","en-GB","en-US","es","fr","is","it","ja","nb","nn","ru","sv","tr","uk"].indexOf(e)?a:e},u=function(e,t,n){if(e&&e.length){var r=e[0];i.bookmarks.create({title:r.title,url:r.url,thumbnail:r.thumbnail,description:r.description,speeddial:Boolean(r.speeddial),parentId:t},function(i){u(r.children,i.id,function(){u(e.slice(1),t,n)})})}else"function"==typeof n&&n()},c=function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&u(JSON.parse(this.responseText),"1",t)};var i=s+e+".json";n.open("GET",i,!0),n.send()};e.exports=function(){return new Promise(function(e,t){
var n=l();r.get("VIVALDI_FIRSTRUN_DONE",function(t){t!==!0?(o.disableBookmarkMutationHandlers(),c(n,function(){o.enableBookmarkMutationHandlers(),e()}),r.set({VIVALDI_FIRSTRUN_DONE:!0})):e()})})}},function(e,t,n){(function(t){"use strict";e.exports=function(){if(Boolean(t.env.ENABLE_LIVERELOAD)){var e=n(3);!function(){var t="localhost:",n=35729,i=new WebSocket("ws://"+t+n+"/livereload");i.onerror=function(e){console.log("reload connection got error"+JSON.stringify(e))},i.onmessage=function(t){if(t.data){var n=JSON.parse(t.data);n&&n.path&&!n.path.match(/\.css$/)&&"reload"===n.command&&e.runtime.reload()}}}()}}}).call(t,n(22))},,function(e,t,n){"use strict";var i=n(3),r=n(182),o=r.uaspoofRules,a=r.uaspoofRuleIds;i.declarativeWebRequest.onRequest.removeRules(a),i.declarativeWebRequest.onRequest.addRules(o)},function(e,t,n){"use strict";function i(){"function"==typeof a.bookmarksPrivate.updateSpeedDialsForWindowsJumplist&&(s(),o.addChangeListener(s))}function r(){"function"==typeof a.bookmarksPrivate.updateSpeedDialsForWindowsJumplist&&o.removeChangeListener(s)}var o=n(53),a=n(9),s=function(){var e="function"==typeof a.bookmarksPrivate.updateSpeedDialsForWindowsJumplist;if(e){var t=o.getSpeeddialNodes();if(t&&0!==t.length&&t[0].children){var n=t[0].children,i=n.filter(function(e){return e.url}).map(function(e){return{title:e.title,url:e.url}});a.bookmarksPrivate.updateSpeedDialsForWindowsJumplist(i)}}};e.exports={start:i,stop:r}},function(e,t,n){"use strict";var i=n(8),r=n(5),o=n(16).EventEmitter,a="change",s=void 0,l=Object.assign({},o.prototype,{getSelected:function(){return s},emitChange:function(e){this.emit(a,e)},addChangeListener:function(e){this.on(a,e)},removeChangeListener:function(e){this.removeListener(a,e)}}),u=function(e){s=e,l.emitChange()};i.register(function(e){var t=e.action;switch(t.actionType){case r.CONTACT_SELECT_CONTACT:u(t.contact)}}),e.exports=l},function(e,t,n){"use strict";var i=n(8),r=n(5),o=n(16).EventEmitter,a=n(274),s="change",l={},u=Object.assign({},o.prototype,{getAll:function(){return l},getThoseWithAddresses:function(){return Object.keys(l).map(function(e){return l[e]}).filter(function(e){return e.address})},emitChange:function(e){this.emit(s,e)},addChangeListener:function(e){this.on(s,e)},removeChangeListener:function(e){this.removeListener(s,e)}}),c=function(){a.getAll().then(function(e){l=e,u.emitChange()})},A=function(e){a.put(e).then(function(){l[e.id]=e,u.emitChange()})},d=function(e){Promise.all(e.map(function(e){return a.put(e)})).then(function(){e.forEach(function(e){l[e.id]=e}),u.emitChange()})},h=function(e){a.remove(e.id).then(function(){delete l[e.id],u.emitChange()})};i.register(function(e){var t=e.action;switch(t.actionType){case r.CONTACT_INITIALIZE:c();break;case r.CONTACT_SAVE_CONTACT:A(t.contact);break;case r.CONTACT_ADD_CONTACTS:d(t.contacts);break;case r.CONTACT_DELETE_CONTACT:h(t.contact)}}),e.exports=u},function(e,t,n){"use strict";var i=n(8),r=n(5),o=n(16).EventEmitter,a="change",s={},l=Object.assign({},o.prototype,{getAll:function(){return s},getFolderType:function(e,t){var n=void 0;if(s[e]){var i=s[e].folders;for(var r in i){var o=s[e].folders[r];if(o.some(function(e){return e.path===t?(n=e.type,!0):void 0}))break}}return n?n:t},emitChange:function(e){this.emit(a,e)},addChangeListener:function(e){this.on(a,e)},removeChangeListener:function(e){this.removeListener(a,e)}});i.register(function(e){var t=e.action;switch(t.actionType){case r.MAIL_ADD_FOLDERS:s=Object.assign({},s,t.folders),l.emitChange();break;case r.MAIL_CLEAR_FOLDERS:s={},l.emitChange()}}),e.exports=l},function(e,t,n){"use strict";var i=n(8),r=n(5),o=n(16).EventEmitter,a=n(299),s=n(199),l=n(301),u=l.sentDateMsgComp,c=n(304),A=n(303),d=n(117),h=d.ALL_MESSAGES_ACCOUNT_ID,p=d.MAILING_LISTS_ACCOUNT_ID,f=d.UNREAD_FOLDER_PATH,m="change",g=[],v={},E={},_=Object.assign({},o.prototype,{clear:function(){g=[]},getAll:function(){return g},getCounters:function(){return v},getMailingLists:function(){return Object.keys(E).filter(function(e){return v[p][e].total>1})},emitChange:function(e){this.emit(m,e)},addChangeListener:function(e){this.on(m,e)},removeChangeListener:function(e){this.removeListener(m,e)},addOneTimeChangeListener:function(e){this.once(m,e)}}),S=function(e,t,n,i){Object.keys(A).forEach(function(r){r===f&&-1===t?c(h,r,t,n,-1,v):A[r](e)&&c(h,r,t,n,i,v)}),e.listId&&c(p,e.listId,t,n,i,v)},y=function(){v={},E={},_.getAll().forEach(function(e){e.listId&&(E[e.listId]=E[e.listId]||[],E[e.listId].push(e)),c(e.accountId,e.path,e.unread,e.unseen,1,v),S(e,e.unread,e.unseen,1)})},b=function(){a.getSearchList().then(function(e){g=e,y(),_.emitChange()})},C=function(e,t,n){var i=c(e,t);n.forEach(function(n){n.accountId=e,n.path=t;var r=s(g,n,u),o=0,a=0,l=0;0>r?(g.splice(-r-1,0,n),o=n.unread||0,a=n.unseen||0,l=1):(o=n.unread-g[r].unread,a=n.unseen-g[r].unseen,g[r]=n),i(o,a,l,v),S(n,o,a,l)}),_.emitChange()},I=function(e,t,n){var i=c(e,t);g.forEach(function(r){if(r.accountId===e&&r.path===t&&n[r.uid]){var o=n[r.uid].unread?1:-1,a=-1===o?-r.unseen:0;r.unread=n[r.uid].unread,i(o,a,0,v),S(r,o,a,0)}}),_.emitChange()},T=function(e,t,n){var i=c(e,t);g=g.filter(function(r){var o=r.accountId===e&&r.path===t&&n.indexOf(r.uid)>-1;return o&&(i(-r.unread,-r.unseen,-1,v),S(r,-r.unread,-r.unseen,-1)),!o}),_.emitChange()};i.register(function(e){var t=e.action;switch(t.actionType){case r.MAIL_MESSAGES_INIT:b();break;case r.MAIL_ADD_MESSAGES:C(t.accountId,t.path,t.messages);break;case r.MAIL_UPDATE_MESSAGES:I(t.accountId,t.path,t.updates);break;case r.MAIL_REMOVE_MESSAGES:T(t.accountId,t.path,t.uids)}}),e.exports=_},function(e,t,n){"use strict";function i(){u="",c.emitChange()}function r(e){u=e,c.emitChange()}var o=n(16).EventEmitter,a=n(8),s=n(5),l="change",u="",c=Object.assign({},o.prototype,{getStatus:function(e){return u},emitChange:function(){this.emit(l)},addChangeListener:function(e){this.on(l,e)},removeChangeListener:function(e){this.removeListener(l,e)}});a.register(function(e){var t=e.action;switch(t.actionType){case s.STATUS_SET_STATUS:r(t.status,t.timeout);break;case s.STATUS_CLEAR_STATUS:i();break;default:return!0}}),e.exports=c},function(e,t,n){"use strict";function i(){c===!1&&(u={},c=!0,d.emitChange())}function r(e,t){u[e]=t,t&&(c=!1),d.emitChange()}var o=n(8),a=n(5),s=n(16).EventEmitter,l="change",u={},c=!0,A=["focusSearchField","focusAddressField"],d=Object.assign({},s.prototype,{getShowTooltip:function(e){return Boolean(u[e])},getTooltipCleared:function(){return c},emitChange:function(){this.emit(l)},addChangeListener:function(e){this.on(l,e)},removeChangeListener:function(e){this.removeListener(l,e)}});o.register(function(e){var t=e.action;switch(t.actionType){case a.TOOLTIP_CLEAR:case a.URLFIELD_SET_STATE:case a.WEBPAGEVIEW_ACTIONS:(!t.action||A.indexOf(t.action)>-1)&&i();break;case a.TOOLTIP_SHOW:r(t.id,!0);break;case a.TOOLTIP_HIDE:r(t.id,!1);break;default:return!0}}),e.exports=d},function(e,t){"use strict";var n=function(e,t,n){var i={};for(var r in e)e.hasOwnProperty(r)&&-1===Array.prototype.indexOf.call(arguments,r,1)&&(i[r]=e[r]);return i};e.exports=n},function(e,t,n){(function(t){"use strict";var i=n(449),r=function(e){"target"in e&&e.setAttribute("target","_blank"),e.hasAttribute("target")||!e.hasAttribute("xlink:href")&&!e.hasAttribute("href")||e.setAttribute("xlink:show","new")},o=function(e,n){var i=e[n.src];if(i){var r=new t(i.content.buffer).toString("base64");n.setAttribute("src","data:"+i.mimeType+";base64,"+r)}else n.src&&n.src.startsWith("data:")||n.removeAttribute("src")};e.exports={sanitize:function(e,t){i.addHook("afterSanitizeAttributes",r),i.addHook("afterSanitizeAttributes",o.bind(void 0,t||{}));var n=i.sanitize(e,{ALLOW_UNKNOWN_PROTOCOLS:!0,WHOLE_DOCUMENT:!0});return i.removeHooks("afterSanitizeAttributes"),n},htmlToText:function(e){return i.sanitize(e,{ALLOWED_TAGS:[]}).replace(/( {2})+/g,"").replace(/\n\n+/g,"\n\n").replace(/&nbsp;/g,"	").trim()}}}).call(t,n(96).Buffer)},function(e,t){"use strict";function n(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}e.exports=n},function(e,t){"use strict";var n=function(e){var t=void 0,n=void 0;return function(i){n&&n&&i.screenX===t&&i.screenY===n||(t=i.screenX,n=i.screenY,e.call(this,i))}};t.onlyDistinct=n},function(e,t,n){"use strict";function i(e){if("string"!=typeof e)throw new TypeError("Paramter `path` must be a string");var t=s.resolve(e).replace(/\\/g,"/");return"/"!==t[0]&&(t="/"+t),encodeURI("file://"+t)}function r(e){return 1===e.indexOf(":")&&e.match(/^[a-z]/gi)||0===e.indexOf("/")||0===e.indexOf("\\")}function o(e){return 0===e.indexOf("/")}function a(e,t){if("string"!=typeof e)throw new TypeError("Paramter `path` must be a string");return t?r(e):o(e)}var s=n(488);t.isPath=a,t.win32PathToFileUrl=i},function(e,t){"use strict";function n(e,t){return t=t.replace(/^https?\:\/\/(www+\.)?/,""),0===t.indexOf(e)}e.exports=n},function(e,t,n){"use strict";var i=n(42),r=n(9),o="",a="",s=function(e,t){for(var n=0;n<t.length;n++){var i=t.charAt(n).toUpperCase();if(" "!==i&&"-"!==i){var r=e.indexOf(i);if(-1===r)return n}}return-1},l=function c(e){for(var t="",n=0;n<e.length;n++){var i=e[n];if("---"!==i.name&&i.mnemonic!==!1){var r=i.name.indexOf("&");-1!==r&&r+1<i.name.length?(i.nameWithMnemonic=i.name,t+=i.name.charAt(r+1).toUpperCase()):i.nameWithMnemonic=void 0}else if(i.mnemonic===!1){var o=i.name.indexOf("&");-1!==o&&(i.nameWithMnemonic=i.name.replace(/\&/g,"&&"))}}for(var n=0;n<e.length;n++){var i=e[n];if("---"!==i.name&&i.mnemonic!==!1){if(void 0===i.nameWithMnemonic){var r=s(t,i.name);r>=0&&(t+=i.name.charAt(r).toUpperCase(),i.nameWithMnemonic=i.name.slice(0,r)+"&"+i.name.slice(r))}i.items&&c(i.items)}}},u=function(e){var t=0,s={},u=function(e,t){"function"==typeof s[t]&&s[t].call(this,e)},c=function A(e){if(!e)return null;0===o.length&&(o=btoa(n(198))),0===a.length&&(a=btoa(n(197)));var i;i=e.items&&e.bookmarkFolder===!0?o:e.url?a:e.iconPNG;var r=e.visible!==!1;"function"==typeof e.testVisibility&&(r=e.testVisibility());var l=void 0!==e.tag?e.tag:t++,u=e.nameWithMnemonic?e.nameWithMnemonic:e.name;return s[l]=e.handler,{id:l,name:void 0===u?"":u,visible:r,items:e.items?e.items.map(A):null,type:e.type?e.type:"normal",checked:e.checked?e.checked:!1,emphasized:e.emphasized,shortcut:e.shortcut,parameter:e.parameter,url:e.url,icon:i}};return function(t){var n="function"==typeof e?e():e,o=i();"mac"!==o&&l(n),r.showMenu.create({mode:t,left:-1,top:-1,items:n.map(c)},u.bind(this,event))}};e.exports=u},function(e,t,n){"use strict";var i=n(23),r=n(192),o=r.modifierIsUp,a=function(){var e=!1;return function(t,n,r){function a(t){t.keyCode===i.KEY_ESCAPE&&(e=!1,n.call(this,!0),document.removeEventListener("keydown",a),document.removeEventListener("keyup",s),document.removeEventListener("mouseup",l))}function s(r){(r.keyCode===i.KEY_RETURN||r.keyCode===i.KEY_ENTER||o(t,r))&&(e=!1,n.call(this,!1),document.removeEventListener("keydown",a),document.removeEventListener("keyup",s),document.removeEventListener("mouseup",l))}function l(t){2!==t.button&&(0!==t.button||0!==t.buttons&&2!==t.buttons)||(e=!1,n.call(this,!1),document.removeEventListener("keydown",a),document.removeEventListener("keyup",s),document.removeEventListener("mouseup",l))}if(r=r||null,"keydown"===t.type){if(!t.ctrlKey||t.altKey)return}else{if("wheel"!==t.type)return;if(!t.altKey&&(0!==t.button||2!==t.buttons))return}e!==!0&&(e=!0,document.addEventListener("keydown",a),document.addEventListener("keyup",s),document.addEventListener("mouseup",l))}}();t.tabSwitcherListener=a},function(e,t){"use strict";e.exports=function(e){return"number"==typeof e?Math.round(e):e}},function(e,t){"use strict";var n=function(e){return e.FaviconUrl?Object.assign(e,{Image:e.FaviconUrl}):e},i=function(e){return e.map(n)};e.exports=i},function(e,t,n){"use strict";function i(e){return new Promise(function(e,t){return a.init(e)})}var r=n(3),o=n(17),a={init:function(e){this.cb=e,this.pageactionFiles=[],r.runtime.getPackageDirectoryEntry(this.gotPackageDirectory.bind(this))},fireCallback:function(){this.cb(this.pageactionFiles)},gotPackageDirectory:function(e){var t=e.createReader();t.readEntries(this.gotPackageEntries.bind(this))},gotPackageEntries:function(e){var t=this;e.forEach(function(e){if("user_files"===e.name&&e.isDirectory){var n=e.createReader();n.readEntries(t.findPageActionFiles.bind(t))}})},findPageActionFiles:function(e){var t=this;this.executeWhenAllEntriesLoaded=o.after(e.length,function(){t.fireCallback()}),e.forEach(function(e,t){var n=function(t){this.pushNewEntry(t,e.name)}.bind(this);e.file(n)}.bind(this))},pushNewEntry:function(e,t){var n=new FileReader,i=t.lastIndexOf("."),r="style";-1!==i&&("css"===t.substr(i+1)?r="style":"js"===t.substr(i+1)&&(r="script")),t=t.substr(0,i),n.type=r,n.filename=t.replace(/_/g," "),n.onload=this.onFileRead.bind(this),n.readAsText(e)},onFileRead:function(e){var t={name:e.target.filename,type:e.target.type,code:e.target.result};"string"==typeof e.target.filename&&e.target.filename.length&&this.pageactionFiles.push(t),"function"==typeof this.executeWhenAllEntriesLoaded&&this.executeWhenAllEntriesLoaded()}};e.exports=i},function(e,t,n){"use strict";var i=n(3),r=n(481),o=r(function(){return i.i18n.getUILanguage()});e.exports=o},function(e,t){"use strict";var n=function(e,t){switch(e){case"onCreated":case"onActivated":return t[0].windowId;case"onUpdated":return t[2].windowId;case"onRemoved":case"onMoved":return t[1].windowId;case"onDetached":return t[1].oldWindowId;case"onAttached":return t[1].newWindowId;default:return}};e.exports=n},function(e,t){"use strict";var n=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return new Promise(function(t){return window.requestIdleCallback(t,e)})};e.exports=n},function(e,t,n){"use strict";function i(e,t){if(!t||!e||"string"!=typeof t.url||"string"!=typeof e.url)throw TypeError("Needs both target and current");if(t.score===e.score){var n=r(t.url).length,i=r(e.url).length;return i>=n}return(t.score||0)>(e.score||0)}var r=n(76);e.exports=i},,,function(e,t){"use strict";var n=function(e,t){return e.filter(function(e){return e!==t}).push(t)},i=function(e,t){return e.filter(function(e){return e!==t}).unshift(t)},r=function(e,t){return t===!0?e.shift().push(e.first()):e.pop().unshift(e.last())},o=function(e,t){var n=t;return n=e.reduce(function(e,t){return e.contains(t)?e:e.push(t)},n),n=n.reduce(function(t,n){return e.contains(n)?t:t.filter(function(e){return e!==n})},n)};t.moveToEnd=n,t.moveToStart=i,t.rotateList=r,t.combineLists=o},function(e,t,n){"use strict";function i(){if(!document)throw"Unable to find document. Are we in a browser?"}function r(e){return Math.pow((e+.055)/1.055,2.4)}function o(e){if(!Array.isArray(e)||3!==e.length)return 0;var t=e[0]/255,n=e[1]/255,i=e[2]/255,o=v>=t?t*g:r(t),a=v>=n?n*g:r(n),s=v>=i?i*g:r(i);return o*E+a*_+s*S}function a(e,t){var n=o(e),i=o(t),r=Math.max(n,i),a=Math.min(n,i);return(r+.05)/(a+.05)}function s(e){return Array.isArray(e)&&3===e.length?e[0]<33&&e[1]<33&&e[2]<33:!1}function l(e){for(var t=null,n=0,i=0;i<e.length&&null==t;i++){var r=a([255,255,255],e[i]);r>f&&r>n&&!s(e[i])&&(t=e[i],n=r)}return t}function u(e){try{var t=h.getPalette(this,2,1),n=l(t);if("function"==typeof e)return e(n?n:null)}finally{this.onload=null}}function c(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,i){return t+t+n+n+i+i});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null}function A(){if(null===y){var e=document.createElement("style");document.head.appendChild(e),y=e.sheet}}var d=n(448),h=new d,p=["background-color","border-color","color"],f=2.4,m=t,g=1/12.92,v=.03928,E=.2126,_=.7152,S=.0722;m.colorIsValid=function(e){var t=[c(e)],n=l(t);return null!==n},m.getToolbarBackgroundColor=function(e,t){if(null!=e&&""!==e){i();var n=new Image;n.onload=u.bind(n,t),n.src=e}};var y=null;m.removeCSSClasses=function(){if(y)for(var e=parseInt(y.rules.length),t=0;e>t;t++)y.deleteRule(0)},m.updateCSSClasses=function(e){var t=".favicon-current";A(),m.removeCSSClasses(),p.forEach(function(n){var i=t+"-"+n+" {"+n+":"+e+"!important;}\n";y.insertRule(i,0)})}},function(e,t,n){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===a||t===A?62:t===s||t===d?63:l>t?-1:l+10>t?t-l+26+26:c+26>t?t-c:u+26>t?t-u+26:void 0}function n(e){function n(e){u[A++]=e}var i,r,a,s,l,u;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=e.length;l="="===e.charAt(c-2)?2:"="===e.charAt(c-1)?1:0,u=new o(3*e.length/4-l),a=l>0?e.length-4:e.length;var A=0;for(i=0,r=0;a>i;i+=4,r+=3)s=t(e.charAt(i))<<18|t(e.charAt(i+1))<<12|t(e.charAt(i+2))<<6|t(e.charAt(i+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===l?(s=t(e.charAt(i))<<2|t(e.charAt(i+1))>>4,n(255&s)):1===l&&(s=t(e.charAt(i))<<10|t(e.charAt(i+1))<<4|t(e.charAt(i+2))>>2,n(s>>8&255),n(255&s)),u}function r(e){function t(e){return i.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var r,o,a,s=e.length%3,l="";for(r=0,a=e.length-s;a>r;r+=3)o=(e[r]<<16)+(e[r+1]<<8)+e[r+2],l+=n(o);switch(s){case 1:o=e[e.length-1],l+=t(o>>2),l+=t(o<<4&63),l+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1],l+=t(o>>10),l+=t(o>>4&63),l+=t(o<<2&63),l+="="}return l}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),l="0".charCodeAt(0),u="a".charCodeAt(0),c="A".charCodeAt(0),A="-".charCodeAt(0),d="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=r}(t)},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t){function n(e,t,n){return n>t?t>e?t:e>n?n:e:n>e?n:e>t?t:e}e.exports=n},function(e,t,n){(function(t,i){var r=!1;if("undefined"!=typeof t&&t.execPath&&-1!==t.execPath.indexOf("node"),r)var o=Canvas.Image,a=n(485);var s=function(e){if(r){this.canvas=new Canvas;var t=new o;e instanceof i?t.src=e:t.src=a.readFileSync(e)}else{this.canvas=document.createElement("canvas"),document.body.appendChild(this.canvas);var t=e}this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=t.width,this.height=this.canvas.height=t.height,this.context.drawImage(t,0,0,this.width,this.height)};s.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},s.prototype.update=function(e){this.context.putImageData(e,0,0)},s.prototype.getPixelCount=function(){return this.width*this.height},s.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},s.prototype.removeCanvas=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)};var l=function(){};/*!
	 * quantize.js Copyright 2008 Nick Rabinowitz.
	 * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
	 */
/*!
	 * Block below copied from Protovis: http://mbostock.github.com/protovis/
	 * Copyright 2010 Stanford Visualization Group
	 * Licensed under the BSD License: http://www.opensource.org/licenses/bsd-license.php
	 */
if(l.prototype.getColor=function(e,t,n){t!==!0&&t!==!1||(n=t,t=void 0);var i=this.getPalette(e,5,t,n),r=i[0];return r},l.prototype.getPalette=function(e,t,n,i){"undefined"==typeof t&&(t=10),"undefined"==typeof n&&(n=10);var r=new s(e),o=r.getImageData(),a=o.data,l=r.getPixelCount(),u=this.getPaletteFromPixels(a,l,t,n,i);return r.removeCanvas(),u},l.prototype.getPaletteFromPixels=function(e,t,n,i,r){for(var o,a,s,l,u,A=[],d=0;t>d;d+=i)o=4*d,a=e[o+0],s=e[o+1],l=e[o+2],u=e[o+3],u>=125&&((a>250&&s>250&&l>250||r===!0)&&(a>255&&s>255&&l>255||r!==!0)||A.push([a,s,l]));var h=c.quantize(A,n),p=h.palette();return p},!u)var u={map:function(e,t){var n={};return t?e.map(function(e,i){return n.index=i,t.call(n,e)}):e.slice()},naturalOrder:function(e,t){return t>e?-1:e>t?1:0},sum:function(e,t){var n={};return e.reduce(t?function(e,i,r){return n.index=r,e+t.call(n,i)}:function(e,t){return e+t},0)},max:function(e,t){return Math.max.apply(null,t?u.map(e,t):e)}};var c=function(){function e(e,t,n){return(e<<2*l)+(t<<l)+n}function t(e){function t(){n.sort(e),i=!0}var n=[],i=!1;return{push:function(e){n.push(e),i=!1},peek:function(e){return i||t(),void 0===e&&(e=n.length-1),n[e]},pop:function(){return i||t(),n.pop()},size:function(){return n.length},map:function(e){return n.map(e)},debug:function(){return i||t(),n}}}function n(e,t,n,i,r,o,a){var s=this;s.r1=e,s.r2=t,s.g1=n,s.g2=i,s.b1=r,s.b2=o,s.histo=a}function i(){this.vboxes=new t(function(e,t){return u.naturalOrder(e.vbox.count()*e.vbox.volume(),t.vbox.count()*t.vbox.volume())})}function r(t){var n,i,r,o,a=1<<3*l,s=new Array(a);return t.forEach(function(t){i=t[0]>>c,r=t[1]>>c,o=t[2]>>c,n=e(i,r,o),s[n]=(s[n]||0)+1}),s}function o(e,t){var i,r,o,a=1e6,s=0,l=1e6,u=0,A=1e6,d=0;return e.forEach(function(e){i=e[0]>>c,r=e[1]>>c,o=e[2]>>c,a>i?a=i:i>s&&(s=i),l>r?l=r:r>u&&(u=r),A>o?A=o:o>d&&(d=o)}),new n(a,s,l,u,A,d,t)}function a(t,n){function i(e){var t,i,r,o,a,s=e+"1",u=e+"2",c=0;for(l=n[s];l<=n[u];l++)if(f[l]>p/2){for(r=n.copy(),o=n.copy(),t=l-n[s],i=n[u]-l,a=i>=t?Math.min(n[u]-1,~~(l+i/2)):Math.max(n[s],~~(l-1-t/2));!f[a];)a++;for(c=m[a];!c&&f[a-1];)c=m[--a];return r[u]=a,o[s]=r[u]+1,[r,o]}}if(n.count()){var r=n.r2-n.r1+1,o=n.g2-n.g1+1,a=n.b2-n.b1+1,s=u.max([r,o,a]);if(1==n.count())return[n.copy()];var l,c,A,d,h,p=0,f=[],m=[];if(s==r)for(l=n.r1;l<=n.r2;l++){for(d=0,c=n.g1;c<=n.g2;c++)for(A=n.b1;A<=n.b2;A++)h=e(l,c,A),d+=t[h]||0;p+=d,f[l]=p}else if(s==o)for(l=n.g1;l<=n.g2;l++){for(d=0,c=n.r1;c<=n.r2;c++)for(A=n.b1;A<=n.b2;A++)h=e(c,l,A),d+=t[h]||0;p+=d,f[l]=p}else for(l=n.b1;l<=n.b2;l++){for(d=0,c=n.r1;c<=n.r2;c++)for(A=n.g1;A<=n.g2;A++)h=e(c,A,l),d+=t[h]||0;p+=d,f[l]=p}return f.forEach(function(e,t){m[t]=p-e}),i(s==r?"r":s==o?"g":"b")}}function s(e,n){function s(e,t){for(var n,i=1,r=0;A>r;)if(n=e.pop(),n.count()){var o=a(l,n),s=o[0],u=o[1];if(!s)return;if(e.push(s),u&&(e.push(u),i++),i>=t)return;if(r++>A)return}else e.push(n),r++}if(!e.length||2>n||n>256)return new i;var l=r(e),c=0;l.forEach(function(){c++});var h=o(e,l),p=new t(function(e,t){return u.naturalOrder(e.count(),t.count())});p.push(h),s(p,d*n);for(var f=new t(function(e,t){return u.naturalOrder(e.count()*e.volume(),t.count()*t.volume())});p.size();)f.push(p.pop());s(f,n-f.size());for(var m=new i;f.size();)m.push(f.pop());return m}var l=5,c=8-l,A=1e3,d=.75;return n.prototype={volume:function(e){var t=this;return t._volume&&!e||(t._volume=(t.r2-t.r1+1)*(t.g2-t.g1+1)*(t.b2-t.b1+1)),t._volume},count:function(t){var n=this,i=n.histo;if(!n._count_set||t){var r,o,a,s=0;for(r=n.r1;r<=n.r2;r++)for(o=n.g1;o<=n.g2;o++)for(a=n.b1;a<=n.b2;a++){var l=e(r,o,a);s+=i[l]||0}n._count=s,n._count_set=!0}return n._count},copy:function(){var e=this;return new n(e.r1,e.r2,e.g1,e.g2,e.b1,e.b2,e.histo)},avg:function(t){var n=this,i=n.histo;if(!n._avg||t){var r,o,a,s,u,c=0,A=1<<8-l,d=0,h=0,p=0;for(o=n.r1;o<=n.r2;o++)for(a=n.g1;a<=n.g2;a++)for(s=n.b1;s<=n.b2;s++)u=e(o,a,s),r=i[u]||0,c+=r,d+=r*(o+.5)*A,h+=r*(a+.5)*A,p+=r*(s+.5)*A;c?n._avg=[~~(d/c),~~(h/c),~~(p/c)]:n._avg=[~~(A*(n.r1+n.r2+1)/2),~~(A*(n.g1+n.g2+1)/2),~~(A*(n.b1+n.b2+1)/2)]}return n._avg},contains:function(e){var t=this,n=e[0]>>c;return gval=e[1]>>c,bval=e[2]>>c,n>=t.r1&&n<=t.r2&&gval>=t.g1&&gval<=t.g2&&bval>=t.b1&&bval<=t.b2}},i.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map(function(e){return e.color})},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,n=0;n<t.size();n++)if(t.peek(n).vbox.contains(e))return t.peek(n).color;return this.nearest(e)},nearest:function(e){for(var t,n,i,r=this.vboxes,o=0;o<r.size();o++)n=Math.sqrt(Math.pow(e[0]-r.peek(o).color[0],2)+Math.pow(e[1]-r.peek(o).color[1],2)+Math.pow(e[2]-r.peek(o).color[2],2)),(t>n||void 0===t)&&(t=n,i=r.peek(o).color);return i},forcebw:function(){var e=this.vboxes;e.sort(function(e,t){return u.naturalOrder(u.sum(e.color),u.sum(t.color))});var t=e[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(e[0].color=[0,0,0]);var n=e.length-1,i=e[n].color;i[0]>251&&i[1]>251&&i[2]>251&&(e[n].color=[255,255,255])}},{quantize:s}}();"undefined"!=typeof e&&e.exports&&(e.exports=l)}).call(t,n(22),n(96).Buffer)},function(e,t,n){var i;!function(r){"use strict";var o="undefined"==typeof window?null:window;i=function(){return r(o)}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}(function r(e){"use strict";var t=function(e){return r(e)};if(t.version="0.7.4",!e||!e.document||9!==e.document.nodeType)return t.isSupported=!1,t;var n=e.document,i=n,o=e.DocumentFragment,a=e.HTMLTemplateElement,s=e.NodeFilter,l=e.NamedNodeMap||e.MozNamedAttrMap,u=e.Text,c=e.Comment,A=e.DOMParser;"function"==typeof a&&(n=n.createElement("template").content.ownerDocument);var d=n.implementation,h=n.createNodeIterator,p=n.getElementsByTagName,f=n.createDocumentFragment,m=i.importNode,g={};t.isSupported="undefined"!=typeof d.createHTMLDocument&&9!==n.documentMode;var v=function(e,t){for(var n=t.length;n--;)e[t[n]]=!0;return e},E=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},_=null,S=v({},["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr","svg","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","switch","symbol","text","textpath","title","tref","tspan","view","vkern","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmuliscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mpspace","msqrt","mystyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","#text"]),y=null,b=v({},["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","rows","rowspan","spellcheck","scope","selected","shape","size","span","srclang","start","src","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns","accent-height","accumulate","additivive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mode","min","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","surfacescale","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","y","y1","y2","z","zoomandpan","accent","accentunder","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","display","displaystyle","fence","frame","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),C=null,I=null,T=!0,O=!1,w=!1,N=!1,k=/\{\{[\s\S]*|[\s\S]*\}\}/gm,D=/<%[\s\S]*|[\s\S]*%>/gm,M=!1,P=!1,L=!1,x=!1,R=!0,B=!0,F=v({},["audio","head","math","script","style","svg","video"]),U=v({},["audio","video","img","source"]),V=v({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),W=null,H=n.createElement("form"),K=function(e){"object"!=typeof e&&(e={}),_="ALLOWED_TAGS"in e?v({},e.ALLOWED_TAGS):S,y="ALLOWED_ATTR"in e?v({},e.ALLOWED_ATTR):b,C="FORBID_TAGS"in e?v({},e.FORBID_TAGS):{},I="FORBID_ATTR"in e?v({},e.FORBID_ATTR):{},T=e.ALLOW_DATA_ATTR!==!1,O=e.ALLOW_UNKNOWN_PROTOCOLS||!1,w=e.SAFE_FOR_JQUERY||!1,N=e.SAFE_FOR_TEMPLATES||!1,M=e.WHOLE_DOCUMENT||!1,P=e.RETURN_DOM||!1,L=e.RETURN_DOM_FRAGMENT||!1,x=e.RETURN_DOM_IMPORT||!1,R=e.SANITIZE_DOM!==!1,B=e.KEEP_CONTENT!==!1,N&&(T=!1),L&&(P=!0),e.ADD_TAGS&&(_===S&&(_=E(_)),v(_,e.ADD_TAGS)),e.ADD_ATTR&&(y===b&&(y=E(y)),v(y,e.ADD_ATTR)),B&&(_["#text"]=!0),Object&&"freeze"in Object&&Object.freeze(e),W=e},G=function(e){try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=""}},j=function(e){var t,n;try{t=(new A).parseFromString(e,"text/html")}catch(i){}return t||(t=d.createHTMLDocument(""),n=t.body,n.parentNode.removeChild(n.parentNode.firstElementChild),n.outerHTML=e),"function"==typeof t.getElementsByTagName?t.getElementsByTagName(M?"html":"body")[0]:p.call(t,M?"html":"body")[0]},z=function(e){return h.call(e.ownerDocument||e,e,s.SHOW_ELEMENT|s.SHOW_COMMENT|s.SHOW_TEXT,function(){return s.FILTER_ACCEPT},!1)},J=function(e){return e instanceof u||e instanceof c?!1:!("string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof l&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute)},Q=function(e){var t,n;if(te("beforeSanitizeElements",e,null),J(e))return G(e),!0;if(t=e.nodeName.toLowerCase(),te("uponSanitizeElement",e,{tagName:t}),!_[t]||C[t]){if(B&&!F[t]&&"function"==typeof e.insertAdjacentHTML)try{e.insertAdjacentHTML("AfterEnd",e.innerHTML)}catch(i){}return G(e),!0}return!w||e.firstElementChild||e.content&&e.content.firstElementChild||(e.innerHTML=e.textContent.replace(/</g,"&lt;")),N&&3===e.nodeType&&(n=e.textContent,n=n.replace(k," "),n=n.replace(D," "),e.textContent=n),te("afterSanitizeElements",e,null),!1},Y=/^data-[\w.\u00B7-\uFFFF-]/,Z=/^(?:(?:(?:f|ht)tps?|mailto|tel):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,q=/^(?:\w+script|data):/i,X=/[\x00-\x20\xA0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,$=function(t){var i,r,o,a,s,l,u,c;if(te("beforeSanitizeAttributes",t,null),l=t.attributes){for(u={attrName:"",attrValue:"",keepAttr:!0},c=l.length;c--;)if(i=l[c],r=i.name,o=i.value,a=r.toLowerCase(),u.attrName=a,u.attrValue=o,u.keepAttr=!0,te("uponSanitizeAttribute",t,u),o=u.attrValue,"name"===a&&"IMG"===t.nodeName&&l.id?(s=l.id,l=Array.prototype.slice.apply(l),t.removeAttribute("id"),t.removeAttribute(r),l.indexOf(s)>c&&t.setAttribute("id",s.value)):("id"===r&&t.setAttribute(r,""),t.removeAttribute(r)),u.keepAttr&&(!R||"id"!==a&&"name"!==a||!(o in e||o in n||o in H))&&(N&&(o=o.replace(k," "),o=o.replace(D," ")),y[a]&&!I[a]&&(V[a]||Z.test(o.replace(X,""))||"src"===a&&0===o.indexOf("data:")&&U[t.nodeName.toLowerCase()])||T&&Y.test(a)||O&&!q.test(o.replace(X,""))))try{t.setAttribute(r,o)}catch(A){}te("afterSanitizeAttributes",t,null)}},ee=function(e){var t,n=z(e);for(te("beforeSanitizeShadowDOM",e,null);t=n.nextNode();)te("uponSanitizeShadowNode",t,null),Q(t)||(t.content instanceof o&&ee(t.content),$(t));te("afterSanitizeShadowDOM",e,null)},te=function(e,n,i){g[e]&&g[e].forEach(function(e){e.call(t,n,i,W)})};return t.sanitize=function(n,r){var a,s,l,u,c;if(n||(n=""),"string"!=typeof n){if("function"!=typeof n.toString)throw new TypeError("toString is not a function");n=n.toString()}if(!t.isSupported)return"object"==typeof e.toStaticHTML||"function"==typeof e.toStaticHTML?e.toStaticHTML(n):n;if(K(r),!P&&!M&&-1===n.indexOf("<"))return n;if(a=j(n),!a)return P?null:"";for(u=z(a);s=u.nextNode();)3===s.nodeType&&s===l||Q(s)||(s.content instanceof o&&ee(s.content),$(s),l=s);if(P){if(L)for(c=f.call(a.ownerDocument);a.firstChild;)c.appendChild(a.firstChild);else c=a;return x&&(c=m.call(i,c,!0)),c}return M?a.outerHTML:a.innerHTML},t.addHook=function(e,t){"function"==typeof t&&(g[e]=g[e]||[],g[e].push(t))},t.removeHook=function(e){g[e]&&g[e].pop()},t.removeHooks=function(e){g[e]&&(g[e]=[])},t.removeAllHooks=function(){g=[]},t})},function(e,t,n){"use strict";var i=function(e,t,n,i,r,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,a,s],c=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return u[c++]}))}throw l.framesToPop=1,l}};e.exports=i},function(e,t,n){e.exports.Dispatcher=n(452)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=n(450),o="ID_",a=function(){function e(){i(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t=o+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]?void 0:r(!1),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching?void 0:r(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]?void 0:r(!1):(this._callbacks[n]?void 0:r(!1),this._invokeCallback(n))}},e.prototype.dispatch=function(e){this._isDispatching?r(!1):void 0,this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=a},function(e,t){t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,u=l>>1,c=-7,A=n?r-1:0,d=n?-1:1,h=e[t+A];for(A+=d,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+A],A+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+e[t+A],A+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:(h?-1:1)*(1/0);a+=Math.pow(2,i),o-=u}return(h?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,l,u=8*o-r-1,c=(1<<u)-1,A=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,p=i?1:-1,f=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+A>=1?d/l:d*Math.pow(2,1-A),t*l>=2&&(a++,l/=2),a+A>=c?(s=0,a=c):a+A>=1?(s=(t*l-1)*Math.pow(2,r),a+=A):(s=t*Math.pow(2,A-1)*Math.pow(2,r),a=0));r>=8;e[n+h]=255&s,h+=p,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*f}},function(e,t){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t;return"[object Object]"===n.call(e)&&(t=Object.getPrototypeOf(e),null===t||t===Object.getPrototypeOf({}))}},function(e,t){function n(e){return i.test(e)}e.exports=n;var i=/^(?:\w+:)?\/\/([^\s\.]+\.\S{2}|localhost[\:?\d]*)\S*$/},function(e,t,n){function i(){}var r=n(100),o=Object.prototype;i.prototype=r?r(null):o,e.exports=i},function(e,t,n){function i(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var r=n(467),o=n(468),a=n(469),s=n(470),l=n(471);i.prototype.clear=r,i.prototype["delete"]=o,i.prototype.get=a,i.prototype.has=s,i.prototype.set=l,e.exports=i},function(e,t,n){function i(e,t){var n=r(e,t);if(0>n)return!1;var i=e.length-1;return n==i?e.pop():a.call(e,n,1),!0}var r=n(98),o=Array.prototype,a=o.splice;e.exports=i},function(e,t,n){function i(e,t){var n=r(e,t);return 0>n?void 0:e[n][1]}var r=n(98);e.exports=i},function(e,t,n){function i(e,t){return r(e,t)>-1}var r=n(98);e.exports=i},function(e,t,n){function i(e,t,n){var i=r(e,t);0>i?e.push([t,n]):e[i][1]=n}var r=n(98);e.exports=i},function(e,t){function n(e){return e&&e.Object===Object?e:null}e.exports=n},function(e,t,n){function i(e,t){return r(e,t)&&delete e[t]}var r=n(201);e.exports=i},function(e,t,n){function i(e,t){if(r){var n=e[t];return n===o?void 0:n}return s.call(e,t)?e[t]:void 0}var r=n(100),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;e.exports=i},function(e,t,n){function i(e,t,n){e[t]=r&&void 0===n?o:n}var r=n(100),o="__lodash_hash_undefined__";e.exports=i},function(e,t){function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}e.exports=n},function(e,t,n){function i(){this.__data__={hash:new r,map:o?new o:[],string:new r}}var r=n(456),o=n(79);e.exports=i},function(e,t,n){function i(e){var t=this.__data__;return s(e)?a("string"==typeof e?t.string:t.hash,e):r?t.map["delete"](e):o(t.map,e)}var r=n(79),o=n(458),a=n(463),s=n(99);e.exports=i},function(e,t,n){function i(e){var t=this.__data__;return s(e)?a("string"==typeof e?t.string:t.hash,e):r?t.map.get(e):o(t.map,e)}var r=n(79),o=n(459),a=n(464),s=n(99);e.exports=i},function(e,t,n){function i(e){var t=this.__data__;return s(e)?a("string"==typeof e?t.string:t.hash,e):r?t.map.has(e):o(t.map,e)}var r=n(79),o=n(460),a=n(201),s=n(99);e.exports=i},function(e,t,n){function i(e,t){var n=this.__data__;return s(e)?a("string"==typeof e?n.string:n.hash,e,t):r?n.map.set(e,t):o(n.map,e,t),this}var r=n(79),o=n(461),a=n(465),s=n(99);e.exports=i},function(e,t,n){(function(e,i){var r=n(462),o={"function":!0,object:!0},a=o[typeof t]&&t&&!t.nodeType?t:void 0,s=o[typeof e]&&e&&!e.nodeType?e:void 0,l=r(a&&s&&"object"==typeof i&&i),u=r(o[typeof self]&&self),c=r(o[typeof window]&&window),A=r(o[typeof this]&&this),d=l||c!==(A&&A.window)&&c||u||A||Function("return this")();e.exports=d}).call(t,n(51)(e),function(){return this}())},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){function i(e,t,n,s){var l,u="function"==typeof t,c=t===Object(t);if(c&&(s=n,n=t,t=void 0),null==n)throw new TypeError;s||(s={});var A={cap:"cap"in s?s.cap:!0,curry:"curry"in s?s.curry:!0,fixed:"fixed"in s?s.fixed:!0,immutable:"immutable"in s?s.immutable:!0,rearg:"rearg"in s?s.rearg:!0},d="rearg"in s&&s.rearg,h=u?n:a,p=u?n:{ary:e.ary,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isFunction:e.isFunction,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,spread:e.spread,toPath:e.toPath},f=p.ary,m=p.clone,g=p.curry,v=p.forEach,E=p.isArray,_=p.isFunction,S=p.keys,y=p.rearg,b=p.spread,C=p.toPath,I=S(r.aryMethod),T=function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}},O=function(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}},w=function(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n},N=function(e,t){t=C(t);for(var n=-1,i=t.length,r=m(Object(e)),o=r;null!=o&&++n<i;){var a=t[n],s=o[a];null!=s&&(o[a]=m(Object(s))),o=o[a]}return r},k=function(e){return function(t){return e({},t)}},D=function(e,t){return function(){var n=arguments.length;if(!n)return r;for(var i=Array(n);n--;)i[n]=arguments[n];var r=i[0]=t.apply(void 0,i);return e.apply(void 0,i),r}},M=function(e,t){return L(e,function(e){return"function"==typeof e?O(e,t):e})},P=function(e,t){return L(e,function(e){var n=t.length;return T(y(O(e,n),t),n)})},L=function(e,t,n){return function(){var n=arguments.length;if(!n)return e();for(var i=Array(n);n--;)i[n]=arguments[n];var r=A.rearg?0:n-1;return i[r]=t(i[r]),e.apply(void 0,i)}},x={castArray:function(e){return function(){var t=arguments[0];return E(t)?e(w(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],n=arguments[1],i=e(t,n),r=i.length;return A.cap&&"number"==typeof n?(n=n>2?n-2:1,r&&n>=r?i:O(i,n)):i}},mixin:function(e){return function(t){var n=this;if(!_(n))return e(n,Object(t));var i=[],r=[];return v(S(t),function(e){var o=t[e];_(o)&&(r.push(e),i.push(n.prototype[e]))}),e(n,Object(t)),v(r,function(e,t){var r=i[t];_(r)?n.prototype[e]=r:delete n.prototype[e]}),n}},runInContext:function(t){return function(n){return i(e,t(n),s)}}},R=function(e,t){e=r.aliasToReal[e]||e;var n=x[e];if(n)return n(t);var i=t;A.immutable&&(o.array[e]?i=D(t,w):o.object[e]?i=D(t,k(t)):o.set[e]&&(i=D(t,N)));var a;return v(I,function(t){return v(r.aryMethod[t],function(n){if(e==n){var o=!u&&r.iterateeAry[e],s=r.iterateeRearg[e],l=r.methodSpread[e];return a=i,A.fixed&&(a=void 0===l?f(a,t):b(a,l)),A.rearg&&t>1&&(d||!r.skipRearg[e])&&(a=y(a,r.methodRearg[e]||r.aryRearg[t])),A.cap&&(s?a=P(a,s):o&&(a=M(a,o))),A.curry&&t>1&&(a=g(a,t)),!1}}),!a}),a||(a=i),r.placeholder[e]&&(l=!0,t.placeholder=a.placeholder=h),a};if(!c)return R(t,n);var B=n,F=[];return v(I,function(e){v(r.aryMethod[e],function(e){var t=B[r.remap[e]||e];t&&F.push([e,R(e,t)])})}),v(F,function(e){B[e[0]]=e[1]}),l&&(B.placeholder=h),v(S(B),function(e){v(r.realToAlias[e]||[],function(t){B[t]=B[e]})}),B}var r=n(475),o=r.mutate,a={};e.exports=i},function(e,t){t.aliasToReal={__:"placeholder",all:"some",allPass:"overEvery",apply:"spread",assoc:"set",assocPath:"set",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",each:"forEach",eachRight:"forEachRight",equals:"isEqual",extend:"assignIn",extendWith:"assignInWith",first:"head",init:"initial",mapObj:"mapValues",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",pickAll:"pick",pipe:"flow",prop:"get",propOf:"propertyOf",propOr:"getOr",somePass:"overSome",unapply:"rest",unnest:"flatten",useWith:"overArgs",whereEq:"filter",zipObj:"zipObject"},t.aryMethod={1:["attempt","castArray","ceil","create","curry","curryRight","floor","fromPairs","invert","iteratee","memoize","method","methodOf","mixin","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words"],2:["add","after","ary","assign","assignIn","at","before","bind","bindKey","chunk","cloneDeepWith","cloneWith","concat","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","delay","difference","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","merge","minBy","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","getOr","inRange","intersectionBy","intersectionWith","isEqualWith","isMatchWith","mergeWith","orderBy","pullAllBy","pullAllWith","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={assignWith:2,assignInWith:2,cloneDeepWith:1,cloneWith:1,dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findIndex:1,findKey:1,findLast:1,findLastIndex:1,findLastKey:1,flatMap:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,isEqualWith:2,isMatchWith:2,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1]},t.methodRearg={assignInWith:[1,2,0],assignWith:[1,2,0],getOr:[2,1,0],isMatchWith:[2,1,0],mergeWith:[1,2,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],updateWith:[3,1,2,0],zipWith:[1,2,0]},t.methodSpread={partial:1,partialRight:1},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignIn:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsDeep:!0,merge:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.placeholder={bind:!0,bindKey:!0,curry:!0,curryRight:!0,partial:!0,partialRight:!0},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,i={};for(var r in n){var o=n[r];e.call(i,o)?i[o].push(r):i[o]=[r]}return i}(),t.remap={curryN:"curry",curryRightN:"curryRight",getOr:"get",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart"},t.skipRearg={add:!0,assign:!0,assignIn:!0,concat:!0,difference:!0,gt:!0,gte:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,partial:!0,partialRight:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0}},function(e,t,n){function i(e){var t=r(e)?l.call(e):"";return t==o||t==a}var r=n(478),o="[object Function]",a="[object GeneratorFunction]",s=Object.prototype,l=s.toString;e.exports=i},function(e,t,n){function i(e){return null==e?!1:r(e)?d.test(c.call(e)):a(e)&&(o(e)?d:l).test(e)}var r=n(476),o=n(466),a=n(479),s=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,u=Object.prototype,c=Function.prototype.toString,A=u.hasOwnProperty,d=RegExp("^"+c.call(A).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=i},function(e,t){function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=n},function(e,t){function n(e){return!!e&&"object"==typeof e}e.exports=n},function(e,t,n){var i;(function(e,r){(function(){function o(e,t){return e.set(t[0],t[1]),e}function a(e,t){return e.add(t),e}function s(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function l(e,t,n,i){for(var r=-1,o=e.length;++r<o;){var a=e[r];t(i,a,n(a),e)}return i}function u(e,t){for(var n=-1,i=e.length;++n<i&&!1!==t(e[n],n,e););return e}function c(e,t){for(var n=-1,i=e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function A(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}function d(e,t){return!!e.length&&-1<y(e,t,0)}function h(e,t,n){for(var i=-1,r=e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function p(e,t){for(var n=-1,i=e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function f(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function m(e,t,n,i){var r=-1,o=e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function g(e,t,n,i){var r=e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function v(e,t){for(var n=-1,i=e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function E(e,t,n){for(var i=-1,r=e.length;++i<r;){var o=e[i],a=t(o);if(null!=a&&(s===Q?a===a:n(a,s)))var s=a,l=o}return l}function _(e,t,n,i){var r;return n(e,function(e,n,o){return t(e,n,o)?(r=i?n:e,!1):void 0}),r}function S(e,t,n){for(var i=e.length,r=n?i:-1;n?r--:++r<i;)if(t(e[r],r,e))return r;return-1}function y(e,t,n){if(t!==t)return F(e,n);--n;for(var i=e.length;++n<i;)if(e[n]===t)return n;return-1}function b(e,t,n,i){--n;for(var r=e.length;++n<r;)if(i(e[n],t))return n;return-1}function C(e,t,n,i,r){return r(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}function I(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].c;return e}function T(e,t){for(var n,i=-1,r=e.length;++i<r;){var o=t(e[i]);o!==Q&&(n=n===Q?o:n+o)}return n}function O(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function w(e,t){return p(t,function(t){return[t,e[t]]})}function N(e){return function(t){return e(t)}}function k(e,t){return p(t,function(t){return e[t]})}function D(e,t){for(var n=-1,i=e.length;++n<i&&-1<y(t,e[n],0););return n}function M(e,t){for(var n=e.length;n--&&-1<y(t,e[n],0););return n}function P(e){return e&&e.Object===Object?e:null}function L(e,t){if(e!==t){var n=null===e,i=e===Q,r=e===e,o=null===t,a=t===Q,s=t===t;if(e>t&&!o||!r||n&&!a&&s||i&&s)return 1;if(t>e&&!n||!s||o&&!i&&r||a&&r)return-1}return 0}function x(e){return Ue[e]}function R(e){return Ve[e]}function B(e){return"\\"+Ke[e]}function F(e,t,n){var i=e.length;for(t+=n?0:-1;n?t--:++t<i;){var r=e[t];if(r!==r)return t}return-1}function U(e){
var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function V(e,t){return e="number"==typeof e||be.test(e)?+e:-1,e>-1&&0==e%1&&(null==t?9007199254740991:t)>e}function W(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function H(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function K(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n];a!==t&&"__lodash_placeholder__"!==a||(e[n]="__lodash_placeholder__",o[r++]=n)}return o}function G(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function j(e){if(!e||!Me.test(e))return e.length;for(var t=De.lastIndex=0;De.test(e);)t++;return t}function z(e){return We[e]}function J(e){function t(e){if(bi(e)&&!Ko(e)&&!(e instanceof r)){if(e instanceof i)return e;if(cr.call(e,"__wrapped__"))return Gn(e)}return new i(e)}function n(){}function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Q}function r(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function P(){}function be(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Oe(e){var t=-1,n=e?e.length:0;for(this.__data__=new be;++t<n;)this.push(e[t])}function we(e,t){var n=e.__data__;return Fn(t)?(n=n.__data__,"__lodash_hash_undefined__"===("string"==typeof t?n.string:n.hash)[t]):n.has(t)}function Ne(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ue(e,t){var n=We(e,t);return 0>n?!1:(n==e.length-1?e.pop():wr.call(e,n,1),!0)}function Ve(e,t){var n=We(e,t);return 0>n?Q:e[n][1]}function We(e,t){for(var n=e.length;n--;)if(hi(e[n][0],t))return n;return-1}function He(e,t,n){var i=We(e,t);0>i?e.push([t,n]):e[i][1]=n}function Ke(e,t,n,i){return e===Q||hi(e,lr[n])&&!cr.call(i,n)?t:e}function ze(e,t,n){(n===Q||hi(e[t],n))&&("number"!=typeof t||n!==Q||t in e)||(e[t]=n)}function Je(e,t,n){var i=e[t];cr.call(e,t)&&hi(i,n)&&(n!==Q||t in e)||(e[t]=n)}function Ye(e,t,n,i){return Xr(e,function(e,r,o){t(i,e,n(e),o)}),i}function Ze(e,t){return e&&en(t,Wi(t),e)}function qe(e,t){for(var n=-1,i=null==e,r=t.length,o=Array(r);++n<r;)o[n]=i?Q:Fi(e,t[n]);return o}function et(e){return gi(e)?e:[]}function tt(e){return"function"==typeof e?e:Zi}function nt(e){return Ko(e)?e:Kn(e)}function it(e,t,n){return e===e&&(n!==Q&&(e=e>n?n:e),t!==Q&&(e=t>e?t:e)),e}function rt(e,t,n,i,r,o,a){var s;if(i&&(s=o?i(e,r,o,a):i(e)),s!==Q)return s;if(!yi(e))return e;if(r=Ko(e)){if(s=Mn(e),!t)return $t(e,s)}else{var l=kn(e),c="[object Function]"==l||"[object GeneratorFunction]"==l;if(Go(e))return Yt(e,t);if("[object Object]"==l||"[object Arguments]"==l||c&&!o){if(U(e))return o?e:{};if(s=Pn(c?{}:e),!t)return s=Ze(s,e),n?nn(e,s):s}else{if(!Fe[l])return o?e:{};s=Ln(e,l,t)}}return a||(a=new Ne),(o=a.get(e))?o:(a.set(e,s),(r?u:ht)(e,function(r,o){Je(s,o,rt(r,t,n,i,o,e,a))}),n&&!r?nn(e,s):s)}function ot(e){var t=Wi(e),n=t.length;return function(i){if(null==i)return!n;for(var r=n;r--;){var o=t[r],a=e[o],s=i[o];if(s===Q&&!(o in Object(i))||!a(s))return!1}return!0}}function at(e){return yi(e)?Ir(e):{}}function st(e,t,n){if("function"!=typeof e)throw new ar("Expected a function");return Or(function(){e.apply(Q,n)},t)}function lt(e,t,n,i){var r=-1,o=d,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=p(t,N(n))),i?(o=h,a=!1):t.length>=200&&(o=we,a=!1,t=new Oe(t));e:for(;++r<s;){var c=e[r],A=n?n(c):c;if(a&&A===A){for(var f=u;f--;)if(t[f]===A)continue e;l.push(c)}else o(t,A,i)||l.push(c)}return l}function ut(e,t){var n=!0;return Xr(e,function(e,i,r){return n=!!t(e,i,r)}),n}function ct(e,t){var n=[];return Xr(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}function At(e,t,n,i){i||(i=[]);for(var r=-1,o=e.length;++r<o;){var a=e[r];t>0&&gi(a)&&(n||Ko(a)||fi(a))?t>1?At(a,t-1,n,i):f(i,a):n||(i[i.length]=a)}return i}function dt(e,t){null==e||eo(e,t,Hi)}function ht(e,t){return e&&eo(e,t,Wi)}function pt(e,t){return e&&to(e,t,Wi)}function ft(e,t){return A(t,function(t){return Ei(e[t])})}function mt(e,t){t=Bn(t,e)?[t+""]:nt(t);for(var n=0,i=t.length;null!=e&&i>n;)e=e[t[n++]];return n&&n==i?e:Q}function gt(e,t){return cr.call(e,t)||"object"==typeof e&&t in e&&null===yr(e)}function vt(e,t){return t in Object(e)}function Et(e,t,n){for(var i=n?h:d,r=e[0].length,o=e.length,a=o,s=Array(o),l=1/0,u=[];a--;){var c=e[a];a&&t&&(c=p(c,N(t))),l=xr(c.length,l),s[a]=n||!t&&(120>r||120>c.length)?Q:new Oe(a&&c)}var c=e[0],A=-1,f=s[0];e:for(;++A<r&&l>u.length;){var m=c[A],g=t?t(m):m;if(f?!we(f,g):!i(u,g,n)){for(a=o;--a;){var v=s[a];if(v?!we(v,g):!i(e[a],g,n))continue e}f&&f.push(g),u.push(m)}}return u}function _t(e,t,n){var i={};return ht(e,function(e,r,o){t(i,n(e),r,o)}),i}function St(e,t,n){return Bn(t,e)||(t=nt(t),e=Hn(e,t),t=Qn(t)),t=null==e?e:e[t],null==t?Q:s(t,e,n)}function yt(e,t,n,i,r){if(e===t)e=!0;else if(null==e||null==t||!yi(e)&&!bi(t))e=e!==e&&t!==t;else e:{var o=Ko(e),a=Ko(t),s="[object Array]",l="[object Array]";o||(s=kn(e),s="[object Arguments]"==s?"[object Object]":s),a||(l=kn(t),l="[object Arguments]"==l?"[object Object]":l);var u="[object Object]"==s&&!U(e),a="[object Object]"==l&&!U(t);if((l=s==l)&&!u)r||(r=new Ne),e=o||ki(e)?bn(e,t,yt,n,i,r):Cn(e,t,s,yt,n,i,r);else{if(!(2&i)&&(o=u&&cr.call(e,"__wrapped__"),s=a&&cr.call(t,"__wrapped__"),o||s)){r||(r=new Ne),e=yt(o?e.value():e,s?t.value():t,n,i,r);break e}if(l)t:if(r||(r=new Ne),o=2&i,s=Wi(e),a=s.length,l=Wi(t).length,a==l||o){for(u=a;u--;){var c=s[u];if(!(o?c in t:gt(t,c))){e=!1;break t}}if(l=r.get(e))e=l==t;else{l=!0,r.set(e,t);for(var A=o;++u<a;){var c=s[u],d=e[c],h=t[c];if(n)var p=o?n(h,d,c,t,e,r):n(d,h,c,e,t,r);if(p===Q?d!==h&&!yt(d,h,n,i,r):!p){l=!1;break}A||(A="constructor"==c)}l&&!A&&(n=e.constructor,i=t.constructor,n!=i&&"constructor"in e&&"constructor"in t&&!("function"==typeof n&&n instanceof n&&"function"==typeof i&&i instanceof i)&&(l=!1)),r["delete"](e),e=l}}else e=!1;else e=!1}}return e}function bt(e,t,n,i){var r=n.length,o=r,a=!i;if(null==e)return!o;for(e=Object(e);r--;){var s=n[r];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<o;){var s=n[r],l=s[0],u=e[l],c=s[1];if(a&&s[2]){if(u===Q&&!(l in e))return!1}else if(s=new Ne,l=i?i(u,c,l,e,t,s):Q,l===Q?!yt(c,u,i,3,s):!l)return!1}return!0}function Ct(e){var t=typeof e;return"function"==t?e:null==e?Zi:"object"==t?Ko(e)?wt(e[0],e[1]):Ot(e):er(e)}function It(e){e=null==e?e:Object(e);var t,n=[];for(t in e)n.push(t);return n}function Tt(e,t){var n=-1,i=mi(e)?Array(e.length):[];return Xr(e,function(e,r,o){i[++n]=t(e,r,o)}),i}function Ot(e){var t=On(e);if(1==t.length&&t[0][2]){var n=t[0][0],i=t[0][1];return function(e){return null==e?!1:e[n]===i&&(i!==Q||n in Object(e))}}return function(n){return n===e||bt(n,e,t)}}function wt(e,t){return function(n){var i=Fi(n,e);return i===Q&&i===t?Vi(n,e):yt(t,i,Q,3)}}function Nt(e,t,n,i,r){if(e!==t){var o=Ko(t)||ki(t)?Q:Hi(t);u(o||t,function(a,s){if(o&&(s=a,a=t[s]),yi(a)){r||(r=new Ne);var l=s,u=r,c=e[l],A=t[l],d=u.get(A);if(d)ze(e,l,d);else{var d=i?i(c,A,l+"",e,t,u):Q,h=d===Q;h&&(d=A,Ko(A)||ki(A)?Ko(c)?d=c:gi(c)?d=$t(c):(h=!1,d=rt(A,!i)):Ti(A)||fi(A)?fi(c)?d=Ri(c):!yi(c)||n&&Ei(c)?(h=!1,d=rt(A,!i)):d=c:h=!1),u.set(A,d),h&&Nt(d,A,n,i,u),u["delete"](A),ze(e,l,d)}}else l=i?i(e[s],a,s+"",e,t,r):Q,l===Q&&(l=a),ze(e,s,l)})}}function kt(e,t,n){var i=-1;return t=p(t.length?t:Array(1),Tn()),e=Tt(e,function(e){return{a:p(t,function(t){return t(e)}),b:++i,c:e}}),I(e,function(e,t){var i;e:{i=-1;for(var r=e.a,o=t.a,a=r.length,s=n.length;++i<a;){var l=L(r[i],o[i]);if(l){i=s>i?l*("desc"==n[i]?-1:1):l;break e}}i=e.b-t.b}return i})}function Dt(e,t){return e=Object(e),m(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}function Mt(e,t){var n={};return dt(e,function(e,i){t(e,i)&&(n[i]=e)}),n}function Pt(e){return function(t){return null==t?Q:t[e]}}function Lt(e){return function(t){return mt(t,e)}}function xt(e,t,n,i){var r=i?b:y,o=-1,a=t.length,s=e;for(n&&(s=p(e,N(n)));++o<a;)for(var l=0,u=t[o],u=n?n(u):u;-1<(l=r(s,u,l,i));)s!==e&&wr.call(s,l,1),wr.call(e,l,1);return e}function Rt(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(i==n||r!=o){var o=r;if(V(r))wr.call(e,r,1);else if(Bn(r,e))delete e[r];else{var r=nt(r),a=Hn(e,r);null!=a&&delete a[Qn(r)]}}}}function Bt(e,t){return e+kr(Br()*(t-e+1))}function Ft(e,t,n,i){t=Bn(t,e)?[t+""]:nt(t);for(var r=-1,o=t.length,a=o-1,s=e;null!=s&&++r<o;){var l=t[r];if(yi(s)){var u=n;if(r!=a){var c=s[l],u=i?i(c,l,s):Q;u===Q&&(u=null==c?V(t[r+1])?[]:{}:c)}Je(s,l,u)}s=s[l]}return e}function Ut(e,t,n){var i=-1,r=e.length;for(0>t&&(t=-t>r?0:r+t),n=n>r?r:n,0>n&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0,n=Array(r);++i<r;)n[i]=e[i+t];return n}function Vt(e,t){var n;return Xr(e,function(e,i,r){return n=t(e,i,r),!n}),!!n}function Wt(e,t,n){var i=0,r=e?e.length:i;if("number"==typeof t&&t===t&&2147483647>=r){for(;r>i;){var o=i+r>>>1,a=e[o];(n?t>=a:t>a)&&null!==a?i=o+1:r=o}return r}return Ht(e,t,Zi,n)}function Ht(e,t,n,i){t=n(t);for(var r=0,o=e?e.length:0,a=t!==t,s=null===t,l=t===Q;o>r;){var u=kr((r+o)/2),c=n(e[u]),A=c!==Q,d=c===c;(a?d||i:s?d&&A&&(i||null!=c):l?d&&(i||A):null==c?0:i?t>=c:t>c)?r=u+1:o=u}return xr(o,4294967294)}function Kt(e,t){for(var n=0,i=e.length,r=e[0],o=t?t(r):r,a=o,s=1,l=[r];++n<i;)r=e[n],o=t?t(r):r,hi(o,a)||(a=o,l[s++]=r);return l}function Gt(e,t,n){var i=-1,r=d,o=e.length,a=!0,s=[],l=s;if(n)a=!1,r=h;else if(200>o)l=t?[]:s;else{if(r=t?null:io(e))return G(r);a=!1,r=we,l=new Oe}e:for(;++i<o;){var u=e[i],c=t?t(u):u;if(a&&c===c){for(var A=l.length;A--;)if(l[A]===c)continue e;t&&l.push(c),s.push(u)}else r(l,c,n)||(l!==s&&l.push(c),s.push(u))}return s}function jt(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?Ut(e,i?0:o,i?o+1:r):Ut(e,i?o+1:0,i?r:o)}function zt(e,t){var n=e;return n instanceof r&&(n=n.value()),m(t,function(e,t){return t.func.apply(t.thisArg,f([e],t.args))},n)}function Jt(e,t,n){for(var i=-1,r=e.length;++i<r;)var o=o?f(lt(o,e[i],t,n),lt(e[i],o,t,n)):e[i];return o&&o.length?Gt(o,t,n):[]}function Qt(e,t,n){for(var i=-1,r=e.length,o=t.length,a={};++i<r;)n(a,e[i],o>i?t[i]:Q);return a}function Yt(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function Zt(e){var t=new e.constructor(e.byteLength);return new Er(t).set(new Er(e)),t}function qt(e,t,n,i){var r=-1,o=e.length,a=n.length,s=-1,l=t.length,u=Lr(o-a,0),c=Array(l+u);for(i=!i;++s<l;)c[s]=t[s];for(;++r<a;)(i||o>r)&&(c[n[r]]=e[r]);for(;u--;)c[s++]=e[r++];return c}function Xt(e,t,n,i){var r=-1,o=e.length,a=-1,s=n.length,l=-1,u=t.length,c=Lr(o-s,0),A=Array(c+u);for(i=!i;++r<c;)A[r]=e[r];for(c=r;++l<u;)A[c+l]=t[l];for(;++a<s;)(i||o>r)&&(A[c+n[a]]=e[r++]);return A}function $t(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}function en(e,t,n){return tn(e,t,n)}function tn(e,t,n,i){n||(n={});for(var r=-1,o=t.length;++r<o;){var a=t[r],s=i?i(n[a],e[a],a,n,e):e[a];Je(n,a,s)}return n}function nn(e,t){return en(e,ao(e),t)}function rn(e,t){return function(n,i){var r=Ko(n)?l:Ye,o=t?t():{};return r(n,e,Tn(i),o)}}function on(e){return di(function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:Q,a=r>2?n[2]:Q,o="function"==typeof o?(r--,o):Q;for(a&&Rn(n[0],n[1],a)&&(o=3>r?Q:o,r=1),t=Object(t);++i<r;)(a=n[i])&&e(t,a,i,o);return t})}function an(e,t){return function(n,i){if(null==n)return n;if(!mi(n))return e(n,i);for(var r=n.length,o=t?r:-1,a=Object(n);(t?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function sn(e){return function(t,n,i){var r=-1,o=Object(t);i=i(t);for(var a=i.length;a--;){var s=i[e?a:++r];if(!1===n(o[s],s,o))break}return t}}function ln(e,t,n){function i(){return(this&&this!==Xe&&this instanceof i?o:e).apply(r?n:this,arguments)}var r=1&t,o=An(e);return i}function un(e){return function(t){t=Bi(t);var n=Me.test(t)?t.match(De):Q,i=n?n[0]:t.charAt(0);return t=n?n.slice(1).join(""):t.slice(1),i[e]()+t}}function cn(e){return function(t){return m(Qi(zi(t)),e,"")}}function An(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=at(e.prototype),t=e.apply(n,t);return yi(t)?t:n}}function dn(e,t,n){function i(){for(var o=arguments.length,a=Array(o),l=o,u=Nn(i);l--;)a[l]=arguments[l];return l=3>o&&a[0]!==u&&a[o-1]!==u?[]:K(a,u),o-=l.length,n>o?_n(e,t,pn,i.placeholder,Q,a,l,Q,Q,n-o):s(this&&this!==Xe&&this instanceof i?r:e,this,a)}var r=An(e);return i}function hn(e){return di(function(t){t=At(t,1);var n=t.length,r=n,o=i.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new ar("Expected a function");if(o&&!s&&"wrapper"==In(a))var s=new i([],!0)}for(r=s?r:n;++r<n;)var a=t[r],o=In(a),l="wrapper"==o?ro(a):Q,s=l&&Un(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[In(l[0])].apply(s,l[3]):1==a.length&&Un(a)?s[o]():s.thru(a);return function(){var e=arguments,i=e[0];if(s&&1==e.length&&Ko(i)&&i.length>=200)return s.plant(i).value();for(var r=0,e=n?t[r].apply(this,e):i;++r<n;)e=t[r].call(this,e);return e}})}function pn(e,t,n,i,r,o,a,s,l,u){function c(){for(var g=arguments.length,v=g,E=Array(g);v--;)E[v]=arguments[v];if(p){var _,S=Nn(c),v=E.length;for(_=0;v--;)E[v]===S&&_++}if(i&&(E=qt(E,i,r,p)),o&&(E=Xt(E,o,a,p)),g-=_,p&&u>g)return S=K(E,S),_n(e,t,pn,c.placeholder,n,E,S,s,l,u-g);if(S=d?n:this,v=h?S[e]:e,g=E.length,s){_=E.length;for(var y=xr(s.length,_),b=$t(E);y--;){var C=s[y];E[y]=V(C,_)?b[C]:Q}}else f&&g>1&&E.reverse();return A&&g>l&&(E.length=l),this&&this!==Xe&&this instanceof c&&(v=m||An(v)),v.apply(S,E)}var A=128&t,d=1&t,h=2&t,p=24&t,f=512&t,m=h?Q:An(e);return c}function fn(e,t){return function(n,i){return _t(n,e,t(i))}}function mn(e){return di(function(t){return t=p(At(t,1),Tn()),di(function(n){var i=this;return e(t,function(e){return s(e,i,n)})})})}function gn(e,t,n){return t=Pi(t),e=j(e),t&&t>e?(t-=e,n=n===Q?" ":n+"",e=Ji(n,Nr(t/j(n))),Me.test(n)?e.match(De).slice(0,t).join(""):e.slice(0,t)):""}function vn(e,t,n,i){function r(){for(var t=-1,l=arguments.length,u=-1,c=i.length,A=Array(c+l),d=this&&this!==Xe&&this instanceof r?a:e;++u<c;)A[u]=i[u];for(;l--;)A[u++]=arguments[++t];return s(d,o?n:this,A)}var o=1&t,a=An(e);return r}function En(e){return function(t,n,i){i&&"number"!=typeof i&&Rn(t,n,i)&&(n=i=Q),t=xi(t),t=t===t?t:0,n===Q?(n=t,t=0):n=xi(n)||0,i=i===Q?n>t?1:-1:xi(i)||0;var r=-1;n=Lr(Nr((n-t)/(i||1)),0);for(var o=Array(n);n--;)o[e?n:++r]=t,t+=i;return o}}function _n(e,t,n,i,r,o,a,s,l,u){var c=8&t;s=s?$t(s):Q;var A=c?a:Q;a=c?Q:a;var d=c?o:Q;return o=c?Q:o,t=(t|(c?32:64))&~(c?64:32),4&t||(t&=-4),t=[e,t,r,d,A,o,a,s,l,u],n=n.apply(Q,t),Un(e)&&so(n,t),n.placeholder=i,n}function Sn(e){var t=rr[e];return function(e,n){if(e=xi(e),n=Pi(n)){var i=(Bi(e)+"e").split("e"),i=t(i[0]+"e"+(+i[1]+n)),i=(Bi(i)+"e").split("e");return+(i[0]+"e"+(+i[1]-n))}return t(e)}}function yn(e,t,n,i,r,o,a,s){var l=2&t;if(!l&&"function"!=typeof e)throw new ar("Expected a function");var u=i?i.length:0;if(u||(t&=-97,i=r=Q),a=a===Q?a:Lr(Pi(a),0),s=s===Q?s:Pi(s),u-=r?r.length:0,64&t){var c=i,A=r;i=r=Q}var d=l?Q:ro(e);return o=[e,t,n,i,r,c,A,o,a,s],d&&(n=o[1],e=d[1],t=n|e,i=128==e&&8==n||128==e&&256==n&&d[8]>=o[7].length||384==e&&d[8]>=d[7].length&&8==n,131>t||i)&&(1&e&&(o[2]=d[2],t|=1&n?0:4),(n=d[3])&&(i=o[3],o[3]=i?qt(i,n,d[4]):$t(n),o[4]=i?K(o[3],"__lodash_placeholder__"):$t(d[4])),(n=d[5])&&(i=o[5],o[5]=i?Xt(i,n,d[6]):$t(n),o[6]=i?K(o[5],"__lodash_placeholder__"):$t(d[6])),(n=d[7])&&(o[7]=$t(n)),128&e&&(o[8]=null==o[8]?d[8]:xr(o[8],d[8])),null==o[9]&&(o[9]=d[9]),o[0]=d[0],o[1]=t),e=o[0],t=o[1],n=o[2],i=o[3],r=o[4],s=o[9]=null==o[9]?l?0:e.length:Lr(o[9]-u,0),!s&&24&t&&(t&=-25),(d?no:so)(t&&1!=t?8==t||16==t?dn(e,t,s):32!=t&&33!=t||r.length?pn.apply(Q,o):vn(e,t,n,i):ln(e,t,n),o)}function bn(e,t,n,i,r,o){var a=-1,s=2&r,l=1&r,u=e.length,c=t.length;if(!(u==c||s&&c>u))return!1;if(c=o.get(e))return c==t;for(c=!0,o.set(e,t);++a<u;){var A=e[a],d=t[a];if(i)var h=s?i(d,A,a,t,e,o):i(A,d,a,e,t,o);if(h!==Q){if(h)continue;c=!1;break}if(l){if(!v(t,function(e){return A===e||n(A,e,i,r,o)})){c=!1;break}}else if(A!==d&&!n(A,d,i,r,o)){c=!1;break}}return o["delete"](e),c}function Cn(e,t,n,i,r,o,a){switch(n){case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!i(new Er(e),new Er(t)))break;return!0;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object Number]":return e!=+e?t!=+t:e==+t;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=H;case"[object Set]":if(s||(s=G),e.size!=t.size&&!(2&o))break;return(n=a.get(e))?n==t:bn(s(e),s(t),i,r,1|o,a.set(e,t));case"[object Symbol]":if(Zr)return Zr.call(e)==Zr.call(t)}return!1}function In(e){for(var t=e.name+"",n=jr[t],i=cr.call(jr,t)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function Tn(){var e=t.iteratee||qi,e=e===qi?Ct:e;return arguments.length?e(arguments[0],arguments[1]):e}function On(e){e=Ki(e);for(var t=e.length;t--;){var n=e[t][1];e[t][2]=n===n&&!yi(n)}return e}function wn(e,t){var n=e[t];return Ci(n)?n:Q}function Nn(e){return(cr.call(t,"placeholder")?t:e).placeholder}function kn(e){return hr.call(e)}function Dn(e,t,n){if(null==e)return!1;var i=n(e,t);return i||Bn(t)||(t=nt(t),e=Hn(e,t),null!=e&&(t=Qn(t),i=n(e,t))),n=e?e.length:Q,i||!!n&&Si(n)&&V(t,n)&&(Ko(e)||wi(e)||fi(e))}function Mn(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&cr.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Pn(e){return"function"!=typeof e.constructor||Vn(e)?{}:at(yr(e))}function Ln(e,t,n){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return Zt(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return t=n?Zt(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.length);case"[object Map]":return m(H(e),o,new e.constructor);case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return t=new e.constructor(e.source,ge.exec(e)),t.lastIndex=e.lastIndex,t;case"[object Set]":return m(G(e),a,new e.constructor);case"[object Symbol]":return Zr?Object(Zr.call(e)):{}}}function xn(e){var t=e?e.length:Q;return Si(t)&&(Ko(e)||wi(e)||fi(e))?O(t,String):null}function Rn(e,t,n){if(!yi(n))return!1;var i=typeof t;return("number"==i?mi(n)&&V(t,n.length):"string"==i&&t in n)?hi(n[t],e):!1}function Bn(e,t){return"number"==typeof e?!0:!Ko(e)&&(le.test(e)||!se.test(e)||null!=t&&e in Object(t))}function Fn(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}function Un(e){var n=In(e),i=t[n];return"function"==typeof i&&n in r.prototype?e===i?!0:(n=ro(i),!!n&&e===n[0]):!1}function Vn(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||lr)}function Wn(e,t,n,i,r,o){return yi(e)&&yi(t)&&Nt(e,t,Q,Wn,o.set(t,e)),e}function Hn(e,t){return 1==t.length?e:Fi(e,Ut(t,0,-1))}function Kn(e){var t=[];return Bi(e).replace(ue,function(e,n,i,r){t.push(i?r.replace(fe,"$1"):n||e)}),t}function Gn(e){if(e instanceof r)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=$t(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function jn(e,t,n){var i=e?e.length:0;return i?(t=n||t===Q?1:Pi(t),Ut(e,0>t?0:t,i)):[]}function zn(e,t,n){var i=e?e.length:0;return i?(t=n||t===Q?1:Pi(t),t=i-t,Ut(e,0,0>t?0:t)):[]}function Jn(e){return e?e[0]:Q}function Qn(e){var t=e?e.length:0;return t?e[t-1]:Q}function Yn(e,t){return e&&e.length&&t&&t.length?xt(e,t):e}function Zn(e){return e?Fr.call(e):e}function qn(e){if(!e||!e.length)return[];var t=0;return e=A(e,function(e){return gi(e)?(t=Lr(e.length,t),!0):void 0}),O(t,function(t){return p(e,Pt(t))})}function Xn(e,t){if(!e||!e.length)return[];var n=qn(e);return null==t?n:p(n,function(e){return s(t,Q,e)})}function $n(e){return e=t(e),e.__chain__=!0,e}function ei(e,t){return t(e)}function ti(){return this}function ni(e,t){return"function"==typeof t&&Ko(e)?u(e,t):Xr(e,tt(t))}function ii(e,t){var n;if("function"==typeof t&&Ko(e)){for(n=e.length;n--&&!1!==t(e[n],n,e););n=e}else n=$r(e,tt(t));return n}function ri(e,t){return(Ko(e)?p:Tt)(e,Tn(t,3))}function oi(e,t){var n=-1,i=Mi(e),r=i.length,o=r-1;for(t=it(Pi(t),0,r);++n<t;){var r=Bt(n,o),a=i[r];i[r]=i[n],i[n]=a}return i.length=t,i}function ai(e,t,n){return t=n?Q:t,t=e&&null==t?e.length:t,yn(e,128,Q,Q,Q,Q,t)}function si(e,t){var n;if("function"!=typeof t)throw new ar("Expected a function");return e=Pi(e),function(){return 0<--e&&(n=t.apply(this,arguments)),1>=e&&(t=Q),n}}function li(e,t,n){return t=n?Q:t,e=yn(e,8,Q,Q,Q,Q,Q,t),e.placeholder=li.placeholder,e}function ui(e,t,n){return t=n?Q:t,e=yn(e,16,Q,Q,Q,Q,Q,t),e.placeholder=ui.placeholder,e}function ci(e,t,n){function i(){h&&_r(h),u&&_r(u),f=0,l=u=d=h=p=Q}function r(t,n){n&&_r(n),u=h=p=Q,t&&(f=Lo(),c=e.apply(d,l),h||u||(l=d=Q))}function o(){var e=t-(Lo()-A);0>=e||e>t?r(p,u):h=Or(o,e)}function a(){r(v,h)}function s(){if(l=arguments,A=Lo(),d=this,p=v&&(h||!m),!1===g)var n=m&&!h;else{f||u||m||(f=A);var i=g-(A-f),r=(0>=i||i>g)&&(m||u);r?(u&&(u=_r(u)),f=A,c=e.apply(d,l)):u||(u=Or(a,i))}return r&&h?h=_r(h):h||t===g||(h=Or(o,t)),n&&(r=!0,c=e.apply(d,l)),!r||h||u||(l=d=Q),c}var l,u,c,A,d,h,p,f=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new ar("Expected a function");return t=xi(t)||0,yi(n)&&(m=!!n.leading,g="maxWait"in n&&Lr(xi(n.maxWait)||0,t),v="trailing"in n?!!n.trailing:v),s.cancel=i,s.flush=function(){return(h&&p||u&&v)&&(c=e.apply(d,l)),i(),c},s}function Ai(e,t){function n(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;return o.has(r)?o.get(r):(i=e.apply(this,i),n.cache=o.set(r,i),i)}if("function"!=typeof e||t&&"function"!=typeof t)throw new ar("Expected a function");return n.cache=new Ai.Cache,n}function di(e,t){if("function"!=typeof e)throw new ar("Expected a function");return t=Lr(t===Q?e.length-1:Pi(t),0),function(){for(var n=arguments,i=-1,r=Lr(n.length-t,0),o=Array(r);++i<r;)o[i]=n[t+i];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}for(r=Array(t+1),i=-1;++i<t;)r[i]=n[i];return r[t]=o,s(e,this,r)}}function hi(e,t){return e===t||e!==e&&t!==t}function pi(e,t){return e>t}function fi(e){return gi(e)&&cr.call(e,"callee")&&(!Tr.call(e,"callee")||"[object Arguments]"==hr.call(e))}function mi(e){return null!=e&&Si(oo(e))&&!Ei(e)}function gi(e){return bi(e)&&mi(e)}function vi(e){return bi(e)?"[object Error]"==hr.call(e)||"string"==typeof e.message&&"string"==typeof e.name:!1}function Ei(e){return e=yi(e)?hr.call(e):"","[object Function]"==e||"[object GeneratorFunction]"==e}function _i(e){return"number"==typeof e&&e==Pi(e)}function Si(e){return"number"==typeof e&&e>-1&&0==e%1&&9007199254740991>=e}function yi(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function bi(e){return!!e&&"object"==typeof e}function Ci(e){return null==e?!1:Ei(e)?fr.test(ur.call(e)):bi(e)&&(U(e)?fr:Se).test(e)}function Ii(e){return"number"==typeof e||bi(e)&&"[object Number]"==hr.call(e)}function Ti(e){return!bi(e)||"[object Object]"!=hr.call(e)||U(e)?!1:(e=yr(e),null===e?!0:(e=e.constructor,"function"==typeof e&&e instanceof e&&ur.call(e)==dr))}function Oi(e){return yi(e)&&"[object RegExp]"==hr.call(e)}function wi(e){return"string"==typeof e||!Ko(e)&&bi(e)&&"[object String]"==hr.call(e)}function Ni(e){return"symbol"==typeof e||bi(e)&&"[object Symbol]"==hr.call(e)}function ki(e){return bi(e)&&Si(e.length)&&!!Be[hr.call(e)]}function Di(e,t){return t>e}function Mi(e){if(!e)return[];if(mi(e))return wi(e)?e.match(De):$t(e);if(Cr&&e[Cr])return W(e[Cr]());var t=kn(e);return("[object Map]"==t?H:"[object Set]"==t?G:Gi)(e)}function Pi(e){if(!e)return 0===e?e:0;if(e=xi(e),e===Y||e===-Y)return 1.7976931348623157e308*(0>e?-1:1);var t=e%1;return e===e?t?e-t:e:0}function Li(e){return e?it(Pi(e),0,4294967295):0}function xi(e){if(yi(e)&&(e=Ei(e.valueOf)?e.valueOf():e,e=yi(e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;e=e.replace(de,"");var t=_e.test(e);return t||ye.test(e)?je(e.slice(2),t?2:8):Ee.test(e)?Z:+e}function Ri(e){return en(e,Hi(e))}function Bi(e){if("string"==typeof e)return e;if(null==e)return"";if(Ni(e))return qr?qr.call(e):"";var t=e+"";return"0"==t&&1/e==-Y?"-0":t}function Fi(e,t,n){return e=null==e?Q:mt(e,t),e===Q?n:e}function Ui(e,t){return Dn(e,t,gt)}function Vi(e,t){return Dn(e,t,vt)}function Wi(e){var t=Vn(e);if(!t&&!mi(e))return Pr(Object(e));var n,i=xn(e),r=!!i,i=i||[],o=i.length;for(n in e)!gt(e,n)||r&&("length"==n||V(n,o))||t&&"constructor"==n||i.push(n);return i}function Hi(e){for(var t=-1,n=Vn(e),i=It(e),r=i.length,o=xn(e),a=!!o,o=o||[],s=o.length;++t<r;){var l=i[t];a&&("length"==l||V(l,s))||"constructor"==l&&(n||!cr.call(e,l))||o.push(l)}return o}function Ki(e){return w(e,Wi(e))}function Gi(e){return e?k(e,Wi(e)):[]}function ji(e){return ua(Bi(e).toLowerCase())}function zi(e){return(e=Bi(e))&&e.replace(Ce,x).replace(ke,"")}function Ji(e,t){e=Bi(e),t=Pi(t);var n="";if(!e||1>t||t>9007199254740991)return n;do t%2&&(n+=e),t=kr(t/2),e+=e;while(t);return n}function Qi(e,t,n){return e=Bi(e),t=n?Q:t,t===Q&&(t=xe.test(e)?Le:Pe),e.match(t)||[]}function Yi(e){return function(){return e}}function Zi(e){return e}function qi(e){return Ct("function"==typeof e?e:rt(e,!0))}function Xi(e,t,n){var i=Wi(t),r=ft(t,i);null!=n||yi(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=ft(t,Wi(t)));var o=yi(n)&&"chain"in n?n.chain:!0,a=Ei(e);return u(r,function(n){var i=t[n];e[n]=i,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=$t(this.__actions__)).push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,f([this.value()],arguments))})}),e}function $i(){}function er(e){return Bn(e)?Pt(e):Lt(e)}function tr(e){return e&&e.length?T(e,Zi):0}e=e?$e.defaults({},e,$e.pick(Xe,Re)):Xe;var nr=e.Date,ir=e.Error,rr=e.Math,or=e.RegExp,ar=e.TypeError,sr=e.Array.prototype,lr=e.Object.prototype,ur=e.Function.prototype.toString,cr=lr.hasOwnProperty,Ar=0,dr=ur.call(Object),hr=lr.toString,pr=Xe._,fr=or("^"+ur.call(cr).replace(ce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mr=Qe?e.Buffer:Q,gr=e.Reflect,vr=e.Symbol,Er=e.Uint8Array,_r=e.clearTimeout,Sr=gr?gr.f:Q,yr=Object.getPrototypeOf,br=Object.getOwnPropertySymbols,Cr="symbol"==typeof(Cr=vr&&vr.iterator)?Cr:Q,Ir=Object.create,Tr=lr.propertyIsEnumerable,Or=e.setTimeout,wr=sr.splice,Nr=rr.ceil,kr=rr.floor,Dr=e.isFinite,Mr=sr.join,Pr=Object.keys,Lr=rr.max,xr=rr.min,Rr=e.parseInt,Br=rr.random,Fr=sr.reverse,Ur=wn(e,"Map"),Vr=wn(e,"Set"),Wr=wn(e,"WeakMap"),Hr=wn(Object,"create"),Kr=Wr&&new Wr,Gr=!Tr.call({valueOf:1},"valueOf"),jr={},zr=Ur?ur.call(Ur):"",Jr=Vr?ur.call(Vr):"",Qr=Wr?ur.call(Wr):"",Yr=vr?vr.prototype:Q,Zr=Yr?Yr.valueOf:Q,qr=Yr?Yr.toString:Q;t.templateSettings={escape:re,evaluate:oe,interpolate:ae,variable:"",imports:{_:t}};var Xr=an(ht),$r=an(pt,!0),eo=sn(),to=sn(!0);Sr&&!Tr.call({valueOf:1},"valueOf")&&(It=function(e){return W(Sr(e))});var no=Kr?function(e,t){return Kr.set(e,t),e}:Zi,io=Vr&&2===new Vr([1,2]).size?function(e){return new Vr(e)}:$i,ro=Kr?function(e){return Kr.get(e)}:$i,oo=Pt("length"),ao=br||function(){return[]};(Ur&&"[object Map]"!=kn(new Ur)||Vr&&"[object Set]"!=kn(new Vr)||Wr&&"[object WeakMap]"!=kn(new Wr))&&(kn=function(e){var t=hr.call(e);if(e="[object Object]"==t?e.constructor:null,e="function"==typeof e?ur.call(e):"")switch(e){case zr:return"[object Map]";case Jr:return"[object Set]";case Qr:return"[object WeakMap]"}return t});var so=function(){var e=0,t=0;return function(n,i){var r=Lo(),o=16-(r-t);if(t=r,o>0){if(150<=++e)return n}else e=0;return no(n,i)}}(),lo=di(function(e,t){Ko(e)||(e=null==e?[]:[Object(e)]),t=At(t,1);for(var n=e,i=t,r=-1,o=n.length,a=-1,s=i.length,l=Array(o+s);++r<o;)l[r]=n[r];for(;++a<s;)l[r++]=i[a];return l}),uo=di(function(e,t){return gi(e)?lt(e,At(t,1,!0)):[]}),co=di(function(e,t){var n=Qn(t);return gi(n)&&(n=Q),gi(e)?lt(e,At(t,1,!0),Tn(n)):[]}),Ao=di(function(e,t){var n=Qn(t);return gi(n)&&(n=Q),gi(e)?lt(e,At(t,1,!0),Q,n):[]}),ho=di(function(e){var t=p(e,et);return t.length&&t[0]===e[0]?Et(t):[]}),po=di(function(e){var t=Qn(e),n=p(e,et);return t===Qn(n)?t=Q:n.pop(),n.length&&n[0]===e[0]?Et(n,Tn(t)):[]}),fo=di(function(e){var t=Qn(e),n=p(e,et);return t===Qn(n)?t=Q:n.pop(),n.length&&n[0]===e[0]?Et(n,Q,t):[]}),mo=di(Yn),go=di(function(e,t){t=p(At(t,1),String);var n=qe(e,t);return Rt(e,t.sort(L)),n}),vo=di(function(e){return Gt(At(e,1,!0))}),Eo=di(function(e){var t=Qn(e);return gi(t)&&(t=Q),Gt(At(e,1,!0),Tn(t))}),_o=di(function(e){var t=Qn(e);return gi(t)&&(t=Q),Gt(At(e,1,!0),Q,t)}),So=di(function(e,t){return gi(e)?lt(e,t):[]}),yo=di(function(e){return Jt(A(e,gi))}),bo=di(function(e){var t=Qn(e);return gi(t)&&(t=Q),Jt(A(e,gi),Tn(t))}),Co=di(function(e){var t=Qn(e);return gi(t)&&(t=Q),Jt(A(e,gi),Q,t)}),Io=di(qn),To=di(function(e){var t=e.length,t=t>1?e[t-1]:Q,t="function"==typeof t?(e.pop(),t):Q;return Xn(e,t)}),Oo=di(function(e){function t(t){return qe(t,e)}e=At(e,1);var n=e.length,o=n?e[0]:0,a=this.__wrapped__;return 1>=n&&!this.__actions__.length&&a instanceof r&&V(o)?(a=a.slice(o,+o+(n?1:0)),a.__actions__.push({func:ei,args:[t],thisArg:Q}),new i(a,this.__chain__).thru(function(e){return n&&!e.length&&e.push(Q),e})):this.thru(t)}),wo=rn(function(e,t,n){cr.call(e,n)?++e[n]:e[n]=1}),No=rn(function(e,t,n){cr.call(e,n)?e[n].push(t):e[n]=[t]}),ko=di(function(e,t,n){var i=-1,r="function"==typeof t,o=Bn(t),a=mi(e)?Array(e.length):[];return Xr(e,function(e){var l=r?t:o&&null!=e?e[t]:Q;a[++i]=l?s(l,e,n):St(e,t,n)}),a}),Do=rn(function(e,t,n){e[n]=t}),Mo=rn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Po=di(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Rn(e,t[0],t[1])?t=[]:n>2&&Rn(t[0],t[1],t[2])&&(t.length=1),kt(e,At(t,1),[])}),Lo=nr.now,xo=di(function(e,t,n){var i=1;if(n.length)var r=K(n,Nn(xo)),i=32|i;return yn(e,i,t,n,r)}),Ro=di(function(e,t,n){var i=3;if(n.length)var r=K(n,Nn(Ro)),i=32|i;return yn(t,i,e,n,r)}),Bo=di(function(e,t){return st(e,1,t)}),Fo=di(function(e,t,n){return st(e,xi(t)||0,n)}),Uo=di(function(e,t){t=p(At(t,1),Tn());var n=t.length;return di(function(i){for(var r=-1,o=xr(i.length,n);++r<o;)i[r]=t[r].call(this,i[r]);return s(e,this,i)})}),Vo=di(function(e,t){var n=K(t,Nn(Vo));return yn(e,32,Q,t,n)}),Wo=di(function(e,t){var n=K(t,Nn(Wo));return yn(e,64,Q,t,n)}),Ho=di(function(e,t){return yn(e,256,Q,Q,Q,At(t,1))}),Ko=Array.isArray,Go=mr?function(e){return e instanceof mr}:Yi(!1),jo=on(function(e,t){if(Gr||Vn(t)||mi(t))en(t,Wi(t),e);else for(var n in t)cr.call(t,n)&&Je(e,n,t[n])}),zo=on(function(e,t){if(Gr||Vn(t)||mi(t))en(t,Hi(t),e);else for(var n in t)Je(e,n,t[n])}),Jo=on(function(e,t,n,i){tn(t,Hi(t),e,i)}),Qo=on(function(e,t,n,i){tn(t,Wi(t),e,i)}),Yo=di(function(e,t){return qe(e,At(t,1))}),Zo=di(function(e){return e.push(Q,Ke),s(Jo,Q,e)}),qo=di(function(e){return e.push(Q,Wn),s(na,Q,e)}),Xo=fn(function(e,t,n){e[t]=n},Yi(Zi)),$o=fn(function(e,t,n){cr.call(e,t)?e[t].push(n):e[t]=[n]},Tn),ea=di(St),ta=on(function(e,t,n){Nt(e,t,n)}),na=on(function(e,t,n,i){Nt(e,t,n,i)}),ia=di(function(e,t){return null==e?{}:(t=p(At(t,1),String),Dt(e,lt(Hi(e),t)))}),ra=di(function(e,t){return null==e?{}:Dt(e,At(t,1))}),oa=cn(function(e,t,n){return t=t.toLowerCase(),e+(n?ji(t):t)}),aa=cn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),sa=cn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),la=un("toLowerCase"),ua=un("toUpperCase"),ca=cn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Aa=cn(function(e,t,n){return e+(n?" ":"")+ji(t)}),da=cn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),ha=di(function(e,t){try{return s(e,Q,t)}catch(n){return vi(n)?n:new ir(n);
}}),pa=di(function(e,t){return u(At(t,1),function(t){e[t]=xo(e[t],e)}),e}),fa=hn(),ma=hn(!0),ga=di(function(e,t){return function(n){return St(n,e,t)}}),va=di(function(e,t){return function(n){return St(e,n,t)}}),Ea=mn(p),_a=mn(c),Sa=mn(v),ya=En(),ba=En(!0),Ca=Sn("ceil"),Ia=Sn("floor"),Ta=Sn("round");return t.prototype=n.prototype,t.prototype.constructor=t,i.prototype=at(n.prototype),i.prototype.constructor=i,r.prototype=at(n.prototype),r.prototype.constructor=r,P.prototype=Hr?Hr(null):lr,be.prototype.clear=function(){this.__data__={hash:new P,map:Ur?new Ur:[],string:new P}},be.prototype["delete"]=function(e){var t=this.__data__;return Fn(e)?(t="string"==typeof e?t.string:t.hash,e=(Hr?t[e]!==Q:cr.call(t,e))&&delete t[e]):e=Ur?t.map["delete"](e):Ue(t.map,e),e},be.prototype.get=function(e){var t=this.__data__;return Fn(e)?(t="string"==typeof e?t.string:t.hash,Hr?(e=t[e],e="__lodash_hash_undefined__"===e?Q:e):e=cr.call(t,e)?t[e]:Q):e=Ur?t.map.get(e):Ve(t.map,e),e},be.prototype.has=function(e){var t=this.__data__;return Fn(e)?(t="string"==typeof e?t.string:t.hash,e=Hr?t[e]!==Q:cr.call(t,e)):e=Ur?t.map.has(e):-1<We(t.map,e),e},be.prototype.set=function(e,t){var n=this.__data__;return Fn(e)?("string"==typeof e?n.string:n.hash)[e]=Hr&&t===Q?"__lodash_hash_undefined__":t:Ur?n.map.set(e,t):He(n.map,e,t),this},Oe.prototype.push=function(e){var t=this.__data__;Fn(e)?(t=t.__data__,("string"==typeof e?t.string:t.hash)[e]="__lodash_hash_undefined__"):t.set(e,"__lodash_hash_undefined__")},Ne.prototype.clear=function(){this.__data__={array:[],map:null}},Ne.prototype["delete"]=function(e){var t=this.__data__,n=t.array;return n?Ue(n,e):t.map["delete"](e)},Ne.prototype.get=function(e){var t=this.__data__,n=t.array;return n?Ve(n,e):t.map.get(e)},Ne.prototype.has=function(e){var t=this.__data__,n=t.array;return n?-1<We(n,e):t.map.has(e)},Ne.prototype.set=function(e,t){var n=this.__data__,i=n.array;return i&&(199>i.length?He(i,e,t):(n.array=null,n.map=new be(i))),(n=n.map)&&n.set(e,t),this},Ai.Cache=be,t.after=function(e,t){if("function"!=typeof t)throw new ar("Expected a function");return e=Pi(e),function(){return 1>--e?t.apply(this,arguments):void 0}},t.ary=ai,t.assign=jo,t.assignIn=zo,t.assignInWith=Jo,t.assignWith=Qo,t.at=Yo,t.before=si,t.bind=xo,t.bindAll=pa,t.bindKey=Ro,t.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ko(e)?e:[e]},t.chain=$n,t.chunk=function(e,t){t=Lr(Pi(t),0);var n=e?e.length:0;if(!n||1>t)return[];for(var i=0,r=0,o=Array(Nr(n/t));n>i;)o[r++]=Ut(e,i,i+=t);return o},t.compact=function(e){for(var t=-1,n=e?e.length:0,i=0,r=[];++t<n;){var o=e[t];o&&(r[i++]=o)}return r},t.concat=lo,t.cond=function(e){var t=e?e.length:0,n=Tn();return e=t?p(e,function(e){if("function"!=typeof e[1])throw new ar("Expected a function");return[n(e[0]),e[1]]}):[],di(function(n){for(var i=-1;++i<t;){var r=e[i];if(s(r[0],this,n))return s(r[1],this,n)}})},t.conforms=function(e){return ot(rt(e,!0))},t.constant=Yi,t.countBy=wo,t.create=function(e,t){var n=at(e);return t?Ze(n,t):n},t.curry=li,t.curryRight=ui,t.debounce=ci,t.defaults=Zo,t.defaultsDeep=qo,t.defer=Bo,t.delay=Fo,t.difference=uo,t.differenceBy=co,t.differenceWith=Ao,t.drop=jn,t.dropRight=zn,t.dropRightWhile=function(e,t){return e&&e.length?jt(e,Tn(t,3),!0,!0):[]},t.dropWhile=function(e,t){return e&&e.length?jt(e,Tn(t,3),!0):[]},t.fill=function(e,t,n,i){var r=e?e.length:0;if(!r)return[];for(n&&"number"!=typeof n&&Rn(e,t,n)&&(n=0,i=r),r=e.length,n=Pi(n),0>n&&(n=-n>r?0:r+n),i=i===Q||i>r?r:Pi(i),0>i&&(i+=r),i=n>i?0:Li(i);i>n;)e[n++]=t;return e},t.filter=function(e,t){return(Ko(e)?A:ct)(e,Tn(t,3))},t.flatMap=function(e,t){return At(ri(e,t),1)},t.flatten=function(e){return e&&e.length?At(e,1):[]},t.flattenDeep=function(e){return e&&e.length?At(e,Y):[]},t.flattenDepth=function(e,t){return e&&e.length?(t=t===Q?1:Pi(t),At(e,t)):[]},t.flip=function(e){return yn(e,512)},t.flow=fa,t.flowRight=ma,t.fromPairs=function(e){for(var t=-1,n=e?e.length:0,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},t.functions=function(e){return null==e?[]:ft(e,Wi(e))},t.functionsIn=function(e){return null==e?[]:ft(e,Hi(e))},t.groupBy=No,t.initial=function(e){return zn(e,1)},t.intersection=ho,t.intersectionBy=po,t.intersectionWith=fo,t.invert=Xo,t.invertBy=$o,t.invokeMap=ko,t.iteratee=qi,t.keyBy=Do,t.keys=Wi,t.keysIn=Hi,t.map=ri,t.mapKeys=function(e,t){var n={};return t=Tn(t,3),ht(e,function(e,i,r){n[t(e,i,r)]=e}),n},t.mapValues=function(e,t){var n={};return t=Tn(t,3),ht(e,function(e,i,r){n[i]=t(e,i,r)}),n},t.matches=function(e){return Ot(rt(e,!0))},t.matchesProperty=function(e,t){return wt(e,rt(t,!0))},t.memoize=Ai,t.merge=ta,t.mergeWith=na,t.method=ga,t.methodOf=va,t.mixin=Xi,t.negate=function(e){if("function"!=typeof e)throw new ar("Expected a function");return function(){return!e.apply(this,arguments)}},t.nthArg=function(e){return e=Pi(e),function(){return arguments[e]}},t.omit=ia,t.omitBy=function(e,t){return t=Tn(t),Mt(e,function(e,n){return!t(e,n)})},t.once=function(e){return si(2,e)},t.orderBy=function(e,t,n,i){return null==e?[]:(Ko(t)||(t=null==t?[]:[t]),n=i?Q:n,Ko(n)||(n=null==n?[]:[n]),kt(e,t,n))},t.over=Ea,t.overArgs=Uo,t.overEvery=_a,t.overSome=Sa,t.partial=Vo,t.partialRight=Wo,t.partition=Mo,t.pick=ra,t.pickBy=function(e,t){return null==e?{}:Mt(e,Tn(t))},t.property=er,t.propertyOf=function(e){return function(t){return null==e?Q:mt(e,t)}},t.pull=mo,t.pullAll=Yn,t.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?xt(e,t,Tn(n)):e},t.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?xt(e,t,Q,n):e},t.pullAt=go,t.range=ya,t.rangeRight=ba,t.rearg=Ho,t.reject=function(e,t){var n=Ko(e)?A:ct;return t=Tn(t,3),n(e,function(e,n,i){return!t(e,n,i)})},t.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=Tn(t,3);++i<o;){var a=e[i];t(a,i,e)&&(n.push(a),r.push(i))}return Rt(e,r),n},t.rest=di,t.reverse=Zn,t.sampleSize=oi,t.set=function(e,t,n){return null==e?e:Ft(e,t,n)},t.setWith=function(e,t,n,i){return i="function"==typeof i?i:Q,null==e?e:Ft(e,t,n,i)},t.shuffle=function(e){return oi(e,4294967295)},t.slice=function(e,t,n){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Rn(e,t,n)?(t=0,n=i):(t=null==t?0:Pi(t),n=n===Q?i:Pi(n)),Ut(e,t,n)):[]},t.sortBy=Po,t.sortedUniq=function(e){return e&&e.length?Kt(e):[]},t.sortedUniqBy=function(e,t){return e&&e.length?Kt(e,Tn(t)):[]},t.split=function(e,t,n){return Bi(e).split(t,n)},t.spread=function(e,t){if("function"!=typeof e)throw new ar("Expected a function");return t=t===Q?0:Lr(Pi(t),0),di(function(n){var i=n[t];return n=n.slice(0,t),i&&f(n,i),s(e,this,n)})},t.tail=function(e){return jn(e,1)},t.take=function(e,t,n){return e&&e.length?(t=n||t===Q?1:Pi(t),Ut(e,0,0>t?0:t)):[]},t.takeRight=function(e,t,n){var i=e?e.length:0;return i?(t=n||t===Q?1:Pi(t),t=i-t,Ut(e,0>t?0:t,i)):[]},t.takeRightWhile=function(e,t){return e&&e.length?jt(e,Tn(t,3),!1,!0):[]},t.takeWhile=function(e,t){return e&&e.length?jt(e,Tn(t,3)):[]},t.tap=function(e,t){return t(e),e},t.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new ar("Expected a function");return yi(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),ci(e,t,{leading:i,maxWait:t,trailing:r})},t.thru=ei,t.toArray=Mi,t.toPairs=Ki,t.toPairsIn=function(e){return w(e,Hi(e))},t.toPath=function(e){return Ko(e)?p(e,String):Kn(e)},t.toPlainObject=Ri,t.transform=function(e,t,n){var i=Ko(e)||ki(e);if(t=Tn(t,4),null==n)if(i||yi(e)){var r=e.constructor;n=i?Ko(e)?new r:[]:Ei(r)?at(yr(e)):{}}else n={};return(i?u:ht)(e,function(e,i,r){return t(n,e,i,r)}),n},t.unary=function(e){return ai(e,1)},t.union=vo,t.unionBy=Eo,t.unionWith=_o,t.uniq=function(e){return e&&e.length?Gt(e):[]},t.uniqBy=function(e,t){return e&&e.length?Gt(e,Tn(t)):[]},t.uniqWith=function(e,t){return e&&e.length?Gt(e,Q,t):[]},t.unset=function(e,t){var n;if(null==e)n=!0;else{n=e;var i=t,i=Bn(i,n)?[i+""]:nt(i);n=Hn(n,i),i=Qn(i),n=null!=n&&Ui(n,i)?delete n[i]:!0}return n},t.unzip=qn,t.unzipWith=Xn,t.update=function(e,t,n){return null==e?e:Ft(e,t,tt(n)(mt(e,t)),void 0)},t.updateWith=function(e,t,n,i){return i="function"==typeof i?i:Q,null!=e&&(e=Ft(e,t,tt(n)(mt(e,t)),i)),e},t.values=Gi,t.valuesIn=function(e){return null==e?[]:k(e,Hi(e))},t.without=So,t.words=Qi,t.wrap=function(e,t){return t=null==t?Zi:t,Vo(t,e)},t.xor=yo,t.xorBy=bo,t.xorWith=Co,t.zip=Io,t.zipObject=function(e,t){return Qt(e||[],t||[],Je)},t.zipObjectDeep=function(e,t){return Qt(e||[],t||[],Ft)},t.zipWith=To,t.extend=zo,t.extendWith=Jo,Xi(t,t),t.add=function(e,t){var n;return e===Q&&t===Q?0:(e!==Q&&(n=e),t!==Q&&(n=n===Q?t:n+t),n)},t.attempt=ha,t.camelCase=oa,t.capitalize=ji,t.ceil=Ca,t.clamp=function(e,t,n){return n===Q&&(n=t,t=Q),n!==Q&&(n=xi(n),n=n===n?n:0),t!==Q&&(t=xi(t),t=t===t?t:0),it(xi(e),t,n)},t.clone=function(e){return rt(e,!1,!0)},t.cloneDeep=function(e){return rt(e,!0,!0)},t.cloneDeepWith=function(e,t){return rt(e,!0,!0,t)},t.cloneWith=function(e,t){return rt(e,!1,!0,t)},t.deburr=zi,t.endsWith=function(e,t,n){e=Bi(e),t="string"==typeof t?t:t+"";var i=e.length;return n=n===Q?i:it(Pi(n),0,i),n-=t.length,n>=0&&e.indexOf(t,n)==n},t.eq=hi,t.escape=function(e){return(e=Bi(e))&&ie.test(e)?e.replace(te,R):e},t.escapeRegExp=function(e){return(e=Bi(e))&&Ae.test(e)?e.replace(ce,"\\$&"):e},t.every=function(e,t,n){var i=Ko(e)?c:ut;return n&&Rn(e,t,n)&&(t=Q),i(e,Tn(t,3))},t.find=function(e,t){if(t=Tn(t,3),Ko(e)){var n=S(e,t);return n>-1?e[n]:Q}return _(e,t,Xr)},t.findIndex=function(e,t){return e&&e.length?S(e,Tn(t,3)):-1},t.findKey=function(e,t){return _(e,Tn(t,3),ht,!0)},t.findLast=function(e,t){if(t=Tn(t,3),Ko(e)){var n=S(e,t,!0);return n>-1?e[n]:Q}return _(e,t,$r)},t.findLastIndex=function(e,t){return e&&e.length?S(e,Tn(t,3),!0):-1},t.findLastKey=function(e,t){return _(e,Tn(t,3),pt,!0)},t.floor=Ia,t.forEach=ni,t.forEachRight=ii,t.forIn=function(e,t){return null==e?e:eo(e,tt(t),Hi)},t.forInRight=function(e,t){return null==e?e:to(e,tt(t),Hi)},t.forOwn=function(e,t){return e&&ht(e,tt(t))},t.forOwnRight=function(e,t){return e&&pt(e,tt(t))},t.get=Fi,t.gt=pi,t.gte=function(e,t){return e>=t},t.has=Ui,t.hasIn=Vi,t.head=Jn,t.identity=Zi,t.includes=function(e,t,n,i){return e=mi(e)?e:Gi(e),n=n&&!i?Pi(n):0,i=e.length,0>n&&(n=Lr(i+n,0)),wi(e)?i>=n&&-1<e.indexOf(t,n):!!i&&-1<y(e,t,n)},t.indexOf=function(e,t,n){var i=e?e.length:0;return i?(n=Pi(n),0>n&&(n=Lr(i+n,0)),y(e,t,n)):-1},t.inRange=function(e,t,n){return t=xi(t)||0,n===Q?(n=t,t=0):n=xi(n)||0,e=xi(e),e>=xr(t,n)&&e<Lr(t,n)},t.invoke=ea,t.isArguments=fi,t.isArray=Ko,t.isArrayBuffer=function(e){return bi(e)&&"[object ArrayBuffer]"==hr.call(e)},t.isArrayLike=mi,t.isArrayLikeObject=gi,t.isBoolean=function(e){return!0===e||!1===e||bi(e)&&"[object Boolean]"==hr.call(e)},t.isBuffer=Go,t.isDate=function(e){return bi(e)&&"[object Date]"==hr.call(e)},t.isElement=function(e){return!!e&&1===e.nodeType&&bi(e)&&!Ti(e)},t.isEmpty=function(e){if(mi(e)&&(Ko(e)||wi(e)||Ei(e.splice)||fi(e)))return!e.length;for(var t in e)if(cr.call(e,t))return!1;return!0},t.isEqual=function(e,t){return yt(e,t)},t.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:Q)?n(e,t):Q;return i===Q?yt(e,t,n):!!i},t.isError=vi,t.isFinite=function(e){return"number"==typeof e&&Dr(e)},t.isFunction=Ei,t.isInteger=_i,t.isLength=Si,t.isMap=function(e){return bi(e)&&"[object Map]"==kn(e)},t.isMatch=function(e,t){return e===t||bt(e,t,On(t))},t.isMatchWith=function(e,t,n){return n="function"==typeof n?n:Q,bt(e,t,On(t),n)},t.isNaN=function(e){return Ii(e)&&e!=+e},t.isNative=Ci,t.isNil=function(e){return null==e},t.isNull=function(e){return null===e},t.isNumber=Ii,t.isObject=yi,t.isObjectLike=bi,t.isPlainObject=Ti,t.isRegExp=Oi,t.isSafeInteger=function(e){return _i(e)&&e>=-9007199254740991&&9007199254740991>=e},t.isSet=function(e){return bi(e)&&"[object Set]"==kn(e)},t.isString=wi,t.isSymbol=Ni,t.isTypedArray=ki,t.isUndefined=function(e){return e===Q},t.isWeakMap=function(e){return bi(e)&&"[object WeakMap]"==kn(e)},t.isWeakSet=function(e){return bi(e)&&"[object WeakSet]"==hr.call(e)},t.join=function(e,t){return e?Mr.call(e,t):""},t.kebabCase=aa,t.last=Qn,t.lastIndexOf=function(e,t,n){var i=e?e.length:0;if(!i)return-1;var r=i;if(n!==Q&&(r=Pi(n),r=(0>r?Lr(i+r,0):xr(r,i-1))+1),t!==t)return F(e,r,!0);for(;r--;)if(e[r]===t)return r;return-1},t.lowerCase=sa,t.lowerFirst=la,t.lt=Di,t.lte=function(e,t){return t>=e},t.max=function(e){return e&&e.length?E(e,Zi,pi):Q},t.maxBy=function(e,t){return e&&e.length?E(e,Tn(t),pi):Q},t.mean=function(e){return tr(e)/(e?e.length:0)},t.min=function(e){return e&&e.length?E(e,Zi,Di):Q},t.minBy=function(e,t){return e&&e.length?E(e,Tn(t),Di):Q},t.noConflict=function(){return Xe._===this&&(Xe._=pr),this},t.noop=$i,t.now=Lo,t.pad=function(e,t,n){e=Bi(e),t=Pi(t);var i=j(e);return t&&t>i?(i=(t-i)/2,t=kr(i),i=Nr(i),gn("",t,n)+e+gn("",i,n)):e},t.padEnd=function(e,t,n){return e=Bi(e),e+gn(e,t,n)},t.padStart=function(e,t,n){return e=Bi(e),gn(e,t,n)+e},t.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),e=Bi(e).replace(de,""),Rr(e,t||(ve.test(e)?16:10))},t.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Rn(e,t,n)&&(t=n=Q),n===Q&&("boolean"==typeof t?(n=t,t=Q):"boolean"==typeof e&&(n=e,e=Q)),e===Q&&t===Q?(e=0,t=1):(e=xi(e)||0,t===Q?(t=e,e=0):t=xi(t)||0),e>t){var i=e;e=t,t=i}return n||e%1||t%1?(n=Br(),xr(e+n*(t-e+Ge("1e-"+((n+"").length-1))),t)):Bt(e,t)},t.reduce=function(e,t,n){var i=Ko(e)?m:C,r=3>arguments.length;return i(e,Tn(t,4),n,r,Xr)},t.reduceRight=function(e,t,n){var i=Ko(e)?g:C,r=3>arguments.length;return i(e,Tn(t,4),n,r,$r)},t.repeat=Ji,t.replace=function(){var e=arguments,t=Bi(e[0]);return 3>e.length?t:t.replace(e[1],e[2])},t.result=function(e,t,n){if(Bn(t,e))i=null==e?Q:e[t];else{t=nt(t);var i=Fi(e,t);e=Hn(e,t)}return i===Q&&(i=n),Ei(i)?i.call(e):i},t.round=Ta,t.runInContext=J,t.sample=function(e){e=mi(e)?e:Gi(e);var t=e.length;return t>0?e[Bt(0,t-1)]:Q},t.size=function(e){if(null==e)return 0;if(mi(e)){var t=e.length;return t&&wi(e)?j(e):t}return Wi(e).length},t.snakeCase=ca,t.some=function(e,t,n){var i=Ko(e)?v:Vt;return n&&Rn(e,t,n)&&(t=Q),i(e,Tn(t,3))},t.sortedIndex=function(e,t){return Wt(e,t)},t.sortedIndexBy=function(e,t,n){return Ht(e,t,Tn(n))},t.sortedIndexOf=function(e,t){var n=e?e.length:0;if(n){var i=Wt(e,t);if(n>i&&hi(e[i],t))return i}return-1},t.sortedLastIndex=function(e,t){return Wt(e,t,!0)},t.sortedLastIndexBy=function(e,t,n){return Ht(e,t,Tn(n),!0)},t.sortedLastIndexOf=function(e,t){if(e&&e.length){var n=Wt(e,t,!0)-1;if(hi(e[n],t))return n}return-1},t.startCase=Aa,t.startsWith=function(e,t,n){return e=Bi(e),n=it(Pi(n),0,e.length),e.lastIndexOf(t,n)==n},t.subtract=function(e,t){var n;return e===Q&&t===Q?0:(e!==Q&&(n=e),t!==Q&&(n=n===Q?t:n-t),n)},t.sum=tr,t.sumBy=function(e,t){return e&&e.length?T(e,Tn(t)):0},t.template=function(e,n,i){var r=t.templateSettings;i&&Rn(e,n,i)&&(n=Q),e=Bi(e),n=Jo({},n,r,Ke),i=Jo({},n.imports,r.imports,Ke);var o,a,s=Wi(i),l=k(i,s),u=0;i=n.interpolate||Ie;var c="__p+='";i=or((n.escape||Ie).source+"|"+i.source+"|"+(i===ae?me:Ie).source+"|"+(n.evaluate||Ie).source+"|$","g");var A="sourceURL"in n?"//# sourceURL="+n.sourceURL+"\n":"";if(e.replace(i,function(t,n,i,r,s,l){return i||(i=r),c+=e.slice(u,l).replace(Te,B),n&&(o=!0,c+="'+__e("+n+")+'"),s&&(a=!0,c+="';"+s+";\n__p+='"),i&&(c+="'+((__t=("+i+"))==null?'':__t)+'"),u=l+t.length,t}),c+="';",(n=n.variable)||(c="with(obj){"+c+"}"),c=(a?c.replace(q,""):c).replace(X,"$1").replace($,"$1;"),c="function("+(n||"obj")+"){"+(n?"":"obj||(obj={});")+"var __t,__p=''"+(o?",__e=_.escape":"")+(a?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+c+"return __p}",n=ha(function(){return Function(s,A+"return "+c).apply(Q,l)}),n.source=c,vi(n))throw n;return n},t.times=function(e,t){if(e=Pi(e),1>e||e>9007199254740991)return[];var n=4294967295,i=xr(e,4294967295);for(t=tt(t),e-=4294967295,i=O(i,t);++n<e;)t(n);return i},t.toInteger=Pi,t.toLength=Li,t.toLower=function(e){return Bi(e).toLowerCase()},t.toNumber=xi,t.toSafeInteger=function(e){return it(Pi(e),-9007199254740991,9007199254740991)},t.toString=Bi,t.toUpper=function(e){return Bi(e).toUpperCase()},t.trim=function(e,t,n){return(e=Bi(e))?n||t===Q?e.replace(de,""):(t+="")?(e=e.match(De),t=t.match(De),e.slice(D(e,t),M(e,t)+1).join("")):e:e},t.trimEnd=function(e,t,n){return(e=Bi(e))?n||t===Q?e.replace(pe,""):(t+="")?(e=e.match(De),e.slice(0,M(e,t.match(De))+1).join("")):e:e},t.trimStart=function(e,t,n){return(e=Bi(e))?n||t===Q?e.replace(he,""):(t+="")?(e=e.match(De),e.slice(D(e,t.match(De))).join("")):e:e},t.truncate=function(e,t){var n=30,i="...";if(yi(t))var r="separator"in t?t.separator:r,n="length"in t?Pi(t.length):n,i="omission"in t?Bi(t.omission):i;e=Bi(e);var o=e.length;if(Me.test(e))var a=e.match(De),o=a.length;if(n>=o)return e;if(o=n-j(i),1>o)return i;if(n=a?a.slice(0,o).join(""):e.slice(0,o),r===Q)return n+i;if(a&&(o+=n.length-o),Oi(r)){if(e.slice(o).search(r)){var s=n;for(r.global||(r=or(r.source,Bi(ge.exec(r))+"g")),r.lastIndex=0;a=r.exec(s);)var l=a.index;n=n.slice(0,l===Q?o:l)}}else e.indexOf(r,o)!=o&&(r=n.lastIndexOf(r),r>-1&&(n=n.slice(0,r)));return n+i},t.unescape=function(e){return(e=Bi(e))&&ne.test(e)?e.replace(ee,z):e},t.uniqueId=function(e){var t=++Ar;return Bi(e)+t},t.upperCase=da,t.upperFirst=ua,t.each=ni,t.eachRight=ii,t.first=Jn,Xi(t,function(){var e={};return ht(t,function(n,i){cr.call(t.prototype,i)||(e[i]=n)}),e}(),{chain:!1}),t.VERSION="4.6.1",u("bind bindKey curry curryRight partial partialRight".split(" "),function(e){t[e].placeholder=t}),u(["drop","take"],function(e,t){r.prototype[e]=function(n){var i=this.__filtered__;if(i&&!t)return new r(this);n=n===Q?1:Lr(Pi(n),0);var o=this.clone();return i?o.__takeCount__=xr(n,o.__takeCount__):o.__views__.push({size:xr(n,4294967295),type:e+(0>o.__dir__?"Right":"")}),o},r.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),u(["filter","map","takeWhile"],function(e,t){var n=t+1,i=1==n||3==n;r.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Tn(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}}),u(["head","last"],function(e,t){var n="take"+(t?"Right":"");r.prototype[e]=function(){return this[n](1).value()[0]}}),u(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");r.prototype[e]=function(){return this.__filtered__?new r(this):this[n](1)}}),r.prototype.compact=function(){return this.filter(Zi)},r.prototype.find=function(e){return this.filter(e).head()},r.prototype.findLast=function(e){return this.reverse().find(e)},r.prototype.invokeMap=di(function(e,t){return"function"==typeof e?new r(this):this.map(function(n){return St(n,e,t)})}),r.prototype.reject=function(e){return e=Tn(e,3),this.filter(function(t){return!e(t)})},r.prototype.slice=function(e,t){e=Pi(e);var n=this;return n.__filtered__&&(e>0||0>t)?new r(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==Q&&(t=Pi(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},r.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},r.prototype.toArray=function(){return this.take(4294967295)},ht(r.prototype,function(e,n){var o=/^(?:filter|find|map|reject)|While$/.test(n),a=/^(?:head|last)$/.test(n),s=t[a?"take"+("last"==n?"Right":""):n],l=a||/^find/.test(n);s&&(t.prototype[n]=function(){function n(e){return e=s.apply(t,f([e],c)),a&&p?e[0]:e}var u=this.__wrapped__,c=a?[1]:arguments,A=u instanceof r,d=c[0],h=A||Ko(u);h&&o&&"function"==typeof d&&1!=d.length&&(A=h=!1);var p=this.__chain__,m=!!this.__actions__.length,d=l&&!p,A=A&&!m;return!l&&h?(u=A?u:new r(this),u=e.apply(u,c),u.__actions__.push({func:ei,args:[n],thisArg:Q}),new i(u,p)):d&&A?e.apply(this,c):(u=this.thru(n),d?a?u.value()[0]:u.value():u)})}),u("pop push shift sort splice unshift".split(" "),function(e){var n=sr[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return r&&!this.__chain__?n.apply(this.value(),e):this[i](function(t){return n.apply(t,e)})}}),ht(r.prototype,function(e,n){var i=t[n];if(i){var r=i.name+"";(jr[r]||(jr[r]=[])).push({name:n,func:i})}}),jr[pn(Q,2).name]=[{name:"wrapper",func:Q}],r.prototype.clone=function(){var e=new r(this.__wrapped__);return e.__actions__=$t(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=$t(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=$t(this.__views__),e},r.prototype.reverse=function(){if(this.__filtered__){var e=new r(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},r.prototype.value=function(){var e,t=this.__wrapped__.value(),n=this.__dir__,i=Ko(t),r=0>n,o=i?t.length:0;e=o;for(var a=this.__views__,s=0,l=-1,u=a.length;++l<u;){var c=a[l],A=c.size;switch(c.type){case"drop":s+=A;break;case"dropRight":e-=A;break;case"take":e=xr(e,s+A);break;case"takeRight":s=Lr(s,e-A)}}if(e={start:s,end:e},a=e.start,s=e.end,e=s-a,r=r?s:a-1,a=this.__iteratees__,s=a.length,l=0,u=xr(e,this.__takeCount__),!i||200>o||o==e&&u==e)return zt(t,this.__actions__);i=[];e:for(;e--&&u>l;){for(r+=n,o=-1,c=t[r];++o<s;){var d=a[o],A=d.type,d=(0,d.iteratee)(c);if(2==A)c=d;else if(!d){if(1==A)continue e;break e}}i[l++]=c}return i},t.prototype.at=Oo,t.prototype.chain=function(){return $n(this)},t.prototype.commit=function(){return new i(this.value(),this.__chain__)},t.prototype.flatMap=function(e){return this.map(e).flatten()},t.prototype.next=function(){this.__values__===Q&&(this.__values__=Mi(this.value()));var e=this.__index__>=this.__values__.length,t=e?Q:this.__values__[this.__index__++];return{done:e,value:t}},t.prototype.plant=function(e){for(var t,i=this;i instanceof n;){var r=Gn(i);r.__index__=0,r.__values__=Q,t?o.__wrapped__=r:t=r;var o=r,i=i.__wrapped__}return o.__wrapped__=e,t},t.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof r?(this.__actions__.length&&(e=new r(this)),e=e.reverse(),e.__actions__.push({func:ei,args:[Zn],thisArg:Q}),new i(e,this.__chain__)):this.thru(Zn)},t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=function(){return zt(this.__wrapped__,this.__actions__)},Cr&&(t.prototype[Cr]=ti),t}var Q,Y=1/0,Z=NaN,q=/\b__p\+='';/g,X=/\b(__p\+=)''\+/g,$=/(__e\(.*?\)|\b__t\))\+'';/g,ee=/&(?:amp|lt|gt|quot|#39|#96);/g,te=/[&<>"'`]/g,ne=RegExp(ee.source),ie=RegExp(te.source),re=/<%-([\s\S]+?)%>/g,oe=/<%([\s\S]+?)%>/g,ae=/<%=([\s\S]+?)%>/g,se=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,le=/^\w*$/,ue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,ce=/[\\^$.*+?()[\]{}|]/g,Ae=RegExp(ce.source),de=/^\s+|\s+$/g,he=/^\s+/,pe=/\s+$/,fe=/\\(\\)?/g,me=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ge=/\w*$/,ve=/^0x/i,Ee=/^[-+]0x[0-9a-f]+$/i,_e=/^0b[01]+$/i,Se=/^\[object .+?Constructor\]$/,ye=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,Ce=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ie=/($^)/,Te=/['\n\r\u2028\u2029\\]/g,Oe="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*",we="(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])"+Oe,Ne="(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]?|[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])",ke=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),De=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+Ne+Oe,"g"),Me=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),Pe=/[a-zA-Z0-9]+/g,Le=RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|\\d+",we].join("|"),"g"),xe=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Re="Array Buffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Reflect RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),Be={};Be["[object Float32Array]"]=Be["[object Float64Array]"]=Be["[object Int8Array]"]=Be["[object Int16Array]"]=Be["[object Int32Array]"]=Be["[object Uint8Array]"]=Be["[object Uint8ClampedArray]"]=Be["[object Uint16Array]"]=Be["[object Uint32Array]"]=!0,Be["[object Arguments]"]=Be["[object Array]"]=Be["[object ArrayBuffer]"]=Be["[object Boolean]"]=Be["[object Date]"]=Be["[object Error]"]=Be["[object Function]"]=Be["[object Map]"]=Be["[object Number]"]=Be["[object Object]"]=Be["[object RegExp]"]=Be["[object Set]"]=Be["[object String]"]=Be["[object WeakMap]"]=!1;var Fe={};Fe["[object Arguments]"]=Fe["[object Array]"]=Fe["[object ArrayBuffer]"]=Fe["[object Boolean]"]=Fe["[object Date]"]=Fe["[object Float32Array]"]=Fe["[object Float64Array]"]=Fe["[object Int8Array]"]=Fe["[object Int16Array]"]=Fe["[object Int32Array]"]=Fe["[object Map]"]=Fe["[object Number]"]=Fe["[object Object]"]=Fe["[object RegExp]"]=Fe["[object Set]"]=Fe["[object String]"]=Fe["[object Symbol]"]=Fe["[object Uint8Array]"]=Fe["[object Uint8ClampedArray]"]=Fe["[object Uint16Array]"]=Fe["[object Uint32Array]"]=!0,Fe["[object Error]"]=Fe["[object Function]"]=Fe["[object WeakMap]"]=!1;var Ue={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ve={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},We={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},He={"function":!0,object:!0},Ke={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ge=parseFloat,je=parseInt,ze=He[typeof t]&&t&&!t.nodeType?t:Q,Je=He[typeof e]&&e&&!e.nodeType?e:Q,Qe=Je&&Je.exports===ze?ze:Q,Ye=P(He[typeof self]&&self),Ze=P(He[typeof window]&&window),qe=P(He[typeof this]&&this),Xe=P(ze&&Je&&"object"==typeof r&&r)||Ze!==(qe&&qe.window)&&Ze||Ye||qe||Function("return this")(),$e=J();(Ze||Ye||{})._=$e,i=function(){return $e}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}).call(this)}).call(t,n(51)(e),function(){return this}())},function(e,t,n){function i(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new i.Cache,n}var r=n(457),o="Expected a function";i.Cache=r,e.exports=i},function(e,t,n){(function(t){"function"!=typeof Map||t&&t.env&&"true"===t.env.TEST_MAPORSIMILAR?e.exports=n(483):e.exports=Map}).call(t,n(22))},function(e,t){function n(){return this.list=[],this.lastItem=void 0,this.size=0,this}n.prototype.get=function(e){var t;return this.lastItem&&this.lastItem.key===e?this.lastItem.val:(t=this.indexOf(e),t>=0?(this.lastItem=this.list[t],this.list[t].val):void 0)},n.prototype.set=function(e,t){var n;return this.lastItem&&this.lastItem.key===e?(this.lastItem.val=t,this):(n=this.indexOf(e),n>=0?(this.lastItem=this.list[n],this.list[n].val=t,this):(this.lastItem={key:e,val:t},this.list.push(this.lastItem),this.size++,this))},n.prototype["delete"]=function(e){var t;return this.lastItem&&this.lastItem.key===e&&(this.lastItem=void 0),t=this.indexOf(e),t>=0?(this.size--,this.list.splice(t,1)[0]):void 0},n.prototype.has=function(e){var t;return this.lastItem&&this.lastItem.key===e?!0:(t=this.indexOf(e),t>=0?(this.lastItem=this.list[t],!0):!1)},n.prototype.forEach=function(e,t){var n;for(n=0;n<this.size;n++)e.call(t||this,this.list[n].val,this.list[n].key,this)},n.prototype.indexOf=function(e){var t;for(t=0;t<this.size;t++)if(this.list[t].key===e)return t;return-1},e.exports=n},function(e,t,n){function i(e,t){var n,i,r,o=e.length,a=t.length;for(i=0;o>i;i++){for(n=!0,r=0;a>r;r++)if(e[i][r].arg!==t[r].arg){n=!1;break}if(n)break}e.push(e.splice(i,1)[0])}function r(e){var t,n,i=e.length,r=e[i-1];for(r.cacheItem["delete"](r.arg),n=i-2;n>=0&&(r=e[n],t=r.cacheItem.get(r.arg),!t||!t.size);n--)r.cacheItem["delete"](r.arg)}var o=n(482);e.exports=function(e){var t=new o,n=[];return function(a){var s=function(){var l,u,c,A=t,d=arguments.length-1,h=Array(d+1),p=!0;for(c=0;d>c;c++)h[c]={cacheItem:A,arg:arguments[c]},A.has(arguments[c])?A=A.get(arguments[c]):(p=!1,l=new o,A.set(arguments[c],l),A=l);return p&&(A.has(arguments[d])?u=A.get(arguments[d]):p=!1),p||(u=a.apply(null,arguments),A.set(arguments[d],u)),e>0&&(h[d]={cacheItem:A,arg:arguments[d]},p?i(n,h):n.push(h),n.length>e&&r(n.shift())),s.wasMemoized=p,u};return s.limit=e,s.wasMemoized=!1,s.cache=t,s.lru=n,s}}},function(e,t){},function(e,t,n){"use strict";var i=n(27),r=n(491),o=n(492),a=n(490),s=n(638),l=n(487),u={"http:":80,"https:":443,"ftp:":21};e.exports=function(e,t){if(t=l({normalizeProtocol:!0,stripFragment:!0,stripWWW:!0},t),"string"!=typeof e)throw new TypeError("Expected a string");var n=0===e.indexOf("//");e=a(e.trim()).replace(/^\/\//,"http://");var c=i.parse(e);delete c.host,delete c.query,t.stripFragment&&delete c.hash;var A=u[c.protocol];Number(c.port)===A&&delete c.port,c.pathname=c.pathname.replace(/\/{2,}/,"/");var d=c.protocol+"//"+c.hostname,h=i.resolve(d,c.pathname);return c.pathname=h.replace(d,""),c.hostname=r.toUnicode(c.hostname).toLowerCase(),t.stripWWW&&(c.hostname=c.hostname.replace(/^www\./,"")),"?"===c.search&&delete c.search,c.search=o.stringify(s(o.parse(c.search))),c.search=decodeURIComponent(c.search),e=i.format(c),e=e.replace(/\/$/,""),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),e}},function(e,t){"use strict";function n(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function i(e){var t=Object.getOwnPropertyNames(e);return Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t.filter(function(t){return r.call(e,t)})}var r=Object.prototype.propertyIsEnumerable;e.exports=Object.assign||function(e,t){for(var r,o,a=n(e),s=1;s<arguments.length;s++){
r=arguments[s],o=i(Object(r));for(var l=0;l<o.length;l++)a[o[l]]=r[o[l]]}return a}},function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return r.exec(e).slice(1)};t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return t=n(i(t.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),o="/"===a(e,-1);return e=n(i(e.split("/"),function(e){return!!e}),!r).join("/"),e||r||(e="."),e&&o&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var r=i(e.split("/")),o=i(n.split("/")),a=Math.min(r.length,o.length),s=a,l=0;a>l;l++)if(r[l]!==o[l]){s=l;break}for(var u=[],l=s;l<r.length;l++)u.push("..");return u=u.concat(o.slice(s)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},t.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return 0>t&&(t=e.length+t),e.substr(t,n)}}).call(t,n(22))},function(e,t,n){(function(t){(function(){var n,i,r;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-r)/1e6},i=t.hrtime,n=function(){var e;return e=i(),1e9*e[0]+e[1]},r=n()):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,n(22))},function(e,t){"use strict";e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e=e.trim(),/^\.*\//.test(e)?e:e.replace(/^(?!(?:\w+:)?\/\/)/,"http://")}},function(e,t,n){var i;(function(e,r){!function(o){function a(e){throw RangeError(P[e])}function s(e,t){for(var n=e.length;n--;)e[n]=t(e[n]);return e}function l(e,t){return s(e.split(M),t).join(".")}function u(e){for(var t,n,i=[],r=0,o=e.length;o>r;)t=e.charCodeAt(r++),t>=55296&&56319>=t&&o>r?(n=e.charCodeAt(r++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--)):i.push(t);return i}function c(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=R(e>>>10&1023|55296),e=56320|1023&e),t+=R(e)}).join("")}function A(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:y}function d(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function h(e,t,n){var i=0;for(e=n?x(e/T):e>>1,e+=x(e/t);e>L*C>>1;i+=y)e=x(e/L);return x(i+(L+1)*e/(e+I))}function p(e){var t,n,i,r,o,s,l,u,d,p,f=[],m=e.length,g=0,v=w,E=O;for(n=e.lastIndexOf(N),0>n&&(n=0),i=0;n>i;++i)e.charCodeAt(i)>=128&&a("not-basic"),f.push(e.charCodeAt(i));for(r=n>0?n+1:0;m>r;){for(o=g,s=1,l=y;r>=m&&a("invalid-input"),u=A(e.charCodeAt(r++)),(u>=y||u>x((S-g)/s))&&a("overflow"),g+=u*s,d=E>=l?b:l>=E+C?C:l-E,!(d>u);l+=y)p=y-d,s>x(S/p)&&a("overflow"),s*=p;t=f.length+1,E=h(g-o,t,0==o),x(g/t)>S-v&&a("overflow"),v+=x(g/t),g%=t,f.splice(g++,0,v)}return c(f)}function f(e){var t,n,i,r,o,s,l,c,A,p,f,m,g,v,E,_=[];for(e=u(e),m=e.length,t=w,n=0,o=O,s=0;m>s;++s)f=e[s],128>f&&_.push(R(f));for(i=r=_.length,r&&_.push(N);m>i;){for(l=S,s=0;m>s;++s)f=e[s],f>=t&&l>f&&(l=f);for(g=i+1,l-t>x((S-n)/g)&&a("overflow"),n+=(l-t)*g,t=l,s=0;m>s;++s)if(f=e[s],t>f&&++n>S&&a("overflow"),f==t){for(c=n,A=y;p=o>=A?b:A>=o+C?C:A-o,!(p>c);A+=y)E=c-p,v=y-p,_.push(R(d(p+E%v,0))),c=x(E/v);_.push(R(d(c,0))),o=h(n,g,i==r),n=0,++i}++n,++t}return _.join("")}function m(e){return l(e,function(e){return k.test(e)?p(e.slice(4).toLowerCase()):e})}function g(e){return l(e,function(e){return D.test(e)?"xn--"+f(e):e})}var v="object"==typeof t&&t,E=("object"==typeof e&&e&&e.exports==v&&e,"object"==typeof r&&r);E.global!==E&&E.window!==E||(o=E);var _,S=2147483647,y=36,b=1,C=26,I=38,T=700,O=72,w=128,N="-",k=/^xn--/,D=/[^ -~]/,M=/\x2E|\u3002|\uFF0E|\uFF61/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=y-b,x=Math.floor,R=String.fromCharCode;_={version:"1.2.4",ucs2:{decode:u,encode:c},decode:p,encode:f,toASCII:g,toUnicode:m},i=function(){return _}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}(this)}).call(t,n(51)(e),function(){return this}())},function(e,t,n){"use strict";var i=n(639);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e){return"string"!=typeof e?{}:(e=e.trim().replace(/^(\?|#|&)/,""),e?e.split("&").reduce(function(e,t){var n=t.replace(/\+/g," ").split("="),i=n.shift(),r=n.length>0?n.join("="):void 0;return i=decodeURIComponent(i),r=void 0===r?null:decodeURIComponent(r),e.hasOwnProperty(i)?Array.isArray(e[i])?e[i].push(r):e[i]=[e[i],r]:e[i]=r,e},{}):{})},t.stringify=function(e){return e?Object.keys(e).sort().map(function(t){var n=e[t];return Array.isArray(n)?n.sort().map(function(e){return i(t)+"="+i(e)}).join("&"):i(t)+"="+i(n)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t,n){for(var i=n(489),r="undefined"==typeof window?{}:window,o=["moz","webkit"],a="AnimationFrame",s=r["request"+a],l=r["cancel"+a]||r["cancelRequest"+a],u=!0,c=0;c<o.length&&!s;c++)s=r[o[c]+"Request"+a],l=r[o[c]+"Cancel"+a]||r[o[c]+"CancelRequest"+a];if(!s||!l){u=!1;var A=0,d=0,h=[],p=1e3/60;s=function(e){if(0===h.length){var t=i(),n=Math.max(0,p-(t-A));A=n+t,setTimeout(function(){var e=h.slice(0);h.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(A)}catch(n){setTimeout(function(){throw n},0)}},Math.round(n))}return h.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<h.length;t++)h[t].handle===e&&(h[t].cancelled=!0)}}e.exports=function(e){return u?s.call(r,function(){try{e.apply(this,arguments)}catch(t){setTimeout(function(){throw t},0)}}):s.call(r,e)},e.exports.cancel=function(){l.apply(r,arguments)}},,function(e,t){e.exports='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n      <path d="M7.766 10.18l-.893.892c-.257.257-.602.4-.972.4s-.714-.143-.972-.4c-.536-.536-.536-1.41 0-1.945l.892-.893-1.06-1.06-.892.892c-1.12 1.118-1.12 2.948 0 4.067.56.56 1.296.838 2.033.838.738 0 1.475-.28 2.034-.838l.892-.892-1.06-1.06M7.234 6.82l.893-.892c.257-.257.603-.4.972-.4.37 0 .714.143.972.4.257.258.4.603.4.973s-.143.716-.4.973l-.892.892 1.06 1.06.893-.89c1.118-1.12 1.118-2.95 0-4.068-.56-.56-1.297-.838-2.034-.838-.738 0-1.475.278-2.034.837l-.892.892 1.06 1.06"/>\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="-186 188 26 26">\n  <path d="M-168 197.4l-1.4-1.4-3.6 3.6-3.6-3.6-1.4 1.4 3.6 3.6-3.6 3.6 1.4 1.4 3.6-3.6 3.6 3.6 1.4-1.4-3.6-3.6"/>\n</svg>'},function(e,t){e.exports='<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n	<path d="M17 13L9 7v12l8-6z"/>\n</svg>'},function(e,t){e.exports='<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n    <path d="M9 13l8-6v12l-8-6z"/>\n</svg>'},function(e,t){e.exports='<svg width="130" height="86" viewBox="0 0 130 86" xmlns="http://www.w3.org/2000/svg">\n  <g fill="none" fill-rule="evenodd">\n    <path opacity=".5" fill="#E1E1E1" d="M96.745 30.943l-1.545.812.295-1.72-1.25-1.22 1.727-.25.773-1.565.772 1.565 1.728.25-1.25 1.22.295 1.72"/>\n    <path opacity=".2" fill="#E1E1E1" d="M3.5 44.25l-2.057 1.082.393-2.29L.17 41.417l2.3-.334L3.5 39l1.03 2.084 2.3.334-1.666 1.623.393 2.292"/>\n    <path fill="#E1E1E1" d="M82.5 5.25l-2.057 1.082.393-2.29-1.665-1.624 2.3-.334L82.5 0l1.03 2.084 2.3.334-1.666 1.623.393 2.292"/>\n    <path opacity=".2" fill="#E1E1E1" d="M125.5 25.75l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L125.5 19l1.323 2.68 2.957.43-2.14 2.085.505 2.946"/>\n    <path fill="#E1E1E1" d="M111 76.5l-1.763.927.336-1.963-1.426-1.39 1.97-.288L111 72l.882 1.786 1.97.287-1.425 1.39.336 1.964M92.5 60.25l-2.057 1.082.393-2.29-1.665-1.624 2.3-.334L92.5 55l1.03 2.084 2.3.334-1.666 1.623.393 2.292"/>\n    <path d="M32.294 56.31l-2.472 1.298.472-2.752-2-1.95 2.764-.4L32.294 50l1.236 2.505 2.764.4-2 1.95.472 2.753-2.472-1.3z" opacity=".5" fill="#E1E1E1"/>\n    <path fill="#E1E1E1" d="M39.5 11.75l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L39.5 5l1.323 2.68 2.957.43-2.14 2.085.505 2.946"/>\n    <path id="Rectangle-120" stroke="#E1E1E1" opacity=".5" d="M108.67 46.304l8.66 5-6 10.392-8.66-5z"/>\n    <path id="Rectangle-139" fill="#E1E1E1" d="M108.402 50.768l5.196 3-.5.866-5.196-3z"/>\n    <path id="Rectangle-140" fill="#E1E1E1" d="M107.402 52.5l5.196 3-.5.866-5.196-3z"/>\n    <path id="Rectangle-141" fill="#E1E1E1" d="M106.402 54.232l5.196 3-.5.866-5.196-3z"/>\n    <path id="Rectangle-140" fill="#E1E1E1" d="M109.036 47.67l6.928 4-.5.866-6.928-4z"/>\n    <g>\n      <path stroke="#E1E1E1" opacity=".5" d="M12.34 18.483l7.77-6.29 7.55 9.324-7.77 6.29z"/>\n      <path fill="#E1E1E1" d="M16.41 20.333l4.663-3.774.63.776-4.663 3.774z"/>\n      <path id="Rectangle-140" fill="#E1E1E1" d="M17.67 21.887l4.66-3.774.63.777-4.662 3.774z"/>\n      <path fill="#E1E1E1" d="M18.927 23.44l4.662-3.773.628.777-4.662 3.774zM13.747 18.63l6.216-5.03.63.776-6.217 5.032z"/>\n    </g>\n    <ellipse opacity=".2" fill-opacity=".297" fill="#000" cx="63" cy="84" rx="11" ry="2"/>\n    <g>\n      <path opacity=".4" fill-opacity=".2" fill="#000" d="M45 22h40v48H45z"/>\n      <path d="M44 20v7h40v-7H44zm0 7v41h1V27h-1zm39 0v41h1V27h-1zM45 67v1h38v-1H45z" fill="#00CBA7"/>\n      <path fill="#FFF" d="M45 27h38v40H45z"/>\n      <path opacity=".7" fill="#EEE" d="M51 33h26v1H51zM51 36h26v1H51zM51 39h26v1H51zM51 42h26v1H51zM51 45h26v1H51zM51 48h26v1H51zM51 51h26v1H51zM51 54h26v1H51zM51 57h26v1H51z"/>\n      <path d="M57 54s7 6.75 14 0" stroke-opacity=".6" stroke="#000" stroke-width="2"/>\n      <path id="eye" fill-opacity=".6" fill="#000" d="M55 43h4v4h-4z"/>\n      <path fill-opacity=".6" fill="#000" d="M69 43h4v4h-4z"/>\n    </g>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12">\n\n  <circle cx="6" cy="6" />\n\n  <g class="window-close-glyph dpi-standard">\n    <path fill="#93120F" d="M8 7v-2h1v-2h-2v1h-2v-1h-2v2h1v2h-1v2h2v-1h2v1h2v-2h-1z" />\n    <path fill="#7E0200" d="M5 5h2v2h-2v-2zm-1-1h1v1h-1v-1zm-1-1h1v1h-1v-1zm5 0h1v1h-1v-1zm-1 1h1v1h-1v-1zm-3 3h1v1h-1v-1zm-1 1h1v1h-1v-1zm4-1h1v1h-1v-1zm1 1h1v1h-1v-1z" />\n  </g>\n  <g class="window-close-glyph dpi-high">\n    <polygon fill="#4c0102" points="9 3 8.29 3 6 5.29 3.71 3 3 3 3 3.71 5.29 6 3 8.29 3 9 3.71 9 6 6.71 8.29 9 9 9 9 8.29 6.71 6 9 3.71 9 3" />\n  </g>\n\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12">\n\n  <circle cx="6" cy="6" />\n\n  <g class="window-zoom-glyph dpi-standard">\n    <polygon points="9 5 7 5 7 3 5 3 5 5 3 5 3 7 5 7 5 9 7 9 7 7 9 7 9 5" fill="#0a630c"/>\n    <rect x="5" y="2" width="2" height="1" fill="#157e1b" class="semi"/>\n    <rect x="5" y="9" width="2" height="1" fill="#157e1b" class="semi"/>\n    <rect x="9" y="5" width="1" height="2" fill="#157e1b" class="semi"/>\n    <rect x="2" y="5" width="1" height="2" fill="#157e1b" class="semi"/>\n  </g>\n  <g class="window-zoom-glyph dpi-high">\n    <polygon points="9.5 5.5 6.5 5.5 6.5 2.5 5.5 2.5 5.5 5.5 2.5 5.5 2.5 6.5 5.5 6.5 5.5 9.5 6.5 9.5 6.5 6.5 9.5 6.5 9.5 5.5" fill="#0a630c"/>\n    <rect x="5.5" y="2" width="1" height="0.5" fill="#1b8e25" class="semi"/>\n    <rect x="5.5" y="9.5" width="1" height="0.5" fill="#1b8e25" class="semi"/>\n    <rect x="9.5" y="5.5" width="0.5" height="1" fill="#1b8e25" class="semi"/>\n    <rect x="2" y="5.5" width="0.5" height="1" fill="#1b8e25" class="semi"/>\n  </g>\n\n  <g class="window-fullscreen-glyph dpi-standard">\n    <polygon points="9 7.6 4.4 3 8.38 3.1 8.9 3.63" fill="#0a630c"/>\n    <polygon points="3 4.5 7.5 9 3.63 8.9 3.1 8.38" fill="#0a630c"/>\n  </g>\n  <g class="window-fullscreen-glyph dpi-high">\n    <polygon points="3 4.5 7.5 9 3.63 9 3 8.38 3 4.5" fill="#0a630c"/>\n    <polygon points="9 7.5 4.5 3 8.38 3 9 3.63 9 7.5" fill="#0a630c"/>\n  </g>\n\n  <g class="window-restore-glyph dpi-standard">\n    <polygon points="6 10 2 6 6 6 6 10" fill="#0a630c"/>\n    <polygon points="6 2 10 6 6 6 6 2" fill="#0a630c"/>\n  </g>\n  <g class="window-restore-glyph dpi-high">\n    <polygon points="6 1.5 10.5 6 6.50 6 6 5.50 6 1.5" fill="#0a630c"/>\n    <polygon points="6 10.5 1.5 6 5.50 6 6 6.50 6 10.5" fill="#0a630c"/>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12">\n\n  <circle cx="6" cy="6" />\n\n  <g class="window-minimize-glyph dpi-standard">\n    <rect x="3" y="5" width="6" height="2" fill="#965612"/>\n    <rect x="9" y="5" width="1" height="2" fill="#ab6e1c" class="semi" />\n    <rect x="2" y="5" width="1" height="2" fill="#ab6e1c" class="semi"/>\n  </g>\n  <g class="window-minimize-glyph dpi-high">\n    <rect x="2.5" y="5.5" width="7" height="1" fill="#965612"/>\n    <rect x="2" y="5.5" width="0.5" height="1" fill="#ab6e1c" class="semi"/>\n    <rect x="9.5" y="5.5" width="0.5" height="1" fill="#ab6e1c" class="semi"/>\n  </g>\n\n</svg>\n'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M3 2v12l5-2 5 2V2H3zm8 9L8 9.646 5 11V4h6v8-1z" />\n</svg>\n'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n    <path fill-rule="evenodd" d="M10.4 7.43c1.02 0 1.8-.744 1.8-1.716 0-.97-.78-1.714-1.8-1.714s-1.8.743-1.8 1.714c0 .972.78 1.715 1.8 1.715zm-4.8 0c1.02 0 1.8-.744 1.8-1.716C7.4 4.744 6.62 4 5.6 4s-1.8.743-1.8 1.714c0 .972.78 1.715 1.8 1.715zM2 10v2h7.2v-2C6.566 8.57 6.98 8.57 5.6 8.57S4.392 8.57 2 10zm7.2-1.37c.72.456 1.2 1.14 1.2 1.94V12H14v-1.43c0-1.313-2.82-2-4.2-2-.18 0-.36 0-.6.06z"/>\n</svg>\n'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n    <path d="M8.914 6.995V3H6.057v3.995c0 .066-2.857 0-2.857 0l4.286 3.955 4.285-3.955H8.915zM3 13v1h10v-1H3z" />\n</svg>\n'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M1 3v10h14V3H1zm7 7L2 5.714V4l6 4.286L14 4v1.514L8 10z" />\n</svg>\n'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M3 2v12h10V2H3zm9 11H4V4h8v9z" />\n  <path d="M5 6h6v1H5V6zm0 4h6v1H5v-1zm0-2h6v1H5V8z" />\n</svg>\n'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M12.55 8v.592l1.325 1.014c.088.084.177.253.088.338l-1.236 2.028c-.09.17-.265.17-.354.17l-1.502-.593c-.352.253-.706.422-1.06.59l-.264 1.606c0 .17-.177.254-.265.254H6.808c-.176 0-.265-.085-.265-.254L6.19 12.14c-.354-.168-.708-.337-1.06-.59l-1.503.59c-.177.085-.265 0-.354-.168L2.037 9.944c-.09-.17 0-.254.088-.338L3.45 8.592V7.408L2.125 6.394c-.088-.084-.177-.253-.088-.338l1.236-2.028c.09-.17.265-.17.354-.17l1.502.593c.352-.168.706-.422 1.06-.59l.264-1.606c0-.17.177-.254.265-.254h2.473c.176 0 .265.085.265.254l.265 1.605c.353.168.707.337 1.06.59l1.502-.59c.177-.085.265 0 .353.168l1.237 2.028c.088.17 0 .254-.088.338l-1.325 1.014c.088.17.088.423.088.592zM7.956 9.69c.976 0 1.767-.757 1.767-1.69 0-.933-.79-1.69-1.767-1.69-.976 0-1.767.757-1.767 1.69 0 .933.79 1.69 1.766 1.69z" />\n</svg>\n'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M10.428 5.038c-.42-.85.027-1.804.943-2.008.747-.167 1.518.386 1.617 1.15.043.335-.023.642-.188.93-1.36 2.38-2.72 4.76-4.076 7.14-.252.44-.618.71-1.12.745-.564.042-1.006-.197-1.29-.69-.86-1.49-1.71-2.988-2.563-4.483-.52-.91-1.04-1.818-1.557-2.73-.52-.917.067-2.034 1.113-2.088.553-.03.98.228 1.26.712.383.66.76 1.327 1.138 1.99.274.48.542.96.823 1.434.407.687 1.006 1.074 1.803 1.122 1.128.068 2.175-.755 2.31-1.965.01-.09.017-.18.02-.227-.005-.39-.078-.72-.232-1.032z"/>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26">\n  <path d="M17.6 20.4l-1.6 1.6-9-9 9-9 1.6 1.6-7.2 7.4 7.2 7.4z"/>\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="1 -1 26 26">\n  <path d="M10 6l7 5.6v-5.6h2v12h-2v-5.6l-7 5.6z"/>\n</svg>'},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n  <path d="M15.2 13l-7.2 7.4 1.6 1.6 9-9-9-9-1.6 1.6 7.2 7.4z" />\n</svg>'},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n  <path d="M4 13c0 4.95 4.05 9 9 9 4.162 0 7.65-2.924 8.662-6.75h-2.362c-.9 2.588-3.376 4.5-6.3 4.5-3.712 0-6.75-3.038-6.75-6.75s3.038-6.75 6.75-6.75c1.912 0 3.488.788 4.724 2.024l-2.724 2.722h6.999v-6.996l-2.7 2.7c-1.576-1.688-3.824-2.7-6.3-2.7-4.95 0-9 4.05-9 9z"/>\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="1 -1 26 26">\n  <path d="M19 6l-7 5.6v-5.6h-2v12h2v-5.6l7 5.6z"/>\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-191 193 16 16">\n  <path d="M-182.6 201.9c.4-.7.7-1.5.7-2.3 0-2.5-2-4.5-4.5-4.5s-4.5 2-4.5 4.5 2 4.5 4.5 4.5c.9 0 1.7-.2 2.3-.7l2.3 2.3c.2.2 1.5 1.3 1.7 1.3.3 0 .4-.2.6-.4.4-.4.7-.9.3-1.3l-3.4-3.4zm-6.4-2.4c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5-2.5-1.1-2.5-2.5zM-177.5 202l2.5-4h-5"/>\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="1 -1 26 26">\n  <path d="M9.4 18l-1.4-1.4 4.6-4.6-4.6-4.6 1.4-1.4 4.6 4.6 4.6-4.6 1.4 1.4-4.6 4.6 4.6 4.6-1.4 1.4-4.6-4.6z" />\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="1 -1 26 26">\n  <path d="M8 5v16l6-2 6 2v-16h-12zm6 11.8l-4 1.2v-11h8v11l-4-1.2z"/>\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-186 188 26 26">\n  <path d="M-169.8 200.1c1.4 0 2.4-1.1 2.4-2.6s-1-2.6-2.4-2.6-2.4 1.1-2.4 2.6 1 2.6 2.4 2.6zm-6.4 0c1.4 0 2.4-1.1 2.4-2.6s-1-2.6-2.4-2.6-2.4 1.1-2.4 2.6 1 2.6 2.4 2.6zm-4.8 3.9v3h9.6v-3c-3.5-2.1-3-2.1-4.8-2.1s-1.6 0-4.8 2.1zm9.6-2.1c1 .7 1.6 1.7 1.6 2.9v2.1h4.8v-2.1c0-2-3.8-3-5.6-3-.2.1-.5.1-.8.1z"/>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-186 188 26 26">\n  <path d="M-171 199v-5h-4v5c0 .1-4 0-4 0l6 6 6-6h-4zm-9 9v2h14v-2h-14z"/>\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-186 188 26 26">\n  <path d="M-179 208h12v-14h-12v14zm2-11h8v9h-8v-9zm1 2h6v1h-6v-1zm0 2h6v1h-6v-1zm0 2h6v1h-6v-1z"/>\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-186 188 26 26">\n  <path d="M-167.6 201v.7l1.4 1.2c.1.1.2.3.1.4l-1.3 2.4c-.1.2-.3.2-.4.2l-1.6-.7c-.4.3-.8.5-1.1.7l-.3 1.9c0 .2-.2.3-.3.3h-2.7c-.2 0-.3-.1-.3-.3l-.4-1.9c-.4-.2-.8-.4-1.1-.7l-1.6.7c-.2.1-.3 0-.4-.2l-1.3-2.4c-.1-.2 0-.3.1-.4l1.4-1.2v-1.4l-1.4-1.2c-.1-.1-.2-.3-.1-.4l1.3-2.4c.1-.2.3-.2.4-.2l1.6.7 1.1-.7.3-1.9c0-.2.2-.3.3-.3h2.7c.2 0 .3.1.3.3l.3 1.9c.4.2.8.4 1.1.7l1.6-.7c.2-.1.3 0 .4.2l1.3 2.4c.1.2 0 .3-.1.4l-1.4 1.2c.1.2.1.5.1.7zm-4.9 2c1.1 0 1.9-.9 1.9-2s-.9-2-1.9-2c-1.1 0-1.9.9-1.9 2s.8 2 1.9 2z"/>\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n  <title>permission-camera</title>\n  <g>\n    <path class="permission-frame" d="M0 0h16v16h-16v-16z" opacity="0" />\n    <path class="permission-icon" d="M2 4v7h9v-7h-9zm9.015 3.5l3.985 3.5v-7l-3.985 3.5z" fill="#aaa"/>\n    <g class="permission-denied">\n      <circle fill="#F03939" cx="4" cy="12" r="4"/>\n      <path d="M2 11h4v2h-4v-2z" fill="#fff"/>\n    </g>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n  <title>permission-location</title>\n  <g>\n    <path class="permission-frame" d="M0 0h16v16h-16v-16z" opacity="0" />\n    <path class="permission-icon" d="M13,3 L1.999,8.996 L7.026,8.967 L7.026,13.971 L13,3 Z" fill="#AAAAAA"/>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n  <g>\n    <path class="permission-frame" d="M0 0h16v16h-16v-16z" opacity="0" />\n    <path class="permission-icon" d="M8.1 14c.66 0 1.2-.54 1.2-1.2H6.9c0 .66.54 1.2 1.2 1.2zM12 7c0-1.742-1.278-3.284-3-3.692V3c0-.598-.486-1-1-1-.482 0-1 .402-1 1v.308C5.294 3.716 4.047 5.258 4 7v3l-1 1v1.002h10V11l-1-1V7z" fill="#aaa"/>\n    <g class="permission-denied">\n      <circle fill="#F03939" cx="4" cy="12" r="4"/>\n      <path d="M2 11h4v2h-4v-2z" fill="#fff"/>\n    </g>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n  <title>permission-popup</title>\n  <g>\n    <path class="permission-frame" d="M0 0h16v16h-16v-16z" opacity="0" />\n    <path class="permission-icon" d="M3,10 L1,10 L1,1 L10,1 L10,3 L3,3 L3,10 Z" fill-opacity="0.5" fill="#AAAAAA"></path>\n    <path class="permission-icon" d="M4,4 L4,13 L13,13 L13,4 L4,4 Z M6,6 L11,6 L11,11 L6,11 L6,6 Z" fill="#AAAAAA"></path>\n    <g class="permission-denied">\n      <circle fill="#F03939" cx="4" cy="12" r="4"/>\n      <path d="M2 11h4v2h-4v-2z" fill="#fff"/>\n    </g>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\r\n	<path d="M7 14h2v-1h1v-1H9v-1h1v-1H9V8h3V3H4v5h3v6zM6 5h4v1H6V5z"/>\r\n</svg>\r\n'},function(e,t){e.exports='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <defs>\n    <radialGradient cy="23.635%" fx="50%" fy="23.635%" r="55.581%" id="horizontal-menu-button-radialGradient-1">\n      <stop stop-color="#FF5B5B" offset="0%"/>\n      <stop stop-color="#EF3939" offset="100%"/>\n    </radialGradient>\n    <filter x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox" id="horizontal-menu-button-filter-2">\n      <feOffset in="SourceAlpha" result="shadowOffsetInner1"/>\n      <feGaussianBlur stdDeviation="2" in="shadowOffsetInner1" result="shadowBlurInner1"/>\n      <feComposite in="shadowBlurInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"/>\n      <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.042 0" in="shadowInnerInner1" result="shadowMatrixInner1"/>\n      <feMerge>\n        <feMergeNode in="SourceGraphic"/>\n        <feMergeNode in="shadowMatrixInner1"/>\n      </feMerge>\n    </filter>\n    <path id="horizontal-menu-button-path-3" d="M0 0h16v16H0z"/>\n    <filter x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox" id="horizontal-menu-viv-icon-filter-5">\n      <feOffset dx="-1" in="SourceAlpha" result="shadowOffsetInner1"/>\n      <feGaussianBlur in="shadowOffsetInner1" result="shadowBlurInner1"/>\n      <feComposite in="shadowBlurInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"/>\n      <feColorMatrix values="0 0 0 0 0.88627451 0 0 0 0 0.443137255 0 0 0 0 0.443137255 0 0 0 0.175 0" in="shadowInnerInner1" result="shadowMatrixInner1"/>\n      <feMerge>\n        <feMergeNode in="SourceGraphic"/>\n        <feMergeNode in="shadowMatrixInner1"/>\n      </feMerge>\n    </filter>\n  </defs>\n  <g id="horizontal-menu-viv-icon" fill="none" fill-rule="evenodd">\n    <g id="horizontal-product_logo_16">\n      <mask id="horizontal-menu-viv-icon-mask-4" fill="#fff">\n        <use xlink:href="#horizontal-menu-button-path-3"/>\n      </mask>\n      <g id="v-icon-bg" filter="url(#horizontal-menu-button-filter-2)">\n        <use fill="url(#horizontal-menu-button-radialGradient-1)" xlink:href="#horizontal-menu-button-path-3"/>\n        <use stroke-opacity=".1" stroke="#000" xlink:href="#horizontal-menu-button-path-3"/>\n      </g>\n      <path d="M10.544 5.522c-.383-.71.025-1.503.858-1.674.677-.138 1.38.322 1.47.958.038.28-.022.536-.172.777-1.235 1.982-2.472 3.964-3.704 5.948-.23.37-.563.592-1.02.623-.512.034-.914-.165-1.172-.575-.78-1.243-1.554-2.49-2.33-3.736-.472-.758-.946-1.515-1.416-2.274-.474-.765.06-1.696 1.012-1.74.502-.025.89.19 1.145.592.348.55.69 1.106 1.035 1.66.25.398.492.8.748 1.194.37.572.914.895 1.64.935 1.024.055 1.976-.63 2.1-1.64l.018-.188c-.006-.326-.072-.6-.212-.86z" id="horizontal-menu-viv-icon-v-shape" fill="#FFF" filter="url(#horizontal-menu-viv-icon-filter-5)"/>\n    </g>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg id="smallplus" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <linearGradient x1="28.555%" y1="34.555%" x2="109.241%" y2="129.681%" id="add-sd1">\n      <stop stop-color="#0084FF" offset="0%"/>\n      <stop stop-color="#8EFFF6" offset="100%"/>\n    </linearGradient>\n    <filter x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox" id="add-sd2">\n      <feOffset dy="1" in="SourceAlpha" result="shadowOffsetInner1"/>\n      <feGaussianBlur stdDeviation="1" in="shadowOffsetInner1" result="shadowBlurInner1"/>\n      <feComposite in="shadowBlurInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"/>\n      <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.21 0" in="shadowInnerInner1" result="shadowMatrixInner1"/>\n      <feMerge>\n        <feMergeNode in="SourceGraphic"/>\n        <feMergeNode in="shadowMatrixInner1"/>\n      </feMerge>\n    </filter>\n  </defs>\n  <path d="M210 8h-8v2h8v8h2v-8h8V8h-8V0h-2v8z" transform="translate(-202)" filter="url(#add-sd2)" fill="url(#add-sd1)" fill-rule="evenodd"/>\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\n    <path d="M5.3 9.8L.8 6.5l4.6-3.3L6.6 5 4.2 6.4l2.3 1.7-1.2 1.6M10.7 11.8l-1.2-1.6 2.3-1.7L9.4 7 10.6 5l4.6 3.3-4.5 3.3"/>\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-191 193 16 16">\n  <path d="M-175 195v12h-16v-12h16zm-10 10v-8h-4v8h4z"/>\n</svg>'},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n    <path d="M16.85 9.42c.82-.773 2.152-1.316 2.76-2.194.668-.962.38-2.255-.636-2.886-1.02-.63-2.385-.36-3.055.603-.63.91-.6 2.348-1.073 3.377-.612 1.33-2.66 1.495-5.014.335-1.293 2.37-3.05 4.91-4.833 6.977l1.694 1.05c.76-.124 1.706-.75 2.09-1.435-.03.824-.358 1.554-1 2.108l3.2 1.976c.408-.383.788-.688 1.21-.95-.24.455-.4.936-.472 1.407l1.894 1.172c1.123-2.04 3.306-5.19 4.832-6.978-2.11-1.606-2.737-3.488-1.598-4.56zm1.32-3.917c.34.21.433.642.21.962-.22.322-.678.41-1.016.2-.34-.21-.435-.64-.213-.96.223-.322.68-.412 1.02-.202zm-2.964 10.625L9.05 12.323l1.21-1.745 6.152 3.806-1.206 1.744z" />\n</svg>'},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n    <path d="M13 18l4-4H9l4 4zM12 8v6h2V8h-2z" />\n</svg>'},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n      <path d="M13 6c-3.866 0-7 3.133-7 7h2c0-2.758 2.243-5 5-5s5 2.242 5 5c0 2.757-2.243 5-5 5-1.61 0-3.03-.78-3.946-1.966H6.7C7.83 18.378 10.222 20 13 20c3.866 0 7-3.135 7-7 0-3.867-3.134-7-7-7"/>\n      <path d="M13 13H6V6l7 7z"/>\n    <path d="M12 11h2v4h-2z"/>\n</svg>'},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n    <path d="M16 13l-6 5V8l6 5z" />\n</svg>'},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n    <path d="M9 9h8v8H9z"/>\n</svg>'},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n      <path d="M12.6 7C9.507 7 7 9.506 7 12.6h1.6c0-2.206 1.794-4 4-4s4 1.794 4 4-1.794 4-4 4c-1.29 0-2.425-.623-3.157-1.573H7.56c.905 1.875 2.818 3.172 5.04 3.172 3.093 0 5.6-2.508 5.6-5.6 0-3.094-2.507-5.6-5.6-5.6"/>\n      <path d="M13 13H7V7l6 6z"/>\n</svg>'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M7 9h-4v-2h4v-4h2v4h4v2h-4v4h-2v-4zm-7-9v16h16v-16h-16z" />\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\n  <path className="trashicon-lid" d="M11 1V0H4v1H1v2h13V1h-3z"/>\n  <path className="trashicon-content" d="M5 4v9h2V4H5zm3 0v9h2V4H8z"/>\n  <path className="trashicon-bin" d="M2 16V4h2v10h7V4h2v12H2z"/>\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <defs>\n    <rect id="vivrect1" width="18" height="18" x="2.013" y="2.013" rx="1"/>\n    <rect id="vivrect2" width="18" height="18" x="2.013" y="2.013" rx="1"/>\n    <radialGradient id="vivgrad1" cy="23.635%" r="55.581%" fx="50%" fy="23.635%">\n      <stop stop-color="#FF5B5B" offset="0%"/>\n      <stop stop-color="#EF3939" offset="100%"/>\n    </radialGradient>\n    <filter id="filter1" width="200%" height="200%" x="-50%" y="-50%" filterUnits="objectBoundingBox">\n      <feOffset in="SourceAlpha" result="shadowOffsetInner1"/>\n      <feGaussianBlur stdDeviation="2" in="shadowOffsetInner1" result="shadowBlurInner1"/>\n      <feComposite in="shadowBlurInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"/>\n      <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.042 0" in="shadowInnerInner1" result="shadowMatrixInner1"/>\n      <feMerge>\n        <feMergeNode in="SourceGraphic"/>\n        <feMergeNode in="shadowMatrixInner1"/>\n      </feMerge>\n    </filter>\n    <rect id="vivrect3" width="18" height="18" x="2.013" y="2.013" rx="1"/>\n    <filter id="filter2" width="200%" height="200%" x="-50%" y="-50%" filterUnits="objectBoundingBox">\n      <feOffset dx="-1" in="SourceAlpha" result="shadowOffsetInner1"/>\n      <feGaussianBlur in="shadowOffsetInner1" result="shadowBlurInner1"/>\n      <feComposite in="shadowBlurInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"/>\n      <feColorMatrix values="0 0 0 0 0.88627451 0 0 0 0 0.443137255 0 0 0 0 0.443137255 0 0 0 0.175 0" in="shadowInnerInner1" result="shadowMatrixInner1"/>\n      <feMerge>\n        <feMergeNode in="SourceGraphic"/>\n        <feMergeNode in="shadowMatrixInner1"/>\n      </feMerge>\n    </filter>\n  </defs>\n  <g fill="none" fill-rule="evenodd">\n    <g opacity=".4">\n      <use fill="#EF3939" transform="rotate(-12 11.013 11.013)" xlink:href="#vivrect1"/>\n      <use xlink:href="#vivrect1"/>\n    </g>\n    <g opacity=".4">\n      <use fill="#EF3939" transform="rotate(-6 11.013 11.013)" xlink:href="#vivrect2"/>\n      <use xlink:href="#vivrect2"/>\n    </g>\n    <g filter="url(#filter1)">\n      <use fill="url(#vivgrad1)" xlink:href="#vivrect3"/>\n      <use stroke="#000" stroke-opacity=".1" xlink:href="#vivrect3"/>\n    </g>\n    <path fill="#FFF" d="M14.284 8.394c-.46-.85.03-1.804 1.03-2.008.812-.167 1.653.386 1.76 1.15.05.335-.023.642-.203.93-1.48 2.38-2.965 4.758-4.445 7.14-.275.44-.674.71-1.223.745-.614.042-1.097-.197-1.406-.69C8.858 14.17 7.93 12.674 7 11.18c-.567-.91-1.136-1.818-1.7-2.73-.57-.917.073-2.034 1.215-2.088.602-.03 1.067.228 1.373.712.418.66.83 1.327 1.242 1.99.3.48.59.96.898 1.434.444.687 1.097 1.074 1.967 1.122 1.23.068 2.372-.756 2.52-1.965l.023-.227c-.007-.39-.086-.72-.254-1.032z" filter="url(#filter2)"/>\n  </g>\n</svg>';
},function(e,t){e.exports='<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1 1h2v1H1V1zm1 1h2v1H2V2zm4 0h2v1H6V2zm1-1h2v1H7V1zM3 3h4v1H3V3zm1 1h2v1H4V4zM3 5h4v1H3V5zM2 6h2v1H2V6zm4 0h2v1H6V6zm1 1h2v1H7V7zM1 7h2v1H1V7z"/>\n</svg>'},function(e,t){e.exports='<svg class="window-maximize" xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10">\n\n  <g class="window-maximize-glyph">\n    <path d="M1 2h8v1H1V2zM0 1h10v1H0V1zm0 7h10v1H0V8zm0-6h1v6H0V2zm9 0h1v6H9V2z"/>\n  </g>\n\n  <g class="window-restore-glyph">\n    <path d="M1 3h6v1H1V3zM0 2h8v1H0V2zm1 7h6v1H1V9zM0 3h1v7H0V3zm7 0h1v7H7V3zM2 0h8v1H2V0zm7 1h1v7H9V1z"/>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10">\n    <path d="M1 7h8v2H1z"/>\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10">\n  <path d="M10.2.5l-.7-.7L5 4.3.5-.2l-.7.7L4.3 5-.2 9.5l.7.7L5 5.7l4.5 4.5.7-.7L5.7 5"/>\n</svg>\n'},function(e,t){e.exports='<svg class="window-maximize" xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10">\n\n  <g class="window-maximize-glyph">\n    <path d="M9 1v8H1V1h8m1-1H0v10h10V0z"/>\n  </g>\n\n  <g class="window-restore-glyph">\n    <path d="M3 0H2v2H0v8h8V8h2V0H3zm4 9H1V3h6v6zm2-2H8V2H3V1h6v6z"/>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg width="10" height="1" viewBox="0 0 10 1" xmlns="http://www.w3.org/2000/svg">\n  <path d="M0 0h10v1H0z"/>\n</svg>\n'},function(e,t,n){e.exports=n(575)},function(e,t){"use strict";function n(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=Object.assign||function(e,t){for(var i,r,o,a=n(e),s=1;s<arguments.length;s++){r=arguments[s],o=Object.keys(Object(r));for(var l=0;l<o.length;l++)try{a[o[l]]=r[o[l]]}catch(u){void 0===i&&(i=u)}}if(i)throw i;return a}},function(e,t,n){(function(t){var i=t.React||n(1),r=n(547),o=i.createClass({lastDimensions:{width:null,height:null},propTypes:{triggersClass:i.PropTypes.string,expandClass:i.PropTypes.string,contractClass:i.PropTypes.string,embedCss:i.PropTypes.bool,onResize:i.PropTypes.func.isRequired},getDefaultProps:function(){return{triggersClass:"resize-triggers",expandClass:"expand-trigger",contractClass:"contract-trigger",embedCss:!0}},requestFrame:function(e){return(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)})(e)},cancelFrame:function(e){return(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout)(e)},componentDidMount:function(){this.resetTriggers(),this.initialResetTriggersTimeout=setTimeout(this.resetTriggers,1e3)},componentWillUnmount:function(){clearTimeout(this.initialResetTriggersTimeout)},componentDidUpdate:function(){this.resetTriggers()},resetTriggers:function(){var e=this.refs.contract,t=this.refs.expandChild,n=this.refs.expand;e.scrollLeft=e.scrollWidth,e.scrollTop=e.scrollHeight,t.style.width=n.offsetWidth+1+"px",t.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},onScroll:function(){"function"==typeof this.props.onScroll&&this.props.onScroll(),this.r&&this.cancelFrame(this.r),this.r=this.requestFrame(function(){var e=this.getDimensions();this.haveDimensionsChanged(e)&&(this.lastDimensions=e,this.props.onResize(e))}.bind(this))},getDimensions:function(){var e=this.refs.resizable;return{width:e.offsetWidth,height:e.offsetHeight}},haveDimensionsChanged:function(e){return e.width!=this.lastDimensions.width||e.height!=this.lastDimensions.height},render:function(){var e=r({},this.props,{onScroll:this.onScroll,ref:"resizable"});return i.createElement("div",e,[this.props.children,i.createElement("div",{className:this.props.triggersClass,key:"trigger"},[i.createElement("div",{className:this.props.expandClass,ref:"expand",key:"expand"},i.createElement("div",{ref:"expandChild"})),i.createElement("div",{className:this.props.contractClass,ref:"contract",key:"contract"})]),this.props.embedCss?i.createElement("style",{key:"embededCss",dangerouslySetInnerHTML:{__html:'.resize-triggers { visibility: hidden; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }'}}):null])}});e.exports=o,t.Resizable=o}).call(t,function(){return this}())},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){function e(){var t=p(),n=t-g;g=t,v+=n*s,v>r*c&&(v=0);for(var i=Math.ceil(v/r),o=0;o<f.length;o++){var a=f[o],l=a.active,u=a.animationStep,A=a.prevState,h=f[o].nextState;if(l)if(0>=v)f[o].nextState=u(r/1e3,A);else for(var E=0;i>E;E++){f[o].nextState=u(r/1e3,h);var _=[h,f[o].nextState];f[o].prevState=_[0],h=_[1]}}v-=i*r;for(var S=1+v/r,o=0;o<f.length;o++){var y=f[o],b=y.animationRender,C=y.nextState,I=y.prevState;b(S,C,I)}f=f.filter(function(e){var t=e.active;return t}),0===f.length?m=!1:d(e)}function t(){m||(m=!0,g=p(),v=0,d(e))}var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=n.timeStep,r=void 0===i?1/60*1e3:i,o=n.timeScale,s=void 0===o?1:o,u=n.maxSteps,c=void 0===u?10:u,A=n.raf,d=void 0===A?l["default"]:A,h=n.now,p=void 0===h?a["default"]:h,f=[],m=!1,g=0,v=0;return function(e,n,i){for(var r=0;r<f.length;r++){var o=f[r];if(o.animationStep===n)return o.active=!0,o.prevState=e,t(),o.stop}var a={animationStep:n,animationRender:i,prevState:e,nextState:e,active:!0};return a.stop=function(){return a.active=!1},f.push(a),t(),a.stop}}t.__esModule=!0,t["default"]=r;var o=n(213),a=i(o),s=n(561),l=i(s);e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i],i));return n}function o(e,t){for(var n in t)if(t.hasOwnProperty(n)&&!e(t[n],n))return!1;return!0}function a(e){var t=e.PropTypes,n=e.createClass({displayName:"Motion",propTypes:{defaultValue:function(e,t){return e[t]?new Error("Spring's `defaultValue` has been changed to `defaultStyle`. Its format received a few (easy to update!) changes as well."):void 0},endValue:function(e,t){return e[t]?new Error("Spring's `endValue` has been changed to `style`. Its format received a few (easy to update!) changes as well."):void 0},defaultStyle:t.object,style:t.object.isRequired,children:t.func.isRequired},getInitialState:function(){var e=this.props,t=e.defaultStyle,n=e.style,i=t||n;return{currentStyle:i,currentVelocity:r(g["default"],i)}},componentDidMount:function(){this.startAnimating()},componentWillReceiveProps:function(){this.startAnimating()},animationStep:function(e,t){var n=t.currentStyle,i=t.currentVelocity,r=this.props.style,o=v.updateCurrentStyle(e,n,i,r),a=v.updateCurrentVelocity(e,n,i,r);return u["default"](i,o)&&u["default"](a,o)&&this.stopAnimation(),{currentStyle:o,currentVelocity:a}},stopAnimation:null,hasUnmounted:!1,componentWillUnmount:function(){this.stopAnimation(),this.hasUnmounted=!0},startAnimating:function(){this.stopAnimation=b(this.state,this.animationStep,this.animationRender)},animationRender:function(e,t,n){this.hasUnmounted||this.setState({currentStyle:v.interpolateValue(e,t.currentStyle,n.currentStyle),currentVelocity:t.currentVelocity})},render:function(){var t=y["default"](this.state.currentStyle),n=this.props.children(t);return n&&e.Children.only(n)}}),i=e.createClass({displayName:"StaggeredMotion",propTypes:{defaultStyle:function(e,t){return e[t]?new Error('You forgot the "s" for `StaggeredMotion`\'s `defaultStyles`.'):void 0},style:function(e,t){return e[t]?new Error('You forgot the "s" for `StaggeredMotion`\'s `styles`.'):void 0},defaultStyles:t.arrayOf(t.object),styles:t.func.isRequired,children:t.func.isRequired},getInitialState:function(){var e=this.props,t=e.styles,n=e.defaultStyles,i=n?n:t();return{currentStyles:i,currentVelocities:i.map(function(e){return r(g["default"],e)})}},componentDidMount:function(){this.startAnimating()},componentWillReceiveProps:function(){this.startAnimating()},animationStep:function(e,t){var n=t.currentStyles,i=t.currentVelocities,r=this.props.styles(n.map(y["default"])),o=n.map(function(t,n){return v.updateCurrentStyle(e,t,i[n],r[n])}),a=n.map(function(t,n){return v.updateCurrentVelocity(e,t,i[n],r[n])});return i.every(function(e,t){return u["default"](e,n[t])})&&a.every(function(e,t){return u["default"](e,o[t])})&&this.stopAnimation(),{currentStyles:o,currentVelocities:a}},stopAnimation:null,hasUnmounted:!1,componentWillUnmount:function(){this.stopAnimation(),this.hasUnmounted=!0},startAnimating:function(){this.stopAnimation=b(this.state,this.animationStep,this.animationRender)},animationRender:function(e,t,n){if(!this.hasUnmounted){var i=t.currentStyles.map(function(t,i){return v.interpolateValue(e,t,n.currentStyles[i])});this.setState({currentStyles:i,currentVelocities:t.currentVelocities})}},render:function(){var t=this.state.currentStyles.map(y["default"]),n=this.props.children(t);return n&&e.Children.only(n)}}),a=e.createClass({displayName:"TransitionMotion",propTypes:{defaultValue:function(e,t){return e[t]?new Error("TransitionSpring's `defaultValue` has been changed to `defaultStyles`. Its format received a few (easy to update!) changes as well."):void 0},endValue:function(e,t){return e[t]?new Error("TransitionSpring's `endValue` has been changed to `styles`. Its format received a few (easy to update!) changes as well."):void 0},defaultStyle:function(e,t){return e[t]?new Error('You forgot the "s" for `TransitionMotion`\'s `defaultStyles`.'):void 0},style:function(e,t){return e[t]?new Error('You forgot the "s" for `TransitionMotion`\'s `styles`.'):void 0},defaultStyles:t.objectOf(t.any),styles:t.oneOfType([t.func,t.objectOf(t.any.isRequired)]).isRequired,willLeave:t.oneOfType([t.func]),willEnter:t.oneOfType([t.func]),children:t.func.isRequired},getDefaultProps:function(){return{willEnter:function(e,t){return t},willLeave:function(){return null}}},getInitialState:function(){var e=this.props,t=e.styles,n=e.defaultStyles,i=void 0;return i=null==n?"function"==typeof t?t():t:n,{currentStyles:i,currentVelocities:r(function(e){return r(g["default"],e)},i)}},componentDidMount:function(){this.startAnimating()},componentWillReceiveProps:function(){this.startAnimating()},animationStep:function(e,t){var n=t.currentStyles,i=t.currentVelocities,a=this.props,l=a.styles,c=a.willEnter,d=a.willLeave;"function"==typeof l&&(l=l(n));var p=l,f=!1;p=h["default"](n,l,function(e){var t=d(e,n[e],l,n,i);return null==t?null:u["default"](i[e],n[e])&&A["default"](n[e],t)?null:t}),Object.keys(p).filter(function(e){return!n.hasOwnProperty(e)}).forEach(function(e){var t,o;f=!0;var a=c(e,p[e],l,n,i);p[e]=a,n=s({},n,(t={},t[e]=a,t)),i=s({},i,(o={},o[e]=r(g["default"],a),o))});var m=r(function(t,r){return v.updateCurrentStyle(e,n[r],i[r],t)},p),E=r(function(t,r){return v.updateCurrentVelocity(e,n[r],i[r],t)},p);return!f&&o(function(e,t){return u["default"](e,n[t])},i)&&o(function(e,t){return u["default"](e,m[t])},E)&&this.stopAnimation(),{currentStyles:m,currentVelocities:E}},stopAnimation:null,hasUnmounted:!1,componentWillUnmount:function(){this.stopAnimation(),this.hasUnmounted=!0},startAnimating:function(){this.stopAnimation=b(this.state,this.animationStep,this.animationRender)},animationRender:function(e,t,n){if(!this.hasUnmounted){var i=r(function(t,i){return v.interpolateValue(e,t,n.currentStyles[i])},t.currentStyles);this.setState({currentStyles:i,currentVelocities:t.currentVelocities})}},render:function(){var t=r(y["default"],this.state.currentStyles),n=this.props.children(t);return n&&e.Children.only(n)}}),l=_["default"](e),c=l.Spring,d=l.TransitionSpring;return{Spring:c,TransitionSpring:d,Motion:n,StaggeredMotion:i,TransitionMotion:a}}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t["default"]=a;var l=n(554),u=i(l),c=n(552),A=i(c),d=n(553),h=i(d),p=n(549),f=i(p),m=n(560),g=i(m),v=n(559),E=n(551),_=i(E),S=n(558),y=i(S),b=f["default"]();e.exports=t["default"]},function(e,t,n){"use strict";function i(e){var t=e.createClass({displayName:"Spring",componentWillMount:function(){},render:function(){return null}}),n=e.createClass({displayName:"TransitionSpring",componentWillMount:function(){},render:function(){return null}});return{Spring:t,TransitionSpring:n}}t.__esModule=!0,t["default"]=i;e.exports=t["default"]},function(e,t){"use strict";function n(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=e[n],r=t[n];if(null!=r&&r.config){if(i.config&&i.val!==r.val)return!1;if(!i.config&&i!==r.val)return!1}}return!0}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(e,t,n,i,r,o,a){for(var s=!0;s;){var l=e,u=t,c=n,A=i,d=r,h=o,p=a;f=m=g=v=E=E=void 0,s=!1;var f=A===l.length,m=d===u.length,g=l[A],v=u[d];if(f&&m)return null;if(f)p[v]=c[v],e=l,t=u,n=c,i=A,r=d+1,o=h,a=p,s=!0;else if(m){var E=h(g);null!=E&&(p[g]=E),e=l,t=u,n=c,i=A+1,r=d,o=h,a=p,s=!0}else if(g!==v)if(c.hasOwnProperty(g))e=l,t=u,n=c,i=A+1,r=d,o=h,a=p,s=!0;else{var E=h(g);null!=E&&(p[g]=E),e=l,t=u,n=c,i=A+1,r=d,o=h,a=p,s=!0}else p[g]=c[g],e=l,t=u,n=c,i=A+1,r=d+1,o=h,a=p,s=!0}}function i(e,t,i){var r={};return n(Object.keys(e),Object.keys(t),t,0,0,i,r),r}t.__esModule=!0,t["default"]=i,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){for(var n in e)if(e.hasOwnProperty(n)&&null!=t[n]&&t[n].config&&0!==e[n])return!1;return!0}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=n(1),o=i(r),a=n(550),s=i(a),l=n(556),u=i(l),c=s["default"](o["default"]),A=c.Spring,d=c.TransitionSpring,h=c.Motion,p=c.StaggeredMotion,f=c.TransitionMotion;t.Spring=A,t.TransitionSpring=d,t.Motion=h,t.StaggeredMotion=p,t.TransitionMotion=f;var m=n(212),g=i(m);t.spring=g["default"];var v=n(211),E=i(v);t.presets=E["default"];var _={reorderKeys:u["default"]};t.utils=_},function(e,t){"use strict";function n(e,t){for(var n=t(Object.keys(e)),i={},r=0;r<n.length;r++){var o=n[r];i[o]=e[o]}return i}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(e,t,n,r,o,a){var s=-o*(t-r),l=-a*n,u=s+l,c=n+u*e,A=t+c*e;return Math.abs(c-n)<i&&Math.abs(A-t)<i?[r,0]:[A,c]}t.__esModule=!0,t["default"]=n;var i=1e-4;e.exports=t["default"]},function(e,t){"use strict";function n(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=null==e[n]||null==e[n].val?e[n]:e[n].val);return t}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){if(!n)return t;var i={};for(var r in t)if(t.hasOwnProperty(r))if(null!=t[r]&&t[r].config){var o=n[r].config?n[r].val:n[r];i[r]=c["default"](t[r].val*e+o*(1-e),t[r].config)}else i[r]=t[r];return i}function o(e,t,n,i){var r={};for(var o in i)if(i.hasOwnProperty(o))if(null!=i[o]&&i[o].config){var a=i[o].config,s=a[0],u=a[1],A=l["default"](e,null==t[o].val?t[o]:t[o].val,n[o],i[o].val,s,u)[0];r[o]=c["default"](A,i[o].config)}else r[o]=i[o];return r}function a(e,t,n,i){var r={};for(var o in i)if(i.hasOwnProperty(o))if(null!=i[o]&&i[o].config){var a=i[o].config,s=a[0],u=a[1],c=l["default"](e,null==t[o].val?t[o]:t[o].val,n[o],i[o].val,s,u)[1];r[o]=c}else r[o]=0;return r}t.__esModule=!0,t.interpolateValue=r,t.updateCurrentStyle=o,t.updateCurrentVelocity=a;var s=n(557),l=i(s),u=n(212),c=i(u)},function(e,t){"use strict";function n(){return 0}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},function(e,t,n){for(var i=n(213),r="undefined"==typeof window?{}:window,o=["moz","webkit"],a="AnimationFrame",s=r["request"+a],l=r["cancel"+a]||r["cancelRequest"+a],u=0;u<o.length&&!s;u++)s=r[o[u]+"Request"+a],l=r[o[u]+"Cancel"+a]||r[o[u]+"CancelRequest"+a];if(!s||!l){var c=0,A=0,d=[],h=1e3/60;s=function(e){if(0===d.length){var t=i(),n=Math.max(0,h-(t-c));c=n+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(n){setTimeout(function(){throw n},0)}},Math.round(n))}return d.push({handle:++A,callback:e,cancelled:!1}),A},l=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return s.call(r,e)},e.exports.cancel=function(){l.apply(r,arguments)}},function(e,t,n){"use strict";var i=n(30),r=n(140),o=n(245),a={componentDidMount:function(){this.props.autoFocus&&o(r(this))}},s={Mixin:a,focusDOMComponent:function(){o(i.getNode(this._rootNodeID))}};e.exports=s},function(e,t,n){"use strict";function i(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function r(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function o(e){switch(e){case w.topCompositionStart:return N.compositionStart;case w.topCompositionEnd:return N.compositionEnd;case w.topCompositionUpdate:return N.compositionUpdate}}function a(e,t){return e===w.topKeyDown&&t.keyCode===S}function s(e,t){switch(e){case w.topKeyUp:return-1!==_.indexOf(t.keyCode);case w.topKeyDown:return t.keyCode!==S;case w.topKeyPress:case w.topMouseDown:case w.topBlur:return!0;default:return!1}}function l(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function u(e,t,n,i,r){var u,c;if(y?u=o(e):D?s(e,i)&&(u=N.compositionEnd):a(e,i)&&(u=N.compositionStart),!u)return null;I&&(D||u!==N.compositionStart?u===N.compositionEnd&&D&&(c=D.getData()):D=m.getPooled(t));var A=g.getPooled(u,n,i,r);if(c)A.data=c;else{var d=l(i);null!==d&&(A.data=d)}return p.accumulateTwoPhaseDispatches(A),A}function c(e,t){switch(e){case w.topCompositionEnd:return l(t);case w.topKeyPress:var n=t.which;return n!==T?null:(k=!0,O);case w.topTextInput:var i=t.data;return i===O&&k?null:i;default:return null}}function A(e,t){if(D){if(e===w.topCompositionEnd||s(e,t)){var n=D.getData();return m.release(D),D=null,n}return null}switch(e){case w.topPaste:return null;case w.topKeyPress:return t.which&&!r(t)?String.fromCharCode(t.which):null;case w.topCompositionEnd:return I?null:t.data;default:return null}}function d(e,t,n,i,r){var o;if(o=C?c(e,i):A(e,i),!o)return null;var a=v.getPooled(N.beforeInput,n,i,r);return a.data=o,p.accumulateTwoPhaseDispatches(a),a}var h=n(43),p=n(84),f=n(24),m=n(571),g=n(609),v=n(612),E=n(45),_=[9,13,27,32],S=229,y=f.canUseDOM&&"CompositionEvent"in window,b=null;f.canUseDOM&&"documentMode"in document&&(b=document.documentMode);var C=f.canUseDOM&&"TextEvent"in window&&!b&&!i(),I=f.canUseDOM&&(!y||b&&b>8&&11>=b),T=32,O=String.fromCharCode(T),w=h.topLevelTypes,N={beforeInput:{phasedRegistrationNames:{bubbled:E({onBeforeInput:null}),captured:E({onBeforeInputCapture:null})},dependencies:[w.topCompositionEnd,w.topKeyPress,w.topTextInput,w.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:E({onCompositionEnd:null}),captured:E({onCompositionEndCapture:null})},dependencies:[w.topBlur,w.topCompositionEnd,w.topKeyDown,w.topKeyPress,w.topKeyUp,w.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:E({onCompositionStart:null}),captured:E({onCompositionStartCapture:null})},dependencies:[w.topBlur,w.topCompositionStart,w.topKeyDown,w.topKeyPress,w.topKeyUp,w.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:E({onCompositionUpdate:null}),captured:E({onCompositionUpdateCapture:null})},dependencies:[w.topBlur,w.topCompositionUpdate,w.topKeyDown,w.topKeyPress,w.topKeyUp,w.topMouseDown]}},k=!1,D=null,M={eventTypes:N,extractEvents:function(e,t,n,i,r){return[u(e,t,n,i,r),d(e,t,n,i,r)]}};e.exports=M},function(e,t,n){"use strict";var i=n(214),r=n(24),o=n(37),a=(n(627),n(617)),s=n(632),l=n(636),u=(n(18),l(function(e){return s(e)})),c=!1,A="cssFloat";if(r.canUseDOM){var d=document.createElement("div").style;try{d.font=""}catch(h){c=!0}void 0===document.documentElement.style.cssFloat&&(A="styleFloat")}var p={createMarkupForStyles:function(e){var t="";for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];null!=i&&(t+=u(n)+":",t+=a(n,i)+";")}return t||null},setValueForStyles:function(e,t){var n=e.style;for(var r in t)if(t.hasOwnProperty(r)){var o=a(r,t[r]);if("float"===r&&(r=A),o)n[r]=o;else{var s=c&&i.shorthandPropertyExpansions[r];if(s)for(var l in s)n[l]="";else n[r]=""}}}};o.measureMethods(p,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),e.exports=p},function(e,t,n){"use strict";function i(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function r(e){var t=b.getPooled(N.change,D,e,C(e));_.accumulateTwoPhaseDispatches(t),y.batchedUpdates(o,t)}function o(e){E.enqueueEvents(e),E.processEventQueue(!1)}function a(e,t){k=e,D=t,k.attachEvent("onchange",r)}function s(){k&&(k.detachEvent("onchange",r),k=null,D=null)}function l(e,t,n){return e===w.topChange?n:void 0}function u(e,t,n){e===w.topFocus?(s(),a(t,n)):e===w.topBlur&&s()}function c(e,t){k=e,D=t,M=e.value,P=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(k,"value",R),k.attachEvent("onpropertychange",d)}function A(){k&&(delete k.value,k.detachEvent("onpropertychange",d),k=null,D=null,M=null,P=null)}function d(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==M&&(M=t,r(e))}}function h(e,t,n){return e===w.topInput?n:void 0}function p(e,t,n){e===w.topFocus?(A(),c(t,n)):e===w.topBlur&&A()}function f(e,t,n){return e!==w.topSelectionChange&&e!==w.topKeyUp&&e!==w.topKeyDown||!k||k.value===M?void 0:(M=k.value,D)}function m(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function g(e,t,n){return e===w.topClick?n:void 0}var v=n(43),E=n(83),_=n(84),S=n(24),y=n(38),b=n(56),C=n(143),I=n(146),T=n(241),O=n(45),w=v.topLevelTypes,N={change:{phasedRegistrationNames:{bubbled:O({onChange:null}),captured:O({onChangeCapture:null})},dependencies:[w.topBlur,w.topChange,w.topClick,w.topFocus,w.topInput,w.topKeyDown,w.topKeyUp,w.topSelectionChange]}},k=null,D=null,M=null,P=null,L=!1;S.canUseDOM&&(L=I("change")&&(!("documentMode"in document)||document.documentMode>8));var x=!1;S.canUseDOM&&(x=I("input")&&(!("documentMode"in document)||document.documentMode>9));var R={get:function(){return P.get.call(this)},set:function(e){M=""+e,P.set.call(this,e)}},B={eventTypes:N,extractEvents:function(e,t,n,r,o){var a,s;if(i(t)?L?a=l:s=u:T(t)?x?a=h:(a=f,s=p):m(t)&&(a=g),a){var c=a(e,t,n);if(c){var A=b.getPooled(N.change,c,r,o);return A.type="change",_.accumulateTwoPhaseDispatches(A),A}}s&&s(e,t,n)}};e.exports=B},function(e,t){"use strict";var n=0,i={createReactRootIndex:function(){return n++}};e.exports=i},function(e,t,n){"use strict";function i(e){return e.substring(1,e.indexOf(" "))}var r=n(24),o=n(629),a=n(39),s=n(247),l=n(13),u=/^(<[^ \/>]+)/,c="data-danger-index",A={dangerouslyRenderMarkup:function(e){r.canUseDOM?void 0:l(!1);for(var t,n={},A=0;A<e.length;A++)e[A]?void 0:l(!1),t=i(e[A]),t=s(t)?t:"*",n[t]=n[t]||[],n[t][A]=e[A];var d=[],h=0;for(t in n)if(n.hasOwnProperty(t)){var p,f=n[t];for(p in f)if(f.hasOwnProperty(p)){var m=f[p];f[p]=m.replace(u,"$1 "+c+'="'+p+'" ')}for(var g=o(f.join(""),a),v=0;v<g.length;++v){var E=g[v];E.hasAttribute&&E.hasAttribute(c)&&(p=+E.getAttribute(c),E.removeAttribute(c),d.hasOwnProperty(p)?l(!1):void 0,d[p]=E,h+=1)}}return h!==d.length?l(!1):void 0,d.length!==e.length?l(!1):void 0,d},dangerouslyReplaceNodeWithMarkup:function(e,t){r.canUseDOM?void 0:l(!1),t?void 0:l(!1),"html"===e.tagName.toLowerCase()?l(!1):void 0;var n;n="string"==typeof t?o(t,a)[0]:t,e.parentNode.replaceChild(n,e)}};e.exports=A},function(e,t,n){"use strict";var i=n(45),r=[i({ResponderEventPlugin:null}),i({SimpleEventPlugin:null}),i({TapEventPlugin:null}),i({EnterLeaveEventPlugin:null}),i({ChangeEventPlugin:null}),i({SelectEventPlugin:null}),i({BeforeInputEventPlugin:null})];e.exports=r},function(e,t,n){"use strict";var i=n(43),r=n(84),o=n(105),a=n(30),s=n(45),l=i.topLevelTypes,u=a.getFirstReactDOM,c={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},A=[null,null],d={eventTypes:c,extractEvents:function(e,t,n,i,s){if(e===l.topMouseOver&&(i.relatedTarget||i.fromElement))return null;if(e!==l.topMouseOut&&e!==l.topMouseOver)return null;var d;if(t.window===t)d=t;else{var h=t.ownerDocument;d=h?h.defaultView||h.parentWindow:window}var p,f,m="",g="";if(e===l.topMouseOut?(p=t,m=n,f=u(i.relatedTarget||i.toElement),f?g=a.getID(f):f=d,f=f||d):(p=d,f=t,g=n),p===f)return null;var v=o.getPooled(c.mouseLeave,m,i,s);v.type="mouseleave",v.target=p,v.relatedTarget=f;var E=o.getPooled(c.mouseEnter,g,i,s);return E.type="mouseenter",E.target=f,E.relatedTarget=p,r.accumulateEnterLeaveDispatches(v,E,m,g),A[0]=v,A[1]=E,A}};e.exports=d},function(e,t,n){"use strict";function i(e){return e===m.topMouseUp||e===m.topTouchEnd||e===m.topTouchCancel}function r(e){return e===m.topMouseMove||e===m.topTouchMove}function o(e){return e===m.topMouseDown||e===m.topTouchStart}function a(e,t,n,i){var r=e.type||"unknown-event";e.currentTarget=f.Mount.getNode(i),t?h.invokeGuardedCallbackWithCatch(r,n,e,i):h.invokeGuardedCallback(r,n,e,i),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,i=e._dispatchIDs;if(Array.isArray(n))for(var r=0;r<n.length&&!e.isPropagationStopped();r++)a(e,t,n[r],i[r]);else n&&a(e,t,n,i);e._dispatchListeners=null,e._dispatchIDs=null}function l(e){var t=e._dispatchListeners,n=e._dispatchIDs;if(Array.isArray(t)){for(var i=0;i<t.length&&!e.isPropagationStopped();i++)if(t[i](e,n[i]))return n[i]}else if(t&&t(e,n))return n;return null}function u(e){var t=l(e);return e._dispatchIDs=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchIDs;Array.isArray(t)?p(!1):void 0;var i=t?t(e,n):null;return e._dispatchListeners=null,e._dispatchIDs=null,i}function A(e){return!!e._dispatchListeners}var d=n(43),h=n(228),p=n(13),f=(n(18),{Mount:null,injectMount:function(e){f.Mount=e}}),m=d.topLevelTypes,g={isEndish:i,isMoveish:r,isStartish:o,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:u,hasDispatches:A,getNode:function(e){return f.Mount.getNode(e)},getID:function(e){return f.Mount.getID(e)},injection:f};e.exports=g},function(e,t,n){"use strict";function i(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var r=n(50),o=n(15),a=n(240);o(i.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,i=n.length,r=this.getText(),o=r.length;for(e=0;i>e&&n[e]===r[e];e++);var a=i-e;for(t=1;a>=t&&n[i-t]===r[o-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=r.slice(e,s),this._fallbackText}}),r.addPoolingTo(i),e.exports=i},function(e,t,n){"use strict";var i,r=n(67),o=n(24),a=r.injection.MUST_USE_ATTRIBUTE,s=r.injection.MUST_USE_PROPERTY,l=r.injection.HAS_BOOLEAN_VALUE,u=r.injection.HAS_SIDE_EFFECTS,c=r.injection.HAS_NUMERIC_VALUE,A=r.injection.HAS_POSITIVE_NUMERIC_VALUE,d=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(o.canUseDOM){var h=document.implementation;i=h&&h.hasFeature&&h.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var p={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:a|l,allowTransparency:a,alt:null,async:l,autoComplete:null,autoPlay:l,capture:a|l,cellPadding:null,cellSpacing:null,charSet:a,challenge:a,checked:s|l,classID:a,className:i?a:s,cols:a|A,colSpan:null,content:null,contentEditable:null,contextMenu:a,controls:s|l,coords:null,crossOrigin:null,data:null,dateTime:a,"default":l,defer:l,dir:null,disabled:a|l,download:d,draggable:null,encType:null,form:a,formAction:a,formEncType:a,formMethod:a,formNoValidate:l,formTarget:a,frameBorder:a,headers:null,height:a,hidden:a|l,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:s,inputMode:a,integrity:null,is:a,keyParams:a,keyType:a,kind:null,label:null,lang:null,list:a,loop:s|l,low:null,manifest:a,marginHeight:null,marginWidth:null,max:null,maxLength:a,media:a,mediaGroup:null,method:null,min:null,minLength:a,multiple:s|l,muted:s|l,name:null,nonce:a,noValidate:l,open:l,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:s|l,rel:null,required:l,reversed:l,role:a,rows:a|A,rowSpan:null,sandbox:null,scope:null,scoped:l,scrolling:null,seamless:a|l,selected:s|l,shape:null,size:a|A,sizes:a,span:A,spellCheck:null,src:null,srcDoc:s,srcLang:null,srcSet:a,start:c,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:s|u,width:a,wmode:a,wrap:null,about:a,datatype:a,inlist:a,prefix:a,property:a,resource:a,"typeof":a,vocab:a,autoCapitalize:a,autoCorrect:a,autoSave:null,color:null,itemProp:a,itemScope:a|l,itemType:a,itemID:a,itemRef:a,results:null,security:a,unselectable:a},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};e.exports=p},function(e,t,n){"use strict";var i=n(592),r=n(600),o={linkState:function(e){return new i(this.state[e],r.createStateKeySetter(this,e))}};e.exports=o},function(e,t,n){"use strict";var i=(n(86),n(140)),r=(n(18),"_getDOMNodeDidWarn"),o={getDOMNode:function(){return this.constructor[r]=!0,i(this)}};e.exports=o},function(e,t,n){"use strict";function i(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}}}var r=n(85),o=n(15),a=n(603),s=n(576),l=r.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:s.propTypes.name,transitionAppear:r.PropTypes.bool,transitionEnter:r.PropTypes.bool,transitionLeave:r.PropTypes.bool,transitionAppearTimeout:i("Appear"),transitionEnterTimeout:i("Enter"),transitionLeaveTimeout:i("Leave")},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return r.createElement(s,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},e)},render:function(){return r.createElement(a,o({},this.props,{childFactory:this._wrapChild}))}});e.exports=l},function(e,t,n){"use strict";var i=n(85),r=n(136),o=n(625),a=n(602),s=n(242),l=17,u=i.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.shape({enter:i.PropTypes.string,leave:i.PropTypes.string,active:i.PropTypes.string}),i.PropTypes.shape({enter:i.PropTypes.string,enterActive:i.PropTypes.string,leave:i.PropTypes.string,leaveActive:i.PropTypes.string,appear:i.PropTypes.string,appearActive:i.PropTypes.string})]).isRequired,appear:i.PropTypes.bool,enter:i.PropTypes.bool,
leave:i.PropTypes.bool,appearTimeout:i.PropTypes.number,enterTimeout:i.PropTypes.number,leaveTimeout:i.PropTypes.number},transition:function(e,t,n){var i=r.findDOMNode(this);if(!i)return void(t&&t());var s=this.props.name[e]||this.props.name+"-"+e,l=this.props.name[e+"Active"]||s+"-active",u=null,c=function(e){e&&e.target!==i||(clearTimeout(u),o.removeClass(i,s),o.removeClass(i,l),a.removeEndEventListener(i,c),t&&t())};o.addClass(i,s),this.queueClass(l),n?(u=setTimeout(c,n),this.transitionTimeouts.push(u)):a.addEndEventListener(i,c)},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,l))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(o.addClass.bind(o,r.findDOMNode(this))),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)})},componentWillAppear:function(e){this.props.appear?this.transition("appear",e,this.props.appearTimeout):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e,this.props.enterTimeout):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e,this.props.leaveTimeout):e()},render:function(){return s(this.props.children)}});e.exports=u},function(e,t,n){"use strict";function i(e,t,n){var i=void 0===e[n];null!=t&&i&&(e[n]=o(t,null))}var r=n(55),o=n(145),a=n(148),s=n(149),l=(n(18),{instantiateChildren:function(e,t,n){if(null==e)return null;var r={};return s(e,i,r),r},updateChildren:function(e,t,n,i){if(!t&&!e)return null;var s;for(s in t)if(t.hasOwnProperty(s)){var l=e&&e[s],u=l&&l._currentElement,c=t[s];if(null!=l&&a(u,c))r.receiveComponent(l,c,n,i),t[s]=l;else{l&&r.unmountComponent(l,s);var A=o(c,null);t[s]=A}}for(s in e)!e.hasOwnProperty(s)||t&&t.hasOwnProperty(s)||r.unmountComponent(e[s]);return t},unmountChildren:function(e){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];r.unmountComponent(n)}}});e.exports=l},function(e,t,n){"use strict";var i=n(623),r={shouldComponentUpdate:function(e,t){return i(this,e,t)}};e.exports=r},function(e,t,n){"use strict";function i(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}function r(e){}var o=n(135),a=n(44),s=n(32),l=n(86),u=n(37),c=n(104),A=(n(103),n(55)),d=n(138),h=n(15),p=n(88),f=n(13),m=n(148);n(18);r.prototype.render=function(){var e=l.get(this)._currentElement.type;return e(this.props,this.context,this.updater)};var g=1,v={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(e,t,n){this._context=n,this._mountOrder=g++,this._rootNodeID=e;var i,o,a=this._processProps(this._currentElement.props),u=this._processContext(n),c=this._currentElement.type,h="prototype"in c;h&&(i=new c(a,u,d)),h&&null!==i&&i!==!1&&!s.isValidElement(i)||(o=i,i=new r(c)),i.props=a,i.context=u,i.refs=p,i.updater=d,this._instance=i,l.set(i,this);var m=i.state;void 0===m&&(i.state=m=null),"object"!=typeof m||Array.isArray(m)?f(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,i.componentWillMount&&(i.componentWillMount(),this._pendingStateQueue&&(i.state=this._processPendingState(i.props,i.context))),void 0===o&&(o=this._renderValidatedComponent()),this._renderedComponent=this._instantiateReactComponent(o);var v=A.mountComponent(this._renderedComponent,e,t,this._processChildContext(n));return i.componentDidMount&&t.getReactMountReady().enqueue(i.componentDidMount,i),v},unmountComponent:function(){var e=this._instance;e.componentWillUnmount&&e.componentWillUnmount(),A.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._instance=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,l.remove(e)},_maskContext:function(e){var t=null,n=this._currentElement.type,i=n.contextTypes;if(!i)return p;t={};for(var r in i)t[r]=e[r];return t},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t=this._currentElement.type,n=this._instance,i=n.getChildContext&&n.getChildContext();if(i){"object"!=typeof t.childContextTypes?f(!1):void 0;for(var r in i)r in t.childContextTypes?void 0:f(!1);return h({},e,i)}return e},_processProps:function(e){return e},_checkPropTypes:function(e,t,n){var r=this.getName();for(var o in e)if(e.hasOwnProperty(o)){var a;try{"function"!=typeof e[o]?f(!1):void 0,a=e[o](t,o,r,n)}catch(s){a=s}if(a instanceof Error){i(this);n===c.prop}}},receiveComponent:function(e,t,n){var i=this._currentElement,r=this._context;this._pendingElement=null,this.updateComponent(t,i,e,r,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&A.receiveComponent(this,this._pendingElement||this._currentElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(e,t,n,i,r){var o,a=this._instance,s=this._context===r?a.context:this._processContext(r);t===n?o=n.props:(o=this._processProps(n.props),a.componentWillReceiveProps&&a.componentWillReceiveProps(o,s));var l=this._processPendingState(o,s),u=this._pendingForceUpdate||!a.shouldComponentUpdate||a.shouldComponentUpdate(o,l,s);u?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,o,l,s,e,r)):(this._currentElement=n,this._context=r,a.props=o,a.state=l,a.context=s)},_processPendingState:function(e,t){var n=this._instance,i=this._pendingStateQueue,r=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!i)return n.state;if(r&&1===i.length)return i[0];for(var o=h({},r?i[0]:n.state),a=r?1:0;a<i.length;a++){var s=i[a];h(o,"function"==typeof s?s.call(n,o,e,t):s)}return o},_performComponentUpdate:function(e,t,n,i,r,o){var a,s,l,u=this._instance,c=Boolean(u.componentDidUpdate);c&&(a=u.props,s=u.state,l=u.context),u.componentWillUpdate&&u.componentWillUpdate(t,n,i),this._currentElement=e,this._context=o,u.props=t,u.state=n,u.context=i,this._updateRenderedComponent(r,o),c&&r.getReactMountReady().enqueue(u.componentDidUpdate.bind(u,a,s,l),u)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,i=n._currentElement,r=this._renderValidatedComponent();if(m(i,r))A.receiveComponent(n,r,e,this._processChildContext(t));else{var o=this._rootNodeID,a=n._rootNodeID;A.unmountComponent(n),this._renderedComponent=this._instantiateReactComponent(r);var s=A.mountComponent(this._renderedComponent,o,e,this._processChildContext(t));this._replaceNodeWithMarkupByID(a,s)}},_replaceNodeWithMarkupByID:function(e,t){o.replaceNodeWithMarkupByID(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return t},_renderValidatedComponent:function(){var e;a.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{a.current=null}return null===e||e===!1||s.isValidElement(e)?void 0:f(!1),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?f(!1):void 0;var i=t.getPublicInstance(),r=n.refs===p?n.refs={}:n.refs;r[e]=i},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof r?null:e},_instantiateReactComponent:null};u.measureMethods(v,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var E={Mixin:v};e.exports=E},function(e,t){"use strict";var n={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},i={getNativeProps:function(e,t,i){if(!t.disabled)return t;var r={};for(var o in t)t.hasOwnProperty(o)&&!n[o]&&(r[o]=t[o]);return r}};e.exports=i},function(e,t,n){"use strict";function i(){return this}function r(){var e=this._reactInternalComponent;return!!e}function o(){}function a(e,t){var n=this._reactInternalComponent;n&&(M.enqueueSetPropsInternal(n,e),t&&M.enqueueCallbackInternal(n,t))}function s(e,t){var n=this._reactInternalComponent;n&&(M.enqueueReplacePropsInternal(n,e),t&&M.enqueueCallbackInternal(n,t))}function l(e,t){t&&(null!=t.dangerouslySetInnerHTML&&(null!=t.children?R(!1):void 0,"object"==typeof t.dangerouslySetInnerHTML&&z in t.dangerouslySetInnerHTML?void 0:R(!1)),null!=t.style&&"object"!=typeof t.style?R(!1):void 0)}function u(e,t,n,i){var r=N.findReactContainerForID(e);if(r){var o=r.nodeType===J?r.ownerDocument:r;W(t,o)}i.getReactMountReady().enqueue(c,{id:e,registrationName:t,listener:n})}function c(){var e=this;y.putListener(e.id,e.registrationName,e.listener)}function A(){var e=this;e._rootNodeID?void 0:R(!1);var t=N.getNode(e._rootNodeID);switch(t?void 0:R(!1),e._tag){case"iframe":e._wrapperState.listeners=[y.trapBubbledEvent(S.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in Q)Q.hasOwnProperty(n)&&e._wrapperState.listeners.push(y.trapBubbledEvent(S.topLevelTypes[n],Q[n],t));break;case"img":e._wrapperState.listeners=[y.trapBubbledEvent(S.topLevelTypes.topError,"error",t),y.trapBubbledEvent(S.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[y.trapBubbledEvent(S.topLevelTypes.topReset,"reset",t),y.trapBubbledEvent(S.topLevelTypes.topSubmit,"submit",t)]}}function d(){I.mountReadyWrapper(this)}function h(){O.postUpdateWrapper(this)}function p(e){$.call(X,e)||(q.test(e)?void 0:R(!1),X[e]=!0)}function f(e,t){return e.indexOf("-")>=0||null!=t.is}function m(e){p(e),this._tag=e.toLowerCase(),this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._rootNodeID=null,this._wrapperState=null,this._topLevelWrapper=null,this._nodeWithLegacyProperties=null}var g=n(562),v=n(564),E=n(67),_=n(132),S=n(43),y=n(102),b=n(134),C=n(580),I=n(583),T=n(584),O=n(221),w=n(587),N=n(30),k=n(593),D=n(37),M=n(138),P=n(15),L=n(107),x=n(108),R=n(13),B=(n(146),n(45)),F=n(109),U=n(147),V=(n(151),n(150),n(18),y.deleteListener),W=y.listenTo,H=y.registrationNameModules,K={string:!0,number:!0},G=B({children:null}),j=B({style:null}),z=B({__html:null}),J=1,Q={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Y={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Z={listing:!0,pre:!0,textarea:!0},q=(P({menuitem:!0},Y),/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/),X={},$={}.hasOwnProperty;m.displayName="ReactDOMComponent",m.Mixin={construct:function(e){this._currentElement=e},mountComponent:function(e,t,n){this._rootNodeID=e;var i=this._currentElement.props;switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},t.getReactMountReady().enqueue(A,this);break;case"button":i=C.getNativeProps(this,i,n);break;case"input":I.mountWrapper(this,i,n),i=I.getNativeProps(this,i,n);break;case"option":T.mountWrapper(this,i,n),i=T.getNativeProps(this,i,n);break;case"select":O.mountWrapper(this,i,n),i=O.getNativeProps(this,i,n),n=O.processChildContext(this,i,n);break;case"textarea":w.mountWrapper(this,i,n),i=w.getNativeProps(this,i,n)}l(this,i);var r;if(t.useCreateElement){var o=n[N.ownerDocumentContextKey],a=o.createElement(this._currentElement.type);_.setAttributeForID(a,this._rootNodeID),N.getID(a),this._updateDOMProperties({},i,t,a),this._createInitialChildren(t,i,n,a),r=a}else{var s=this._createOpenTagMarkupAndPutListeners(t,i),u=this._createContentMarkup(t,i,n);r=!u&&Y[this._tag]?s+"/>":s+">"+u+"</"+this._currentElement.type+">"}switch(this._tag){case"input":t.getReactMountReady().enqueue(d,this);case"button":case"select":case"textarea":i.autoFocus&&t.getReactMountReady().enqueue(g.focusDOMComponent,this)}return r},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];if(null!=r)if(H.hasOwnProperty(i))r&&u(this._rootNodeID,i,r,e);else{i===j&&(r&&(r=this._previousStyleCopy=P({},t.style)),r=v.createMarkupForStyles(r));var o=null;null!=this._tag&&f(this._tag,t)?i!==G&&(o=_.createMarkupForCustomAttribute(i,r)):o=_.createMarkupForProperty(i,r),o&&(n+=" "+o)}}if(e.renderToStaticMarkup)return n;var a=_.createMarkupForID(this._rootNodeID);return n+" "+a},_createContentMarkup:function(e,t,n){var i="",r=t.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&(i=r.__html);else{var o=K[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)i=x(o);else if(null!=a){var s=this.mountChildren(a,e,n);i=s.join("")}}return Z[this._tag]&&"\n"===i.charAt(0)?"\n"+i:i},_createInitialChildren:function(e,t,n,i){var r=t.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&F(i,r.__html);else{var o=K[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)U(i,o);else if(null!=a)for(var s=this.mountChildren(a,e,n),l=0;l<s.length;l++)i.appendChild(s[l])}},receiveComponent:function(e,t,n){var i=this._currentElement;this._currentElement=e,this.updateComponent(t,i,e,n)},updateComponent:function(e,t,n,i){var r=t.props,o=this._currentElement.props;switch(this._tag){case"button":r=C.getNativeProps(this,r),o=C.getNativeProps(this,o);break;case"input":I.updateWrapper(this),r=I.getNativeProps(this,r),o=I.getNativeProps(this,o);break;case"option":r=T.getNativeProps(this,r),o=T.getNativeProps(this,o);break;case"select":r=O.getNativeProps(this,r),o=O.getNativeProps(this,o);break;case"textarea":w.updateWrapper(this),r=w.getNativeProps(this,r),o=w.getNativeProps(this,o)}l(this,o),this._updateDOMProperties(r,o,e,null),this._updateDOMChildren(r,o,e,i),!L&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=o),"select"===this._tag&&e.getReactMountReady().enqueue(h,this)},_updateDOMProperties:function(e,t,n,i){var r,o,a;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r))if(r===j){var s=this._previousStyleCopy;for(o in s)s.hasOwnProperty(o)&&(a=a||{},a[o]="");this._previousStyleCopy=null}else H.hasOwnProperty(r)?e[r]&&V(this._rootNodeID,r):(E.properties[r]||E.isCustomAttribute(r))&&(i||(i=N.getNode(this._rootNodeID)),_.deleteValueForProperty(i,r));for(r in t){var l=t[r],c=r===j?this._previousStyleCopy:e[r];if(t.hasOwnProperty(r)&&l!==c)if(r===j)if(l?l=this._previousStyleCopy=P({},l):this._previousStyleCopy=null,c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(a=a||{},a[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(a=a||{},a[o]=l[o])}else a=l;else H.hasOwnProperty(r)?l?u(this._rootNodeID,r,l,n):c&&V(this._rootNodeID,r):f(this._tag,t)?(i||(i=N.getNode(this._rootNodeID)),r===G&&(l=null),_.setValueForAttribute(i,r,l)):(E.properties[r]||E.isCustomAttribute(r))&&(i||(i=N.getNode(this._rootNodeID)),null!=l?_.setValueForProperty(i,r,l):_.deleteValueForProperty(i,r))}a&&(i||(i=N.getNode(this._rootNodeID)),v.setValueForStyles(i,a))},_updateDOMChildren:function(e,t,n,i){var r=K[typeof e.children]?e.children:null,o=K[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null!=r?null:e.children,u=null!=o?null:t.children,c=null!=r||null!=a,A=null!=o||null!=s;null!=l&&null==u?this.updateChildren(null,n,i):c&&!A&&this.updateTextContent(""),null!=o?r!==o&&this.updateTextContent(""+o):null!=s?a!==s&&this.updateMarkup(""+s):null!=u&&this.updateChildren(u,n,i)},unmountComponent:function(){switch(this._tag){case"iframe":case"img":case"form":case"video":case"audio":var e=this._wrapperState.listeners;if(e)for(var t=0;t<e.length;t++)e[t].remove();break;case"input":I.unmountWrapper(this);break;case"html":case"head":case"body":R(!1)}if(this.unmountChildren(),y.deleteAllListeners(this._rootNodeID),b.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._wrapperState=null,this._nodeWithLegacyProperties){var n=this._nodeWithLegacyProperties;n._reactInternalComponent=null,this._nodeWithLegacyProperties=null}},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var e=N.getNode(this._rootNodeID);e._reactInternalComponent=this,e.getDOMNode=i,e.isMounted=r,e.setState=o,e.replaceState=o,e.forceUpdate=o,e.setProps=a,e.replaceProps=s,e.props=this._currentElement.props,this._nodeWithLegacyProperties=e}return this._nodeWithLegacyProperties}},D.measureMethods(m,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),P(m.prototype,m.Mixin,k.Mixin),e.exports=m},function(e,t,n){"use strict";function i(e){return r.createFactory(e)}var r=n(32),o=(n(225),n(635)),a=o({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},i);e.exports=a},function(e,t,n){"use strict";function i(){this._rootNodeID&&d.updateWrapper(this)}function r(e){var t=this._currentElement.props,n=a.executeOnChange(t,e);l.asap(i,this);var r=t.name;if("radio"===t.type&&null!=r){for(var o=s.getNode(this._rootNodeID),u=o;u.parentNode;)u=u.parentNode;for(var d=u.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),h=0;h<d.length;h++){var p=d[h];if(p!==o&&p.form===o.form){var f=s.getID(p);f?void 0:c(!1);var m=A[f];m?void 0:c(!1),l.asap(i,m)}}}return n}var o=n(137),a=n(133),s=n(30),l=n(38),u=n(15),c=n(13),A={},d={getNativeProps:function(e,t,n){var i=a.getValue(t),r=a.getChecked(t),o=u({},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=i?i:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return o},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:t.defaultChecked||!1,initialValue:null!=n?n:null,onChange:r.bind(e)}},mountReadyWrapper:function(e){A[e._rootNodeID]=e},unmountWrapper:function(e){delete A[e._rootNodeID]},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&o.updatePropertyByID(e._rootNodeID,"checked",n||!1);var i=a.getValue(t);null!=i&&o.updatePropertyByID(e._rootNodeID,"value",""+i)}};e.exports=d},function(e,t,n){"use strict";var i=n(217),r=n(221),o=n(15),a=(n(18),r.valueContextKey),s={mountWrapper:function(e,t,n){var i=n[a],r=null;if(null!=i)if(r=!1,Array.isArray(i)){for(var o=0;o<i.length;o++)if(""+i[o]==""+t.value){r=!0;break}}else r=""+i==""+t.value;e._wrapperState={selected:r}},getNativeProps:function(e,t,n){var r=o({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(r.selected=e._wrapperState.selected);var a="";return i.forEach(t.children,function(e){null!=e&&("string"!=typeof e&&"number"!=typeof e||(a+=e))}),a&&(r.children=a),r}};e.exports=s},function(e,t,n){"use strict";function i(e,t,n,i){return e===n&&t===i}function r(e){var t=document.selection,n=t.createRange(),i=n.text.length,r=n.duplicate();r.moveToElementText(e),r.setEndPoint("EndToStart",n);var o=r.text.length,a=o+i;return{start:o,end:a}}function o(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,r=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(l){return null}var u=i(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=u?0:s.toString().length,A=s.cloneRange();A.selectNodeContents(e),A.setEnd(s.startContainer,s.startOffset);var d=i(A.startContainer,A.startOffset,A.endContainer,A.endOffset),h=d?0:A.toString().length,p=h+c,f=document.createRange();f.setStart(n,r),f.setEnd(o,a);var m=f.collapsed;return{start:m?p:h,end:m?h:p}}function a(e,t){var n,i,r=document.selection.createRange().duplicate();"undefined"==typeof t.end?(n=t.start,i=n):t.start>t.end?(n=t.end,i=t.start):(n=t.start,i=t.end),r.moveToElementText(e),r.moveStart("character",n),r.setEndPoint("EndToStart",r),r.moveEnd("character",i-n),r.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),i=e[c()].length,r=Math.min(t.start,i),o="undefined"==typeof t.end?r:Math.min(t.end,i);if(!n.extend&&r>o){var a=o;o=r,r=a}var s=u(e,r),l=u(e,o);if(s&&l){var A=document.createRange();A.setStart(s.node,s.offset),n.removeAllRanges(),r>o?(n.addRange(A),n.extend(l.node,l.offset)):(A.setEnd(l.node,l.offset),n.addRange(A))}}}var l=n(24),u=n(620),c=n(240),A=l.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:A?r:o,setOffsets:A?a:s};e.exports=d},function(e,t,n){"use strict";var i=n(224),r=n(598),o=n(139);i.inject();var a={renderToString:r.renderToString,renderToStaticMarkup:r.renderToStaticMarkup,version:o};e.exports=a},function(e,t,n){"use strict";function i(){this._rootNodeID&&c.updateWrapper(this)}function r(e){var t=this._currentElement.props,n=o.executeOnChange(t,e);return s.asap(i,this),n}var o=n(133),a=n(137),s=n(38),l=n(15),u=n(13),c=(n(18),{getNativeProps:function(e,t,n){null!=t.dangerouslySetInnerHTML?u(!1):void 0;var i=l({},t,{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return i},mountWrapper:function(e,t){var n=t.defaultValue,i=t.children;null!=i&&(null!=n?u(!1):void 0,Array.isArray(i)&&(i.length<=1?void 0:u(!1),i=i[0]),n=""+i),null==n&&(n="");var a=o.getValue(t);e._wrapperState={initialValue:""+(null!=a?a:n),onChange:r.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=o.getValue(t);null!=n&&a.updatePropertyByID(e._rootNodeID,"value",""+n)}});e.exports=c},function(e,t,n){"use strict";function i(e){r.enqueueEvents(e),r.processEventQueue(!1)}var r=n(83),o={handleTopLevel:function(e,t,n,o,a){var s=r.extractEvents(e,t,n,o,a);i(s)}};e.exports=o},function(e,t,n){"use strict";function i(e){var t=d.getID(e),n=A.getReactRootIDFromNodeID(t),i=d.findReactContainerForID(n),r=d.getFirstReactDOM(i);return r}function r(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function o(e){a(e)}function a(e){for(var t=d.getFirstReactDOM(f(e.nativeEvent))||window,n=t;n;)e.ancestors.push(n),n=i(n);for(var r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var o=d.getID(t)||"";g._handleTopLevel(e.topLevelType,t,o,e.nativeEvent,f(e.nativeEvent))}}function s(e){var t=m(window);e(t)}var l=n(243),u=n(24),c=n(50),A=n(68),d=n(30),h=n(38),p=n(15),f=n(143),m=n(630);p(r.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(r,c.twoArgumentPooler);var g={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(e){g._handleTopLevel=e},setEnabled:function(e){g._enabled=!!e},isEnabled:function(){return g._enabled},trapBubbledEvent:function(e,t,n){var i=n;return i?l.listen(i,t,g.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var i=n;return i?l.capture(i,t,g.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=s.bind(null,e);l.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(g._enabled){var n=r.getPooled(e,t);try{h.batchedUpdates(o,n)}finally{r.release(n)}}}};e.exports=g},function(e,t,n){"use strict";var i=n(67),r=n(83),o=n(135),a=n(218),s=n(226),l=n(102),u=n(232),c=n(37),A=n(235),d=n(38),h={Component:o.injection,Class:a.injection,DOMProperty:i.injection,EmptyComponent:s.injection,EventPluginHub:r.injection,EventEmitter:l.injection,NativeComponent:u.injection,Perf:c.injection,RootIndex:A.injection,Updates:d.injection};e.exports=h},function(e,t,n){"use strict";var i=n(217),r=n(219),o=n(218),a=n(582),s=n(32),l=(n(225),n(234)),u=n(139),c=n(15),A=n(242),d=s.createElement,h=s.createFactory,p=s.cloneElement,f={Children:{map:i.map,forEach:i.forEach,count:i.count,toArray:i.toArray,only:A},Component:r,createElement:d,cloneElement:p,isValidElement:s.isValidElement,PropTypes:l,createClass:o.createClass,createFactory:h,createMixin:function(e){return e},DOM:a,version:u,__spread:c};e.exports=f},function(e,t,n){"use strict";function i(e,t){this.value=e,this.requestChange=t}function r(e){var t={value:"undefined"==typeof e?o.PropTypes.any.isRequired:e.isRequired,requestChange:o.PropTypes.func.isRequired};return o.PropTypes.shape(t)}var o=n(85);i.PropTypes={link:r},e.exports=i},function(e,t,n){"use strict";function i(e,t,n){m.push({parentID:e,parentNode:null,type:A.INSERT_MARKUP,markupIndex:g.push(t)-1,content:null,fromIndex:null,toIndex:n})}function r(e,t,n){m.push({parentID:e,parentNode:null,type:A.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:t,toIndex:n})}function o(e,t){m.push({parentID:e,parentNode:null,type:A.REMOVE_NODE,markupIndex:null,content:null,fromIndex:t,toIndex:null})}function a(e,t){m.push({parentID:e,parentNode:null,type:A.SET_MARKUP,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function s(e,t){m.push({parentID:e,parentNode:null,type:A.TEXT_CONTENT,markupIndex:null,content:t,fromIndex:null,toIndex:null})}function l(){m.length&&(c.processChildrenUpdates(m,g),u())}function u(){m.length=0,g.length=0}var c=n(135),A=n(231),d=(n(44),n(55)),h=n(577),p=n(238),f=0,m=[],g=[],v={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return h.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,i){var r;return r=p(t),h.updateChildren(e,r,n,i)},mountChildren:function(e,t,n){var i=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=i;var r=[],o=0;for(var a in i)if(i.hasOwnProperty(a)){var s=i[a],l=this._rootNodeID+a,u=d.mountComponent(s,l,t,n);s._mountIndex=o++,r.push(u)}return r},updateTextContent:function(e){f++;var t=!0;try{var n=this._renderedChildren;h.unmountChildren(n);for(var i in n)n.hasOwnProperty(i)&&this._unmountChild(n[i]);this.setTextContent(e),t=!1}finally{f--,f||(t?u():l())}},updateMarkup:function(e){f++;var t=!0;try{var n=this._renderedChildren;h.unmountChildren(n);for(var i in n)n.hasOwnProperty(i)&&this._unmountChildByName(n[i],i);this.setMarkup(e),t=!1}finally{f--,f||(t?u():l())}},updateChildren:function(e,t,n){f++;var i=!0;try{this._updateChildren(e,t,n),i=!1}finally{f--,f||(i?u():l())}},_updateChildren:function(e,t,n){var i=this._renderedChildren,r=this._reconcilerUpdateChildren(i,e,t,n);if(this._renderedChildren=r,r||i){var o,a=0,s=0;for(o in r)if(r.hasOwnProperty(o)){var l=i&&i[o],u=r[o];l===u?(this.moveChild(l,s,a),a=Math.max(l._mountIndex,a),l._mountIndex=s):(l&&(a=Math.max(l._mountIndex,a),this._unmountChild(l)),this._mountChildByNameAtIndex(u,o,s,t,n)),s++}for(o in i)!i.hasOwnProperty(o)||r&&r.hasOwnProperty(o)||this._unmountChild(i[o])}},unmountChildren:function(){var e=this._renderedChildren;h.unmountChildren(e),this._renderedChildren=null},moveChild:function(e,t,n){e._mountIndex<n&&r(this._rootNodeID,e._mountIndex,t)},createChild:function(e,t){i(this._rootNodeID,t,e._mountIndex)},removeChild:function(e){o(this._rootNodeID,e._mountIndex)},setTextContent:function(e){s(this._rootNodeID,e)},setMarkup:function(e){a(this._rootNodeID,e)},_mountChildByNameAtIndex:function(e,t,n,i,r){var o=this._rootNodeID+t,a=d.mountComponent(e,o,i,r);e._mountIndex=n,this.createChild(e,a)},_unmountChild:function(e){this.removeChild(e),e._mountIndex=null}}};e.exports=v},function(e,t,n){"use strict";var i=n(13),r={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){r.isValidOwner(n)?void 0:i(!1),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r.isValidOwner(n)?void 0:i(!1),n.getPublicInstance().refs[t]===e.getPublicInstance()&&n.detachRef(t)}};e.exports=r},function(e,t,n){"use strict";function i(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=r.getPooled(null),this.useCreateElement=!e&&s.useCreateElement}var r=n(131),o=n(50),a=n(102),s=n(220),l=n(229),u=n(106),c=n(15),A={initialize:l.getSelectionInformation,close:l.restoreSelection},d={initialize:function(){var e=a.isEnabled();return a.setEnabled(!1),e},close:function(e){a.setEnabled(e)}},h={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},p=[A,d,h],f={getTransactionWrappers:function(){return p},getReactMountReady:function(){return this.reactMountReady},destructor:function(){r.release(this.reactMountReady),this.reactMountReady=null}};c(i.prototype,u.Mixin,f),o.addPoolingTo(i),e.exports=i},function(e,t,n){"use strict";function i(e,t,n){"function"==typeof e?e(t.getPublicInstance()):o.addComponentAsRefTo(t,e,n)}function r(e,t,n){"function"==typeof e?e(null):o.removeComponentAsRefFrom(t,e,n)}var o=n(594),a={};a.attachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&i(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null===e||e===!1,i=null===t||t===!1;return n||i||t._owner!==e._owner||t.ref!==e.ref},a.detachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&r(n,e,t._owner)}},e.exports=a},function(e,t){"use strict";var n={isBatchingUpdates:!1,batchedUpdates:function(e){}};e.exports=n},function(e,t,n){"use strict";function i(e){a.isValidElement(e)?void 0:p(!1);var t;try{A.injection.injectBatchingStrategy(u);var n=s.createReactRootID();return t=c.getPooled(!1),t.perform(function(){var i=h(e,null),r=i.mountComponent(n,t,d);return l.addChecksumToMarkup(r)},null)}finally{c.release(t),A.injection.injectBatchingStrategy(o)}}function r(e){a.isValidElement(e)?void 0:p(!1);var t;try{A.injection.injectBatchingStrategy(u);var n=s.createReactRootID();return t=c.getPooled(!0),t.perform(function(){var i=h(e,null);
return i.mountComponent(n,t,d)},null)}finally{c.release(t),A.injection.injectBatchingStrategy(o)}}var o=n(223),a=n(32),s=n(68),l=n(230),u=n(597),c=n(599),A=n(38),d=n(88),h=n(145),p=n(13);e.exports={renderToString:i,renderToStaticMarkup:r}},function(e,t,n){"use strict";function i(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.reactMountReady=o.getPooled(null),this.useCreateElement=!1}var r=n(50),o=n(131),a=n(106),s=n(15),l=n(39),u={initialize:function(){this.reactMountReady.reset()},close:l},c=[u],A={getTransactionWrappers:function(){return c},getReactMountReady:function(){return this.reactMountReady},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};s(i.prototype,a.Mixin,A),r.addPoolingTo(i),e.exports=i},function(e,t){"use strict";function n(e,t){var n={};return function(i){n[t]=i,e.setState(n)}}var i={createStateSetter:function(e,t){return function(n,i,r,o,a,s){var l=t.call(e,n,i,r,o,a,s);l&&e.setState(l)}},createStateKeySetter:function(e,t){var i=e.__keySetters||(e.__keySetters={});return i[t]||(i[t]=n(e,t))}};i.Mixin={createStateSetter:function(e){return i.createStateSetter(this,e)},createStateKeySetter:function(e){return i.createStateKeySetter(this,e)}},e.exports=i},function(e,t,n){"use strict";var i=n(238),r={getChildMapping:function(e){return e?i(e):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var i={},r=[];for(var o in e)t.hasOwnProperty(o)?r.length&&(i[o]=r,r=[]):r.push(o);var a,s={};for(var l in t){if(i.hasOwnProperty(l))for(a=0;a<i[l].length;a++){var u=i[l][a];s[i[l][a]]=n(u)}s[l]=n(l)}for(a=0;a<r.length;a++)s[r[a]]=n(r[a]);return s}};e.exports=r},function(e,t,n){"use strict";function i(){var e=document.createElement("div"),t=e.style;"AnimationEvent"in window||delete s.animationend.animation,"TransitionEvent"in window||delete s.transitionend.transition;for(var n in s){var i=s[n];for(var r in i)if(r in t){l.push(i[r]);break}}}function r(e,t,n){e.addEventListener(t,n,!1)}function o(e,t,n){e.removeEventListener(t,n,!1)}var a=n(24),s={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},l=[];a.canUseDOM&&i();var u={addEndEventListener:function(e,t){return 0===l.length?void window.setTimeout(t,0):void l.forEach(function(n){r(e,n,t)})},removeEndEventListener:function(e,t){0!==l.length&&l.forEach(function(n){o(e,n,t)})}};e.exports=u},function(e,t,n){"use strict";var i=n(85),r=n(601),o=n(15),a=n(39),s=i.createClass({displayName:"ReactTransitionGroup",propTypes:{component:i.PropTypes.any,childFactory:i.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:a.thatReturnsArgument}},getInitialState:function(){return{children:r.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t=r.getChildMapping(e.children),n=this.state.children;this.setState({children:r.mergeChildMappings(n,t)});var i;for(i in t){var o=n&&n.hasOwnProperty(i);!t[i]||o||this.currentlyTransitioningKeys[i]||this.keysToEnter.push(i)}for(i in n){var a=t&&t.hasOwnProperty(i);!n[i]||a||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var n=r.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var n=r.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n=r.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)?this.performEnter(e):this.setState(function(t){var n=o({},t.children);return delete n[e],{children:n}})},render:function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(i.cloneElement(this.props.childFactory(n),{ref:t,key:t}))}return i.createElement(this.props.component,this.props,e)}});e.exports=s},function(e,t,n){"use strict";var i=n(67),r=i.injection.MUST_USE_ATTRIBUTE,o={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},a={Properties:{clipPath:r,cx:r,cy:r,d:r,dx:r,dy:r,fill:r,fillOpacity:r,fontFamily:r,fontSize:r,fx:r,fy:r,gradientTransform:r,gradientUnits:r,markerEnd:r,markerMid:r,markerStart:r,offset:r,opacity:r,patternContentUnits:r,patternUnits:r,points:r,preserveAspectRatio:r,r:r,rx:r,ry:r,spreadMethod:r,stopColor:r,stopOpacity:r,stroke:r,strokeDasharray:r,strokeLinecap:r,strokeOpacity:r,strokeWidth:r,textAnchor:r,transform:r,version:r,viewBox:r,x1:r,x2:r,x:r,xlinkActuate:r,xlinkArcrole:r,xlinkHref:r,xlinkRole:r,xlinkShow:r,xlinkTitle:r,xlinkType:r,xmlBase:r,xmlLang:r,xmlSpace:r,y1:r,y2:r,y:r},DOMAttributeNamespaces:{xlinkActuate:o.xlink,xlinkArcrole:o.xlink,xlinkHref:o.xlink,xlinkRole:o.xlink,xlinkShow:o.xlink,xlinkTitle:o.xlink,xlinkType:o.xlink,xmlBase:o.xml,xmlLang:o.xml,xmlSpace:o.xml},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}};e.exports=a},function(e,t,n){"use strict";function i(e){if("selectionStart"in e&&l.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function r(e,t){if(_||null==g||g!==c())return null;var n=i(g);if(!E||!h(E,n)){E=n;var r=u.getPooled(m.select,v,e,t);return r.type="select",r.target=g,a.accumulateTwoPhaseDispatches(r),r}return null}var o=n(43),a=n(84),s=n(24),l=n(229),u=n(56),c=n(246),A=n(241),d=n(45),h=n(151),p=o.topLevelTypes,f=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,m={select:{phasedRegistrationNames:{bubbled:d({onSelect:null}),captured:d({onSelectCapture:null})},dependencies:[p.topBlur,p.topContextMenu,p.topFocus,p.topKeyDown,p.topMouseDown,p.topMouseUp,p.topSelectionChange]}},g=null,v=null,E=null,_=!1,S=!1,y=d({onSelect:null}),b={eventTypes:m,extractEvents:function(e,t,n,i,o){if(!S)return null;switch(e){case p.topFocus:(A(t)||"true"===t.contentEditable)&&(g=t,v=n,E=null);break;case p.topBlur:g=null,v=null,E=null;break;case p.topMouseDown:_=!0;break;case p.topContextMenu:case p.topMouseUp:return _=!1,r(i,o);case p.topSelectionChange:if(f)break;case p.topKeyDown:case p.topKeyUp:return r(i,o)}return null},didPutListener:function(e,t,n){t===y&&(S=!0)}};e.exports=b},function(e,t){"use strict";var n=Math.pow(2,53),i={createReactRootIndex:function(){return Math.ceil(Math.random()*n)}};e.exports=i},function(e,t,n){"use strict";var i=n(43),r=n(243),o=n(84),a=n(30),s=n(608),l=n(56),u=n(611),c=n(613),A=n(105),d=n(610),h=n(614),p=n(87),f=n(615),m=n(39),g=n(141),v=n(13),E=n(45),_=i.topLevelTypes,S={abort:{phasedRegistrationNames:{bubbled:E({onAbort:!0}),captured:E({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:E({onBlur:!0}),captured:E({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:E({onCanPlay:!0}),captured:E({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:E({onCanPlayThrough:!0}),captured:E({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:E({onClick:!0}),captured:E({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:E({onContextMenu:!0}),captured:E({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:E({onCopy:!0}),captured:E({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:E({onCut:!0}),captured:E({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:E({onDoubleClick:!0}),captured:E({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:E({onDrag:!0}),captured:E({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:E({onDragEnd:!0}),captured:E({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:E({onDragEnter:!0}),captured:E({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:E({onDragExit:!0}),captured:E({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:E({onDragLeave:!0}),captured:E({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:E({onDragOver:!0}),captured:E({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:E({onDragStart:!0}),captured:E({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:E({onDrop:!0}),captured:E({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:E({onDurationChange:!0}),captured:E({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:E({onEmptied:!0}),captured:E({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:E({onEncrypted:!0}),captured:E({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:E({onEnded:!0}),captured:E({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:E({onError:!0}),captured:E({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:E({onFocus:!0}),captured:E({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:E({onInput:!0}),captured:E({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:E({onKeyDown:!0}),captured:E({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:E({onKeyPress:!0}),captured:E({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:E({onKeyUp:!0}),captured:E({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:E({onLoad:!0}),captured:E({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:E({onLoadedData:!0}),captured:E({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:E({onLoadedMetadata:!0}),captured:E({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:E({onLoadStart:!0}),captured:E({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:E({onMouseDown:!0}),captured:E({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:E({onMouseMove:!0}),captured:E({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:E({onMouseOut:!0}),captured:E({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:E({onMouseOver:!0}),captured:E({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:E({onMouseUp:!0}),captured:E({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:E({onPaste:!0}),captured:E({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:E({onPause:!0}),captured:E({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:E({onPlay:!0}),captured:E({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:E({onPlaying:!0}),captured:E({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:E({onProgress:!0}),captured:E({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:E({onRateChange:!0}),captured:E({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:E({onReset:!0}),captured:E({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:E({onScroll:!0}),captured:E({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:E({onSeeked:!0}),captured:E({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:E({onSeeking:!0}),captured:E({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:E({onStalled:!0}),captured:E({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:E({onSubmit:!0}),captured:E({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:E({onSuspend:!0}),captured:E({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:E({onTimeUpdate:!0}),captured:E({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:E({onTouchCancel:!0}),captured:E({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:E({onTouchEnd:!0}),captured:E({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:E({onTouchMove:!0}),captured:E({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:E({onTouchStart:!0}),captured:E({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:E({onVolumeChange:!0}),captured:E({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:E({onWaiting:!0}),captured:E({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:E({onWheel:!0}),captured:E({onWheelCapture:!0})}}},y={topAbort:S.abort,topBlur:S.blur,topCanPlay:S.canPlay,topCanPlayThrough:S.canPlayThrough,topClick:S.click,topContextMenu:S.contextMenu,topCopy:S.copy,topCut:S.cut,topDoubleClick:S.doubleClick,topDrag:S.drag,topDragEnd:S.dragEnd,topDragEnter:S.dragEnter,topDragExit:S.dragExit,topDragLeave:S.dragLeave,topDragOver:S.dragOver,topDragStart:S.dragStart,topDrop:S.drop,topDurationChange:S.durationChange,topEmptied:S.emptied,topEncrypted:S.encrypted,topEnded:S.ended,topError:S.error,topFocus:S.focus,topInput:S.input,topKeyDown:S.keyDown,topKeyPress:S.keyPress,topKeyUp:S.keyUp,topLoad:S.load,topLoadedData:S.loadedData,topLoadedMetadata:S.loadedMetadata,topLoadStart:S.loadStart,topMouseDown:S.mouseDown,topMouseMove:S.mouseMove,topMouseOut:S.mouseOut,topMouseOver:S.mouseOver,topMouseUp:S.mouseUp,topPaste:S.paste,topPause:S.pause,topPlay:S.play,topPlaying:S.playing,topProgress:S.progress,topRateChange:S.rateChange,topReset:S.reset,topScroll:S.scroll,topSeeked:S.seeked,topSeeking:S.seeking,topStalled:S.stalled,topSubmit:S.submit,topSuspend:S.suspend,topTimeUpdate:S.timeUpdate,topTouchCancel:S.touchCancel,topTouchEnd:S.touchEnd,topTouchMove:S.touchMove,topTouchStart:S.touchStart,topVolumeChange:S.volumeChange,topWaiting:S.waiting,topWheel:S.wheel};for(var b in y)y[b].dependencies=[b];var C=E({onClick:null}),I={},T={eventTypes:S,extractEvents:function(e,t,n,i,r){var a=y[e];if(!a)return null;var m;switch(e){case _.topAbort:case _.topCanPlay:case _.topCanPlayThrough:case _.topDurationChange:case _.topEmptied:case _.topEncrypted:case _.topEnded:case _.topError:case _.topInput:case _.topLoad:case _.topLoadedData:case _.topLoadedMetadata:case _.topLoadStart:case _.topPause:case _.topPlay:case _.topPlaying:case _.topProgress:case _.topRateChange:case _.topReset:case _.topSeeked:case _.topSeeking:case _.topStalled:case _.topSubmit:case _.topSuspend:case _.topTimeUpdate:case _.topVolumeChange:case _.topWaiting:m=l;break;case _.topKeyPress:if(0===g(i))return null;case _.topKeyDown:case _.topKeyUp:m=c;break;case _.topBlur:case _.topFocus:m=u;break;case _.topClick:if(2===i.button)return null;case _.topContextMenu:case _.topDoubleClick:case _.topMouseDown:case _.topMouseMove:case _.topMouseOut:case _.topMouseOver:case _.topMouseUp:m=A;break;case _.topDrag:case _.topDragEnd:case _.topDragEnter:case _.topDragExit:case _.topDragLeave:case _.topDragOver:case _.topDragStart:case _.topDrop:m=d;break;case _.topTouchCancel:case _.topTouchEnd:case _.topTouchMove:case _.topTouchStart:m=h;break;case _.topScroll:m=p;break;case _.topWheel:m=f;break;case _.topCopy:case _.topCut:case _.topPaste:m=s}m?void 0:v(!1);var E=m.getPooled(a,n,i,r);return o.accumulateTwoPhaseDispatches(E),E},didPutListener:function(e,t,n){if(t===C){var i=a.getNode(e);I[e]||(I[e]=r.listen(i,"click",m))}},willDeleteListener:function(e,t){t===C&&(I[e].remove(),delete I[e])}};e.exports=T},function(e,t,n){"use strict";function i(e,t,n,i){r.call(this,e,t,n,i)}var r=n(56),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";function i(e,t,n,i){r.call(this,e,t,n,i)}var r=n(56),o={data:null};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";function i(e,t,n,i){r.call(this,e,t,n,i)}var r=n(105),o={dataTransfer:null};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";function i(e,t,n,i){r.call(this,e,t,n,i)}var r=n(87),o={relatedTarget:null};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";function i(e,t,n,i){r.call(this,e,t,n,i)}var r=n(56),o={data:null};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";function i(e,t,n,i){r.call(this,e,t,n,i)}var r=n(87),o=n(141),a=n(619),s=n(142),l={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};r.augmentClass(i,l),e.exports=i},function(e,t,n){"use strict";function i(e,t,n,i){r.call(this,e,t,n,i)}var r=n(87),o=n(142),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};r.augmentClass(i,a),e.exports=i},function(e,t,n){"use strict";function i(e,t,n,i){r.call(this,e,t,n,i)}var r=n(105),o={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(i,o),e.exports=i},function(e,t){"use strict";function n(e){for(var t=1,n=0,r=0,o=e.length,a=-4&o;a>r;){for(;r<Math.min(r+4096,a);r+=4)n+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=i,n%=i}for(;o>r;r++)n+=t+=e.charCodeAt(r);return t%=i,n%=i,t|n<<16}var i=65521;e.exports=n},function(e,t,n){"use strict";function i(e,t){var n=null==t||"boolean"==typeof t||""===t;if(n)return"";var i=isNaN(t);return i||0===t||o.hasOwnProperty(e)&&o[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var r=n(214),o=r.isUnitlessNumber;e.exports=i},function(e,t,n){"use strict";function i(e,t,n,i,r){return r}n(15),n(18);e.exports=i},function(e,t,n){"use strict";function i(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=r(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var r=n(141),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=i},function(e,t){"use strict";function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function r(e,t){for(var r=n(e),o=0,a=0;r;){if(3===r.nodeType){if(a=o+r.textContent.length,t>=o&&a>=t)return{node:r,offset:t-o};o=a}r=n(i(r))}}e.exports=r},function(e,t,n){"use strict";function i(e){return'"'+r(e)+'"'}var r=n(108);e.exports=i},function(e,t,n){"use strict";var i=n(30);e.exports=i.renderSubtreeIntoContainer},function(e,t,n){"use strict";function i(e,t,n){return!r(e.props,t)||!r(e.state,n)}var r=n(151);e.exports=i},function(e,t,n){"use strict";function i(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?a(new e.constructor,e):e}function r(e,t,n){Array.isArray(e)?void 0:l(!1);var i=t[n];Array.isArray(i)?void 0:l(!1)}function o(e,t){if("object"!=typeof t?l(!1):void 0,u.call(t,h))return 1!==Object.keys(t).length?l(!1):void 0,t[h];var n=i(e);if(u.call(t,p)){var s=t[p];s&&"object"==typeof s?void 0:l(!1),n&&"object"==typeof n?void 0:l(!1),a(n,t[p])}u.call(t,c)&&(r(e,t,c),t[c].forEach(function(e){n.push(e)})),u.call(t,A)&&(r(e,t,A),t[A].forEach(function(e){n.unshift(e)})),u.call(t,d)&&(Array.isArray(e)?void 0:l(!1),Array.isArray(t[d])?void 0:l(!1),t[d].forEach(function(e){Array.isArray(e)?void 0:l(!1),n.splice.apply(n,e)})),u.call(t,f)&&("function"!=typeof t[f]?l(!1):void 0,n=t[f](n));for(var m in t)g.hasOwnProperty(m)&&g[m]||(n[m]=o(e[m],t[m]));return n}var a=n(15),s=n(45),l=n(13),u={}.hasOwnProperty,c=s({$push:null}),A=s({$unshift:null}),d=s({$splice:null}),h=s({$set:null}),p=s({$merge:null}),f=s({$apply:null}),m=[c,A,d,h,p,f],g={};m.forEach(function(e){g[e]=!0}),e.exports=o},function(e,t,n){"use strict";var i=n(13),r={addClass:function(e,t){return/\s/.test(t)?i(!1):void 0,t&&(e.classList?e.classList.add(t):r.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return/\s/.test(t)?i(!1):void 0,t&&(e.classList?e.classList.remove(t):r.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?r.addClass:r.removeClass)(e,t)},hasClass:function(e,t){return/\s/.test(t)?i(!1):void 0,e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1}};e.exports=r},function(e,t){"use strict";function n(e){return e.replace(i,function(e,t){return t.toUpperCase()})}var i=/-(.)/g;e.exports=n},function(e,t,n){"use strict";function i(e){return r(e.replace(o,"ms-"))}var r=n(626),o=/^-ms-/;e.exports=i},function(e,t,n){"use strict";function i(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function r(e){return i(e)?Array.isArray(e)?e.slice():o(e):[e]}var o=n(637);e.exports=r},function(e,t,n){"use strict";function i(e){var t=e.match(c);return t&&t[1].toLowerCase()}function r(e,t){var n=u;u?void 0:l(!1);var r=i(e),o=r&&s(r);if(o){n.innerHTML=o[1]+e+o[2];for(var c=o[0];c--;)n=n.lastChild}else n.innerHTML=e;var A=n.getElementsByTagName("script");A.length&&(t?void 0:l(!1),a(A).forEach(t));for(var d=a(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}var o=n(24),a=n(628),s=n(247),l=n(13),u=o.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;e.exports=r},function(e,t){"use strict";function n(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=n},function(e,t){"use strict";function n(e){return e.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;e.exports=n},function(e,t,n){"use strict";function i(e){return r(e).replace(o,"-ms-")}var r=n(631),o=/^ms-/;e.exports=i},function(e,t){"use strict";function n(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=n},function(e,t,n){"use strict";function i(e){return r(e)&&3==e.nodeType}var r=n(633);e.exports=i},function(e,t){"use strict";function n(e,t,n){if(!e)return null;var r={};for(var o in e)i.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r}var i=Object.prototype.hasOwnProperty;e.exports=n},function(e,t){"use strict";function n(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=n},function(e,t,n){"use strict";function i(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?r(!1):void 0,"number"!=typeof t?r(!1):void 0,0===t||t-1 in e?void 0:r(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var i=Array(t),o=0;t>o;o++)i[o]=e[o];return i}var r=n(13);e.exports=i},function(e,t,n){"use strict";var i=n(454);e.exports=function(e,t){if(!i(e))throw new TypeError("Expected a plain object");t=t||{},"function"==typeof t&&(t={compare:t});var n=t.deep,r=function(e){for(var o={},a=Object.keys(e).sort(t.compare),s=0;s<a.length;s++){var l=a[s],u=e[l];o[l]=n&&u!==e&&i(u)?r(u):u}return o};return r(e)}},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})}}]);