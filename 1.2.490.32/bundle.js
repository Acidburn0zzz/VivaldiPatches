webpackJsonp([5,4,6],[function(e,t,n){n(486),e.exports=n(285)},function(e,t,n){"use strict";e.exports=n(108)},function(e,t,n){"use strict";function i(e,t){return"_"+t.charCodeAt(0)+"_"}var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=n(4),s=n(278),l=new RegExp("([^a-z0-9])","g");r=a.i18n.getUILanguage()in s?s[a.i18n.getUILanguage()]:s.en;var u=function(e,t){return t?e.replace(/\$\d/g,function(e){if(e=parseInt(e.substr(1))-1,t.length>e)return t[e];throw new Error("Faulty string variables. Requested string "+(e+1)+" of "+t.length)}):e},c=function(e,t,n){var o=n[0],s=r(o);s===!1?s=0:s===!0&&(s=1);var c=a.i18n.getMessage(e.replace(l,i)+s,n);return""===c?1===o?u(e,n):u(t,n):c},A="_4_",d=function(e,t){var n=a.i18n.getMessage(e.replace(l,i)+A+t.replace(l,i)+"0");return""===n?t:n},h=function(e,t){var n=a.i18n.getMessage(e.replace(l,i)+"0",t);return""===n?u(e,t):n},p=function(e,t,n){return"object"===("undefined"==typeof n?"undefined":o(n))&&n.length>0&&"number"==typeof n[0]?c(e,t,n):"string"==typeof t?d(e,t):h(e,t)};e.exports=p},function(e,t,n){"use strict";var i=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(4),o=n(8),a=n(477),s=n(451),l=n(153),u=l.includes,c=l.fromPairs,A=l.map,d=n(445),h=n("Win32"===navigator.platform?454:"MacIntel"===navigator.platform?452:453),p=function(e){return[e.preferenceKey,e.preferenceValue[e.preferenceType]]},f={pending:{},pendingCount:0,listeners:{},settingsCache:{},loadPromise:function(e){var t=this;return this.attachListeners(),Promise.all([new Promise(function(e){return t.getAll(e)}).then(function(e){return new Promise(function(t){var n=!1;setTimeout(function(){n||t(e)},1e4),s(f,e).then(function(e){n=!0,t(e)})["catch"](function(){n=!0,t(e)})})}).then(function(e){return t.settingsCache=Object.assign(t.settingsCache,e)}),new Promise(function(e){return t.getAllPrefs(function(n){t.settingsCache=Object.assign(t.settingsCache,n),e()})})])},_vivaldiSettingsListener:function(e,t){Object.keys(e).forEach(function(t){var n=e[t],i=n.oldValue,r=n.newValue;f.notifyListeners(t,i,r)})},_vivaldiPrefsListener:function(e){var t=p(e),n=i(t,2),r=n[0],o=n[1],a=f.settingsCache[r];f.notifyListeners(r,a,o)},attachListeners:function(){r.storage.onChanged.addListener(this._vivaldiSettingsListener),o.settings.onChanged.addListener(this._vivaldiPrefsListener)},detachListeners:function(){r.storage.onChanged.removeListener(this._vivaldiSettingsListener),o.settings.onChanged.removeListener(this._vivaldiPrefsListener)},cacheValues:function(e,t){this.settingsCache[e]=t},set:function(e,t){for(var n in e)"true"!==e[n]&&"false"!==e[n]||(e[n]=Boolean("true"===e[n]));r.storage.local.set(e,function(){"function"==typeof t&&(r.runtime.lastError?t(r.runtime.lastError.message):t())})},serveFromCache:function(e){for(var t={},n=[],i=0;i<e.length;i++){var r=e[i];this.settingsCache.hasOwnProperty(r)?t[r]=this.settingsCache[r]:n.push(r)}return{found:t,notFound:n}},returnValues:function(e,t,n){var i=arguments.length>=3?arguments[2]:void 0,r=t;"string"==typeof e&&(r=t[e]);for(var o=0;o<n.length;o++){var a=n[o];a.call(i,r)}},addToPending:function(e,t){if(this.pending.hasOwnProperty(e)){var n=this.pending[e];n.indexOf(t)>-1||n.push(t)}else this.pending[e]=[t]},removeFromPending:function(e){this.pending.hasOwnProperty(e)&&delete this.pending[e]},get:function(e,t){var n="string"==typeof e?new Array(e):e,i=this.serveFromCache(n);if(0===i.notFound.length)return void this.returnValues(e,i.found,[t]);n=i.notFound;var o=this.pending.hasOwnProperty(n);if(this.addToPending(n,t),!o){var a=this.pending[n];this.pendingCount+=1;var s=Date.now();r.storage.local.get(n,function(t){var r=Date.now(),o=r-s;this.pendingCount-=1;var l=2;o>1e3*l&&console.warn("VivaldiSettings get for key(s) "+n+" took more than "+l+" seconds ("+o+"ms)!");for(var u={},c=0;c<n.length;c++){var A=n[c];void 0===t[A]?u[A]=this.getDefault(A):u[A]=t[A],this.cacheValues(A,u[A])}Object.keys(i.found).forEach(function(e){u[e]=i.found[e]}),this.returnValues(e,u,a),this.removeFromPending(n)}.bind(this))}},remove:function(e,t){t&&"function"==typeof t||(t=function(){}),r.storage.local.remove(e,function(){r.runtime.lastError?t(r.runtime.lastError.message):t()})},getDefault:function(e){return LocaleSettings&&LocaleSettings[a()]&&void 0!==LocaleSettings[a()][e]?LocaleSettings[a()][e]:h&&void 0!==h[e]?h[e]:d[e]},getSync:function(e){return this.settingsCache.hasOwnProperty(e)?this.settingsCache[e]:this.getDefault(e)},getKeysSync:function(e){var t=this,n=this.serveFromCache(e),i=n.notFound.reduce(function(e,n){return e[n]=t.getDefault(n),e},n.found);return i},getAll:function(e){var t=arguments.length>=2?arguments[1]:void 0;r.storage.local.get(null,function(n){e.call(t,n)})},getAllPrefs:function(e){o.settings.getAllPreferences(function(t){return e(c(A(p,t)))})},addListener:function(e,t){return"function"!=typeof t?void console.warn("Can not register anything else than a function as a settings listener"):void(this.listeners[e]?u(this.listeners[e],t)?console.warn("Listener already exists."):this.listeners[e].push(t):this.listeners[e]=[t])},removeListener:function(e,t){this.listeners[e]&&("function"==typeof t?this.listeners[e]=this.listeners[e].filter(function(e){return e!==t}):this.listeners[e]=void 0)},notifyListeners:function(e,t,n){this.cacheValues(e,n);var i=this.listeners[e];if(void 0!==i)for(var r=0;r<i.length;r++){var o=i[r];o(t,n,e)}}};e.exports=window.VivaldiSettings=f},function(e,t,n){"use strict";window.chrome&&window.chrome.tabs?e.exports=window.chrome:e.exports=n(289)},function(e,t,n){"use strict";var i=n(87),r=i({BACKGROUND_TASKS_SET:null,BOOKMARKS_BOOKMARK_BAR_CONFIG_ACTION:null,BOOKMARKS_CREATE_BOOKMARK:null,BOOKMARKS_LOAD:null,BOOKMARK_THUMBNAIL_QUEUE_ADD_ITEM:null,BOOKMARK_THUMBNAIL_QUEUE_REMOVE_ITEM:null,BOOKMARK_THUMBNAIL_QUEUE_UPDATE_ITEM:null,CATEGORY_COMMAND_APPEARANCE:null,CATEGORY_COMMAND_APPLICATION:null,CATEGORY_COMMAND_MAIL:null,CATEGORY_COMMAND_TAB_ACTION:null,CATEGORY_COMMAND_WEBPAGE_NAVIGATION:null,CHANGED:null,CHROME_SET_SESSION:null,CHROME_TABS_ACTIVATED:null,CHROME_TABS_API:null,CHROME_TABS_ATTACHED:null,CHROME_TABS_CREATED:null,CHROME_TABS_DETACHED:null,CHROME_TABS_INIT:null,CHROME_TABS_MOVED:null,CHROME_TABS_REMOVED:null,CHROME_TABS_REPLACED:null,CHROME_TABS_UPDATED:null,CHROME_BOOKMARKS_CHANGED:null,CHROME_BOOKMARKS_CREATED:null,CHROME_BOOKMARKS_REMOVED:null,CHROME_BOOKMARKS_MOVED:null,CHROME_BOOKMARKS_REORDERED:null,CHROME_NOTES_CHANGED:null,CHROME_NOTES_CREATED:null,CHROME_NOTES_REMOVED:null,CHROME_NOTES_MOVED:null,CLOSE_FIND_IN_PAGE_ACTION:null,COMMAND_CONF_CHANGED:null,COMMAND_SAVE_SHORTCUTKEY:null,COMMAND_SESSION_CHANGED:null,COMMAND_SET_CONFIGURATION:null,CONTACT_ADD_CONTACTS:null,CONTACT_DELETE_CONTACT:null,CONTACT_INITIALIZE:null,CONTACT_SAVE_CONTACT:null,CONTACT_SELECT_CONTACT:null,CONTENT_SCRIPT_LOAD:null,CONTENT_SCRIPT_PAGE_ADD:null,CONTENT_SCRIPT_PAGE_REMOVE:null,FAST_FORWARD_SET_FORWARD_INFO:null,FAST_FORWARD_SET_REWIND_INFO:null,FIND_IN_PAGE_ACTION:null,FIND_IN_PAGE_FOCUS:null,FIND_IN_PAGE_RESULT_ACTION:null,MAIL_ADD_FOLDERS:null,MAIL_ADD_MESSAGES:null,MAIL_CLEAR_FOLDERS:null,MAIL_FILTER_SELECTED:null,MAIL_MESSAGES_INIT:null,MAIL_REMOVE_MESSAGES:null,MAIL_SELECT_FOLDER:null,MAIL_UPDATE_MESSAGES:null,MAIL_WINDOW_ID_SET:null,MAIN_FULLSCREEN:null,MAIN_SHOW_CONFIRM_OPEN_BOOKMARKS_DIALOG:null,MAIN_SHOW_IMPORT_DATA:null,MAIN_SHOW_EXPORT_DATA:null,MAIN_SHOW_SAVE_SESSION:null,MAIN_SHOW_OPEN_SESSION:null,MAIN_SHOW_KEYBOARDS_SHORTCUTS:null,MAIN_SHOW_PAGE_INFO:null,MAIN_SHOW_QUICKCOMMANDS:null,MAIN_SHOW_VISUAL_TAB_SWITCHER:null,MAIN_TOGGLE_ADDRESS_BAR:null,MAIN_TOGGLE_TAB_BAR:null,MAIN_TOGGLE_UI:null,MAIN_ZOOM_DOUBLE:null,MAIN_ZOOM_HALF:null,MAIN_ZOOM_IN:null,MAIN_ZOOM_OUT:null,MAIN_ZOOM_RESET:null,NAVGIATION_TYPED_HISTORY_DELETE:null,NAVIGATION_ADD_POPUP:null,NAVIGATION_ADD_TYPED_HISTORY:null,NAVIGATION_HISTORY_ALL_DELETED:null,NAVIGATION_REMOVE_POPUP:null,NAVIGATION_RESET_PERMISSIONS:null,NAVIGATION_SET_PERMISSION:null,NAVIGATION_SET_PROGRESS:null,NAVIGATION_SET_STATE:null,NAVIGATION_SET_THEME_COLOR:null,NAVIGATION_TYPED_HISTORY_DELETE:null,NOTES_INIT_ACTION:null,PAGE_ACTION_FAST_FORWARD_URL_CHANGED:null,PAGE_BACK:null,PAGE_CLEAR_SELECTION:null,PAGE_CLONE:null,PAGE_CLOSE:null,PAGE_CLOSE_OTHER:null,PAGE_CYCLE_BY_HISTORY:null,PAGE_CYCLE_BY_ORDER:null,PAGE_DISCARD:null,PAGE_FORWARD:null,PAGE_GO:null,PAGE_OPEN:null,PAGE_MINIMIZE:null,PAGE_BURY:null,PAGE_OPEN_URL:null,PAGE_OVERRIDE_PROPS:null,PAGE_RELOAD:null,PAGE_SET_DISCARDED:null,PAGE_SET_IS_RESTORED:null,PAGE_SET_FAVICON:null,PAGE_SET_LOADING:null,PAGE_SET_MEDIASTATE:null,PAGE_SET_MEDIA_PERMISSION:null,PAGE_SET_PROCESSEXITSTATE:null,PAGE_SET_SSL_STATE:null,PAGE_SET_TARGET_URL:null,PAGE_SET_THUMBNAIL:null,PAGE_STOP:null,PAGE_TABSTACK_CLOSE:null,PAGE_TABSTACK_CREATE:null,PAGE_TABSTACK_EXPAND:null,PAGE_TABSTACK_REMOVE_FROM:null,PAGE_TILE_PAGES:null,PAGE_TOGGLE_PINNED:null,PAGE_SET_SELECTION:null,PAGE_UPDATE:null,PAGE_UPDATED:null,PANEL_SET_AVAILABLE:null,PANEL_SET_CONTENT_VISIBLE:null,PANEL_SET_FOCUS:null,PANEL_SET_PANELS:null,PANEL_SET_STATE:null,PANEL_SET_SWITCHER_VISIBLE:null,PANEL_SET_WIDTH:null,PANEL_SHOW_NEXT:null,PANEL_TOGGLE_CONTENT:null,PANEL_TOGGLE_PANEL:null,SEARCH_FIELD_ADD_TYPED_HISTORY:null,SEARCH_FIELD_DELETE_TYPED_HISTORY:null,SEARCH_FIELD_SET_STATE:null,SHOW_FIND_IN_PAGE_ACTION:null,SPATNAV_NAVIGATE:null,STATUS_SET_STATUS:null,STATUS_CLEAR_STATUS:null,TAB_CLOSEBUTTON_DISABLED:null,TAB_CLOSE_ALL_BUT_ACTIVE_TAB:null,TAB_NEW_BACKGROUND_TAB:null,TAB_NEW_TAB:null,TAB_STACK_TILE_GRID:null,TAB_STACK_TILE_HORIZONTAL:null,TAB_STACK_TILE_VERTICAL:null,TAB_STACK_UNTILE:null,TAB_SWITCH_BACK_HISTORY:null,TAB_SWITCH_BACK_ORDER:null,TAB_SWITCH_BACK_SETTING:null,TAB_SWITCH_FORWARD_HISTORY:null,TAB_SWITCH_FORWARD_ORDER:null,TAB_SWITCH_FORWARD_SETTING:null,TAB_UNDO_RECENTLY_CLOSED:null,TAB_VIEW_PAGE_SOURCE:null,TOOLTIP_CLEAR:null,TOOLTIP_HIDE:null,TOOLTIP_SHOW:null,URLFIELD_BLUR:null,URLFIELD_CLEAR_STATE:null,URLFIELD_SET_STATE:null,URLFIELD_TYPED_HISTORY_DELETE:null,URLFIELD_TYPED_HISTORY_HIDE:null,URLFIELD_TYPED_HISTORY_SHOW:null,URL_SET_SSLSTATE:null,WEBPAGEVIEW_ACTIONS:null,WEBVIEW_SET_ACTIVE:null});e.exports=r},function(e,t,n){var i,r;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var r=typeof i;if("string"===r||"number"===r)e.push(i);else if(Array.isArray(i))e.push(n.apply(null,i));else if("object"===r)for(var a in i)o.call(i,a)&&i[a]&&e.push(a)}}return e.join(" ")}var o={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(i=[],r=function(){return n}.apply(t,i),!(void 0!==r&&(e.exports=r)))}()},function(e,t,n){e.exports=n(628)},function(e,t,n){"use strict";window.vivaldi?e.exports=window.vivaldi:e.exports=n(119)},function(e,t,n){"use strict";var i=n(492).Dispatcher,r=Object.assign(new i,{handleViewAction:function(e){this.dispatch({source:"VIEW_ACTION",action:e})},handleChromeAction:function(e){this.dispatch({source:"CHROME_ACTION",action:e})}});e.exports=r},function(e,t,n){"use strict";var i=n(1),r=function o(e,t){if("string"==typeof e)return-1!==e.toLowerCase().indexOf(t);if(e&&"input"===e.type&&"string"==typeof e.props.value)return-1!==e.props.value.toLowerCase().indexOf(t);if(e&&e.props&&e.props.children){var n=!1;return i.Children.forEach(e.props.children,function(e){n||(n=o(e,t))}),n}return!1};e.exports=function(e,t){return t?r(e,t)?e:null:e}},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(3),o={getInitialState:function(){return{}},componentWillMount:function(){this.setState(r.getKeysSync(this.vivaldiSettingsKeys))},componentDidMount:function(){var e=this;this.vivaldiSettingsKeys.forEach(function(t){return r.addListener(t,e._vivaldiSettingHandler)})},componentWillUnmount:function(){var e=this;this.vivaldiSettingsKeys.forEach(function(t){return r.removeListener(t,e._vivaldiSettingHandler)})},_vivaldiSettingHandler:function(e,t,n){e!==t&&this.state[n]!==t&&("function"==typeof this.vivaldiSettingWillChange&&this.vivaldiSettingWillChange(n,t),this.isMounted()&&this.setState(i({},n,t)))}};e.exports=o},function(e,t,n){"use strict";function i(e,t,n,i,r,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,a,s],c=0;l=new Error(t.replace(/%s/g,function(){return u[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}e.exports=i},function(e,t,n){"use strict";e.exports=n(248)},function(e,t,n){"use strict";var i=n(43),r=i;e.exports=r},function(e,t,n){(function(t){"use strict";var i=n(9),r=n(5),o=n(125),a=n(3),s=n(16),l=n(68),u=n(183),c=n(4),A=n(63),d=n(478),h=n(8),p=n(19),f=p.urls,m=n(27),g=m.fromJS,v=m.List,_=window.vivaldiWindowId,E="MacIntel"===navigator.platform,S={onFaviconUpdated:"setFavIcon",onTabUpdated:"setTabInfo"},y={newPage:function(e,t,n){n&&n.url&&(e=n.url),y.openURL(e)},openURL:function(e,t){t=Object.assign({singleton:!1,inCurrent:!1,inSpecific:null,inBackground:!1,isTyped:!1,bookmarkId:0,incognito:!1},t),e=f.getUrl(e),e&&"_blank"!==e||(e=s.getDefaultStartpage());var n=t.inSpecific?t.inSpecific:s.getActivePage();if(t.inNewWindow)return void y.openWindow(e,{focused:!t.inBackground,incognito:t.incognito});var o=!1;if(t.singleton){if(f.internalKeyFromUrl(e)){var a=s.getPages().find(function(t){return f.equalUrl(e,t.get("url"))});a&&(i.handleViewAction({actionType:r.PAGE_OPEN,page:a}),o=!0)}}else t.inCurrent&&n.get("url")&&(t.bookmarkId&&u.add(n.get("id"),t.bookmarkId,e),i.handleViewAction({actionType:r.PAGE_OPEN_URL,page:n,url:e,isTyped:t.isTyped}),o=!0);if(!o){var l=this.convertToBlobUrl(e),A={url:l,windowId:_,active:t.inBackground!==!0};t.addOpenerTabId===!0&&(A.openerTabId=n.get("id")),c.tabs.create(A,function(n){c.runtime.lastError?console.warn("ERROR while creating new tab. Original message:\n"+c.runtime.lastError.message):t.bookmarkId&&u.add(n.id,t.bookmarkId,e)})}},convertToBlobUrl:function(e){var n=e.match(/^(data:)(.*?)?(;charset=.*?)?(;base64)?,(.*)$/);if(!n)return e;for(var i=n[2],r=n[5],o=new t(r,"base64").toString("binary"),a=new Array(o.length),s=0;s<o.length;s++)a[s]=o.charCodeAt(s);var l=new Uint8Array(a),u=new Blob([l],{type:i});return window.URL.createObjectURL(u)},openWindow:function(){var e=arguments.length<=0||void 0===arguments[0]?s.getDefaultStartpage():arguments[0],t=arguments[1],n=arguments[2],i=arguments[3],r=Object.assign({url:e,incognito:!1,focused:void 0,width:window.innerWidth,height:window.innerHeight},t);void 0===i&&(i="normal"),r.extData=JSON.stringify({ext_id:A(),windowType:i}),c.windows.create(r,"function"==typeof n?n:null)},openIncognitoWindow:function(e){y.openWindow(e,{incognito:!0})},detachPage:function(e){var t=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?void 0:arguments[2],i=v.isList(e)||Array.isArray(e)?v(e):v.of(e);return i.some(function(e){return e.get("incognito")})?void console.warn("Not possible to detach incognito tabs"):void y.openWindow(null,{left:t,top:n},function(e){c.tabs.move(i.map(function(e){return e.get("id")}).toArray(),{windowId:e.id,index:-1},function(t){c.windows.update(e.id,{focused:!0},function(){c.tabs.update(t.id,{active:!0})})})})},openPage:function(e){i.handleViewAction({actionType:r.PAGE_OPEN,page:e})},openPageN:function(e){var t=e-1,n=s.getTabAndStacks(),i=n.get(t);i&&y.openPage(i.page)},openLastPage:function(){var e=s.getTabAndStacks(),t=e.last();t&&y.openPage(t.page)},minimizePage:function(e){i.handleViewAction({actionType:r.PAGE_MINIMIZE,page:e})},discardPage:function(e){h.tabsPrivate.discard(e.get("id"))},clonePage:function(e){var t=v.isList(e)||Array.isArray(e)?v(e):v.of(e);i.handleViewAction({actionType:r.PAGE_CLONE,pages:t})},showHomepage:function(){var e=a.getSync(o.kVivaldiHomepage);e&&y.openURL(e,{inCurrent:!0})},buryPage:function(e){i.handleViewAction({actionType:r.PAGE_BURY,page:e})},close:function(){if(s.isSelecting()){var e=s.getPageSelection().map(function(e){return s.getPages().find(function(t){return t.get("id")===e})}).filter(Boolean).toList();y.closePage(e)}else{var t=s.getActivePage();y.closePage(t)}},closePage:function(e){var t=v.isList(e)||Array.isArray(e)?v(e):v.of(e);i.handleViewAction({actionType:r.PAGE_CLOSE,pages:t})},reloadPage:function(e){var t=v.isList(e)||Array.isArray(e)?v(e):v.of(e);t.forEach(function(e){c.tabs.reload(e.get("id")),l.resetPermissions(e)})},closeToRight:function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],n=s.getPages().skipUntil(function(t){return t.get("id")===e.get("id")}).skip(1);t&&s.isGroup(e)&&!function(){var t=["extData","group"];n=n.filter(function(n){return n.getIn(t)!==e.getIn(t)})}(),n.count()&&y.closePage(n)},closeToLeft:function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],n=s.getPages().takeUntil(function(t){return t.get("id")===e.get("id")});t&&s.isGroup(e)&&!function(){var t=["extData","group"];n=n.filter(function(n){return n.getIn(t)!==e.getIn(t)})}(),n.count()&&y.closePage(n)},mutePage:function(e){var t=v.isList(e)||Array.isArray(e)?v(e):v.of(e);t.forEach(function(e){"playing"===e.get("mediastate")?c.tabs.update(e.get("id"),{muted:!0},function(){c.runtime.lastError}):"muting"===e.get("mediastate")&&c.tabs.update(e.get("id"),{muted:!1},function(){c.runtime.lastError})})},movePage:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],i=["extData","group"],r=void 0;r=n&&s.isGroup(e.getIn(i))?s.getGroup(e.getIn(i)):g([e]);var o=void 0;o=n&&s.isGroup(t.getIn(i))?s.getGroup(t.getIn(i)):g([t]);var a=r.first().get("index")>o.first().get("index")?o.first().get("index"):o.last().get("index");y.moveToIndex(r,a)},moveToIndex:function(e,t){var n=v.isList(e)||Array.isArray(e)?v(e):v.of(e);c.tabs.move(n.map(function(e){return e.get("id")}).toArray(),{windowId:_,index:t},function(e){c.runtime.lastError&&console.warn("Error moving tabs: ",e,c.runtime.lastError.message)})},moveToWindow:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],i=v.isList(e)||Array.isArray(e)?v(e):v.of(e);if(i.some(function(e){return e.get("incognito")}))return void console.warn("Not possible to detach incognito tabs");var r=void 0;n?r=i.flatMap(function(e){var t=e.getIn(["extData","group"]),n=void 0;return n=s.isGroup(t)?s.getGroup(t):v.of(e)}):(r=i,r.forEach(y.removeFromTabStack)),c.tabs.move(r.map(function(e){return e.get("id")}).toJS(),{windowId:t,index:-1},function(e){c.runtime.lastError&&console.warn("Error moving tabs: ",e,c.runtime.lastError.message),c.windows.update(t,{focused:!0})})},createTabStack:function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];i.handleViewAction({actionType:r.PAGE_TABSTACK_CREATE,pages:e,includeGroups:t})},expandTabStack:function(e){i.handleViewAction({actionType:r.PAGE_TABSTACK_EXPAND,groupName:e})},closeTabStack:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];if(t&&!E){var n=s.getPages(),o=s.getGroup(e.getIn(["extData","group"]));n.count()===o.count()&&y.openURL()}i.handleViewAction({actionType:r.PAGE_TABSTACK_CLOSE,page:e,closeAll:t})},removeFromTabStack:function(e){i.handleViewAction({actionType:r.PAGE_TABSTACK_REMOVE_FROM,page:e})},closeOther:function(e,t){var n=v.isList(e)||Array.isArray(e)?v(e):v.of(e);i.handleViewAction({actionType:r.PAGE_CLOSE_OTHER,pages:n,includeGroup:t})},togglePinned:function(){var e=arguments.length<=0||void 0===arguments[0]?s.getActivePage():arguments[0],t=v.isList(e)||Array.isArray(e)?v(e):v.of(e);i.handleViewAction({actionType:r.PAGE_TOGGLE_PINNED,pages:t})},tilePages:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?"selection":arguments[2];i.handleViewAction({actionType:r.PAGE_TILE_PAGES,pages:e,type:n,id:A(),layout:t})},tileTabStack:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1],n=s.getGroup(e),i=t||(n.count()<4?"vertically":"grid");y.tilePages(n,i,"group")},unTilePages:function(e){var t=s.getTiles(e);t&&i.handleViewAction({actionType:r.PAGE_TILE_PAGES,pages:t,type:"",id:"",layout:""})},overridePageProps:function(e,t){i.handleViewAction({actionType:r.PAGE_OVERRIDE_PROPS,page:e,props:t})},setMediaState:function(e,t){i.handleViewAction({actionType:r.PAGE_SET_MEDIASTATE,pageId:e,mediastate:t})},setFavIcon:function(e){i.handleViewAction({actionType:r.PAGE_SET_FAVICON,pageId:e.tabId,favIcon:e.favIcon})},setTabInfo:function(e,t){i.handleViewAction({actionType:r.PAGE_SET_DISCARDED,pageId:e,discarded:t.discarded})},setProcessExitState:function(e,t){i.handleViewAction({actionType:r.PAGE_SET_PROCESSEXITSTATE,pageId:e,processexitstate:t})},setThumbnail:function(e,t){i.handleViewAction({actionType:r.PAGE_SET_THUMBNAIL,page:e,thumbnail:t})},setTargetURL:function(e){i.handleViewAction({actionType:r.PAGE_SET_TARGET_URL,targetUrl:e})},setSelection:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];i.handleViewAction({actionType:r.PAGE_SET_SELECTION,page:e,multiSelect:t,addGroup:n})},clearSelection:function(){i.handleViewAction({actionType:r.PAGE_CLEAR_SELECTION})},cycleByHistory:function(e){var t=arguments.length<=1||void 0===arguments[1]?{goBack:!0}:arguments[1];i.handleViewAction({actionType:r.PAGE_CYCLE_BY_HISTORY,maybeEvent:e,goBack:t.goBack})},cycleByOrder:function(e){var t=arguments.length<=1||void 0===arguments[1]?{goBack:!0}:arguments[1];i.handleViewAction({actionType:r.PAGE_CYCLE_BY_ORDER,maybeEvent:e,goBack:t.goBack})},setIsRestored:function(e,t){i.handleViewAction({actionType:r.PAGE_SET_IS_RESTORED,page:e,restored:t})},_attachTabPrivateHandlers:function(){var e=this;Object.keys(S).forEach(function(t){return h.tabsPrivate[t].addListener(e[S[t]])})},_registerChromeTabsEvents:function(){var e={onCreated:r.CHROME_TABS_CREATED,onRemoved:r.CHROME_TABS_REMOVED,onUpdated:r.CHROME_TABS_UPDATED,onMoved:r.CHROME_TABS_MOVED,onActivated:r.CHROME_TABS_ACTIVATED,onDetached:r.CHROME_TABS_DETACHED,onAttached:r.CHROME_TABS_ATTACHED,onReplaced:r.CHROME_TABS_REPLACED},t=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;n>o;o++)r[o-2]=arguments[o];d(e,r)===_&&i.handleChromeAction({actionType:t,args:r})};Object.keys(e).forEach(function(n){return c.tabs[n].addListener(t.bind(null,n,e[n]))})},loadPromise:function(){return new Promise(function(e,t){c.tabs.query({windowId:_},function(t){c.windows.get(_,function(n){var o=n.extData?JSON.parse(n.extData):{};i.handleChromeAction({actionType:r.CHROME_TABS_INIT,tabs:t,historystack:o.historystack}),y._registerChromeTabsEvents(),y._attachTabPrivateHandlers(),a.addListener("TAB_SELECTION_INCLUDE_ACTIVE",y.clearSelection),e()})})})}};c.runtime.onMessage.addListener(function(e,t,n){if(e.windowId&&e.windowId===window.vivaldiWindowId){var i=e.url||e.bookmark.url;"openBookmark"===e.action?y.openURL(i,{inCurrent:e.incurrent,inBackground:e.inbackground,inNewWindow:e.inNewWindow,bookmarkId:e.bookmark.id,incognito:e.incognito}):"openURL"===e.action&&y.openURL(i,{inBackground:e.inbackground,inCurrent:e.incurrent})}}),e.exports=window.PageActions=y}).call(t,n(103).Buffer)},function(e,t,n){"use strict";function i(e,t){Le=t?Le.push(e):Le.filter(function(t){t.get("url")!==e.get("url")})}function r(e){var t=Le.find(function(t){return t.get("url")===e.get("url")});return Boolean(void 0!==t)}function o(e,t,n,i){return a(e,t,function(e){return e.set(n,i)})}function a(e,t,n){return e.map(function(e){return e.get("id")===t?n(e):e})}function s(e,t){return e.map(function(e){var n=e.get("id")===t,i=e.set("active",n);return n&&i.getIn(["extData","read"])!==!0&&(i=i.setIn(["extData","read"],!0),ce.tabs.update(e.get("id"),{extData:JSON.stringify((e.get("extData")||ne()).set("read",!0).toJS())})),i})}function l(e){if(e&&0!==e.count()){var t=e.map(function(e){return Oe.find(function(t){return t.get("id")===e})}).filter(Boolean).map(function(e){var t=e.getIn(["extData","ext_id"]);return t||(t=he(),ce.tabs.update(e.get("id"),{extData:JSON.stringify((e.get("extData")||ne()).set("ext_id",t).toJS())})),t});ue(Ie,{historystack:t.toJS()})}}function u(e,t){var n=["extData","ext_id"],i=ee(t).map(function(t){return e.find(function(e){return e.getIn(n)===t})}).filter(Boolean).map(function(e){return e.get("id")});return i=e.filter(function(e){return!i.includes(e.get("id"))}).map(function(e){return e.get("id")}).concat(i),i=be(i,Oe.find(function(e){return e.get("active")}).get("id"))}function c(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];e&&(Oe=ee(e.map(function(e){return q.tabToPage(e)})),Ne=u(Oe,t),J(),Ue.emitChange())}function A(e,t){var n=e.get("index"),o=le.getSync("TAB_NEW_PLACEMENT");if(r(e))i(e,!1),n=e.get("index");else if("directrightofcurrent"===o){var a=Ue.getActivePage();n=a.get("index")+1}else if("rightofcurrent"===o&&e.get("openerTabId")){var s=function(t){return t.get("id")!==e.get("openerTabId")&&t.get("openerTabId")!==e.get("openerTabId")},l=t.skipWhile(s).takeUntil(s).last();l&&(n=l.get("index")+1)}else if("alwayslast"===o){var u=t.last();u&&(n=u.get("index")+1)}return n}function d(e){var t=q.tabToPage(e),n=A(t,Oe),i=n!==t.get("index");i&&ce.tabs.move(t.get("id"),{index:n});var r=t.get("extData")||ne(),o=le.getSync("TAB_STACKING_OPEN_IN_CURRENT");if(o&&void 0!==t.get("openerTabId")){var a=Ue.getPages().find(function(e){return e.get("id")===t.get("openerTabId")}),u=a&&a.getIn(["extData","group"]);a&&Ue.isGroup(u)&&(r=r.set("group",u))}r=r.update("ext_id",function(e){return e||he()});var c=JSON.stringify(r.toJS());e.extData===c||!e.extData&&r===ne()||(t=t.set("extData",r),ce.tabs.update(t.get("id"),{extData:c})),Ne=e.active?be(Ne,t.get("id")):ye(Ne,t.get("id")),l(Ne),Oe=Oe.splice(e.index,0,t),e.active&&(Oe=s(Oe,e.id)),J(),i||Ue.emitChange()}function h(e){Oe=Oe.filter(function(t){return t.get("id")!==e}).map(function(e,t){return e.set("index",t)}),Ne=Ne.filter(function(e){return Oe.some(function(t){return t.get("id")===e})}),l(Ne),J(),Ue.emitChange()}function p(e,t){var n=Oe.get(t.index);if(!n)return void console.error("Chrome Tab not found",Oe.toJS(),t.index,e,t);var i=q.updatePage(n,{favIconUrl:t.favIconUrl||""},{url:t.url||n.get("url")},e);ie(i,n)||(Oe=Oe.splice(t.index,1,i),Ue.emitChange())}function f(e){Oe=Oe.splice(e.fromIndex,1).splice(e.toIndex,0,Oe.get(e.fromIndex)).map(function(e,t){return e.set("index",t)}),Ue.emitChange()}function m(e){var t=Ue.getActivePage();if(e.tabId!==t.get("id")){var n=s(Oe,e.tabId),i=Ne.last();ie(n,Oe)&&i===e.tabId||(Oe=n,Ne=be(Ne,e.tabId),l(Ne),J(),Ue.emitChange())}}function g(e){h(e)}function v(e,t){var n=t.newPosition,i=re({fake:!0,id:e,index:n,url:""});Oe=Oe.splice(n,0,i),pe(ce.tabs.get)(e).then(function(e){var t={};return p(t,e),e}).then(function(e){return ce.tabs.update(e.id,{active:!0})})}function _(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=s(Oe,e);ie(n,Oe)||(Oe=n,J(),ce.tabs.update(e,{active:!0},function(){ce.runtime.lastError}),Ne=be(Ne,e),l(Ne),ke=t?Ne:null,Ue.emitChange())}function E(){Je&&ie(Qe,Ne)||(Je=Ne,Qe=Ne),Je=Ce(Je),_(Je.last()),Qe=Ne}function S(e){if(!e)throw new"Tried to clone without page";e.forEach(function(e){ce.tabs.duplicate(e.get("id"),function(t){var n=le.getSync("TAB_STACKING_OPEN_IN_CURRENT");n&&Ue.isGroup(e.getIn(["extData","group"]))&&ce.tabs.update(t.id,{extData:JSON.stringify({group:e.getIn(["extData","group"])})});var i=le.getSync("TAB_CLONE_PLACEMENT");"rightofcurrent"!==i&&ce.tabs.move(Math.round(t.id),{index:-1})})})}function y(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],n=void 0;if(e.get("openerTabId")){var i=function(){return Oe.takeUntil(function(t){return t.get("id")===e.get("id")}).filter(function(t){return t.get("openerTabId")===e.get("openerTabId")}).reverse()},r=function(){return Oe.slice(e.get("index")+1).filter(function(t){return t.get("openerTabId")===e.get("openerTabId")})};n=t?r().first()||i().first():i().first()||r().first(),n||(n=Oe.find(function(t){return t.get("id")===e.get("openerTabId")}))}return n||(n=Oe.skipUntil(function(t){return t.get("id")===e.get("id")}).skip().find(function(t){return t.get("openerTabId")===e.get("id")})),n}function b(e){var t="TAB_ACTIVATION_PREFER_RELATED",n=le.getSync(t),i=le.getSync("TAB_CLOSE_ACTIVATION"),r=void 0;if(n){var o="left"!==i;if(r=y(e,o))return r}switch(i){case"left":var a=e.get("index")-1;r=0>a?Oe.find(function(t){return t.get("id")!==e.get("id")}):Oe.get(a);break;case"right":r=Oe.get(e.get("index")+1),r||(r=Oe.reverse().find(function(t){return t.get("id")!==e.get("id")}));break;case"activation_order":r=void 0;break;default:r=void 0}return r||!function(){var t=Ne.filter(function(e){return Oe.some(function(t){return t.get("id")===e})}).filter(function(t){return t!==e.get("id")}).last();r=Oe.find(function(e){return e.get("id")===t})}(),r||(r=Oe.first()),r}function C(e){var t=b(e);t&&t.get("id")!==e.get("id")&&(_(t.get("id")),Ne=ye(Ne,e.get("id")),Ue.emitChange())}function T(e){var t=le.getSync("CLOSABLE_PINNED_TABS"),n="on"===t?e:e.filter(function(e){return!e.get("pinned")});Oe=Oe.map(function(e){return n.find(function(t){return t.get("id")===e.get("id")})?e.set("isRemoved",!0):e}),Ne=Ne.filter(function(e){return Oe.some(function(t){return t.get("id")===e})});var i=function(){var n=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];"bury"===t&&(Ne=e.filter(function(e){return e.get("pinned")}).reduce(function(e,t){return ye(e,t.get("id"))},Ne));var i=e.find(function(e){return e.get("active")}),r=Boolean(i&&!("off"===t&&i.get("pinned")));if(r&&!n){var o=b(i);o?_(o.get("id")):Ue.emitChange()}else J(),Ue.emitChange()},r=le.getSync("TAB_NEVER_CLOSE_LAST"),o=Ue.getPages().size-n.size<=0;o&&r?ce.tabs.create({url:Ue.getDefaultStartpage()},i.bind(null,!0)):i()}function I(e,t,n){return e.set("target",ne({url:t,isTyped:n})).set("url",t).set("title","")}function w(e,t,n){Oe=a(Oe,e.get("id"),function(e){return I(e,t,n)}),Ue.emitChange()}function O(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];J();var n=void 0;t?!function(){var t=e.map(function(e){return e.get("id")}),i=te(e.map(function(e){return e.getIn(["extData","group"])}).filter(Boolean));n=i.isEmpty()?e:Ue.getPages().filter(function(e){return t.contains(e.get("id"))||i.contains(e.getIn(["extData","group"]))})}():n=e;var i=function(e){return e.get("pinned")};if(n.some(i))return void console.warn("Can't group pinned pages.");var r=he(),o=n.find(function(e){return"group"===e.getIn(["extData","tiling","type"])}),a=o&&o.getIn(["extData","tiling"])||"",s=n.first().getIn(["extData","tiling","id"]);!a&&s&&n.every(function(e){return"selection"===e.getIn(["extData","tiling","type"])&&e.getIn(["extData","tiling","id"])===s})&&(a=n.first().getIn(["extData","tiling"]).set("type","group")),Oe=Oe.map(function(e){return n.find(function(t){return t.get("id")===e.get("id")})?e.setIn(["extData","group"],r).setIn(["extData","tiling"],a):e}),Ue.emitChange();var l=n.map(function(e){return pe(ce.tabs.update)(e.get("id"),{extData:JSON.stringify((e.get("extData")||ne()).set("group",r).set("tiling",a).toJS())})}),u=pe(ce.tabs.move)(n.map(function(e){return e.get("id")}).toJS(),{windowId:Ie,index:n.sortBy(function(e){return e.get("index")}).first().get("index")});Promise.all([l]).then(u)}function N(e,t){var n=void 0;n=t?e.flatMap(function(e){return Ue.isGroup(e.getIn(["extData","group"]))?Ue.getGroup(e.getIn(["extData","group"])):ee.of(e)}):e;var i=Oe.filterNot(function(e){return n.some(function(t){return t.get("id")===e.get("id")})});T(i)}function k(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];t?Oe=Oe.map(function(t){return t.set("isRemoved",t.getIn(["extData","group"])===e.getIn(["extData","group"]))}):!function(){var t=["extData","group"],n=Oe.filter(function(n){return n.getIn(t)===e.getIn(t)}).map(function(e){return e.get("id")}),i=Ne.reverse().find(function(e){return n.contains(e)});Oe=Oe.map(function(e){return e.set("isRemoved",e.get("id")===i)})}(),Ue.emitChange()}function D(e){ce.tabs.update(e.get("id"),{extData:JSON.stringify((e.get("extData")||ne()).set("group","").set("tiling","").toJS())}),Oe=o(Oe,e.get("id"),"group","")}function M(e){var t=e.getIn(["extData","group"]);if(t){var n=Oe.filter(function(e){return e.getIn(["extData","group"])===t});n.count()<=2?n.forEach(function(e){return D(e)}):D(e),Ue.emitChange()}}function P(e){Ue.getPages().filter(function(t){return t.getIn(["extData","group"])===e}).forEach(function(e){return ce.tabs.update(e.get("id"),{extData:JSON.stringify((e.get("extData")||ne()).set("group","").set("tiling","").toJS())})})}function L(e,t){var n=(e.getIn(["extData","tiling"])||ne()).merge(t),i=(e.get("extData")||ne()).set("tiling",n);ce.tabs.update(e.get("id"),{extData:JSON.stringify(i)})}function x(e,t){e.forEach(function(e){return L(e,Object.assign({},t))})}function R(e){e.forEach(function(e){return ce.tabs.update(e.get("id"),{pinned:!e.get("pinned")})})}function B(e){Pe=e}function U(e,t){Oe=a(Oe,e.get("id"),function(e){return e.merge(t)}),Ue.emitChange()}function F(e,t){Oe=o(Oe,e,"mediastate",t),Ue.emitChange()}function V(e,t){Oe=o(Oe,e,"favIcon",t),Ue.emitChange()}function W(e,t){Oe=o(Oe,e,"discarded",t),Ue.emitChange()}function H(e,t){Oe=o(Oe,e,"processexitstate",t),Ue.emitChange()}function K(e,t){ce.tabs.update(e.get("id"),{extData:JSON.stringify((e.get("extData")||ne()).set("urlForThumbnail",e.get("url")).set("thumbnail",t||void 0).toJS())},function(){ce.runtime.lastError})}function G(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];if(n&&Ue.isGroup(t.getIn(["extData","group"]))){var i=Ue.getGroup(t.getIn(["extData","group"])).map(function(e){return e.get("id")});return e.union(i)}return e.add(t.get("id"))}function j(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];if(n&&Ue.isGroup(t.getIn(["extData","group"]))){var i=Ue.getGroup(t.getIn(["extData","group"])).map(function(e){return e.get("id")});return e.subtract(i)}return e.remove(t.get("id"))}function z(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];return e.contains(t.get("id"))?j(e,t,n):G(e,t,n)}function J(){De=!1,Ye=Ze=Ue.getActivePage();var e=le.getSync("TAB_SELECTION_INCLUDE_ACTIVE");Me=e&&Ye?G(te(),Ze,!0):te()}function Q(){J(),Ue.emitChange()}function Y(e,t,n){t?!function(){var t=e;Me=Me.subtract(Oe.filter(function(e){return e.get("index")>=Math.min(Ye.get("index"),Ze.get("index"))&&e.get("index")<=Math.max(Ye.get("index"),Ze.get("index"))}).flatMap(function(e){var t=e.getIn(["extData","group"]);return Ue.isGroup(t)?Ue.getGroup(t):[e]}).map(function(e){return e.get("id")})).union(Oe.filter(function(e){return e.get("index")>=Math.min(Ye.get("index"),t.get("index"))&&e.get("index")<=Math.max(Ye.get("index"),t.get("index"))}).flatMap(function(e){var t=e.getIn(["extData","group"]);return Ue.isGroup(t)?Ue.getGroup(t):[e]}).map(function(e){return e.get("id")})),Ze=t}():(Ye=Ze=e,Me=De===!1&&e.get("active")?G(Me,e,n):z(Me,e,n)),De=!0,Ue.emitChange()}var Z=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),q=n(101),X=n(17).EventEmitter,$=n(27),ee=$.List,te=$.Set,ne=$.Map,ie=$.is,re=$.fromJS,oe=$.Record,ae=n(9),se=n(5),le=n(3),ue=n(223),ce=n(4),Ae=n(18),de=Ae.debounce,he=n(63),pe=n(479),fe=n(534),me=n(19),ge=me.urls,ve=n(222),_e=ve.modifierUpListener,Ee=ve.hasModifier,Se=n(484),ye=Se.moveToStart,be=Se.moveToEnd,Ce=Se.rotateList,Te=Se.combineLists,Ie=window.vivaldiWindowId,we="change",Oe=ee(),Ne=ee(),ke=null,De=!1,Me=te(),Pe="",Le=ee(),xe=ge.internals.startpage+"?section=Speed-dials&activeSpeedDialIndex=0",Re=oe({type:"tab",id:"",page:ne()}),Be=oe({type:"group",id:"",page:ne(),pages:ee()}),Ue=Object.assign({},X.prototype,{getPages:function(){return Oe},getTabAndStacks:function(){var e=arguments.length<=0||void 0===arguments[0]?Oe:arguments[0];return Fe(e)},getPageHistory:function(){return Ne},getActivePage:function(){var e=arguments.length<=0||void 0===arguments[0]?Oe:arguments[0];return Ve(e)},prefferFocus:function(){return Boolean(ke&&ie(ke,Ne))},isActivePage:function(e){return this.getActivePage().get("id")===e},getGroup:function(e){var t=arguments.length<=1||void 0===arguments[1]?Oe:arguments[1];return We(t,e)},isGroup:function(e){return He(Oe,e)},getGroupHighlightId:function(e){return Ke(Oe,e)},getTiles:function(e){var t=arguments.length<=1||void 0===arguments[1]?Oe:arguments[1];return Ge(t,e)},isSelecting:function(){return De},getPageSelection:function(){return Me},getTargetUrl:function(){return Pe},getDiscardablePages:function(){return je(Oe)},isLastPage:function(e){return ze(Oe)},getDefaultStartpage:function(){var e=le.getSync("DEFAULT_TAB_PAGE");return e||xe},emitChange:de(function(){return Ue.emit(we)},50,{leading:!0}),addChangeListener:function(e){this.on(we,e)},removeChangeListener:function(e){this.removeListener(we,e)}}),Fe=fe(1)(function(e){return e.groupBy(function(e){return e.getIn(["extData","group"],e.get("id"))}).map(function(t,n){return 1===t.count()?new Re({page:t.first(),id:n}):new Be({id:n,pages:t,page:e.find(function(t){return t.get("id")===Ke(e,n)})})}).toList()}),Ve=fe(1)(function(e){return e.find(function(e){return e.get("active")})||ne()}),We=fe(10)(function(e,t){return t?e.filter(function(e){return e.getIn(["extData","group"])===t}):ee()}),He=fe(10)(function(e,t){return t?e.filter(function(e){return e.getIn(["extData","group"])===t}).count()>1:!1}),Ke=fe(10)(function(e,t){var n=We(e,t).map(function(e){return e.get("id")}),i=Ne.reverse().find(function(e){return n.contains(e)});return i||n.first()}),Ge=fe(10)(function(e,t){return t?e.filter(function(e){return e.getIn(["extData","tiling","id"])===t}):ee()}),je=fe(1)(function(e){return e.filter(function(e){return!e.get("discarded")&&!e.get("active")&&e.get("url")!==Ue.getDefaultStartpage()})}),ze=fe(1)(function(e){return e.filter(function(e){return!Boolean(e.get("isRemoved"))}).count()<2}),Je=null,Qe=null,Ye=null,Ze=null,qe=function(){var e=void 0,t=void 0;return function(n){var i=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];if(Ee(n))e?e=Te(Ne,e):(e=Ne,t=Ne.last()),e=Ce(e,i===!1),_(e.last()),_e(n,function(){var n=t,i=e.last();Ne=e.filter(function(e){return e!==n&&e!==i}).push(n),n!==i&&(Ne=Ne.push(i)),l(Ne),e=t=null});else{Ne=Ce(Ne,i===!1),l(Ne);var r=!0;_(Ne.last(),r)}}}(),Xe=function(){var e=void 0,t=void 0;return function(n){var i=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],r=Ue.getPages(),o=r.findIndex(function(e){return e.get("active")});e?e=Te(Ne,e):(e=Ne,t=r.getIn([o,"id"]));var a=((o+(i?1:-1))%r.size+r.size)%r.size,s=!Ee(n);_(r.getIn([a,"id"]),s),_e(n,function(){var n=t,i=r.getIn([a,"id"]);Ne=Te(Ne,e.filter(function(e){return e!==n&&e!==i}).push(n).push(i)),l(Ne),e=t=null})}}();ae.register(function(e){var t=e.action;switch(t.actionType){case se.CHROME_TABS_INIT:c(t.tabs,t.historystack);break;case se.CHROME_TABS_CREATED:var n=Z(t.args,1),r=n[0];d(r);break;case se.CHROME_TABS_REMOVED:var o=Z(t.args,1),a=o[0];h(a);break;case se.CHROME_TABS_UPDATED:var s=Z(t.args,3),l=s[1],u=s[2];p(l,u);break;case se.CHROME_TABS_MOVED:var A=Z(t.args,2),y=A[1];f(y);break;case se.CHROME_TABS_ACTIVATED:var b=Z(t.args,1),I=b[0];m(I);break;case se.CHROME_TABS_DETACHED:var D=Z(t.args,1),L=D[0];g(L);break;case se.CHROME_TABS_ATTACHED:var G=Z(t.args,2),j=G[0],z=G[1];v(j,z);break;case se.CHROME_TABS_REPLACED:break;case se.PAGE_BURY:C(t.page);break;case se.PAGE_CLOSE:T(t.pages);break;case se.PAGE_OPEN_URL:w(t.page,t.url,t.isTyped);break;case se.PAGE_OPEN:_(t.page.get("id"));break;case se.PAGE_MINIMIZE:E();break;case se.PAGE_CLONE:S(t.pages);break;case se.PAGE_SET_IS_RESTORED:i(t.page,t.restored);break;case se.PAGE_TABSTACK_CREATE:O(t.pages,t.includeGroups);break;case se.PAGE_CLOSE_OTHER:N(t.pages,t.includeGroup);break;case se.PAGE_TABSTACK_CLOSE:k(t.page,t.closeAll);break;case se.PAGE_TABSTACK_REMOVE_FROM:M(t.page);break;case se.PAGE_TABSTACK_EXPAND:P(t.groupName);break;case se.PAGE_TILE_PAGES:x(t.pages,{type:t.type,id:t.id,layout:t.layout});break;case se.PAGE_TOGGLE_PINNED:R(t.pages);break;case se.PAGE_SET_TARGET_URL:B(t.targetUrl);break;case se.PAGE_OVERRIDE_PROPS:U(t.page,t.props);break;case se.PAGE_SET_MEDIASTATE:F(t.pageId,t.mediastate);break;case se.PAGE_SET_PROCESSEXITSTATE:H(t.pageId,t.processexitstate);break;case se.PAGE_SET_THUMBNAIL:K(t.page,t.thumbnail);break;case se.PAGE_SET_FAVICON:V(t.pageId,t.favIcon);break;case se.PAGE_SET_DISCARDED:W(t.pageId,t.discarded);break;case se.PAGE_SET_SELECTION:Y(t.page,t.multiSelect,t.addGroup);break;case se.PAGE_CLEAR_SELECTION:Q();break;case se.PAGE_CYCLE_BY_HISTORY:qe(t.maybeEvent,t.goBack);break;case se.PAGE_CYCLE_BY_ORDER:Xe(t.maybeEvent,t.goBack);break;default:return!0}}),e.exports=window.PageStore=Ue},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function r(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!r(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,r,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),
u=n.slice(),r=u.length,l=0;r>l;l++)u[l].apply(this,s);return!0},n.prototype.addListener=function(e,t){var r;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(r=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}if(!i(t))throw TypeError("listener must be a function");var r=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,r,a,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(0>r)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],i(n))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){var i;(function(e,r){(function(){function o(e,t){return e.set(t[0],t[1]),e}function a(e,t){return e.add(t),e}function s(e,t,n){var i=n.length;switch(i){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function l(e,t,n,i){for(var r=-1,o=e.length;++r<o;){var a=e[r];t(i,a,n(a),e)}return i}function u(e,t){for(var n=-1,i=e.length,r=-1,o=t.length,a=Array(i+o);++n<i;)a[n]=e[n];for(;++r<o;)a[n++]=t[r];return a}function c(e,t){for(var n=-1,i=e.length;++n<i&&t(e[n],n,e)!==!1;);return e}function A(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function d(e,t){for(var n=-1,i=e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function h(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}function p(e,t){return!!e.length&&C(e,t,0)>-1}function f(e,t,n){for(var i=-1,r=e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function m(e,t){for(var n=-1,i=e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function g(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function v(e,t,n,i){var r=-1,o=e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function _(e,t,n,i){var r=e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function E(e,t){for(var n=-1,i=e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function S(e,t,n){for(var i=-1,r=e.length;++i<r;){var o=e[i],a=t(o);if(null!=a&&(s===te?a===a:n(a,s)))var s=a,l=o}return l}function y(e,t,n,i){var r;return n(e,function(e,n,o){return t(e,n,o)?(r=i?n:e,!1):void 0}),r}function b(e,t,n){for(var i=e.length,r=n?i:-1;n?r--:++r<i;)if(t(e[r],r,e))return r;return-1}function C(e,t,n){if(t!==t)return G(e,n);for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}function T(e,t,n,i){for(var r=n-1,o=e.length;++r<o;)if(i(e[r],t))return r;return-1}function I(e,t){var n=e?e.length:0;return n?N(e,t)/n:Ne}function w(e,t,n,i,r){return r(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}function O(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function N(e,t){for(var n,i=-1,r=e.length;++i<r;){var o=t(e[i]);o!==te&&(n=n===te?o:n+o)}return n}function k(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function D(e,t){return m(t,function(t){return[t,e[t]]})}function M(e){return function(t){return e(t)}}function P(e,t){return m(t,function(t){return e[t]})}function L(e,t){for(var n=-1,i=e.length;++n<i&&C(t,e[n],0)>-1;);return n}function x(e,t){for(var n=e.length;n--&&C(t,e[n],0)>-1;);return n}function R(e){return e&&e.Object===Object?e:null}function B(e,t){if(e!==t){var n=null===e,i=e===te,r=e===e,o=null===t,a=t===te,s=t===t;if(e>t&&!o||!r||n&&!a&&s||i&&s)return 1;if(t>e&&!n||!s||o&&!i&&r||a&&r)return-1}return 0}function U(e,t,n){for(var i=-1,r=e.criteria,o=t.criteria,a=r.length,s=n.length;++i<a;){var l=B(r[i],o[i]);if(l){if(i>=s)return l;var u=n[i];return l*("desc"==u?-1:1)}}return e.index-t.index}function F(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&i++;return i}function V(e){return function(t,n){var i;return t===te&&n===te?0:(t!==te&&(i=t),n!==te&&(i=i===te?n:e(i,n)),i)}}function W(e){return Mn[e]}function H(e){return Pn[e]}function K(e){return"\\"+Rn[e]}function G(e,t,n){for(var i=e.length,r=t+(n?0:-1);n?r--:++r<i;){var o=e[r];if(o!==o)return r}return-1}function j(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function z(e,t){return e="number"==typeof e||Lt.test(e)?+e:-1,t=null==t?we:t,e>-1&&e%1==0&&t>e}function J(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function Q(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function Y(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n];a!==t&&a!==ae||(e[n]=ae,o[r++]=n)}return o}function Z(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function q(e){if(!e||!In.test(e))return e.length;for(var t=Cn.lastIndex=0;Cn.test(e);)t++;return t}function X(e){return e.match(Cn)}function $(e){return Ln[e]}function ee(e){function t(e){if(as(e)&&!qc(e)&&!(e instanceof r)){if(e instanceof i)return e;if(hu.call(e,"__wrapped__"))return Zr(e)}return new i(e)}function n(){}function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=te}function r(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ke,this.__views__=[]}function R(){var e=new r(this.__wrapped__);return e.__actions__=Qi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Qi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Qi(this.__views__),e}function Lt(){if(this.__filtered__){var e=new r(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Ut(){var e=this.__wrapped__.value(),t=this.__dir__,n=qc(e),i=0>t,r=n?e.length:0,o=Nr(0,r,this.__views__),a=o.start,s=o.end,l=s-a,u=i?s:a-1,c=this.__iteratees__,A=c.length,d=0,h=Uu(l,this.__takeCount__);if(!n||ie>r||r==l&&h==l)return Di(e,this.__actions__);var p=[];e:for(;l--&&h>d;){u+=t;for(var f=-1,m=e[u];++f<A;){var g=c[f],v=g.iteratee,_=g.type,E=v(m);if(_==Ce)m=E;else if(!E){if(_==be)continue e;break e}}p[d++]=m}return p}function Ft(){}function Vt(e,t){return Ht(e,t)&&delete e[t]}function Wt(e,t){if(Yu){var n=e[t];return n===oe?te:n}return hu.call(e,t)?e[t]:te}function Ht(e,t){return Yu?e[t]!==te:hu.call(e,t)}function Kt(e,t,n){e[t]=Yu&&n===te?oe:n}function Gt(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function jt(){this.__data__={hash:new Ft,map:ju?new ju:[],string:new Ft}}function zt(e){var t=this.__data__;return Fr(e)?Vt("string"==typeof e?t.string:t.hash,e):ju?t.map["delete"](e):an(t.map,e)}function Jt(e){var t=this.__data__;return Fr(e)?Wt("string"==typeof e?t.string:t.hash,e):ju?t.map.get(e):sn(t.map,e)}function Qt(e){var t=this.__data__;return Fr(e)?Ht("string"==typeof e?t.string:t.hash,e):ju?t.map.has(e):ln(t.map,e)}function Yt(e,t){var n=this.__data__;return Fr(e)?Kt("string"==typeof e?n.string:n.hash,e,t):ju?n.map.set(e,t):cn(n.map,e,t),this}function Zt(e){var t=-1,n=e?e.length:0;for(this.__data__=new Gt;++t<n;)this.push(e[t])}function qt(e,t){var n=e.__data__;if(Fr(t)){var i=n.__data__,r="string"==typeof t?i.string:i.hash;return r[t]===oe}return n.has(t)}function Xt(e){var t=this.__data__;if(Fr(e)){var n=t.__data__,i="string"==typeof e?n.string:n.hash;i[e]=oe}else t.set(e,oe)}function $t(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function en(){this.__data__={array:[],map:null}}function tn(e){var t=this.__data__,n=t.array;return n?an(n,e):t.map["delete"](e)}function nn(e){var t=this.__data__,n=t.array;return n?sn(n,e):t.map.get(e)}function rn(e){var t=this.__data__,n=t.array;return n?ln(n,e):t.map.has(e)}function on(e,t){var n=this.__data__,i=n.array;i&&(i.length<ie-1?cn(i,e,t):(n.array=null,n.map=new Gt(i)));var r=n.map;return r&&r.set(e,t),this}function an(e,t){var n=un(e,t);if(0>n)return!1;var i=e.length-1;return n==i?e.pop():ku.call(e,n,1),!0}function sn(e,t){var n=un(e,t);return 0>n?te:e[n][1]}function ln(e,t){return un(e,t)>-1}function un(e,t){for(var n=e.length;n--;)if(Wa(e[n][0],t))return n;return-1}function cn(e,t,n){var i=un(e,t);0>i?e.push([t,n]):e[i][1]=n}function An(e,t,n,i){return e===te||Wa(e,cu[n])&&!hu.call(i,n)?t:e}function dn(e,t,n){(n===te||Wa(e[t],n))&&("number"!=typeof t||n!==te||t in e)||(e[t]=n)}function hn(e,t,n){var i=e[t];hu.call(e,t)&&Wa(i,n)&&(n!==te||t in e)||(e[t]=n)}function pn(e,t,n,i){return sc(e,function(e,r,o){t(i,e,n(e),o)}),i}function fn(e,t){return e&&Yi(t,zs(t),e)}function mn(e,t){for(var n=-1,i=null==e,r=t.length,o=Array(r);++n<r;)o[n]=i?te:Ks(e,t[n]);return o}function gn(e,t,n){return e===e&&(n!==te&&(e=n>=e?e:n),t!==te&&(e=e>=t?e:t)),e}function vn(e,t,n,i,r,o,a){var s;if(i&&(s=o?i(e,r,o,a):i(e)),s!==te)return s;if(!os(e))return e;var l=qc(e);if(l){if(s=Dr(e),!t)return Qi(e,s)}else{var u=Or(e),A=u==Ue||u==Fe;if(Xc(e))return Ui(e,t);if(u==He||u==Pe||A&&!o){if(j(e))return o?e:{};if(s=Mr(A?{}:e),!t)return Zi(e,fn(s,e))}else{if(!Dn[u])return o?e:{};s=Pr(e,u,vn,t)}}a||(a=new $t);var d=a.get(e);if(d)return d;if(a.set(e,s),!l)var h=n?_r(e):zs(e);return c(h||e,function(r,o){h&&(o=r,r=e[o]),hn(s,o,vn(r,t,n,i,o,e,a))}),s}function _n(e){var t=zs(e),n=t.length;return function(i){if(null==i)return!n;for(var r=n;r--;){var o=t[r],a=e[o],s=i[o];if(s===te&&!(o in Object(i))||!a(s))return!1}return!0}}function En(e){return os(e)?wu(e):{}}function Sn(e,t,n){if("function"!=typeof e)throw new lu(re);return Nu(function(){e.apply(te,n)},t)}function Cn(e,t,n,i){var r=-1,o=p,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=m(t,M(n))),i?(o=f,a=!1):t.length>=ie&&(o=qt,a=!1,t=new Zt(t));e:for(;++r<s;){var c=e[r],A=n?n(c):c;if(a&&A===A){for(var d=u;d--;)if(t[d]===A)continue e;l.push(c)}else o(t,A,i)||l.push(c)}return l}function Mn(e,t){var n=!0;return sc(e,function(e,i,r){return n=!!t(e,i,r)}),n}function Pn(e,t,n,i){var r=e.length;for(n=Os(n),0>n&&(n=-n>r?0:r+n),i=i===te||i>r?r:Os(i),0>i&&(i+=r),i=n>i?0:Ns(i);i>n;)e[n++]=t;return e}function Ln(e,t){var n=[];return sc(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}function xn(e,t,n,i,r){var o=-1,a=e.length;for(n||(n=xr),r||(r=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?xn(s,t-1,n,i,r):g(r,s):i||(r[r.length]=s)}return r}function Rn(e,t){return e&&uc(e,t,zs)}function Fn(e,t){return e&&cc(e,t,zs)}function Vn(e,t){return h(t,function(t){return ns(e[t])})}function Hn(e,t){t=Ur(t,e)?[t]:Ri(t);for(var n=0,i=t.length;null!=e&&i>n;)e=e[t[n++]];return n&&n==i?e:te}function Kn(e,t,n){var i=t(e);return qc(e)?i:g(i,n(e))}function Gn(e,t){return hu.call(e,t)||"object"==typeof e&&t in e&&null===Ir(e)}function jn(e,t){return t in Object(e)}function Qn(e,t,n){return e>=Uu(t,n)&&e<Bu(t,n)}function Yn(e,t,n){for(var i=n?f:p,r=e[0].length,o=e.length,a=o,s=Array(o),l=1/0,u=[];a--;){var c=e[a];a&&t&&(c=m(c,M(t))),l=Uu(c.length,l),s[a]=!n&&(t||r>=120&&c.length>=120)?new Zt(a&&c):te}c=e[0];var A=-1,d=s[0];e:for(;++A<r&&u.length<l;){var h=c[A],g=t?t(h):h;if(!(d?qt(d,g):i(u,g,n))){for(a=o;--a;){var v=s[a];if(!(v?qt(v,g):i(e[a],g,n)))continue e}d&&d.push(g),u.push(h)}}return u}function Zn(e,t,n,i){return Rn(e,function(e,r,o){t(i,n(e),r,o)}),i}function qn(e,t,n){Ur(t,e)||(t=Ri(t),e=zr(e,t),t=mo(t));var i=null==e?e:e[t];return null==i?te:s(i,e,n)}function Xn(e,t,n,i,r){return e===t?!0:null==e||null==t||!os(e)&&!as(t)?e!==e&&t!==t:$n(e,t,Xn,n,i,r)}function $n(e,t,n,i,r,o){var a=qc(e),s=qc(t),l=Le,u=Le;a||(l=Or(e),l=l==Pe?He:l),s||(u=Or(t),u=u==Pe?He:u);var c=l==He&&!j(e),A=u==He&&!j(t),d=l==u;if(d&&!c)return o||(o=new $t),a||Ss(e)?mr(e,t,n,i,r,o):gr(e,t,l,n,i,r,o);if(!(r&ve)){var h=c&&hu.call(e,"__wrapped__"),p=A&&hu.call(t,"__wrapped__");if(h||p){var f=h?e.value():e,m=p?t.value():t;return o||(o=new $t),n(f,m,i,r,o)}}return d?(o||(o=new $t),vr(e,t,n,i,r,o)):!1}function ei(e,t,n,i){var r=n.length,o=r,a=!i;if(null==e)return!o;for(e=Object(e);r--;){var s=n[r];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<o;){s=n[r];var l=s[0],u=e[l],c=s[1];if(a&&s[2]){if(u===te&&!(l in e))return!1}else{var A=new $t;if(i)var d=i(u,c,l,e,t,A);if(!(d===te?Xn(c,u,i,ge|ve,A):d))return!1}}return!0}function ti(e){return"function"==typeof e?e:null==e?Bl:"object"==typeof e?qc(e)?ai(e[0],e[1]):oi(e):jl(e)}function ni(e){return Ru(Object(e))}function ii(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}function ri(e,t){var n=-1,i=za(e)?Array(e.length):[];return sc(e,function(e,r,o){i[++n]=t(e,r,o)}),i}function oi(e){var t=br(e);return 1==t.length&&t[0][2]?Kr(t[0][0],t[0][1]):function(n){return n===e||ei(n,e,t)}}function ai(e,t){return Ur(e)&&Hr(t)?Kr(e,t):function(n){var i=Ks(n,e);return i===te&&i===t?js(n,e):Xn(t,i,te,ge|ve)}}function si(e,t,n,i,r){if(e!==t){if(!qc(t)&&!Ss(t))var o=Js(t);c(o||t,function(a,s){if(o&&(s=a,a=t[s]),os(a))r||(r=new $t),li(e,t,s,n,si,i,r);else{var l=i?i(e[s],a,s+"",e,t,r):te;l===te&&(l=a),dn(e,s,l)}})}}function li(e,t,n,i,r,o,a){var s=e[n],l=t[n],u=a.get(l);if(u)return void dn(e,n,u);var c=o?o(s,l,n+"",e,t,a):te,A=c===te;A&&(c=l,qc(l)||Ss(l)?qc(s)?c=s:Ja(s)?c=Qi(s):(A=!1,c=vn(l,!0)):fs(l)||Ga(l)?Ga(s)?c=Ds(s):!os(s)||i&&ns(s)?(A=!1,c=vn(l,!0)):c=s:A=!1),a.set(l,c),A&&r(c,l,i,o,a),a["delete"](l),dn(e,n,c)}function ui(e,t){var n=e.length;if(n)return t+=0>t?n:0,z(t,n)?e[t]:te}function ci(e,t,n){var i=-1;t=m(t.length?t:[Bl],M(yr()));var r=ri(e,function(e,n,r){var o=m(t,function(t){return t(e)});return{criteria:o,index:++i,value:e}});return O(r,function(e,t){return U(e,t,n)})}function Ai(e,t){return e=Object(e),v(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}function di(e,t){for(var n=-1,i=Er(e),r=i.length,o={};++n<r;){var a=i[n],s=e[a];t(s,a)&&(o[a]=s)}return o}function hi(e){return function(t){return null==t?te:t[e]}}function pi(e){return function(t){return Hn(t,e)}}function fi(e,t,n,i){var r=i?T:C,o=-1,a=t.length,s=e;for(n&&(s=m(e,M(n)));++o<a;)for(var l=0,u=t[o],c=n?n(u):u;(l=r(s,c,l,i))>-1;)s!==e&&ku.call(s,l,1),ku.call(e,l,1);return e}function mi(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(i==n||r!=o){var o=r;if(z(r))ku.call(e,r,1);else if(Ur(r,e))delete e[r];else{var a=Ri(r),s=zr(e,a);null!=s&&delete s[mo(a)]}}}return e}function gi(e,t){return e+Mu(Vu()*(t-e+1))}function vi(e,t,n,i){for(var r=-1,o=Bu(Du((t-e)/(n||1)),0),a=Array(o);o--;)a[i?o:++r]=e,e+=n;return a}function _i(e,t){var n="";if(!e||1>t||t>we)return n;do t%2&&(n+=e),t=Mu(t/2),t&&(e+=e);while(t);return n}function Ei(e,t,n,i){t=Ur(t,e)?[t]:Ri(t);for(var r=-1,o=t.length,a=o-1,s=e;null!=s&&++r<o;){var l=t[r];if(os(s)){var u=n;if(r!=a){var c=s[l];u=i?i(c,l,s):te,u===te&&(u=null==c?z(t[r+1])?[]:{}:c)}hn(s,l,u)}s=s[l]}return e}function Si(e,t,n){var i=-1,r=e.length;0>t&&(t=-t>r?0:r+t),n=n>r?r:n,0>n&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}function yi(e,t){var n;return sc(e,function(e,i,r){return n=t(e,i,r),!n}),!!n}function bi(e,t,n){var i=0,r=e?e.length:i;if("number"==typeof t&&t===t&&Me>=r){for(;r>i;){var o=i+r>>>1,a=e[o];(n?t>=a:t>a)&&null!==a?i=o+1:r=o}return r}return Ci(e,t,Bl,n)}function Ci(e,t,n,i){t=n(t);for(var r=0,o=e?e.length:0,a=t!==t,s=null===t,l=t===te;o>r;){var u=Mu((r+o)/2),c=n(e[u]),A=c!==te,d=c===c;if(a)var h=d||i;else h=s?d&&A&&(i||null!=c):l?d&&(i||A):null==c?!1:i?t>=c:t>c;h?r=u+1:o=u}return Uu(o,De)}function Ti(e){return Ii(e)}function Ii(e,t){for(var n=0,i=e.length,r=e[0],o=t?t(r):r,a=o,s=1,l=[r];++n<i;)r=e[n],o=t?t(r):r,Wa(o,a)||(a=o,l[s++]=r);return l}function wi(e,t,n){var i=-1,r=p,o=e.length,a=!0,s=[],l=s;if(n)a=!1,r=f;else if(o>=ie){var u=t?null:dc(e);if(u)return Z(u);a=!1,r=qt,l=new Zt}else l=t?[]:s;e:for(;++i<o;){var c=e[i],A=t?t(c):c;if(a&&A===A){for(var d=l.length;d--;)if(l[d]===A)continue e;t&&l.push(A),s.push(c)}else r(l,A,n)||(l!==s&&l.push(A),s.push(c))}return s}function Oi(e,t){t=Ur(t,e)?[t]:Ri(t),e=zr(e,t);var n=mo(t);return null!=e&&Gs(e,n)?delete e[n]:!0}function Ni(e,t,n,i){return Ei(e,t,n(Hn(e,t)),i)}function ki(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?Si(e,i?0:o,i?o+1:r):Si(e,i?o+1:0,i?r:o)}function Di(e,t){var n=e;return n instanceof r&&(n=n.value()),v(t,function(e,t){return t.func.apply(t.thisArg,g([e],t.args))},n)}function Mi(e,t,n){for(var i=-1,r=e.length;++i<r;)var o=o?g(Cn(o,e[i],t,n),Cn(e[i],o,t,n)):e[i];return o&&o.length?wi(o,t,n):[]}function Pi(e,t,n){for(var i=-1,r=e.length,o=t.length,a={};++i<r;){var s=o>i?t[i]:te;n(a,e[i],s)}return a}function Li(e){return Ja(e)?e:[]}function xi(e){return"function"==typeof e?e:Bl}function Ri(e){return qc(e)?e:gc(e)}function Bi(e,t,n){var i=e.length;return n=n===te?i:n,!t&&n>=i?e:Si(e,t,n)}function Ui(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function Fi(e){var t=new e.constructor(e.byteLength);return new yu(t).set(new yu(e)),t}function Vi(e,t){var n=t?Fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Wi(e,t,n){var i=t?n(Q(e),!0):Q(e);return v(i,o,new e.constructor)}function Hi(e){var t=new e.constructor(e.source,Ot.exec(e));return t.lastIndex=e.lastIndex,t}function Ki(e,t,n){var i=t?n(Z(e),!0):Z(e);return v(i,a,new e.constructor)}function Gi(e){return oc?Object(oc.call(e)):{}}function ji(e,t){var n=t?Fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function zi(e,t,n,i){for(var r=-1,o=e.length,a=n.length,s=-1,l=t.length,u=Bu(o-a,0),c=Array(l+u),A=!i;++s<l;)c[s]=t[s];for(;++r<a;)(A||o>r)&&(c[n[r]]=e[r]);for(;u--;)c[s++]=e[r++];return c}function Ji(e,t,n,i){for(var r=-1,o=e.length,a=-1,s=n.length,l=-1,u=t.length,c=Bu(o-s,0),A=Array(c+u),d=!i;++r<c;)A[r]=e[r];for(var h=r;++l<u;)A[h+l]=t[l];for(;++a<s;)(d||o>r)&&(A[h+n[a]]=e[r++]);return A}function Qi(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}function Yi(e,t,n,i){n||(n={});for(var r=-1,o=t.length;++r<o;){var a=t[r],s=i?i(n[a],e[a],a,n,e):e[a];hn(n,a,s)}return n}function Zi(e,t){return Yi(e,wr(e),t)}function qi(e,t){return function(n,i){var r=qc(n)?l:pn,o=t?t():{};return r(n,e,yr(i),o)}}function Xi(e){return Da(function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:te,a=r>2?n[2]:te;for(o="function"==typeof o?(r--,o):te,a&&Br(n[0],n[1],a)&&(o=3>r?te:o,r=1),t=Object(t);++i<r;){var s=n[i];s&&e(t,s,i,o)}return t})}function $i(e,t){return function(n,i){if(null==n)return n;if(!za(n))return e(n,i);for(var r=n.length,o=t?r:-1,a=Object(n);(t?o--:++o<r)&&i(a[o],o,a)!==!1;);return n}}function er(e){return function(t,n,i){for(var r=-1,o=Object(t),a=i(t),s=a.length;s--;){var l=a[e?s:++r];if(n(o[l],l,o)===!1)break}return t}}function tr(e,t,n){function i(){var t=this&&this!==zn&&this instanceof i?o:e;return t.apply(r?n:this,arguments)}var r=t&se,o=rr(e);return i}function nr(e){return function(t){t=Ps(t);var n=In.test(t)?X(t):te,i=n?n[0]:t.charAt(0),r=n?Bi(n,1).join(""):t.slice(1);return i[e]()+r}}function ir(e){return function(t){return v(Pl(hl(t).replace(yn,"")),e,"")}}function rr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=En(e.prototype),i=e.apply(n,t);return os(i)?i:n}}function or(e,t,n){function i(){for(var o=arguments.length,a=Array(o),l=o,u=Tr(i);l--;)a[l]=arguments[l];var c=3>o&&a[0]!==u&&a[o-1]!==u?[]:Y(a,u);if(o-=c.length,n>o)return hr(e,t,sr,i.placeholder,te,a,c,te,te,n-o);var A=this&&this!==zn&&this instanceof i?r:e;return s(A,this,a)}var r=rr(e);return i}function ar(e){return Da(function(t){t=xn(t,1);var n=t.length,r=n,o=i.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new lu(re);if(o&&!s&&"wrapper"==Sr(a))var s=new i([],!0)}for(r=s?r:n;++r<n;){a=t[r];var l=Sr(a),u="wrapper"==l?hc(a):te;s=u&&Vr(u[0])&&u[1]==(pe|ce|de|fe)&&!u[4].length&&1==u[9]?s[Sr(u[0])].apply(s,u[3]):1==a.length&&Vr(a)?s[l]():s.thru(a)}return function(){var e=arguments,i=e[0];if(s&&1==e.length&&qc(i)&&i.length>=ie)return s.plant(i).value();for(var r=0,o=n?t[r].apply(this,e):i;++r<n;)o=t[r].call(this,o);return o}})}function sr(e,t,n,i,r,o,a,s,l,u){function c(){for(var g=arguments.length,v=g,_=Array(g);v--;)_[v]=arguments[v];if(p)var E=Tr(c),S=F(_,E);if(i&&(_=zi(_,i,r,p)),o&&(_=Ji(_,o,a,p)),g-=S,p&&u>g){var y=Y(_,E);return hr(e,t,sr,c.placeholder,n,_,y,s,l,u-g)}var b=d?n:this,C=h?b[e]:e;return g=_.length,s?_=Jr(_,s):f&&g>1&&_.reverse(),A&&g>l&&(_.length=l),this&&this!==zn&&this instanceof c&&(C=m||rr(C)),C.apply(b,_)}var A=t&pe,d=t&se,h=t&le,p=t&(ce|Ae),f=t&me,m=h?te:rr(e);return c}function lr(e,t){return function(n,i){return Zn(n,e,t(i),{})}}function ur(e){return Da(function(t){return t=1==t.length&&qc(t[0])?m(t[0],M(yr())):m(xn(t,1,Rr),M(yr())),Da(function(n){var i=this;return e(t,function(e){return s(e,i,n)})})})}function cr(e,t){t=t===te?" ":t+"";var n=t.length;if(2>n)return n?_i(t,e):t;var i=_i(t,Du(e/q(t)));return In.test(t)?Bi(X(i),0,e).join(""):i.slice(0,e)}function Ar(e,t,n,i){function r(){for(var t=-1,l=arguments.length,u=-1,c=i.length,A=Array(c+l),d=this&&this!==zn&&this instanceof r?a:e;++u<c;)A[u]=i[u];for(;l--;)A[u++]=arguments[++t];return s(d,o?n:this,A)}var o=t&se,a=rr(e);return r}function dr(e){return function(t,n,i){return i&&"number"!=typeof i&&Br(t,n,i)&&(n=i=te),t=ks(t),t=t===t?t:0,n===te?(n=t,t=0):n=ks(n)||0,i=i===te?n>t?1:-1:ks(i)||0,vi(t,n,i,e)}}function hr(e,t,n,i,r,o,a,s,l,u){var c=t&ce,A=c?a:te,d=c?te:a,h=c?o:te,p=c?te:o;t|=c?de:he,t&=~(c?he:de),t&ue||(t&=~(se|le));var f=[e,t,r,h,A,p,d,s,l,u],m=n.apply(te,f);return Vr(e)&&mc(m,f),m.placeholder=i,m}function pr(e){var t=au[e];return function(e,n){if(e=ks(e),n=Os(n)){var i=(Ps(e)+"e").split("e"),r=t(i[0]+"e"+(+i[1]+n));return i=(Ps(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return t(e)}}function fr(e,t,n,i,r,o,a,s){var l=t&le;if(!l&&"function"!=typeof e)throw new lu(re);var u=i?i.length:0;if(u||(t&=~(de|he),i=r=te),a=a===te?a:Bu(Os(a),0),s=s===te?s:Os(s),u-=r?r.length:0,t&he){var c=i,A=r;i=r=te}var d=l?te:hc(e),h=[e,t,n,i,r,c,A,o,a,s];if(d&&Gr(h,d),e=h[0],t=h[1],n=h[2],i=h[3],r=h[4],s=h[9]=null==h[9]?l?0:e.length:Bu(h[9]-u,0),!s&&t&(ce|Ae)&&(t&=~(ce|Ae)),t&&t!=se)p=t==ce||t==Ae?or(e,t,s):t!=de&&t!=(se|de)||r.length?sr.apply(te,h):Ar(e,t,n,i);else var p=tr(e,t,n);var f=d?Ac:mc;return f(p,h)}function mr(e,t,n,i,r,o){var a=-1,s=r&ve,l=r&ge,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var A=o.get(e);if(A)return A==t;var d=!0;for(o.set(e,t);++a<u;){var h=e[a],p=t[a];if(i)var f=s?i(p,h,a,t,e,o):i(h,p,a,e,t,o);if(f!==te){if(f)continue;d=!1;break}if(l){if(!E(t,function(e){return h===e||n(h,e,i,r,o)})){d=!1;break}}else if(h!==p&&!n(h,p,i,r,o)){d=!1;break}}return o["delete"](e),d}function gr(e,t,n,i,r,o,a){switch(n){case qe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Ze:return!(e.byteLength!=t.byteLength||!i(new yu(e),new yu(t)));case xe:case Re:return+e==+t;case Be:return e.name==t.name&&e.message==t.message;case We:return e!=+e?t!=+t:e==+t;case Ge:case ze:return e==t+"";case Ve:var s=Q;case je:var l=o&ve;if(s||(s=Z),e.size!=t.size&&!l)return!1;var u=a.get(e);return u?u==t:(o|=ge,a.set(e,t),mr(s(e),s(t),i,r,o,a));case Je:if(oc)return oc.call(e)==oc.call(t)}return!1}function vr(e,t,n,i,r,o){var a=r&ve,s=zs(e),l=s.length,u=zs(t),c=u.length;if(l!=c&&!a)return!1;for(var A=l;A--;){var d=s[A];if(!(a?d in t:Gn(t,d)))return!1}var h=o.get(e);if(h)return h==t;var p=!0;o.set(e,t);for(var f=a;++A<l;){d=s[A];var m=e[d],g=t[d];if(i)var v=a?i(g,m,d,t,e,o):i(m,g,d,e,t,o);if(!(v===te?m===g||n(m,g,i,r,o):v)){p=!1;break}f||(f="constructor"==d)}if(p&&!f){var _=e.constructor,E=t.constructor;_!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof _&&_ instanceof _&&"function"==typeof E&&E instanceof E)&&(p=!1)}return o["delete"](e),p}function _r(e){return Kn(e,zs,wr)}function Er(e){return Kn(e,Js,fc)}function Sr(e){for(var t=e.name+"",n=Xu[t],i=hu.call(Xu,t)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function yr(){var e=t.iteratee||Ul;return e=e===Ul?ti:e,arguments.length?e(arguments[0],arguments[1]):e}function br(e){for(var t=tl(e),n=t.length;n--;)t[n][2]=Hr(t[n][1]);return t}function Cr(e,t){var n=e[t];return As(n)?n:te}function Tr(e){var n=hu.call(t,"placeholder")?t:e;return n.placeholder}function Ir(e){return Pu(Object(e))}function wr(e){return Tu(Object(e))}function Or(e){return mu.call(e)}function Nr(e,t,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Uu(t,e+a);break;case"takeRight":e=Bu(e,t-a)}}return{start:e,end:t}}function kr(e,t,n){t=Ur(t,e)?[t]:Ri(t);for(var i,r=-1,o=t.length;++r<o;){var a=t[r];if(!(i=null!=e&&n(e,a)))break;e=e[a]}if(i)return i;var o=e?e.length:0;return!!o&&rs(o)&&z(a,o)&&(qc(e)||_s(e)||Ga(e))}function Dr(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&hu.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Mr(e){return"function"!=typeof e.constructor||Wr(e)?{}:En(Ir(e))}function Pr(e,t,n,i){var r=e.constructor;switch(t){case Ze:return Fi(e);case xe:case Re:return new r(+e);case qe:return Vi(e,i);case Xe:case $e:case et:case tt:case nt:case it:case rt:case ot:case at:return ji(e,i);case Ve:return Wi(e,i,n);case We:case ze:return new r(e);case Ge:return Hi(e);case je:return Ki(e,i,n);case Je:return Gi(e)}}function Lr(e){var t=e?e.length:te;return rs(t)&&(qc(e)||_s(e)||Ga(e))?k(t,String):null}function xr(e){return Ja(e)&&(qc(e)||Ga(e))}function Rr(e){return qc(e)&&!(2==e.length&&!ns(e[0]))}function Br(e,t,n){if(!os(n))return!1;var i=typeof t;return("number"==i?za(n)&&z(t,n.length):"string"==i&&t in n)?Wa(n[t],e):!1}function Ur(e,t){var n=typeof e;return"number"==n||"symbol"==n?!0:!qc(e)&&(Es(e)||vt.test(e)||!gt.test(e)||null!=t&&e in Object(t))}function Fr(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}function Vr(e){var n=Sr(e),i=t[n];if("function"!=typeof i||!(n in r.prototype))return!1;if(e===i)return!0;var o=hc(i);return!!o&&e===o[0]}function Wr(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||cu;return e===n}function Hr(e){return e===e&&!os(e)}function Kr(e,t){return function(n){return null==n?!1:n[e]===t&&(t!==te||e in Object(n))}}function Gr(e,t){var n=e[1],i=t[1],r=n|i,o=(se|le|pe)>r,a=i==pe&&n==ce||i==pe&&n==fe&&e[7].length<=t[8]||i==(pe|fe)&&t[7].length<=t[8]&&n==ce;if(!o&&!a)return e;i&se&&(e[2]=t[2],r|=n&se?0:ue);var s=t[3];if(s){var l=e[3];e[3]=l?zi(l,s,t[4]):s,e[4]=l?Y(e[3],ae):t[4]}return s=t[5],s&&(l=e[5],e[5]=l?Ji(l,s,t[6]):s,e[6]=l?Y(e[5],ae):t[6]),s=t[7],s&&(e[7]=s),i&pe&&(e[8]=null==e[8]?t[8]:Uu(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r,e}function jr(e,t,n,i,r,o){return os(e)&&os(t)&&si(e,t,te,jr,o.set(t,e)),e}function zr(e,t){return 1==t.length?e:Hn(e,Si(t,0,-1))}function Jr(e,t){for(var n=e.length,i=Uu(t.length,n),r=Qi(e);i--;){var o=t[i];e[i]=z(o,n)?r[o]:te}return e}function Qr(e){return"string"==typeof e||Es(e)?e:e+""}function Yr(e){if(null!=e){try{return du.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Zr(e){if(e instanceof r)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=Qi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function qr(e,t,n){t=(n?Br(e,t,n):t===te)?1:Bu(Os(t),0);var i=e?e.length:0;if(!i||1>t)return[];for(var r=0,o=0,a=Array(Du(i/t));i>r;)a[o++]=Si(e,r,r+=t);return a}function Xr(e){for(var t=-1,n=e?e.length:0,i=0,r=[];++t<n;){var o=e[t];o&&(r[i++]=o)}return r}function $r(){var e=arguments.length,t=Ra(arguments[0]);if(2>e)return e?Qi(t):[];for(var n=Array(e-1);e--;)n[e-1]=arguments[e];return u(t,xn(n,1))}function eo(e,t,n){var i=e?e.length:0;return i?(t=n||t===te?1:Os(t),Si(e,0>t?0:t,i)):[]}function to(e,t,n){var i=e?e.length:0;return i?(t=n||t===te?1:Os(t),t=i-t,Si(e,0,0>t?0:t)):[]}function no(e,t){return e&&e.length?ki(e,yr(t,3),!0,!0):[]}function io(e,t){return e&&e.length?ki(e,yr(t,3),!0):[]}function ro(e,t,n,i){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Br(e,t,n)&&(n=0,i=r),Pn(e,t,n,i)):[]}function oo(e,t){return e&&e.length?b(e,yr(t,3)):-1}function ao(e,t){return e&&e.length?b(e,yr(t,3),!0):-1}function so(e){var t=e?e.length:0;return t?xn(e,1):[]}function lo(e){var t=e?e.length:0;return t?xn(e,Ie):[]}function uo(e,t){var n=e?e.length:0;return n?(t=t===te?1:Os(t),xn(e,t)):[]}function co(e){for(var t=-1,n=e?e.length:0,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i}function Ao(e){return e&&e.length?e[0]:te}function ho(e,t,n){var i=e?e.length:0;return i?(n=Os(n),0>n&&(n=Bu(i+n,0)),C(e,t,n)):-1}function po(e){return to(e,1)}function fo(e,t){return e?xu.call(e,t):""}function mo(e){var t=e?e.length:0;return t?e[t-1]:te}function go(e,t,n){var i=e?e.length:0;if(!i)return-1;var r=i;if(n!==te&&(r=Os(n),r=(0>r?Bu(i+r,0):Uu(r,i-1))+1),t!==t)return G(e,r,!0);for(;r--;)if(e[r]===t)return r;return-1}function vo(e,t){return e&&e.length?ui(e,Os(t)):te}function _o(e,t){return e&&e.length&&t&&t.length?fi(e,t):e}function Eo(e,t,n){return e&&e.length&&t&&t.length?fi(e,t,yr(n)):e}function So(e,t,n){return e&&e.length&&t&&t.length?fi(e,t,te,n):e}function yo(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=yr(t,3);++i<o;){var a=e[i];t(a,i,e)&&(n.push(a),r.push(i))}return mi(e,r),n}function bo(e){return e?Hu.call(e):e}function Co(e,t,n){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Br(e,t,n)?(t=0,n=i):(t=null==t?0:Os(t),n=n===te?i:Os(n)),Si(e,t,n)):[]}function To(e,t){return bi(e,t)}function Io(e,t,n){return Ci(e,t,yr(n))}function wo(e,t){var n=e?e.length:0;if(n){var i=bi(e,t);if(n>i&&Wa(e[i],t))return i}return-1}function Oo(e,t){return bi(e,t,!0)}function No(e,t,n){return Ci(e,t,yr(n),!0)}function ko(e,t){var n=e?e.length:0;if(n){var i=bi(e,t,!0)-1;if(Wa(e[i],t))return i}return-1}function Do(e){return e&&e.length?Ti(e):[]}function Mo(e,t){return e&&e.length?Ii(e,yr(t)):[]}function Po(e){return eo(e,1)}function Lo(e,t,n){return e&&e.length?(t=n||t===te?1:Os(t),Si(e,0,0>t?0:t)):[]}function xo(e,t,n){var i=e?e.length:0;return i?(t=n||t===te?1:Os(t),t=i-t,Si(e,0>t?0:t,i)):[]}function Ro(e,t){return e&&e.length?ki(e,yr(t,3),!1,!0):[]}function Bo(e,t){return e&&e.length?ki(e,yr(t,3)):[]}function Uo(e){return e&&e.length?wi(e):[]}function Fo(e,t){return e&&e.length?wi(e,yr(t)):[]}function Vo(e,t){return e&&e.length?wi(e,te,t):[]}function Wo(e){
if(!e||!e.length)return[];var t=0;return e=h(e,function(e){return Ja(e)?(t=Bu(e.length,t),!0):void 0}),k(t,function(t){return m(e,hi(t))})}function Ho(e,t){if(!e||!e.length)return[];var n=Wo(e);return null==t?n:m(n,function(e){return s(t,te,e)})}function Ko(e,t){return Pi(e||[],t||[],hn)}function Go(e,t){return Pi(e||[],t||[],Ei)}function jo(e){var n=t(e);return n.__chain__=!0,n}function zo(e,t){return t(e),e}function Jo(e,t){return t(e)}function Qo(){return jo(this)}function Yo(){return new i(this.value(),this.__chain__)}function Zo(){this.__values__===te&&(this.__values__=ws(this.value()));var e=this.__index__>=this.__values__.length,t=e?te:this.__values__[this.__index__++];return{done:e,value:t}}function qo(){return this}function Xo(e){for(var t,i=this;i instanceof n;){var r=Zr(i);r.__index__=0,r.__values__=te,t?o.__wrapped__=r:t=r;var o=r;i=i.__wrapped__}return o.__wrapped__=e,t}function $o(){var e=this.__wrapped__;if(e instanceof r){var t=e;return this.__actions__.length&&(t=new r(this)),t=t.reverse(),t.__actions__.push({func:Jo,args:[bo],thisArg:te}),new i(t,this.__chain__)}return this.thru(bo)}function ea(){return Di(this.__wrapped__,this.__actions__)}function ta(e,t,n){var i=qc(e)?d:Mn;return n&&Br(e,t,n)&&(t=te),i(e,yr(t,3))}function na(e,t){var n=qc(e)?h:Ln;return n(e,yr(t,3))}function ia(e,t){if(t=yr(t,3),qc(e)){var n=b(e,t);return n>-1?e[n]:te}return y(e,t,sc)}function ra(e,t){if(t=yr(t,3),qc(e)){var n=b(e,t,!0);return n>-1?e[n]:te}return y(e,t,lc)}function oa(e,t){return xn(Aa(e,t),1)}function aa(e,t){return xn(Aa(e,t),Ie)}function sa(e,t,n){return n=n===te?1:Os(n),xn(Aa(e,t),n)}function la(e,t){return"function"==typeof t&&qc(e)?c(e,t):sc(e,yr(t))}function ua(e,t){return"function"==typeof t&&qc(e)?A(e,t):lc(e,yr(t))}function ca(e,t,n,i){e=za(e)?e:sl(e),n=n&&!i?Os(n):0;var r=e.length;return 0>n&&(n=Bu(r+n,0)),_s(e)?r>=n&&e.indexOf(t,n)>-1:!!r&&C(e,t,n)>-1}function Aa(e,t){var n=qc(e)?m:ri;return n(e,yr(t,3))}function da(e,t,n,i){return null==e?[]:(qc(t)||(t=null==t?[]:[t]),n=i?te:n,qc(n)||(n=null==n?[]:[n]),ci(e,t,n))}function ha(e,t,n){var i=qc(e)?v:w,r=arguments.length<3;return i(e,yr(t,4),n,r,sc)}function pa(e,t,n){var i=qc(e)?_:w,r=arguments.length<3;return i(e,yr(t,4),n,r,lc)}function fa(e,t){var n=qc(e)?h:Ln;return t=yr(t,3),n(e,function(e,n,i){return!t(e,n,i)})}function ma(e){var t=za(e)?e:sl(e),n=t.length;return n>0?t[gi(0,n-1)]:te}function ga(e,t,n){var i=-1,r=ws(e),o=r.length,a=o-1;for(t=(n?Br(e,t,n):t===te)?1:gn(Os(t),0,o);++i<t;){var s=gi(i,a),l=r[s];r[s]=r[i],r[i]=l}return r.length=t,r}function va(e){return ga(e,ke)}function _a(e){if(null==e)return 0;if(za(e)){var t=e.length;return t&&_s(e)?q(e):t}if(as(e)){var n=Or(e);if(n==Ve||n==je)return e.size}return zs(e).length}function Ea(e,t,n){var i=qc(e)?E:yi;return n&&Br(e,t,n)&&(t=te),i(e,yr(t,3))}function Sa(e,t){if("function"!=typeof t)throw new lu(re);return e=Os(e),function(){return--e<1?t.apply(this,arguments):void 0}}function ya(e,t,n){return t=n?te:t,t=e&&null==t?e.length:t,fr(e,pe,te,te,te,te,t)}function ba(e,t){var n;if("function"!=typeof t)throw new lu(re);return e=Os(e),function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=te),n}}function Ca(e,t,n){t=n?te:t;var i=fr(e,ce,te,te,te,te,te,t);return i.placeholder=Ca.placeholder,i}function Ta(e,t,n){t=n?te:t;var i=fr(e,Ae,te,te,te,te,te,t);return i.placeholder=Ta.placeholder,i}function Ia(e,t,n){function i(t){var n=d,i=h;return d=h=te,v=t,f=e.apply(i,n)}function r(e){return v=e,m=Nu(s,t),_?i(e):f}function o(e){var n=e-g,i=e-v,r=t-n;return E?Uu(r,p-i):r}function a(e){var n=e-g,i=e-v;return!g||n>=t||0>n||E&&i>=p}function s(){var e=Hc();return a(e)?l(e):void(m=Nu(s,o(e)))}function l(e){return bu(m),m=te,S&&d?i(e):(d=h=te,f)}function u(){m!==te&&bu(m),g=v=0,d=h=m=te}function c(){return m===te?f:l(Hc())}function A(){var e=Hc(),n=a(e);if(d=arguments,h=this,g=e,n){if(m===te)return r(g);if(E)return bu(m),m=Nu(s,t),i(g)}return m===te&&(m=Nu(s,t)),f}var d,h,p,f,m,g=0,v=0,_=!1,E=!1,S=!0;if("function"!=typeof e)throw new lu(re);return t=ks(t)||0,os(n)&&(_=!!n.leading,E="maxWait"in n,p=E?Bu(ks(n.maxWait)||0,t):p,S="trailing"in n?!!n.trailing:S),A.cancel=u,A.flush=c,A}function wa(e){return fr(e,me)}function Oa(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new lu(re);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new(Oa.Cache||Gt),n}function Na(e){if("function"!=typeof e)throw new lu(re);return function(){return!e.apply(this,arguments)}}function ka(e){return ba(2,e)}function Da(e,t){if("function"!=typeof e)throw new lu(re);return t=Bu(t===te?e.length-1:Os(t),0),function(){for(var n=arguments,i=-1,r=Bu(n.length-t,0),o=Array(r);++i<r;)o[i]=n[t+i];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var a=Array(t+1);for(i=-1;++i<t;)a[i]=n[i];return a[t]=o,s(e,this,a)}}function Ma(e,t){if("function"!=typeof e)throw new lu(re);return t=t===te?0:Bu(Os(t),0),Da(function(n){var i=n[t],r=Bi(n,0,t);return i&&g(r,i),s(e,this,r)})}function Pa(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new lu(re);return os(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Ia(e,t,{leading:i,maxWait:t,trailing:r})}function La(e){return ya(e,1)}function xa(e,t){return t=null==t?Bl:t,Qc(t,e)}function Ra(){if(!arguments.length)return[];var e=arguments[0];return qc(e)?e:[e]}function Ba(e){return vn(e,!1,!0)}function Ua(e,t){return vn(e,!1,!0,t)}function Fa(e){return vn(e,!0,!0)}function Va(e,t){return vn(e,!0,!0,t)}function Wa(e,t){return e===t||e!==e&&t!==t}function Ha(e,t){return e>t}function Ka(e,t){return e>=t}function Ga(e){return Ja(e)&&hu.call(e,"callee")&&(!Ou.call(e,"callee")||mu.call(e)==Pe)}function ja(e){return as(e)&&mu.call(e)==Ze}function za(e){return null!=e&&rs(pc(e))&&!ns(e)}function Ja(e){return as(e)&&za(e)}function Qa(e){return e===!0||e===!1||as(e)&&mu.call(e)==xe}function Ya(e){return as(e)&&mu.call(e)==Re}function Za(e){return!!e&&1===e.nodeType&&as(e)&&!fs(e)}function qa(e){if(za(e)&&(qc(e)||_s(e)||ns(e.splice)||Ga(e)||Xc(e)))return!e.length;if(as(e)){var t=Or(e);if(t==Ve||t==je)return!e.size}for(var n in e)if(hu.call(e,n))return!1;return!(qu&&zs(e).length)}function Xa(e,t){return Xn(e,t)}function $a(e,t,n){n="function"==typeof n?n:te;var i=n?n(e,t):te;return i===te?Xn(e,t,n):!!i}function es(e){return as(e)?mu.call(e)==Be||"string"==typeof e.message&&"string"==typeof e.name:!1}function ts(e){return"number"==typeof e&&Lu(e)}function ns(e){var t=os(e)?mu.call(e):"";return t==Ue||t==Fe}function is(e){return"number"==typeof e&&e==Os(e)}function rs(e){return"number"==typeof e&&e>-1&&e%1==0&&we>=e}function os(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function as(e){return!!e&&"object"==typeof e}function ss(e){return as(e)&&Or(e)==Ve}function ls(e,t){return e===t||ei(e,t,br(t))}function us(e,t,n){return n="function"==typeof n?n:te,ei(e,t,br(t),n)}function cs(e){return ps(e)&&e!=+e}function As(e){if(!os(e))return!1;var t=ns(e)||j(e)?vu:Mt;return t.test(Yr(e))}function ds(e){return null===e}function hs(e){return null==e}function ps(e){return"number"==typeof e||as(e)&&mu.call(e)==We}function fs(e){if(!as(e)||mu.call(e)!=He||j(e))return!1;var t=Ir(e);if(null===t)return!0;var n=hu.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&du.call(n)==fu}function ms(e){return os(e)&&mu.call(e)==Ge}function gs(e){return is(e)&&e>=-we&&we>=e}function vs(e){return as(e)&&Or(e)==je}function _s(e){return"string"==typeof e||!qc(e)&&as(e)&&mu.call(e)==ze}function Es(e){return"symbol"==typeof e||as(e)&&mu.call(e)==Je}function Ss(e){return as(e)&&rs(e.length)&&!!kn[mu.call(e)]}function ys(e){return e===te}function bs(e){return as(e)&&Or(e)==Qe}function Cs(e){return as(e)&&mu.call(e)==Ye}function Ts(e,t){return t>e}function Is(e,t){return t>=e}function ws(e){if(!e)return[];if(za(e))return _s(e)?X(e):Qi(e);if(Iu&&e[Iu])return J(e[Iu]());var t=Or(e),n=t==Ve?Q:t==je?Z:sl;return n(e)}function Os(e){if(!e)return 0===e?e:0;if(e=ks(e),e===Ie||e===-Ie){var t=0>e?-1:1;return t*Oe}var n=e%1;return e===e?n?e-n:e:0}function Ns(e){return e?gn(Os(e),0,ke):0}function ks(e){if("number"==typeof e)return e;if(Es(e))return Ne;if(os(e)){var t=ns(e.valueOf)?e.valueOf():e;e=os(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(yt,"");var n=Dt.test(e);return n||Pt.test(e)?Un(e.slice(2),n?2:8):kt.test(e)?Ne:+e}function Ds(e){return Yi(e,Js(e))}function Ms(e){return gn(Os(e),-we,we)}function Ps(e){if("string"==typeof e)return e;if(null==e)return"";if(Es(e))return ac?ac.call(e):"";var t=e+"";return"0"==t&&1/e==-Ie?"-0":t}function Ls(e,t){var n=En(e);return t?fn(n,t):n}function xs(e,t){return y(e,yr(t,3),Rn,!0)}function Rs(e,t){return y(e,yr(t,3),Fn,!0)}function Bs(e,t){return null==e?e:uc(e,yr(t),Js)}function Us(e,t){return null==e?e:cc(e,yr(t),Js)}function Fs(e,t){return e&&Rn(e,yr(t))}function Vs(e,t){return e&&Fn(e,yr(t))}function Ws(e){return null==e?[]:Vn(e,zs(e))}function Hs(e){return null==e?[]:Vn(e,Js(e))}function Ks(e,t,n){var i=null==e?te:Hn(e,t);return i===te?n:i}function Gs(e,t){return null!=e&&kr(e,t,Gn)}function js(e,t){return null!=e&&kr(e,t,jn)}function zs(e){var t=Wr(e);if(!t&&!za(e))return ni(e);var n=Lr(e),i=!!n,r=n||[],o=r.length;for(var a in e)!Gn(e,a)||i&&("length"==a||z(a,o))||t&&"constructor"==a||r.push(a);return r}function Js(e){for(var t=-1,n=Wr(e),i=ii(e),r=i.length,o=Lr(e),a=!!o,s=o||[],l=s.length;++t<r;){var u=i[t];a&&("length"==u||z(u,l))||"constructor"==u&&(n||!hu.call(e,u))||s.push(u)}return s}function Qs(e,t){var n={};return t=yr(t,3),Rn(e,function(e,i,r){n[t(e,i,r)]=e}),n}function Ys(e,t){var n={};return t=yr(t,3),Rn(e,function(e,i,r){n[i]=t(e,i,r)}),n}function Zs(e,t){return t=yr(t),di(e,function(e,n){return!t(e,n)})}function qs(e,t){return null==e?{}:di(e,yr(t))}function Xs(e,t,n){t=Ur(t,e)?[t]:Ri(t);var i=-1,r=t.length;for(r||(e=te,r=1);++i<r;){var o=null==e?te:e[t[i]];o===te&&(i=r,o=n),e=ns(o)?o.call(e):o}return e}function $s(e,t,n){return null==e?e:Ei(e,t,n)}function el(e,t,n,i){return i="function"==typeof i?i:te,null==e?e:Ei(e,t,n,i)}function tl(e){return D(e,zs(e))}function nl(e){return D(e,Js(e))}function il(e,t,n){var i=qc(e)||Ss(e);if(t=yr(t,4),null==n)if(i||os(e)){var r=e.constructor;n=i?qc(e)?new r:[]:ns(r)?En(Ir(e)):{}}else n={};return(i?c:Rn)(e,function(e,i,r){return t(n,e,i,r)}),n}function rl(e,t){return null==e?!0:Oi(e,t)}function ol(e,t,n){return null==e?e:Ni(e,t,xi(n))}function al(e,t,n,i){return i="function"==typeof i?i:te,null==e?e:Ni(e,t,xi(n),i)}function sl(e){return e?P(e,zs(e)):[]}function ll(e){return null==e?[]:P(e,Js(e))}function ul(e,t,n){return n===te&&(n=t,t=te),n!==te&&(n=ks(n),n=n===n?n:0),t!==te&&(t=ks(t),t=t===t?t:0),gn(ks(e),t,n)}function cl(e,t,n){return t=ks(t)||0,n===te?(n=t,t=0):n=ks(n)||0,e=ks(e),Qn(e,t,n)}function Al(e,t,n){if(n&&"boolean"!=typeof n&&Br(e,t,n)&&(t=n=te),n===te&&("boolean"==typeof t?(n=t,t=te):"boolean"==typeof e&&(n=e,e=te)),e===te&&t===te?(e=0,t=1):(e=ks(e)||0,t===te?(t=e,e=0):t=ks(t)||0),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var r=Vu();return Uu(e+r*(t-e+Bn("1e-"+((r+"").length-1))),t)}return gi(e,t)}function dl(e){return EA(Ps(e).toLowerCase())}function hl(e){return e=Ps(e),e&&e.replace(xt,W).replace(bn,"")}function pl(e,t,n){e=Ps(e),t="string"==typeof t?t:t+"";var i=e.length;return n=n===te?i:gn(Os(n),0,i),n-=t.length,n>=0&&e.indexOf(t,n)==n}function fl(e){return e=Ps(e),e&&ht.test(e)?e.replace(At,H):e}function ml(e){return e=Ps(e),e&&St.test(e)?e.replace(Et,"\\$&"):e}function gl(e,t,n){e=Ps(e),t=Os(t);var i=t?q(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return cr(Mu(r),n)+e+cr(Du(r),n)}function vl(e,t,n){e=Ps(e),t=Os(t);var i=t?q(e):0;return t&&t>i?e+cr(t-i,n):e}function _l(e,t,n){e=Ps(e),t=Os(t);var i=t?q(e):0;return t&&t>i?cr(t-i,n)+e:e}function El(e,t,n){return n||null==t?t=0:t&&(t=+t),e=Ps(e).replace(yt,""),Fu(e,t||(Nt.test(e)?16:10))}function Sl(e,t,n){return t=(n?Br(e,t,n):t===te)?1:Os(t),_i(Ps(e),t)}function yl(){var e=arguments,t=Ps(e[0]);return e.length<3?t:Wu.call(t,e[1],e[2])}function bl(e,t,n){return n&&"number"!=typeof n&&Br(e,t,n)&&(t=n=te),(n=n===te?ke:n>>>0)?(e=Ps(e),e&&("string"==typeof t||null!=t&&!ms(t))&&(t+="",""==t&&In.test(e))?Bi(X(e),0,n):Ku.call(e,t,n)):[]}function Cl(e,t,n){return e=Ps(e),n=gn(Os(n),0,e.length),e.lastIndexOf(t,n)==n}function Tl(e,n,i){var r=t.templateSettings;i&&Br(e,n,i)&&(n=te),e=Ps(e),n=tA({},n,r,An);var o,a,s=tA({},n.imports,r.imports,An),l=zs(s),u=P(s,l),c=0,A=n.interpolate||Rt,d="__p += '",h=su((n.escape||Rt).source+"|"+A.source+"|"+(A===mt?wt:Rt).source+"|"+(n.evaluate||Rt).source+"|$","g"),p="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Nn+"]")+"\n";e.replace(h,function(t,n,i,r,s,l){return i||(i=r),d+=e.slice(c,l).replace(Bt,K),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),c=l+t.length,t}),d+="';\n";var f=n.variable;f||(d="with (obj) {\n"+d+"\n}\n"),d=(a?d.replace(st,""):d).replace(lt,"$1").replace(ut,"$1;"),d="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var m=SA(function(){return Function(l,p+"return "+d).apply(te,u)});if(m.source=d,es(m))throw m;return m}function Il(e){return Ps(e).toLowerCase()}function wl(e){return Ps(e).toUpperCase()}function Ol(e,t,n){if(e=Ps(e),!e)return e;if(n||t===te)return e.replace(yt,"");if(!(t+=""))return e;var i=X(e),r=X(t),o=L(i,r),a=x(i,r)+1;return Bi(i,o,a).join("")}function Nl(e,t,n){if(e=Ps(e),!e)return e;if(n||t===te)return e.replace(Ct,"");if(!(t+=""))return e;var i=X(e),r=x(i,X(t))+1;return Bi(i,0,r).join("")}function kl(e,t,n){if(e=Ps(e),!e)return e;if(n||t===te)return e.replace(bt,"");if(!(t+=""))return e;var i=X(e),r=L(i,X(t));return Bi(i,r).join("")}function Dl(e,t){var n=_e,i=Ee;if(os(t)){var r="separator"in t?t.separator:r;n="length"in t?Os(t.length):n,i="omission"in t?Ps(t.omission):i}e=Ps(e);var o=e.length;if(In.test(e)){var a=X(e);o=a.length}if(n>=o)return e;var s=n-q(i);if(1>s)return i;var l=a?Bi(a,0,s).join(""):e.slice(0,s);if(r===te)return l+i;if(a&&(s+=l.length-s),ms(r)){if(e.slice(s).search(r)){var u,c=l;for(r.global||(r=su(r.source,Ps(Ot.exec(r))+"g")),r.lastIndex=0;u=r.exec(c);)var A=u.index;l=l.slice(0,A===te?s:A)}}else if(e.indexOf(r,s)!=s){var d=l.lastIndexOf(r);d>-1&&(l=l.slice(0,d))}return l+i}function Ml(e){return e=Ps(e),e&&dt.test(e)?e.replace(ct,$):e}function Pl(e,t,n){return e=Ps(e),t=n?te:t,t===te&&(t=wn.test(e)?Tn:Tt),e.match(t)||[]}function Ll(e){var t=e?e.length:0,n=yr();return e=t?m(e,function(e){if("function"!=typeof e[1])throw new lu(re);return[n(e[0]),e[1]]}):[],Da(function(n){for(var i=-1;++i<t;){var r=e[i];if(s(r[0],this,n))return s(r[1],this,n)}})}function xl(e){return _n(vn(e,!0))}function Rl(e){return function(){return e}}function Bl(e){return e}function Ul(e){return ti("function"==typeof e?e:vn(e,!0))}function Fl(e){return oi(vn(e,!0))}function Vl(e,t){return ai(e,vn(t,!0))}function Wl(e,t,n){var i=zs(t),r=Vn(t,i);null!=n||os(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=Vn(t,zs(t)));var o=!(os(n)&&"chain"in n&&!n.chain),a=ns(e);return c(r,function(n){var i=t[n];e[n]=i,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),r=n.__actions__=Qi(this.__actions__);return r.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,g([this.value()],arguments))})}),e}function Hl(){return zn._===this&&(zn._=gu),this}function Kl(){}function Gl(e){return e=Os(e),Da(function(t){return ui(t,e)})}function jl(e){return Ur(e)?hi(e):pi(e)}function zl(e){return function(t){return null==e?te:Hn(e,t)}}function Jl(e,t){if(e=Os(e),1>e||e>we)return[];var n=ke,i=Uu(e,ke);t=yr(t),e-=ke;for(var r=k(i,t);++n<e;)t(n);return r}function Ql(e){return qc(e)?m(e,Qr):Es(e)?[e]:Qi(gc(e))}function Yl(e){var t=++pu;return Ps(e)+t}function Zl(e){return e&&e.length?S(e,Bl,Ha):te}function ql(e,t){return e&&e.length?S(e,yr(t),Ha):te}function Xl(e){return I(e,Bl)}function $l(e,t){return I(e,yr(t))}function eu(e){return e&&e.length?S(e,Bl,Ts):te}function tu(e,t){return e&&e.length?S(e,yr(t),Ts):te}function nu(e){return e&&e.length?N(e,Bl):0}function iu(e,t){return e&&e.length?N(e,yr(t)):0}e=e?Jn.defaults({},e,Jn.pick(zn,On)):zn;var ru=e.Date,ou=e.Error,au=e.Math,su=e.RegExp,lu=e.TypeError,uu=e.Array.prototype,cu=e.Object.prototype,Au=e.String.prototype,du=e.Function.prototype.toString,hu=cu.hasOwnProperty,pu=0,fu=du.call(Object),mu=cu.toString,gu=zn._,vu=su("^"+du.call(hu).replace(Et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_u=Wn?e.Buffer:te,Eu=e.Reflect,Su=e.Symbol,yu=e.Uint8Array,bu=e.clearTimeout,Cu=Eu?Eu.enumerate:te,Tu=Object.getOwnPropertySymbols,Iu="symbol"==typeof(Iu=Su&&Su.iterator)?Iu:te,wu=Object.create,Ou=cu.propertyIsEnumerable,Nu=e.setTimeout,ku=uu.splice,Du=au.ceil,Mu=au.floor,Pu=Object.getPrototypeOf,Lu=e.isFinite,xu=uu.join,Ru=Object.keys,Bu=au.max,Uu=au.min,Fu=e.parseInt,Vu=au.random,Wu=Au.replace,Hu=uu.reverse,Ku=Au.split,Gu=Cr(e,"DataView"),ju=Cr(e,"Map"),zu=Cr(e,"Promise"),Ju=Cr(e,"Set"),Qu=Cr(e,"WeakMap"),Yu=Cr(Object,"create"),Zu=Qu&&new Qu,qu=!Ou.call({valueOf:1},"valueOf"),Xu={},$u=Yr(Gu),ec=Yr(ju),tc=Yr(zu),nc=Yr(Ju),ic=Yr(Qu),rc=Su?Su.prototype:te,oc=rc?rc.valueOf:te,ac=rc?rc.toString:te;t.templateSettings={escape:pt,evaluate:ft,interpolate:mt,variable:"",imports:{_:t}},t.prototype=n.prototype,t.prototype.constructor=t,i.prototype=En(n.prototype),i.prototype.constructor=i,r.prototype=En(n.prototype),r.prototype.constructor=r,Ft.prototype=Yu?Yu(null):cu,Gt.prototype.clear=jt,Gt.prototype["delete"]=zt,Gt.prototype.get=Jt,Gt.prototype.has=Qt,Gt.prototype.set=Yt,Zt.prototype.push=Xt,$t.prototype.clear=en,$t.prototype["delete"]=tn,$t.prototype.get=nn,$t.prototype.has=rn,$t.prototype.set=on;var sc=$i(Rn),lc=$i(Fn,!0),uc=er(),cc=er(!0);Cu&&!Ou.call({valueOf:1},"valueOf")&&(ii=function(e){return J(Cu(e))});var Ac=Zu?function(e,t){return Zu.set(e,t),e}:Bl,dc=Ju&&2===new Ju([1,2]).size?function(e){return new Ju(e)}:Kl,hc=Zu?function(e){return Zu.get(e)}:Kl,pc=hi("length");Tu||(wr=function(){return[]});var fc=Tu?function(e){for(var t=[];e;)g(t,wr(e)),e=Ir(e);return t}:wr;(Gu&&Or(new Gu(new ArrayBuffer(1)))!=qe||ju&&Or(new ju)!=Ve||zu&&Or(zu.resolve())!=Ke||Ju&&Or(new Ju)!=je||Qu&&Or(new Qu)!=Qe)&&(Or=function(e){var t=mu.call(e),n=t==He?e.constructor:te,i=n?Yr(n):te;if(i)switch(i){case $u:return qe;case ec:return Ve;case tc:return Ke;case nc:return je;case ic:return Qe}return t});var mc=function(){var e=0,t=0;return function(n,i){var r=Hc(),o=ye-(r-t);if(t=r,o>0){if(++e>=Se)return n}else e=0;return Ac(n,i)}}(),gc=Oa(function(e){var t=[];return Ps(e).replace(_t,function(e,n,i,r){t.push(i?r.replace(It,"$1"):n||e)}),t}),vc=Da(function(e,t){return Ja(e)?Cn(e,xn(t,1,Ja,!0)):[]}),_c=Da(function(e,t){var n=mo(t);return Ja(n)&&(n=te),Ja(e)?Cn(e,xn(t,1,Ja,!0),yr(n)):[]}),Ec=Da(function(e,t){var n=mo(t);return Ja(n)&&(n=te),Ja(e)?Cn(e,xn(t,1,Ja,!0),te,n):[]}),Sc=Da(function(e){var t=m(e,Li);return t.length&&t[0]===e[0]?Yn(t):[]}),yc=Da(function(e){var t=mo(e),n=m(e,Li);return t===mo(n)?t=te:n.pop(),n.length&&n[0]===e[0]?Yn(n,yr(t)):[]}),bc=Da(function(e){var t=mo(e),n=m(e,Li);return t===mo(n)?t=te:n.pop(),n.length&&n[0]===e[0]?Yn(n,te,t):[]}),Cc=Da(_o),Tc=Da(function(e,t){t=m(xn(t,1),String);var n=mn(e,t);return mi(e,t.sort(B)),n}),Ic=Da(function(e){return wi(xn(e,1,Ja,!0))}),wc=Da(function(e){var t=mo(e);return Ja(t)&&(t=te),wi(xn(e,1,Ja,!0),yr(t))}),Oc=Da(function(e){var t=mo(e);return Ja(t)&&(t=te),wi(xn(e,1,Ja,!0),te,t)}),Nc=Da(function(e,t){return Ja(e)?Cn(e,t):[]}),kc=Da(function(e){return Mi(h(e,Ja))}),Dc=Da(function(e){var t=mo(e);return Ja(t)&&(t=te),Mi(h(e,Ja),yr(t))}),Mc=Da(function(e){var t=mo(e);return Ja(t)&&(t=te),Mi(h(e,Ja),te,t)}),Pc=Da(Wo),Lc=Da(function(e){var t=e.length,n=t>1?e[t-1]:te;return n="function"==typeof n?(e.pop(),n):te,Ho(e,n)}),xc=Da(function(e){e=xn(e,1);var t=e.length,n=t?e[0]:0,o=this.__wrapped__,a=function(t){return mn(t,e)};return!(t>1||this.__actions__.length)&&o instanceof r&&z(n)?(o=o.slice(n,+n+(t?1:0)),o.__actions__.push({func:Jo,args:[a],thisArg:te}),new i(o,this.__chain__).thru(function(e){return t&&!e.length&&e.push(te),e})):this.thru(a)}),Rc=qi(function(e,t,n){hu.call(e,n)?++e[n]:e[n]=1}),Bc=qi(function(e,t,n){hu.call(e,n)?e[n].push(t):e[n]=[t]}),Uc=Da(function(e,t,n){var i=-1,r="function"==typeof t,o=Ur(t),a=za(e)?Array(e.length):[];return sc(e,function(e){var l=r?t:o&&null!=e?e[t]:te;a[++i]=l?s(l,e,n):qn(e,t,n)}),a}),Fc=qi(function(e,t,n){e[n]=t}),Vc=qi(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Wc=Da(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Br(e,t[0],t[1])?t=[]:n>2&&Br(t[0],t[1],t[2])&&(t=[t[0]]),t=1==t.length&&qc(t[0])?t[0]:xn(t,1,Rr),ci(e,t,[])}),Hc=ru.now,Kc=Da(function(e,t,n){var i=se;if(n.length){var r=Y(n,Tr(Kc));i|=de}return fr(e,i,t,n,r)}),Gc=Da(function(e,t,n){var i=se|le;if(n.length){var r=Y(n,Tr(Gc));i|=de}return fr(t,i,e,n,r)}),jc=Da(function(e,t){return Sn(e,1,t)}),zc=Da(function(e,t,n){return Sn(e,ks(t)||0,n)});Oa.Cache=Gt;var Jc=Da(function(e,t){t=1==t.length&&qc(t[0])?m(t[0],M(yr())):m(xn(t,1,Rr),M(yr()));var n=t.length;return Da(function(i){for(var r=-1,o=Uu(i.length,n);++r<o;)i[r]=t[r].call(this,i[r]);return s(e,this,i)})}),Qc=Da(function(e,t){var n=Y(t,Tr(Qc));return fr(e,de,te,t,n)}),Yc=Da(function(e,t){var n=Y(t,Tr(Yc));return fr(e,he,te,t,n)}),Zc=Da(function(e,t){return fr(e,fe,te,te,te,xn(t,1))}),qc=Array.isArray,Xc=_u?function(e){return e instanceof _u}:Rl(!1),$c=Xi(function(e,t){if(qu||Wr(t)||za(t))return void Yi(t,zs(t),e);for(var n in t)hu.call(t,n)&&hn(e,n,t[n])}),eA=Xi(function(e,t){if(qu||Wr(t)||za(t))return void Yi(t,Js(t),e);for(var n in t)hn(e,n,t[n])}),tA=Xi(function(e,t,n,i){Yi(t,Js(t),e,i)}),nA=Xi(function(e,t,n,i){Yi(t,zs(t),e,i)}),iA=Da(function(e,t){return mn(e,xn(t,1))}),rA=Da(function(e){return e.push(te,An),s(tA,te,e)}),oA=Da(function(e){return e.push(te,jr),s(cA,te,e)}),aA=lr(function(e,t,n){e[t]=n},Rl(Bl)),sA=lr(function(e,t,n){hu.call(e,t)?e[t].push(n):e[t]=[n]},yr),lA=Da(qn),uA=Xi(function(e,t,n){si(e,t,n)}),cA=Xi(function(e,t,n,i){si(e,t,n,i)}),AA=Da(function(e,t){return null==e?{}:(t=m(xn(t,1),Qr),Ai(e,Cn(Er(e),t)))}),dA=Da(function(e,t){return null==e?{}:Ai(e,xn(t,1))}),hA=ir(function(e,t,n){return t=t.toLowerCase(),e+(n?dl(t):t)}),pA=ir(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),fA=ir(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),mA=nr("toLowerCase"),gA=ir(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),vA=ir(function(e,t,n){return e+(n?" ":"")+EA(t)}),_A=ir(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),EA=nr("toUpperCase"),SA=Da(function(e,t){try{return s(e,te,t)}catch(n){return es(n)?n:new ou(n)}}),yA=Da(function(e,t){return c(xn(t,1),function(t){e[t]=Kc(e[t],e)}),e}),bA=ar(),CA=ar(!0),TA=Da(function(e,t){return function(n){return qn(n,e,t)}}),IA=Da(function(e,t){return function(n){return qn(e,n,t)}}),wA=ur(m),OA=ur(d),NA=ur(E),kA=dr(),DA=dr(!0),MA=V(function(e,t){return e+t}),PA=pr("ceil"),LA=V(function(e,t){return e/t}),xA=pr("floor"),RA=V(function(e,t){return e*t}),BA=pr("round"),UA=V(function(e,t){return e-t});return t.after=Sa,t.ary=ya,t.assign=$c,t.assignIn=eA,t.assignInWith=tA,t.assignWith=nA,t.at=iA,t.before=ba,t.bind=Kc,t.bindAll=yA,t.bindKey=Gc,t.castArray=Ra,t.chain=jo,t.chunk=qr,t.compact=Xr,t.concat=$r,t.cond=Ll,t.conforms=xl,t.constant=Rl,t.countBy=Rc,t.create=Ls,t.curry=Ca,t.curryRight=Ta,t.debounce=Ia,t.defaults=rA,t.defaultsDeep=oA,t.defer=jc,t.delay=zc,t.difference=vc,t.differenceBy=_c,t.differenceWith=Ec,t.drop=eo,t.dropRight=to,t.dropRightWhile=no,t.dropWhile=io,t.fill=ro,t.filter=na,t.flatMap=oa,t.flatMapDeep=aa,t.flatMapDepth=sa,t.flatten=so,t.flattenDeep=lo,t.flattenDepth=uo,t.flip=wa,t.flow=bA,t.flowRight=CA,t.fromPairs=co,t.functions=Ws,t.functionsIn=Hs,t.groupBy=Bc,t.initial=po,t.intersection=Sc,t.intersectionBy=yc,t.intersectionWith=bc,t.invert=aA,t.invertBy=sA,t.invokeMap=Uc,t.iteratee=Ul,t.keyBy=Fc,t.keys=zs,t.keysIn=Js,t.map=Aa,t.mapKeys=Qs,t.mapValues=Ys,t.matches=Fl,t.matchesProperty=Vl,t.memoize=Oa,t.merge=uA,t.mergeWith=cA,t.method=TA,t.methodOf=IA,t.mixin=Wl,t.negate=Na,t.nthArg=Gl,t.omit=AA,t.omitBy=Zs,t.once=ka,t.orderBy=da,t.over=wA,t.overArgs=Jc,t.overEvery=OA,t.overSome=NA,t.partial=Qc,t.partialRight=Yc,t.partition=Vc,t.pick=dA,t.pickBy=qs,t.property=jl,t.propertyOf=zl,t.pull=Cc,t.pullAll=_o,t.pullAllBy=Eo,t.pullAllWith=So,t.pullAt=Tc,t.range=kA,t.rangeRight=DA,t.rearg=Zc,t.reject=fa,t.remove=yo,t.rest=Da,t.reverse=bo,t.sampleSize=ga,t.set=$s,t.setWith=el,t.shuffle=va,t.slice=Co,t.sortBy=Wc,t.sortedUniq=Do,t.sortedUniqBy=Mo,t.split=bl,t.spread=Ma,t.tail=Po,t.take=Lo,t.takeRight=xo,t.takeRightWhile=Ro,t.takeWhile=Bo,t.tap=zo,t.throttle=Pa,t.thru=Jo,t.toArray=ws,t.toPairs=tl,t.toPairsIn=nl,t.toPath=Ql,t.toPlainObject=Ds,t.transform=il,t.unary=La,t.union=Ic,t.unionBy=wc,t.unionWith=Oc,t.uniq=Uo,t.uniqBy=Fo,t.uniqWith=Vo,t.unset=rl,t.unzip=Wo,t.unzipWith=Ho,t.update=ol,t.updateWith=al,t.values=sl,t.valuesIn=ll,t.without=Nc,t.words=Pl,t.wrap=xa,t.xor=kc,t.xorBy=Dc,t.xorWith=Mc,t.zip=Pc,t.zipObject=Ko,t.zipObjectDeep=Go,t.zipWith=Lc,t.entries=tl,t.entriesIn=nl,t.extend=eA,t.extendWith=tA,Wl(t,t),t.add=MA,t.attempt=SA,t.camelCase=hA,t.capitalize=dl,t.ceil=PA,t.clamp=ul,t.clone=Ba,t.cloneDeep=Fa,t.cloneDeepWith=Va,t.cloneWith=Ua,t.deburr=hl,t.divide=LA,t.endsWith=pl,t.eq=Wa,t.escape=fl,t.escapeRegExp=ml,t.every=ta,t.find=ia,t.findIndex=oo,t.findKey=xs,t.findLast=ra,t.findLastIndex=ao,t.findLastKey=Rs,t.floor=xA,t.forEach=la,t.forEachRight=ua,t.forIn=Bs,t.forInRight=Us,t.forOwn=Fs,t.forOwnRight=Vs,t.get=Ks,t.gt=Ha,t.gte=Ka,t.has=Gs,t.hasIn=js,t.head=Ao,t.identity=Bl,t.includes=ca,t.indexOf=ho,t.inRange=cl,t.invoke=lA,t.isArguments=Ga,t.isArray=qc,t.isArrayBuffer=ja,t.isArrayLike=za,t.isArrayLikeObject=Ja,t.isBoolean=Qa,t.isBuffer=Xc,t.isDate=Ya,t.isElement=Za,t.isEmpty=qa,t.isEqual=Xa,t.isEqualWith=$a,t.isError=es,t.isFinite=ts,t.isFunction=ns,t.isInteger=is,t.isLength=rs,t.isMap=ss,t.isMatch=ls,t.isMatchWith=us,t.isNaN=cs,t.isNative=As,t.isNil=hs,t.isNull=ds,t.isNumber=ps,t.isObject=os,t.isObjectLike=as,t.isPlainObject=fs,t.isRegExp=ms,t.isSafeInteger=gs,t.isSet=vs,t.isString=_s,t.isSymbol=Es,t.isTypedArray=Ss,t.isUndefined=ys,t.isWeakMap=bs,t.isWeakSet=Cs,t.join=fo,t.kebabCase=pA,t.last=mo,t.lastIndexOf=go,t.lowerCase=fA,t.lowerFirst=mA,t.lt=Ts,t.lte=Is,t.max=Zl,t.maxBy=ql,t.mean=Xl,t.meanBy=$l,t.min=eu,t.minBy=tu,t.multiply=RA,t.nth=vo,t.noConflict=Hl,t.noop=Kl,t.now=Hc,t.pad=gl,t.padEnd=vl,t.padStart=_l,t.parseInt=El,t.random=Al,t.reduce=ha,t.reduceRight=pa,t.repeat=Sl,t.replace=yl,t.result=Xs,t.round=BA,t.runInContext=ee,t.sample=ma,t.size=_a,t.snakeCase=gA,t.some=Ea,t.sortedIndex=To,t.sortedIndexBy=Io,t.sortedIndexOf=wo,t.sortedLastIndex=Oo,t.sortedLastIndexBy=No,t.sortedLastIndexOf=ko,t.startCase=vA,t.startsWith=Cl,t.subtract=UA,t.sum=nu,t.sumBy=iu,t.template=Tl,t.times=Jl,t.toInteger=Os,t.toLength=Ns,t.toLower=Il,t.toNumber=ks,t.toSafeInteger=Ms,t.toString=Ps,t.toUpper=wl,t.trim=Ol,t.trimEnd=Nl,t.trimStart=kl,t.truncate=Dl,t.unescape=Ml,t.uniqueId=Yl,t.upperCase=_A,t.upperFirst=EA,t.each=la,t.eachRight=ua,t.first=Ao,Wl(t,function(){var e={};return Rn(t,function(n,i){hu.call(t.prototype,i)||(e[i]=n)}),e}(),{chain:!1}),t.VERSION=ne,c(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),c(["drop","take"],function(e,t){r.prototype[e]=function(n){var i=this.__filtered__;if(i&&!t)return new r(this);n=n===te?1:Bu(Os(n),0);var o=this.clone();return i?o.__takeCount__=Uu(n,o.__takeCount__):o.__views__.push({size:Uu(n,ke),type:e+(o.__dir__<0?"Right":"")}),o},r.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),c(["filter","map","takeWhile"],function(e,t){var n=t+1,i=n==be||n==Te;r.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:yr(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}}),c(["head","last"],function(e,t){var n="take"+(t?"Right":"");r.prototype[e]=function(){return this[n](1).value()[0]}}),c(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");r.prototype[e]=function(){return this.__filtered__?new r(this):this[n](1)}}),r.prototype.compact=function(){return this.filter(Bl)},r.prototype.find=function(e){return this.filter(e).head()},r.prototype.findLast=function(e){return this.reverse().find(e)},r.prototype.invokeMap=Da(function(e,t){return"function"==typeof e?new r(this):this.map(function(n){return qn(n,e,t)})}),r.prototype.reject=function(e){return e=yr(e,3),this.filter(function(t){return!e(t)})},r.prototype.slice=function(e,t){e=Os(e);var n=this;return n.__filtered__&&(e>0||0>t)?new r(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==te&&(t=Os(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},r.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},r.prototype.toArray=function(){return this.take(ke)},Rn(r.prototype,function(e,n){var o=/^(?:filter|find|map|reject)|While$/.test(n),a=/^(?:head|last)$/.test(n),s=t[a?"take"+("last"==n?"Right":""):n],l=a||/^find/.test(n);s&&(t.prototype[n]=function(){var n=this.__wrapped__,u=a?[1]:arguments,c=n instanceof r,A=u[0],d=c||qc(n),h=function(e){var n=s.apply(t,g([e],u));return a&&p?n[0]:n};d&&o&&"function"==typeof A&&1!=A.length&&(c=d=!1);var p=this.__chain__,f=!!this.__actions__.length,m=l&&!p,v=c&&!f;if(!l&&d){n=v?n:new r(this);var _=e.apply(n,u);return _.__actions__.push({func:Jo,args:[h],thisArg:te}),new i(_,p)}return m&&v?e.apply(this,u):(_=this.thru(h),m?a?_.value()[0]:_.value():_)})}),c(["pop","push","shift","sort","splice","unshift"],function(e){var n=uu[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var t=this.value();return n.apply(qc(t)?t:[],e)}return this[i](function(t){return n.apply(qc(t)?t:[],e)})}}),Rn(r.prototype,function(e,n){var i=t[n];if(i){var r=i.name+"",o=Xu[r]||(Xu[r]=[]);o.push({name:n,func:i})}}),Xu[sr(te,le).name]=[{name:"wrapper",func:te}],r.prototype.clone=R,r.prototype.reverse=Lt,r.prototype.value=Ut,t.prototype.at=xc,t.prototype.chain=Qo,t.prototype.commit=Yo,t.prototype.next=Zo,t.prototype.plant=Xo,t.prototype.reverse=$o,t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=ea,Iu&&(t.prototype[Iu]=qo),t}var te,ne="4.11.1",ie=200,re="Expected a function",oe="__lodash_hash_undefined__",ae="__lodash_placeholder__",se=1,le=2,ue=4,ce=8,Ae=16,de=32,he=64,pe=128,fe=256,me=512,ge=1,ve=2,_e=30,Ee="...",Se=150,ye=16,be=1,Ce=2,Te=3,Ie=1/0,we=9007199254740991,Oe=1.7976931348623157e308,Ne=NaN,ke=4294967295,De=ke-1,Me=ke>>>1,Pe="[object Arguments]",Le="[object Array]",xe="[object Boolean]",Re="[object Date]",Be="[object Error]",Ue="[object Function]",Fe="[object GeneratorFunction]",Ve="[object Map]",We="[object Number]",He="[object Object]",Ke="[object Promise]",Ge="[object RegExp]",je="[object Set]",ze="[object String]",Je="[object Symbol]",Qe="[object WeakMap]",Ye="[object WeakSet]",Ze="[object ArrayBuffer]",qe="[object DataView]",Xe="[object Float32Array]",$e="[object Float64Array]",et="[object Int8Array]",tt="[object Int16Array]",nt="[object Int32Array]",it="[object Uint8Array]",rt="[object Uint8ClampedArray]",ot="[object Uint16Array]",at="[object Uint32Array]",st=/\b__p \+= '';/g,lt=/\b(__p \+=) '' \+/g,ut=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ct=/&(?:amp|lt|gt|quot|#39|#96);/g,At=/[&<>"'`]/g,dt=RegExp(ct.source),ht=RegExp(At.source),pt=/<%-([\s\S]+?)%>/g,ft=/<%([\s\S]+?)%>/g,mt=/<%=([\s\S]+?)%>/g,gt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vt=/^\w*$/,_t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,Et=/[\\^$.*+?()[\]{}|]/g,St=RegExp(Et.source),yt=/^\s+|\s+$/g,bt=/^\s+/,Ct=/\s+$/,Tt=/[a-zA-Z0-9]+/g,It=/\\(\\)?/g,wt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ot=/\w*$/,Nt=/^0x/i,kt=/^[-+]0x[0-9a-f]+$/i,Dt=/^0b[01]+$/i,Mt=/^\[object .+?Constructor\]$/,Pt=/^0o[0-7]+$/i,Lt=/^(?:0|[1-9]\d*)$/,xt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Rt=/($^)/,Bt=/['\n\r\u2028\u2029\\]/g,Ut="\\ud800-\\udfff",Ft="\\u0300-\\u036f\\ufe20-\\ufe23",Vt="\\u20d0-\\u20f0",Wt="\\u2700-\\u27bf",Ht="a-z\\xdf-\\xf6\\xf8-\\xff",Kt="\\xac\\xb1\\xd7\\xf7",Gt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",jt="\\u2018\\u2019\\u201c\\u201d",zt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Jt="A-Z\\xc0-\\xd6\\xd8-\\xde",Qt="\\ufe0e\\ufe0f",Yt=Kt+Gt+jt+zt,Zt="['’]",qt="["+Ut+"]",Xt="["+Yt+"]",$t="["+Ft+Vt+"]",en="\\d+",tn="["+Wt+"]",nn="["+Ht+"]",rn="[^"+Ut+Yt+en+Wt+Ht+Jt+"]",on="\\ud83c[\\udffb-\\udfff]",an="(?:"+$t+"|"+on+")",sn="[^"+Ut+"]",ln="(?:\\ud83c[\\udde6-\\uddff]){2}",un="[\\ud800-\\udbff][\\udc00-\\udfff]",cn="["+Jt+"]",An="\\u200d",dn="(?:"+nn+"|"+rn+")",hn="(?:"+cn+"|"+rn+")",pn="(?:"+Zt+"(?:d|ll|m|re|s|t|ve))?",fn="(?:"+Zt+"(?:D|LL|M|RE|S|T|VE))?",mn=an+"?",gn="["+Qt+"]?",vn="(?:"+An+"(?:"+[sn,ln,un].join("|")+")"+gn+mn+")*",_n=gn+mn+vn,En="(?:"+[tn,ln,un].join("|")+")"+_n,Sn="(?:"+[sn+$t+"?",$t,ln,un,qt].join("|")+")",yn=RegExp(Zt,"g"),bn=RegExp($t,"g"),Cn=RegExp(on+"(?="+on+")|"+Sn+_n,"g"),Tn=RegExp([cn+"?"+nn+"+"+pn+"(?="+[Xt,cn,"$"].join("|")+")",hn+"+"+fn+"(?="+[Xt,cn+dn,"$"].join("|")+")",cn+"?"+dn+"+"+pn,cn+"+"+fn,en,En].join("|"),"g"),In=RegExp("["+An+Ut+Ft+Vt+Qt+"]"),wn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,On=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","Reflect","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Nn=-1,kn={};
kn[Xe]=kn[$e]=kn[et]=kn[tt]=kn[nt]=kn[it]=kn[rt]=kn[ot]=kn[at]=!0,kn[Pe]=kn[Le]=kn[Ze]=kn[xe]=kn[qe]=kn[Re]=kn[Be]=kn[Ue]=kn[Ve]=kn[We]=kn[He]=kn[Ge]=kn[je]=kn[ze]=kn[Qe]=!1;var Dn={};Dn[Pe]=Dn[Le]=Dn[Ze]=Dn[qe]=Dn[xe]=Dn[Re]=Dn[Xe]=Dn[$e]=Dn[et]=Dn[tt]=Dn[nt]=Dn[Ve]=Dn[We]=Dn[He]=Dn[Ge]=Dn[je]=Dn[ze]=Dn[Je]=Dn[it]=Dn[rt]=Dn[ot]=Dn[at]=!0,Dn[Be]=Dn[Ue]=Dn[Qe]=!1;var Mn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Pn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ln={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},xn={"function":!0,object:!0},Rn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bn=parseFloat,Un=parseInt,Fn=xn[typeof t]&&t&&!t.nodeType?t:te,Vn=xn[typeof e]&&e&&!e.nodeType?e:te,Wn=Vn&&Vn.exports===Fn?Fn:te,Hn=R(Fn&&Vn&&"object"==typeof r&&r),Kn=R(xn[typeof self]&&self),Gn=R(xn[typeof window]&&window),jn=R(xn[typeof this]&&this),zn=Hn||Gn!==(jn&&jn.window)&&Gn||Kn||jn||Function("return this")(),Jn=ee();(Gn||Kn||{})._=Jn,i=function(){return Jn}.call(t,n,t,e),!(i!==te&&(e.exports=i))}).call(this)}).call(t,n(57)(e),function(){return this}())},function(e,t,n){"use strict";var i=n(2),r=n(91),o=n(3),a={ADDRESS_BAR_SHOW_FULL_URL:!1};o.get(["ADDRESS_BAR_SHOW_FULL_URL"],function(e){a=Object.assign(a,e),o.addListener("ADDRESS_BAR_SHOW_FULL_URL",function(e,t){t!==e&&(a.ADDRESS_BAR_SHOW_FULL_URL=t)})});var s=function(){var e=this;this.internals={settings:"chrome-extension://mpognobbkildjkofajifpdfhcoklimli/components/settings/settings.html",startpage:"chrome-extension://mpognobbkildjkofajifpdfhcoklimli/components/startpage/startpage.html",mailpage:"chrome-extension://mpognobbkildjkofajifpdfhcoklimli/components/mail/mail.html",aboutpage:"chrome://version",vivaldiurls:"chrome://chrome-urls",plugins:"chrome://plugins",extensions:"chrome://chrome/extensions",bookmarks:"chrome://bookmarks",history:"chrome://history",welcome:"chrome-extension://mpognobbkildjkofajifpdfhcoklimli/components/welcome/welcome.html"},this._internal_values=Object.keys(this.internals).map(function(t){return e.internals[t]}),this.mappings=[{displayUrl:"vivaldi://settings",url:this.internals.settings,copyParams:!0},{displayUrl:"vivaldi:settings",url:this.internals.settings,copyParams:!0},{displayUrl:"",url:this.internals.startpage,copyParams:!1},{displayUrl:"vivaldi://mail",url:this.internals.mailpage,copyParams:!0},{displayUrl:"vivaldi://about",url:this.internals.aboutpage,copyParams:!0},{displayUrl:"vivaldi://help",url:this.internals.aboutpage,copyParams:!0},{displayUrl:"vivaldi://vivaldi-urls",url:this.internals.vivaldiurls,copyParams:!0},{displayUrl:"vivaldi://history",url:this.internals.history,copyParams:!0},{displayUrl:"vivaldi://extensions",url:this.internals.extensions,copyParams:!0},{displayUrl:"vivaldi://bookmarks",url:this.internals.bookmarks,copyParams:!0},{displayUrl:"vivaldi://welcome",url:this.internals.welcome,copyParams:!0},{displayUrl:"vivaldi:about",url:this.internals.aboutpage,copyParams:!1},{displayUrl:"about:about",url:this.internals.aboutpage,copyParams:!1},{displayUrl:"chrome://dummystartpage",url:this.internals.startpage,copyParams:!0},{displayUrl:"vivaldi://",url:"chrome://",copyParams:!0,mapDisplayUrlToUrl:function(t,n){return"vivaldi://"===t?e.internals.aboutpage:e._copyAllMapDisplayUrlToUrl(t,n)},mapUrlToDisplayUrl:function(t,n){return e._copyAllMapUrlToDisplayUrl(t,n)}}],this.categoryTitleMap={"":i("Startup"),startup:i("Startup"),appearance:i("Appearance"),"start-page":i("title","Start Page"),tabs:i("Tabs"),panel:i("Panel"),addressbar:i("Address Bar"),qc:i("Quick Commands"),keyboard:i("Keyboard"),mouse:i("Mouse"),search:i("noun","Search"),privacy:i("Privacy"),sync:i("Sync"),webpages:i("Webpages"),network:i("Network"),downloads:i("Downloads"),history:i("History"),mail:i("Mail"),calendar:i("Calendar"),contacts:i("Contacts"),bookmarks:i("Bookmarks"),all:i("Display All")},this.setInternalUrl=function(e,t){var n=this;this.internals[e]=t,this._internal_values=Object.keys(this.internals).map(function(e){return n.internals[e]})},this.setMapping=function(e,t,n){this.mappings.push({displayUrl:e,url:t,copyParams:!!n})},this.getDisplayUrl=function(e){if(!e)return"";for(var t=e.split("?"),n=0;n<this.mappings.length;n++){var i=this.mappings[n];if(i.url&&this.matchUrl(i.url,t[0])){e=i.mapUrlToDisplayUrl?i.mapUrlToDisplayUrl(e,i):this._defaultMapUrlToDisplayUrl(e,i);break}}return e},this.getDisplayTitle=function(e){if(!e||!e.get)return"";var t=e.get("title"),n=e.get("url");return n&&(n.startsWith("chrome://bookmarks/")?t=i("Bookmarks"):this.isStartPage(n)?t=i("title","Start Page"):n===this.internals.welcome?t=i("Welcome"):n.startsWith(this.internals.settings)&&(t=this.categoryTitleMap[this.getUrlParams(n).path||""]),t===n&&(t=this.removeTrailingSlashWhenNoPath(this.getDisplayUrl(n)))),t},this.removeTrailingSlashWhenNoPath=function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return e=e.replace(/\s/g,""),""===e?e:a.ADDRESS_BAR_SHOW_FULL_URL?e:e.replace(/^([a-z]+?:\/?\/?[^\/]*)\/([\?#].*)?$/,"$1$2")},this.getUrl=function(e){e=e?e.trim():e;for(var t=e,n=0;n<this.mappings.length;n++){var i=this.mappings[n];if(i.displayUrl.length>0&&this.matchUrl(i.displayUrl,e)){t=i.mapDisplayUrlToUrl?i.mapDisplayUrlToUrl(e,i):this._defaultMapDisplayUrlToUrl(e,i);break}}return t},this.isMailPage=function(e){return"string"==typeof e&&0===e.indexOf(this.internals.mailpage)},this.isStartPage=function(e){return"string"==typeof e&&0===e.indexOf(this.internals.startpage)},this.isInternalUrl=function(e){for(var t=0;t<this._internal_values.length;t++)if(e&&0===e.indexOf(this._internal_values[t]))return!0;return!1},this.isInternalPage=function(e){return e&&this.isInternalUrl(e.get("url"))},this.isNavigatablePage=function(e){return!this.isInternalPage(e)||this.matchUrl(this.internals.settings,e.get("url"))},this.isNavigatableUrl=function(e){return!this.isInternalUrl(e)||this.matchUrl(this.internals.settings,e)},this.isBookmarkablePage=function(e){return!this.isInternalPage(e)},this.matchInternal=function(e,t){return this.matchUrl(this.internals[e],t)},this.matchUrl=function(e,t){return t&&0===t.indexOf(e)},this.equalUrl=function(e,t,n){return n?e&&t&&this._stripParams(e)===this._stripParams(t):e&&t&&this._trimSlash(e)===this._trimSlash(t)},this.getUrlParams=function(e){var t=e?e.split("?"):[];return t.length>1?r.parse(t[1]):{}},this.internalUrl=function(e,t,n,i){return this.internals[e]+"?path="+this._trimSlash(t)+(n?"&title="+n:"")+(i?"&query="+i:"")},this.internalKeyFromUrl=function(e){for(var t in this.internals)if(this.matchInternal(t,e))return t;return null},this._stripParams=function(e){return this._trimSlash(e).split("?")[0].split("#")[0]},this._parseUrlPath=function(e){return this._trimSlash(e).split("/").slice(2)},this._trimSlash=function(e){return e.replace(/^\/+|\/+$/gm,"")},this._defaultMapUrlToDisplayUrl=function(e,t,n){var i=e.split("?"),o=e;if(t.displayUrl){var a=i.length>1?r.parse(i[1]):{};o=t.displayUrl+(t.copyParams&&a.path?"/"+a.path+"/":"/")}else o="";return o},this._defaultMapDisplayUrlToUrl=function(e,t,n){var i=t.copyParams&&e.length>t.displayUrl.length?"path="+this._trimSlash(e.slice(t.displayUrl.length)):"";return t.url+(i||n?"?":"")+i+(i?"&":"")+(n?n:"")},this._copyAllMapUrlToDisplayUrl=function(e,t,n){var i=t.copyParams&&e.length>t.url.length?this._trimSlash(e.slice(t.url.length)):"";return t.displayUrl+i},this._copyAllMapDisplayUrlToUrl=function(e,t,n){var i=t.copyParams&&e.length>t.displayUrl.length?this._trimSlash(e.slice(t.displayUrl.length)):"";return t.url+i}};e.exports={urls:new s}},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=Object.assign||function(e,t){for(var o,a,s=n(e),l=1;l<arguments.length;l++){o=Object(arguments[l]);for(var u in o)i.call(o,u)&&(s[u]=o[u]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(o);for(var c=0;c<a.length;c++)r.call(o,a[c])&&(s[a[c]]=o[a[c]])}}return s}},function(e,t,n){"use strict";var i,r,o,a,s,l=n(69),u=n(3),c=n(83),A=n(36),d=n(4),h=n(8),p=10,f=" -_()jygpq",m="",g="",v=function(e,t,n){for(var i=0;-1!==i;){var r=t.charAt(i),o=r.toUpperCase();if(-1===f.indexOf(r)&&-1===e.indexOf(o)&&(0===i||n===!0?r===o:1))return i;i=t.indexOf(" ",i+1),-1!==i&&i++}for(var a=0;a<t.length;a++){var s=t.charAt(a);if(-1===f.indexOf(s)&&-1===e.indexOf(s.toUpperCase()))return a}return-1},_=function S(e,t){for(var n=0===d.i18n.getUILanguage().indexOf("en"),i="",r=0;r<e.length;r++){var o=e[r];if(void 0!==o.name)if("---"!==o.name&&o.mnemonic!==!1)if(t){var a=t[r].mnemonicOffset;void 0!==a&&a+1<=o.name.length?("&"===o.name[a]?o.nameWithMnemonic=o.name:o.nameWithMnemonic=o.name.slice(0,a)+"&"+o.name.slice(a),i+=o.name.charAt(a+1).toUpperCase()):(a=o.name.indexOf("&"),o.nameWithMnemonic=-1!==a?o.name:void 0)}else{var s=o.name.indexOf("&");-1!==s&&s+1<o.name.length?(o.nameWithMnemonic=o.name,i+=o.name.charAt(s+1).toUpperCase()):o.nameWithMnemonic=void 0}else if(o.mnemonic===!1){var l=o.name.indexOf("&");-1!==l&&(o.nameWithMnemonic=o.name.replace(/\&/g,"&&"))}}for(var u=0;u<e.length;u++){var c=e[u];if(void 0!==c.name&&"---"!==c.name&&c.mnemonic!==!1){if(void 0===c.nameWithMnemonic){var A=v(i,c.name,n);A>=0&&(i+=c.name.charAt(A).toUpperCase(),c.nameWithMnemonic=c.name.slice(0,A)+"&"+c.name.slice(A))}c.items&&S(c.items,null)}}},E=function(e,t){var d=arguments.length<=2||void 0===arguments[2]?"pointer":arguments[2],f=arguments.length<=3||void 0===arguments[3]?null:arguments[3],v=arguments.length<=4||void 0===arguments[4]?null:arguments[4],E=arguments.length<=5||void 0===arguments[5]?null:arguments[5],S=arguments.length<=6||void 0===arguments[6]?null:arguments[6],y=0,b={},C=function(e,t){if(l.setStatus(""),h.showMenu.onOpen.removeListener(T),h.showMenu.onUrlHighlighted.removeListener(I),"function"==typeof b[t.id]){var n="none";t.left?n="left":t.right?n="right":t.center&&(n="center");var i={ctrl:t.ctrl,alt:t.alt,shift:t.shift,command:t.command,button:n};b[t.id].call(this,e,i)}"function"==typeof v&&v.call(this,e)},T=function(){"function"==typeof t&&t.call(this,event)},I=function(e){l.setStatus(e)},w=function M(e){if(!e)return null;0===m.length&&(m=btoa(n(226))),0===g.length&&(g=btoa(n(225)));var t;t=e.items&&e.bookmarkFolder===!0?m:e.url?g:e.iconPNG;var i=e.visible!==!1;"function"==typeof e.testVisibility&&(i=e.testVisibility());var r=e.nameWithMnemonic?e.nameWithMnemonic:e.name,o=y++;return(r||e.url)&&(b[o]=e.handler),{id:o,name:r?r:"",selected:!(!E||E!==e),visible:i,items:e.items?e.items.map(M):null,type:e.type?e.type:"normal",checked:e.checked?e.checked:!1,shortcut:c(e.shortcut),url:e.url,icon:t}},O=function(e){e&&i!==!0?(document.addEventListener("mouseup",D),document.addEventListener("mousemove",k),document.addEventListener("wheel",N,!0),i=!0):e||i!==!0||(document.removeEventListener("mouseup",D),document.removeEventListener("mousemove",k),document.removeEventListener("wheel",N,!0),i=!1)},N=function(e){O(!1)},k=function(e){var t=Math.abs(a-e.screenX),n=Math.abs(s-e.screenY);(t>p||n>p)&&O(!1)},D=function(t){var n=this;O(!1);var i="function"==typeof e?e():e;_(i,S),h.zoom.getVivaldiUIZoom(function(e){h.showMenu.onOpen.addListener(T),h.showMenu.onUrlHighlighted.addListener(I),h.showMenu.create({mode:"context",left:parseInt(r*e),top:parseInt(o*e),items:i.map(w)},C.bind(n,t))})};return function(e,t){e.preventDefault(),e.stopPropagation(),"function"==typeof e.persist&&e.persist();var n=0,i=0,l="MacIntel"===navigator.platform?4:0,c="win"===A()?1:0;if("pointer"===d)n=e.clientX,i=e.clientY;else{var h=f?f.getBoundingClientRect():e.target.getBoundingClientRect();"bottom"===d?(n=parseInt(h.left)+c,i=parseInt(h.bottom)+l):"right"===d&&(n=parseInt(h.right),i=parseInt(h.top))}r=n,o=i,a=e.screenX,s=e.screenY,"win"!==A()&&"contextmenu"===e.type&&u.getSync("MOUSE_GESTURES_ENABLED")?O(!0):D(e)}};e.exports=E},function(e,t){function n(){u=!1,a.length?l=a.concat(l):c=-1,l.length&&i()}function i(){if(!u){var e=setTimeout(n);u=!0;for(var t=l.length;t;){for(a=l,l=[];++c<t;)a&&a[c].run();c=-1,t=l.length}a=null,u=!1,clearTimeout(e)}}function r(e,t){this.fun=e,this.array=t}function o(){}var a,s=e.exports={},l=[],u=!1,c=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new r(e,t)),1!==l.length||u||setTimeout(i,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=o,s.addListener=o,s.once=o,s.off=o,s.removeListener=o,s.removeAllListeners=o,s.emit=o,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,n){"use strict";function i(e){for(var t;t=e._renderedComponent;)e=t;return e}function r(e,t){var n=i(e);n._nativeNode=t,t[f]=n}function o(e){var t=e._nativeNode;t&&(delete t[f],e._nativeNode=null)}function a(e,t){if(!(e._flags&p.hasCachedChildNodes)){var n=e._renderedChildren,o=t.firstChild;e:for(var a in n)if(n.hasOwnProperty(a)){var s=n[a],l=i(s)._domID;if(null!=l){for(;null!==o;o=o.nextSibling)if(1===o.nodeType&&o.getAttribute(h)===String(l)||8===o.nodeType&&o.nodeValue===" react-text: "+l+" "||8===o.nodeType&&o.nodeValue===" react-empty: "+l+" "){r(s,o);continue e}d(!1)}}e._flags|=p.hasCachedChildNodes}}function s(e){if(e[f])return e[f];for(var t=[];!e[f];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,i;e&&(i=e[f]);e=t.pop())n=i,t.length&&a(i,e);return n}function l(e){var t=s(e);return null!=t&&t._nativeNode===e?t:null}function u(e){if(void 0===e._nativeNode?d(!1):void 0,e._nativeNode)return e._nativeNode;for(var t=[];!e._nativeNode;)t.push(e),e._nativeParent?void 0:d(!1),e=e._nativeParent;for(;t.length;e=t.pop())a(e,e._nativeNode);return e._nativeNode}var c=n(66),A=n(249),d=n(12),h=c.ID_ATTRIBUTE_NAME,p=A,f="__reactInternalInstance$"+Math.random().toString(36).slice(2),m={getClosestInstanceFromNode:s,getInstanceFromNode:l,getNodeFromInstance:u,precacheChildNodes:a,precacheNode:r,uncacheNode:o};e.exports=m},function(e,t,n){"use strict";var i=n(1),r=n(26),o=n(96),a=i.createClass({displayName:"Modal",propTypes:{dialogWidth:i.PropTypes.number,viewMode:i.PropTypes.string,onRequestClose:i.PropTypes.func,ignoreEscape:i.PropTypes.bool},componentDidMount:function(){r.bind("esc",this.closeModalHandler)},componentWillUnmount:function(){r.unbind("esc",this.closeModalHandler)},closeModalHandler:function(){this.props.onRequestClose&&!this.props.ignoreEscape&&this.props.onRequestClose()},killClick:function(e){e.stopPropagation()},handleBackdropClick:function(){this.props.onRequestClose&&this.props.onRequestClose()},render:function(){return i.createElement(o,{focusName:"focus_modal",id:"modal-bg",className:this.props.viewMode?this.props.viewMode:"slide",onClick:this.handleBackdropClick},i.createElement("div",{onClick:this.killClick,style:{width:this.props.dialogWidth}},this.props.children))}});e.exports=a},function(e,t){"use strict";var n={KEY_CANCEL:3,KEY_HELP:6,KEY_BACK_SPACE:8,KEY_TAB:9,KEY_CLEAR:12,KEY_RETURN:13,KEY_ENTER:14,KEY_SHIFT:16,KEY_CONTROL:17,KEY_ALT:18,KEY_PAUSE:19,KEY_CAPS_LOCK:20,KEY_ESCAPE:27,KEY_SPACE:32,KEY_PAGE_UP:33,KEY_PAGE_DOWN:34,KEY_END:35,KEY_HOME:36,KEY_LEFT:37,KEY_UP:38,KEY_RIGHT:39,KEY_DOWN:40,KEY_PRINTSCREEN:44,KEY_INSERT:45,KEY_DELETE:46,KEY_0:48,KEY_1:49,KEY_2:50,KEY_3:51,KEY_4:52,KEY_5:53,KEY_6:54,KEY_7:55,KEY_8:56,KEY_9:57,KEY_SEMICOLON:59,KEY_EQUALS:61,KEY_A:65,KEY_B:66,KEY_C:67,KEY_D:68,KEY_E:69,KEY_F:70,KEY_G:71,KEY_H:72,KEY_I:73,KEY_J:74,KEY_K:75,KEY_L:76,KEY_M:77,KEY_N:78,KEY_O:79,KEY_P:80,KEY_Q:81,KEY_R:82,KEY_S:83,KEY_T:84,KEY_U:85,KEY_V:86,KEY_W:87,KEY_X:88,KEY_Y:89,KEY_Z:90,KEY_CONTEXT_MENU:93,KEY_NUMPAD0:96,KEY_NUMPAD1:97,KEY_NUMPAD2:98,KEY_NUMPAD3:99,KEY_NUMPAD4:100,KEY_NUMPAD5:101,KEY_NUMPAD6:102,KEY_NUMPAD7:103,KEY_NUMPAD8:104,KEY_NUMPAD9:105,KEY_MULTIPLY:106,KEY_ADD:107,KEY_SEPARATOR:108,KEY_SUBTRACT:109,KEY_DECIMAL:110,KEY_DIVIDE:111,KEY_F1:112,KEY_F2:113,KEY_F3:114,KEY_F4:115,KEY_F5:116,KEY_F6:117,KEY_F7:118,KEY_F8:119,KEY_F9:120,KEY_F10:121,KEY_F11:122,KEY_F12:123,KEY_F13:124,KEY_F14:125,KEY_F15:126,KEY_F16:127,KEY_F17:128,KEY_F18:129,KEY_F19:130,KEY_F20:131,KEY_F21:132,KEY_F22:133,KEY_F23:134,KEY_F24:135,KEY_NUM_LOCK:144,KEY_SCROLL_LOCK:145,KEY_COMMA:188,KEY_PERIOD:190,KEY_SLASH:191,KEY_BACK_QUOTE:192,KEY_OPEN_BRACKET:219,KEY_BACK_SLASH:220,KEY_CLOSE_BRACKET:221,KEY_QUOTE:222,KEY_META:224};e.exports=n},function(e,t,n){"use strict";function i(e){function t(e){n.indexOf(e)>-1&&(i+=e+"+",n.splice(n.indexOf(e),1))}var n=e.split("+");n=n.map(function(e){return C[e]||e});var i="";return t("ctrl"),t("alt"),t("shift"),t("meta"),n.sort(),n.forEach(function(e,t){i+=e,t+1<n.length&&(i+="+")}),i.toLowerCase()}function r(e,t){if(t&&e){var n=i(e),r=w[n]||[];r.push(t),w[n]=r}}function o(e,t){if(e){var n=i(e);w[n]&&(t?w[n]=w[n].filter(function(e){return e!==t}):w[n]=void 0)}}function a(e){var t="";return e.metaKey&&(t+="meta+"),e.altKey&&(t+="alt+"),e.ctrlKey&&(t+="ctrl+"),e.shiftKey&&(t+="shift+"),t}function s(e){return!!(e.metaKey||e.altKey||e.shiftKey||e.ctrlKey)}function l(e){function t(){var t=["Alt","Shift","Control","Meta"];return 16===e.which?!1:17===e.which?!1:18===e.which?!1:-1===t.indexOf(e.keyIdentifier)}function n(){var t=String.fromCharCode(e.keyCode);return t>="A"&&"Z">=t||t>="0"&&"9">=t?t:String.fromCharCode(parseInt(e.keyIdentifier.substring(2),16))}function r(){return S[e.keyCode]?(o+=S[e.keyCode],i(o)):"U+0000"===e.keyIdentifier?null:(o+=n(),i(o))}var o=a(e);return t()&&"keydown"===e.type?r():void 0}function u(e,t){t(e),e.preventDefault(),e.stopPropagation()}function c(e,t){if(0!==e.charCode)return!1;if(-1!==T.indexOf(t))return!1;if("U+001B"===e.keyIdentifier||"Down"===e.keyIdentifier||"Up"===e.keyIdentifier||"U+0028"===e.keyIdentifier||"U+0026"===e.keyIdentifier||"Home"===e.keyIdentifier||"End"===e.keyIdentifier||"U+0021"===e.keyIdentifier||"U+0022"===e.keyIdentifier||"PageDown"===e.keyIdentifier||"PageUp"===e.keyIdentifier)return!0;if(e.keyCode>=112&&e.keyCode<=123)return!0;if(s(e)){if("U+0008"===e.keyIdentifier||"U+007F"===e.keyIdentifier)return!0;if(e.ctrlKey||e.metaKey||e.altKey)return!0}return!1}function A(e,t,n,i){var r=Array.isArray(i)&&1===i.length&&Array.isArray(i[0])&&2===i[0].length?i[0]:["webview",""],o=f(r,2),a=o[0],s=o[1],l="EMBED"===a,c="OBJECT"===a,A=(l||c)&&"application/x-shockwave-flash"===s,d=l&&"application/pdf"===s;(!A&&!d||A&&y.indexOf(e)>-1||d&&!b.some(function(t){return e.match(t)}))&&u(n,t)}function d(e,t,n){if(!e.defaultPrevented&&!(e.target.classList.contains("keyShortcutStop")||1===n.length&&_)){if(E){var i=g.getAllCommands(),r=i.find(function(e){return"COMMAND_PAGE_DISABLE_KEYBOARD_SHORTCUTS"===e.name});if(!(r.shortcut||[]).some(function(t){return t===l(e)}))return}var o=["INPUT","FRAME","IFRAME","OBJECT","SELECT","TEXTAREA","EMBED"];o.indexOf(e.target.tagName)>-1||e.target.isContentEditable?c(e,n)&&u(e,t):"WEBVIEW"===e.target.tagName?e.target.isFocusedElementEditable(function(i){var r=this;i&&!c(e,n)||!function(){var i=A.bind(r,n,t,e);"number"==typeof O&&(clearTimeout(O),O=null),O=setTimeout(function(){"number"==typeof O&&(O=void 0,i(void 0))},50),e.target.executeScript({code:'[document.activeElement.tagName.toUpperCase(),\ndocument.activeElement.getAttribute("type")]'},function(e){chrome.runtime.lastError||void 0===O||("number"==typeof O&&(clearTimeout(O),O=void 0),i(e))})}()}):u(e,t)}}function h(e){var t=w[e];return t&&t.length?t[t.length-1]:void 0}function p(e){var t=l(e);if(t){var n=h(t);n&&d(e,n,t)}}var f=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),m=n(3),g=n(35),v=n(53),_=void 0,E=void 0;m.get("DISABLE_SINGLE_KEY_SHORTCUTS",function(e){_=e}),m.get("DISABLE_KEYBOARD_SHORTCUTS",function(e){E=e}),m.addListener("DISABLE_SINGLE_KEY_SHORTCUTS",function(e,t){_=t}),m.addListener("DISABLE_KEYBOARD_SHORTCUTS",function(e,t){E=t}),v.addChangeListener(function(e){"disableShortcuts"===e.action&&m.set({DISABLE_KEYBOARD_SHORTCUTS:!E})});var S={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del"},y=navigator.platform.indexOf("Mac")>-1?["meta+t","meta+n","meta+w"]:["ctrl+t","ctrl+n","ctrl+w"],b=["backspace"],C={option:"alt",command:"meta","return":"enter",escape:"esc",del:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"backspace":"del",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},T=["left","right","shift+left","shift+right","shift+up","enter","shift+enter"];T=navigator.platform.indexOf("Mac")>-1?T.concat(["alt+left","alt+right","alt+backspace","meta+a","meta+z","meta+left","meta+right","shift+meta+left","shift+meta+right","ctrl+a","ctrl+b","ctrl+e","ctrl+f","ctrl+n","ctrl+p","ctrl+d","ctrl+h","ctrl+k","ctrl+o","ctrl+t","ctrl+v","ctrl+y","alt+shift+left","alt+shift+right","ctrl+shift+a","ctrl+shift+b","ctrl+shift+e","ctrl+shift+f","ctrl+shift+n","ctrl+shift+p"]):T.concat(["home","end","ctrl+a","ctrl+z","ctrl+y","ctrl+u","ctrl+left","ctrl+right","ctrl+backspace","ctrl+delete","ctrl+home","ctrl+end","ctrl+shift+left","ctrl+shift+right","shift+home","shift+end"]);for(var I=1;20>I;++I)S[111+I]="f"+I;var w={},O=void 0,N={bind:function(e,t){return[].concat(e).filter(Boolean).map(function(e){return e.trim()}).forEach(function(e){return r(e,t)}),this},unbind:function(e){var t=arguments.length<=1||void 0===arguments[1]?void 0:arguments[1];return[].concat(e).forEach(function(e){return o(e,t)}),this},keyComboFromEvent:l,shortcutAllowedInText:c};document.addEventListener("keydown",p),document.addEventListener("keypress",p),e.exports=N},function(e,t,n){!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function t(e){return o(e)?e:N(e)}function n(e){return a(e)?e:k(e)}function i(e){return s(e)?e:D(e)}function r(e){return o(e)&&!l(e)?e:M(e)}function o(e){return!(!e||!e[un])}function a(e){return!(!e||!e[cn])}function s(e){return!(!e||!e[An])}function l(e){return a(e)||s(e)}function u(e){return!(!e||!e[dn])}function c(e){return e.value=!1,e}function A(e){e&&(e.value=!0)}function d(){}function h(e,t){t=t||0;for(var n=Math.max(0,e.length-t),i=new Array(n),r=0;n>r;r++)i[r]=e[r+t];return i}function p(e){return void 0===e.size&&(e.size=e.__iterate(m)),e.size}function f(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return 0>t?p(e)+t:t}function m(){return!0}function g(e,t,n){return(0===e||void 0!==n&&-n>=e)&&(void 0===t||void 0!==n&&t>=n)}function v(e,t){return E(e,t,0)}function _(e,t){return E(e,t,t)}function E(e,t,n){return void 0===e?n:0>e?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}function S(e){this.next=e}function y(e,t,n,i){var r=0===e?t:1===e?n:[t,n];return i?i.value=r:i={value:r,done:!1},i}function b(){return{value:void 0,done:!0}}function C(e){return!!w(e)}function T(e){return e&&"function"==typeof e.next}function I(e){var t=w(e);return t&&t.call(e)}function w(e){var t=e&&(bn&&e[bn]||e[Cn]);return"function"==typeof t?t:void 0}function O(e){return e&&"number"==typeof e.length}function N(e){return null===e||void 0===e?U():o(e)?e.toSeq():W(e)}function k(e){return null===e||void 0===e?U().toKeyedSeq():o(e)?a(e)?e.toSeq():e.fromEntrySeq():F(e)}function D(e){return null===e||void 0===e?U():o(e)?a(e)?e.entrySeq():e.toIndexedSeq():V(e)}function M(e){return(null===e||void 0===e?U():o(e)?a(e)?e.entrySeq():e:V(e)).toSetSeq()}function P(e){this._array=e,this.size=e.length}function L(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function x(e){this._iterable=e,this.size=e.length||e.size}function R(e){this._iterator=e,this._iteratorCache=[]}function B(e){return!(!e||!e[In])}function U(){return wn||(wn=new P([]))}function F(e){var t=Array.isArray(e)?new P(e).fromEntrySeq():T(e)?new R(e).fromEntrySeq():C(e)?new x(e).fromEntrySeq():"object"==typeof e?new L(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function V(e){var t=H(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function W(e){var t=H(e)||"object"==typeof e&&new L(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function H(e){return O(e)?new P(e):T(e)?new R(e):C(e)?new x(e):void 0}function K(e,t,n,i){var r=e._cache;if(r){for(var o=r.length-1,a=0;o>=a;a++){var s=r[n?o-a:a];if(t(s[1],i?s[0]:a,e)===!1)return a+1}return a}return e.__iterateUncached(t,n)}function G(e,t,n,i){var r=e._cache;if(r){var o=r.length-1,a=0;return new S(function(){var e=r[n?o-a:a];return a++>o?b():y(t,i?e[0]:a-1,e[1])})}return e.__iteratorUncached(t,n)}function j(e,t){return t?z(t,e,"",{"":e}):J(e)}function z(e,t,n,i){return Array.isArray(t)?e.call(i,n,D(t).map(function(n,i){return z(e,n,i,t)})):Q(t)?e.call(i,n,k(t).map(function(n,i){return z(e,n,i,t)})):t}function J(e){return Array.isArray(e)?D(e).map(J).toList():Q(e)?k(e).map(J).toMap():e}function Q(e){return e&&(e.constructor===Object||void 0===e.constructor)}function Y(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function Z(e,t){if(e===t)return!0;if(!o(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||a(e)!==a(t)||s(e)!==s(t)||u(e)!==u(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!l(e);if(u(e)){var i=e.entries();return t.every(function(e,t){var r=i.next().value;return r&&Y(r[1],e)&&(n||Y(r[0],t))})&&i.next().done}var r=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{r=!0;var c=e;e=t,t=c}var A=!0,d=t.__iterate(function(t,i){return(n?e.has(t):r?Y(t,e.get(i,gn)):Y(e.get(i,gn),t))?void 0:(A=!1,!1)});return A&&e.size===d}function q(e,t){if(!(this instanceof q))return new q(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(On)return On;On=this}}function X(e,t){if(!e)throw new Error(t)}function $(e,t,n){if(!(this instanceof $))return new $(e,t,n);if(X(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),e>t&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Nn)return Nn;Nn=this}}function ee(){throw TypeError("Abstract")}function te(){}function ne(){}function ie(){}function re(e){return e>>>1&1073741824|3221225471&e}function oe(e){if(e===!1||null===e||void 0===e)return 0;if("function"==typeof e.valueOf&&(e=e.valueOf(),e===!1||null===e||void 0===e))return 0;if(e===!0)return 1;var t=typeof e;if("number"===t){if(e!==e||e===1/0)return 0;var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)e/=4294967295,n^=e;return re(n)}if("string"===t)return e.length>Bn?ae(e):se(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return le(e);if("function"==typeof e.toString)return se(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function ae(e){var t=Vn[e];return void 0===t&&(t=se(e),Fn===Un&&(Fn=0,Vn={}),Fn++,Vn[e]=t),t}function se(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return re(t)}function le(e){var t;if(Ln&&(t=kn.get(e),void 0!==t))return t;if(t=e[Rn],void 0!==t)return t;if(!Pn){if(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Rn],void 0!==t)return t;if(t=ue(e),void 0!==t)return t}if(t=++xn,1073741824&xn&&(xn=0),Ln)kn.set(e,t);else{if(void 0!==Mn&&Mn(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Pn)Object.defineProperty(e,Rn,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Rn]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Rn]=t}}return t}function ue(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function ce(e){X(e!==1/0,"Cannot perform this action with an infinite size.")}function Ae(e){return null===e||void 0===e?ye():de(e)&&!u(e)?e:ye().withMutations(function(t){var i=n(e);ce(i.size),i.forEach(function(e,n){return t.set(n,e)})})}function de(e){return!(!e||!e[Wn])}function he(e,t){this.ownerID=e,this.entries=t}function pe(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function fe(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function me(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function ge(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function ve(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Ee(e._root)}function _e(e,t){return y(e,t[0],t[1])}function Ee(e,t){return{node:e,index:0,__prev:t}}function Se(e,t,n,i){var r=Object.create(Hn);return r.size=e,r._root=t,r.__ownerID=n,r.__hash=i,r.__altered=!1,r}function ye(){return Kn||(Kn=Se(0))}function be(e,t,n){var i,r;if(e._root){var o=c(vn),a=c(_n);if(i=Ce(e._root,e.__ownerID,0,void 0,t,n,o,a),!a.value)return e;r=e.size+(o.value?n===gn?-1:1:0)}else{if(n===gn)return e;r=1,i=new he(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=r,e._root=i,e.__hash=void 0,e.__altered=!0,e):i?Se(r,i):ye()}function Ce(e,t,n,i,r,o,a,s){return e?e.update(t,n,i,r,o,a,s):o===gn?e:(A(s),A(a),new ge(t,i,[r,o]))}function Te(e){return e.constructor===ge||e.constructor===me}function Ie(e,t,n,i,r){if(e.keyHash===i)return new me(t,i,[e.entry,r]);var o,a=(0===n?e.keyHash:e.keyHash>>>n)&mn,s=(0===n?i:i>>>n)&mn,l=a===s?[Ie(e,t,n+pn,i,r)]:(o=new ge(t,i,r),s>a?[e,o]:[o,e]);return new pe(t,1<<a|1<<s,l)}function we(e,t,n,i){e||(e=new d);for(var r=new ge(e,oe(n),[n,i]),o=0;o<t.length;o++){var a=t[o];r=r.update(e,0,void 0,a[0],a[1])}return r}function Oe(e,t,n,i){for(var r=0,o=0,a=new Array(n),s=0,l=1,u=t.length;u>s;s++,l<<=1){var c=t[s];void 0!==c&&s!==i&&(r|=l,a[o++]=c)}return new pe(e,r,a)}function Ne(e,t,n,i,r){for(var o=0,a=new Array(fn),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[o++]:void 0;return a[i]=r,new fe(e,o+1,a)}function ke(e,t,i){for(var r=[],a=0;a<i.length;a++){var s=i[a],l=n(s);o(s)||(l=l.map(function(e){return j(e)})),r.push(l)}return Pe(e,t,r)}function De(e,t,n){return e&&e.mergeDeep&&o(t)?e.mergeDeep(t):Y(e,t)?e:t}function Me(e){return function(t,n,i){if(t&&t.mergeDeepWith&&o(n))return t.mergeDeepWith(e,n);var r=e(t,n,i);return Y(t,r)?t:r}}function Pe(e,t,n){return n=n.filter(function(e){return 0!==e.size}),0===n.length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var i=t?function(n,i){e.update(i,gn,function(e){return e===gn?n:t(e,n,i)})}:function(t,n){e.set(n,t)},r=0;r<n.length;r++)n[r].forEach(i);
}):e.constructor(n[0])}function Le(e,t,n,i){var r=e===gn,o=t.next();if(o.done){var a=r?n:e,s=i(a);return s===a?e:s}X(r||e&&e.set,"invalid keyPath");var l=o.value,u=r?gn:e.get(l,gn),c=Le(u,t,n,i);return c===u?e:c===gn?e.remove(l):(r?ye():e).set(l,c)}function xe(e){return e-=e>>1&1431655765,e=(858993459&e)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,127&e}function Re(e,t,n,i){var r=i?e:h(e);return r[t]=n,r}function Be(e,t,n,i){var r=e.length+1;if(i&&t+1===r)return e[t]=n,e;for(var o=new Array(r),a=0,s=0;r>s;s++)s===t?(o[s]=n,a=-1):o[s]=e[s+a];return o}function Ue(e,t,n){var i=e.length-1;if(n&&t===i)return e.pop(),e;for(var r=new Array(i),o=0,a=0;i>a;a++)a===t&&(o=1),r[a]=e[a+o];return r}function Fe(e){var t=Ge();if(null===e||void 0===e)return t;if(Ve(e))return e;var n=i(e),r=n.size;return 0===r?t:(ce(r),r>0&&fn>r?Ke(0,r,pn,null,new We(n.toArray())):t.withMutations(function(e){e.setSize(r),n.forEach(function(t,n){return e.set(n,t)})}))}function Ve(e){return!(!e||!e[Jn])}function We(e,t){this.array=e,this.ownerID=t}function He(e,t){function n(e,t,n){return 0===t?i(e,n):r(e,t,n)}function i(e,n){var i=n===s?l&&l.array:e&&e.array,r=n>o?0:o-n,u=a-n;return u>fn&&(u=fn),function(){if(r===u)return Zn;var e=t?--u:r++;return i&&i[e]}}function r(e,i,r){var s,l=e&&e.array,u=r>o?0:o-r>>i,c=(a-r>>i)+1;return c>fn&&(c=fn),function(){for(;;){if(s){var e=s();if(e!==Zn)return e;s=null}if(u===c)return Zn;var o=t?--c:u++;s=n(l&&l[o],i-pn,r+(o<<i))}}}var o=e._origin,a=e._capacity,s=qe(a),l=e._tail;return n(e._root,e._level,0)}function Ke(e,t,n,i,r,o,a){var s=Object.create(Qn);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=i,s._tail=r,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function Ge(){return Yn||(Yn=Ke(0,0,pn))}function je(e,t,n){if(t=f(e,t),t!==t)return e;if(t>=e.size||0>t)return e.withMutations(function(e){0>t?Ye(e,t).set(0,n):Ye(e,0,t+1).set(t,n)});t+=e._origin;var i=e._tail,r=e._root,o=c(_n);return t>=qe(e._capacity)?i=ze(i,e.__ownerID,0,t,n,o):r=ze(r,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=r,e._tail=i,e.__hash=void 0,e.__altered=!0,e):Ke(e._origin,e._capacity,e._level,r,i):e}function ze(e,t,n,i,r,o){var a=i>>>n&mn,s=e&&a<e.array.length;if(!s&&void 0===r)return e;var l;if(n>0){var u=e&&e.array[a],c=ze(u,t,n-pn,i,r,o);return c===u?e:(l=Je(e,t),l.array[a]=c,l)}return s&&e.array[a]===r?e:(A(o),l=Je(e,t),void 0===r&&a===l.array.length-1?l.array.pop():l.array[a]=r,l)}function Je(e,t){return t&&e&&t===e.ownerID?e:new We(e?e.array.slice():[],t)}function Qe(e,t){if(t>=qe(e._capacity))return e._tail;if(t<1<<e._level+pn){for(var n=e._root,i=e._level;n&&i>0;)n=n.array[t>>>i&mn],i-=pn;return n}}function Ye(e,t,n){void 0!==t&&(t=0|t),void 0!==n&&(n=0|n);var i=e.__ownerID||new d,r=e._origin,o=e._capacity,a=r+t,s=void 0===n?o:0>n?o+n:r+n;if(a===r&&s===o)return e;if(a>=s)return e.clear();for(var l=e._level,u=e._root,c=0;0>a+c;)u=new We(u&&u.array.length?[void 0,u]:[],i),l+=pn,c+=1<<l;c&&(a+=c,r+=c,s+=c,o+=c);for(var A=qe(o),h=qe(s);h>=1<<l+pn;)u=new We(u&&u.array.length?[u]:[],i),l+=pn;var p=e._tail,f=A>h?Qe(e,s-1):h>A?new We([],i):p;if(p&&h>A&&o>a&&p.array.length){u=Je(u,i);for(var m=u,g=l;g>pn;g-=pn){var v=A>>>g&mn;m=m.array[v]=Je(m.array[v],i)}m.array[A>>>pn&mn]=p}if(o>s&&(f=f&&f.removeAfter(i,0,s)),a>=h)a-=h,s-=h,l=pn,u=null,f=f&&f.removeBefore(i,0,a);else if(a>r||A>h){for(c=0;u;){var _=a>>>l&mn;if(_!==h>>>l&mn)break;_&&(c+=(1<<l)*_),l-=pn,u=u.array[_]}u&&a>r&&(u=u.removeBefore(i,l,a-c)),u&&A>h&&(u=u.removeAfter(i,l,h-c)),c&&(a-=c,s-=c)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=l,e._root=u,e._tail=f,e.__hash=void 0,e.__altered=!0,e):Ke(a,s,l,u,f)}function Ze(e,t,n){for(var r=[],a=0,s=0;s<n.length;s++){var l=n[s],u=i(l);u.size>a&&(a=u.size),o(l)||(u=u.map(function(e){return j(e)})),r.push(u)}return a>e.size&&(e=e.setSize(a)),Pe(e,t,r)}function qe(e){return fn>e?0:e-1>>>pn<<pn}function Xe(e){return null===e||void 0===e?tt():$e(e)?e:tt().withMutations(function(t){var i=n(e);ce(i.size),i.forEach(function(e,n){return t.set(n,e)})})}function $e(e){return de(e)&&u(e)}function et(e,t,n,i){var r=Object.create(Xe.prototype);return r.size=e?e.size:0,r._map=e,r._list=t,r.__ownerID=n,r.__hash=i,r}function tt(){return qn||(qn=et(ye(),Ge()))}function nt(e,t,n){var i,r,o=e._map,a=e._list,s=o.get(t),l=void 0!==s;if(n===gn){if(!l)return e;a.size>=fn&&a.size>=2*o.size?(r=a.filter(function(e,t){return void 0!==e&&s!==t}),i=r.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(i.__ownerID=r.__ownerID=e.__ownerID)):(i=o.remove(t),r=s===a.size-1?a.pop():a.set(s,void 0))}else if(l){if(n===a.get(s)[1])return e;i=o,r=a.set(s,[t,n])}else i=o.set(t,a.size),r=a.set(a.size,[t,n]);return e.__ownerID?(e.size=i.size,e._map=i,e._list=r,e.__hash=void 0,e):et(i,r)}function it(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function rt(e){this._iter=e,this.size=e.size}function ot(e){this._iter=e,this.size=e.size}function at(e){this._iter=e,this.size=e.size}function st(e){var t=Ot(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Nt,t.__iterateUncached=function(t,n){var i=this;return e.__iterate(function(e,n){return t(n,e,i)!==!1},n)},t.__iteratorUncached=function(t,n){if(t===yn){var i=e.__iterator(t,n);return new S(function(){var e=i.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===Sn?En:Sn,n)},t}function lt(e,t,n){var i=Ot(e);return i.size=e.size,i.has=function(t){return e.has(t)},i.get=function(i,r){var o=e.get(i,gn);return o===gn?r:t.call(n,o,i,e)},i.__iterateUncached=function(i,r){var o=this;return e.__iterate(function(e,r,a){return i(t.call(n,e,r,a),r,o)!==!1},r)},i.__iteratorUncached=function(i,r){var o=e.__iterator(yn,r);return new S(function(){var r=o.next();if(r.done)return r;var a=r.value,s=a[0];return y(i,s,t.call(n,a[1],s,e),r)})},i}function ut(e,t){var n=Ot(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=st(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,i){return e.get(t?n:-1-n,i)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=Nt,n.__iterate=function(t,n){var i=this;return e.__iterate(function(e,n){return t(e,n,i)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function ct(e,t,n,i){var r=Ot(e);return i&&(r.has=function(i){var r=e.get(i,gn);return r!==gn&&!!t.call(n,r,i,e)},r.get=function(i,r){var o=e.get(i,gn);return o!==gn&&t.call(n,o,i,e)?o:r}),r.__iterateUncached=function(r,o){var a=this,s=0;return e.__iterate(function(e,o,l){return t.call(n,e,o,l)?(s++,r(e,i?o:s-1,a)):void 0},o),s},r.__iteratorUncached=function(r,o){var a=e.__iterator(yn,o),s=0;return new S(function(){for(;;){var o=a.next();if(o.done)return o;var l=o.value,u=l[0],c=l[1];if(t.call(n,c,u,e))return y(r,i?u:s++,c,o)}})},r}function At(e,t,n){var i=Ae().asMutable();return e.__iterate(function(r,o){i.update(t.call(n,r,o,e),0,function(e){return e+1})}),i.asImmutable()}function dt(e,t,n){var i=a(e),r=(u(e)?Xe():Ae()).asMutable();e.__iterate(function(o,a){r.update(t.call(n,o,a,e),function(e){return e=e||[],e.push(i?[a,o]:o),e})});var o=wt(e);return r.map(function(t){return Ct(e,o(t))})}function ht(e,t,n,i){var r=e.size;if(void 0!==t&&(t=0|t),void 0!==n&&(n=n===1/0?r:0|n),g(t,n,r))return e;var o=v(t,r),a=_(n,r);if(o!==o||a!==a)return ht(e.toSeq().cacheResult(),t,n,i);var s,l=a-o;l===l&&(s=0>l?0:l);var u=Ot(e);return u.size=0===s?s:e.size&&s||void 0,!i&&B(e)&&s>=0&&(u.get=function(t,n){return t=f(this,t),t>=0&&s>t?e.get(t+o,n):n}),u.__iterateUncached=function(t,n){var r=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,l=!0,u=0;return e.__iterate(function(e,n){return l&&(l=a++<o)?void 0:(u++,t(e,i?n:u-1,r)!==!1&&u!==s)}),u},u.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var r=0!==s&&e.__iterator(t,n),a=0,l=0;return new S(function(){for(;a++<o;)r.next();if(++l>s)return b();var e=r.next();return i||t===Sn?e:t===En?y(t,l-1,void 0,e):y(t,l-1,e.value[1],e)})},u}function pt(e,t,n){var i=Ot(e);return i.__iterateUncached=function(i,r){var o=this;if(r)return this.cacheResult().__iterate(i,r);var a=0;return e.__iterate(function(e,r,s){return t.call(n,e,r,s)&&++a&&i(e,r,o)}),a},i.__iteratorUncached=function(i,r){var o=this;if(r)return this.cacheResult().__iterator(i,r);var a=e.__iterator(yn,r),s=!0;return new S(function(){if(!s)return b();var e=a.next();if(e.done)return e;var r=e.value,l=r[0],u=r[1];return t.call(n,u,l,o)?i===yn?e:y(i,l,u,e):(s=!1,b())})},i}function ft(e,t,n,i){var r=Ot(e);return r.__iterateUncached=function(r,o){var a=this;if(o)return this.cacheResult().__iterate(r,o);var s=!0,l=0;return e.__iterate(function(e,o,u){return s&&(s=t.call(n,e,o,u))?void 0:(l++,r(e,i?o:l-1,a))}),l},r.__iteratorUncached=function(r,o){var a=this;if(o)return this.cacheResult().__iterator(r,o);var s=e.__iterator(yn,o),l=!0,u=0;return new S(function(){var e,o,c;do{if(e=s.next(),e.done)return i||r===Sn?e:r===En?y(r,u++,void 0,e):y(r,u++,e.value[1],e);var A=e.value;o=A[0],c=A[1],l&&(l=t.call(n,c,o,a))}while(l);return r===yn?e:y(r,o,c,e)})},r}function mt(e,t){var i=a(e),r=[e].concat(t).map(function(e){return o(e)?i&&(e=n(e)):e=i?F(e):V(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===r.length)return e;if(1===r.length){var l=r[0];if(l===e||i&&a(l)||s(e)&&s(l))return l}var u=new P(r);return i?u=u.toKeyedSeq():s(e)||(u=u.toSetSeq()),u=u.flatten(!0),u.size=r.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),u}function gt(e,t,n){var i=Ot(e);return i.__iterateUncached=function(i,r){function a(e,u){var c=this;e.__iterate(function(e,r){return(!t||t>u)&&o(e)?a(e,u+1):i(e,n?r:s++,c)===!1&&(l=!0),!l},r)}var s=0,l=!1;return a(e,0),s},i.__iteratorUncached=function(i,r){var a=e.__iterator(i,r),s=[],l=0;return new S(function(){for(;a;){var e=a.next();if(e.done===!1){var u=e.value;if(i===yn&&(u=u[1]),t&&!(s.length<t)||!o(u))return n?e:y(i,l++,u,e);s.push(a),a=u.__iterator(i,r)}else a=s.pop()}return b()})},i}function vt(e,t,n){var i=wt(e);return e.toSeq().map(function(r,o){return i(t.call(n,r,o,e))}).flatten(!0)}function _t(e,t){var n=Ot(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,i){var r=this,o=0;return e.__iterate(function(e,i){return(!o||n(t,o++,r)!==!1)&&n(e,o++,r)!==!1},i),o},n.__iteratorUncached=function(n,i){var r,o=e.__iterator(Sn,i),a=0;return new S(function(){return(!r||a%2)&&(r=o.next(),r.done)?r:a%2?y(n,a++,t):y(n,a++,r.value,r)})},n}function Et(e,t,n){t||(t=kt);var i=a(e),r=0,o=e.toSeq().map(function(t,i){return[i,t,r++,n?n(t,i,e):t]}).toArray();return o.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(i?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),i?k(o):s(e)?D(o):M(o)}function St(e,t,n){if(t||(t=kt),n){var i=e.toSeq().map(function(t,i){return[t,n(t,i,e)]}).reduce(function(e,n){return yt(t,e[1],n[1])?n:e});return i&&i[0]}return e.reduce(function(e,n){return yt(t,e,n)?n:e})}function yt(e,t,n){var i=e(n,t);return 0===i&&n!==t&&(void 0===n||null===n||n!==n)||i>0}function bt(e,n,i){var r=Ot(e);return r.size=new P(i).map(function(e){return e.size}).min(),r.__iterate=function(e,t){for(var n,i=this.__iterator(Sn,t),r=0;!(n=i.next()).done&&e(n.value,r++,this)!==!1;);return r},r.__iteratorUncached=function(e,r){var o=i.map(function(e){return e=t(e),I(r?e.reverse():e)}),a=0,s=!1;return new S(function(){var t;return s||(t=o.map(function(e){return e.next()}),s=t.some(function(e){return e.done})),s?b():y(e,a++,n.apply(null,t.map(function(e){return e.value})))})},r}function Ct(e,t){return B(e)?t:e.constructor(t)}function Tt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function It(e){return ce(e.size),p(e)}function wt(e){return a(e)?n:s(e)?i:r}function Ot(e){return Object.create((a(e)?k:s(e)?D:M).prototype)}function Nt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):N.prototype.cacheResult.call(this)}function kt(e,t){return e>t?1:t>e?-1:0}function Dt(e){var n=I(e);if(!n){if(!O(e))throw new TypeError("Expected iterable or array-like: "+e);n=I(t(e))}return n}function Mt(e,t){var n,i=function(o){if(o instanceof i)return o;if(!(this instanceof i))return new i(o);if(!n){n=!0;var a=Object.keys(e);xt(r,a),r.size=a.length,r._name=t,r._keys=a,r._defaultValues=e}this._map=Ae(o)},r=i.prototype=Object.create(Xn);return r.constructor=i,i}function Pt(e,t,n){var i=Object.create(Object.getPrototypeOf(e));return i._map=t,i.__ownerID=n,i}function Lt(e){return e._name||e.constructor.name||"Record"}function xt(e,t){try{t.forEach(Rt.bind(void 0,e))}catch(n){}}function Rt(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){X(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Bt(e){return null===e||void 0===e?Wt():Ut(e)&&!u(e)?e:Wt().withMutations(function(t){var n=r(e);ce(n.size),n.forEach(function(e){return t.add(e)})})}function Ut(e){return!(!e||!e[$n])}function Ft(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Vt(e,t){var n=Object.create(ei);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Wt(){return ti||(ti=Vt(ye()))}function Ht(e){return null===e||void 0===e?jt():Kt(e)?e:jt().withMutations(function(t){var n=r(e);ce(n.size),n.forEach(function(e){return t.add(e)})})}function Kt(e){return Ut(e)&&u(e)}function Gt(e,t){var n=Object.create(ni);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function jt(){return ii||(ii=Gt(tt()))}function zt(e){return null===e||void 0===e?Yt():Jt(e)?e:Yt().unshiftAll(e)}function Jt(e){return!(!e||!e[ri])}function Qt(e,t,n,i){var r=Object.create(oi);return r.size=e,r._head=t,r.__ownerID=n,r.__hash=i,r.__altered=!1,r}function Yt(){return ai||(ai=Qt(0))}function Zt(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function qt(e,t){return t}function Xt(e,t){return[t,e]}function $t(e){return function(){return!e.apply(this,arguments)}}function en(e){return function(){return-e.apply(this,arguments)}}function tn(e){return"string"==typeof e?JSON.stringify(e):String(e)}function nn(){return h(arguments)}function rn(e,t){return t>e?1:e>t?-1:0}function on(e){if(e.size===1/0)return 0;var t=u(e),n=a(e),i=t?1:0,r=e.__iterate(n?t?function(e,t){i=31*i+sn(oe(e),oe(t))|0}:function(e,t){i=i+sn(oe(e),oe(t))|0}:t?function(e){i=31*i+oe(e)|0}:function(e){i=i+oe(e)|0});return an(r,i)}function an(e,t){return t=Dn(t,3432918353),t=Dn(t<<15|t>>>-15,461845907),t=Dn(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=Dn(t^t>>>16,2246822507),t=Dn(t^t>>>13,3266489909),t=re(t^t>>>16)}function sn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var ln=Array.prototype.slice;e(n,t),e(i,t),e(r,t),t.isIterable=o,t.isKeyed=a,t.isIndexed=s,t.isAssociative=l,t.isOrdered=u,t.Keyed=n,t.Indexed=i,t.Set=r;var un="@@__IMMUTABLE_ITERABLE__@@",cn="@@__IMMUTABLE_KEYED__@@",An="@@__IMMUTABLE_INDEXED__@@",dn="@@__IMMUTABLE_ORDERED__@@",hn="delete",pn=5,fn=1<<pn,mn=fn-1,gn={},vn={value:!1},_n={value:!1},En=0,Sn=1,yn=2,bn="function"==typeof Symbol&&Symbol.iterator,Cn="@@iterator",Tn=bn||Cn;S.prototype.toString=function(){return"[Iterator]"},S.KEYS=En,S.VALUES=Sn,S.ENTRIES=yn,S.prototype.inspect=S.prototype.toSource=function(){return this.toString()},S.prototype[Tn]=function(){return this},e(N,t),N.of=function(){return N(arguments)},N.prototype.toSeq=function(){return this},N.prototype.toString=function(){return this.__toString("Seq {","}")},N.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},N.prototype.__iterate=function(e,t){return K(this,e,t,!0)},N.prototype.__iterator=function(e,t){return G(this,e,t,!0)},e(k,N),k.prototype.toKeyedSeq=function(){return this},e(D,N),D.of=function(){return D(arguments)},D.prototype.toIndexedSeq=function(){return this},D.prototype.toString=function(){return this.__toString("Seq [","]")},D.prototype.__iterate=function(e,t){return K(this,e,t,!1)},D.prototype.__iterator=function(e,t){return G(this,e,t,!1)},e(M,N),M.of=function(){return M(arguments)},M.prototype.toSetSeq=function(){return this},N.isSeq=B,N.Keyed=k,N.Set=M,N.Indexed=D;var In="@@__IMMUTABLE_SEQ__@@";N.prototype[In]=!0,e(P,D),P.prototype.get=function(e,t){return this.has(e)?this._array[f(this,e)]:t},P.prototype.__iterate=function(e,t){for(var n=this._array,i=n.length-1,r=0;i>=r;r++)if(e(n[t?i-r:r],r,this)===!1)return r+1;return r},P.prototype.__iterator=function(e,t){var n=this._array,i=n.length-1,r=0;return new S(function(){return r>i?b():y(e,r,n[t?i-r++:r++])})},e(L,k),L.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},L.prototype.has=function(e){return this._object.hasOwnProperty(e)},L.prototype.__iterate=function(e,t){for(var n=this._object,i=this._keys,r=i.length-1,o=0;r>=o;o++){var a=i[t?r-o:o];if(e(n[a],a,this)===!1)return o+1}return o},L.prototype.__iterator=function(e,t){var n=this._object,i=this._keys,r=i.length-1,o=0;return new S(function(){var a=i[t?r-o:o];return o++>r?b():y(e,a,n[a])})},L.prototype[dn]=!0,e(x,D),x.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,i=I(n),r=0;if(T(i))for(var o;!(o=i.next()).done&&e(o.value,r++,this)!==!1;);return r},x.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,i=I(n);if(!T(i))return new S(b);var r=0;return new S(function(){var t=i.next();return t.done?t:y(e,r++,t.value)})},e(R,D),R.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n=this._iterator,i=this._iteratorCache,r=0;r<i.length;)if(e(i[r],r++,this)===!1)return r;for(var o;!(o=n.next()).done;){var a=o.value;if(i[r]=a,e(a,r++,this)===!1)break}return r},R.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,i=this._iteratorCache,r=0;return new S(function(){if(r>=i.length){var t=n.next();if(t.done)return t;i[r]=t.value}return y(e,r,i[r++])})};var wn;e(q,D),q.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},q.prototype.get=function(e,t){return this.has(e)?this._value:t},q.prototype.includes=function(e){return Y(this._value,e)},q.prototype.slice=function(e,t){var n=this.size;return g(e,t,n)?this:new q(this._value,_(t,n)-v(e,n))},q.prototype.reverse=function(){return this},q.prototype.indexOf=function(e){return Y(this._value,e)?0:-1},q.prototype.lastIndexOf=function(e){return Y(this._value,e)?this.size:-1},q.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(e(this._value,n,this)===!1)return n+1;return n},q.prototype.__iterator=function(e,t){var n=this,i=0;return new S(function(){return i<n.size?y(e,i++,n._value):b()})},q.prototype.equals=function(e){return e instanceof q?Y(this._value,e._value):Z(e)};var On;e($,D),$.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},$.prototype.get=function(e,t){return this.has(e)?this._start+f(this,e)*this._step:t},$.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},$.prototype.slice=function(e,t){return g(e,t,this.size)?this:(e=v(e,this.size),t=_(t,this.size),e>=t?new $(0,0):new $(this.get(e,this._end),this.get(t,this._end),this._step))},$.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},$.prototype.lastIndexOf=function(e){return this.indexOf(e)},$.prototype.__iterate=function(e,t){for(var n=this.size-1,i=this._step,r=t?this._start+n*i:this._start,o=0;n>=o;o++){if(e(r,o,this)===!1)return o+1;r+=t?-i:i}return o},$.prototype.__iterator=function(e,t){var n=this.size-1,i=this._step,r=t?this._start+n*i:this._start,o=0;return new S(function(){var a=r;return r+=t?-i:i,o>n?b():y(e,o++,a)})},$.prototype.equals=function(e){return e instanceof $?this._start===e._start&&this._end===e._end&&this._step===e._step:Z(this,e)};var Nn;e(ee,t),e(te,ee),e(ne,ee),e(ie,ee),ee.Keyed=te,ee.Indexed=ne,ee.Set=ie;var kn,Dn="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){e=0|e,t=0|t;var n=65535&e,i=65535&t;return n*i+((e>>>16)*i+n*(t>>>16)<<16>>>0)|0},Mn=Object.isExtensible,Pn=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),Ln="function"==typeof WeakMap;Ln&&(kn=new WeakMap);var xn=0,Rn="__immutablehash__";"function"==typeof Symbol&&(Rn=Symbol(Rn));var Bn=16,Un=255,Fn=0,Vn={};e(Ae,te),Ae.of=function(){var e=ln.call(arguments,0);return ye().withMutations(function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}})},Ae.prototype.toString=function(){return this.__toString("Map {","}")},Ae.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Ae.prototype.set=function(e,t){return be(this,e,t)},Ae.prototype.setIn=function(e,t){return this.updateIn(e,gn,function(){return t})},Ae.prototype.remove=function(e){return be(this,e,gn)},Ae.prototype.deleteIn=function(e){return this.updateIn(e,function(){return gn})},Ae.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Ae.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var i=Le(this,Dt(e),t,n);return i===gn?void 0:i},Ae.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ye()},Ae.prototype.merge=function(){return ke(this,void 0,arguments)},Ae.prototype.mergeWith=function(e){var t=ln.call(arguments,1);return ke(this,e,t)},Ae.prototype.mergeIn=function(e){var t=ln.call(arguments,1);return this.updateIn(e,ye(),function(e){return"function"==typeof e.merge?e.merge.apply(e,t):t[t.length-1]})},Ae.prototype.mergeDeep=function(){return ke(this,De,arguments)},Ae.prototype.mergeDeepWith=function(e){var t=ln.call(arguments,1);return ke(this,Me(e),t)},Ae.prototype.mergeDeepIn=function(e){var t=ln.call(arguments,1);return this.updateIn(e,ye(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,t):t[t.length-1]})},Ae.prototype.sort=function(e){return Xe(Et(this,e))},Ae.prototype.sortBy=function(e,t){return Xe(Et(this,t,e))},Ae.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Ae.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new d)},Ae.prototype.asImmutable=function(){return this.__ensureOwner()},Ae.prototype.wasAltered=function(){return this.__altered},Ae.prototype.__iterator=function(e,t){return new ve(this,e,t)},Ae.prototype.__iterate=function(e,t){var n=this,i=0;return this._root&&this._root.iterate(function(t){return i++,e(t[1],t[0],n)},t),i},Ae.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Se(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Ae.isMap=de;var Wn="@@__IMMUTABLE_MAP__@@",Hn=Ae.prototype;Hn[Wn]=!0,Hn[hn]=Hn.remove,Hn.removeIn=Hn.deleteIn,he.prototype.get=function(e,t,n,i){for(var r=this.entries,o=0,a=r.length;a>o;o++)if(Y(n,r[o][0]))return r[o][1];return i},he.prototype.update=function(e,t,n,i,r,o,a){for(var s=r===gn,l=this.entries,u=0,c=l.length;c>u&&!Y(i,l[u][0]);u++);var d=c>u;if(d?l[u][1]===r:s)return this;if(A(a),(s||!d)&&A(o),!s||1!==l.length){if(!d&&!s&&l.length>=Gn)return we(e,l,i,r);var p=e&&e===this.ownerID,f=p?l:h(l);return d?s?u===c-1?f.pop():f[u]=f.pop():f[u]=[i,r]:f.push([i,r]),p?(this.entries=f,this):new he(e,f)}},pe.prototype.get=function(e,t,n,i){void 0===t&&(t=oe(n));var r=1<<((0===e?t:t>>>e)&mn),o=this.bitmap;return 0===(o&r)?i:this.nodes[xe(o&r-1)].get(e+pn,t,n,i)},pe.prototype.update=function(e,t,n,i,r,o,a){void 0===n&&(n=oe(i));var s=(0===t?n:n>>>t)&mn,l=1<<s,u=this.bitmap,c=0!==(u&l);if(!c&&r===gn)return this;var A=xe(u&l-1),d=this.nodes,h=c?d[A]:void 0,p=Ce(h,e,t+pn,n,i,r,o,a);if(p===h)return this;if(!c&&p&&d.length>=jn)return Ne(e,d,u,s,p);if(c&&!p&&2===d.length&&Te(d[1^A]))return d[1^A];if(c&&p&&1===d.length&&Te(p))return p;var f=e&&e===this.ownerID,m=c?p?u:u^l:u|l,g=c?p?Re(d,A,p,f):Ue(d,A,f):Be(d,A,p,f);return f?(this.bitmap=m,this.nodes=g,this):new pe(e,m,g)},fe.prototype.get=function(e,t,n,i){void 0===t&&(t=oe(n));var r=(0===e?t:t>>>e)&mn,o=this.nodes[r];return o?o.get(e+pn,t,n,i):i},fe.prototype.update=function(e,t,n,i,r,o,a){void 0===n&&(n=oe(i));var s=(0===t?n:n>>>t)&mn,l=r===gn,u=this.nodes,c=u[s];if(l&&!c)return this;var A=Ce(c,e,t+pn,n,i,r,o,a);if(A===c)return this;var d=this.count;if(c){if(!A&&(d--,zn>d))return Oe(e,u,d,s)}else d++;var h=e&&e===this.ownerID,p=Re(u,s,A,h);return h?(this.count=d,this.nodes=p,this):new fe(e,d,p)},me.prototype.get=function(e,t,n,i){for(var r=this.entries,o=0,a=r.length;a>o;o++)if(Y(n,r[o][0]))return r[o][1];return i},me.prototype.update=function(e,t,n,i,r,o,a){void 0===n&&(n=oe(i));var s=r===gn;if(n!==this.keyHash)return s?this:(A(a),A(o),Ie(this,e,t,n,[i,r]));for(var l=this.entries,u=0,c=l.length;c>u&&!Y(i,l[u][0]);u++);var d=c>u;if(d?l[u][1]===r:s)return this;if(A(a),(s||!d)&&A(o),s&&2===c)return new ge(e,this.keyHash,l[1^u]);var p=e&&e===this.ownerID,f=p?l:h(l);return d?s?u===c-1?f.pop():f[u]=f.pop():f[u]=[i,r]:f.push([i,r]),p?(this.entries=f,this):new me(e,this.keyHash,f)},ge.prototype.get=function(e,t,n,i){return Y(n,this.entry[0])?this.entry[1]:i},ge.prototype.update=function(e,t,n,i,r,o,a){var s=r===gn,l=Y(i,this.entry[0]);return(l?r===this.entry[1]:s)?this:(A(a),s?void A(o):l?e&&e===this.ownerID?(this.entry[1]=r,this):new ge(e,this.keyHash,[i,r]):(A(o),Ie(this,e,t,oe(i),[i,r])))},he.prototype.iterate=me.prototype.iterate=function(e,t){for(var n=this.entries,i=0,r=n.length-1;r>=i;i++)if(e(n[t?r-i:i])===!1)return!1},pe.prototype.iterate=fe.prototype.iterate=function(e,t){for(var n=this.nodes,i=0,r=n.length-1;r>=i;i++){var o=n[t?r-i:i];if(o&&o.iterate(e,t)===!1)return!1}},ge.prototype.iterate=function(e,t){return e(this.entry)},e(ve,S),ve.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,i=t.node,r=t.index++;if(i.entry){if(0===r)return _e(e,i.entry)}else if(i.entries){if(n=i.entries.length-1,n>=r)return _e(e,i.entries[this._reverse?n-r:r])}else if(n=i.nodes.length-1,n>=r){var o=i.nodes[this._reverse?n-r:r];if(o){if(o.entry)return _e(e,o.entry);t=this._stack=Ee(o,t)}continue}t=this._stack=this._stack.__prev}return b()};var Kn,Gn=fn/4,jn=fn/2,zn=fn/4;e(Fe,ne),Fe.of=function(){return this(arguments)},Fe.prototype.toString=function(){return this.__toString("List [","]")},Fe.prototype.get=function(e,t){if(e=f(this,e),e>=0&&e<this.size){e+=this._origin;var n=Qe(this,e);return n&&n.array[e&mn]}return t},Fe.prototype.set=function(e,t){return je(this,e,t)},Fe.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},Fe.prototype.insert=function(e,t){return this.splice(e,0,t)},Fe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=pn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Ge()},Fe.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){Ye(n,0,t+e.length);for(var i=0;i<e.length;i++)n.set(t+i,e[i])})},Fe.prototype.pop=function(){return Ye(this,0,-1)},Fe.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){Ye(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},Fe.prototype.shift=function(){return Ye(this,1)},Fe.prototype.merge=function(){return Ze(this,void 0,arguments)},Fe.prototype.mergeWith=function(e){var t=ln.call(arguments,1);return Ze(this,e,t)},Fe.prototype.mergeDeep=function(){return Ze(this,De,arguments)},Fe.prototype.mergeDeepWith=function(e){var t=ln.call(arguments,1);return Ze(this,Me(e),t)},Fe.prototype.setSize=function(e){return Ye(this,0,e)},Fe.prototype.slice=function(e,t){var n=this.size;return g(e,t,n)?this:Ye(this,v(e,n),_(t,n))},Fe.prototype.__iterator=function(e,t){var n=0,i=He(this,t);return new S(function(){var t=i();return t===Zn?b():y(e,n++,t)})},Fe.prototype.__iterate=function(e,t){for(var n,i=0,r=He(this,t);(n=r())!==Zn&&e(n,i++,this)!==!1;);return i},Fe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ke(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},Fe.isList=Ve;var Jn="@@__IMMUTABLE_LIST__@@",Qn=Fe.prototype;Qn[Jn]=!0,Qn[hn]=Qn.remove,Qn.setIn=Hn.setIn,Qn.deleteIn=Qn.removeIn=Hn.removeIn,Qn.update=Hn.update,Qn.updateIn=Hn.updateIn,Qn.mergeIn=Hn.mergeIn,Qn.mergeDeepIn=Hn.mergeDeepIn,Qn.withMutations=Hn.withMutations,Qn.asMutable=Hn.asMutable,Qn.asImmutable=Hn.asImmutable,Qn.wasAltered=Hn.wasAltered,We.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var i=n>>>t&mn;if(i>=this.array.length)return new We([],e);var r,o=0===i;if(t>0){var a=this.array[i];if(r=a&&a.removeBefore(e,t-pn,n),r===a&&o)return this}if(o&&!r)return this;var s=Je(this,e);if(!o)for(var l=0;i>l;l++)s.array[l]=void 0;return r&&(s.array[i]=r),s},We.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var i=n-1>>>t&mn;if(i>=this.array.length)return this;var r;if(t>0){var o=this.array[i];if(r=o&&o.removeAfter(e,t-pn,n),r===o&&i===this.array.length-1)return this}var a=Je(this,e);return a.array.splice(i+1),r&&(a.array[i]=r),a};var Yn,Zn={};e(Xe,Ae),Xe.of=function(){return this(arguments)},Xe.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Xe.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Xe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):tt()},Xe.prototype.set=function(e,t){return nt(this,e,t)},Xe.prototype.remove=function(e){return nt(this,e,gn)},Xe.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Xe.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},Xe.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Xe.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?et(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Xe.isOrderedMap=$e,Xe.prototype[dn]=!0,Xe.prototype[hn]=Xe.prototype.remove;var qn;e(it,k),it.prototype.get=function(e,t){return this._iter.get(e,t)},it.prototype.has=function(e){return this._iter.has(e)},it.prototype.valueSeq=function(){return this._iter.valueSeq()},it.prototype.reverse=function(){var e=this,t=ut(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},it.prototype.map=function(e,t){var n=this,i=lt(this,e,t);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().map(e,t)}),i},it.prototype.__iterate=function(e,t){var n,i=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,i)}:(n=t?It(this):0,function(r){return e(r,t?--n:n++,i)}),t)},it.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(Sn,t),i=t?It(this):0;return new S(function(){var r=n.next();return r.done?r:y(e,t?--i:i++,r.value,r)})},it.prototype[dn]=!0,e(rt,D),rt.prototype.includes=function(e){return this._iter.includes(e)},rt.prototype.__iterate=function(e,t){var n=this,i=0;return this._iter.__iterate(function(t){return e(t,i++,n)},t)},rt.prototype.__iterator=function(e,t){
var n=this._iter.__iterator(Sn,t),i=0;return new S(function(){var t=n.next();return t.done?t:y(e,i++,t.value,t)})},e(ot,M),ot.prototype.has=function(e){return this._iter.includes(e)},ot.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},ot.prototype.__iterator=function(e,t){var n=this._iter.__iterator(Sn,t);return new S(function(){var t=n.next();return t.done?t:y(e,t.value,t.value,t)})},e(at,k),at.prototype.entrySeq=function(){return this._iter.toSeq()},at.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){Tt(t);var i=o(t);return e(i?t.get(1):t[1],i?t.get(0):t[0],n)}},t)},at.prototype.__iterator=function(e,t){var n=this._iter.__iterator(Sn,t);return new S(function(){for(;;){var t=n.next();if(t.done)return t;var i=t.value;if(i){Tt(i);var r=o(i);return y(e,r?i.get(0):i[0],r?i.get(1):i[1],t)}}})},rt.prototype.cacheResult=it.prototype.cacheResult=ot.prototype.cacheResult=at.prototype.cacheResult=Nt,e(Mt,te),Mt.prototype.toString=function(){return this.__toString(Lt(this)+" {","}")},Mt.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},Mt.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},Mt.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Pt(this,ye()))},Mt.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Lt(this));if(this._map&&!this._map.has(e)){var n=this._defaultValues[e];if(t===n)return this}var i=this._map&&this._map.set(e,t);return this.__ownerID||i===this._map?this:Pt(this,i)},Mt.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Pt(this,t)},Mt.prototype.wasAltered=function(){return this._map.wasAltered()},Mt.prototype.__iterator=function(e,t){var i=this;return n(this._defaultValues).map(function(e,t){return i.get(t)}).__iterator(e,t)},Mt.prototype.__iterate=function(e,t){var i=this;return n(this._defaultValues).map(function(e,t){return i.get(t)}).__iterate(e,t)},Mt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Pt(this,t,e):(this.__ownerID=e,this._map=t,this)};var Xn=Mt.prototype;Xn[hn]=Xn.remove,Xn.deleteIn=Xn.removeIn=Hn.removeIn,Xn.merge=Hn.merge,Xn.mergeWith=Hn.mergeWith,Xn.mergeIn=Hn.mergeIn,Xn.mergeDeep=Hn.mergeDeep,Xn.mergeDeepWith=Hn.mergeDeepWith,Xn.mergeDeepIn=Hn.mergeDeepIn,Xn.setIn=Hn.setIn,Xn.update=Hn.update,Xn.updateIn=Hn.updateIn,Xn.withMutations=Hn.withMutations,Xn.asMutable=Hn.asMutable,Xn.asImmutable=Hn.asImmutable,e(Bt,ie),Bt.of=function(){return this(arguments)},Bt.fromKeys=function(e){return this(n(e).keySeq())},Bt.prototype.toString=function(){return this.__toString("Set {","}")},Bt.prototype.has=function(e){return this._map.has(e)},Bt.prototype.add=function(e){return Ft(this,this._map.set(e,!0))},Bt.prototype.remove=function(e){return Ft(this,this._map.remove(e))},Bt.prototype.clear=function(){return Ft(this,this._map.clear())},Bt.prototype.union=function(){var e=ln.call(arguments,0);return e=e.filter(function(e){return 0!==e.size}),0===e.length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var n=0;n<e.length;n++)r(e[n]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},Bt.prototype.intersect=function(){var e=ln.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return r(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.every(function(e){return e.includes(t)})||n.remove(t)})})},Bt.prototype.subtract=function(){var e=ln.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return r(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.some(function(e){return e.includes(t)})&&n.remove(t)})})},Bt.prototype.merge=function(){return this.union.apply(this,arguments)},Bt.prototype.mergeWith=function(e){var t=ln.call(arguments,1);return this.union.apply(this,t)},Bt.prototype.sort=function(e){return Ht(Et(this,e))},Bt.prototype.sortBy=function(e,t){return Ht(Et(this,t,e))},Bt.prototype.wasAltered=function(){return this._map.wasAltered()},Bt.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,i){return e(i,i,n)},t)},Bt.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},Bt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},Bt.isSet=Ut;var $n="@@__IMMUTABLE_SET__@@",ei=Bt.prototype;ei[$n]=!0,ei[hn]=ei.remove,ei.mergeDeep=ei.merge,ei.mergeDeepWith=ei.mergeWith,ei.withMutations=Hn.withMutations,ei.asMutable=Hn.asMutable,ei.asImmutable=Hn.asImmutable,ei.__empty=Wt,ei.__make=Vt;var ti;e(Ht,Bt),Ht.of=function(){return this(arguments)},Ht.fromKeys=function(e){return this(n(e).keySeq())},Ht.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ht.isOrderedSet=Kt;var ni=Ht.prototype;ni[dn]=!0,ni.__empty=jt,ni.__make=Gt;var ii;e(zt,ne),zt.of=function(){return this(arguments)},zt.prototype.toString=function(){return this.__toString("Stack [","]")},zt.prototype.get=function(e,t){var n=this._head;for(e=f(this,e);n&&e--;)n=n.next;return n?n.value:t},zt.prototype.peek=function(){return this._head&&this._head.value},zt.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Qt(e,t)},zt.prototype.pushAll=function(e){if(e=i(e),0===e.size)return this;ce(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Qt(t,n)},zt.prototype.pop=function(){return this.slice(1)},zt.prototype.unshift=function(){return this.push.apply(this,arguments)},zt.prototype.unshiftAll=function(e){return this.pushAll(e)},zt.prototype.shift=function(){return this.pop.apply(this,arguments)},zt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Yt()},zt.prototype.slice=function(e,t){if(g(e,t,this.size))return this;var n=v(e,this.size),i=_(t,this.size);if(i!==this.size)return ne.prototype.slice.call(this,e,t);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):Qt(r,o)},zt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Qt(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},zt.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,i=this._head;i&&e(i.value,n++,this)!==!1;)i=i.next;return n},zt.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,i=this._head;return new S(function(){if(i){var t=i.value;return i=i.next,y(e,n++,t)}return b()})},zt.isStack=Jt;var ri="@@__IMMUTABLE_STACK__@@",oi=zt.prototype;oi[ri]=!0,oi.withMutations=Hn.withMutations,oi.asMutable=Hn.asMutable,oi.asImmutable=Hn.asImmutable,oi.wasAltered=Hn.wasAltered;var ai;t.Iterator=S,Zt(t,{toArray:function(){ce(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new rt(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new it(this,!0)},toMap:function(){return Ae(this.toKeyedSeq())},toObject:function(){ce(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return Xe(this.toKeyedSeq())},toOrderedSet:function(){return Ht(a(this)?this.valueSeq():this)},toSet:function(){return Bt(a(this)?this.valueSeq():this)},toSetSeq:function(){return new ot(this)},toSeq:function(){return s(this)?this.toIndexedSeq():a(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return zt(a(this)?this.valueSeq():this)},toList:function(){return Fe(a(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var e=ln.call(arguments,0);return Ct(this,mt(this,e))},includes:function(e){return this.some(function(t){return Y(t,e)})},entries:function(){return this.__iterator(yn)},every:function(e,t){ce(this.size);var n=!0;return this.__iterate(function(i,r,o){return e.call(t,i,r,o)?void 0:(n=!1,!1)}),n},filter:function(e,t){return Ct(this,ct(this,e,t,!0))},find:function(e,t,n){var i=this.findEntry(e,t);return i?i[1]:n},forEach:function(e,t){return ce(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){ce(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(i){n?n=!1:t+=e,t+=null!==i&&void 0!==i?i.toString():""}),t},keys:function(){return this.__iterator(En)},map:function(e,t){return Ct(this,lt(this,e,t))},reduce:function(e,t,n){ce(this.size);var i,r;return arguments.length<2?r=!0:i=t,this.__iterate(function(t,o,a){r?(r=!1,i=t):i=e.call(n,i,t,o,a)}),i},reduceRight:function(e,t,n){var i=this.toKeyedSeq().reverse();return i.reduce.apply(i,arguments)},reverse:function(){return Ct(this,ut(this,!0))},slice:function(e,t){return Ct(this,ht(this,e,t,!0))},some:function(e,t){return!this.every($t(e),t)},sort:function(e){return Ct(this,Et(this,e))},values:function(){return this.__iterator(Sn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return p(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return At(this,e,t)},equals:function(e){return Z(this,e)},entrySeq:function(){var e=this;if(e._cache)return new P(e._cache);var t=e.toSeq().map(Xt).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter($t(e),t)},findEntry:function(e,t,n){var i=n;return this.__iterate(function(n,r,o){return e.call(t,n,r,o)?(i=[r,n],!1):void 0}),i},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(m)},flatMap:function(e,t){return Ct(this,vt(this,e,t))},flatten:function(e){return Ct(this,gt(this,e,!0))},fromEntrySeq:function(){return new at(this)},get:function(e,t){return this.find(function(t,n){return Y(n,e)},void 0,t)},getIn:function(e,t){for(var n,i=this,r=Dt(e);!(n=r.next()).done;){var o=n.value;if(i=i&&i.get?i.get(o,gn):gn,i===gn)return t}return i},groupBy:function(e,t){return dt(this,e,t)},has:function(e){return this.get(e,gn)!==gn},hasIn:function(e){return this.getIn(e,gn)!==gn},isSubset:function(e){return e="function"==typeof e.includes?e:t(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return e="function"==typeof e.isSubset?e:t(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(t){return Y(t,e)})},keySeq:function(){return this.toSeq().map(qt).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return St(this,e)},maxBy:function(e,t){return St(this,t,e)},min:function(e){return St(this,e?en(e):rn)},minBy:function(e,t){return St(this,t?en(t):rn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Ct(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Ct(this,ft(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile($t(e),t)},sortBy:function(e,t){return Ct(this,Et(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Ct(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Ct(this,pt(this,e,t))},takeUntil:function(e,t){return this.takeWhile($t(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=on(this))}});var si=t.prototype;si[un]=!0,si[Tn]=si.values,si.__toJS=si.toArray,si.__toStringMapper=tn,si.inspect=si.toSource=function(){return this.toString()},si.chain=si.flatMap,si.contains=si.includes,Zt(n,{flip:function(){return Ct(this,st(this))},mapEntries:function(e,t){var n=this,i=0;return Ct(this,this.toSeq().map(function(r,o){return e.call(t,[o,r],i++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Ct(this,this.toSeq().flip().map(function(i,r){return e.call(t,i,r,n)}).flip())}});var li=n.prototype;li[cn]=!0,li[Tn]=si.entries,li.__toJS=si.toObject,li.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+tn(e)},Zt(i,{toKeyedSeq:function(){return new it(this,!1)},filter:function(e,t){return Ct(this,ct(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Ct(this,ut(this,!1))},slice:function(e,t){return Ct(this,ht(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=v(e,0>e?this.count():this.size);var i=this.slice(0,e);return Ct(this,1===n?i:i.concat(h(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return Ct(this,gt(this,e,!1))},get:function(e,t){return e=f(this,e),0>e||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return e=f(this,e),e>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Ct(this,_t(this,e))},interleave:function(){var e=[this].concat(h(arguments)),t=bt(this.toSeq(),D.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Ct(this,n)},keySeq:function(){return $(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Ct(this,ft(this,e,t,!1))},zip:function(){var e=[this].concat(h(arguments));return Ct(this,bt(this,nn,e))},zipWith:function(e){var t=h(arguments);return t[0]=this,Ct(this,bt(this,e,t))}}),i.prototype[An]=!0,i.prototype[dn]=!0,Zt(r,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),r.prototype.has=si.includes,r.prototype.contains=r.prototype.includes,Zt(k,n.prototype),Zt(D,i.prototype),Zt(M,r.prototype),Zt(te,n.prototype),Zt(ne,i.prototype),Zt(ie,r.prototype);var ui={Iterable:t,Seq:N,Collection:ee,Map:Ae,OrderedMap:Xe,List:Fe,Stack:zt,Set:Bt,OrderedSet:Ht,Record:Mt,Range:$,Repeat:q,is:Y,fromJS:j};return ui})},function(e,t){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=i},function(e,t,n){function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(e,t,n){if(e&&u(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}function o(e){return l(e)&&(e=r(e)),e instanceof i?e.format():i.prototype.format.call(e)}function a(e,t){return r(e,!1,!0).resolve(t)}function s(e,t){return e?r(e,!1,!0).resolveObject(t):t}function l(e){return"string"==typeof e}function u(e){return"object"==typeof e&&null!==e}function c(e){return null===e}function A(e){return null==e}var d=n(182);t.parse=r,t.resolve=a,t.resolveObject=s,t.format=o,t.Url=i;var h=/^([a-z0-9.+-]+:)/i,p=/:[0-9]*$/,f=["<",">",'"',"`"," ","\r","\n","	"],m=["{","}","|","\\","^","`"].concat(f),g=["'"].concat(m),v=["%","/","?",";","#"].concat(g),_=["/","?","#"],E=255,S=/^[a-z0-9A-Z_-]{0,63}$/,y=/^([a-z0-9A-Z_-]{0,63})(.*)$/,b={javascript:!0,"javascript:":!0},C={javascript:!0,"javascript:":!0},T={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},I=n(91);i.prototype.parse=function(e,t,n){if(!l(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e;i=i.trim();var r=h.exec(i);if(r){r=r[0];var o=r.toLowerCase();this.protocol=o,i=i.substr(r.length)}if(n||r||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var a="//"===i.substr(0,2);!a||r&&C[r]||(i=i.substr(2),this.slashes=!0)}if(!C[r]&&(a||r&&!T[r])){for(var s=-1,u=0;u<_.length;u++){var c=i.indexOf(_[u]);-1!==c&&(-1===s||s>c)&&(s=c)}var A,p;p=-1===s?i.lastIndexOf("@"):i.lastIndexOf("@",s),-1!==p&&(A=i.slice(0,p),i=i.slice(p+1),this.auth=decodeURIComponent(A)),s=-1;for(var u=0;u<v.length;u++){var c=i.indexOf(v[u]);-1!==c&&(-1===s||s>c)&&(s=c)}-1===s&&(s=i.length),this.host=i.slice(0,s),i=i.slice(s),this.parseHost(),this.hostname=this.hostname||"";var f="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!f)for(var m=this.hostname.split(/\./),u=0,w=m.length;w>u;u++){var O=m[u];if(O&&!O.match(S)){for(var N="",k=0,D=O.length;D>k;k++)N+=O.charCodeAt(k)>127?"x":O[k];if(!N.match(S)){var M=m.slice(0,u),P=m.slice(u+1),L=O.match(y);L&&(M.push(L[1]),P.unshift(L[2])),P.length&&(i="/"+P.join(".")+i),this.hostname=M.join(".");break}}}if(this.hostname.length>E?this.hostname="":this.hostname=this.hostname.toLowerCase(),!f){for(var x=this.hostname.split("."),R=[],u=0;u<x.length;++u){var B=x[u];R.push(B.match(/[^A-Za-z0-9_-]/)?"xn--"+d.encode(B):B)}this.hostname=R.join(".")}var U=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+U,this.href+=this.host,f&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!b[o])for(var u=0,w=g.length;w>u;u++){var V=g[u],W=encodeURIComponent(V);W===V&&(W=escape(V)),i=i.split(V).join(W)}var H=i.indexOf("#");-1!==H&&(this.hash=i.substr(H),i=i.slice(0,H));var K=i.indexOf("?");if(-1!==K?(this.search=i.substr(K),this.query=i.substr(K+1),t&&(this.query=I.parse(this.query)),i=i.slice(0,K)):t&&(this.search="",this.query={}),i&&(this.pathname=i),T[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",B=this.search||"";this.path=U+B}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",r=!1,o="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&u(this.query)&&Object.keys(this.query).length&&(o=I.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||T[t])&&r!==!1?(r="//"+(r||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+r+n+a+i},i.prototype.resolve=function(e){return this.resolveObject(r(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(l(e)){var t=new i;t.parse(e,!1,!0),e=t}var n=new i;if(Object.keys(this).forEach(function(e){n[e]=this[e]},this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach(function(t){"protocol"!==t&&(n[t]=e[t])}),T[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!T[e.protocol])return Object.keys(e).forEach(function(t){n[t]=e[t]}),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||C[e.protocol])n.pathname=e.pathname;else{for(var r=(e.pathname||"").split("/");r.length&&!(e.host=r.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),n.pathname=r.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var o=n.pathname||"",a=n.search||"";n.path=o+a}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),u=e.host||e.pathname&&"/"===e.pathname.charAt(0),d=u||s||n.host&&e.pathname,h=d,p=n.pathname&&n.pathname.split("/")||[],r=e.pathname&&e.pathname.split("/")||[],f=n.protocol&&!T[n.protocol];if(f&&(n.hostname="",n.port=null,n.host&&(""===p[0]?p[0]=n.host:p.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===r[0]?r[0]=e.host:r.unshift(e.host)),e.host=null),d=d&&(""===r[0]||""===p[0])),u)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,p=r;else if(r.length)p||(p=[]),p.pop(),p=p.concat(r),n.search=e.search,n.query=e.query;else if(!A(e.search)){if(f){n.hostname=n.host=p.shift();var m=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;m&&(n.auth=m.shift(),n.host=n.hostname=m.shift())}return n.search=e.search,n.query=e.query,c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!p.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var g=p.slice(-1)[0],v=(n.host||e.host)&&("."===g||".."===g)||""===g,_=0,E=p.length;E>=0;E--)g=p[E],"."==g?p.splice(E,1):".."===g?(p.splice(E,1),_++):_&&(p.splice(E,1),_--);if(!d&&!h)for(;_--;_)p.unshift("..");!d||""===p[0]||p[0]&&"/"===p[0].charAt(0)||p.unshift(""),v&&"/"!==p.join("/").substr(-1)&&p.push("");var S=""===p[0]||p[0]&&"/"===p[0].charAt(0);if(f){n.hostname=n.host=S?"":p.length?p.shift():"";var m=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;m&&(n.auth=m.shift(),n.host=n.hostname=m.shift())}return d=d||n.host&&p.length,d&&!S&&p.unshift(""),p.length?n.pathname=p.join("/"):(n.pathname=null,n.path=null),c(n.pathname)&&c(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=p.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(1),o=n(13),a=r.createClass({displayName:"RadioGroup",propTypes:{name:r.PropTypes.string.isRequired,onChange:r.PropTypes.func.isRequired,value:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.number,r.PropTypes.bool]),defaultValue:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.number,r.PropTypes.bool]),children:r.PropTypes.array.isRequired},getInitialState:function(){return{defaultValue:this.props.defaultValue}},componentDidMount:function(){this.setRadioNames(),this.setCheckedRadio()},componentDidUpdate:function(){this.setRadioNames(),this.setCheckedRadio()},setRadioNames:function(){for(var e=this.getRadios(),t=0,n=e.length;n>t;t++)e[t].setAttribute("name",this.props.name)},getRadios:function(){return o.findDOMNode(this).querySelectorAll('input[type="radio"]')},setCheckedRadio:function(){for(var e=this.getRadios(),t=null!==this.props.value?this.props.value:this.state.defaultValue,n=0,i=e.length;i>n;n++){var r=e[n];r.value!==t&&r.value!==t.toString()||(r.checked=!0)}},getCheckedValue:function(){for(var e=this.getRadios(),t=0,n=e.length;n>t;t++)if(e[t].checked)return e[t].value;return null},render:function(){return r.createElement("div",i({},this.props,{onChange:this.props.onChange}),this.props.children)}});e.exports=a},function(e,t,n){var i,r,o;!function(a,s){r=[n(13)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(this,function(e){"use strict";var t=[],n=[],i="ignore-react-onclickoutside",r=function(e,t){return e===t?!0:e.correspondingElement?e.correspondingElement.classList.contains(i):e.classList.contains(i)};return{componentDidMount:function(){if("function"!=typeof this.handleClickOutside)throw new Error("Component lacks a handleClickOutside(event) function for processing outside click events.");var i=this.__outsideClickHandler=function(e,t){return function(n){n.stopPropagation();for(var i=n.target,o=!1;i.parentNode;){if(o=r(i,e))return;i=i.parentNode}t(n)}}(e.findDOMNode(this),this.handleClickOutside),o=t.length;t.push(this),n[o]=i,this.props.disableOnClickOutside||this.enableOnClickOutside()},componentWillUnmount:function(){this.disableOnClickOutside(),this.__outsideClickHandler=!1;var e=t.indexOf(this);e>-1&&n[e]&&(n.splice(e,1),t.splice(e,1))},enableOnClickOutside:function(){var e=this.__outsideClickHandler;document.addEventListener("mousedown",e),document.addEventListener("touchstart",e)},disableOnClickOutside:function(){var e=this.__outsideClickHandler;document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}})},function(e,t,n){"use strict";function i(e){return e.replace(/.*?:\/\//g,"")}var r=n(29),o=["vivaldi:","chrome:","chrome-extension:"],a=function(e){var t=r.parse(e);return null!==t.protocol&&null!==t.slashes||(t=r.parse("http://"+e)),t.format(t)},s=function(e){var t=r.parse(e);return!!(t.protocol&&t.host&&t.slashes)},l=function(e){return"string"==typeof e?(e=e.toLowerCase(),!(0===e.indexOf("http://")||0===e.indexOf("https://")||0===e.indexOf("chrome://")||0===e.indexOf("vivaldi:")||0===e.indexOf("chrome-extension://")||0===e.indexOf("about:")||0===e.indexOf("file://")||0===e.indexOf("ftp://")||0===e.indexOf("view-source:"))):!0},u=function(e){var t=r.parse(e);return o.some(function(e){return-1!==e.indexOf(t.protocol)})},c=function(e){return-1!==e.indexOf("https://chrome.google.com/webstore")||-1!==e.indexOf("https://vivaldi.net/?welcome=1")?!0:void 0},A=function(e){var t="chrome-extension://mpognobbkildjkofajifpdfhcoklimli/";return e.substr(0,t.length)===t?e="http://"+e.substr(t.length,e.length):e.match(/^[a-zA-Z]+:\/\//)||(e="http://"+e),e},d=function(e){return"string"==typeof e&&e.length>0&&(e.indexOf(" ")<0&&e.indexOf(".")>0||e.match(/^localhost/))?!(e.length-e.lastIndexOf(".")-1<=1):!1};t.ensureURLProtocol=a,t.isValidURL=s,t.hasUnknownProtocol=l,t.isInternalURL=u,t.isIgnoredURL=c,t.fixLink=A,t.isUrlNavigable=d,t.removeProtocol=i},function(e,t,n){"use strict";function i(e,t,n){return n}var r={enableMeasure:!1,storedMeasure:i,measureMethods:function(e,t,n){},measure:function(e,t,n){return n},injection:{injectMeasure:function(e){r.storedMeasure=e}}};e.exports=r},function(e,t,n){"use strict";var i=n(9),r=n(5),o=n(127),a=n(53),s={doAction:function(e){i.handleViewAction({actionType:r.WEBPAGEVIEW_ACTIONS,action:e,page:o.getCurrentPage()})},findInPage:function(e,t,n,i){var r={findNext:!1,matchCase:n||!1};i&&i.find(t,r,this._findCallback.bind(this,e,t,n))},findNextInPage:function(e,t,n,i,r){var o={backward:n||!1,findNext:!0,matchCase:i||!1};r&&r.find(t,o,this._findCallback.bind(this,e,t,i))},_findCallback:function(e,t,n,o){console.log("got cb",o),o.canceled!==!0&&i.handleViewAction(Object.assign({actionType:r.FIND_IN_PAGE_RESULT_ACTION,matchCase:n,page:e,searchText:t},o))},showFindInPageToolbar:function(e){i.handleViewAction({actionType:r.SHOW_FIND_IN_PAGE_ACTION,page:e})},closeFindInPageToolbar:function(e){a.isFindInPageOpen(e)===!0&&i.handleViewAction({actionType:r.CLOSE_FIND_IN_PAGE_ACTION,page:e})},go:function(e){i.handleViewAction({actionType:r.PAGE_GO,index:e?e:0})},back:function(){i.handleViewAction({actionType:r.PAGE_BACK})},forward:function(){i.handleViewAction({actionType:r.PAGE_FORWARD})},stop:function(){i.handleViewAction({actionType:r.PAGE_STOP})},reload:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];i.handleViewAction({actionType:r.PAGE_RELOAD,bypassCache:e})},updated:function(e){i.handleViewAction({actionType:r.PAGE_UPDATED,page:e})}};e.exports=s},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t,n){for(var i=n.length-1;i>=0;i--)if(n[i].items)r(e,t,n[i].items);else if(n[i].commandName===e){t&&t.shortcut?n[i].shortcut=t.shortcut[0]:delete n[i].shortcut;break}}function o(e){for(var t=0;t<e.length;t++)a(e[t].command,e[t].value)}function a(e,t){R[e]=t,r(e,t,B.getMenuItems())}function s(e,t){return function(n,i){e.call(null,t,n,i)}}var l=n(281),u=n(17).EventEmitter,c=n(50),A=n(95),d=n(15),h=n(16),p=n(74),f=n(44),m=n(283),g=n(284),v=n(9),_=n(5),E=n(3),S=n(34),y=n(2),b=n(4),C=n(130),T=n(36),I=n(19),w=I.urls,O="change",N=34045,k=!1,D=0,M=[{name:"COMMAND_NEW_WINDOW",action:function(){return d.openWindow()},label:y("New Window"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_NEW_PRIVATE_WINDOW",action:d.openIncognitoWindow,label:y("New Private Window"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLOSE_WINDOW",action:c.closeWindow,label:y("Close Window"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_QUICK_COMMANDS",action:c.showQuickCommand,label:y("Quick Commands"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_FULLSCREEN",action:c.fullScreen,label:y("Toggle Fullscreen Mode"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_TASK_MANAGER",action:c.showTaskManager,label:y("Task Manager"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_SETTINGS",action:c.showSettings,label:y("Settings"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_PLUGINS",action:c.showPlugins,label:y("Plugins"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_EXTENSIONS",action:c.showExtensions,label:y("Extensions"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_HISTORY",action:c.showHistory,label:y("History"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_BOOKMARKS",action:c.showBookmarks,label:y("Bookmarks"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_WELCOME",action:c.showWelcome,label:y("Welcome Page"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_CLEAR_PRIVATE_DATA",action:c.showClearPrivateData,label:y("Clear Private Data"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_BOOKMARK_BAR",action:c.toggleBookmarksBar,label:y("Bookmarks Bar"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_TOGGLE_MENU_POSITION",action:c.toggleMenuPosition,label:y("Toggle Menu Position"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_TOGGLE_FOOTER",action:c.toggleFooter,label:y("Toggle Status Bar"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_TOGGLE_INTERFACE_COLOR",action:c.toggleInterfaceColor,label:y("Toggle Interface Color"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_EXIT",action:c.exitBrowser,label:"MacIntel"===navigator.platform?y("Quit $1",["Vivaldi"]):y("Exit"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_HELP",action:d.newPage,param:" https://help.vivaldi.com",label:y("browser","Help"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_KEYBOARDSHORTCUTS",action:c.showKeyboardShortcuts,label:y("Keyboard Cheat Sheet"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_MAIN_TOGGLE_TAB_BAR",action:c.toggleTabBar,label:y("Toggle Tab Bar"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_MAIN_TOGGLE_ADDRESS_BAR",action:c.toggleAddressBar,label:y("Toggle Address Bar"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_MAIN_TOGGLE_UI",
action:c.toggleUI,label:y("Toggle UI"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_NEW_TAB",action:d.newPage,label:y("New Tab"),gestureOnLink:y("Open Link in New Tab (Over a Link)"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_NEW_BACKGROUND_TAB",action:g.newBackgroundTab,label:y("Clone Tab in Background"),gestureOnLink:y("Open Link in Background Tab (Over a Link)"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_CLONE_TAB",action:function(){return d.clonePage(h.getActivePage())},label:y("Clone Tab"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_MOVE_TAB_TO_NEW_WINDOW",action:function(){return d.detachPage(h.getActivePage())},label:y("Detach Tab"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_PIN_TAB",action:d.togglePinned,label:y("Pin Tab"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_CLOSE_TAB",action:d.close,label:y("Close Tab"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_CLOSE_TAB_TO_LEFT",action:function(){return d.closeToLeft(h.getActivePage())},label:y("Close Tabs to the Left"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_CLOSE_TAB_TO_RIGHT",action:function(){return d.closeToRight(h.getActivePage())},label:y("Close Tabs to the Right"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_CLOSE_ALL_BUT_ACTIVE_TAB",action:g.closeAllButActiveTab,label:y("Close Other Tabs"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_NEW_PRIVATE_TAB",action:d.newPage,label:y("New Private Tab"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_SHOW_ABOUT",action:d.newPage,param:w.internals.aboutpage,label:"MacIntel"===navigator.platform?y("About $1",["Vivaldi"]):y("About"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CHECK_FOR_UPDATES",action:c.checkForUpdates,label:y("Check for Updates"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_COMMUNITY",action:d.newPage,param:"https://vivaldi.net",label:y("Community"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_TAB_SWITCH_BACK_SETTING",action:g.switchTabBackBySetting,label:y("Next Tab"),notEditable:!0,category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_FORWARD_SETTING",action:g.switchTabForwardBySetting,label:y("Previous Tab"),notEditable:!0,category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_BACK_HISTORY",action:g.switchTabBackByHistory,label:y("Next Tab (Recent)"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_FORWARD_HISTORY",action:g.switchTabForwardByHistory,label:y("Previous Tab (Recent)"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_BACK_ORDER",action:g.switchTabBackByOrder,label:y("Next Tab"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_FORWARD_ORDER",action:g.switchTabForwardByOrder,label:y("Previous Tab"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_1",action:d.openPageN.bind(null,1),label:y("Switch to Tab 1"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_2",action:d.openPageN.bind(null,2),label:y("Switch to Tab 2"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_3",action:d.openPageN.bind(null,3),label:y("Switch to Tab 3"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_4",action:d.openPageN.bind(null,4),label:y("Switch to Tab 4"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_5",action:d.openPageN.bind(null,5),label:y("Switch to Tab 5"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_6",action:d.openPageN.bind(null,6),label:y("Switch to Tab 6"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_7",action:d.openPageN.bind(null,7),label:y("Switch to Tab 7"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_8",action:d.openPageN.bind(null,8),label:y("Switch to Tab 8"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_9",action:d.openPageN.bind(null,9),label:y("Switch to Tab 9"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_SWITCH_LAST",action:d.openLastPage,label:y("Switch to the Last Tab"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_REOPEN_RECENTLY_CLOSED",action:g.undoRecentlyClosedTab,label:y("Reopen Closed Tab"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_STACK_TILE_VERTICAL",action:g.stackTileVertical,label:y("Tile Tab Stack Vertically"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_STACK_TILE_HORIZONTAL",action:g.stackTileHorizontal,label:y("Tile Tab Stack Horizontally"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_STACK_TILE_GRID",action:g.stackTileGrid,label:y("Tile Tab Stack to Grid"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TAB_STACK_UNTILE",action:g.stackUntile,label:y("Untile Tab Stack"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_IMPORT_DATA",action:c.showImportData,label:y("Import Bookmarks and Settings"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_EXPORT_DATA",action:c.showExportData,label:y("Export Bookmarks"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_SAVE_SESSION",action:c.showSaveSession,label:y("Save Open Tabs as Session"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_OPEN_SESSION",action:c.showOpenSession,label:y("Open Saved Session"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_ADD_BOOKMARK",action:S.doAction,param:"addBookmark",label:y("Create Bookmark"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_FOCUS_ADDRESSFIELD",action:S.doAction,param:"focusAddressField",label:y("Focus Address Field"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_PAGE_REFRESH",action:S.reload,label:y("Reload Page"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_PAGE_RELOAD_NOCACHE",action:S.reload,param:!0,label:y("Force Page Reload"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_FOCUS_WEBVIEW",action:S.doAction,param:"focusWebView",label:y("Focus Page"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_PAGE_DISABLE_KEYBOARD_SHORTCUTS",action:S.doAction,param:"disableShortcuts",label:y("Disable Keyboard Shortcuts"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_FOCUS_SEARCHFIELD",action:S.doAction,param:"focusSearchField",label:y("Focus Search Field"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_FIND_IN_PAGE",action:S.doAction,param:"findInPage",label:y("Find in Page"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_FIND_NEXT_IN_PAGE",action:S.doAction,param:"findNextInPage",label:y("Find Next in Page"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_FIND_PREVIOUS_IN_PAGE",action:S.doAction,param:"findPreviousInPage",label:y("Find Previous in Page"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_PAGE_BACK",action:S.back,label:y("History Back"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_PAGE_FORWARD",action:S.forward,label:y("History Forward"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_PAGE_REWIND",action:A.navigateRewind,label:y("History Rewind"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_PAGE_FAST_FORWARD",action:A.navigateFastforward,label:y("Fast Forward"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_PRINT_PAGE",action:S.doAction,param:"print",label:y("Print"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_STOP_PAGE",action:S.stop,label:y("Stop Loading"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_OPEN_PAGE",action:S.doAction,param:"openPage",label:y("Open File"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_SAVE_PAGE",action:S.doAction,param:"savePage",label:y("Save Page As"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_MAIN_ZOOM_IN",action:c.zoomIn,label:y("Zoom In"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_MAIN_ZOOM_OUT",action:c.zoomOut,label:y("Zoom Out"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_MAIN_ZOOM_HALF",action:c.zoomHalf,label:y("Zoom Out Half"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_MAIN_ZOOM_DOUBLE",action:c.zoomDouble,label:y("Zoom In Double"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_MAIN_ZOOM_RESET",action:c.zoomReset,label:y("Zoom Reset"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_TAB_VIEW_PAGE_SOURCE",action:g.viewPageSource,label:y("View Page Source"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_DEVELOPER_TOOLS",action:c.showDevTools,label:y("Developer Tools"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_EXPORT_SETTINGS",action:S.doAction,param:"exportSettings",label:y("Export Settings"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_SHOW_HOMEPAGE",action:d.showHomepage,label:y("Home"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_DISCARD_PAGE",action:S.doAction,param:"discardPage",label:y("Discard Page"),category:_.CATEGORY_COMMAND_TAB_ACTION},{name:"COMMAND_TOGGLE_PANEL",action:p.togglePanel,label:y("Toggle Panel"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_FOCUS_PANEL",action:p.setFocus,label:y("Focus Panel"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_NEXT_PANEL",action:p.showNextPanel,param:"next",label:y("Open Next Panel"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_PREVIOUS_PANEL",action:p.showNextPanel,param:"previous",label:y("Open Previous Panel"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_BOOKMARK_PANEL",action:p.toggleContent,param:"bookmarks",label:y("Bookmarks Panel"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_MAIL_PANEL",action:p.toggleContent,param:"mail",label:y("Mail Panel"),showInQC:f.getIsMailWindow,category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_CONTACTS_PANEL",action:p.toggleContent,param:"contacts",label:y("Contacts Panel"),showInQC:f.getIsMailWindow,category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_DOWNLOADS_PANEL",action:p.toggleContent,param:"downloads",label:y("Downloads Panel"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_NOTES_PANEL",action:p.toggleContent,param:"notes",label:y("Notes Panel"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_WEB_PANEL_1",action:p.toggleContent,param:"webpanel 1",label:y("Web Panel 1"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_WEB_PANEL_2",action:p.toggleContent,param:"webpanel 2",label:y("Web Panel 2"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_WEB_PANEL_3",action:p.toggleContent,param:"webpanel 3",label:y("Web Panel 3"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_WEB_PANEL_4",action:p.toggleContent,param:"webpanel 4",label:y("Web Panel 4"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_WEB_PANEL_5",action:p.toggleContent,param:"webpanel 5",label:y("Web Panel 5"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_WEB_PANEL_6",action:p.toggleContent,param:"webpanel 6",label:y("Web Panel 6"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_WEB_PANEL_7",action:p.toggleContent,param:"webpanel 7",label:y("Web Panel 7"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_WEB_PANEL_8",action:p.toggleContent,param:"webpanel 8",label:y("Web Panel 8"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SHOW_WEB_PANEL_9",action:p.toggleContent,param:"webpanel 9",label:y("Web Panel 9"),category:_.CATEGORY_COMMAND_APPEARANCE},{name:"COMMAND_SPATNAV_LEFT",action:m.left,label:y("Spatial Navigation Left"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_SPATNAV_UP",action:m.up,label:y("Spatial Navigation Up"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_SPATNAV_RIGHT",action:m.right,label:y("Spatial Navigation Right"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_SPATNAV_DOWN",action:m.down,label:y("Spatial Navigation Down"),category:_.CATEGORY_COMMAND_WEBPAGE_NAVIGATION},{name:"COMMAND_CLIPBOARD_UNDO",action:l.undo,label:"MacIntel"===navigator.platform?y("mac","Undo"):y("win_linux","Undo"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLIPBOARD_REDO",action:l.redo,label:"MacIntel"===navigator.platform?y("mac","Redo"):y("win_linux","Redo"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLIPBOARD_CUT",action:l.cut,label:"MacIntel"===navigator.platform?y("mac","Cut"):y("win_linux","Cut"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLIPBOARD_COPY",action:l.copy,label:"MacIntel"===navigator.platform?y("mac","Copy"):y("win_linux","Copy"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLIPBOARD_PASTE",action:l.paste,label:"MacIntel"===navigator.platform?y("mac","Paste"):y("win_linux","Paste"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLIPBOARD_SELECT_ALL",action:l.selectAll,label:"MacIntel"===navigator.platform?y("mac","Select All"):y("win_linux","Select All"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLIPBOARD_PASTE_AS_PLAIN_TEXT",action:l.pasteAsPlainText,label:y("Paste as Plain Text"),category:_.CATEGORY_COMMAND_APPLICATION},{name:"COMMAND_CLIPBOARD_PASTE_AS_PLAIN_TEXT_OR_PASTE_AND_GO",action:l.pasteAsPlainTextOrPastAndGo,label:y("Paste and Go"),category:_.CATEGORY_COMMAND_APPLICATION}],P=[{name:y("win_linux","File"),items:[{commandName:"COMMAND_NEW_TAB"},{commandName:"COMMAND_NEW_WINDOW"},{commandName:"COMMAND_NEW_PRIVATE_WINDOW"},{commandName:"COMMAND_OPEN_PAGE",ellipsis:!0},{name:"---"},{commandName:"COMMAND_CLOSE_TAB"},{commandName:"COMMAND_CLOSE_WINDOW"},{name:"---"},{commandName:"COMMAND_SAVE_PAGE",ellipsis:!0},{commandName:"COMMAND_PRINT_PAGE",ellipsis:!0},{name:"---"},{commandName:"COMMAND_IMPORT_DATA",ellipsis:!0},{commandName:"COMMAND_EXPORT_DATA",ellipsis:!0},{name:"---"},{commandName:"COMMAND_OPEN_SESSION",ellipsis:!0},{commandName:"COMMAND_SAVE_SESSION",ellipsis:!0},{name:"---"},{commandName:"COMMAND_EXIT"}]},{name:y("noun_win_linux","Edit"),items:[{commandName:"COMMAND_CLIPBOARD_UNDO",shortcut:"ctrl+z"},{commandName:"COMMAND_CLIPBOARD_REDO",shortcut:"ctrl+y"},{name:"---"},{commandName:"COMMAND_CLIPBOARD_CUT",shortcut:"ctrl+x"},{commandName:"COMMAND_CLIPBOARD_COPY",shortcut:"ctrl+c"},{commandName:"COMMAND_CLIPBOARD_PASTE",shortcut:"ctrl+v"},{commandName:"COMMAND_CLIPBOARD_PASTE_AS_PLAIN_TEXT_OR_PASTE_AND_GO"},{commandName:"COMMAND_CLIPBOARD_PASTE_AS_PLAIN_TEXT"},{name:"---"},{commandName:"COMMAND_CLIPBOARD_SELECT_ALL",shortcut:"ctrl+a"},{name:"---"},{commandName:"COMMAND_FIND_IN_PAGE"}]},{name:y("win_linux","View"),items:[{commandName:"COMMAND_TOGGLE_MENU_POSITION",name:y("Horizontal Main Menu"),type:"checkbox",setting:"VIVALDI_MENU_POSITION"},{commandName:"COMMAND_TOGGLE_PANEL",name:y("Show Panel"),type:"checkbox",panelState:"SHOW_PANEL"},{commandName:"COMMAND_TOGGLE_FOOTER",name:y("Show Status Bar"),type:"checkbox",setting:"SHOW_VIVALDI_FOOTER"},{commandName:"COMMAND_SHOW_BOOKMARK_BAR",name:y("Show Bookmarks Bar"),type:"checkbox",setting:"BOOKMARK_BAR_VISIBLE"},{name:"---"},{commandName:"COMMAND_SHOW_BOOKMARK_PANEL",iconSVG:n(553)},{commandName:"COMMAND_SHOW_MAIL_PANEL",iconSVG:n(556),testVisibility:f.getIsMailWindow},{commandName:"COMMAND_SHOW_CONTACTS_PANEL",iconSVG:n(554),testVisibility:f.getIsMailWindow},{commandName:"COMMAND_SHOW_DOWNLOADS_PANEL",iconSVG:n(555)},{commandName:"COMMAND_SHOW_NOTES_PANEL",iconSVG:n(557)},{name:"---"},{commandName:"COMMAND_MAIN_ZOOM_IN"},{commandName:"COMMAND_MAIN_ZOOM_OUT"},{commandName:"COMMAND_MAIN_ZOOM_RESET"}]},{name:y("Tools"),items:[{commandName:"COMMAND_SHOW_SETTINGS",ellipsis:!0,iconSVG:n(558)},{name:"---"},{commandName:"COMMAND_SHOW_QUICK_COMMANDS",ellipsis:!0},{name:"---"},{commandName:"COMMAND_SHOW_BOOKMARKS"},{commandName:"COMMAND_SHOW_HISTORY"},{commandName:"COMMAND_SHOW_EXTENSIONS"},{commandName:"COMMAND_SHOW_PLUGINS"},{name:"---"},{commandName:"COMMAND_SHOW_CLEAR_PRIVATE_DATA",ellipsis:!0},{name:"---"},{commandName:"COMMAND_TASK_MANAGER"},{commandName:"COMMAND_DEVELOPER_TOOLS"}]},{name:y("win_linux","Window"),tag:N,items:[{commandName:"COMMAND_FULLSCREEN",name:y("Go Fullscreen")},{name:"---"}]},{name:y("win_linux","Help"),items:[{commandName:"COMMAND_SHOW_HELP"},{commandName:"COMMAND_SHOW_KEYBOARDSHORTCUTS",ellipsis:!0},{commandName:"COMMAND_SHOW_WELCOME"},{commandName:"COMMAND_SHOW_COMMUNITY"},{name:"---"},{commandName:"COMMAND_CHECK_FOR_UPDATES",ellipsis:!0,platform:["win"]},{name:"---"},{commandName:"COMMAND_SHOW_ABOUT",iconSVG:n(559)}]}],L=[{name:y("Vivaldi"),tag:44002,items:[{commandName:"COMMAND_SHOW_ABOUT",tag:54017},{name:"---"},{commandName:"COMMAND_SHOW_SETTINGS",tag:54014,name:y("Preferences...")},{name:"---"},{commandName:"COMMAND_CHECK_FOR_UPDATES",ellipsis:!0,tag:54022},{name:"---"},{commandName:"COMMAND_HIDE_VIVALDI",tag:44003,name:y("Hide $1",["Vivaldi"]),shortcut:"cmd+h"},{commandName:"COMMAND_HIDE_OTHERS",tag:54026,name:y("Hide Others"),shortcut:"cmd+alt+h"},{name:"---"},{commandName:"COMMAND_EXIT",tag:34031}]},{name:y("mac","File"),tag:44001,items:[{commandName:"COMMAND_NEW_TAB",tag:54001},{commandName:"COMMAND_NEW_WINDOW",tag:54002},{commandName:"COMMAND_NEW_PRIVATE_WINDOW",tag:54031},{commandName:"COMMAND_OPEN_PAGE",ellipsis:!0,tag:54033},{commandName:"COMMAND_FOCUS_ADDRESSFIELD",ellipsis:!0,tag:54047,name:y("Open Location...")},{name:"---"},{commandName:"COMMAND_CLOSE_TAB",tag:54034},{commandName:"COMMAND_CLOSE_WINDOW",tag:54041},{commandName:"COMMAND_SAVE_PAGE",ellipsis:!0,tag:54019},{name:"---"},{commandName:"COMMAND_IMPORT_DATA",ellipsis:!0,tag:54003},{commandName:"COMMAND_EXPORT_DATA",ellipsis:!0,tag:54038},{name:"---"},{commandName:"COMMAND_OPEN_SESSION",ellipsis:!0,tag:54044},{commandName:"COMMAND_SAVE_SESSION",ellipsis:!0,tag:54045},{name:"---"},{commandName:"COMMAND_PRINT_PAGE",ellipsis:!0,tag:54004}]},{name:y("noun_mac","Edit"),tag:36004,items:[{commandName:"COMMAND_CLIPBOARD_UNDO",tag:50144,shortcut:"cmd+z"},{commandName:"COMMAND_CLIPBOARD_REDO",tag:50145,shortcut:"shift+cmd+z"},{name:"---"},{commandName:"COMMAND_CLIPBOARD_CUT",tag:50141,shortcut:"cmd+x"},{commandName:"COMMAND_CLIPBOARD_COPY",tag:50140,shortcut:"cmd+c"},{commandName:"COMMAND_CLIPBOARD_PASTE",tag:50142,shortcut:"cmd+v"},{commandName:"COMMAND_CLIPBOARD_PASTE_AS_PLAIN_TEXT_OR_PASTE_AND_GO",tag:54027},{commandName:"COMMAND_DELETE",tag:50143,name:y("text_mac","Delete")},{commandName:"COMMAND_CLIPBOARD_SELECT_ALL",tag:50146,shortcut:"cmd+a"},{name:"---"},{commandName:"COMMAND_FIND_IN_PAGE",tag:54006}]},{name:y("mac","View"),tag:54901,items:[{commandName:"COMMAND_SHOW_BOOKMARK_BAR",tag:54025},{commandName:"COMMAND_TOGGLE_FOOTER",tag:54009},{commandName:"COMMAND_TOGGLE_PANEL",tag:54008},{name:"---"},{commandName:"COMMAND_SHOW_BOOKMARK_PANEL",tag:54010},{commandName:"COMMAND_SHOW_MAIL_PANEL",tag:54011,testVisibility:f.isMailWindow},{commandName:"COMMAND_SHOW_CONTACTS_PANEL",tag:54012,testVisibility:f.isMailWindow},{commandName:"COMMAND_SHOW_DOWNLOADS_PANEL",tag:54013},{commandName:"COMMAND_SHOW_NOTES_PANEL",tag:54020},{name:"---"},{commandName:"COMMAND_MAIN_ZOOM_IN",tag:54035},{commandName:"COMMAND_MAIN_ZOOM_OUT",tag:54036},{commandName:"COMMAND_MAIN_ZOOM_RESET",tag:54037},{name:"---"},{commandName:"COMMAND_FULLSCREEN",tag:54016,name:y("Toggle Full Screen")}]},{name:y("Tools"),tag:54902,items:[{commandName:"COMMAND_SHOW_QUICK_COMMANDS",ellipsis:!0,tag:54015},{name:"---"},{commandName:"COMMAND_SHOW_BOOKMARKS",tag:54039},{commandName:"COMMAND_SHOW_HISTORY",tag:54040},{commandName:"COMMAND_SHOW_EXTENSIONS",tag:54029},{commandName:"COMMAND_SHOW_PLUGINS",tag:54024},{name:"---"},{commandName:"COMMAND_SHOW_CLEAR_PRIVATE_DATA",ellipsis:!0,tag:54030},{name:"---"},{commandName:"COMMAND_TASK_MANAGER",tag:54021},{commandName:"COMMAND_DEVELOPER_TOOLS",tag:54023}]},{name:y("mac","Window"),tag:N,items:[{commandName:"COMMAND_MINIMIZE",tag:34046,name:y("Minimize"),shortcut:"cmd+m"},{commandName:"COMMAND_MAC_ZOOM",tag:34047,name:y("Zoom")},{name:"---"},{commandName:"COMMAND_MAC_ALL_TO_FRONT",tag:34048,name:y("Bring All to Front")},{name:"---",tag:55555}]},{name:y("mac","Help"),tag:54903,items:[{commandName:"COMMAND_SHOW_HELP",tag:54042},{commandName:"COMMAND_SHOW_KEYBOARDSHORTCUTS",ellipsis:!0,tag:54028},{name:"---"},{commandName:"COMMAND_SHOW_WELCOME",tag:54046},{commandName:"COMMAND_SHOW_COMMUNITY",tag:54018}]}],x={54001:"COMMAND_NEW_TAB",54002:"COMMAND_NEW_WINDOW",54003:"COMMAND_IMPORT_DATA",54004:"COMMAND_PRINT_PAGE",54005:"COMMAND_EXIT",54006:"COMMAND_FIND_IN_PAGE",54007:"COMMAND_TOGGLE_MENU_POSITION",54008:"COMMAND_TOGGLE_PANEL",54009:"COMMAND_TOGGLE_FOOTER",54010:"COMMAND_SHOW_BOOKMARK_PANEL",54011:"COMMAND_SHOW_MAIL_PANEL",54012:"COMMAND_SHOW_CONTACTS_PANEL",54013:"COMMAND_SHOW_DOWNLOADS_PANEL",54014:"COMMAND_SHOW_SETTINGS",54015:"COMMAND_SHOW_QUICK_COMMANDS",54016:"COMMAND_FULLSCREEN",54017:"COMMAND_SHOW_ABOUT",54018:"COMMAND_SHOW_COMMUNITY",54019:"COMMAND_SAVE_PAGE",54020:"COMMAND_SHOW_NOTES_PANEL",54021:"COMMAND_TASK_MANAGER",54022:"COMMAND_CHECK_FOR_UPDATES",54023:"COMMAND_DEVELOPER_TOOLS",54024:"COMMAND_SHOW_PLUGINS",54025:"COMMAND_SHOW_BOOKMARK_BAR",54027:"COMMAND_CLIPBOARD_PASTE_AS_PLAIN_TEXT_OR_PASTE_AND_GO",54028:"COMMAND_SHOW_KEYBOARDSHORTCUTS",54029:"COMMAND_SHOW_EXTENSIONS",54030:"COMMAND_SHOW_CLEAR_PRIVATE_DATA",54031:"COMMAND_NEW_PRIVATE_WINDOW",54033:"COMMAND_OPEN_PAGE",54034:"COMMAND_CLOSE_TAB",54035:"COMMAND_MAIN_ZOOM_IN",54036:"COMMAND_MAIN_ZOOM_OUT",54037:"COMMAND_MAIN_ZOOM_RESET",54038:"COMMAND_EXPORT_DATA",54039:"COMMAND_SHOW_BOOKMARKS",54040:"COMMAND_SHOW_HISTORY",54041:"COMMAND_CLOSE_WINDOW",54042:"COMMAND_SHOW_HELP",54044:"COMMAND_OPEN_SESSION",54045:"COMMAND_SAVE_SESSION",54046:"COMMAND_SHOW_WELCOME",54047:"COMMAND_FOCUS_ADDRESSFIELD"},R={},B=Object.assign({},u.prototype,{_getCommandsByType:function(e){var t={};for(var n in R)if(void 0!==R[n])for(var i=R[n],r=0;r<M.length;r++)if(M[r].name===n&&i.hasOwnProperty(e)){var o=i[e];if(o)for(var a=0;a<o.length;a++)t[o[a]]={"function":s(M[r].action,M[r].param),label:M[r].gestureLabel||M[r].label,oldShortcut:i.oldShortcut?i.oldShortcut:void 0}}return t},getMenuItems:function(){return"MacIntel"===navigator.platform?L:P},getCommandShortcuts:function(){return this._getCommandsByType("shortcut")},getCommandsGestures:function(){return this._getCommandsByType("gestures")},saveCommandConfig:function(e){for(var t in R)if(void 0!==R[t]){var n=R[t];if(e.name===t){n.hasOwnProperty("shortcut")&&(n.oldShortcut=n.shortcut,n.shortcut=e.shortcut),n.hasOwnProperty("gestures")&&(n.gestures=e.gestures),n.hasOwnProperty("showInQC")&&(n.showInQC=e.showInQC),E.set(i({},t,n));break}}},getCommands:function(){return M},getQuickCommands:function(){return M.filter(function(e){if("function"==typeof e.showInQC&&!e.showInQC())return!1;for(var t in R)if(void 0!==R[t]){var n=R[t];if(e.name===t)return n.hasOwnProperty("shortcut")&&(e.shortcut=n.shortcut),n.showInQC===!0}return!1}.bind(this))},getAllCommands:function(){return M.filter(function(e){for(var t in R)if(void 0!==R[t]){var n=R[t];if(e.name===t)return n.hasOwnProperty("shortcut")&&(e.shortcut=n.shortcut),n.hasOwnProperty("gestures")&&(e.gestures=n.gestures),n.hasOwnProperty("showInQC")&&(e.showInQC=n.showInQC),!0}})},getFunction:function(e,t){return function(){e.apply(null,t)}},getVerticalMenu:function(e){return this._getMenu(e)},getHorizontalMenu:function(e){return this._getMenu(e)},getHandlerFromChromeId:function(e,t){var n;if(54043===e){var i=parseInt(t),r=h.getPages().find(function(e){return e.get("id")===i});r&&(n=s(d.openPage,r))}return n},getOpenTabsMenuList:function(e){var t=[];return e.forEach(function(e){t.push({handler:s(d.openPage,e),name:w.getDisplayTitle(e),tag:54043,url:e.get("url"),parameter:e.get("id").toString(),emphasized:e.get("active"),mnemonic:!1})}),t},_getMenu:function(e){function t(e,n){for(var i=0,r=M.length;r>i;i++)if(M[i].name===e.commandName){var o=s(M[i].action,M[i].param);e.name||(e.name=M[i].label,e.ellipsis===!0&&(n?e.name+=" ...":e.name+="...")),e.handler=o;break}e.items&&e.items.forEach(function(e){t(e)})}var n=b.i18n.getUILanguage(),i="nn"===n||"de"===n;k||(this._initializeCheckmarks(B.getMenuItems()),k=!0);var r=C(this.getMenuItems());if(r.forEach(function(e){t(e,i)}),e){var o=this._getMenuElementById(r,N);if(void 0!==o&&o.items){var a=this.getOpenTabsMenuList(e);a.forEach(function(e){o.items.push(e)})}}return this._pruneOtherPlatforms(r,T()),r},_isChecked:function(e){return e===!0||"top"===e||"on"===e},_initializeCheckmarks:function(e){for(var t=e.length-1;t>=0;t--){var n=e[t];n.items?this._initializeCheckmarks(n.items):n.setting?(E.get(n.setting,function(e,t){e.checked=this._isChecked(t)}.bind(this,n)),E.addListener(n.setting,function(e,t,n){e.checked=this._isChecked(n),B.emitChange()}.bind(this,n))):n.panelState&&"SHOW_PANEL"===n.panelState&&(n.checked=f.getPanelButtonsVisible(),f.addChangeListener(function(){this.checked!==f.getPanelButtonsVisible()&&(this.checked=f.getPanelButtonsVisible(),B.emitChange())}.bind(n)))}},_getMenuElementById:function(e,t){for(var n,i=0;i<e.length;i++){var r=e[i];if(void 0!==r.tag&&r.tag===t){n=r;break}if(r.items&&(n=this._getMenuElementById(r.items,t),void 0!==n))break}return n},_pruneOtherPlatforms:function(e,t){for(var n=0;n<e.length;){var i=e[n];void 0!==i.platform&&Array.isArray(i.platform)&&i&&i.platform&&-1===i.platform.indexOf(t)?e.splice(n,1):(i.items&&this._pruneOtherPlatforms(i.items,t),n++)}},_onMenuIconLoaded:function(e){try{var t=document.createElement("canvas");t.width=this.width,t.height=this.height;var n=t.getContext("2d");n.drawImage(this,0,0);var i=t.toDataURL("image/png");e.iconPNG=i.substr(i.indexOf(",")+1),D>0&&(D--,0===D&&B.emitChange())}finally{this.onload=null}},_loadMenuIcon:function(e,t){D++;var n=new Image;n.onload=this._onMenuIconLoaded.bind(n,t),n.src=e},initializeMenuIcons:function(e){for(var t=e.length-1;t>=0;t--){var n=e[t];if(n.items)this.initializeMenuIcons(n.items);else if(n.iconSVG){var i="data:image/svg+xml;utf8,"+n.iconSVG;this._loadMenuIcon(i,n)}}},chromeIdToCommand:function(e){return x[e]},emitChange:function(){this.emit(O)},addChangeListener:function(e){this.on(O,e)},removeChangeListener:function(e){this.removeListener(O,e)},getUserEditableCommands:function(){return this.getAllCommands().filter(function(e){return e.notEditable!==!0})},getUserEditableCommandsList:function(){return M.filter(function(e){return e.customizable===!0}).map(function(e){return e.name})}});v.register(function(e){var t=e.action;switch(t.actionType){case _.COMMAND_SAVE_SHORTCUTKEY:B.saveCommandConfig(t.command),B.emitChange();break;case _.COMMAND_SET_CONFIGURATION:o(t.commands),B.emitChange();break;case _.COMMAND_CONF_CHANGED:a(t.commandKey,t.commandValue),B.emitChange();break;case _.COMMAND_SESSION_CHANGED:B.emitChange();break;default:return!0}}),e.exports=B},function(e,t){"use strict";var n=function(){return-1!==navigator.platform.indexOf("Linux")?"linux":-1!==navigator.platform.indexOf("MacIntel")?"mac":"win"};e.exports=n},function(e,t,n){var i=n(70),r=n(105),o=i(r,"Map");e.exports=o},function(e,t){function n(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}e.exports=n},function(e,t,n){"use strict";var i=n(20),r=n(56),o=(n(14),n(169),"function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103),a={key:!0,ref:!0,__self:!0,__source:!0},s=function(e,t,n,i,r,a,s){var l={$$typeof:o,type:e,key:t,ref:n,props:s,_owner:a};return l};s.createElement=function(e,t,n){var i,o={},l=null,u=null,c=null,A=null;if(null!=t){u=void 0===t.ref?null:t.ref,l=void 0===t.key?null:""+t.key,c=void 0===t.__self?null:t.__self,A=void 0===t.__source?null:t.__source;for(i in t)t.hasOwnProperty(i)&&!a.hasOwnProperty(i)&&(o[i]=t[i])}var d=arguments.length-2;if(1===d)o.children=n;else if(d>1){for(var h=Array(d),p=0;d>p;p++)h[p]=arguments[p+2];o.children=h}if(e&&e.defaultProps){var f=e.defaultProps;for(i in f)void 0===o[i]&&(o[i]=f[i])}return s(e,l,u,c,A,r.current,o)},s.createFactory=function(e){var t=s.createElement.bind(null,e);return t.type=e,t},s.cloneAndReplaceKey=function(e,t){var n=s(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},s.cloneElement=function(e,t,n){var o,l=i({},e.props),u=e.key,c=e.ref,A=e._self,d=e._source,h=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,h=r.current),void 0!==t.key&&(u=""+t.key);var p;e.type&&e.type.defaultProps&&(p=e.type.defaultProps);for(o in t)t.hasOwnProperty(o)&&!a.hasOwnProperty(o)&&(void 0===t[o]&&void 0!==p?l[o]=p[o]:l[o]=t[o])}var f=arguments.length-2;if(1===f)l.children=n;else if(f>1){for(var m=Array(f),g=0;f>g;g++)m[g]=arguments[g+2];l.children=m}return s(e.type,u,c,A,d,h,l)},s.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},e.exports=s},function(e,t,n){"use strict";var i=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(9),o=n(5),a=n(3),s=n(16),l=n(19),u=l.urls,c=n(4),A=n(27),d=A.List,h=!1,p={loadPromise:function(){return new Promise(function(e,t){c.bookmarks.getTree(function(t){var n=a.getSync("BOOKMARKS_BAR_FOLDER_IDS"),s=i(n,1),l=s[0];r.handleViewAction({actionType:o.BOOKMARKS_LOAD,bookmarks:t,bookmarkFolderId:l}),e()})})},setBookmarkBarFolderAndToggleVisibility:function(e){a.get(["BOOKMARK_BAR_VISIBLE","BOOKMARKS_BAR_FOLDER_IDS"],function(t){t.BOOKMARKS_BAR_FOLDER_IDS[0]===e?a.set({BOOKMARK_BAR_VISIBLE:!t.BOOKMARK_BAR_VISIBLE}):a.set({BOOKMARKS_BAR_FOLDER_IDS:[e],BOOKMARK_BAR_VISIBLE:!0})})},setBookmarkBarFolderAndShow:function(e){a.get(["BOOKMARK_BAR_VISIBLE","BOOKMARKS_BAR_FOLDER_IDS"],function(t){t.BOOKMARKS_BAR_FOLDER_IDS[0]===e?a.set({BOOKMARK_BAR_VISIBLE:!0}):a.set({BOOKMARKS_BAR_FOLDER_IDS:[e],BOOKMARK_BAR_VISIBLE:!0})})},setBookmarkBarFolder:function(e){a.set({BOOKMARKS_BAR_FOLDER_IDS:[e]})},setBookmarkBarFolderId:function(e){r.handleViewAction({actionType:o.BOOKMARKS_BOOKMARK_BAR_CONFIG_ACTION,folderId:e})},bookmarkAllOpenPages:function(){s.getPages().forEach(function(e){return p.bookmarkPage({url:e.get("url"),title:u.getDisplayTitle(e)})})},bookmarkPageInFolder:function(e,t){var n=d.isList(e)||Array.isArray(e)?d(e):d.of(e);n.forEach(function(e){p.bookmarkPage({parentId:t,url:e.get("url"),title:u.getDisplayTitle(e)})})},disableBookmarkMutationHandlers:function(){h=!0},enableBookmarkMutationHandlers:function(){h=!1,p.loadPromise()},bookmarkPage:function(e){r.handleViewAction({actionType:o.BOOKMARKS_CREATE_BOOKMARK,obj:e})}};a.addListener("BOOKMARKS_BAR_FOLDER_IDS",function(e,t,n){var r=i(t,1),o=r[0];p.setBookmarkBarFolderId(o)}),c.bookmarks.onImportBegan.addListener(p.disableBookmarkMutationHandlers),c.bookmarks.onImportEnded.addListener(p.enableBookmarkMutationHandlers);var f={onChanged:o.CHROME_BOOKMARKS_CHANGED,onCreated:o.CHROME_BOOKMARKS_CREATED,onRemoved:o.CHROME_BOOKMARKS_REMOVED,onMoved:o.CHROME_BOOKMARKS_MOVED,onChildrenReordered:o.CHROME_BOOKMARKS_REORDERED};Object.keys(f).forEach(function(e){return c.bookmarks[e].addListener(function(){h||p.loadPromise()})}),e.exports=p},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=n(1),a=n(7),s=n(3),l=function(e){var t=arguments.length<=1||void 0===arguments[1]?[]:arguments[1];arguments.length<=2||void 0===arguments[2]?[]:arguments[2];return o.createClass({mixins:[a],displayName:"VivaldiSettingsWrapper",getInitialState:function(){return{settings:{}}},componentWillMount:function(){t.length&&this.setState({settings:s.getKeysSync(t)})},componentDidMount:function(){var e=this;
t.forEach(function(t){return s.addListener(t,e.settingsChangeHandler)})},componentWillUnmount:function(){var e=this;t.forEach(function(t){return s.removeListener(t,e.settingsChangeHandler)})},settingsChangeHandler:function(e,t,n){this.state.settings[n]!==t&&this.setState({settings:Object.assign({},this.state.settings,i({},n,t))})},render:function(){return o.createElement(e,r({ref:"component",key:"vs",vivaldiSettings:this.state.settings},this.props))}})};e.exports=l},function(e,t,n){"use strict";function i(){w.ReactReconcileTransaction&&S?void 0:g(!1)}function r(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=A.getPooled(),this.reconcileTransaction=w.ReactReconcileTransaction.getPooled(!0)}function o(e,t,n,r,o,a){i(),S.batchedUpdates(e,t,n,r,o,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==v.length?g(!1):void 0,v.sort(a);for(var n=0;t>n;n++){var i=v[n],r=i._pendingCallbacks;i._pendingCallbacks=null;var o;if(h.logTopLevelRenders){var s=i;i._currentElement.props===i._renderedComponent._currentElement&&(s=i._renderedComponent),o="React update: "+s.getName(),console.time(o)}if(f.performUpdateIfNecessary(i,e.reconcileTransaction),o&&console.timeEnd(o),r)for(var l=0;l<r.length;l++)e.callbackQueue.enqueue(r[l],i.getPublicInstance())}}function l(e){return i(),S.isBatchingUpdates?void v.push(e):void S.batchedUpdates(l,e)}function u(e,t){S.isBatchingUpdates?void 0:g(!1),_.enqueue(e,t),E=!0}var c=n(20),A=n(243),d=n(67),h=n(253),p=n(33),f=n(73),m=n(168),g=n(12),v=[],_=A.getPooled(),E=!1,S=null,y={initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),T()):v.length=0}},b={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},C=[y,b];c(r.prototype,m.Mixin,{getTransactionWrappers:function(){return C},destructor:function(){this.dirtyComponentsLength=null,A.release(this.callbackQueue),this.callbackQueue=null,w.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return m.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),d.addPoolingTo(r);var T=function(){for(;v.length||E;){if(v.length){var e=r.getPooled();e.perform(s,null,e),r.release(e)}if(E){E=!1;var t=_;_=A.getPooled(),t.notifyAll(),A.release(t)}}};T=p.measure("ReactUpdates","flushBatchedUpdates",T);var I={injectReconcileTransaction:function(e){e?void 0:g(!1),w.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:g(!1),"function"!=typeof e.batchedUpdates?g(!1):void 0,"boolean"!=typeof e.isBatchingUpdates?g(!1):void 0,S=e}},w={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:l,flushBatchedUpdates:T,injection:I,asap:u};e.exports=w},function(e,t){"use strict";function n(e){return function(){return e}}function i(){}i.thatReturns=n,i.thatReturnsFalse=n(!1),i.thatReturnsTrue=n(!0),i.thatReturnsNull=n(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";function i(){var e={};e.barVisible=P,e.selectedPanel=D,e.width=x,e.panelVisible=M,g.set({PANEL_STATE:e}),_(y,{SHOW_PANEL:e.barVisible,SELECTED_PANEL:e.selectedPanel,PANEL_WIDTH:e.width,SHOW_PANEL_CONTENT:e.panelVisible})}function r(e){x=e,i()}function o(e){return V.getPanelAvailable(e)?!!(e!==V.getMailName()&&e!==V.getContactName()||V.getIsMailWindow()):!1}function a(e){var t=v.getIndexByShortcut(e);-1!==t&&void 0!==U&&t>=1&&U.length>=t&&(e=U[t-1].id),o(e)&&(P=!0,x=0===x?b:x,e===D?M=!M:(D=e,M=!0),M&&(R=!0),i())}function s(e,t){if(V.getIsWebPanel(e)){v.setAvailable(e,t);for(var n=0;n<U.length;n++){var i=U[n];if(i.id===e&&i.available!==t){i.available=t,g.set({WEB_PANEL_LIST:U});break}}}else for(var r=0;r<F.length;r++){var o=F[r];if(o.id===e&&o.available!==t){o.available=t,g.set({REG_PANEL_LIST:F});break}}}function l(){M===!1?P?(D="",P=!1):(P=!0,D&&a(D)):(x=0===x?b:x,P=!P,M=!M),i()}function u(e){e?(P=!0,M=!0,D||(D=V.getDefaultPanel())):M=!1,i()}function c(){M===!1?(R=!0,u(!0)):V.emitChange("setFocus")}function A(e){var t=this;M===!1?c():!function(){var n=V.getWebPanels(),i=[];if(V.getPanelAvailable(I)&&i.push(I),V.getPanelAvailable(w)&&V.getIsMailWindow()&&i.push(w),V.getPanelAvailable(O)&&V.getIsMailWindow()&&i.push(O),V.getPanelAvailable(N)&&i.push(N),V.getPanelAvailable(k)&&i.push(k),void 0!==n&&n.forEach(function(e){e.available&&i.push(e.id)}),D){for(var r=0;r<i.length;r++)if(i[r]===D){r+="next"===e?1:-1,0>r?r=i.length-1:r>=i.length&&(r=0),D!==i[r]&&a(i[r]);break}}else{var o=V.getFirstAvailablePanel();void 0!==o&&a(t.getDefaultPanel())}V.emitChange("")}()}function d(e){P=void 0!==e.showButtons?e.showButtons:P,M=void 0!==e.showContent?e.showContent:M,x=void 0!==e.width?e.width:x,D=void 0!==e.selectedPanel?e.selectedPanel:D}function h(e,t,n){if("WEB_PANEL_LIST"===e){var i=V.getSelectedWebPanelIndex(),r=U.length;if(U=E.clone(t),U.length>r)n||a(U[U.length-1].id);else if(U.length<r&&void 0!==i){var o=void 0;V.getAvailablePanelCount()>0&&(o=void 0===V.getSelectedWebPanelIndex()?i>=U.length?0===U.length?V.getLastAvailablePanel():U[U.length-1].id:U[i].id:U[V.getSelectedWebPanelIndex()].id),void 0===o?(D="",u(!1)):o!==D&&a(o)}}else"REG_PANEL_LIST"===e&&(F=E.clone(t),!D||V.getIsWebPanel(D)||V.getPanelAvailable(D)||(D="",u(!1)))}var p=n(17).EventEmitter,f=n(9),m=n(5),g=n(3),v=n(123),_=n(223),E=n(18),S="change",y=window.vivaldiWindowId,b=250,C=34,T="MacIntel"===navigator.platform?6:10,I="bookmarks",w="mail",O="contacts",N="downloads",k="notes",D="",M=!1,P=!0,L=!1,x=0,R=!1,B=-1,U=[],F=[{id:I,available:!0,forMailOnly:!1},{id:w,available:!0,forMailOnly:!0},{id:O,available:!0,forMailOnly:!0},{id:N,available:!0,forMailOnly:!1},{id:k,available:!0,forMailOnly:!1}],V=Object.assign({},p.prototype,{getPanelAvailable:function(e){for(var t=0;t<F.length;t++)if(F[t].id===e)return F[t].available!==!1;for(var n=0;n<U.length;n++)if(U[n].id===e)return U[n].available!==!1;return!1},getAvailablePanelCount:function(){for(var e=0,t=0;t<F.length;t++)F[t].available!==!1&&e++;for(var n=0;n<U.length;n++)U[n].available!==!1&&e++;return e},getFirstAvailablePanel:function(){for(var e=0;e<F.length;e++)if(F[e].available!==!1){if(F[e].forMailOnly===!0&&!this.getIsMailWindow())continue;return F[e].id}for(var t=0;t<U.length;t++)if(U[t].available!==!1)return U[t].id},getLastAvailablePanel:function(){for(var e=U.length-1;e>=0;e--)if(U[e].available!==!1)return U[e].id;for(var t=F.length-1;t>=0;t--)if(F[t].available!==!1){if(F[t].forMailOnly===!0&&!this.getIsMailWindow())continue;return F[t].id}},getIsLastAvailablePanel:function(e){for(var t=U.length-1;t>=0;t--)if(U[t].available!==!1)return U[t].id===e;for(var n=F.length-1;n>=0;n--)if(F[n].available!==!1)return F[n].id===e;return!0},getAvailablePanelByIndex:function(e){var t=this.getAvailablePanelCount();if(e>=t&&(e=t-1),!(0>e)){for(var n=0,i=0;i<F.length;i++)if(F[i].available!==!1){if(n===e)return F[i].id;n++}for(var r=0;r<U.length;r++)if(U[r].available!==!1){if(n===e)return U[r].id;n++}}},getRegPanels:function(){return F},getWebPanels:function(){return U},getIsWebPanel:function(e){var t=v.getPanelPrefix();return e.substr(0,t.length)===t},getPanelButtonsVisible:function(){return P},getPanelContentVisible:function(){return M},getPanelSwitchVisible:function(){return L},getSelectedPanel:function(){return D},getIsWebPanelSelected:function(){var e=void 0;if(D){var t=v.getPanelPrefix();e=D.substr(0,t.length)===t}return e},getSelectedWebPanelIndex:function(){var e=void 0;if(this.getIsWebPanelSelected())for(var t=0;t<U.length;t++){var n=U[t];if(n.id===D){e=t;break}}return e},getFocusContent:function(){return R},getPanelWidth:function(){return L===!0&&P===!0&&M===!1?C+T:P===!0&&M===!1?C:P===!0&&M===!0?x:0},getDefaultPanel:function(){return I},getBookmarkName:function(){return I},getMailName:function(){return w},getContactName:function(){return O},getDownloadName:function(){return N},getNotesName:function(){return k},getIsMailWindow:function(){return B===y},emitChange:function(e){this.emit(S,e)},addChangeListener:function(e){this.on(S,e)},removeChangeListener:function(e){this.removeListener(S,e)}});f.register(function(e){var t=e.action;switch(t.actionType){case m.MAIL_WINDOW_ID_SET:B=t.mailWindowId;break;case m.PANEL_SET_AVAILABLE:s(t.panel,t.available);break;case m.PANEL_SET_CONTENT_VISIBLE:u(t.visible);break;case m.PANEL_SET_FOCUS:c();break;case m.PANEL_SET_PANELS:h(t.key,t.value,null===t.oldValue);break;case m.PANEL_SET_STATE:d(t.state);break;case m.PANEL_SET_SWITCHER_VISIBLE:L=t.visible;break;case m.PANEL_SET_WIDTH:r(t.PANEL_WIDTH);break;case m.PANEL_SHOW_NEXT:A(t.DIRECTION);break;case m.PANEL_TOGGLE_CONTENT:a(t.panel);break;case m.PANEL_TOGGLE_PANEL:l();break;default:return!0}return V.emitChange(""),!0}),e.exports=V},function(e,t,n){function i(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}var r=n(152);e.exports=i},function(e,t,n){var i=n(70),r=i(Object,"create");e.exports=r},function(e,t,n){"use strict";var i=n(116),r=i({bubbled:null,captured:null}),o=i({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),a={topLevelTypes:o,PropagationPhases:r};e.exports=a},function(e,t,n){"use strict";function i(e,t,n,i){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var r=this.constructor.Interface;for(var o in r)if(r.hasOwnProperty(o)){var s=r[o];s?this[o]=s(n):"target"===o?this.target=i:this[o]=n[o]}var l=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return l?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var r=n(20),o=n(67),a=n(43),s=(n(14),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),l={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};r(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),i.Interface=l,i.augmentClass=function(e,t){var n=this,i=function(){};i.prototype=n.prototype;var a=new i;r(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=r({},n.Interface,t),e.augmentClass=n.augmentClass,o.addPoolingTo(e,o.fourArgumentPooler)},o.addPoolingTo(i,o.fourArgumentPooler),e.exports=i},function(e,t){"use strict";var n=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=n},function(e,t,n){"use strict";var i=n(9),r=n(5),o=n(3),a=n(15),s=n(19).urls,l=n(4),u=n(8),c={exitBrowser:function(){u.runtimePrivate.exit()},closeWindow:function(){l.app.window.current().close()},showQuickCommand:function(e,t){i.handleViewAction({actionType:r.MAIN_SHOW_QUICKCOMMANDS})},showKeyboardShortcuts:function(e,t){i.handleViewAction({actionType:r.MAIN_SHOW_KEYBOARDS_SHORTCUTS})},showConfirmOpenBookmarkDialog:function(e){i.handleViewAction({actionType:r.MAIN_SHOW_CONFIRM_OPEN_BOOKMARKS_DIALOG,options:e})},showImportData:function(){i.handleViewAction({actionType:r.MAIN_SHOW_IMPORT_DATA})},showExportData:function(){l.bookmarks["export"]()},showSaveSession:function(){i.handleViewAction({actionType:r.MAIN_SHOW_SAVE_SESSION})},showOpenSession:function(){i.handleViewAction({actionType:r.MAIN_SHOW_OPEN_SESSION})},showPageInfo:function(e,t){i.handleViewAction({actionType:r.MAIN_SHOW_PAGE_INFO,page:e,event:t})},fullScreen:function(){i.handleViewAction({actionType:r.MAIN_FULLSCREEN})},toggleMenuPosition:function(){o.get("VIVALDI_MENU_POSITION",function(e){e="vivaldi"===e?"top":"vivaldi",o.set({VIVALDI_MENU_POSITION:e})}.bind(this))},toggleFooter:function(){o.get("SHOW_VIVALDI_FOOTER",function(e){var t;t="on"===e?"off":"on",o.set({SHOW_VIVALDI_FOOTER:t})}.bind(this))},toggleInterfaceColor:function(){o.get("BROWSER_FG_COLOR",function(e){var t="ui-light"===e?"ui-dark":"ui-light";o.set({BROWSER_FG_COLOR:t})}.bind(this))},showPlugins:function(){a.openURL("vivaldi://plugins",{singleton:!0})},showExtensions:function(){a.openURL("vivaldi://extensions",{singleton:!0})},showHistory:function(){a.openURL("vivaldi://history",{singleton:!0})},showBookmarks:function(){a.openURL("vivaldi://bookmarks",{singleton:!0})},showWelcome:function(){a.openURL("vivaldi://welcome")},showClearPrivateData:function(){a.openURL("vivaldi://chrome/settings/clearBrowserData",{singleton:!0})},showSettings:function(){o.get("USE_SETTINGS_WINDOW_AS_TAB",function(e){e?a.openURL("vivaldi://settings/startup/",{singleton:!0}):l.runtime.sendMessage({getLastSettingsWindowId:-1},function(e){c.MaybeShowSettingsInWindow(e.settingsWindowId)})})},MaybeShowSettingsInWindow:function(e){l.windows.getAll(function(t){for(var n=!0,i=0;i<t.length;i++)if(t[i].id===e){n=!1;break}if(n){var r=740,o=590,u=Number.parseInt(window.screen.availWidth/2-r/2,10),c=Number.parseInt(window.screen.availHeight/2-o/2,10);a.openWindow(s.internals.settings,{width:r,height:o,left:u,top:c,focused:!0,incognito:!1},function(e){l.runtime.sendMessage({setLastSettingsWindowId:e.id})},"popup")}else l.windows.update(e,{focused:!0})})},showTaskManager:function(){u.importData.openTaskManager(function(e){})},showDevTools:function(){u.importData.showDevTools(function(e){})},toggleBookmarksBar:function(){o.get("BOOKMARK_BAR_VISIBLE",function(e){o.set({BOOKMARK_BAR_VISIBLE:!e})}.bind(this))},checkForUpdates:function(){l.autoUpdate.checkForUpdates(!0)},zoomIn:function(){i.handleViewAction({actionType:r.MAIN_ZOOM_IN})},zoomOut:function(){i.handleViewAction({actionType:r.MAIN_ZOOM_OUT})},zoomHalf:function(){i.handleViewAction({actionType:r.MAIN_ZOOM_HALF})},zoomDouble:function(){i.handleViewAction({actionType:r.MAIN_ZOOM_DOUBLE})},zoomReset:function(){i.handleViewAction({actionType:r.MAIN_ZOOM_RESET})},toggleTabBar:function(){i.handleViewAction({actionType:r.MAIN_TOGGLE_TAB_BAR})},toggleAddressBar:function(){i.handleViewAction({actionType:r.MAIN_TOGGLE_ADDRESS_BAR})},toggleUI:function(){i.handleViewAction({actionType:r.MAIN_TOGGLE_UI})}};e.exports=c},function(e,t,n){"use strict";function i(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];t=Object.assign({inCurrent:null==t.inBackground,isTyped:!0},t),s.openURL(e,t)}function r(e){var t=v.parse(e);return t.protocol&&t.hostname&&t.hostname.split(".").some(function(e){return e.match(E)})?(t.host=m.toUnicode(t.hostname),v.format(t)):e}function o(e,t){var n=g(e).split(" "),i=n[0]||"";return d.getSync("SEARCH_ENGINES").some(function(e){return e.Keyword.toLowerCase()===i.toLowerCase()})}function a(e){e&&e.allHistory&&c.handleViewAction({actionType:A.NAVIGATION_HISTORY_ALL_DELETED})}var s=n(15),l=n(16),u=n(185),c=n(9),A=n(5),d=n(3),h=n(4),p=n(496),f=n(18),m=n(232),g=n(132),v=n(29),_=n(8),E=/^xn--/,S={clearUrlfieldState:function(e){c.handleViewAction({actionType:A.URLFIELD_CLEAR_STATE,pageId:e})},setUrlfieldState:function(e,t){c.handleViewAction({actionType:A.URLFIELD_SET_STATE,pageId:e,state:t})},clearSelection:function(e){c.handleViewAction({actionType:A.URLFIELD_SET_STATE,pageId:e,state:{selectionStart:-1,selectionEnd:-1}})},addTypedHistory:function(e,t){var n=l.getActivePage().get("incognito");n===!1&&c.handleViewAction({actionType:A.NAVIGATION_ADD_TYPED_HISTORY,title:t,url:e,when:Date.now()})},goSearchURL:function(e){function t(e,t,n){e=e.replace("%s",encodeURIComponent(t)),e=e.replace("%S",t),i(e,n),n.addTypedSearchHistory===!0&&u.addTypedSearchHistory(t)}var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=g(e).split(" "),o=r[0]||"";return n.useSearchEngineURL?t(n.useSearchEngineURL,r.join(" "),n):void d.get(["SEARCH_ENGINES","DEFAULT_SEARCH_ENGINE"],function(e){var i=void 0;for(i=0;i<e.SEARCH_ENGINES.length;i++)if(e.SEARCH_ENGINES[i].Keyword.toLowerCase()===o.toLowerCase())return t(e.SEARCH_ENGINES[i].Url,f.tail(r).join(" "),n);for(i=0;i<e.SEARCH_ENGINES.length;i++)if(parseInt(e.SEARCH_ENGINES[i].Id)===parseInt(e.DEFAULT_SEARCH_ENGINE))return t(e.SEARCH_ENGINES[i].Url,r.join(" "),n)})},go:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];e=[].concat(e),e.forEach(function(n,a){"string"==typeof n&&n.length>0&&(e.length>1&&(t.inBackground=a!==e.length-1),n=r(n),_.utilities.isUrlValid(n,function(e){e.urlValid&&e.schemeValid?i(n,t):!function(){var e=r("http://"+n);p(e)&&!n.includes("@")?_.utilities.isUrlValid(e,function(n){n.urlValid&&n.schemeValid&&i(e,t)}):o(n)||t.enableSearch?S.goSearchURL(n,t):i(e,t)}()}),n&&t.addTypedHistory&&S.addTypedHistory(n))})},showTypedHistory:function(){c.handleViewAction({actionType:A.URLFIELD_TYPED_HISTORY_SHOW})},hideTypedHistory:function(){c.handleViewAction({actionType:A.URLFIELD_TYPED_HISTORY_HIDE})},deleteTypedHistory:function(e){c.handleViewAction({actionType:A.NAVIGATION_TYPED_HISTORY_DELETE,url:e})}};h.history.onVisitRemoved.addListener(a),e.exports=S},function(e,t,n){"use strict";var i=n(4),r=n(50),o=n(15),a=n(3),s={open:function(e,t){var n=this;t&&a.getSync("BOOKMARKS_CONFIRM_BEFORE_OPEN")&&e.bookmarks.length>=a.getSync("BOOKMARKS_CONFIRM_THRESHOLD")?r.showConfirmOpenBookmarkDialog(e):!function(){var t=e.newTab===!0,i=e.newWindow===!0,r=e.inBackground===!0,o=e.incognito===!0,s=e.inCurrent===!0;t===!1&&i===!1&&r===!1&&s===!1&&(a.getSync("BOOKMARKS_OPEN_IN_NEW_TAB")===!0&&(t=!0),1===e.bookmarks.length&&e.bookmarks[0].url.startsWith("javascript:")&&(t=!1));var l=e.bookmarks.length>0?e.bookmarks[e.bookmarks.length-1]:void 0;e.bookmarks.forEach(function(e){i===!0?n.openInNewWindow(e,r,o):t===!0?r===!0?n.openInNewTab(e,!0):n.openInNewTab(e,e!==l):(n.openInCurrentTab(e),t=!0)})}()},openInNewTab:function(e,t){o.openURL(e.url,{bookmarkId:e.id,inCurrent:!1,inBackground:t})},openInCurrentTab:function(e){o.openURL(e.url,{bookmarkId:e.id,inCurrent:!0})},openInNewWindow:function(e,t,n){o.openURL(e.url,{bookmarkId:e.id,inBackground:t,incognito:n})},getBookmarksByNode:function(e){var t=[];return e.children?t=t.concat(e.children.filter(function(e){return e.url})):e.url&&t.push(e),t},getBookmark:function(e,t){"function"==typeof t&&i.bookmarks.get(e,function(e){t(e[0])})},deleteBookmarkObj:function(e,t){if(e.trash)return void t();var n=e.children&&e.children.length>0||void 0===e.url;n?i.bookmarks.removeTree(e.id,t):i.bookmarks.remove(e.id,t)},isPageBookmarked:function(e,t){return e?void i.bookmarks.search({url:e},function(e){var n=!!(e&&e.length>0),i={bookmarked:n};n&&(i.bookmarkObj=e[0]),t(i)}.bind(this)):void t({bookmarked:!1})}};e.exports=s},function(e,t,n){"use strict";var i=n(17).EventEmitter,r=n(9),o=n(5),a="change",s={},l={},u="",c=Object.assign({},i.prototype,{emitChange:function(){this.emit(a)},emitChangeParam:function(e){this.emit(a,e)},addChangeListener:function(e){this.on(a,e)},removeChangeListener:function(e){this.removeListener(a,e)},isFindInPageOpen:function(e){return s[e.get("id")]===!0},getFindResultsForPage:function(e){var t=l[e.get("id")];return void 0===t&&(t={activeMatchOrdinal:0,numberOfMatches:0,searchText:u,canceled:!1,matchCase:!1}),t.isFindInPageToolbarOpen=s[e.get("id")]===!0||!1,t}});r.register(function(e){var t=e.action;switch(t.actionType){case o.WEBPAGEVIEW_ACTIONS:"findInPage"===t.action?s[t.page.get("id")]=!0:"findNextInPage"===t.action||"findPreviousInPage"===t.action?s[t.page.get("id")]!==!0&&(s[t.page.get("id")]=!0,c.emitChangeParam({type:o.WEBPAGEVIEW_ACTIONS,action:"findInPage",page:t.page})):"focusWebView"!==t.action&&"focusSearchField"!==t.action||c.emitChangeParam({type:o.URLFIELD_BLUR}),c.emitChangeParam({type:o.WEBPAGEVIEW_ACTIONS,action:t.action,page:t.page});break;case o.NAVIGATION_SET_STATE:if(t.navigationState&&"start"!==t.navigationState.get("trigger")||s[t.page.get("id")]===!1)return;s[t.page.get("id")]===!0&&(s[t.page.get("id")]=!1,c.emitChangeParam({type:o.CLOSE_FIND_IN_PAGE_ACTION,page:t.page}));break;case o.FIND_IN_PAGE_RESULT_ACTION:s[t.page.get("id")]&&(l[t.page.get("id")]=t,u=t.searchText,c.emitChangeParam(Object.assign({type:o.FIND_IN_PAGE_RESULT_ACTION,page:t.page},t.results)));break;case o.SHOW_FIND_IN_PAGE_ACTION:s[t.page.get("id")]?c.emitChangeParam({type:o.FIND_IN_PAGE_FOCUS,page:t.page}):(s[t.page.get("id")]=!0,c.emitChangeParam({type:o.SHOW_FIND_IN_PAGE_ACTION,page:t.page}));break;case o.CLOSE_FIND_IN_PAGE_ACTION:s[t.page.get("id")]&&(s[t.page.get("id")]=!1,c.emitChangeParam({type:o.CLOSE_FIND_IN_PAGE_ACTION,page:t.page}));break;case o.PAGE_GO:c.emitChangeParam({type:o.PAGE_GO,index:t.index});break;case o.PAGE_UPDATED:c.emitChangeParam({type:t.actionType,page:t.page});break;case o.PAGE_RELOAD:c.emitChangeParam({type:o.PAGE_RELOAD,bypassCache:t.bypassCache});break;case o.PAGE_STOP:case o.PAGE_BACK:case o.PAGE_FORWARD:c.emitChangeParam({type:t.actionType});break;case o.MAIN_SHOW_QUICKCOMMANDS:case o.PANEL_SET_FOCUS:c.emitChangeParam({type:o.URLFIELD_BLUR});break;default:return!0}return!0}),e.exports=c},function(e,t,n){function i(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function r(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var i="color: "+this.color;e=[e[0],i,"color: inherit"].concat(Array.prototype.slice.call(e,1));var r=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(r++,"%c"===e&&(o=r))}),e.splice(o,0,i),e}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}}function s(){var e;try{e=t.storage.debug}catch(n){}return e}function l(){try{return window.localStorage}catch(e){}}t=e.exports=n(86),t.log=o,t.formatArgs=r,t.save=a,t.load=s,t.useColors=i,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:l(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(s())},function(e,t){function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=n},function(e,t){"use strict";var n={current:null};e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){return function(){e.apply(null,t)}}var o=n(35),a=n(15),s=n(9),l=n(5),u=n(3),c=n(8),A={saveCommandShortcutKey:function(e){s.handleViewAction({actionType:l.COMMAND_SAVE_SHORTCUTKEY,command:e})},restoreCommandShortcutKeys:function(){o.getUserEditableCommands().forEach(function(e){var t=u.getDefault(e.name);if(t){var n={shortcut:t.shortcut?t.shortcut:null,gestures:e.gestures,showInQC:t.showInQC};u.set(i({},e.name,n))}})},restoreCommandGestures:function(){o.getUserEditableCommands().forEach(function(e){var t=u.getDefault(e.name);if(t){var n={shortcut:e.shortcut,gestures:t.gestures?t.gestures:null,showInQC:t.showInQC};u.set(i({},e.name,n))}})},setConfiguration:function(e){s.handleViewAction({actionType:l.COMMAND_SET_CONFIGURATION,commands:e})},configChanged:function(e,t,n){s.handleViewAction({actionType:l.COMMAND_CONF_CHANGED,commandKey:n,commandValue:t})},runAction:function(e){"COMMAND_OPEN_TAB"===e.commandName?a.openPage(e.param):this.executeActions(e.commandName)},executeActions:function(e){for(var t=o.getCommands(),n=0;n<t.length;n++)if(e===t[n].name){var i=r(t[n].action,[t[n].param]);return void i()}},urlChangedTab:function(e){s.handleViewAction({actionType:l.COMMAND_SESSION_CHANGED,command:e})}};c.showMenu.onMainMenuCommand.addListener(function(e,t){if(document.hasFocus()){var n=o.getHandlerFromChromeId(e,t);n?n():A.executeActions(o.chromeIdToCommand(e))}}),e.exports=A},function(e,t){"use strict";e.exports=null},function(e,t,n){"use strict";var i=n(4),r=n(19).urls,o=n(280),a=n(444),s=n(2);window.THUMBNAIL_UPDATE=0;var l=440,u=360,c=330,A=270,d={activePageThumbnailUpdates:0,lastPageThumbnailStartTime:0,MAX_CONCURRENT_UPDATES:4,THUMBNAIL_TIMEOUT:6e4,calculateDimensions_:function(e){var t,n=e.thumbUrl&&!e.captureAsBase64;return t=n?{width:l,height:u}:{width:c,height:A}},getPageThumbnail:function(e,t,n,i,r){var o=this;(this.activePageThumbnailUpdates<0||this.activePageThumbnailUpdates>0&&Date.now()-this.lastPageThumbnailStartTime>this.THUMBNAIL_TIMEOUT)&&(console.warn("Dead or mismatched thumbnails updates, active updates: ",this.activePageThumbnailUpdates),this.activePageThumbnailUpdates=0),this.activePageThumbnailUpdates>this.MAX_CONCURRENT_UPDATES||(this.lastPageThumbnailStartTime=Date.now(),this.activePageThumbnailUpdates++,this._updateWebviewThumbnail(n,t,i,this.calculateDimensions_(i),function(e){o.activePageThumbnailUpdates--,e&&r(e)}))},updateBookmarkThumbnail:function(e){e&&this._requestUpdateBookmarkThumbnail(e.id,r.getUrl(e.url),"http://bookmark_thumbnail/"+e.id,function(t){t?i.bookmarks.update(e.id,{thumbnail:t+"?"+Date.now()},function(e){}.bind(this)):console.warn("will not update thumbnail as none was generated")}.bind(this),1024,838,!1)},isBookmarkThumbnailCapture:function(e){return this._isInArrayById(e,this.thumbnailCaptureQueue)||this._isInArrayById(e,this.thumbnailCaptureActive)},getBookmarkThumbnailCaptureBackgroundTaskInfo:function(e){this._getFromArrayById(e,this.backgroundTasks)},_updateOffscreenServiceThumbnail:function(e,t,n,r,o,a){var s=window.vivaldiWindowId+"_vivaldi_window_screenshot_"+r+"x"+o+"-"+Math.random(),l=i.app.window.get(s);l?(console.warn("Tab capture window "+s+" was already open!!"),l.close(),setTimeout(function(){this._updateOffscreenServiceThumbnailHelper(e,t,n,r,o,s,a)}.bind(this),1e3)):this._updateOffscreenServiceThumbnailHelper(e,t,n,r,o,s,a)},_updateOffscreenServiceThumbnailHelper:function(e,t,n,r,o,a,s){r=r?r:640,o=o?o:500,i.app.window.create("components/thumbnail/capture.html",{id:a,outerBounds:{left:100,top:5e3,width:1024,height:838},frame:"none",hidden:!1,focused:!1,thumbnailWindow:!0},function(i){var l=!1,u=function(){var a=i.contentWindow.document.getElementById("capture_view");if(!a)return console.warn("Unable to create capture window with capture_view element!"),i.contentWindow.close(),void(n&&n(void 0));var u,c=function(){a.setVisible(!0),this._updateWebviewThumbnail(a,100,{thumbUrl:t,incognito:s},{width:r,height:o},function(e){u(e)}.bind(this))}.bind(this),A=function(){}.bind(this);u=function(e){l=!0,a.removeEventListener("loadstop",c),a.removeEventListener("loadabort",A),i.contentWindow.close(),n&&n(e)}.bind(this),a.addEventListener("loadstop",c),a.addEventListener("loadabort",A),a.src=e;var d=6e4;setTimeout(function(){l||(console.warn("Capture thumbnail operation timeout after "+d/1e3+"s for "+e),u(void 0))},d)}.bind(this);i.isOpen?(u(),console.warn("Tab capture window "+a+" was already open!!")):(i.isOpen=!0,i.contentWindow.addEventListener("load",u))}.bind(this))},_updateWebviewThumbnail:function(e,t,n,r,o){t=t||0,r=r||this.calculateDimensions_(n);var a=function(e){i.runtime.lastError&&o&&o(void 0),e&&o&&o(e)}.bind(this),s=function(){var t=n.thumbUrl&&!n.captureAsBase64,i=Object.assign({incognito:n.incognito},r);t?e.addToThumbnailService(n.thumbUrl,i,a):e.getThumbnail(r,a)};t?setTimeout(s,t):s()},thumbnailCaptureQueue:[],thumbnailCaptureActive:[],thumbnailCaptureMaxActive:1,thumbnailCaptureProcessId:"thumbnailCapture",backgroundTasks:[],_requestUpdateBookmarkThumbnail:function(e,t,n,i,r,a,l){if(!this.isBookmarkThumbnailCapture(e)){if(this.thumbnailCaptureQueue.push({id:e,url:t,thumbUrl:n,callback:i,width:r,height:a,incognito:l}),this.thumbnailCaptureActive.length>=this.thumbnailCaptureMaxActive){var u=this._getFromArrayById(this.thumbnailCaptureProcessId,this.backgroundTasks);return u&&(u.description=s("$1 bookmark waiting for update.","$1 bookmarks waiting for update.",[this.thumbnailCaptureQueue.length]),u.text=this.thumbnailCaptureQueue.length+1),void o.setBackgroundTasks(this.backgroundTasks)}this._processCaptureQueue()}},_processCaptureQueue:function(){var e=this._getFromArrayById(this.thumbnailCaptureProcessId,this.backgroundTasks);if(e||(e=new a(this.thumbnailCaptureProcessId,"","Thumbnail Capture",{backgroundImage:"url(/resources/reload-status@2x.png)",backgroundSize:"16px 16px",animation:"spin 2s infinite linear",display:"inline-block",minWidth:"16px",padding:"0"},"",[{name:s("Cancel"),handler:function(){this.thumbnailCaptureQueue=[]}.bind(this)}]),this.backgroundTasks.push(e)),0===this.thumbnailCaptureQueue.length)return void(0===this.thumbnailCaptureActive.length&&(this._removeFromArrayById(this.thumbnailCaptureProcessId,this.backgroundTasks),o.setBackgroundTasks(this.backgroundTasks)));var t=this.thumbnailCaptureQueue.shift();this.thumbnailCaptureActive.push(t);var n=function(e){t.callback&&t.callback(e),this._removeFromArrayById(t.id,this.thumbnailCaptureActive),setTimeout(function(){this._processCaptureQueue()}.bind(this),500)}.bind(this);this._updateOffscreenServiceThumbnail(t.url,t.thumbUrl,n,t.width,t.height,t.incognito),e.title=s("Updating thumbnail for $1",[t.url]),e.description=s("$1 bookmark waiting for update.","$1 bookmarks waiting for update.",[this.thumbnailCaptureQueue.length]),e.text=this.thumbnailCaptureQueue.length+1,o.setBackgroundTasks(this.backgroundTasks)},_getFromArrayById:function(e,t){for(var n=0;n<t.length;n++)if(t[n].id===e)return t[n];return null},_isInArrayById:function(e,t){return!!this._getFromArrayById(e,t)},_removeFromArrayById:function(e,t){for(var n=0;n<t.length;n++)t[n].id===e&&t.splice(n,1)}};e.exports=d},function(e,t,n){"use strict";function i(e){E=function t(e,n){return e.speeddial&&!e.url&&n.push(e),e.children&&e.id!==f&&e.children.forEach(function(e){t(e,n)}),n}(e,[])}function r(e,t){var n=parseInt(e);return"number"!=typeof n||Array.isArray(e)&&0===e.length?void console.warn("findBookmarkBarFolder called without proper folderId"):(_=e,void A.bookmarks.get(_,function(e){A.runtime.lastError&&(_="1"),A.bookmarks.getSubTree(_,function(e){A.runtime.lastError||(v=e,t?t():S.emitChange())})}))}function o(e){function t(e){var n;return e.trash?e:(e.children&&e.children.forEach(function(e){n=t(e)}),n)}var n;return g.forEach(function(e){
n=t(e)}),n}function a(e){e.parentId||(e.parentId="1"),d(e.url)||A.bookmarks.create(e)}function s(e,t){m=e[0],g=e,i(m),g[0].children[0].children.push(o()),_=t,r(t,function(){return S.emitChange()})}var l=n(9),u=n(5),c=n(17).EventEmitter,A=n(4),d=n(32).isInternalURL,h="change",p={children:[]},f="4",m=p,g=[],v=[],_=-1,E=[],S=Object.assign({},c.prototype,{getBookmarksBar:function(){return v&&v[0]&&v[0].children?v[0].children:[]},getBookmarksData:function(){return g&&g.length>0&&g[0]&&g[0].children[0]&&g[0].children[0].children?g[0].children[0].children:[]},getBookmarksRootNode:function(){return m},getBookmarkBarFolderId:function(){return _},getSpeeddialNodes:function(){return E},getFlatListOfBookmarksFolders:function(){function e(i){!i.url&&i.children&&-1===t.indexOf(i.id)&&n.push(i),i.children&&i.children.forEach(function(t){t.trash||e(t)})}var t=["0","1","2"],n=[];return g.forEach(function(t){e(t)}),n},getNicknamedFolders:function(e){return S.getFlatListOfBookmarksFolders().find(function(t){return t&&t.nickname&&0===t.nickname.indexOf(e)})},hasNickname:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];if(e=e.toLowerCase(),""===e.trim())return!1;var t=function n(t){return e===t.nickname.toLowerCase()?!0:t.children?t.children.some(n):void 0};return g.some(t)},getNicknamed:function(e){if("string"!=typeof e||e.length<1)return[];e=e.toLowerCase();var t=[],n=function i(n){e===n.nickname.toLowerCase()&&(t=n.children?t.concat(n.children.filter(function(e){return!e.children})):t.concat(n)),n.children&&n.children.forEach(i)};return g.forEach(n),t},emitChange:function(){this.emit(h)},addChangeListener:function(e){this.on(h,e)},removeChangeListener:function(e){this.removeListener(h,e)}});l.register(function(e){var t=e.action;switch(t.actionType){case u.BOOKMARKS_LOAD:s(t.bookmarks,t.bookmarkFolderId);break;case u.BOOKMARKS_BOOKMARK_BAR_CONFIG_ACTION:r(t.folderId);break;case u.BOOKMARKS_CREATE_BOOKMARK:a(t.obj);break;default:return!0}}),e.exports=window.BookmarkStore=S},function(e,t,n){"use strict";function i(e,t){var n=e||w;return e&&e.h&&Array.isArray(e.h)&&e.h.length>y&&(n.h=_.take(e.h,y)),n&&n.h&&t&&(n.h=n.h.filter(function(e){return e.u!==t})),n}function r(e){return _.reduce(e,function(e,t,n){return"t"===n?e.title=t:"u"===n?e.url=t:"w"===n&&(e.when=t),e},{})}function o(e){return _.map(e?e.h:[],r)}function a(e){if("function"!=typeof e)throw TypeError("loadTypedHistory: callback required");m.get("TYPED_HISTORY",function(t){var n=w;try{t&&(n=JSON.parse(t))}catch(i){console.warn("Unable to parse typed history JSON. TODO: fix!",i)}n&&e(n)})}function s(e){var t=e.title,n=e.when,r=e.url;a(function(e){var a=i(e,r),s={u:r};t&&(s.t=t),s.w=n||0,a.h=[s].concat(a.h),m.set({TYPED_HISTORY:JSON.stringify(a)}),T=o(a),N.emitChange()})}function l(){m.remove("TYPED_HISTORY"),T=[],N.emitChange()}function u(e,t){var n={h:Array.from(e.h).filter(function(e){return e.u!==t})};m.set({TYPED_HISTORY:JSON.stringify(n)}),T=o(n)}function c(e){a(function(t){u(t,e),N.emitChange(f.URLFIELD_TYPED_HISTORY_DELETE)})}function A(e,t){var n=(e||"").toString();if(e){var i=b[n]||{};b[n]=Object.assign({},i,t),S("set state",e,"next",t,"old",i,"now",b[n])}}function d(e){if(null!=e){for(var t=(e||"").toString(),n=!1,i=arguments.length,r=Array(i>1?i-1:0),o=1;i>o;o++)r[o-1]=arguments[o];return 0===r.length?b[t]&&(delete b[t],n=!0):r.forEach(function(e){delete b[t][e],n=!0}),n}}var h=n(16),p=n(9),f=n(5),m=n(3),g=n(17),v=g.EventEmitter,_=n(18),E=n(54),S=E("urlbarstore"),y=50,b={},C=!1,T=[],I=!1,w={h:[]},O={editUrl:void 0,selectionStart:-1,selectionEnd:-1,isOmniDropdownOpen:!1,isActive:!1},N=Object.assign({},v.prototype,{getUrlfieldState:function(e){return this.getUrlfieldStateFromId(e.get("id"))},getUrlfieldStateFromId:function(e){var t=Object.assign({},null!=e?b[e.toString()]:{}),n=Object.keys(O).reduce(function(e,t){return void 0===e[t]&&(e[t]=O[t]),e},t);return n},showTypedHistory:function(){return C===!0},getTypedHistory:function(e){return"function"==typeof e?T.filter(e):T},emitChange:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.emit(f.CHANGED,e)}});p.register(function(e){var t=e.action;switch(t.actionType){case f.URLFIELD_SET_STATE:A(t.pageId,t.state),N.emitChange();break;case f.URLFIELD_TYPED_HISTORY_SHOW:C!==!0&&(C=!0,N.emitChange());break;case f.NAVIGATION_SET_STATE:t.navigationState.get("isLoading")===!1&&(I=!1,"abort"===t.navigationState.get("trigger")&&(d(t.page.get("id")),N.emitChange()));break;case f.CHROME_TABS_CREATED:I=!0;break;case f.CHROME_TABS_UPDATED:"loading"===t.args[1].status&&(h.isActivePage(t.args[0])||d(t.args[0]));break;case f.URLFIELD_TYPED_HISTORY_HIDE:C!==!1&&(C=!1,N.emitChange());break;case f.NAVIGATION_ADD_TYPED_HISTORY:s(t);break;case f.NAVIGATION_HISTORY_ALL_DELETED:l();break;case f.NAVIGATION_TYPED_HISTORY_DELETE:c(t.url);break;case f.URLFIELD_CLEAR_STATE:I===!1&&d(t.pageId)&&setTimeout(function(){return N.emitChange()},16)}}),setTimeout(function(){return a(function(e){T=o(e),N.emitChange()})},2e3),e.exports=N},function(e,t,n){!function(t){"use strict";var n="cuid",i=0,r=4,o=36,a=Math.pow(o,r),s=function(e,t){var n="000000000"+e;return n.substr(n.length-t)},l=function(){return s((Math.random()*a<<0).toString(o),r)},u=function(){return i=a>i?i:0,i++,i-1},c=function(){var e,t="c",n=(new Date).getTime().toString(o),i=c.fingerprint(),a=l()+l();return e=s(u().toString(o),r),t+n+e+i+a};c.slug=function(){var e,t=(new Date).getTime().toString(36),n=c.fingerprint().slice(0,1)+c.fingerprint().slice(-1),i=l().slice(-2);return e=u().toString(36).slice(-4),t.slice(-2)+e+n+i},c.globalCount=function(){var e=function(){var e,t=0;for(e in window)t++;return t}();return c.globalCount=function(){return e},e},c.fingerprint=function(){return s((navigator.mimeTypes.length+navigator.userAgent.length).toString(36)+c.globalCount().toString(36),4)},t.register?t.register(n,c):e.exports=c}(this.applitude||this)},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n    <path d="M11.975 14.04H9.02v-2.036h2.955V9h2.037v3.004h2.982v2.037h-2.982v2.934h-2.037V14.04z" />\n</svg>'},function(e,t,n){e.exports=n(682)},function(e,t,n){"use strict";function i(e,t){return(e&t)===t}var r=n(12),o={MUST_USE_PROPERTY:1,HAS_SIDE_EFFECTS:2,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=o,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},l=e.DOMAttributeNames||{},u=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var A in n){s.properties.hasOwnProperty(A)?r(!1):void 0;var d=A.toLowerCase(),h=n[A],p={attributeName:d,attributeNamespace:null,propertyName:A,mutationMethod:null,mustUseProperty:i(h,t.MUST_USE_PROPERTY),hasSideEffects:i(h,t.HAS_SIDE_EFFECTS),hasBooleanValue:i(h,t.HAS_BOOLEAN_VALUE),hasNumericValue:i(h,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:i(h,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:i(h,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(!p.mustUseProperty&&p.hasSideEffects?r(!1):void 0,p.hasBooleanValue+p.hasNumericValue+p.hasOverloadedBooleanValue<=1?void 0:r(!1),l.hasOwnProperty(A)){var f=l[A];p.attributeName=f}a.hasOwnProperty(A)&&(p.attributeNamespace=a[A]),u.hasOwnProperty(A)&&(p.propertyName=u[A]),c.hasOwnProperty(A)&&(p.mutationMethod=c[A]),s.properties[A]=p}}},a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\uB7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},injection:o};e.exports=s},function(e,t,n){"use strict";var i=n(12),r=function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)},o=function(e,t){var n=this;if(n.instancePool.length){var i=n.instancePool.pop();return n.call(i,e,t),i}return new n(e,t)},a=function(e,t,n){var i=this;if(i.instancePool.length){var r=i.instancePool.pop();return i.call(r,e,t,n),r}return new i(e,t,n)},s=function(e,t,n,i){var r=this;if(r.instancePool.length){var o=r.instancePool.pop();return r.call(o,e,t,n,i),o}return new r(e,t,n,i)},l=function(e,t,n,i,r){var o=this;if(o.instancePool.length){var a=o.instancePool.pop();return o.call(a,e,t,n,i,r),a}return new o(e,t,n,i,r)},u=function(e){var t=this;e instanceof t?void 0:i(!1),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,A=r,d=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||A,n.poolSize||(n.poolSize=c),n.release=u,n},h={addPoolingTo:d,oneArgumentPooler:r,twoArgumentPooler:o,threeArgumentPooler:a,fourArgumentPooler:s,fiveArgumentPooler:l};e.exports=h},function(e,t,n){"use strict";var i=n(9),r=n(5),o={setNavigationState:function(e,t){i.handleViewAction({actionType:r.NAVIGATION_SET_STATE,page:e,navigationState:t})},setProgressState:function(e,t){i.handleViewAction({actionType:r.NAVIGATION_SET_PROGRESS,page:e,progressState:t})},setSSLState:function(e,t,n){i.handleViewAction({actionType:r.PAGE_SET_SSL_STATE,page:e,state:t,issuer:n})},setThemeColor:function(e,t){i.handleViewAction({actionType:r.NAVIGATION_SET_THEME_COLOR,page:e,color:t})},addBlockedPopupEvent:function(e,t){i.handleViewAction({actionType:r.NAVIGATION_ADD_POPUP,page:e,popupEvent:t})},removeBlockedPopupEvent:function(e,t){i.handleViewAction({actionType:r.NAVIGATION_REMOVE_POPUP,page:e,popupEvent:t})},setPermission:function(e,t,n,o){i.handleViewAction({actionType:r.NAVIGATION_SET_PERMISSION,page:e,permission:t,requestEvent:n,blocked:o})},resetPermissions:function(e){i.handleViewAction({actionType:r.NAVIGATION_RESET_PERMISSIONS,page:e})}};e.exports=o},function(e,t,n){"use strict";var i=n(9),r=n(5),o=200,a=void 0,s={setStatus:function(e,t){e?(i.handleViewAction({actionType:r.STATUS_SET_STATUS,status:e}),window.clearTimeout(a),t&&(a=setTimeout(this.clearStatus,t))):(window.clearTimeout(a),a=setTimeout(this.clearStatus,o))},clearStatus:function(){i.handleViewAction({actionType:r.STATUS_CLEAR_STATUS})}};e.exports=s},function(e,t,n){function i(e,t){var n=e[t];return r(n)?n:void 0}var r=n(155);e.exports=i},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\r\n    <path d="M9 14h8v-2H9v2z" />\r\n</svg>'},function(e,t,n){"use strict";function i(e){if(A){var t=e.node,n=e.children;if(n.length)for(var i=0;i<n.length;i++)d(t,n[i],null);else null!=e.html?t.innerHTML=e.html:null!=e.text&&c(t,e.text)}}function r(e,t){e.parentNode.replaceChild(t.node,e),i(t)}function o(e,t){A?e.children.push(t):e.node.appendChild(t.node)}function a(e,t){A?e.html=t:e.node.innerHTML=t}function s(e,t){A?e.text=t:c(e.node,t)}function l(e){return{node:e,children:[],html:null,text:null}}var u=n(170),c=n(273),A="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),d=u(function(e,t,n){11===t.node.nodeType?(i(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),i(t))});l.insertTreeBefore=d,l.replaceChildWithTree=r,l.queueChild=o,l.queueHTML=a,l.queueText=s,e.exports=l},function(e,t,n){"use strict";function i(){r.attachRefs(this,this._currentElement)}var r=n(657),o=(n(110),{mountComponent:function(e,t,n,r,o){var a=e.mountComponent(t,n,r,o);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(i,e),a},getNativeNode:function(e){return e.getNativeNode()},unmountComponent:function(e,t){r.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,o){var a=e._currentElement;if(t!==a||o!==e._context){var s=r.shouldUpdateRefs(a,t);s&&r.detachRefs(e,a),e.receiveComponent(t,n,o),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(i,e)}},performUpdateIfNecessary:function(e,t){e.performUpdateIfNecessary(t)}});e.exports=o},function(e,t,n){"use strict";var i=n(9),r=n(5),o=n(3),a=n(4),s={loadPromise:function(){var e=this;return new Promise(function(t,n){a.windows.get(window.vivaldiWindowId,function(t){var n=t.extData?JSON.parse(t.extData):{},i={};n.hasOwnProperty("SHOW_PANEL_CONTENT")&&(i.showContent=n.SHOW_PANEL_CONTENT),n.hasOwnProperty("SHOW_PANEL")&&(i.showButtons=n.SHOW_PANEL),n.hasOwnProperty("PANEL_WIDTH")&&(i.width=n.PANEL_WIDTH),n.hasOwnProperty("SELECTED_PANEL")&&(i.selectedPanel=n.SELECTED_PANEL),void 0===i.showButtons?o.get("PANEL_STATE",function(t){if(void 0!==t){console.log("FALLBACK");var n=Array.isArray(t)?t[0]:t;i.showButtons=n.barVisible,i.showContent=n.panelVisible,i.width=n.width,i.selectedPanel=n.selectedPanel,e.setState(i)}}):e.setState(i)}),o.addListener("WEB_PANEL_LIST",e.setPanels),o.addListener("REG_PANEL_LIST",e.setPanels);var i=o.getSync("WEB_PANEL_LIST");void 0!==i&&s.setPanels(null,i,"WEB_PANEL_LIST");var r=o.getSync("REG_PANEL_LIST");void 0!==r&&e.setPanels(null,r,"REG_PANEL_LIST"),t()})},setFocus:function(){i.handleViewAction({actionType:r.PANEL_SET_FOCUS})},showNextPanel:function(e){i.handleViewAction({actionType:r.PANEL_SHOW_NEXT,DIRECTION:e})},setContentVisible:function(e){i.handleViewAction({actionType:r.PANEL_SET_CONTENT_VISIBLE,visible:e})},setSwitcherVisible:function(e){i.handleViewAction({actionType:r.PANEL_SET_SWITCHER_VISIBLE,visible:e})},togglePanel:function(){i.handleViewAction({actionType:r.PANEL_TOGGLE_PANEL})},toggleContent:function(e){i.handleViewAction({actionType:r.PANEL_TOGGLE_CONTENT,panel:e})},setAvailable:function(e,t){i.handleViewAction({actionType:r.PANEL_SET_AVAILABLE,panel:e,available:t})},setWidth:function(e){i.handleViewAction({actionType:r.PANEL_SET_WIDTH,PANEL_WIDTH:e})},setPanels:function(e,t,n){i.handleViewAction({actionType:r.PANEL_SET_PANELS,key:n,value:t,oldValue:e})},setState:function(e){i.handleViewAction({actionType:r.PANEL_SET_STATE,state:e})},setMailWindowId:function(e){i.handleViewAction({actionType:r.MAIL_WINDOW_ID_SET,mailWindowId:e})}};e.exports=s},function(e,t,n){"use strict";var i=n(9),r=n(5),o=n(153),a=o.values,s=function(e,t){return t?setTimeout(e,t):e()},l={},u={clearTooltip:function(){u._clearAllTooltipTimeouts(),i.handleViewAction({actionType:r.TOOLTIP_CLEAR})},showTooltip:function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];u._clearTooltipTimeout(e),l[e]=s(function(){return i.handleViewAction({actionType:r.TOOLTIP_SHOW,id:e})},t)},hideTooltip:function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];u._clearTooltipTimeout(e),l[e]=s(function(){return i.handleViewAction({actionType:r.TOOLTIP_HIDE,id:e})},t)},_clearAllTooltipTimeouts:function(){a(l).filter(Boolean).forEach(clearTimeout),l={}},_clearTooltipTimeout:function(e){l[e]&&(l[e]=clearTimeout(l[e]))}};e.exports=window.TooltipActions=u},function(e,t){"use strict";e.exports={VIVALDI_ROOT_BOOKMARK_FOLDER:"1",PLACEHOLDER_URL:"http://bookmark.placeholder.url/"}},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(541),a=n(6),s=".fullwidth, .fullheight",l=r.createClass({displayName:"SlideBar",startpos:null,rafHandle:null,getInitialState:function(){return{touchActive:!1}},componentWillUnmount:function(){window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.unbindDragProperties),window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.unbindDragProperties)},handleMouseDown:function(e){e.preventDefault(),window.addEventListener("mousemove",this.handleMouseMove,!1),window.addEventListener("mouseup",this.unbindDragProperties,!1),0===e.button&&this.startDragging(e)},handleTouchStart:function(e){e.preventDefault(),window.addEventListener("touchmove",this.handleTouchMove,!1),window.addEventListener("touchend",this.unbindDragProperties,!1),this.setState({touchActive:!0}),this.startDragging(e.touches[0])},startDragging:function(e){[].forEach.call(document.querySelectorAll(s),function(e){e.parentNode.style.setProperty("will-change","width, height"),e.parentNode.style.setProperty("transition-duration","0ms")}),this.startX=e.screenX,this.startY=e.screenY},handleMouseMove:function(e){this.handleMove(e.screenX,e.screenY)},handleTouchMove:function(e){e.preventDefault(),this.handleMove(e.touches[0].screenX,e.touches[0].screenY)},handleMove:function(e,t){this.rafHandle&&o.cancel(this.rafHandle),this.rafHandle=o(function(){var n=void 0;"left"===this.props.position?n=e-this.startX:"right"===this.props.position?n=this.startX-e:"top"===this.props.position?n=t-this.startY:"bottom"===this.props.position&&(n=this.startY-t),this.props.onSlidebarMove(n)&&(this.startX=e,this.startY=t)}.bind(this))},unbindDragProperties:function(){this.setState({touchActive:!1}),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.unbindDragProperties),window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.unbindDragProperties),[].forEach.call(document.querySelectorAll(s),function(e){e.parentNode.style.removeProperty("will-change"),e.parentNode.style.removeProperty("transition-duration")})},handleClick:function(e){1===e.button&&this.handleDoubleClick(e)},handleDoubleClick:function(e){this.props.onDoubleClick&&this.props.onDoubleClick(e)},render:function(){var e,t="left"===this.props.position||"right"===this.props.position?"fullheight":"fullwidth",n="right"===this.props.position||"bottom"===this.props.position?"alternate":"";return r.createElement("button",{tabIndex:"-1",onTouchStart:this.handleTouchStart,onMouseDown:this.handleMouseDown,onDoubleClick:this.handleDoubleClick,onClick:this.handleClick,className:a((e={},i(e,t,!0),i(e,n,""!==n),i(e,"touch-active",this.state.touchActive),e))})}});e.exports=l},function(e,t,n){(function(t){"use strict";function i(e,t){return t===s.OMNI_RESULT_BOOKMARK_URL_HOST?e+500:t===s.OMNI_RESULT_BOOKMARK_PROMOTED?e+200:e}function r(e,t,n){return(t===s.OMNI_RESULT_HISTORY_PROMOTED?300:0)+e+(n.typedCount>0?300:0)+2*n.visitCount}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},a=n(61),s=n(79),l=n(26),u=n(210).OmniNavigation,c=n(7),A=n(1),d=n(13),h=n(52),p=n(186),f=n(128),m=n(51),g=n(62),v=n(5),_=n(34),E=n(53),S=n(4),y=n(54),b=n(468),C=n(470),T=n(18),I=n(85),w=n(481),O=n(29),N=n(19).urls,k=n(8),D=n(32),M=D.hasUnknownProtocol,P=D.removeProtocol,L=y("urlfield"),x=!1,R=!0,B={},U=[],F="Win32"===navigator.platform,V=A.createClass({displayName:"UrlField",mixins:[c],_compProtocol:"",_typedUrl:"",_complist:[],_results:0,_isSearching:!1,_isEdited:!1,_wasKeyMapped:!0,propTypes:{autocompletionEnabled:A.PropTypes.bool,hideDropdown:A.PropTypes.func,onUrlFieldChanged:A.PropTypes.func,suggestEnabled:A.PropTypes.bool},getInitialState:function(){return{isFocused:!1}},_onWebpageviewStoreChanged:function(e){this.isMounted()&&e.type===v.URLFIELD_BLUR&&d.findDOMNode(this)===document.activeElement&&this.hideDropdown()},_onSearchSuggestionsChanged:function(e){var n=this,i=e.suggestions,r=e.query,o=e.uid;if(U.includes(o)){var a=this._maybeRemovePrefix(this._typedUrl);""!==a&&""!==r&&"string"==typeof a&&"string"==typeof r&&(a.startsWith(r)||r.startsWith(a))&&t.nextTick(function(){return n.searchDoneSuggest(i)})}},_onUrlbarStoreChanged:function(e){e===v.URLFIELD_TYPED_HISTORY_DELETE&&this.searchTypedHistory(this._typedUrl,!0)},componentDidMount:function(){E.addChangeListener(this._onWebpageviewStoreChanged),f.addListener(v.SEARCH_SUGGEST_RESULT,this._onSearchSuggestionsChanged),g.addListener(v.CHANGED,this._onUrlbarStoreChanged),d.findDOMNode(this).addEventListener("select",this.onSelect),this.refs.urlInput.addEventListener("focus",this.onFocus),this.refs.urlInput.addEventListener("blur",this.onBlur)},componentWillUnmount:function(){E.removeChangeListener(this._onWebpageviewStoreChanged),f.removeListener(v.SEARCH_SUGGEST_RESULT,this._onSearchSuggestionsChanged),g.removeListener(v.CHANGED,this._onUrlbarStoreChanged),d.findDOMNode(this).removeEventListener("select",this.onSelect),this.refs.urlInput.removeEventListener("focus",this.onFocus),this.refs.urlInput.removeEventListener("blur",this.onBlur)},componentWillReceiveProps:function(e){!e.editUrl&&this._typedUrl&&(this._typedUrl=e.editUrl)},setSelectionRange:function(e,t){var n=d.findDOMNode(this);L("setting selection to",e,t),n.setSelectionRange(e,t)},updateDropDown:function(){L("updating dropdown"),"function"==typeof this.props.showDropdown&&(this._hasLeftPage||""===d.findDOMNode(this).value||this.props.showDropdown(this._complist,this._typedUrl))},getTypedURL:function(){return this._typedUrl},getDropdown:function(){return"function"==typeof this.props.getDropdown?this.props.getDropdown():void 0},getSelectionIndex:function(){return this.props.selectionIndex},_shouldAutocompleteTitle:function(){return R&&this.props.autocompleteOnTitle===!0},updateAutocomplete:function(e){if(L("updating input value",e),this.props.autocompletionEnabled===!0&&this._wasKeyMapped===!0&&(!Array.isArray(e)||0!==e.length)){if(null==e||"undefined"==typeof e.url&&(!Array.isArray(e.urls)||0===e.urls.length))throw TypeError("updateAutocomplete needs an item with an url(s) property",e);var t=(this._typedUrl||"").length,n="",i=0;e.type===s.OMNI_RESULT_BOOKMARK_TITLE_EXACT?n=this._typedUrl+e.title.substr(this._typedUrl.length):(i=e.url.toLowerCase().indexOf(this._typedUrl.toLowerCase()),n=e.url.substr(0,i)+this._typedUrl+e.url.substr(i+this._typedUrl.length));var r=n.indexOf("://")+1;r>0&&(r+=2);var o=d.findDOMNode(this),a=o.value&&o.selectionEnd===o.value.length;0!==i&&i!==r&&(i!==r+4||"www."!==n.substr(r,4))||this._completed?e.nickname&&e.nickname===this._typedUrl&&a&&m.setUrlfieldState(this.props.pageId,{editUrl:e.nickname,selectionStart:e.nickname.length,selectionEnd:e.nickname.length}):(M(n.substr(0,i))&&(this._compProtocol=n.substr(0,i)),this._completed=!0,a&&m.setUrlfieldState(this.props.pageId,{editUrl:n.substr(i),selectionStart:t,selectionEnd:n.length-i}))}},getCompleted:function(e){if(!Array.isArray(e))throw TypeError("getCompleted needs a list of items");if(0===e.length||this.props.autocompletionEnabled===!1)return[];for(var t=-1,n=-1,i=-1,r=-1,o=-1,a=0;a<e.length;a++){var l=e[a];if(l.type!==s.OMNI_RESULT_FOLDER_NICKNAME&&"string"==typeof l.url&&""!==l.url.length){var u=l.url.toLowerCase().indexOf(this._typedUrl.toLowerCase()),c=l.url.indexOf("://")+1;c>0&&(c+=2);var A=0===l.type.indexOf("OMNI_RESULT_BOOKMARK"),d=0===u||u===c||u===c+4&&"www."===l.url.substr(c,4);if(l.nickname&&this._typedUrl.toLowerCase()===l.nickname.toLowerCase())return l;d?(l.type!==s.OMNI_RESULT_HISTORY_PROMOTED||-1!==t&&!w(e[t],l)?l.type!==s.OMNI_RESULT_BOOKMARK_PROMOTED||-1!==n&&!w(e[n],l)?0===l.type.indexOf("OMNI_RESULT_HISTORY")&&-1===t?t=a:A&&(-1===n||w(e[n],l))?n=a:0===l.type.indexOf("OMNI_RESULT_TYPED_HISTORY")&&(-1===o?o=a:w(e[o],l)&&(o=a)):n=a:t=a,this.props.autcompletionPreferBookmarks!==!0&&-1===r&&(r=[n,t].find(function(e){return-1!==e&&"number"==typeof e}))):this._shouldAutocompleteTitle()&&A&&0===l.title.toLowerCase().indexOf(this._typedUrl.toLowerCase())&&(-1===i?i=a:e[i].title.length<l.title.length&&(i=a))}}var h=[n,i,o,t].find(function(e){return-1!==e&&"number"==typeof e});return this.props.autocompletionPreferBookmarks===!1?-1!==r&&(h=r):-1!==n?h=n:-1!==i&&(h=i),L("Complete",h,"bm=",n,"bt",i,"th=",o,"hi=",t),h>=0?e[h]:void 0},searchDone:function(){var e=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];this._complist=[].concat(B[s.OMNI_TYPE_HISTORY]||[],B[s.OMNI_TYPE_BOOKMARK]||[],(B[s.OMNI_TYPE_TYPED_HISTORY]||[]).map(function(e){return T.assign(e,{type:s.OMNI_RESULT_TYPED_HISTORY,id:e.url})}).sort(function(e,t){return t.when-e.when}),B[s.OMNI_TYPE_SUGGEST]||[]),(e||++this._results>2)&&(L("typed",this._typedUrl,"edit",this.props.editUrl,"display",this.props.displayUrl,"complist",this._complist,"incremeneted?",this.inputWasIncr,"decremented?",this.inputWasDecr),this.inputWasDecr?(this._completedItem=void 0,this._completed=!1):(this._completedItem=this.getCompleted([].concat(B[s.OMNI_TYPE_HISTORY]||[],B[s.OMNI_TYPE_BOOKMARK]||[])),this._completedItem&&this.updateAutocomplete(this._completedItem),L("picked completed item",this._completedItem)),this._isSearching=!1),this.updateDropDown()},searchDoneBookmarks:function(e){return B[s.OMNI_TYPE_BOOKMARK]=e,this.searchDone()},searchDoneHistory:function(e){return B[s.OMNI_TYPE_HISTORY]=e,this.searchDone()},searchDoneTypedHistory:function(e,t){return B[s.OMNI_TYPE_TYPED_HISTORY]=e,this.searchDone(t)},_maybePrefixWithKeyword:function(e){return this.props.typedSearchEngine&&this.props.typedSearchEngine.Keyword&&!e.startsWith(this.props.typedSearchEngine.Keyword+" ")?this.props.typedSearchEngine.Keyword+" "+e:e},_maybeRemovePrefix:function(e){var t=this.props.typedSearchEngine;return t&&this._typedUrl.startsWith(t.Keyword+" ")?this._typedUrl.substr(t.Keyword.length+1):e},searchDoneSuggest:function(e){var t=this;return B[s.OMNI_TYPE_SUGGEST]=e.map(function(e){return{id:e,url:t._maybePrefixWithKeyword(e),type:s.OMNI_RESULT_SUGGEST}}),this.searchDone()},getBookmarkType:function(e,t){var n="",i=t.join(" "),r=new RegExp(b(i),"gi");return e.nickname&&e.nickname===i?n=s.OMNI_RESULT_BOOKMARK_NICKNAME:e.children||"string"!=typeof e.url||(C(i,e.url)?n=s.OMNI_RESULT_BOOKMARK_URL_HOST:this._shouldAutocompleteTitle()&&e.title&&0===e.title.toLowerCase().indexOf(i.toLowerCase())?n=s.OMNI_RESULT_BOOKMARK_TITLE_EXACT:null!==e.url.match(r)?n="/"===e.url.charAt(e.url.length-1)?s.OMNI_RESULT_BOOKMARK_PROMOTED:s.OMNI_RESULT_BOOKMARK_URL:e.title&&null!==e.title.match(r)?n=s.OMNI_RESULT_BOOKMARK_TITLE:e.description&&null!==e.description.match(r)&&(n=s.OMNI_RESULT_BOOKMARK_DESCRIPTION)),n},getHistoryType:function(e,t){var n="";return t.forEach(function(i){var r=t.join(" "),o=new RegExp(b(r),"gi");e.url&&null!==e.url.match(o)?n="/"===e.url.charAt(e.url.length-1)?s.OMNI_RESULT_HISTORY_PROMOTED:s.OMNI_RESULT_HISTORY_URL:e.title&&null!==e.title.match(o)&&(n=s.OMNI_RESULT_HISTORY_TITLE)}),n},onBookmarksSearched:function(e,t,n,r,o){var a=[],l=null,u=0,c=100;if(x&&console.timeEnd("bookmarks"),this.props.pageId!==n||this._hasLeftPage)return this.searchDoneBookmarks([]);var A=function(t){if(!t.trash){var n=N.getDisplayUrl(t.url);l=this.getBookmarkType(t,e),t.children?(""!==l&&!function(){var e=[];t.children.forEach(function(t){t.children||(e=e.concat(t.url))}),u++,a.push({id:t.id,urls:e,title:t.title,type:s.OMNI_RESULT_FOLDER_NICKNAME,score:i(c,s.OMNI_RESULT_FOLDER_NICKNAME),nickname:t.nickname})}(),t.children.forEach(A)):""!==l&&(u++,a.push({id:t.id,url:n,title:t.title,type:l,score:i(c,l),nickname:t.nickname}))}}.bind(this);o.forEach(A),this.props.pageId!==n||this._hasLeftPage||this.searchDoneBookmarks(a),x&&console.log("Bookmark search for",t,"on",n,"returned",a.length,"results","took",((Date.now()-r)/1e3).toFixed(2),"s")},searchHistory:function(e){var t=e.replace(/\s+/g," ").split(" "),n=[],i=300;if(0===t.length)return this.searchDoneHistory([]);L("words",t.length,t,"|"+e+"|"),x&&console.time("history");var o=t.join(" ").replace(/^\s+|\s+$/g,"");L("searching history",o,this.props.pageId);var a=S.history.search;k.historySearch.dbSearch&&(a=k.historySearch.dbSearch),a({text:o,startTime:0,maxResults:1e3},function(e,a,s){return x&&console.timeEnd("history"),s=s.sort(function(e,t){return t.lastVisitTime-e.lastVisitTime}),this.props.pageId!==e||this._hasLeftPage?this.searchDoneHistory([]):(L("got",s.length,"history results for term",o),s=s.filter(function(e){return e&&"string"==typeof e.url&&e.url.length<2048&&(0===e.url.indexOf("http")||0===e.url.indexOf("file")||0===e.url.indexOf("ftp"))}),s.forEach(function(e){var o=this.getHistoryType(e,t);""!==o&&n.push({id:e.url,url:N.getDisplayUrl(e.url),type:o,title:e.title,typed:e.typedCount>0,lastVisit:e.lastVisitTime,score:r(i,o,e)}),i--}.bind(this)),n=n.sort(function(e,t){return t.score-e.score}.bind(this)),this.props.pageId!==e||this._hasLeftPage||this.searchDoneHistory(n),void(x&&console.log("History search for",o,"on",e,"returned",n.length,"results","took",((Date.now()-a)/1e3).toFixed(2),"s")))}.bind(this,this.props.pageId,Date.now()))},searchBookmarks:function(e){var t=e.replace(/\s+/g," ").split(" ");if(0===t.length)return this.searchDoneBookmarks([]);x&&console.time("bookmarks");var n=this.onBookmarksSearched.bind(this,t,e,this.props.pageId,Date.now());T.delay(n,50,[a.getBookmarksRootNode()])},searchTypedHistory:function(e,t){this.searchDoneTypedHistory(g.getTypedHistory(function(t){return-1!==t.url.indexOf(e)}),t)},_throttledSearchSuggest:T.throttle(function(e,t){var n=p.suggest(e,t);U=T.takeRight(U.concat(n),10)},500,{leading:!1}),onMouseUp:function(e){e.target.selectionStart===e.target.selectionEnd&&(this._focusedOnMouseDown!==d.findDOMNode(this)?("function"==typeof e.target.select&&e.target.select(),this._focusedOnMouseDown=null):this.onSelect({target:e.target}))},onMouseDown:function(e){this._focusedOnMouseDown=document.activeElement},onChange:function(e){var t=e.target;m.setUrlfieldState(this.props.pageId,{editUrl:t.value,selectionStart:t.selectionStart,selectionEnd:t.selectionEnd}),""!==t.value.trim()?this.performSearch():(Object.keys(B).forEach(function(e){return B[e]=[]}),this.hideDropdown()),"function"==typeof this.props.onUrlFieldChanged&&this.props.onUrlFieldChanged(t.value)},onSelect:function(e){if(L("got selected"),e&&e.target){var t=e.target;L("got select event",e,e.nativeEvent,t.selectionStart,t.selectionEnd,t.value),""!==t.value.trim()?m.setUrlfieldState(this.props.pageId,{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd}):m.setUrlfieldState(this.props.pageId,{selectionStart:null,selectionEnd:null})}},_throttledSearch:T.throttle(function(e,t,n){if(L("throttled search fired",this._typedUrl,n,this.props.pageId),this.props.pageId===n&&!this._hasLeftPage)if(this._isSearching)this._isSearching=!1,this._throttledSearch.apply(this,arguments);else{this._isSearching=!0,this._results=0,this._completed=!1,this._compProtocol="",this._complist=[],this._completedItem=void 0,this.searchHistory(this._typedUrl),this.searchBookmarks(this._typedUrl),this.searchTypedHistory(this._typedUrl);var i=this.props,r=i.typedSearchEngine,o=i.defaultSearchEngine;if(this.props.suggestEnabled&&(r&&r.SuggestUrl||!r&&o&&o.SuggestUrl)){var a=r&&this._maybeRemovePrefix(this._typedUrl)||this._typedUrl;a.trim()?this._throttledSearchSuggest(a,r||o):this.searchDoneSuggest([])}else this.searchDoneSuggest([])}},200),performSearch:function(){var e=d.findDOMNode(this);L("performing search, val=",e.value,o(e.value),"typed=",this._typedUrl,o(this._typedUrl)),e.value!==this._typedUrl&&""!==e.value.trim()&&(L("edit",this.props.editUrl,"display",this.props.displayUrl,"edit",this.props.editUrl,"el",e.value,"typed",this._typedUrl),this._typedUrl?(this.inputWasIncr=0===e.value.indexOf(this._typedUrl),this.inputWasDecr=0===(this._typedUrl||"").indexOf(e.value)||e.value.length<this._typedUrl.length):(this.inputWasIncr=0===e.value.indexOf(this.props.editUrl),this.inputWasDecr=0===(this.props.displayUrl||"").indexOf(e.value)),(this.inputWasDecr||!this.inputWasIncr&&!this.inputWasDecr)&&(this._completedItem=void 0,B[s.OMNI_TYPE_SUGGEST]=[]),L("Incremented:",this.inputWasIncr,"decremented:",this.inputWasDecr,"value",e.value,"display",this.props.displayUrl,"edit",this.props.editUrl,"typed",this._typedUrl),this._typedUrl=e.value,e.value.length>0?(this.inputWasIncr&&this._completedItem&&"undefined"!=typeof this._completedItem.url&&(L("updating with",this._completedItem),this._completed=!1,
this.updateAutocomplete(this._completedItem)),this._hasLeftPage=!1,this._throttledSearch(this,e,this.props.pageId)):(this.hideDropdown(),L("hiding dropdown, no search")))},isUrlRevertable:function(){var e=d.findDOMNode(this);return e.value!==this.props.url&&e.value!==this.props.displayUrl},removeSelection:function(){var e=this,n=window.getSelection();n&&(n.empty(),L("removed selection"),t.nextTick(function(){return m.setUrlfieldState(e.props.pageId,{selectionStart:null,selectionEnd:null})}))},revertUrl:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=d.findDOMNode(this);L("reverting from",n.value,"to either",this.props.url,"or",this.props.displayUrl,"select?",t),this._compProtocol="";var i=Object.assign({editUrl:null},t?{selectionStart:0,selectionEnd:this.props.url.length}:{});m.setUrlfieldState(e,i)},onEscPressed:function(e){this._typedUrl="",this.props.isOmniDropdownOpen===!0||this.props.isTypedHistoryOpen===!0?this.hideDropdown():this.isUrlRevertable()?(L("reverting url because its revertable"),this.revertUrl(this.props.pageId,!0)):(L("not revertable - moving focus to webview"),this.removeSelection(),_.doAction("focusWebView"))},hideDropdown:function(){"function"==typeof this.props.hideDropdown&&this.props.hideDropdown()},setAutocompleteHighlight:function(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];this.props.setAutocompleteHighlight.apply(this,t)},_modEnter:function(){var e=d.findDOMNode(this);-1===e.value.indexOf(".")&&e.value.match(/^([a-z0-9]+)$/i)&&(e.value="www."+RegExp.$1+".com",m.setUrlfieldState(this.props.pageId,{editUrl:e.value}),e.blur()),this.props.fieldGo()},onClipboardEvent:function(e){if(0===this.props.selectionStart&&null==this.props.editUrl){var t=e.target.value.substring(0,this.props.selectionEnd),n=O.parse(t);if(!n.protocol){var i=O.parse(N.getDisplayUrl(this.props.url));t=i.protocol+(i.slashes?"//":"")+t}e.clipboardData.setData("text",N.getDisplayUrl(t).replace(/\s/g,"%20")),"cut"===e.type&&(m.setUrlfieldState(this.props.pageId,{editUrl:e.target.value.substr(this.props.selectionEnd)}),e.target.setSelectionRange(0,0)),e.preventDefault()}},_onOmniSaved:function(){var e=d.findDOMNode(this);e.value&&(this._complist=[],this._results=0,this._completedItem=void 0,m.setUrlfieldState(this.props.pageId,{editUrl:e.value,selectionStart:e.value.length,selectionEnd:e.value.length}))},_initializeNavigation:function(){var e=this;this._isNavigationInitialized!==!0&&!function(){var t=new u(e,e._onOmniSaved);e._up=t.up.bind(t),e._down=function(n){return e.props.isOmniDropdownOpen||e.props.isTypedHistoryOpen?t.down(n):void(e.props.triggerTypedHistory!==!1&&m.showTypedHistory())},e._pageUp=t.pageUp.bind(t),e._pageDown=t.pageDown.bind(t),l.bind("up",e._up),l.bind("down",e._down),l.bind("pageup",e._pageUp),l.bind("pagedown",e._pageDown),e._isNavigationInitialized=!0}()},_cleanupNavigation:function(){if(this._isNavigationInitialized===!0)try{l.unbind("up",this._up),l.unbind("down",this._down),l.unbind("pageup",this._pageUp),l.unbind("pagedown",this._pageDown),this._up=this._down=this._pageUp=this._pageDown=void 0}finally{this._isNavigationInitialized=!1}},onFocus:function(e){if(L("focus"),this._compProtocol="","function"==typeof this.props.hideDropdown){document.addEventListener("copy",this.onClipboardEvent,!1),document.addEventListener("cut",this.onClipboardEvent,!1),this._initializeNavigation();var t="MacIntel"===navigator.platform?"meta+enter":"ctrl+enter";l.bind(t,this._modEnter)}this.setState({isFocused:!0}),"function"==typeof this.props.onFocus&&this.props.onFocus()},onBlur:function(e){if(L("blur"),"function"==typeof this.props.onBlur&&this.props.onBlur(),"function"==typeof this.props.hideDropdown){document.removeEventListener("copy",this.onClipboardEvent,!1),document.removeEventListener("cut",this.onClipboardEvent,!1),this._cleanupNavigation();var t="MacIntel"===navigator.platform?"meta+enter":"ctrl+enter";l.unbind(t,this._modEnter)}e&&e.relatedTarget&&"WEBVIEW"===e.relatedTarget.tagName.toUpperCase()&&(this.removeSelection(),this.hideDropdown()),this.setState({isFocused:!1})},onKeyDown:function(e){var n=this,i=e.target;if("function"==typeof this.props.onKeyDown&&this.props.onKeyDown(e),this._throttledSearchSuggest.cancel&&this._throttledSearchSuggest.cancel(),this._throttledSearch.cancel&&this._throttledSearch.cancel(),e&&e.nativeEvent){var r=T.every(["ctrlKey","altKey","metaKey","shiftKey"],function(t){return T.isEqual(e[t],!1)});if(F&&(this._wasKeyMapped="U+0000"!==e.nativeEvent.keyIdentifier),"Enter"===e.nativeEvent.keyIdentifier){if(L("enter pressed!!"),""===i.value.trim())return e.preventDefault();if("function"==typeof this.props.onUrlFieldChanged)return void this.props.onUrlFieldChanged(i.value);var o={};if(e.altKey===!0&&(o.inCurrent=!1,o.inBackground=e.shiftKey===!0),this._hasLeftPage=!0,this.removeSelection(),this.hideDropdown(),a.hasNickname(this._typedUrl)){var s={bookmarks:a.getNicknamed(this._typedUrl)};s.newTab=s.bookmarks.length>1,h.open(s,!0),e.preventDefault(),this.revertUrl(this.props.pageId)}this._completedItem&&(this._shouldAutocompleteTitle()&&(this._completedItem.title||"").toLowerCase()===i.value.toLowerCase()||this._completedItem.url&&P(I(this._completedItem.url))===P(I(i.value)))?(e.preventDefault(),o.addTypedHistory=!0,o.enableSearch=!1,m.go(this._completedItem.url,o)):e.altKey&&!function(){e.preventDefault(),n.props.fieldGo(e);var i=e.shiftKey===!0;t.nextTick(function(){return n.revertUrl(n.props.pageId,i)})}(),e.shiftKey||setTimeout(function(){document.activeElement===d.findDOMNode(n)&&document.activeElement.blur()},40)}else r&&"Esc"===e.nativeEvent.keyIdentifier||"U+001B"===e.nativeEvent.keyIdentifier?this.onEscPressed(e):r&&t.nextTick(function(){n.isUrlRevertable()&&m.setUrlfieldState(n.props.pageId,{selectionStart:i.selectionStart,selectionEnd:i.selectionEnd})})}},onBookmarkDropped:function(e){d.findDOMNode(this).value="";var t=e.nativeEvent.dataTransfer.getData("text");"function"==typeof this.props.onDragDropBookmark&&this.props.onDragDropBookmark(t)},componentDidUpdate:function(){var e=d.findDOMNode(this);if(document.activeElement===e){var t="number"==typeof this.props.selectionStart?this.props.selectionStart:-1,n="number"==typeof this.props.selectionEnd?this.props.selectionEnd:-1;t>-1&&e.selectionStart!==t&&(e.selectionStart=t),n>-1&&e.selectionEnd!==n&&(e.selectionEnd=n)}},render:function(){var e=null==this.props.editUrl?this.props.displayUrl:this.props.editUrl;return A.createElement("input",{type:"text",autoComplete:"off",autoFocus:this.props.autoFocus,className:this.props.className?this.props.className:"url",disabled:this.props.disabled?this.props.disabled:null,title:this.props.title?this.props.title:null,placeholder:this.props.placeholder?this.props.placeholder:null,onChange:this.onChange,onDrop:this.onBookmarkDropped,onKeyDown:this.onKeyDown,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,ref:"urlInput",spellCheck:"false",value:e,onDragStart:this.props.onDragStart})}});e.exports=V}).call(t,n(22))},function(e,t,n){"use strict";var i=n(87);e.exports=Object.assign({OMNI_RESULT_COUNT:15,OMNI_RESULT_COUNT_SUGGEST:5},i({OMNI_RESULT_BOOKMARK_DESCRIPTION:null,OMNI_RESULT_BOOKMARK_NICKNAME:null,OMNI_RESULT_BOOKMARK_PROMOTED:null,OMNI_RESULT_BOOKMARK_TITLE:null,OMNI_RESULT_BOOKMARK_TITLE_EXACT:null,OMNI_RESULT_BOOKMARK_UNKNOWN:null,OMNI_RESULT_BOOKMARK_URL:null,OMNI_RESULT_BOOKMARK_URL_HOST:null,OMNI_RESULT_FOLDER_NICKNAME:null,OMNI_RESULT_HISTORY_PROMOTED:null,OMNI_RESULT_HISTORY_TITLE:null,OMNI_RESULT_HISTORY_UNKNOWN:null,OMNI_RESULT_HISTORY_URL:null,OMNI_RESULT_TYPED_HISTORY:null,OMNI_RESULT_SUGGEST:null,OMNI_TYPE_TYPED_HISTORY:null,OMNI_TYPE_BOOKMARK:null,OMNI_TYPE_HISTORY:null,OMNI_TYPE_SEARCH:null,OMNI_TYPE_SUGGEST:null}))},function(e,t,n){"use strict";function i(e){l=e,u.emitChange()}var r=n(17).EventEmitter,o=n(9),a=n(5),s="change",l={},u=Object.assign({},r.prototype,{getActiveWebView:function(e){return l},emitChange:function(){this.emit(s)},addChangeListener:function(e){this.on(s,e)},removeChangeListener:function(e){this.removeListener(s,e)}});o.register(function(e){var t=e.action;switch(t.actionType){case a.WEBVIEW_SET_ACTIVE:i(t.webview);break;default:return!0}}),e.exports=u},function(e,t){"use strict";var n=1,i=2,r=3,o=function(){var e=arguments.length<=0||void 0===arguments[0]?i:arguments[0],t=arguments[1];return function(r,o){return n>=e?0:(t&&(r=r[t],o=o[t]),r||o?r?o?"number"==typeof r&&"number"==typeof o?e===i?r-o:o-r:(r=r.toString().toLowerCase(),o=o.toString().toLowerCase(),r>o?e===i?1:-1:o>r?e===i?-1:1:0):e===i?-1:1:e===i?1:-1:0)}},a=function(e){var t=arguments.length<=1||void 0===arguments[1]?o():arguments[1],n=arguments.length<=2||void 0===arguments[2]?"children":arguments[2],i=function r(e){var i=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=u[n];Array.isArray(c)&&r(c)}}catch(A){o=!0,a=A}finally{try{!i&&l["return"]&&l["return"]()}finally{if(o)throw a}}e.sort(t)};i(e)};e.exports={treeSort:a,getDefaultComparator:o,NO_SORTING:n,ASCENDING_SORT:i,DESCENDING_SORT:r}},function(e,t){"use strict";function n(e){var t=document.activeElement;return t?i(t,e):!1}var i=function r(e,t){for(var n=t.children,i=!1,o=0;o<n.length;o++){if(n[o]===e)return!0;if(r(e,n[o])){i=!0;break}}return i};e.exports=n},function(e,t,n){"use strict";var i,r=n(4);r.runtime.getPlatformInfo(function(e){i=e.os});var o=function(e){return e&&e.constructor===Array&&(e=e.join(", ")),e&&(e=e.replace(/left/g,"←").replace(/right/g,"→").replace(/up/g,"↑").replace(/down/g,"↓"),e="mac"===i?e.replace(/shift/g,"⇧").replace(/capslock/g,"⇪").replace(/command/g,"⌘").replace(/meta/g,"⌘").replace(/ctrl/g,"⌃").replace(/alt/g,"⌥").replace(/([^+ ]){1}\+/g,"$1"):e.replace(/(^|\+)(\w)/g,function(e){return e.toUpperCase()})),e},a=function(e){return e&&e.constructor===Array&&(e=e.join(", ")),e&&(e="mac"===i?e.replace(/shift/g,"⇧").replace(/capslock/g,"⇪").replace(/command/g,"⌘").replace(/meta/g,"⌘").replace(/ctrl/g,"⌃").replace(/alt/g,"⌥").replace(/([^+ ]){1}\+/g,"$1"):e.replace(/(^|\+)(\w)/g,function(e){return e.toUpperCase()})),e};e.exports=o,a},function(e,t,n){"use strict";var i=n(16),r=function(e){if(!e)return!1;var t=e.getIn(["extData","tiling","id"]);if(!t)return!1;var n=i.getPages().filter(function(e){return e.getIn(["extData","tiling","id"])===t});if(n.count()<2)return!1;var r=i.getActivePage().getIn(["extData","tiling","id"]);return t&&r&&t===r},o=function(e){return e?e.get("active")?!0:!!r(e):!1},a=function(e){return e?i.isGroup(e.getIn(["extData","group"])):!1};t.isPageVisible=o,t.isPageTiled=r,t.isPageGrouped=a},function(e,t,n){"use strict";function i(e){return o(e)}function r(e){try{e=i(e)}catch(t){}return e}var o=n(536);e.exports=r},function(e,t,n){function i(){return t.colors[c++%t.colors.length]}function r(e){function n(){}function r(){var e=r,n=+new Date,o=n-(u||n);e.diff=o,e.prev=u,e.curr=n,u=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=i());var a=Array.prototype.slice.call(arguments);a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(n,i){if("%%"===n)return n;s++;var r=t.formatters[i];if("function"==typeof r){var o=a[s];n=r.call(e,o),a.splice(s,1),s--}return n}),"function"==typeof t.formatArgs&&(a=t.formatArgs.apply(e,a));var l=r.log||t.log||console.log.bind(console);l.apply(e,a)}n.enabled=!1,r.enabled=!0;var o=t.enabled(e)?r:n;return o.namespace=e,o}function o(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),i=n.length,r=0;i>r;r++)n[r]&&(e=n[r].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function s(e){var n,i;for(n=0,i=t.skips.length;i>n;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;i>n;n++)if(t.names[n].test(e))return!0;return!1}function l(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=r,t.coerce=l,t.disable=a,t.enable=o,t.enabled=s,t.humanize=n(90),t.names=[],t.skips=[],t.formatters={};var u,c=0},function(e,t){"use strict";var n=function(e){var t,n={};if(!(e instanceof Object)||Array.isArray(e))throw new Error("keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};e.exports=n},function(e,t,n){function i(e,t){return r?void 0!==e[t]:a.call(e,t)}var r=n(46),o=Object.prototype,a=o.hasOwnProperty;e.exports=i},function(e,t,n){function i(e){var t=r(e)?l.call(e):"";return t==o||t==a}var r=n(55),o="[object Function]",a="[object GeneratorFunction]",s=Object.prototype,l=s.toString;e.exports=i},function(e,t){function n(e){if(e=""+e,!(e.length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),i=(t[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*c;case"days":case"day":case"d":return n*u;case"hours":case"hour":case"hrs":case"hr":case"h":return n*l;case"minutes":case"minute":case"mins":case"min":case"m":return n*s;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function i(e){return e>=u?Math.round(e/u)+"d":e>=l?Math.round(e/l)+"h":e>=s?Math.round(e/s)+"m":e>=a?Math.round(e/a)+"s":e+"ms"}function r(e){return o(e,u,"day")||o(e,l,"hour")||o(e,s,"minute")||o(e,a,"second")||e+" ms"}function o(e,t,n){return t>e?void 0:1.5*t>e?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var a=1e3,s=60*a,l=60*s,u=24*l,c=365.25*u;e.exports=function(e,t){return t=t||{},"string"==typeof e?n(e):t["long"]?r(e):i(e)}},function(e,t,n){"use strict";t.decode=t.parse=n(156),t.encode=t.stringify=n(157)},function(e,t,n){"use strict";var i=n(107),r=n(163),o=n(166),a=n(264),s=n(266),l=n(12),u={},c=null,A=function(e,t){e&&(r.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},d=function(e){return A(e,!0)},h=function(e){return A(e,!1)},p={injection:{injectEventPluginOrder:i.injectEventPluginOrder,injectEventPluginsByName:i.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n?l(!1):void 0;var r=u[t]||(u[t]={});r[e._rootNodeID]=n;var o=i.registrationNameModules[t];o&&o.didPutListener&&o.didPutListener(e,t,n)},getListener:function(e,t){var n=u[t];return n&&n[e._rootNodeID]},deleteListener:function(e,t){var n=i.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=u[t];r&&delete r[e._rootNodeID]},deleteAllListeners:function(e){for(var t in u)if(u[t][e._rootNodeID]){var n=i.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t),delete u[t][e._rootNodeID]}},extractEvents:function(e,t,n,r){for(var o,s=i.plugins,l=0;l<s.length;l++){var u=s[l];if(u){var c=u.extractEvents(e,t,n,r);c&&(o=a(o,c))}}return o},enqueueEvents:function(e){e&&(c=a(c,e))},processEventQueue:function(e){var t=c;c=null,e?s(t,d):s(t,h),c?l(!1):void 0,o.rethrowCaughtError()},__purge:function(){u={}},__getListenerBank:function(){return u}};e.exports=p},function(e,t,n){"use strict";function i(e,t,n){var i=t.dispatchConfig.phasedRegistrationNames[n];return _(e,i)}function r(e,t,n){var r=t?v.bubbled:v.captured,o=i(e,n,r);o&&(n._dispatchListeners=m(n._dispatchListeners,o),n._dispatchInstances=m(n._dispatchInstances,e))}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&f.traverseTwoPhase(e._targetInst,r,e)}function a(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?f.getParentInstance(t):null;f.traverseTwoPhase(n,r,e)}}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var i=n.dispatchConfig.registrationName,r=_(e,i);r&&(n._dispatchListeners=m(n._dispatchListeners,r),n._dispatchInstances=m(n._dispatchInstances,e))}}function l(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}function u(e){g(e,o)}function c(e){g(e,a)}function A(e,t,n,i){f.traverseEnterLeave(n,i,s,e,t)}function d(e){g(e,l)}var h=n(47),p=n(92),f=n(163),m=n(264),g=n(266),v=(n(14),h.PropagationPhases),_=p.getListener,E={accumulateTwoPhaseDispatches:u,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:A};e.exports=E},function(e,t,n){"use strict";function i(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(48),o=n(173),a={view:function(e){if(e.view)return e.view;var t=o(e);if(null!=t&&t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};r.augmentClass(i,a),e.exports=i},function(e,t,n){"use strict";function i(e,t){if(null!==t.tab&&void 0!==t.tab)return!1;if(0!==t.frameId)return!1;var n=o.getPages().find(function(t){return t.get("id")===e}),i=c(n.get("url")).split("/").slice(0,3).join("/");return 0===c(t.url).indexOf(i)?!0:(console.log("[fast forward] message rejected"),!1)}var r=n(126),o=n(16),a=n(9),s=n(5),l=n(34),u=n(4),c=n(85),A=n(29),d={setFastForwardInfo:function(e,t,n){a.handleViewAction({actionType:s.FAST_FORWARD_SET_FORWARD_INFO,pageId:e,forwardUrl:t})},_updateRewindInfo:function(e,t,n,i){a.handleViewAction({actionType:s.FAST_FORWARD_SET_REWIND_INFO,pageId:e,history:i,currentHostname:t,currentIndex:n})},setRewindInfo:function(e,t){var n=A.parse(t.get("url")).hostname;e.getPageHistory(this._updateRewindInfo.bind(this,t.get("id"),n))},navigateRewind:function(e){e&&e.has("id")||(e=o.getActivePage());var t=r.getRewindRelativeIndex(e);l.go(-1*t)},navigateFastforward:function(e){e&&e.has("id")||(e=o.getActivePage()),u.tabs.sendMessage(e.get("id"),{navigateFastforward:!0})},initTab:function(e){return e&&e.has("id")?void u.tabs.sendMessage(e.get("id"),{pageId:e.get("id")}):TypeError("page with id required")},initFastForward:function(){u.runtime.onMessage.addListener(function(e,t){"fastforwardUrlChanged"===e.action&&i(e.pageId,t)&&d.setFastForwardInfo(e.pageId,e.nextUrl,t.url)})}};e.exports=d},function(e,t,n){"use strict";var i=n(1),r=n(13),o=n(11),a=i.createClass({displayName:"FocusTrap",mixins:[o],vivaldiSettingsKeys:["FOCUS_CYCLE_TRAP"],propTypes:{focusName:i.PropTypes.string.isRequired,component:i.PropTypes.any},getDefaultProps:function(){return{component:"div"}},_getFocusable:function(){var e=r.findDOMNode(this).querySelectorAll("a[href]:not([tabindex='-1']),\n      button:not([disabled]):not([tabindex='-1']),\n      input:not([disabled]):not([tabindex='-1']),\n      select:not([disabled]):not([tabindex='-1']),\n      textarea:not([disabled]):not([tabindex='-1']),\n      [tabindex]:not([tabindex='-1']):not(."+this.props.focusName+")");return{firstFocus:e[0],lastFocus:e[e.length-1]}},handleTopFocus:function(e){var t=this._getFocusable(),n=t.firstFocus,i=t.lastFocus;e.relatedTarget===n?i.focus():n.focus()},handleBottomFocus:function(e){var t=this._getFocusable(),n=t.firstFocus,i=t.lastFocus;e.relatedTarget===i?n.focus():i.focus()},render:function(){var e=this.props.component;return this.state.FOCUS_CYCLE_TRAP===!1?i.createElement(e,this.props,this.props.children):i.createElement(e,this.props,i.createElement("span",{tabIndex:"0",className:this.props.focusName,onFocus:this.handleTopFocus}),this.props.children,i.createElement("span",{tabIndex:"0",className:this.props.focusName,onFocus:this.handleBottomFocus}))}});e.exports=a},function(e,t,n){"use strict";var i=n(1),r=n(6),o=i.createClass({displayName:"FolderIcon",propTypes:{open:i.PropTypes.bool,speeddial:i.PropTypes.bool,trash:i.PropTypes.bool},getDefaultProps:function(){return{open:!1,speeddial:!1,trash:!1}},render:function(){var e=r({"folder-icon":!this.props.trash,"folder-trash":this.props.trash,open:this.props.open,sd:this.props.speeddial});return i.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",className:e,style:this.props.leftMargin?{marginLeft:this.props.leftMargin}:null},this.props.trash?i.createElement("g",{mask:"url(#trash-folder-mask)"},i.createElement("path",{d:"M11 1v-1h-6v1h-4v1h14v-1h-4z"}),i.createElement("path",{d:"M3 3h10v12h-10v-12z"})):this.props.speeddial?i.createElement("path",{d:"M16 5 15 4 8 4 8 3 7 2 1 2 0 3 0 13 1 14 8 14 8 16 16 16 Z"}):i.createElement("path",{d:"M0 3 1 2 7 2 8 3 8 4 15 4 16 5 16 13 15 14 1 14 0 13 Z"}))}});e.exports=o},function(e,t){"use strict";e.exports={ALL_MESSAGES_ACCOUNT_ID:"All Messages",MAILING_LISTS_ACCOUNT_ID:"Mailing Lists",DRAFTS_FOLDER_PATH:"Drafts",OUTBOX_FOLDER_PATH:"Outbox",UNREAD_FOLDER_PATH:"Unread",RECEIVED_FOLDER_PATH:"Received",TRASH_FOLDER_PATH:"Trash",TRASH_FOLDER_TYPE:"Trash",SENT_FOLDER_PATH:"Sent",SENT_FOLDER_TYPE:"Sent",ALL_MESSAGES_ROOT_ID:1,MAILING_LISTS_ROOT_ID:11,MAIL_FOLDERS_ROOT_ID:101,MAIL_STATUS_TIMEOUT:5e3}},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(6),a=i.createClass({displayName:"Thumbnail",mixins:[r],MAX_RETRY:4,DEFAULT_STYLE:{width:"100%"},getDefaultProps:function(){return{altSrc:"/resources/bookmark_item.png",size:"default"}},getInitialState:function(){return{src:this.props.src||this.props.altSrc,internalStyle:this.DEFAULT_STYLE,retryCount:0,visibility:"visible"}},componentWillReceiveProps:function(e){this.props.src===e.src&&this.props.altSrc===e.altSrc||this.setState({src:e.src||e.altSrc,internalStyle:e.src?this.state.internalStyle:this.DEFAULT_STYLE})},onLoad:function(){var e={visibility:"visible"};if(this.state.src!==this.props.altSrc&&"cover"===this.props.size){var t=this.refs.image,n=window.getComputedStyle(this.refs.container),i=parseInt(n.width,10),r=parseInt(n.height,10);120>r&&(r=120),t&&t.naturalWidth>0&&t.naturalHeight>0&&i>0&&r>0&&t.naturalWidth/t.naturalHeight>i/r?e.internalStyle={height:r+"px"}:e.internalStyle=this.DEFAULT_STYLE}this.setState(e)},onError:function(){this.setState({src:this.props.altSrc,visibility:this.props.altSrc?"visible":"hidden",internalStyle:this.DEFAULT_STYLE}),this.state.retryCount<this.MAX_RETRY&&this.props.src&&setTimeout(function(){this.isMounted()&&this.setState({src:this.props.src,retryCount:this.state.retryCount+1})}.bind(this),1e3*Math.pow(this.state.retryCount+1,2))},render:function(){var e=o(this.props.className,{"thumbnail-image":!this.props.className});return i.createElement("div",{ref:"container",className:e,style:{overflow:"hidden",maxHeight:"100%",maxWidth:"100%",visibility:this.state.visibility}},i.createElement("img",{ref:"image",style:this.state.internalStyle,alt:this.props.alt,src:this.state.src,onError:this.onError,onLoad:this.onLoad}))}});e.exports=a},function(e,t,n){"use strict";function i(e,t){t.get("isLoading")===!0&&"start"===t.get("trigger")&&(v[e.get("id")]=d.Map()),m[e.get("id")]=t,y.emitChange()}function r(e,t){g[e.get("id")]=t,y.emitChange()}function o(e,t,n){v[e.get("id")]=d.Map({state:t,issuer:n}),y.emitChange()}function a(e,t){_[e.get("id")]=t}function s(e,t){var n=E[e.get("id")]||d.List();n=n.push(t),E[e.get("id")]=n,y.emitChange()}function l(e,t){var n=E[e.get("id")];n&&(E[e.get("id")]=n.filter(function(e){return e!==t}),y.emitChange())}function u(e,t,n,i){S=S.update(e.get("id"),d.Map(),function(e){return e.set(t,d.Map({requestEvent:n,blocked:i}))}),y.emitChange()}function c(e){S=S.update(e.get("id"),d.Map(),function(e){return e.clear()}),y.emitChange()}var A=n(17).EventEmitter,d=n(27),h=n(9),p=n(5),f="change",m={},g={},v={},_={},E={},S=d.Map(),y=Object.assign({},A.prototype,{getNavigationInfo:function(e){return m[e.get("id")]||d.Map()},getProgressInfo:function(e){return g[e.get("id")]||d.Map()},getSSLInfo:function(e){return v[e.get("id")]||d.Map()},getThemeColor:function(e){return _[e.get("id")]||""},getBlockedPopups:function(e){return E[e.get("id")]||d.List()},getPermissionInfo:function(e){return S.get(e.get("id"),d.Map())},emitChange:function(){this.emit(f)},addChangeListener:function(e){this.on(f,e)},removeChangeListener:function(e){this.removeListener(f,e)}});h.register(function(e){var t=e.action;switch(t.actionType){case p.NAVIGATION_SET_STATE:i(t.page,t.navigationState);break;case p.NAVIGATION_SET_PROGRESS:r(t.page,t.progressState);break;case p.PAGE_SET_SSL_STATE:o(t.page,t.state,t.issuer);break;case p.NAVIGATION_SET_THEME_COLOR:a(t.page,t.color);break;case p.NAVIGATION_ADD_POPUP:s(t.page,t.popupEvent);break;case p.NAVIGATION_REMOVE_POPUP:l(t.page,t.popupEvent);break;case p.NAVIGATION_SET_PERMISSION:u(t.page,t.permission,t.requestEvent,t.blocked);break;case p.NAVIGATION_RESET_PERMISSIONS:c(t.page);break;default:return!0}}),e.exports=y},function(e,t,n){"use strict";var i=n(27),r=["id","index","windowId","openerTabId","active","pinned","audible","url","title","favIconUrl","incognito","sessionId"],o=function(e){return a(i.Map(),e)},a=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;t>o;o++)n[o-1]=arguments[o];return n.reduce(function(e,t){var n=Object.keys(t).reduce(function(e,n){return-1!==r.indexOf(n)?e.set(n,t[n]):e},e);if(t.extData)try{n=n.set("extData",(n.extData||i.Map()).merge(JSON.parse(t.extData)))}catch(o){}return n},e.asMutable()).asImmutable()};t.tabToPage=o,t.updatePage=a},function(e,t,n){"use strict";var i=n(16),r=n(62),o=n(53),a=n(131),s=n(85),l=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];if(!e||!e.get("active"))return"";var l=r.getUrlfieldState(e),u=a(t),c=!u||l.editUrl&&l.editUrl!==u||null!=l.selectionStart&&l.selectionStart>-1||null!=l.selectionEnd&&l.selectionEnd>-1,A=s(t)===s(i.getDefaultStartpage())&&(t.startsWith("chrome")||t.startsWith("vivaldi")||t.startsWith("about")),d="",h=!1;try{h=o.getFindResultsForPage(e).isFindInPageToolbarOpen===!0}catch(p){console.warn(p)}var f=i.prefferFocus();return d=n&&f?"tabBar":h===!0?"findInPage":A?"urlFieldSelected":c?"urlField":"content"};e.exports=l},function(e,t,n){(function(e,i){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function r(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(n){return!1}}function o(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function e(t){return this instanceof e?(e.TYPED_ARRAY_SUPPORT||(this.length=0,this.parent=void 0),"number"==typeof t?a(this,t):"string"==typeof t?s(this,t,arguments.length>1?arguments[1]:"utf8"):l(this,t)):arguments.length>1?new e(t,arguments[1]):new e(t)}function a(t,n){if(t=f(t,0>n?0:0|m(n)),!e.TYPED_ARRAY_SUPPORT)for(var i=0;n>i;i++)t[i]=0;return t}function s(e,t,n){"string"==typeof n&&""!==n||(n="utf8");var i=0|v(t,n);return e=f(e,i),e.write(t,n),e}function l(t,n){if(e.isBuffer(n))return u(t,n);if(Z(n))return c(t,n);if(null==n)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(n.buffer instanceof ArrayBuffer)return A(t,n);if(n instanceof ArrayBuffer)return d(t,n)}return n.length?h(t,n):p(t,n)}function u(e,t){var n=0|m(t.length);return e=f(e,n),t.copy(e,0,0,n),e}function c(e,t){var n=0|m(t.length);e=f(e,n);for(var i=0;n>i;i+=1)e[i]=255&t[i];return e}function A(e,t){var n=0|m(t.length);e=f(e,n);for(var i=0;n>i;i+=1)e[i]=255&t[i];return e}function d(t,n){return e.TYPED_ARRAY_SUPPORT?(n.byteLength,t=e._augment(new Uint8Array(n))):t=A(t,new Uint8Array(n)),t}function h(e,t){var n=0|m(t.length);e=f(e,n);for(var i=0;n>i;i+=1)e[i]=255&t[i];return e}function p(e,t){var n,i=0;"Buffer"===t.type&&Z(t.data)&&(n=t.data,i=0|m(n.length)),e=f(e,i);for(var r=0;i>r;r+=1)e[r]=255&n[r];return e}function f(t,n){e.TYPED_ARRAY_SUPPORT?(t=e._augment(new Uint8Array(n)),t.__proto__=e.prototype):(t.length=n,t._isBuffer=!0);var i=0!==n&&n<=e.poolSize>>>1;return i&&(t.parent=q),t}function m(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|e}function g(t,n){if(!(this instanceof g))return new g(t,n);var i=new e(t,n);return delete i.parent,i}function v(e,t){"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return n;case"utf8":case"utf-8":return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(i)return K(e).length;t=(""+t).toLowerCase(),i=!0}}function _(e,t,n){var i=!1;if(t=0|t,n=void 0===n||n===1/0?this.length:0|n,e||(e="utf8"),0>t&&(t=0),n>this.length&&(n=this.length),t>=n)return"";for(;;)switch(e){case"hex":return D(this,t,n);case"utf8":case"utf-8":return w(this,t,n);case"ascii":return N(this,t,n);case"binary":return k(this,t,n);case"base64":return I(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,n);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function E(e,t,n,i){n=Number(n)||0;var r=e.length-n;i?(i=Number(i),i>r&&(i=r)):i=r;var o=t.length;if(o%2!==0)throw new Error("Invalid hex string");i>o/2&&(i=o/2);for(var a=0;i>a;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[n+a]=s}return a}function S(e,t,n,i){return J(K(t,e.length-n),e,n,i)}function y(e,t,n,i){return J(G(t),e,n,i)}function b(e,t,n,i){return y(e,t,n,i)}function C(e,t,n,i){return J(z(t),e,n,i)}function T(e,t,n,i){return J(j(t,e.length-n),e,n,i)}function I(e,t,n){return 0===t&&n===e.length?Q.fromByteArray(e):Q.fromByteArray(e.slice(t,n))}function w(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;n>r;){var o=e[r],a=null,s=o>239?4:o>223?3:o>191?2:1;if(n>=r+s){var l,u,c,A;switch(s){case 1:128>o&&(a=o);break;case 2:l=e[r+1],128===(192&l)&&(A=(31&o)<<6|63&l,A>127&&(a=A));break;case 3:l=e[r+1],u=e[r+2],128===(192&l)&&128===(192&u)&&(A=(15&o)<<12|(63&l)<<6|63&u,A>2047&&(55296>A||A>57343)&&(a=A));break;case 4:l=e[r+1],u=e[r+2],c=e[r+3],128===(192&l)&&128===(192&u)&&128===(192&c)&&(A=(15&o)<<18|(63&l)<<12|(63&u)<<6|63&c,A>65535&&1114112>A&&(a=A))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,i.push(a>>>10&1023|55296),a=56320|1023&a),i.push(a),r+=s}return O(i)}function O(e){var t=e.length;if(X>=t)return String.fromCharCode.apply(String,e);for(var n="",i=0;t>i;)n+=String.fromCharCode.apply(String,e.slice(i,i+=X));return n}function N(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;n>r;r++)i+=String.fromCharCode(127&e[r]);return i}function k(e,t,n){var i="";n=Math.min(e.length,n);for(var r=t;n>r;r++)i+=String.fromCharCode(e[r]);return i}function D(e,t,n){var i=e.length;(!t||0>t)&&(t=0),(!n||0>n||n>i)&&(n=i);for(var r="",o=t;n>o;o++)r+=H(e[o]);return r}function M(e,t,n){for(var i=e.slice(t,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function P(e,t,n){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(t,n,i,r,o,a){if(!e.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(n>o||a>n)throw new RangeError("value is out of bounds");if(i+r>t.length)throw new RangeError("index out of range")}function x(e,t,n,i){0>t&&(t=65535+t+1);for(var r=0,o=Math.min(e.length-n,2);o>r;r++)e[n+r]=(t&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function R(e,t,n,i){0>t&&(t=4294967295+t+1);for(var r=0,o=Math.min(e.length-n,4);o>r;r++)e[n+r]=t>>>8*(i?r:3-r)&255}function B(e,t,n,i,r,o){if(t>r||o>t)throw new RangeError("value is out of bounds");if(n+i>e.length)throw new RangeError("index out of range");if(0>n)throw new RangeError("index out of range")}function U(e,t,n,i,r){return r||B(e,t,n,4,3.4028234663852886e38,-3.4028234663852886e38),Y.write(e,t,n,i,23,4),n+4}function F(e,t,n,i,r){return r||B(e,t,n,8,1.7976931348623157e308,-1.7976931348623157e308),Y.write(e,t,n,i,52,8),n+8}function V(e){if(e=W(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function W(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function H(e){return 16>e?"0"+e.toString(16):e.toString(16)}function K(e,t){t=t||1/0;for(var n,i=e.length,r=null,o=[],a=0;i>a;a++){if(n=e.charCodeAt(a),n>55295&&57344>n){if(!r){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(56320>n){(t-=3)>-1&&o.push(239,191,189),r=n;continue}n=(r-55296<<10|n-56320)+65536}else r&&(t-=3)>-1&&o.push(239,191,189);if(r=null,128>n){if((t-=1)<0)break;o.push(n)}else if(2048>n){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(65536>n){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(1114112>n))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function G(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t}function j(e,t){for(var n,i,r,o=[],a=0;a<e.length&&!((t-=2)<0);a++)n=e.charCodeAt(a),i=n>>8,r=n%256,o.push(r),o.push(i);return o}function z(e){return Q.toByteArray(V(e))}function J(e,t,n,i){for(var r=0;i>r&&!(r+n>=t.length||r>=e.length);r++)t[r+n]=e[r];return r}var Q=n(487),Y=n(494),Z=n(497);t.Buffer=e,t.SlowBuffer=g,t.INSPECT_MAX_BYTES=50,e.poolSize=8192;var q={};e.TYPED_ARRAY_SUPPORT=void 0!==i.TYPED_ARRAY_SUPPORT?i.TYPED_ARRAY_SUPPORT:r(),e.TYPED_ARRAY_SUPPORT?(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array):(e.prototype.length=void 0,e.prototype.parent=void 0),e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,n){if(!e.isBuffer(t)||!e.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var i=t.length,r=n.length,o=0,a=Math.min(i,r);a>o&&t[o]===n[o];)++o;return o!==a&&(i=t[o],r=n[o]),r>i?-1:i>r?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,n){if(!Z(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new e(0);var i;if(void 0===n)for(n=0,i=0;i<t.length;i++)n+=t[i].length;var r=new e(n),o=0;for(i=0;i<t.length;i++){var a=t[i];a.copy(r,o),o+=a.length}return r},e.byteLength=v,e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?w(this,0,e):_.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===e.compare(this,t)},e.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:e.compare(this,t)},e.prototype.indexOf=function(t,n){function i(e,t,n){for(var i=-1,r=0;n+r<e.length;r++)if(e[n+r]===t[-1===i?0:r-i]){if(-1===i&&(i=r),r-i+1===t.length)return n+i}else i=-1;return-1}if(n>2147483647?n=2147483647:-2147483648>n&&(n=-2147483648),n>>=0,0===this.length)return-1;if(n>=this.length)return-1;if(0>n&&(n=Math.max(this.length+n,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,n);if(e.isBuffer(t))return i(this,t,n);if("number"==typeof t)return e.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,n):i(this,[t],n);throw new TypeError("val must be string, number or Buffer")},e.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},e.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},e.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(n)?(n=0|n,void 0===i&&(i="utf8")):(i=n,n=void 0);else{var r=i;i=t,t=0|n,n=r}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(0>n||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return E(this,e,t,n);case"utf8":case"utf-8":return S(this,e,t,n);case"ascii":return y(this,e,t,n);case"binary":return b(this,e,t,n);case"base64":return C(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var X=4096;e.prototype.slice=function(t,n){var i=this.length;t=~~t,n=void 0===n?i:~~n,0>t?(t+=i,0>t&&(t=0)):t>i&&(t=i),0>n?(n+=i,0>n&&(n=0)):n>i&&(n=i),t>n&&(n=t);var r;if(e.TYPED_ARRAY_SUPPORT)r=e._augment(this.subarray(t,n));else{var o=n-t;r=new e(o,void 0);for(var a=0;o>a;a++)r[a]=this[a+t]}return r.length&&(r.parent=this.parent||this),r},e.prototype.readUIntLE=function(e,t,n){e=0|e,t=0|t,n||P(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},e.prototype.readUIntBE=function(e,t,n){e=0|e,t=0|t,n||P(e,t,this.length);for(var i=this[e+--t],r=1;t>0&&(r*=256);)i+=this[e+--t]*r;return i},e.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,n){e=0|e,t=0|t,n||P(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i},e.prototype.readIntBE=function(e,t,n){e=0|e,t=0|t,n||P(e,t,this.length);for(var i=t,r=1,o=this[e+--i];i>0&&(r*=256);)o+=this[e+--i]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*t)),o},e.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},e.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},e.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),Y.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),Y.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),Y.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),Y.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,n,i){e=+e,t=0|t,n=0|n,i||L(this,e,t,n,Math.pow(2,8*n),0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},e.prototype.writeUIntBE=function(e,t,n,i){e=+e,t=0|t,n=0|n,i||L(this,e,t,n,Math.pow(2,8*n),0);var r=n-1,o=1;for(this[t+r]=255&e;--r>=0&&(o*=256);)this[t+r]=e/o&255;return t+n},e.prototype.writeUInt8=function(t,n,i){return t=+t,n=0|n,i||L(this,t,n,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},e.prototype.writeUInt16LE=function(t,n,i){return t=+t,n=0|n,i||L(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):x(this,t,n,!0),n+2},e.prototype.writeUInt16BE=function(t,n,i){return t=+t,n=0|n,i||L(this,t,n,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):x(this,t,n,!1),n+2},e.prototype.writeUInt32LE=function(t,n,i){return t=+t,n=0|n,i||L(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):R(this,t,n,!0),n+4},e.prototype.writeUInt32BE=function(t,n,i){return t=+t,n=0|n,i||L(this,t,n,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):R(this,t,n,!1),n+4},e.prototype.writeIntLE=function(e,t,n,i){if(e=+e,t=0|t,!i){var r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}var o=0,a=1,s=0>e?1:0;for(this[t]=255&e;++o<n&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+n},e.prototype.writeIntBE=function(e,t,n,i){if(e=+e,t=0|t,!i){var r=Math.pow(2,8*n-1);L(this,e,t,n,r-1,-r)}var o=n-1,a=1,s=0>e?1:0;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=(e/a>>0)-s&255;return t+n},e.prototype.writeInt8=function(t,n,i){return t=+t,n=0|n,i||L(this,t,n,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[n]=255&t,n+1},e.prototype.writeInt16LE=function(t,n,i){return t=+t,n=0|n,i||L(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):x(this,t,n,!0),n+2},e.prototype.writeInt16BE=function(t,n,i){return t=+t,n=0|n,i||L(this,t,n,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):x(this,t,n,!1),n+2},e.prototype.writeInt32LE=function(t,n,i){return t=+t,n=0|n,i||L(this,t,n,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):R(this,t,n,!0),n+4},e.prototype.writeInt32BE=function(t,n,i){return t=+t,n=0|n,i||L(this,t,n,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):R(this,t,n,!1),n+4},e.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},e.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},e.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},e.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},e.prototype.copy=function(t,n,i,r){if(i||(i=0),r||0===r||(r=this.length),n>=t.length&&(n=t.length),n||(n=0),r>0&&i>r&&(r=i),r===i)return 0;if(0===t.length||0===this.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>i||i>=this.length)throw new RangeError("sourceStart out of bounds");if(0>r)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-n<r-i&&(r=t.length-n+i);var o,a=r-i;if(this===t&&n>i&&r>n)for(o=a-1;o>=0;o--)t[o+n]=this[o+i];else if(1e3>a||!e.TYPED_ARRAY_SUPPORT)for(o=0;a>o;o++)t[o+n]=this[o+i];else t._set(this.subarray(i,i+a),n);return a},e.prototype.fill=function(e,t,n){if(e||(e=0),t||(t=0),n||(n=this.length),t>n)throw new RangeError("end < start");if(n!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>n||n>this.length)throw new RangeError("end out of bounds");var i;if("number"==typeof e)for(i=t;n>i;i++)this[i]=e;else{var r=K(e.toString()),o=r.length;for(i=t;n>i;i++)this[i]=r[i%o]}return this}},e.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(e.TYPED_ARRAY_SUPPORT)return new e(this).buffer;for(var t=new Uint8Array(this.length),n=0,i=t.length;i>n;n+=1)t[n]=this[n];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var $=e.prototype;e._augment=function(t){return t.constructor=e,t._isBuffer=!0,t._set=t.set,t.get=$.get,t.set=$.set,t.write=$.write,t.toString=$.toString,t.toLocaleString=$.toString,t.toJSON=$.toJSON,t.equals=$.equals,t.compare=$.compare,t.indexOf=$.indexOf,t.copy=$.copy,t.slice=$.slice,t.readUIntLE=$.readUIntLE,t.readUIntBE=$.readUIntBE,t.readUInt8=$.readUInt8,t.readUInt16LE=$.readUInt16LE,t.readUInt16BE=$.readUInt16BE,t.readUInt32LE=$.readUInt32LE,t.readUInt32BE=$.readUInt32BE,t.readIntLE=$.readIntLE,t.readIntBE=$.readIntBE,t.readInt8=$.readInt8,t.readInt16LE=$.readInt16LE,t.readInt16BE=$.readInt16BE,t.readInt32LE=$.readInt32LE,t.readInt32BE=$.readInt32BE,t.readFloatLE=$.readFloatLE,t.readFloatBE=$.readFloatBE,t.readDoubleLE=$.readDoubleLE,t.readDoubleBE=$.readDoubleBE,t.writeUInt8=$.writeUInt8,t.writeUIntLE=$.writeUIntLE,t.writeUIntBE=$.writeUIntBE,t.writeUInt16LE=$.writeUInt16LE,t.writeUInt16BE=$.writeUInt16BE,t.writeUInt32LE=$.writeUInt32LE,t.writeUInt32BE=$.writeUInt32BE,t.writeIntLE=$.writeIntLE,t.writeIntBE=$.writeIntBE,t.writeInt8=$.writeInt8,t.writeInt16LE=$.writeInt16LE,t.writeInt16BE=$.writeInt16BE,t.writeInt32LE=$.writeInt32LE,t.writeInt32BE=$.writeInt32BE,t.writeFloatLE=$.writeFloatLE,t.writeFloatBE=$.writeFloatBE,t.writeDoubleLE=$.writeDoubleLE,t.writeDoubleBE=$.writeDoubleBE,t.fill=$.fill,t.inspect=$.inspect,t.toArrayBuffer=$.toArrayBuffer,t};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,n(103).Buffer,function(){return this}())},function(e,t,n){(function(){var n=this,i=n.humanize,r={};"undefined"!=typeof e&&e.exports&&(t=e.exports=r),t.humanize=r,r.noConflict=function(){return n.humanize=i,this},r.pad=function(e,t,n,i){if(e+="",n?n.length>1&&(n=n.charAt(0)):n=" ",i=void 0===i?"left":"right","right"===i)for(;e.length<t;)e+=n;else for(;e.length<t;)e=n+e;return e},r.time=function(){return(new Date).getTime()/1e3};var o=[0,0,31,59,90,120,151,181,212,243,273,304,334],a=[0,0,31,60,91,121,152,182,213,244,274,305,335];r.date=function(e,t){var n=void 0===t?new Date:t instanceof Date?new Date(t):new Date(1e3*t),i=/\\?([a-z])/gi,s=function(e,t){return c[e]?c[e]():t},l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],u=["January","February","March","April","May","June","July","August","September","October","November","December"],c={d:function(){return r.pad(c.j(),2,"0")},D:function(){return c.l().slice(0,3)},j:function(){return n.getDate()},l:function(){return l[c.w()]},N:function(){return c.w()||7},S:function(){var e=c.j();return e>4&&21>e?"th":{1:"st",2:"nd",3:"rd"}[e%10]||"th"},w:function(){return n.getDay()},z:function(){return(c.L()?a[c.n()]:o[c.n()])+c.j()-1},W:function(){var e=c.z()-c.N()+1.5;return r.pad(1+Math.floor(Math.abs(e)/7)+(e%7>3.5?1:0),2,"0")},F:function(){return u[n.getMonth()]},m:function(){return r.pad(c.n(),2,"0")},M:function(){return c.F().slice(0,3)},n:function(){return n.getMonth()+1},t:function(){return new Date(c.Y(),c.n(),0).getDate()},L:function(){return 1===new Date(c.Y(),1,29).getMonth()?1:0},o:function(){var e=c.n(),t=c.W();return c.Y()+(12===e&&9>t?-1:1===e&&t>9)},Y:function(){return n.getFullYear()},y:function(){return String(c.Y()).slice(-2)},a:function(){return n.getHours()>11?"pm":"am"},A:function(){return c.a().toUpperCase()},B:function(){var e=n.getTime()/1e3,t=e%86400+3600;0>t&&(t+=86400);var i=t/86.4%1e3;return 0>e?Math.ceil(i):Math.floor(i)},g:function(){return c.G()%12||12},G:function(){return n.getHours()},h:function(){return r.pad(c.g(),2,"0")},H:function(){return r.pad(c.G(),2,"0")},i:function(){return r.pad(n.getMinutes(),2,"0")},s:function(){return r.pad(n.getSeconds(),2,"0")},u:function(){return r.pad(1e3*n.getMilliseconds(),6,"0")},O:function(){var e=n.getTimezoneOffset(),t=Math.abs(e);return(e>0?"-":"+")+r.pad(100*Math.floor(t/60)+t%60,4,"0")},P:function(){var e=c.O();return e.substr(0,3)+":"+e.substr(3,2)},Z:function(){return 60*-n.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(i,s)},r:function(){return"D, d M Y H:i:s O".replace(i,s)},U:function(){return n.getTime()/1e3||0}};return e.replace(i,s)},r.numberFormat=function(e,t,n,i){t=isNaN(t)?2:Math.abs(t),n=void 0===n?".":n,i=void 0===i?",":i;var r=0>e?"-":"";e=Math.abs(+e||0);var o=parseInt(e.toFixed(t),10)+"",a=o.length>3?o.length%3:0;return r+(a?o.substr(0,a)+i:"")+o.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+i)+(t?n+Math.abs(e-o).toFixed(t).slice(2):"")},r.naturalDay=function(e,t){e=void 0===e?r.time():e,t=void 0===t?"Y-m-d":t;var n=86400,i=new Date,o=new Date(i.getFullYear(),i.getMonth(),i.getDate()).getTime()/1e3;return o>e&&e>=o-n?"yesterday":e>=o&&o+n>e?"today":e>=o+n&&o+2*n>e?"tomorrow":r.date(t,e)},r.relativeTime=function(e){e=void 0===e?r.time():e;var t=r.time(),n=t-e;if(2>n&&n>-2)return(n>=0?"just ":"")+"now";if(60>n&&n>-60)return n>=0?Math.floor(n)+" seconds ago":"in "+Math.floor(-n)+" seconds";if(120>n&&n>-120)return n>=0?"about a minute ago":"in about a minute";if(3600>n&&n>-3600)return n>=0?Math.floor(n/60)+" minutes ago":"in "+Math.floor(-n/60)+" minutes";if(7200>n&&n>-7200)return n>=0?"about an hour ago":"in about an hour";if(86400>n&&n>-86400)return n>=0?Math.floor(n/3600)+" hours ago":"in "+Math.floor(-n/3600)+" hours";var i=172800;if(i>n&&n>-i)return n>=0?"1 day ago":"in 1 day";var o=2505600;if(o>n&&n>-o)return n>=0?Math.floor(n/86400)+" days ago":"in "+Math.floor(-n/86400)+" days";var a=5184e3;if(a>n&&n>-a)return n>=0?"about a month ago":"in about a month";var s=parseInt(r.date("Y",t),10),l=parseInt(r.date("Y",e),10),u=12*s+parseInt(r.date("n",t),10),c=12*l+parseInt(r.date("n",e),10),A=u-c;if(12>A&&A>-12)return A>=0?A+" months ago":"in "+-A+" months";var d=s-l;return 2>d&&d>-2?d>=0?"a year ago":"in a year":d>=0?d+" years ago":"in "+-d+" years"},r.ordinal=function(e){e=parseInt(e,10),e=isNaN(e)?0:e;var t=0>e?"-":"";e=Math.abs(e);var n=e%100;return t+e+(n>4&&21>n?"th":{1:"st",2:"nd",3:"rd"}[e%10]||"th")},r.filesize=function(e,t,n,i,o,a){return t=void 0===t?1024:t,0>=e?"0 bytes":(t>e&&void 0===n&&(n=0),void 0===a&&(a=" "),r.intword(e,["bytes","KB","MB","GB","TB","PB"],t,n,i,o,a))},r.intword=function(e,t,n,i,o,a,s){var l,u;t=t||["","K","M","B","T"],u=t.length-1,n=n||1e3,i=isNaN(i)?2:Math.abs(i),o=o||".",a=a||",",s=s||"";for(var c=0;c<t.length;c++)if(e<Math.pow(n,c+1)){u=c;break}l=e/Math.pow(n,u);var A=t[u]?s+t[u]:"";return r.numberFormat(l,i,o,a)+A},r.linebreaks=function(e){return e=e.replace(/^([\n|\r]*)/,""),e=e.replace(/([\n|\r]*)$/,""),e=e.replace(/(\r\n|\n|\r)/g,"\n"),e=e.replace(/(\n{2,})/g,"</p><p>"),e=e.replace(/\n/g,"<br />"),"<p>"+e+"</p>"},r.nl2br=function(e){return e.replace(/(\r\n|\n|\r)/g,"<br />")},r.truncatechars=function(e,t){return e.length<=t?e:e.substr(0,t)+"…"},r.truncatewords=function(e,t){var n=e.split(" ");return n.length<t?e:n.slice(0,t).join(" ")+"…"}}).call(this)},function(e,t,n){(function(e,i){var r=n(141),o={"function":!0,object:!0},a=o[typeof t]&&t&&!t.nodeType?t:void 0,s=o[typeof e]&&e&&!e.nodeType?e:void 0,l=r(a&&s&&"object"==typeof i&&i),u=r(o[typeof self]&&self),c=r(o[typeof window]&&window),A=r(o[typeof this]&&this),d=l||c!==(A&&A.window)&&c||u||A||Function("return this")();e.exports=d}).call(t,n(57)(e),function(){return this}())},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-284 407.9 26 26">\r\n  <path d="M-273.3 417.9l.6 1 .6 1h5.1v4h-8v-6h1.7m1.1-2h-3.6c-.7 0-1.2.6-1.2 1.2v7.5c0 .7.5 1.2 1.2 1.2h9.6c.7 0 1.2-.6 1.2-1.2v-5.9c0-.7-.5-.9-1.2-.9h-4.8l-1.2-1.9z"/>\r\n</svg>'},function(e,t,n){"use strict";function i(){if(s)for(var e in l){var t=l[e],n=s.indexOf(e);if(n>-1?void 0:a(!1),!u.plugins[n]){t.extractEvents?void 0:a(!1),u.plugins[n]=t;var i=t.eventTypes;for(var o in i)r(i[o],t,o)?void 0:a(!1)}}}function r(e,t,n){u.eventNameDispatchConfigs.hasOwnProperty(n)?a(!1):void 0,u.eventNameDispatchConfigs[n]=e;var i=e.phasedRegistrationNames;if(i){for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];o(s,t,n)}return!0}return e.registrationName?(o(e.registrationName,t,n),!0):!1}function o(e,t,n){u.registrationNameModules[e]?a(!1):void 0,u.registrationNameModules[e]=t,u.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=n(12),s=null,l={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){s?a(!1):void 0,s=Array.prototype.slice.call(e),i()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];l.hasOwnProperty(n)&&l[n]===r||(l[n]?a(!1):void 0,l[n]=r,t=!0)}t&&i()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return u.registrationNameModules[t.registrationName]||null;for(var n in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(n)){var i=u.registrationNameModules[t.phasedRegistrationNames[n]];if(i)return i}return null},_resetEventPlugins:function(){s=null;for(var e in l)l.hasOwnProperty(e)&&delete l[e];u.plugins.length=0;var t=u.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var i=u.registrationNameModules;for(var r in i)i.hasOwnProperty(r)&&delete i[r]}};e.exports=u},function(e,t,n){"use strict";var i=n(20),r=n(244),o=n(246),a=n(245),s=n(635),l=n(39),u=(n(251),n(260)),c=n(262),A=n(272),d=(n(14),l.createElement),h=l.createFactory,p=l.cloneElement,f=i,m={Children:{map:r.map,forEach:r.forEach,count:r.count,toArray:r.toArray,only:A},Component:o,createElement:d,cloneElement:p,isValidElement:l.isValidElement,PropTypes:u,createClass:a.createClass,createFactory:h,createMixin:function(e){return e},DOM:s,version:c,__spread:f};e.exports=m},function(e,t,n){"use strict";function i(e){return Object.prototype.hasOwnProperty.call(e,m)||(e[m]=p++,d[e[m]]={}),d[e[m]]}var r,o=n(20),a=n(47),s=n(107),l=n(649),u=n(263),c=n(269),A=n(175),d={},h=!1,p=0,f={topAbort:"abort",topAnimationEnd:c("animationend")||"animationend",topAnimationIteration:c("animationiteration")||"animationiteration",topAnimationStart:c("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:c("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},m="_reactListenersID"+String(Math.random()).slice(2),g=o({},l,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(g.handleTopLevel),g.ReactEventListener=e}},setEnabled:function(e){g.ReactEventListener&&g.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!g.ReactEventListener||!g.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,r=i(n),o=s.registrationNameDependencies[e],l=a.topLevelTypes,u=0;u<o.length;u++){var c=o[u];r.hasOwnProperty(c)&&r[c]||(c===l.topWheel?A("wheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",n):A("mousewheel")?g.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",n):g.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",n):c===l.topScroll?A("scroll",!0)?g.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",n):g.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",g.ReactEventListener.WINDOW_HANDLE):c===l.topFocus||c===l.topBlur?(A("focus",!0)?(g.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",n),g.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",n)):A("focusin")&&(g.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",n),g.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",n)),r[l.topBlur]=!0,r[l.topFocus]=!0):f.hasOwnProperty(c)&&g.ReactEventListener.trapBubbledEvent(c,f[c],n),r[c]=!0)}},trapBubbledEvent:function(e,t,n){return g.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return g.ReactEventListener.trapCapturedEvent(e,t,n)},ensureScrollValueMonitoring:function(){if(void 0===r&&(r=document.createEvent&&"pageX"in document.createEvent("MouseEvent")),!r&&!h){var e=u.refreshScrollValues;g.ReactEventListener.monitorScrollValue(e),h=!0}}});e.exports=g},function(e,t,n){"use strict";var i=n(646);e.exports={debugTool:i}},function(e,t,n){"use strict";var i={};e.exports=i},function(e,t,n){"use strict";var i=n(116),r=i({prop:null,context:null,childContext:null});e.exports=r},function(e,t,n){"use strict";function i(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(94),o=n(263),a=n(172),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};r.augmentClass(i,s),e.exports=i},function(e,t){"use strict";function n(e){return r[e]}function i(e){return(""+e).replace(o,n)}var r={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},o=/[&><"']/g;e.exports=i},function(e,t,n){"use strict";var i={};e.exports=i},function(e,t,n){"use strict";var i=n(12),r=function(e){var t,n={};e instanceof Object&&!Array.isArray(e)?void 0:i(!1);for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};e.exports=r},function(e,t,n){"use strict";var i=n(9),r=n(5),o={addMessages:function(e,t,n){i.handleViewAction({actionType:r.MAIL_ADD_MESSAGES,accountId:e,path:t,messages:n})},removeMessages:function(e,t,n){i.handleViewAction({actionType:r.MAIL_REMOVE_MESSAGES,accountId:e,path:t,uids:n})},updateMessages:function(e,t,n){i.handleViewAction({actionType:r.MAIL_UPDATE_MESSAGES,accountId:e,path:t,updates:n})},filterSelected:function(){i.handleViewAction({actionType:r.MAIL_FILTER_SELECTED})},addFolders:function(e){
i.handleViewAction({actionType:r.MAIL_ADD_FOLDERS,folders:e})},selectFolder:function(e){i.handleViewAction({actionType:r.MAIL_SELECT_FOLDER,folder:e})},clearFolders:function(){i.handleViewAction({actionType:r.MAIL_CLEAR_FOLDERS})},initializeSearchListStore:function(){i.handleViewAction({actionType:r.MAIL_MESSAGES_INIT})},initializeContactStore:function(){i.handleViewAction({actionType:r.CONTACT_INITIALIZE})},saveContact:function(e){i.handleViewAction({actionType:r.CONTACT_SAVE_CONTACT,contact:e})},addContacts:function(e){i.handleViewAction({actionType:r.CONTACT_ADD_CONTACTS,contacts:e})},selectContact:function(e){i.handleViewAction({actionType:r.CONTACT_SELECT_CONTACT,contact:e})},deleteContact:function(e){i.handleViewAction({actionType:r.CONTACT_DELETE_CONTACT,contact:e})}};e.exports=o},function(e,t,n){"use strict";var i=n(101),r=n(15),o=n(9),a=n(5),s=n(4),l=n(8),u={emptyTrash:function(){l.utilities.clearAllRecentlyClosedSessions()},undeleteTab:function(e){var t=i.tabToPage(e);t&&r.setIsRestored(t,!0),s.sessions.restore(e.sessionId,function(e){return s.runtime.lastError?void console.warn("Error restoring tab: ",e.tab,s.runtime.lastError):void 0})},undeletePreviousTab:function(){s.sessions.restore()},restoreWindow:function(e){s.sessions.restore(e.sessionId,function(t){s.runtime.lastError&&console.warn("Error restoring page: ",e,s.runtime.lastError.message)})},setTrash:function(e,t){o.handleViewAction({actionType:a.TRASH_SET_STATE,page:e,trashState:t})},loadPromise:function(){return new Promise(function(e,t){return s.sessions.getRecentlyClosed(function(t){o.handleViewAction({actionType:a.CHROME_SET_SESSION,session:t}),e()})})}};s.sessions.onChanged.addListener(u.loadPromise),e.exports=u},function(e,t){"use strict";var n=function(){},i={addListener:n,removeListener:n},r={bookmarksPrivate:{emptyTrash:n,updateSpeedDialsForWindowsJumplist:n},historySearch:{dbSearch:n},importData:{getBlockThirdPartyCookies:n,getDefaultContentSettings:n,getProfiles:n,getStartupAction:n,isVivaldiDefaultBrowser:n,launchNetworkSettings:n,onImportBegan:i,onImportEnded:i,onImportItemEnded:i,onImportItemStarted:i,onImportStarted:i,openPage:n,openTaskManager:n,savePage:n,setBlockThirdPartyCookies:n,setDefaultContentSettings:n,setStartupAction:n,setVivaldiAsDefaultBrowser:n,setVivaldiLanguage:n,showDevTools:n,startImport:n},notes:{create:n,emptyTrash:n,get:n,getTree:n,move:n,onChanged:i,onCreated:i,onRemoved:i,onMoved:i,remove:n,search:n,update:n},runtimePrivate:{exit:n},sessionsPrivate:{"delete":n,getAll:n,open:n,saveOpenTabs:n},settings:{getPreference:n,getAllPreferences:n,onChanged:i,setPreference:n,togglePreference:n},showMenu:{create:n,onOpen:n,onMainMenuCommand:i,onUrlHighlighted:i},tabsPrivate:{get:n,onCreated:i,onRemoved:i,onUpdated:i,onMoved:i,onActivated:i,onDetached:i,onAttached:i,onReplaced:i,update:n},thumbnails:{isThumbnailAvailable:n},utilities:{clearAllRecentlyClosedSessions:n,getAvailablePageEncodings:n,isTabInLastSession:n,isUrlValid:n},zoom:{getDefaultZoom:n,getVivaldiUIZoom:n,onDefaultZoomChanged:i,setDefaultZoom:n,setVivaldiUIZoom:n}};e.exports=r},function(e,t,n){"use strict";var i=n(1),r=n(13),o=n(58),a=n(35),s=n(25),l=n(304),u=n(6),c=i.createClass({displayName:"Menu",propTypes:{items:i.PropTypes.array.isRequired},getInitialState:function(){return{selectedItem:null,selectedItemIndex:-1,open:this.props.open||!1,underlinedChars:{},underlinedCharPositions:[],shortcuts:[],showAccelerator:!1,hasOpenSubmenu:!0}},componentWillMount:function(){this.initializeUnderlinedChars()},componentDidMount:function(){a.addChangeListener(this._onCommandStoreChange),window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp),window.addEventListener("blur",this.hideAccelerator)},componentWillUnmount:function(){a.removeChangeListener(this._onCommandStoreChange),window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp),window.removeEventListener("blur",this.hideAccelerator)},_onCommandStoreChange:function(){this.initializeUnderlinedChars()},onKeyDown:function(e){this.state.showAccelerator&&this.setState({showAccelerator:!1}),e.keyCode===s.KEY_ALT&&this.setState({showAccelerator:!0})},onKeyUp:function(e){this.state.showAccelerator&&this.setState({showAccelerator:!1})},hideAccelerator:function(){this.setState({showAccelerator:!1})},menuWillOpen:function(){this.hideAccelerator(),this.setState({hasOpenSubmenu:!0})},menuDidClose:function(){this.setState({hasOpenSubmenu:!1})},moveInsideViewport:function(){var e=r.findDOMNode(this),t=e.getBoundingClientRect(),n=20,i=Math.min(window.innerWidth-t.right,0),o=Math.min(window.innerHeight-t.bottom,0);if(0>i||0>o){var a=e.parentNode.parentNode.parentNode;if(-n>i&&a.classList.contains("menu")){var s=a.getBoundingClientRect();s.left-n>window.innerWidth-s.right&&(i=-t.width-s.width)}var l=window.getComputedStyle(e).transform;"none"!==l&&(l=l.split(","),i+=parseInt(l[4]),o+=parseInt(l[5])),t.left+i<0&&(i=-t.left),e.style.transform="translate("+i+"px, "+o+"px)"}else e.style.transform=""},componentWillReceiveProps:function(e){this.props.items!==e.items&&this.initializeUnderlinedChars(e.items)},initializeUnderlinedChars:function(e){var t=e||this.props.items,n={},i=[],r=[],o=[];Object.keys(a.getCommandShortcuts()).forEach(function(e){e.includes("alt+")&&5===e.length&&o.push(e)}),t.forEach(function(e,t){if(!e.name||"---"===e.name||e.disabled)return i.push(-1),void r.push("");for(var a=!1,s=0,l="",u=0;!a;)if(u=e.name.toUpperCase().charCodeAt(s),n.hasOwnProperty(u))e.name.length===s+1&&(a=!0),s+=1;else{if(l="alt+"+String.fromCharCode(u).toLowerCase(),!o.includes(l))break;e.name.length===s+1&&(a=!0),s+=1}a?(i.push(-1),r.push("")):(n[u]=t,i.push(s),r.push(l))}),this.setState({underlinedChars:n,underlinedCharPositions:i,shortcuts:r})},takeFocus:function(e){this.props.platformPopups!==!0&&(e&&e.stopPropagation&&e.stopPropagation(),r.findDOMNode(this).querySelector(".menu .focusTrap").focus())},giveFocusToSubMenu:function(){this.props.platformPopups!==!0&&r.findDOMNode(this).querySelector(".menu .menu .focusTrap").focus()},giveFocusToParentMenu:function(){this.props.platformPopups!==!0&&(this.props.giveFocusToParentMenu?(this.props.giveFocusToParentMenu(),this.setState({selectedItemIndex:-1})):this.state.open?this.collapse(!0):r.findDOMNode(this).querySelector(".menu .focusTrap").blur())},onKeyboardFocusIn:function(){r.findDOMNode(this).addEventListener("keydown",this.handleKeyboardNavigation),(this.props.subMenu||this.props.horizontal)&&-1===this.state.selectedItemIndex&&this.setSelected(0)},onKeyboardFocusOut:function(){r.findDOMNode(this).removeEventListener("keydown",this.handleKeyboardNavigation)},handleKeyboardNavigation:function(e){if(e.which===s.KEY_RETURN)this.onItemSelected(this.state.selectedItem);else if(e.which===s.KEY_ESCAPE)this.giveFocusToParentMenu();else if(e.which===s.KEY_LEFT)this.props.horizontal?this.selectPreviousItem():this.giveFocusToParentMenu();else if(e.which===s.KEY_UP)this.props.horizontal?this.giveFocusToParentMenu():this.selectPreviousItem();else if(e.which===s.KEY_RIGHT)this.props.horizontal?this.selectNextItem():this.giveFocusToSubMenu();else if(e.which===s.KEY_DOWN)this.props.horizontal?(this.giveFocusToSubMenu(),this.state.open||this.setState({open:!0})):this.selectNextItem();else if(this.state.underlinedChars.hasOwnProperty(e.keyCode)){var t=this.state.underlinedChars[e.keyCode];this.setSelected(t),this.onItemSelected(this.props.items[t])}else this.props.horizontal||(e.preventDefault(),e.stopPropagation())},selectNextItem:function(){var e=this.getMaxMenuIndex(),t=this.state.selectedItemIndex;do t=t===e?0:t+1;while("---"===this.props.items[t].name||this.props.items[t].disabled);this.setSelected(t)},selectPreviousItem:function(){var e=this.getMaxMenuIndex(),t=this.state.selectedItemIndex;do t=1>t?e:t-1;while("---"===this.props.items[t].name||this.props.items[t].disabled);this.setSelected(t)},getMaxMenuIndex:function(){return this.props.items.length-1},setSelected:function(e){"---"!==this.props.items[e].name&&e<=this.getMaxMenuIndex()&&!this.props.items[e].disabled&&this.setState({selectedItem:this.props.items[e],selectedItemIndex:e})},collapse:function(e){e===!0?(this.setState({open:!1}),this.props.giveFocusToParentMenu||"function"!=typeof this.props.onClosed||this.props.onClosed()):window.setTimeout(function(){"focusTrap"!==document.activeElement.className&&(this.setState({open:!1}),"function"==typeof this.props.onClosed&&this.props.onClosed())}.bind(this),100)},onClicked:function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.target.focus(),this.setState({open:!this.state.open})},onItemSelected:function(e,t){var n=!1;this.props.horizontal?this.setState({open:!this.state.open}):e.items?this.giveFocusToSubMenu():e.commandName?(o.runAction(e),n=!0):"function"==typeof e.onclick?(e.onclick(e,t),n=!0):"function"==typeof e.handler?(e.handler(t),n=!0):"function"==typeof this.props.onItemSelected&&this.props.onItemSelected(e,t),n&&this.onClosed()},onClosed:function(){this.collapse(!0),"function"==typeof this.props.onClosed&&this.props.onClosed()},renderMenu:function(){var e=this.props.platformPopups?this.state.showAccelerator:!0;return this.props.items.map(function(t,n){return i.createElement(l,{isSelected:this.state.selectedItemIndex===n,setSelected:this.setSelected,key:n,nr:n,menuItem:t,onItemSelected:this.onItemSelected,onClosed:this.onClosed,giveFocusToParentMenu:this.takeFocus,underlinedCharPosition:e?this.state.underlinedCharPositions[n]:-1,menuShortcut:this.state.shortcuts[n],menuWillOpen:this.menuWillOpen,menuDidClose:this.menuDidClose,onDeleted:this.props.onDeleted,platformPopups:this.props.platformPopups})}.bind(this))},render:function(){return i.createElement("nav",{className:u({"platform-popups":this.props.platformPopups,menu:!0,horizontal:this.props.horizontal,opensubmenu:this.state.hasOpenSubmenu,open:this.state.open}),style:this.props.minWidth?{minWidth:this.props.minWidth}:{},onMouseOver:this.takeFocus,onMouseDown:this.onClicked,onMouseUp:this.onClicked,onBlur:this.collapse,tabIndex:"-1"},(this.state.open||this.props.horizontal)&&i.createElement("input",{type:"text",className:"focusTrap",autoFocus:!this.props.subMenu&&!this.props.horizontal,onFocus:this.onKeyboardFocusIn,onBlur:this.onKeyboardFocusOut}),i.createElement("ul",null,this.renderMenu()))}});e.exports=c},function(e,t,n){"use strict";function i(e){e?"string"==typeof e?(this.id=o(),this.address=e):(this.id=e.id||o(),this.address=e.address,this.photo=e.photo,this.name=e.name,this.phone=e.phone,this.postal=e.postal):this.id=o()}var r=n(329),o=n(310);i.prototype={defaultPhoto:"/resources/panel-contacts-active.png",toString:function(){return r(this)},isEmpty:function(){return!(this.address||this.photo||this.name||this.phone||this.postal)},getAsJSON:function(){return{id:this.id,photo:this.photo,name:this.name,address:this.address,phone:this.phone,postal:this.postal}}},e.exports=i},function(e,t,n){"use strict";var i=n(1),r=n(2),o=function(e){var t=e.onDialogClosed,n=e.onChange;return i.createElement("section",null,i.createElement("input",{type:"button",className:"primary",onClick:t,value:r("OK"),autoFocus:!0}),i.createElement("input",{type:"button",onClick:n,value:r("Change")}))};e.exports=o},function(e,t,n){"use strict";var i=n(3),r=n(63),o="chrome://favicon/",a="webview-",s="webpanel",l={addByUrl:function(e){var t=a+r();return i.get("WEB_PANEL_LIST",function(n){void 0===n&&(n=[]),n.push({id:t,contentUrl:e,mobileMode:!0,title:"",faviconUrl:"",available:!0}),i.set({WEB_PANEL_LIST:n})}.bind(this)),t},removeById:function(e){i.get("WEB_PANEL_LIST",function(t){if(void 0!==t){for(var n=[],r=0;r<t.length;r++){var o=t[r];o.id!==e&&n.push(o)}i.set({WEB_PANEL_LIST:n})}}.bind(this))},setMobileMode:function(e,t){i.get("WEB_PANEL_LIST",function(n){if(void 0!==n){for(var r=[],o=0;o<n.length;o++){var a=n[o];a.id===e&&(a.mobileMode=t),r.push(a)}i.set({WEB_PANEL_LIST:r})}}.bind(this))},setAvailable:function(e,t){i.get("WEB_PANEL_LIST",function(n){if(void 0!==n){for(var r=[],o=0;o<n.length;o++){var a=n[o];a.id===e&&(a.available=t),r.push(a)}i.set({WEB_PANEL_LIST:r})}}.bind(this))},setTitle:function(e,t){i.get("WEB_PANEL_LIST",function(n){if(void 0!==n){for(var r=[],o=0;o<n.length;o++){var a=n[o];a.id===e&&(a.title=t),r.push(a)}i.set({WEB_PANEL_LIST:r})}}.bind(this))},copyWebPanelAdress:function(e){i.get("WEB_PANEL_LIST",function(t){if(void 0!==t)for(var n=0;n<t.length;n++){var i=t[n];if(i.id===e){var r=function(e){e.clipboardData.setData("text/plain",i.contentUrl),e.preventDefault()};document.addEventListener("copy",r),document.execCommand("copy"),document.removeEventListener("copy",r);break}}}.bind(this))},getIndexByShortcut:function(e){var t=s.length,n=e.substr(0,t),i=e.substr(t).trim();return n===s&&i>=1&&9>=i?i:-1},showWebPanelTitle:function(e){i.set({SHOW_WEB_PANEL_TITLE:e})},getPanelPrefix:function(){return a},getFaviconPrefix:function(){return o}};e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(18),a=o.range,s=n(2),l=n(25),u=parseInt(1e7*Math.random()),c=i.createClass({displayName:"ZoomIndicator",mixins:[r],propTypes:{onZoomUpdated:i.PropTypes.func.isRequired,maxLevel:i.PropTypes.number.isRequired,minLevel:i.PropTypes.number.isRequired,step:i.PropTypes.number.isRequired,initialZoom:i.PropTypes.number},getInitialState:function(){return{zoom:this.props.initialZoom||1,editing:!1}},componentWillReceiveProps:function(e){e.initialZoom&&this.setState({zoom:e.initialZoom})},forceZoomState:function(e){this.setState({zoom:this.rangeCheck(e)})},updateZoomLevel:function(){var e=parseFloat(this.state.zoom);this.setZoomLevel(e)},setZoomLevel:function(e){var t=this.rangeCheck(e);this.setState({zoom:this.rangeCheck(e),editing:!1}),this.props.onZoomUpdated(t)},resetZoom:function(){this.props.onZoomReset?this.props.onZoomReset():this.setZoomLevel(1)},rangeChanged:function(e){this.setState({zoom:e.target.value})},rangeCheck:function(e){return Math.min(Math.max(e,this.props.minLevel),this.props.maxLevel)},zoomInStep:function(){this.setZoomLevel(parseFloat(this.state.zoom+this.props.step).toFixed(2))},zoomOutStep:function(){this.setZoomLevel(parseFloat(this.state.zoom-this.props.step).toFixed(2))},zoomHalf:function(){this.setZoomLevel(parseFloat((this.state.zoom/2).toFixed(2)))},zoomDouble:function(){this.setZoomLevel(parseFloat((2*this.state.zoom).toFixed(2)))},handleKeyDown:function(e){37===e.keyCode?(this.zoomOutStep(),e.preventDefault()):39===e.keyCode&&(this.zoomInStep(),e.preventDefault())},renderTicks:function(){return a(this.props.minLevel,this.props.maxLevel+this.props.step,this.props.step).map(function(e){return i.createElement("option",{key:e},Math.round(100*e)/100)})},_onEditKeyDown:function(e){if(e.keyCode===l.KEY_ESCAPE)this.setState({editing:!1});else if(e.keyCode===l.KEY_RETURN){var t=this.refs.editZoom.value/100;0!==t&&t===parseFloat(t)||(t=1),this.setZoomLevel(t)}},toggleEditZoom:function(){var e=this;this.props.disabled||this.setState({editing:!this.state.editing},function(){e.refs.editZoom.select()})},_onEditZoomBlur:function(){this.setState({editing:!1})},render:function(){var e=this.state.zoom,t=void 0;t=this.state.editing?i.createElement("input",{type:"number",ref:"editZoom",defaultValue:Math.round(100*this.state.zoom),onKeyDown:this._onEditKeyDown,onBlur:this._onEditZoomBlur,step:"1",disabled:this.props.disabled}):i.createElement("span",{className:"zoom-percent",onClick:this.toggleEditZoom},Math.round(100*e)+" %");var n=this.props.disabled||(this.props.defaultZoomLevel?this.props.defaultZoomLevel===e:1===e);return i.createElement("div",{className:"zoom-control"},this.props.inFooter?i.createElement("button",{className:"zoom-reset button-toolbar-small",tabIndex:this.props.keyAccess,onClick:this.resetZoom,title:s("Reset zoom"),disabled:n},s("Reset")):i.createElement("input",{className:"zoom-reset",type:"button",tabIndex:this.props.keyAccess,onClick:this.resetZoom,title:s("Reset zoom"),disabled:n,value:s("Reset")}),i.createElement("input",{type:"range",min:this.props.minLevel,max:this.props.maxLevel,step:this.props.step,onMouseUp:this.updateZoomLevel,onChange:this.rangeChanged,onKeyDown:this.handleKeyDown,value:e,disabled:this.props.disabled,tabIndex:this.props.keyAccess,list:"ticks-"+u}),i.createElement("datalist",{id:"ticks-"+u},this.renderTicks()),t)}});e.exports=c},function(e,t){"use strict";var n={kVivaldiTabZoom:"vivaldi.tab_zoom_enabled",kVivaldiHomepage:"vivaldi.home_page"};e.exports=n},function(e,t,n){"use strict";function i(e,t){return l.parse(e).hostname===l.parse(t).hostname}function r(e,t,n,r){e.rewindHistory||(e.rewindHistory=[],e.rewindIndexes=[]);var o=e.prev&&e.prev.url&&i(e.prev.url,t.url);return n!==r.length-1&&(e.prev&&!o&&n<r.length-1?(r.length-1-n>1&&(e.rewindHistory.length>0&&i(e.rewindHistory[e.rewindHistory.length-1].url,e.prev.url)&&e.rewindHistory[e.rewindHistory.length-1].url!==e.prev.url?(e.rewindHistory.push(e.prev),e.rewindIndexes.push(r.length-n-2)):i(r[r.length-1].url,e.prev.url)&&r[r.length-1].url!==e.prev.url&&(e.rewindHistory.push(e.prev),e.rewindIndexes.push(r.length-n-2))),e.rewindHistory.push(t),e.rewindIndexes.push(r.length-n-1)):0===n&&r.length>0&&(e.rewindHistory.push(t),e.rewindIndexes.push(r.length-n-1))),e.prev=t,e}var o=n(9),a=n(5),s=n(17).EventEmitter,l=n(29),u={},c={},A=Object.assign({},s.prototype,{getFastForwardUrl:function(e){return(u[e.get("id")]||c).forwardUrl||""},getRewindRelativeIndex:function(e){if(u[e.get("id")]){var t=u[e.get("id")].rewindIndexes;if(Array.isArray(t)&&t.length>0)return t[0]}return 0},getRewindHistory:function(e){return(u[e.get("id")]||c).rewindHistory},getRewindIndexes:function(e){return(u[e.get("id")]||c).rewindIndexes},emitChange:function(){this.emit(a.CHANGED)},addChangeListener:function(e){this.on(a.CHANGED,e)},removeChangeListener:function(e){this.removeListener(a.CHANGED,e)},setFastForwardInfo:function(e){"number"==typeof e.pageId&&(u[e.pageId]=Object.assign({},u[e.pageId],{forwardUrl:e.forwardUrl}),A.emitChange())},_pageHistoryToRewindHistory:function(e,t,n){n=n.slice(0,t+1);var i=n.reduceRight(r,{});return i},setRewindInfo:function(e){var t=this._pageHistoryToRewindHistory(e.currentHostname,e.currentIndex,e.history),n=t.rewindHistory,i=t.rewindIndexes;u[e.pageId]=Object.assign({},u[e.pageId],{rewindHistory:n,rewindIndexes:i}),A.emitChange()}});o.register(function(e){var t=e.action;switch(t.actionType){case a.FAST_FORWARD_SET_FORWARD_INFO:A.setFastForwardInfo(t);break;case a.CHROME_TABS_UPDATED:"loading"===t.args[1].status&&A.setFastForwardInfo({pageId:t.args[2].id,forwardUrl:""});break;case a.FAST_FORWARD_SET_REWIND_INFO:A.setRewindInfo(t);break;default:return!0}return!0}),e.exports=A},function(e,t,n){"use strict";var i=n(9),r=n(5),o=n(16),a=n(17).EventEmitter,s=n(4),l="change",u=null,c=Object.assign({},a.prototype,{emitChange:function(){this.emit(l)},emitChangeParam:function(e){this.emit(l,e)},addChangeListener:function(e){this.on(l,e)},removeChangeListener:function(e){this.removeListener(l,e)},getCurrentTabID:function(){var e=o.getActivePage();return e?e.get("id"):-1},getCurrentPage:function(){return o.getActivePage()},getWindowID:function(){return window.vivaldiWindowId}});i.register(function(e){var t=e.action;switch(t.actionType){case r.MAIN_FULLSCREEN:c.emitChangeParam({action:"fullscreen",url:""});break;case r.MAIN_SHOW_QUICKCOMMANDS:c.emitChangeParam({action:"quickcommand",url:""});break;case r.MAIN_SHOW_KEYBOARDS_SHORTCUTS:c.emitChangeParam({type:r.MAIN_SHOW_KEYBOARDS_SHORTCUTS});break;case r.MAIN_SHOW_CONFIRM_OPEN_BOOKMARKS_DIALOG:c.emitChangeParam({action:"confirmOpenBookmarks",options:t.options});break;case r.MAIN_SHOW_IMPORT_DATA:c.emitChangeParam({action:"importData",url:""});break;case r.MAIN_SHOW_EXPORT_DATA:c.emitChangeParam({action:"exportData"});break;case r.MAIN_SHOW_SAVE_SESSION:c.emitChangeParam({action:"saveSession",url:""});break;case r.MAIN_SHOW_OPEN_SESSION:c.emitChangeParam({action:"openSession",url:""});break;case r.MAIN_SHOW_PAGE_INFO:c.emitChangeParam({action:"showPageInfo",page:e.action.page,event:e.action.event});break;case r.MAIN_ZOOM_IN:c.emitChangeParam({type:r.MAIN_ZOOM_IN});break;case r.MAIN_ZOOM_OUT:c.emitChangeParam({type:r.MAIN_ZOOM_OUT});break;case r.MAIN_ZOOM_HALF:c.emitChangeParam({type:r.MAIN_ZOOM_HALF});break;case r.MAIN_ZOOM_DOUBLE:c.emitChangeParam({type:r.MAIN_ZOOM_DOUBLE});break;case r.MAIN_ZOOM_RESET:c.emitChangeParam({type:r.MAIN_ZOOM_RESET});break;case r.MAIN_TOGGLE_TAB_BAR:c.emitChangeParam({type:r.MAIN_TOGGLE_TAB_BAR});break;case r.MAIN_TOGGLE_ADDRESS_BAR:c.emitChangeParam({type:r.MAIN_TOGGLE_ADDRESS_BAR});break;case r.MAIN_TOGGLE_UI:c.emitChangeParam({type:r.MAIN_TOGGLE_UI});break;default:return!0}return!0}),s.tabs.onActivated.addListener(function(e){if(e.windowId===window.vivaldiWindowId){var t=o.getPages().find(function(t){return t.get("id")===e.tabId});t&&(u=e.tabId,c.emitChangeParam({action:"currentTab",tabId:u,page:t}))}}),e.exports=c},function(e,t,n){"use strict";var i=n(9),r=n(5),o=n(17),a=o.EventEmitter,s=Object.assign({},a.prototype,{emitChanged:function(){this.emit(r.CHANGED)},getSearchSuggestURL:function(e){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];return t.replace(/\%s/,encodeURIComponent(e))}});i.register(function(e){var t=e.action;switch(t.actionType){case r.SEARCH_SUGGEST_RESULT:var n=JSON.parse(t.json)[1];s.emit(r.SEARCH_SUGGEST_RESULT,{query:t.query,suggestions:n,uid:t.uid})}}),e.exports=s},function(e,t,n){"use strict";function i(e){c=e.filter(function(e){if(e.tab)return e.tab&&!l.isInternalUrl(e.tab.url);if(e.window){var t=e.window.extData?JSON.parse(e.window.extData):{};return"popup"!==t.windowType}}),A.emitChange()}var r=n(17).EventEmitter,o=n(9),a=n(5),s=n(19),l=s.urls,u="change",c=[],A=Object.assign({},r.prototype,{getTrash:function(e){return c},emitChange:function(){this.emit(u)},addChangeListener:function(e){this.on(u,e)},removeChangeListener:function(e){this.removeListener(u,e)}});o.register(function(e){var t=e.action;switch(t.actionType){case a.CHROME_SET_SESSION:i(t.session);break;default:return!0}}),e.exports=A},function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=function o(e){if(null===e||"object"!==("undefined"==typeof e?"undefined":n(e)))return e;var t=e.constructor();for(var i in e)e.hasOwnProperty(i)&&(t[i]=o(e[i]));return t},r=function(e){for(var t=[],n=0;n<e.length;n++)t.push(i(e[n]));return t};e.exports=r},function(e,t,n){"use strict";var i=n(19),r=i.urls,o=n(224),a=function(e){if(!e)return"";var t=r.removeTrailingSlashWhenNoPath(r.getDisplayUrl(e));return o(t)};e.exports=a},function(e,t){"use strict";function n(e){try{return decodeURIComponent(e)}catch(t){return e}}e.exports=n},function(e,t,n){"use strict";function i(e,t){var n=arguments.length<=2||void 0===arguments[2]?function(e,t,n){return a(t[e],n[e])}:arguments[2];if(e===t)return!0;if("object"!==("undefined"==typeof e?"undefined":r(e))||null===e||"object"!==("undefined"==typeof t?"undefined":r(t))||null===t)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(var l=s.bind(t),u=0;u<i.length;u++)if(!l(i[u])||!n(i[u],e,t))return!1;return!0}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=n(18),a=o.eq,s=Object.prototype.hasOwnProperty;e.exports=i},function(e,t,n){(function(t,n){!function(t,n){e.exports=n()}(this,function(){"use strict";function e(){}function i(e){return e}function r(e,t){return null==e||e===i?t:function(n){return t(e(n))}}function o(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function a(t,n){return t===e?n:function(){var e=t.apply(this,arguments);void 0!==e&&(arguments[0]=e);var i=this.onsuccess,r=this.onerror;this.onsuccess=null,this.onerror=null;var a=n.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?o(i,this.onsuccess):i),r&&(this.onerror=this.onerror?o(r,this.onerror):r),void 0!==a?a:e}}function s(t,n){return t===e?n:function(){t.apply(this,arguments);var e=this.onsuccess,i=this.onerror;this.onsuccess=this.onerror=null,n.apply(this,arguments),e&&(this.onsuccess=this.onsuccess?o(e,this.onsuccess):e),i&&(this.onerror=this.onerror?o(i,this.onerror):i)}}function l(t,n){return t===e?n:function(){var e=t.apply(this,arguments);d(arguments[0],e);var i=this.onsuccess,r=this.onerror;this.onsuccess=null,this.onerror=null;var a=n.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?o(i,this.onsuccess):i),r&&(this.onerror=this.onerror?o(r,this.onerror):r),void 0===e?void 0===a?void 0:a:d(e,a)}}function u(t,n){return t===e?n:function(){return t.apply(this,arguments)===!1?!1:n.apply(this,arguments)}}function c(t,n){return t===e?n:function(){return n.apply(this,arguments)===!1?!1:t.apply(this,arguments)}}function A(t,n){return t===e?n:function(){var e=t.apply(this,arguments);if(e&&"function"==typeof e.then){var i=this,r=arguments;return e.then(function(){return n.apply(i,r)})}return n.apply(this,arguments)}}function d(e,t){return"object"!=typeof t?e:(ae(t).forEach(function(n){e[n]=t[n]}),e)}function h(e,t){"function"==typeof t&&(t=t(Object.getPrototypeOf(e))),ae(t).forEach(function(n){p(e,n,t[n])})}function p(e,t,n,i){Object.defineProperty(e,t,d("function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},i))}function f(e){return{from:function(t){return e.prototype=Object.create(t.prototype),p(e.prototype,"constructor",e),{extend:h.bind(null,e.prototype)}}}}function m(e,t,n){return ue.call(e,t,n)}function g(e,t){return t(e)}function v(e){var t=setTimeout(e,1e3);clearTimeout(t)}function _(e){if(!e)throw new me.Internal("Assertion failed")}function E(e){le.setImmediate?n(e):setTimeout(e,0)}function S(e,t){try{e()}catch(n){t&&t(n)}}function y(e){var t=e&&e.stack;return t?t.indexOf(e+"")>0?t:e+". "+t:e}function b(e){if(e.stack)return e;try{var t=new Error(e.message||e);if(t.stack)return e.stack=t.stack,e;throw t}catch(n){e.stack=n.stack}return e}function C(e){return U.reject(b(e))}function T(e,t){if(e.hasOwnProperty(t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],i=0,r=t.length;r>i;++i){var o=T(e,t[i]);n.push(o)}return n}var a=t.indexOf(".");if(-1!==a){var s=e[t.substr(0,a)];return void 0===s?void 0:T(s,t.substr(a+1))}}function I(e,t,n){if(e&&void 0!==t&&!("isFrozen"in Object&&Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){_("string"!=typeof n&&"length"in n);for(var i=0,r=t.length;r>i;++i)I(e,t[i],n[i])}else{var o=t.indexOf(".");if(-1!==o){var a=t.substr(0,o),s=t.substr(o+1);if(""===s)void 0===n?delete e[a]:e[a]=n;else{var l=e[a];l||(l=e[a]={}),I(l,s,n)}}else void 0===n?delete e[t]:e[t]=n}}function w(e,t){"string"==typeof t?I(e,t,void 0):"length"in t&&[].map.call(t,function(t){I(e,t,void 0)})}function O(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function N(e){if(!e||"object"!=typeof e)return e;var t;if(se(e)){t=[];for(var n=0,i=e.length;i>n;++n)t.push(N(e[n]))}else if(e instanceof Date)t=new Date,t.setTime(e.getTime());else{t=e.constructor?Object.create(e.constructor.prototype):{};for(var r in e)e.hasOwnProperty(r)&&(t[r]=N(e[r]))}return t}function k(e,t,n,i){n=n||{},i=i||"";for(var r in e)if(e.hasOwnProperty(r))if(t.hasOwnProperty(r)){var o=e[r],a=t[r];"object"==typeof o&&"object"==typeof a?k(o,a,n,i+r+"."):o!==a&&(n[i+r]=t[r])}else n[i+r]=void 0;for(r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(n[i+r]=t[r]);return n}function D(e,t){this.name=e,this.message=t}function M(e,t){return e+". Errors: "+t.map(function(e){return e.toString()}).filter(function(e,t,n){return n.indexOf(e)===t}).join("\n")}function P(e,t,n,i){this.name="ModifyError",this.failures=t,this.failedKeys=i,this.successCount=n,this.message=M(e,t)}function L(e,t){this.name="BulkError",this.failures=t,this.message=M(e,t)}function x(e,t){var n=e;return e instanceof D||!e.name||!ge[e.name]||(n=new ge[e.name](t||e.message,e),e.stack&&(n.stack=e.stack)),n}function R(t){function n(t,n,o){if(se(t))return r(t);if("object"==typeof t)return i(t);n||(n=u),o||(o=e);var l={subscribers:[],fire:o,subscribe:function(e){l.subscribers.push(e),l.fire=n(l.fire,e)},unsubscribe:function(e){l.subscribers=l.subscribers.filter(function(t){return t!==e}),l.fire=l.subscribers.reduce(n,o)}};return a[t]=s[t]=l,l}function i(e){ae(e).forEach(function(t){var i=e[t];if(se(i))n(t,e[t][0],e[t][1]);else{if("asap"!==i)throw new me.InvalidArgument("Invalid event config");var r=n(t,null,function(){var e=arguments;r.subscribers.forEach(function(t){E(function(){t.apply(le,e)})})});r.subscribe=function(e){-1===r.subscribers.indexOf(e)&&r.subscribers.push(e)},r.unsubscribe=function(e){var t=r.subscribers.indexOf(e);-1!==t&&r.subscribers.splice(t,1)}}})}function r(e){function t(){return i?!1:void(i=!0)}var i=!1;e.forEach(function(e){n(e).subscribe(t)})}var o=arguments,a={},s=function(e,n){if(n){var i=m(arguments,1),r=a[e];return r.subscribe.apply(r,i),t}return"string"==typeof e?a[e]:void 0};s.addEventType=n;for(var l=1,c=o.length;c>l;++l)n(o[l]);return s}function B(){var e=ye;ye=[];for(var t=0,n=e.length;n>t;++t){var i=e[t];i[0].apply(le,i[1])}}function U(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],this._catched=!1;var t=this,n=!0;this._PSD=U.PSD;try{z(this,e,function(e){n?Ee(H,t,e):H(t,e)},function(e){return n?(Ee(K,t,e),!1):K(t,e)})}finally{n=!1}}function F(e,t){if(null===e._state)return void e._deferreds.push(t);var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);var i,r=Se;Se=!1,Ee=Ce;try{var o=U.PSD;U.PSD=e._PSD,i=n(e._value),e._state||i&&"function"==typeof i.then&&i._state===!1||W(e),t.resolve(i)}catch(a){t.reject(a)}finally{if(U.PSD=o,r){do{for(;ye.length>0;)B();var s=be.pop();if(s)try{s()}catch(a){}}while(be.length>0||ye.length>0);Ee=_e,Se=!0}}}function V(e){var t=Se;Se=!1,Ee=Ce;try{return e()}finally{if(t){do{for(;ye.length>0;)B();var n=be.pop();if(n)try{n()}catch(i){}}while(be.length>0||ye.length>0);Ee=_e,Se=!0}}}function W(e){e._catched=!0,e._parent&&!e._parent._catched&&W(e._parent)}function H(e,t){var n=U.PSD;U.PSD=e._PSD;try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then)return t instanceof U&&null!==t._state?(e._state=t._state,e._value=t._value,void G.call(e)):void z(e,function(e,n){t.then(e,n)},function(t){H(e,t)},function(t){K(e,t)});e._state=!0,e._value=t,G.call(e)}catch(i){K(i)}finally{U.PSD=n}}function K(e,t){var n=U.PSD;if(U.PSD=e._PSD,e._state=!1,e._value=t,G.call(e),!e._catched)try{e.onuncatched?e.onuncatched(e._value):U.on.error.fire(e._value)}catch(i){}return U.PSD=n,e._catched}function G(){for(var e=0,t=this._deferreds.length;t>e;e++)F(this,this._deferreds[e]);this._deferreds=[]}function j(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function z(e,t,n,i){var r=!1;try{t(function(e){r||(r=!0,n(e))},function(t){return r?e._catched:(r=!0,i(t))})}catch(o){if(r)return;return i(o)}}function J(e){console.warn("Uncaught Promise: "+y(e))}function Q(t,n){function o(){Xe.on("versionchange",function(e){e.newVersion>0?console.warn("Another connection wants to upgrade database '"+Xe.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+Xe.name+"'. Closing db now to resume the delete request."),Xe.close()}),Xe.on("blocked",function(e){!e.newVersion||e.newVersion<e.oldVersion?console.warn("Dexie.delete('"+Xe.name+"') was blocked"):console.warn("Upgrade '"+Xe.name+"' blocked by other connection holding version "+e.oldVersion/10);
})}function u(e){this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null},this.stores({})}function v(e,t,n,i){if(0===e){ae(We).forEach(function(e){y(t,e,We[e].primKey,We[e].indexes)});var r=Xe._createTransaction(qe,Ke,We);r.idbtrans=t,r.idbtrans.onerror=X(n,["populating database"]),r.on("error").subscribe(n),U.newPSD(function(){U.PSD.trans=r;try{Xe.on("populate").fire(r)}catch(e){i.onerror=t.onerror=function(e){e.preventDefault()};try{t.abort()}catch(o){}t.db.close(),n(e)}})}else{var o=[],a=He.filter(function(t){return t._cfg.version===e})[0];if(!a)throw new me.Upgrade("Dexie specification of currently installed DB version is missing");We=Xe._dbSchema=a._cfg.dbschema;var s=!1,l=He.filter(function(t){return t._cfg.version>e});l.forEach(function(e){var i=We,r=e._cfg.dbschema;Ce(i,t),Ce(r,t),We=Xe._dbSchema=r;var a=_(i,r);a.add.forEach(function(e){o.push(function(t,n){y(t,e[0],e[1].primKey,e[1].indexes),n()})}),a.change.forEach(function(e){if(e.recreate)throw new me.Upgrade("Not yet support for changing primary key");o.push(function(t,n){var i=t.objectStore(e.name);e.add.forEach(function(e){M(i,e)}),e.change.forEach(function(e){i.deleteIndex(e.name),M(i,e)}),e.del.forEach(function(e){i.deleteIndex(e)}),n()})}),e._cfg.contentUpgrade&&o.push(function(t,i){s=!0;var o=Xe._createTransaction(qe,m(t.db.objectStoreNames),r);o.idbtrans=t;var a=0;o._promise=g(o._promise,function(e){return function(t,n,r){function o(e){return function(){e.apply(this,arguments),0===--a&&i()}}return++a,e.call(this,t,function(e,t){arguments[0]=o(e),arguments[1]=o(t),n.apply(this,arguments)},r)}}),t.onerror=X(n,["running upgrader function for version",e._cfg.version]),o.on("error").subscribe(n),e._cfg.contentUpgrade(o),0===a&&i()}),s&&!De||o.push(function(e,t){D(r,e),t()})});var u=function(){try{o.length?o.shift()(t,u):w(We,t)}catch(e){i.onerror=t.onerror=function(e){e.preventDefault()};try{t.abort()}catch(r){}t.db.close(),n(e)}};u()}}function _(e,t){var n={del:[],add:[],change:[]};for(var i in e)t[i]||n.del.push(i);for(i in t){var r=e[i],o=t[i];if(r){var a={name:i,def:t[i],recreate:!1,del:[],add:[],change:[]};if(r.primKey.src!==o.primKey.src)a.recreate=!0,n.change.push(a);else{var s=r.indexes.reduce(function(e,t){return e[t.name]=t,e},{}),l=o.indexes.reduce(function(e,t){return e[t.name]=t,e},{});for(var u in s)l[u]||a.del.push(u);for(u in l){var c=s[u],A=l[u];c?c.src!==A.src&&a.change.push(A):a.add.push(A)}(a.recreate||a.del.length>0||a.add.length>0||a.change.length>0)&&n.change.push(a)}}else n.add.push([i,o])}return n}function y(e,t,n,i){var r=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return i.forEach(function(e){M(r,e)}),r}function w(e,t){ae(e).forEach(function(n){t.db.objectStoreNames.contains(n)||y(t,n,e[n].primKey,e[n].indexes)})}function D(e,t){for(var n=0;n<t.db.objectStoreNames.length;++n){var i=t.db.objectStoreNames[n];null!==e[i]&&void 0!==e[i]||t.db.deleteObjectStore(i)}}function M(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function B(){$e.forEach(function(e){e.resume()})}function F(e,t){throw new me.InvalidTable("Table "+t[0]+" not part of transaction. Original Scope Function Source: "+Q.Promise.PSD.trans.scopeFunc.toString())}function V(t,n,o,u){this.name=t,this.schema=o,this.hook=Ge[t]?Ge[t].hook:R(null,{creating:[a,e],reading:[r,i],updating:[l,e],deleting:[s,e]}),this._tpf=n,this._collClass=u||Z}function W(e,t,n,i){V.call(this,e,t,n,i||le)}function H(e,t){var n=U.PSD;return function(i){try{i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault();var r=i.target.error;e.push(r),i.target._err&&U.usePSD(n,i.target._err.bind(null,r))}finally{t&&t()}}}function K(e){var t=U.PSD;return function(n){var i;try{i=n.target.error,n.target._err&&U.usePSD(t,n.target._err.bind(null,i))}finally{e(i)}}}function G(e,t){var n=U.PSD;return t?function(t){var i;try{i=t.target.result,t.target._suc&&U.usePSD(n,t.target._suc.bind(null,i))}finally{e&&e(i)}}:function(t){e(t.target.result)}}function j(e,t,n,i,r){return new U(function(o,a){var s=n.length,l=s-1;if(0===s)return o();if(i){var u={onsuccess:null,onerror:null},c=K(function(e){return a(x(e))}),A=G(null,!0);S(function(){for(var i=0;s>i;++i){var a=n[i];r.call(u,a[0],a[1],t);var d=e["delete"](a[0]);u.onerror&&(d._err=u.onerror),u.onsuccess&&(d._suc=u.onsuccess),d.onerror=c,i===l?d.onsuccess=G(o,!0):d.onsuccess=A,u.onsuccess=null,u.onerror=null}},function(e){throw u.onerror&&u.onerror(e),e})}else for(var d=0;s>d;++d){var h=e["delete"](n[d]);h.onerror=function(e){return a(x(e.target.error))},d===l&&(h.onsuccess=function(){return o()})}})}function z(e,t,n,i){function r(e,t,n,i){return o._promise(e,n,i)}var o=this;this.db=Xe,this.mode=e,this.storeNames=t,this.idbtrans=null,this.on=R(this,["complete","error"],"abort"),this._reculock=0,this._blockedFuncs=[],this._psd=null,this.active=!0,this._dbschema=n,i&&(this.parent=i),this._tpf=r,this.tables=Object.create(je);for(var a=t.length-1;-1!==a;--a){var s=t[a],l=Xe._tableFactory(e,n[s],r);this.tables[s]=l,this[s]||(this[s]=l)}}function J(e,t,n){this._ctx={table:e,index:":id"===t?null:t,collClass:e._collClass,or:n}}function Z(e,t){var n=null,i=null;if(t)try{n=t()}catch(r){i=b(x(r))}var o=e._ctx,a=o.table;this._ctx={table:a,index:o.index,isPrimKey:!o.index||a.schema.primKey.keyPath&&o.index===a.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,isMatch:null,offset:0,limit:1/0,error:i,or:o.or,valueFilter:a.hook.reading.fire}}function le(){Z.apply(this,arguments)}function ue(e,t){return e._cfg.version-t._cfg.version}function ce(e,t,n,i,r,o){n.forEach(function(n){var a=Xe._tableFactory(i,r[n],t);e.forEach(function(e){e[n]||(o?p(e,n,{get:function(){var e=U.PSD&&U.PSD.trans;return e&&e.db===Xe?e.tables[n]:a}},{enumerable:!0}):e[n]=a)})})}function Ae(e){e.forEach(function(e){for(var t in e)e[t]instanceof V&&delete e[t]})}function de(e,t,n,r,o,a){a=a||i,e.onerror||(e.onerror=X(o)),t?e.onsuccess=Y(function(){var i=e.result;if(i){var s=function(){i["continue"]()};t(i,function(e){s=e},r,o)&&n(a(i.value),i,function(e){s=e}),s()}else r()},o):e.onsuccess=Y(function(){var t=e.result;if(t){var i=function(){t["continue"]()};n(a(t.value),t,function(e){i=e}),i()}else r()},o)}function he(e){var t=[];return e.split(",").forEach(function(e){e=e.trim();var n=e.replace("&","").replace("++","").replace("*",""),i=0!==n.indexOf("[")?n:e.substring(e.indexOf("[")+1,e.indexOf("]")).split("+");t.push(new ne(n,i||null,-1!==e.indexOf("&"),-1!==e.indexOf("*"),-1!==e.indexOf("++"),se(i),-1!==i.indexOf(".")))}),t}function pe(e,t){return Fe.cmp(e,t)}function fe(e,t){return pe(e,t)<0?e:t}function ge(e,t){return pe(e,t)>0?e:t}function ve(e,t){return Fe.cmp(e,t)}function _e(e,t){return Fe.cmp(t,e)}function Ee(e,t){return t>e?-1:e===t?0:1}function Se(e,t){return e>t?-1:e===t?0:1}function ye(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}function be(){if(Xe.verno=ze.version/10,Xe._dbSchema=We={},Ke=m(ze.objectStoreNames,0),0!==Ke.length){var e=ze.transaction(re(Ke),"readonly");Ke.forEach(function(t){for(var n=e.objectStore(t),i=n.keyPath,r=i&&"string"==typeof i&&-1!==i.indexOf("."),o=new ne(i,i||"",!1,!1,!!n.autoIncrement,i&&"string"!=typeof i,r),a=[],s=0;s<n.indexNames.length;++s){var l=n.index(n.indexNames[s]);i=l.keyPath,r=i&&"string"==typeof i&&-1!==i.indexOf(".");var u=new ne(l.name,i,!!l.unique,!!l.multiEntry,!1,i&&"string"!=typeof i,r);a.push(u)}We[t]=new ie(t,o,a,{})}),ce([Ge],Xe._transPromiseFactory,ae(We),qe,We)}}function Ce(e,t){for(var n=t.db.objectStoreNames,i=0;i<n.length;++i)for(var r=n[i],o=t.objectStore(r),a=0;a<o.indexNames.length;++a){var s=o.indexNames[a],l=o.index(s).keyPath,u="string"==typeof l?l:"["+m(l).join("+")+"]";if(e[r]){var c=e[r].idxByName[u];c&&(c.name=s)}}}function ke(e){Xe.on("blocked").fire(e),Ne.filter(function(e){return e.name===Xe.name&&e!==Xe&&!e._vcFired}).map(function(t){return t.on("versionchange").fire(e)})}var xe=Q.dependencies,Re=d({addons:Q.addons,autoOpen:!0,indexedDB:xe.indexedDB,IDBKeyRange:xe.IDBKeyRange},n),Be=Re.addons,Ue=Re.autoOpen,Fe=Re.indexedDB,Ve=Re.IDBKeyRange,We=this._dbSchema={},He=[],Ke=[],Ge={},je={},ze=null,Je=!0,Qe=null,Ye=!1,Ze="readonly",qe="readwrite",Xe=this,$e=[],et=!0,tt=!!oe(Fe);this.version=function(e){if(ze||Ye)throw new me.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=He.filter(function(t){return t._cfg.version===e})[0];return t?t:(t=new u(e),He.push(t),He.sort(ue),t)},d(u.prototype,{stores:function(e){this._cfg.storesSource=this._cfg.storesSource?d(this._cfg.storesSource,e):e;var t={};He.forEach(function(e){d(t,e._cfg.storesSource)});var n=this._cfg.dbschema={};return this._parseStoresSpec(t,n),We=Xe._dbSchema=n,Ae([Ge,Xe,je]),ce([je],F,ae(n),qe,n),ce([Ge,Xe,this._cfg.tables],Xe._transPromiseFactory,ae(n),qe,n,!0),Ke=ae(n),this},upgrade:function(e){var t=this;return Pe(function(){e(Xe._createTransaction(qe,ae(t._cfg.dbschema),t._cfg.dbschema))}),this._cfg.contentUpgrade=e,this},_parseStoresSpec:function(e,t){ae(e).forEach(function(n){if(null!==e[n]){var i={},r=he(e[n]),o=r.shift();if(o.multi)throw new me.Schema("Primary key cannot be multi-valued");o.keyPath&&I(i,o.keyPath,o.auto?0:o.keyPath),r.forEach(function(e){if(e.auto)throw new me.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new me.Schema("Index must have a name and cannot be an empty string");I(i,e.keyPath,e.compound?e.keyPath.map(function(){return""}):"")}),t[n]=new ie(n,o,r,i)}})}}),this._allTables=Ge,this._tableFactory=function(e,t,n){return e===Ze?new V(t.name,n,t,Z):new W(t.name,n,t)},this._createTransaction=function(e,t,n,i){return new z(e,t,n,i)},this._transPromiseFactory=function(t,n,i){if(!Je||U.PSD&&U.PSD.letThrough){var r=Xe._createTransaction(t,n,We);return r._promise(t,function(e,t){r.error(function(e){Xe.on("error").fire(e)}),U.newPSD(function(){U.PSD.trans=r,i(function(t){r.complete(function(){e(t)})},t,r)})})}if(!Ye&&!Ue)return C(new me.DatabaseClosed);var o=new U(function(e,r){$e.push({resume:function(){var a=Xe._transPromiseFactory(t,n,i);o.onuncatched=a.onuncatched,a.then(e,r)}})});return Ue&&!Ye&&Xe.open()["catch"](e),o},this._whenReady=function(t){if(!Le&&Je&&(!U.PSD||!U.PSD.letThrough)){if(!Ye){if(!Ue)return C(new me.DatabaseClosed);Xe.open()["catch"](e)}return new U(function(e,n){$e.push({resume:function(){t(e,n)}})})}return new U(t)},this.verno=0,this.open=function(){return ze?U.resolve(Xe):Ye?new U(function(e,t){return Xe._whenReady(function(){e(Xe)},function(e){t(e)})}):(Qe=null,Ye=!0,Je=!0,new U(function(e,n){function i(e){try{r.transaction.abort()}catch(t){}if(ze)try{ze.close()}catch(t){}ze=null,Ye=!1,Qe=x(e),Je=!1,n(Qe),B()}Le&&e();var r;try{if(He.length>0&&(et=!1),!Fe)throw new me.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL (not locally). If using Safari, make sure to include indexedDB polyfill.");if(r=et?Fe.open(t):Fe.open(t,Math.round(10*Xe.verno)),!r)throw new me.MissingAPI("IndexedDB API not available");r.onerror=X(i,["opening database",t]),r.onblocked=ke,r.onupgradeneeded=Y(function(e){if(et&&!Xe._allowEmptyDB){r.onerror=function(e){e.preventDefault()},r.transaction.abort(),r.result.close();var n=Fe.deleteDatabase(t);n.onsuccess=n.onerror=function(){i(new me.NoSuchDatabase("Database "+t+" doesnt exist"))}}else{r.transaction.onerror=X(i);var o=e.oldVersion>Math.pow(2,62)?0:e.oldVersion;v(o/10,r.transaction,i,r)}},i),r.onsuccess=Y(function(){if(Ye=!1,ze=r.result,et)be();else if(ze.objectStoreNames.length>0)try{Ce(We,ze.transaction(re(ze.objectStoreNames),Ze))}catch(n){}ze.onversionchange=function(e){Xe._vcFired=!0,Xe.on("versionchange").fire(e)},tt||ee(function(e){return-1===e.indexOf(t)?e.push(t):void 0}),U.newPSD(function(){function t(){Je=!1,B(),e()}U.PSD.letThrough=!0;try{var n=Xe.on.ready.fire();n&&"function"==typeof n.then?n.then(t,function(e){ze.close(),ze=null,i(e)}):E(t)}catch(r){i(r)}})},i)}catch(o){i(o)}}).then(function(){return Ne.push(Xe),Xe}))},this.close=function(){var e=Ne.indexOf(Xe);e>=0&&Ne.splice(e,1),ze?(ze.close(),ze=null,Ue=!1,Je&&B(),Je=!1,Qe=new me.DatabaseClosed):Ye&&Xe.on("ready",function(){return U.reject(new me.DatabaseClosed)})},this["delete"]=function(){var e=arguments;return new U(function(n,i){function r(){Xe.close();var e=Fe.deleteDatabase(t);e.onsuccess=function(){tt||ee(function(e){var n=e.indexOf(t);return n>=0?e.splice(n,1):void 0}),n()},e.onerror=X(i,["deleting",t]),e.onblocked=ke}if(e.length>0)throw new me.InvalidArgument("Arguments not allowed in db.delete()");Ye?$e.push({resume:r}):r()})},this.backendDB=function(){return ze},this.isOpen=function(){return null!==ze},this.hasFailed=function(){return null!==Qe},this.dynamicallyOpened=function(){return et},this.name=t,p(this,"tables",{get:function(){return ae(Ge).map(function(e){return Ge[e]})}}),this.on=R(this,"error","populate",{blocked:[c,e],ready:[A,e],versionchange:[c,e]}),this.on.ready.subscribe=g(this.on.ready.subscribe,function(e){return function(t,n){function i(){return n||Xe.on.ready.unsubscribe(i),t.apply(this,arguments)}e.call(this,i),Xe.isOpen()&&(Je?$e.push({resume:i}):i())}}),Pe(function(){Xe.on("populate").fire(Xe._createTransaction(qe,Ke,We)),Xe.on("error").fire(new Error)}),this.transaction=function(e,t,n){function i(t,i){var o=null,a=!0;try{if(s)throw s;o=Xe._createTransaction(e,l,We,r);var u=l.map(function(e){return o.tables[e]});u.push(o);var c,A=0;U.newPSD(function(){U.PSD.trans=o,o.scopeFunc=n,r&&(o.idbtrans=r.idbtrans,o._promise=g(o._promise,function(e){return function(t,n,i){function r(e){return function(t){var n;return U._rootExec(function(){n=e(t),U._tickFinalize(function(){0===--A&&o.active&&(o.active=!1,o.on.complete.fire())})}),n}}return++A,e.call(this,t,function(e,t,i){return n(r(e),r(t),i)},i)}})),o.complete(function(){t(c)}),o.error(function(e){function t(){var t=i(e);r||t||Xe.on.error.fire(e)}o.idbtrans&&(o.idbtrans.onerror=$);try{o.abort()}catch(n){}r&&(r.active=!1,r.on.error.fire(e)),a?E(t):t()}),U._rootExec(function(){if(c=n.apply(o,u))if("function"==typeof c.next&&"function"==typeof c["throw"])c=te(c);else if("function"==typeof c.then&&!c.hasOwnProperty("_PSD"))throw new me.IncompatiblePromise})}),(!o.idbtrans||r&&0===A)&&o._nop()}catch(d){o&&o.idbtrans&&(o.idbtrans.onerror=$),o&&o.abort(),r&&r.on.error.fire(d),E(function(){i(d)||Xe.on("error").fire(d)})}a=!1}t=m(arguments,1,arguments.length-1),n=arguments[arguments.length-1];var r=U.PSD&&U.PSD.trans;r&&r.db===Xe&&-1===e.indexOf("!")||(r=null);var o=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");var a=se(t[0])?t.reduce(function(e,t){return e.concat(t)}):t,s=null,l=a.map(function(e){return"string"==typeof e?e:(e instanceof V||(s=s||new TypeError("Invalid type. Arguments following mode must be instances of Table or String")),e.name)});return"r"==e||e==Ze?e=Ze:"rw"==e||e==qe?e=qe:s=new me.InvalidArgument("Invalid transaction mode: "+e),r&&(s||(r&&r.mode===Ze&&e===qe&&(o?r=null:s=s||new me.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY")),r&&l.forEach(function(e){r.tables.hasOwnProperty(e)||(o?r=null:s=s||new me.SubTransaction("Table "+e+" not included in parent transaction. Parent Transaction function: "+r.scopeFunc.toString()))}))),r?r._promise(e,i,"lock"):Xe._whenReady(i)},this.table=function(e){if(Le&&et)return new W(e);if(!Ge.hasOwnProperty(e))throw new me.InvalidTable("Table "+e+" does not exist");return Ge[e]},h(V.prototype,function(){function e(){throw new me.ReadOnly("Current Transaction is READONLY")}return{_trans:function(e,t,n){return this._tpf(e,[this.name],t,n)},_idbstore:function(e,t,n){if(Le)return new U(t);var i=this;return this._tpf(e,[this.name],function(e,n,r){t(e,n,r.idbtrans.objectStore(i.name),r)},n)},get:function(e,t){var n=this;return this._idbstore(Ze,function(t,i,r){Le&&t(n.schema.instanceTemplate);var o=r.get(e);o.onerror=X(i,["getting",e,"from",n.name]),o.onsuccess=function(){t(n.hook.reading.fire(o.result))}}).then(t)},where:function(e){return new J(this,e)},count:function(e){return this.toCollection().count(e)},offset:function(e){return this.toCollection().offset(e)},limit:function(e){return this.toCollection().limit(e)},reverse:function(){return this.toCollection().reverse()},filter:function(e){return this.toCollection().and(e)},each:function(e){return this.toCollection().each(e)},toArray:function(e){return this.toCollection().toArray(e)},orderBy:function(e){return new this._collClass(new J(this,e))},toCollection:function(){return new this._collClass(new J(this))},mapToClass:function(e,t){this.schema.mappedClass=e;var n=Object.create(e.prototype);t&&q(n,t),this.schema.instanceTemplate=n;var i=function(t){if(!t)return t;var n=Object.create(e.prototype);for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=i,this.hook("reading",i),e},defineClass:function(e){return this.mapToClass(Q.defineClass(e),e)},add:e,put:e,"delete":e,clear:e,update:e}}),f(W).from(V).extend(function(){return{bulkDelete:function(t){return this.hook.deleting.fire===e?this._idbstore(qe,function(n,i,r,o){n(j(r,o,t,!1,e))}):this.where(":id").anyOf(t)["delete"]().then(function(){})},bulkPut:function(t,n){var i=this;return this._idbstore(qe,function(r,o,a,s){if(!a.keyPath&&!i.schema.primKey.auto&&!n)throw new me.InvalidArgument("bulkPut() with non-inbound keys requires keys array in second argument");if(a.keyPath&&n)throw new me.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(n&&n.length!==t.length)throw new me.InvalidArgument("Arguments objects and keys must have the same length");if(0===t.length)return r();var l,u,c=function(e){0===A.length?r(e):o(new L(i.name+".bulkPut(): "+A.length+" of "+d+" operations failed",A))},A=[],d=t.length,h=s.tables[i.name];if(i.hook.creating.fire===e&&i.hook.updating.fire===e){u=H(A);for(var p=0,f=t.length;f>p;++p)l=n?a.put(t[p],n[p]):a.put(t[p]),l.onerror=u;l.onerror=H(A,c),l.onsuccess=G(c)}else{var m=n||a.keyPath&&t.map(function(e){return T(e,a.keyPath)}),g=m&&m.reduce(function(e,n,i){return null!=n&&(e[n]=t[i]),e},{}),v=m?h.where(":id").anyOf(m.filter(function(e){return null!=e})).modify(function(){this.value=g[this.primKey],g[this.primKey]=null})["catch"](P,function(e){A=e.failures}).then(function(){for(var e=[],i=n&&[],r=m.length-1;r>=0;--r){var o=m[r];(null==o||g[o])&&(e.push(t[r]),n&&i.push(o),null!=o&&(g[o]=null))}return e.reverse(),n&&i.reverse(),h.bulkAdd(e,i)}).then(function(e){var t=m[m.length-1];return null!=t?t:e}):h.bulkAdd(t);v.then(c)["catch"](L,function(e){A=A.concat(e.failures),c()})["catch"](o)}},"locked")},bulkAdd:function(t,n){var i=this,r=this.hook.creating.fire;return this._idbstore(qe,function(o,a,s,l){function u(e){0===h.length?o(e):a(new L(i.name+".bulkAdd(): "+h.length+" of "+p+" operations failed",h))}if(!s.keyPath&&!i.schema.primKey.auto&&!n)throw new me.InvalidArgument("bulkAdd() with non-inbound keys requires keys array in second argument");if(s.keyPath&&n)throw new me.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(n&&n.length!==t.length)throw new me.InvalidArgument("Arguments objects and keys must have the same length");if(0===t.length)return o();var c,A,d,h=[],p=t.length;if(r!==e){var f=s.keyPath,m={onerror:null,onsuccess:null};A=H(h,null),d=G(null,!0),S(function(){for(var e=0,i=t.length;i>e;++e){var o=n&&n[e],a=t[e],u=n?o:f?T(a,f):void 0,h=r.call(m,u,a,l);null==u&&null!=h&&(f?(a=N(a),I(a,f,h)):o=h),c=null!=o?s.add(a,o):s.add(a),m.onerror&&(c._err=m.onerror),m.onsuccess&&(c._suc=m.onsuccess),i-1>e&&(c.onerror=A,m.onsuccess&&(c.onsuccess=d),m.onerror=null,m.onsuccess=null)}},function(e){throw m.onerror&&m.onerror(e),e}),c.onerror=H(h,u),c.onsuccess=G(u,!0)}else{A=H(h);for(var g=0,v=t.length;v>g;++g)c=n?s.add(t[g],n[g]):s.add(t[g]),c.onerror=A;c.onerror=H(h,u),c.onsuccess=G(u)}})},add:function(t,n){var i=this,r=this.hook.creating.fire;return this._idbstore(qe,function(o,a,s,l){var u={onsuccess:null,onerror:null};if(r!==e){var c=null!=n?n:s.keyPath?T(t,s.keyPath):void 0,A=r.call(u,c,t,l);null==c&&null!=A&&(s.keyPath?I(t,s.keyPath,A):n=A)}try{var d=null!=n?s.add(t,n):s.add(t),h=U.PSD;d.onerror=X(function(e){return u.onerror&&U.usePSD(h,u.onerror.bind(u,e)),a(e)},["adding",t,"into",i.name]),d.onsuccess=function(e){var n=s.keyPath;n&&I(t,n,e.target.result),u.onsuccess&&U.usePSD(h,u.onsuccess.bind(u,e.target.result)),o(d.result)}}catch(p){throw u.onerror&&u.onerror(p),p}})},put:function(t,n){var i=this,r=this.hook.creating.fire,o=this.hook.updating.fire;return r!==e||o!==e?this._trans(qe,function(e,r,o){var a=void 0!==n?n:i.schema.primKey.keyPath&&T(t,i.schema.primKey.keyPath);null==a?o.tables[i.name].add(t).then(e,r):(o._lock(),t=N(t),o.tables[i.name].where(":id").equals(a).modify(function(){this.value=t}).then(function(e){return 0===e?o.tables[i.name].add(t,n):a})["finally"](function(){o._unlock()}).then(e,r))}):this._idbstore(qe,function(e,r,o){var a=void 0!==n?o.put(t,n):o.put(t);a.onerror=X(r,["putting",t,"into",i.name]),a.onsuccess=function(n){var i=o.keyPath;i&&I(t,i,n.target.result),e(a.result)}})},"delete":function(e){return this.hook.deleting.subscribers.length?this.where(":id").equals(e)["delete"]():this._idbstore(qe,function(t,n,i){var r=i["delete"](e);r.onerror=X(n,["deleting",e,"from",i.name]),r.onsuccess=function(){t(r.result)}})},clear:function(){return this.hook.deleting.subscribers.length?this.toCollection()["delete"]():this._idbstore(qe,function(e,t,n){var i=n.clear();i.onerror=X(t,["clearing",n.name]),i.onsuccess=function(){e(i.result)}})},update:function(e,t){if("object"!=typeof t||se(t))throw new me.InvalidArgument("db.update(keyOrObject, modifications). modifications must be an object.");if("object"!=typeof e||se(e))return this.where(":id").equals(e).modify(t);ae(t).forEach(function(n){I(e,n,t[n])});var n=T(e,this.schema.primKey.keyPath);return void 0===n&&U.reject(new me.InvalidArgument("Given object does not contain its primary key")),this.where(":id").equals(n).modify(t)}}}),h(z.prototype,{_lock:function(){return++this._reculock,1===this._reculock&&U.PSD&&(U.PSD.lockOwnerFor=this),this},_unlock:function(){if(0===--this._reculock)for(U.PSD&&(U.PSD.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{e()}catch(t){}}return this},_locked:function(){return this._reculock&&(!U.PSD||U.PSD.lockOwnerFor!==this)},_nop:function(e){this.tables[this.storeNames[0]].get(0).then(e)},_promise:function(e,t,n){var i=this;return U.newPSD(function(){var r;return i._locked()?r=new U(function(r,o){i._blockedFuncs.push(function(){i._promise(e,t,n).then(r,o)})}):(r=i.active?new U(function(r,o){if(!i.idbtrans&&e){if(!ze)throw!Qe||["DatabaseClosedError","MissingAPIError"].indexOf(Qe.name)>=0?Qe:new me.OpenFailed(Qe);var a=i.idbtrans=ze.transaction(re(i.storeNames),i.mode);a.onerror=function(e){i.on("error").fire(e&&e.target.error),e.preventDefault(),i.abort()},a.onabort=function(e){E(function(){i.on("error").fire(new me.Abort("Transaction aborted for unknown reason"))}),i.active=!1,i.on("abort").fire(e)},a.oncomplete=function(e){i.active=!1,i.on("complete").fire(e)}}n&&i._lock();try{t(r,o,i)}catch(s){var l=b(x(s));Q.ignoreTransaction(function(){i.on("error").fire(l)}),i.abort(),o(l)}}):U.reject(b(new me.TransactionInactive("Transaction is inactive. Original Scope Function Source: "+i.scopeFunc.toString()))),i.active&&n&&r["finally"](function(){i._unlock()})),r.onuncatched=function(e){Q.ignoreTransaction(function(){i.on("error").fire(e)}),i.abort()},r})},complete:function(e){return this.on("complete",e)},error:function(e){return this.on("error",e)},abort:function(){if(this.idbtrans&&this.active)try{this.active=!1,this.idbtrans.abort(),this.on.error.fire(new me.Abort("Transaction Aborted"))}catch(e){}},table:function(e){if(!this.tables.hasOwnProperty(e))throw new me.InvalidTable("Table "+e+" not in transaction");return this.tables[e]}}),h(J.prototype,function(){function e(e,t,n){var i=e instanceof J?new e._ctx.collClass(e):e;try{throw n?new n(t):new TypeError(t)}catch(r){i._ctx.error=r}return i}function t(e){return new e._ctx.collClass(e,function(){return Ve.only("")}).limit(0)}function n(e){return m(1===e.length&&se(e[0])?e[0]:e)}function i(e){return"next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function r(e){return"next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function o(e,t,n,i,r,o){for(var a=Math.min(e.length,i.length),s=-1,l=0;a>l;++l){var u=t[l];if(u!==i[l])return r(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):r(e[l],i[l])<0?e.substr(0,l)+i[l]+n.substr(l+1):s>=0?e.substr(0,s)+t[s]+n.substr(s+1):null;r(e[l],u)<0&&(s=l)}return a<i.length&&"next"===o?e+n.substr(e.length):a<e.length&&"prev"===o?e.substr(0,n.length):0>s?null:e.substr(0,s)+i[s]+n.substr(s+1)}function a(e,t,n,a){function s(e){l=i(e),u=r(e),c="next"===e?Ee:Se;var t=n.map(function(e){return{lower:u(e),upper:l(e)}}).sort(function(e,t){return c(e.lower,t.lower)});A=t.map(function(e){return e.upper}),d=t.map(function(e){return e.lower}),h=e,p="next"===e?"":a}var l,u,c,A,d,h,p,f=n.length;s("next");var m=new e._ctx.collClass(e,function(){return Ve.bound(A[0],d[f-1]+a)});m._ondirectionchange=function(e){s(e)};var g=0;return m._addAlgorithm(function(e,n,i){var r=e.key;if("string"!=typeof r)return!1;var a=u(r);if(t(a,d,g))return!0;for(var s=null,l=g;f>l;++l){var m=o(r,a,A[l],d[l],c,h);null===m&&null===s?g=l+1:(null===s||c(s,m)>0)&&(s=m)}return n(null!==s?function(){e["continue"](s+p)}:i),!1}),m}return{between:function(n,i,r,o){r=r!==!1,o=o===!0;try{return pe(n,i)>0||0===pe(n,i)&&(r||o)&&(!r||!o)?t(this):new this._ctx.collClass(this,function(){return Ve.bound(n,i,!r,!o)})}catch(a){return e(this,we)}},equals:function(e){return new this._ctx.collClass(this,function(){return Ve.only(e)})},above:function(e){return new this._ctx.collClass(this,function(){return Ve.lowerBound(e,!0)})},aboveOrEqual:function(e){return new this._ctx.collClass(this,function(){return Ve.lowerBound(e)})},below:function(e){return new this._ctx.collClass(this,function(){return Ve.upperBound(e,!0)})},belowOrEqual:function(e){return new this._ctx.collClass(this,function(){return Ve.upperBound(e)})},startsWith:function(t){return"string"!=typeof t?e(this,Oe):this.between(t,t+Te,!0,!0)},startsWithIgnoreCase:function(t){return"string"!=typeof t?e(this,Oe):""===t?this.startsWith(t):a(this,function(e,t){return 0===e.indexOf(t[0])},[t],Te)},equalsIgnoreCase:function(t){return"string"!=typeof t?e(this,Oe):a(this,function(e,t){return e===t[0]},[t],"")},anyOfIgnoreCase:function(){var i=n(arguments);return 0===i.length?t(this):i.every(function(e){return"string"==typeof e})?a(this,function(e,t){return-1!==t.indexOf(e)},i,""):e(this,"anyOfIgnoreCase() only works with strings")},startsWithAnyOfIgnoreCase:function(){var i=n(arguments);return 0===i.length?t(this):i.every(function(e){return"string"==typeof e})?a(this,function(e,t){return t.some(function(t){return 0===e.indexOf(t)})},i,Te):e(this,"startsWithAnyOfIgnoreCase() only works with strings")},anyOf:function(){var i=n(arguments),r=ve;try{i.sort(r)}catch(o){return e(this,we)}if(0===i.length)return t(this);var a=new this._ctx.collClass(this,function(){return Ve.bound(i[0],i[i.length-1])});a._ondirectionchange=function(e){r="next"===e?ve:_e,i.sort(r)};var s=0;return a._addAlgorithm(function(e,t,n){for(var o=e.key;r(o,i[s])>0;)if(++s,s===i.length)return t(n),!1;return 0===r(o,i[s])?!0:(t(function(){e["continue"](i[s])}),!1)}),a},notEqual:function(e){return this.inAnyRange([[-(1/0),e],[e,Ie]],{includeLowers:!1,includeUppers:!1})},noneOf:function(){var t=n(arguments);if(0===t.length)return new this._ctx.collClass(this);try{t.sort(ve)}catch(i){return e(this,we)}var r=t.reduce(function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-(1/0),t]]},null);return r.push([t[t.length-1],Ie]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})},inAnyRange:function(n,i){function r(e,t){for(var n=0,i=e.length;i>n;++n){var r=e[n];if(pe(t[0],r[1])<0&&pe(t[1],r[0])>0){r[0]=fe(r[0],t[0]),r[1]=ge(r[1],t[1]);break}}return n===i&&e.push(t),e}function o(e,t){return A(e[0],t[0])}function a(e){return!p(e)&&!f(e)}var s=this._ctx;if(0===n.length)return t(this);if(!n.every(function(e){return void 0!==e[0]&&void 0!==e[1]&&ve(e[0],e[1])<=0}))return e(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",me.InvalidArgument);var l,u=!i||i.includeLowers!==!1,c=i&&i.includeUppers===!0,A=ve;try{l=n.reduce(r,[]),l.sort(o)}catch(d){return e(this,we)}var h=0,p=c?function(e){return ve(e,l[h][1])>0}:function(e){return ve(e,l[h][1])>=0},f=u?function(e){return _e(e,l[h][0])>0}:function(e){return _e(e,l[h][0])>=0},m=p,g=new s.collClass(this,function(){return Ve.bound(l[0][0],l[l.length-1][1],!u,!c)});return g._ondirectionchange=function(e){"next"===e?(m=p,A=ve):(m=f,A=_e),l.sort(o)},g._addAlgorithm(function(e,t,n){for(var i=e.key;m(i);)if(++h,h===l.length)return t(n),!1;return a(i)?!0:0===pe(i,l[h][1])||0===pe(i,l[h][0])?!1:(t(function(){A===ve?e["continue"](l[h][0]):e["continue"](l[h][1])}),!1)}),g},startsWithAnyOf:function(){var i=n(arguments);return i.every(function(e){return"string"==typeof e})?0===i.length?t(this):this.inAnyRange(i.map(function(e){return[e,e+Te]})):e(this,"startsWithAnyOf() only works with strings")}}}),h(Z.prototype,function(){function e(e,t){e.filter=ye(e.filter,t)}function t(e,t){var n=e.replayFilter;e.replayFilter=n?function(){return ye(n(),t())}:t}function n(e,t){e.isMatch=ye(e.isMatch,t)}function i(e,t){if(e.isPrimKey)return t;var n=e.table.schema.idxByName[e.index];if(!n)throw new me.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return t.index(n.name)}function r(e,t){var n=i(e,t);return e.keysOnly&&"openKeyCursor"in n?n.openKeyCursor(e.range||null,e.dir+e.unique):n.openCursor(e.range||null,e.dir+e.unique)}function o(e,t,n,i,o){var a=e.replayFilter?ye(e.filter,e.replayFilter()):e.filter;e.or?!function(){function s(){2===++c&&n()}function l(e,n,r){if(!a||a(n,r,s,i)){var o=n.primaryKey.toString();u.hasOwnProperty(o)||(u[o]=!0,t(e,n,r))}}var u={},c=0;e.or._iterate(l,s,i,o),de(r(e,o),e.algorithm,l,s,i,!e.keysOnly&&e.valueFilter)}():de(r(e,o),ye(e.algorithm,a),t,n,i,!e.keysOnly&&e.valueFilter)}function a(e){return e.table.schema.instanceTemplate}return{_read:function(e,t){var n=this._ctx;return n.error?n.table._trans(null,function(e,t){t(n.error)}):n.table._idbstore(Ze,e).then(t)},_write:function(e){var t=this._ctx;return t.error?t.table._trans(null,function(e,n){n(t.error)}):t.table._idbstore(qe,e,"locked")},_addAlgorithm:function(e){var t=this._ctx;t.algorithm=ye(t.algorithm,e)},_iterate:function(e,t,n,i){return o(this._ctx,e,t,n,i)},clone:function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&d(n,e),t._ctx=n,t},raw:function(){return this._ctx.valueFilter=null,this},each:function(e){var t=this._ctx;return Le&&e(a(t)),this._read(function(n,i,r){o(t,e,n,i,r)})},count:function(e){if(Le)return U.resolve(0).then(e);var t=this,n=this._ctx;if(n.filter||n.algorithm||n.or||n.replayFilter){var r=0;return this._read(function(e,t,i){o(n,function(){return++r,!1},function(){e(r)},t,i)},e)}return this._read(function(e,r,o){var a=i(n,o),s=n.range?a.count(n.range):a.count();s.onerror=X(r,["calling","count()","on",t.name]),s.onsuccess=function(t){e(t.target.result)}},e)},sortBy:function(e,t){function n(e,t){return t?n(e[r[t]],t-1):e[o]}function i(e,t){var i=n(e,a),r=n(t,a);return r>i?-s:i>r?s:0}var r=e.split(".").reverse(),o=r[0],a=r.length-1,s="next"===this._ctx.dir?1:-1;return this.toArray(function(e){return e.sort(i)}).then(t)},toArray:function(e){var t=this._ctx;return this._read(function(e,n,i){Le&&e([a(t)]);
var r=[];o(t,function(e){r.push(e)},function(){e(r)},n,i)},e)},offset:function(e){var n=this._ctx;return 0>=e?this:(n.offset+=e,n.or||n.algorithm||n.filter||n.replayFilter?t(n,function(){var t=e;return function(){return--t<0}}):t(n,function(){var t=e;return function(e,n){return 0===t?!0:1===t?(--t,!1):(n(function(){e.advance(t),t=0}),!1)}}),this)},limit:function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),t(this._ctx,function(){var t=e;return function(e,n,i){return--t<=0&&n(i),t>=0}}),this},until:function(t,n){var i=this._ctx;return Le&&t(a(i)),e(this._ctx,function(e,i,r){return t(e.value)?(i(r),n):!0}),this},first:function(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)},last:function(e){return this.reverse().first(e)},filter:function(t){return Le&&t(a(this._ctx)),e(this._ctx,function(e){return t(e.value)}),n(this._ctx,t),this},and:function(e){return this.filter(e)},or:function(e){return new J(this._ctx.table,e,this)},reverse:function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},desc:function(){return this.reverse()},eachKey:function(e){var t=this._ctx;return Le&&e(T(a(this._ctx),this._ctx.index?this._ctx.table.schema.idxByName[this._ctx.index].keyPath:this._ctx.table.schema.primKey.keyPath)),t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.key,n)})},eachUniqueKey:function(e){return this._ctx.unique="unique",this.eachKey(e)},keys:function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return Le?new U(this.eachKey.bind(this)).then(function(e){return[e]}).then(e):this.each(function(e,t){n.push(t.key)}).then(function(){return n}).then(e)},uniqueKeys:function(e){return this._ctx.unique="unique",this.keys(e)},firstKey:function(e){return this.limit(1).keys(function(e){return e[0]}).then(e)},lastKey:function(e){return this.reverse().firstKey(e)},distinct:function(){var t=this._ctx,n=t.index&&t.table.schema.idxByName[t.index];if(!n||!n.multi)return this;var i={};return e(this._ctx,function(e){var t=e.primaryKey.toString(),n=i.hasOwnProperty(t);return i[t]=!0,!n}),this}}}),f(le).from(Z).extend({modify:function(t){var n=this,i=this._ctx,r=i.table.hook,o=r.updating.fire,a=r.deleting.fire;return Le&&"function"==typeof t&&t.call({value:i.table.schema.instanceTemplate},i.table.schema.instanceTemplate),this._write(function(r,s,l,u){function c(e,t){function n(e){return y.push(e),b.push(r.primKey),r.onerror&&U.newPSD(function(){U.PSD.trans=u,r.onerror(e)}),h(),!0}C=t.primaryKey;var r={primKey:t.primaryKey,value:e,onsuccess:null,onerror:null};if(p.call(r,e,r)!==!1){var o=!r.hasOwnProperty("value");++v,S(function(){var a=o?t["delete"]():t.update(r.value);a.onerror=X(n,o?["deleting",e,"from",i.table.name]:["modifying",e,"on",i.table.name]),a.onsuccess=function(){r.onsuccess&&U.newPSD(function(){U.PSD.trans=u,r.onsuccess(r.value)}),++_,h()}},n)}else r.onsuccess&&r.onsuccess(r.value)}function A(e){return e&&(y.push(e),b.push(C)),s(new P("Error modifying one or more objects",y,_,b))}function h(){E&&_+y.length===v&&(y.length>0?A():r(_))}var p;if("function"==typeof t)p=o===e&&a===e?t:function(e){var n=N(e);if(t.call(this,e,this)===!1)return!1;if(this.hasOwnProperty("value")){var i=k(n,this.value),r=o.call(this,i,this.primKey,n,u);r&&(e=this.value,ae(r).forEach(function(t){I(e,t,r[t])}))}else a.call(this,this.primKey,e,u)};else if(o===e){var f=ae(t),m=f.length;p=function(e){for(var n=!1,i=0;m>i;++i){var r=f[i],o=t[r];T(e,r)!==o&&(I(e,r,o),n=!0)}return n}}else{var g=t;t=O(g),p=function(e){var n=!1,i=o.call(this,t,this.primKey,N(e),u);return i&&d(t,i),ae(t).forEach(function(i){var r=t[i];T(e,i)!==r&&(I(e,i,r),n=!0)}),i&&(t=O(g)),n}}var v=0,_=0,E=!1,y=[],b=[],C=null;n.clone().raw()._iterate(c,function(){E=!0,h()},A,l)})},"delete":function(){var t=this,n=this._ctx,i=n.range,r=n.table.hook.deleting.fire,o=r!==e;if(!o&&!n.or&&!n.algorithm&&!n.filter&&!n.replayFilter&&(n.isPrimKey&&!Me||!i))return this._write(function(e,t,r){var o=X(t,["deleting range from",n.table.name]),a=i?r.count(i):r.count();a.onerror=o,a.onsuccess=function(){var n=a.result;S(function(){var t=i?r["delete"](i):r.clear();t.onerror=o,t.onsuccess=function(){return e(n)}},function(e){return t(x(e))})}});var a=o?2e3:1e4;return this._write(function(e,i,s,l){var u=0,c=Object.create(n.table);c._tpf=l._tpf;var A=t.clone({table:c,keysOnly:!n.isMatch&&!o}).distinct().limit(a).raw(),d=[],h=function(){return A.each(o?function(e,t){d.push([t.primaryKey,t.value])}:function(e,t){d.push(t.primaryKey)}).then(function(){return o?d.sort(function(e,t){return ve(e[0],t[0])}):d.sort(ve),j(s,l,d,o,r)}).then(function(){var e=d.length;return u+=e,d=[],a>e?u:h()})};e(h())})}}),d(this,{Collection:Z,Table:V,Transaction:z,Version:u,WhereClause:J,WriteableCollection:le,WriteableTable:W}),o(),Be.forEach(function(e){e(Xe)})}function Y(e,t){var n=U.PSD;return function(){var i=U.PSD;U.PSD=n;try{e.apply(this,arguments)}catch(r){t(r)}finally{U.PSD=i}}}function Z(e){if("function"==typeof e)return new e;if(se(e))return[Z(e[0])];if(e&&"object"==typeof e){var t={};return q(t,e),t}return e}function q(e,t){return ae(t).forEach(function(n){var i=Z(t[n]);e[n]=i}),e}function X(e,t){return function(n){var i=n&&n.target.error||new Error("");if(t){var r=" occurred when "+t.map(function(e){switch(typeof e){case"function":return e();case"string":return e;default:return JSON.stringify(e)}}).join(" ");i.message&&i.message!=i.name&&(r+=". "+i.message),i.name?i=x(i,i.name+r):i+=r}return e(i),n&&(n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault()),!1}}function $(e){e.preventDefault()}function ee(e){var t,n=Q.dependencies.localStorage;if(!n)return e([]);try{t=JSON.parse(n.getItem("Dexie.DatabaseNames")||"[]")}catch(i){t=[]}e(t)&&n.setItem("Dexie.DatabaseNames",JSON.stringify(t))}function te(e){function t(e){return function(t){var i=e(t),r=i.value;return i.done?r:r&&"function"==typeof r.then?r.then(o,a):Array.isArray(r)?n(r,0):o(r)}}function n(e,t){if(t===e.length)return o(e);var i=e[t];return i.constructor&&"function"==typeof i.constructor.all?i.constructor.all(e).then(o,a):n(e,t+1)}var i=function(t){return e.next(t)},r=function(t){return e["throw"](t)},o=t(i),a=t(r);return t(i)()}function ne(e,t,n,i,r,o,a){this.name=e,this.keyPath=t,this.unique=n,this.multi=i,this.auto=r,this.compound=o,this.dotted=a;var s="string"==typeof t?t:t&&"["+[].join.call(t,"+")+"]";this.src=(n?"&":"")+(i?"*":"")+(r?"++":"")+s}function ie(e,t,n,i){this.name=e,this.primKey=t||new ne,this.indexes=n||[new ne],this.instanceTemplate=i,this.mappedClass=null,this.idxByName=n.reduce(function(e,t){return e[t.name]=t,e},{})}function re(e){return 1===e.length?e[0]:e}function oe(e){var t=e&&(e.getDatabaseNames||e.webkitGetDatabaseNames);return t&&t.bind(e)}var ae=Object.keys,se=Array.isArray,le="undefined"!=typeof self?self:"undefined"!=typeof window?window:t,ue=[].slice,ce=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","IncompatiblePromise"],Ae=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],de=ce.concat(Ae),he={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",IncompatiblePromise:"Incompatible Promise used in transaction scope. See http://tinyurl.com/znyqjqc"};f(D).from(Error).extend({dump:function(){return y(this)}}),f(P).from(D),f(L).from(D);var pe=de.reduce(function(e,t){return e[t]=t+"Error",e},{}),fe=D,me=de.reduce(function(e,t){function n(e,n){this.name=i,"string"==typeof e?(this.message=e,this.inner=n||null):"object"==typeof e?(this.message=e.name+" "+e.message,this.inner=e):(this.message=he[t],this.inner=null)}var i=t+"Error";return f(n).from(fe),e[t]=n,e},{});me.Syntax=SyntaxError,me.Type=TypeError,me.Range=RangeError;var ge=Ae.reduce(function(e,t){return e[t+"Error"]=me[t],e},{}),ve=de.reduce(function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=me[t]),e},{});ve.ModifyError=P,ve.DexieError=D,ve.BulkError=L;var _e=le.setImmediate||function(e){var t=m(arguments,1);setTimeout(function(){e.apply(le,t)},0)};v(function(){_e=Ee=Ce=function(e){var t=arguments;setTimeout(function(){e.apply(le,m(t,1))},0)}});var Ee=_e,Se=!0,ye=[],be=[],Ce=function(e){ye.push([e,m(arguments,1)])};U.all=function(){var e=m(1===arguments.length&&se(arguments[0])?arguments[0]:arguments);return new U(function(t,n){function i(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){i(o,e)},n)}e[o]=a,0===--r&&t(e)}catch(l){n(l)}}if(0===e.length)return t([]);for(var r=e.length,o=0;o<e.length;o++)i(o,e[o])})},U.prototype.then=function(e,t){var n=this,i=new U(function(i,r){null===n._state?F(n,new j(e,t,i,r)):Ee(F,n,new j(e,t,i,r))});return i._PSD=this._PSD,i.onuncatched=this.onuncatched,i._parent=this,i},U.prototype._then=function(t,n){F(this,new j(t,n,e,e))},U.prototype["catch"]=function(e){if(1===arguments.length)return this.then(null,e);var t=arguments[0],n=arguments[1];return"function"==typeof t?this.then(null,function(e){return e instanceof t?n(e):U.reject(e)}):this.then(null,function(e){return e&&e.name===t?n(e):U.reject(e)})},U.prototype["finally"]=function(e){return this.then(function(t){return e(),t},function(t){return e(),U.reject(t)})},U.prototype.onuncatched=null,U.resolve=function(e){if(e&&"function"==typeof e.then)return e;var t=new U(function(){});return t._state=!0,t._value=e,t},U.reject=function(e){var t=new U(function(){});return t._state=!1,t._value=e,t},U.race=function(e){return new U(function(t,n){e.map(function(e){e.then(t,n)})})},U.PSD=null,U.newPSD=function(e){var t=U.PSD;U.PSD=t?Object.create(t):{};try{return e()}finally{U.PSD=t}},U.usePSD=function(e,t){var n=U.PSD;U.PSD=e;try{return t()}finally{U.PSD=n}},U._rootExec=V,U._tickFinalize=function(e){if(Se)throw new Error("Not in a virtual tick");be.push(e)},U.on=R(null,{error:[function(e,t){return t},J]});var Te=String.fromCharCode(65535),Ie=function(){try{return IDBKeyRange.only([[]]),[[]]}catch(e){return Te}}(),we="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Oe="String expected.",Ne=[],ke="undefined"!=typeof navigator&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),De=ke,Me=ke,Pe=function(){},Le=!1;Q["delete"]=function(e){var t=new Q(e),n=t["delete"]();return n.onblocked=function(e){return t.on("blocked",e),this},n},Q.exists=function(e){return new Q(e).open().then(function(e){return e.close(),!0})["catch"](Q.NoSuchDatabaseError,function(){return!1})},Q.getDatabaseNames=function(e){return new U(function(e,t){var n=oe(indexedDB);if(n){var i=n();i.onsuccess=function(t){e(m(t.target.result,0))},i.onerror=X(t)}else ee(function(t){return e(t),!1})}).then(e)},Q.defineClass=function(e){function t(t){t?d(this,t):Le&&q(this,e)}return t},Q.applyStructure=q,Q.ignoreTransaction=function(e){return U.newPSD(function(){return U.PSD.trans=null,e()})},Q.vip=function(e){return U.newPSD(function(){return U.PSD.letThrough=!0,e()})},Q.async=function(e){return function(){try{var t=te(e.apply(this,arguments));return t&&"function"==typeof t.then?t:Q.Promise.resolve(t)}catch(n){return Q.Promise.reject(n)}}},Q.spawn=function(e,t,n){try{var i=te(e.apply(n,t||[]));return i&&"function"==typeof i.then?i:Q.Promise.resolve(i)}catch(r){return Q.Promise.reject(r)}},p(Q,"currentTransaction",{get:function(){return U.PSD&&U.PSD.trans||null}}),Q.Promise=U,Q.derive=f,Q.extend=d,Q.extendProto=h,Q.override=g,Q.Events=Q.events=R,Q.getByKeyPath=T,Q.setByKeyPath=I,Q.delByKeyPath=w,Q.shallowClone=O,Q.deepClone=N,Q.addons=[],Q.fakeAutoComplete=Pe,Q.asap=E,Q.maxKey=Ie,Q.connections=Ne,Q.dump=y,d(Q,ve),Q.MultiModifyError=Q.ModifyError,Q.errnames=pe,Q.IndexSpec=ne,Q.TableSchema=ie;var xe=le.idbModules&&le.idbModules.shimIndexedDB?le.idbModules:{};return Q.dependencies={indexedDB:xe.shimIndexedDB||le.indexedDB||le.mozIndexedDB||le.webkitIndexedDB||le.msIndexedDB,IDBKeyRange:xe.IDBKeyRange||le.IDBKeyRange||le.webkitIDBKeyRange},S(function(){Q.dependencies.localStorage=null!=("undefined"!=typeof chrome&&null!==chrome?chrome.storage:void 0)?null:le.localStorage}),Q.semVer="1.3.6",Q.version=Q.semVer.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,2*n)}),v(function(){Q.fakeAutoComplete=Pe=v,Q.fake=Le=!0}),Q["default"]=Q,Q})}).call(t,function(){return this}(),n(181).setImmediate)},function(e,t,n){function i(){}var r=n(46),o=Object.prototype;i.prototype=r?r(null):o,e.exports=i},function(e,t,n){function i(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}var r=n(146),o=n(147),a=n(148),s=n(149),l=n(150);i.prototype.clear=r,i.prototype["delete"]=o,i.prototype.get=a,i.prototype.has=s,i.prototype.set=l,e.exports=i},function(e,t,n){function i(e,t){var n=r(e,t);if(0>n)return!1;var i=e.length-1;return n==i?e.pop():a.call(e,n,1),!0}var r=n(45),o=Array.prototype,a=o.splice;e.exports=i},function(e,t,n){function i(e,t){var n=r(e,t);return 0>n?void 0:e[n][1]}var r=n(45);e.exports=i},function(e,t,n){function i(e,t){return r(e,t)>-1}var r=n(45);e.exports=i},function(e,t,n){function i(e,t,n){var i=r(e,t);0>i?e.push([t,n]):e[i][1]=n}var r=n(45);e.exports=i},function(e,t){function n(e){return e&&e.Object===Object?e:null}e.exports=n},function(e,t,n){function i(e,t){return r(e,t)&&delete e[t]}var r=n(88);e.exports=i},function(e,t,n){function i(e,t){if(r){var n=e[t];return n===o?void 0:n}return s.call(e,t)?e[t]:void 0}var r=n(46),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;e.exports=i},function(e,t,n){function i(e,t,n){e[t]=r&&void 0===n?o:n}var r=n(46),o="__lodash_hash_undefined__";e.exports=i},function(e,t){function n(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}e.exports=n},function(e,t,n){function i(){this.__data__={hash:new r,map:o?new o:[],string:new r}}var r=n(135),o=n(37);e.exports=i},function(e,t,n){function i(e){var t=this.__data__;return s(e)?a("string"==typeof e?t.string:t.hash,e):r?t.map["delete"](e):o(t.map,e)}var r=n(37),o=n(137),a=n(142),s=n(38);e.exports=i},function(e,t,n){function i(e){var t=this.__data__;return s(e)?a("string"==typeof e?t.string:t.hash,e):r?t.map.get(e):o(t.map,e)}var r=n(37),o=n(138),a=n(143),s=n(38);e.exports=i},function(e,t,n){function i(e){var t=this.__data__;return s(e)?a("string"==typeof e?t.string:t.hash,e):r?t.map.has(e):o(t.map,e)}var r=n(37),o=n(139),a=n(88),s=n(38);e.exports=i},function(e,t,n){function i(e,t){var n=this.__data__;return s(e)?a("string"==typeof e?n.string:n.hash,e,t):r?n.map.set(e,t):o(n.map,e,t),this}var r=n(37),o=n(140),a=n(144),s=n(38);e.exports=i},function(e,t){function n(e){if(null!=e){try{return i.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var i=Function.prototype.toString;e.exports=n},function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},function(e,t,n){var i=n(524).runInContext();e.exports=n(516)(i,i)},,function(e,t,n){function i(e){if(!a(e))return!1;var t=r(e)||o(e)?h:u;return t.test(s(e))}var r=n(89),o=n(145),a=n(55),s=n(151),l=/[\\^$.*+?()[\]{}|]/g,u=/^\[object .+?Constructor\]$/,c=Object.prototype,A=Function.prototype.toString,d=c.hasOwnProperty,h=RegExp("^"+A.call(d).replace(l,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=i},function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,i,r){t=t||"&",i=i||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var u=0;l>u;++u){var c,A,d,h,p=e[u].replace(a,"%20"),f=p.indexOf(i);f>=0?(c=p.substr(0,f),A=p.substr(f+1)):(c=p,A=""),d=decodeURIComponent(c),h=decodeURIComponent(A),n(o,d)?Array.isArray(o[d])?o[d].push(h):o[d]=[o[d],h]:o[d]=h}return o}},function(e,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,i,r){return t=t||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(r){var o=encodeURIComponent(n(r))+i;return Array.isArray(e[r])?e[r].map(function(e){return o+encodeURIComponent(n(e))}).join(t):o+encodeURIComponent(n(e[r]))}).join(t):r?encodeURIComponent(n(r))+i+encodeURIComponent(n(e)):""}},function(e,t){e.exports='<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg">\n  <path d="M3 1l7 4.5-7 4.5v-9z"/>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-284 407.9 26 26">\r\n  <path d="M-276 425.9h2.5l7-7-2.5-2.4-7 6.9v2.5zm11.8-9.3c.3-.3.3-.7 0-.9l-1.5-1.5c-.3-.3-.7-.3-.9 0l-1.2 1.2 2.5 2.5 1.1-1.3zm-13.8 11.3h12v-1h-12v1z"/>\r\n</svg>'},function(e,t,n){e.exports=n(600)},function(e,t,n){"use strict";function i(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function r(e,t,n){c.insertTreeBefore(e,t,n)}function o(e,t,n){Array.isArray(t)?s(e,t[0],t[1],n):g(e,t,n)}function a(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],l(e,t,n),e.removeChild(n)}e.removeChild(t)}function s(e,t,n,i){for(var r=t;;){var o=r.nextSibling;if(g(e,r,i),r===n)break;r=o}}function l(e,t,n){for(;;){var i=t.nextSibling;if(i===n)break;e.removeChild(i)}}function u(e,t,n){var i=e.parentNode,r=e.nextSibling;r===t?n&&g(i,document.createTextNode(n),r):n?(m(r,n),l(i,r,t)):l(i,e,t)}var c=n(72),A=n(620),d=n(256),h=n(33),p=n(170),f=n(176),m=n(273),g=p(function(e,t,n){e.insertBefore(t,n)}),v={dangerouslyReplaceNodeWithMarkup:A.dangerouslyReplaceNodeWithMarkup,replaceDelimitedText:u,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var s=t[n];switch(s.type){case d.INSERT_MARKUP:r(e,s.content,i(e,s.afterNode));break;case d.MOVE_EXISTING:o(e,s.fromNode,i(e,s.afterNode));break;case d.SET_MARKUP:f(e,s.content);break;case d.TEXT_CONTENT:m(e,s.content);break;case d.REMOVE_NODE:a(e,s.fromNode)}}}};h.measureMethods(v,"DOMChildrenOperations",{replaceDelimitedText:"replaceDelimitedText"}),e.exports=v},function(e,t,n){"use strict";function i(e){return c.hasOwnProperty(e)?!0:u.hasOwnProperty(e)?!1:l.test(e)?(c[e]=!0,!0):(u[e]=!0,!1)}function r(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&1>t||e.hasOverloadedBooleanValue&&t===!1}var o=n(66),a=(n(639),n(33)),s=n(679),l=(n(14),new RegExp("^["+o.ATTRIBUTE_NAME_START_CHAR+"]["+o.ATTRIBUTE_NAME_CHAR+"]*$")),u={},c={},A={createMarkupForID:function(e){return o.ID_ATTRIBUTE_NAME+"="+s(e)},setAttributeForID:function(e,t){e.setAttribute(o.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return o.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(o.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){if(r(n,t))return"";var i=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?i+'=""':i+"="+s(t)}return o.isCustomAttribute(e)?null==t?"":e+"="+s(t):null},createMarkupForCustomAttribute:function(e,t){return i(e)&&null!=t?e+"="+s(t):""},setValueForProperty:function(e,t,n){var i=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(i){var a=i.mutationMethod;if(a)a(e,n);else if(r(i,n))this.deleteValueForProperty(e,t);else if(i.mustUseProperty){var s=i.propertyName;i.hasSideEffects&&""+e[s]==""+n||(e[s]=n)}else{var l=i.attributeName,u=i.attributeNamespace;u?e.setAttributeNS(u,l,""+n):i.hasBooleanValue||i.hasOverloadedBooleanValue&&n===!0?e.setAttribute(l,""):e.setAttribute(l,""+n)}}else o.isCustomAttribute(t)&&A.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){i(t)&&(null==n?e.removeAttribute(t):e.setAttribute(t,""+n))},deleteValueForProperty:function(e,t){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){var i=n.mutationMethod;if(i)i(e,void 0);else if(n.mustUseProperty){var r=n.propertyName;n.hasBooleanValue?e[r]=!1:n.hasSideEffects&&""+e[r]==""||(e[r]="")}else e.removeAttribute(n.attributeName)}else o.isCustomAttribute(t)&&e.removeAttribute(t)}};a.measureMethods(A,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"}),e.exports=A},function(e,t,n){"use strict";function i(e){return e===v.topMouseUp||e===v.topTouchEnd||e===v.topTouchCancel}function r(e){return e===v.topMouseMove||e===v.topTouchMove}function o(e){return e===v.topMouseDown||e===v.topTouchStart}function a(e,t,n,i){var r=e.type||"unknown-event";e.currentTarget=_.getNodeFromInstance(i),t?f.invokeGuardedCallbackWithCatch(r,n,e):f.invokeGuardedCallback(r,n,e),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,i=e._dispatchInstances;if(Array.isArray(n))for(var r=0;r<n.length&&!e.isPropagationStopped();r++)a(e,t,n[r],i[r]);else n&&a(e,t,n,i);e._dispatchListeners=null,e._dispatchInstances=null}function l(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var i=0;i<t.length&&!e.isPropagationStopped();i++)if(t[i](e,n[i]))return n[i]}else if(t&&t(e,n))return n;return null}function u(e){var t=l(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)?m(!1):void 0,e.currentTarget=_.getNodeFromInstance(n);var i=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,i}function A(e){return!!e._dispatchListeners}var d,h,p=n(47),f=n(166),m=n(12),g=(n(14),{injectComponentTree:function(e){d=e},injectTreeTraversal:function(e){h=e}}),v=p.topLevelTypes,_={isEndish:i,isMoveish:r,isStartish:o,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:u,hasDispatches:A,getInstanceFromNode:function(e){return d.getInstanceFromNode(e)},getNodeFromInstance:function(e){return d.getNodeFromInstance(e)},isAncestor:function(e,t){return h.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return h.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return h.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return h.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,i,r){return h.traverseEnterLeave(e,t,n,i,r)},injection:g};e.exports=_},function(e,t,n){"use strict";function i(e){null!=e.checkedLink&&null!=e.valueLink?u(!1):void 0}function r(e){i(e),null!=e.value||null!=e.onChange?u(!1):void 0}function o(e){i(e),null!=e.checked||null!=e.onChange?u(!1):void 0}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=n(260),l=n(112),u=n(12),c=(n(14),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),A={value:function(e,t,n){return!e[t]||c[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:s.func},d={},h={checkPropTypes:function(e,t,n){for(var i in A){if(A.hasOwnProperty(i))var r=A[i](t,i,e,l.prop);if(r instanceof Error&&!(r.message in d)){d[r.message]=!0;a(n)}}},getValue:function(e){return e.valueLink?(r(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(o(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(r(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(o(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=h},function(e,t,n){"use strict";var i=n(12),r=!1,o={unmountIDFromEnvironment:null,replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){r?i(!1):void 0,o.unmountIDFromEnvironment=e.unmountIDFromEnvironment,o.replaceNodeWithMarkup=e.replaceNodeWithMarkup,o.processChildrenUpdates=e.processChildrenUpdates,r=!0}}};e.exports=o},function(e,t,n){"use strict";function i(e,t,n,i){try{return t(n,i)}catch(o){return void(null===r&&(r=o))}}var r=null,o={invokeGuardedCallback:i,invokeGuardedCallbackWithCatch:i,rethrowCaughtError:function(){if(r){var e=r;throw r=null,e}}};e.exports=o},function(e,t){"use strict";var n={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=n},function(e,t,n){"use strict";var i=n(12),r={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,r,o,a,s,l){this.isInTransaction()?i(!1):void 0;var u,c;try{this._isInTransaction=!0,u=!0,this.initializeAll(0),c=e.call(t,n,r,o,a,s,l),u=!1}finally{try{if(u)try{this.closeAll(0)}catch(A){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var i=t[n];try{this.wrapperInitData[n]=o.OBSERVED_ERROR,this.wrapperInitData[n]=i.initialize?i.initialize.call(this):null}finally{if(this.wrapperInitData[n]===o.OBSERVED_ERROR)try{this.initializeAll(n+1)}catch(r){}}}},closeAll:function(e){this.isInTransaction()?void 0:i(!1);for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r,a=t[n],s=this.wrapperInitData[n];try{r=!0,s!==o.OBSERVED_ERROR&&a.close&&a.close.call(this,s),r=!1}finally{if(r)try{this.closeAll(n+1)}catch(l){}}}this.wrapperInitData.length=0}},o={Mixin:r,OBSERVED_ERROR:{}};e.exports=o},function(e,t,n){"use strict";var i=!1;e.exports=i},function(e,t){"use strict";var n=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,i,r){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,r)})}:e};e.exports=n},function(e,t){"use strict";function n(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}e.exports=n},function(e,t){"use strict";function n(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var i=r[e];return i?!!n[i]:!1}function i(e){return n}var r={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=i},function(e,t){"use strict";function n(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}e.exports=n},function(e,t){"use strict";function n(e){var t=e&&(i&&e[i]||e[r]);return"function"==typeof t?t:void 0}var i="function"==typeof Symbol&&Symbol.iterator,r="@@iterator";e.exports=n},function(e,t,n){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function i(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,i=n in document;if(!i){var a=document.createElement("div");a.setAttribute(n,"return;"),i="function"==typeof a[n]}return!i&&r&&"wheel"===e&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var r,o=n(28);o.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=i},function(e,t,n){"use strict";var i=n(28),r=/^[ \r\n\t\f]/,o=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,a=n(170),s=a(function(e,t){e.innerHTML=t});if(i.canUseDOM){var l=document.createElement("div");l.innerHTML=" ",""===l.innerHTML&&(s=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),r.test(t)||"<"===t[0]&&o.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),l=null}e.exports=s},function(e,t){"use strict";function n(e,t){var n=null===e||e===!1,i=null===t||t===!1;if(n||i)return n===i;var r=typeof e,o=typeof t;return"string"===r||"number"===r?"string"===o||"number"===o:"object"===o&&e.type===t.type&&e.key===t.key}e.exports=n},function(e,t,n){"use strict";function i(e){return p[e]}function r(e,t){return e&&"object"==typeof e&&null!=e.key?a(e.key):t.toString(36)}function o(e){return(""+e).replace(f,i)}function a(e){return"$"+o(e)}function s(e,t,n,i){var o=typeof e;if("undefined"!==o&&"boolean"!==o||(e=null),null===e||"string"===o||"number"===o||u.isValidElement(e))return n(i,e,""===t?d+r(e,0):t),1;var l,p,f=0,m=""===t?d:t+h;if(Array.isArray(e))for(var g=0;g<e.length;g++)l=e[g],p=m+r(l,g),f+=s(l,p,n,i);else{var v=c(e);if(v){var _,E=v.call(e);if(v!==e.entries)for(var S=0;!(_=E.next()).done;)l=_.value,p=m+r(l,S++),f+=s(l,p,n,i);else for(;!(_=E.next()).done;){var y=_.value;y&&(l=y[1],p=m+a(y[0])+h+r(l,0),f+=s(l,p,n,i))}}else if("object"===o){String(e);A(!1)}}return f}function l(e,t,n){return null==e?0:s(e,"",t,n)}var u=(n(56),n(39)),c=n(174),A=n(12),d=(n(14),"."),h=":",p={"=":"=0",":":"=2"},f=/[=:]/g;e.exports=l},function(e,t,n){"use strict";var i=(n(20),n(43)),r=(n(14),i);e.exports=r},function(e,t){"use strict";function n(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function i(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!r.call(t,i[a])||!n(e[i[a]],t[i[a]]))return!1;return!0}var r=Object.prototype.hasOwnProperty;e.exports=i},function(e,t,n){(function(e,i){function r(e,t){this._id=e,this._clearFn=t}var o=n(22).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},u=0;t.setTimeout=function(){return new r(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=u++,i=arguments.length<2?!1:s.call(arguments,1);return l[n]=!0,o(function(){l[n]&&(i?e.apply(null,i):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof i?i:function(e){delete l[e]}}).call(t,n(181).setImmediate,n(181).clearImmediate)},function(e,t,n){var i;(function(e,r){!function(o){function a(e){throw RangeError(M[e])}function s(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function l(e,t){var n=e.split("@"),i="";n.length>1&&(i=n[0]+"@",e=n[1]),e=e.replace(D,".");var r=e.split("."),o=s(r,t).join(".");return i+o}function u(e){for(var t,n,i=[],r=0,o=e.length;o>r;)t=e.charCodeAt(r++),t>=55296&&56319>=t&&o>r?(n=e.charCodeAt(r++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--)):i.push(t);return i}function c(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=x(e>>>10&1023|55296),e=56320|1023&e),t+=x(e)}).join("")}function A(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:S}function d(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function h(e,t,n){var i=0;for(e=n?L(e/T):e>>1,e+=L(e/t);e>P*b>>1;i+=S)e=L(e/P);return L(i+(P+1)*e/(e+C))}function p(e){var t,n,i,r,o,s,l,u,d,p,f=[],m=e.length,g=0,v=w,_=I;for(n=e.lastIndexOf(O),0>n&&(n=0),i=0;n>i;++i)e.charCodeAt(i)>=128&&a("not-basic"),f.push(e.charCodeAt(i));for(r=n>0?n+1:0;m>r;){for(o=g,s=1,l=S;r>=m&&a("invalid-input"),u=A(e.charCodeAt(r++)),(u>=S||u>L((E-g)/s))&&a("overflow"),g+=u*s,d=_>=l?y:l>=_+b?b:l-_,!(d>u);l+=S)p=S-d,s>L(E/p)&&a("overflow"),s*=p;t=f.length+1,_=h(g-o,t,0==o),L(g/t)>E-v&&a("overflow"),v+=L(g/t),g%=t,f.splice(g++,0,v)}return c(f)}function f(e){var t,n,i,r,o,s,l,c,A,p,f,m,g,v,_,C=[];for(e=u(e),m=e.length,t=w,n=0,o=I,s=0;m>s;++s)f=e[s],128>f&&C.push(x(f));for(i=r=C.length,r&&C.push(O);m>i;){for(l=E,s=0;m>s;++s)f=e[s],f>=t&&l>f&&(l=f);for(g=i+1,l-t>L((E-n)/g)&&a("overflow"),n+=(l-t)*g,t=l,s=0;m>s;++s)if(f=e[s],t>f&&++n>E&&a("overflow"),f==t){for(c=n,A=S;p=o>=A?y:A>=o+b?b:A-o,!(p>c);A+=S)_=c-p,v=S-p,C.push(x(d(p+_%v,0))),c=L(_/v);C.push(x(d(c,0))),o=h(n,g,i==r),n=0,++i}++n,++t}return C.join("")}function m(e){return l(e,function(e){return N.test(e)?p(e.slice(4).toLowerCase()):e})}function g(e){return l(e,function(e){return k.test(e)?"xn--"+f(e):e})}var v=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof r&&r);v.global!==v&&v.window!==v&&v.self!==v||(o=v);var _,E=2147483647,S=36,y=1,b=26,C=38,T=700,I=72,w=128,O="-",N=/^xn--/,k=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=S-y,L=Math.floor,x=String.fromCharCode;_={version:"1.3.2",ucs2:{decode:u,encode:c},decode:p,encode:f,toASCII:g,toUnicode:m},i=function(){return _}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}(this)}).call(t,n(57)(e),function(){return this}())},function(e,t,n){"use strict";var i=n(9),r=n(5),o=n(215),a={add:function(e,t,n){i.handleViewAction({actionType:r.BOOKMARK_THUMBNAIL_QUEUE_ADD_ITEM,pageId:e,id:t,url:n})},update:function(e,t,n){var a=o.getQueue(e);a&&0!==a.get("id")&&a.get("url")===t&&i.handleViewAction({actionType:r.BOOKMARK_THUMBNAIL_QUEUE_UPDATE_ITEM,page:e,id:a.get("id"),url:n})},remove:function(e,t){i.handleViewAction({actionType:r.BOOKMARK_THUMBNAIL_QUEUE_REMOVE_ITEM,page:e,id:t})}};e.exports=a},function(e,t,n){"use strict";var i=n(9),r=n(5),o=n(475),a={loadPromise:function(){return o().then(function(e){i.handleViewAction({actionType:r.CONTENT_SCRIPT_LOAD,contentScripts:e})})},addContentScript:function(e,t){i.handleViewAction({actionType:r.CONTENT_SCRIPT_PAGE_ADD,pageId:e,script:t})},removeContentScript:function(e,t){i.handleViewAction({actionType:r.CONTENT_SCRIPT_PAGE_REMOVE,pageId:e,script:t})}};e.exports=a},function(e,t,n){"use strict";var i=n(16),r=n(9),o=n(5),a=o.SEARCH_FIELD_SET_STATE,s=o.SEARCH_FIELD_ADD_TYPED_HISTORY,l=o.SEARCH_FIELD_DELETE_TYPED_HISTORY,u={setState:function(e,t){r.handleViewAction({actionType:a,state:t,page:e})},addTypedSearchHistory:function(e){var t=i.getActivePage().get("incognito");t===!1&&r.handleViewAction({actionType:s,query:e})},deleteTypedSearchHistory:function(e){r.handleViewAction({actionType:l,query:e})}};e.exports=u},function(e,t,n){"use strict";var i=n(9),r=n(128),o=n(5),a=o.SEARCH_SUGGEST_RESULT,s=n(63),l=void 0,u="",c=2,A=200,d={_onXHReadyStateChanged:function(e){l&&l.readyState===XMLHttpRequest.DONE&&l.status===A&&(i.handleViewAction({actionType:a,query:u,uid:e,json:l.responseText}),l=void 0,u="")},_abortXHR:function(){l.abort(),u="",l=void 0},suggest:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if("string"!=typeof e||0===e.length)throw TypeError("suggest query required");if(!t.SuggestUrl||e.length<c)return null;var n=r.getSearchSuggestURL(e,t.SuggestUrl);l&&this._abortXHR();var i=s();return u=e,l=new XMLHttpRequest,l.onreadystatechange=this._onXHReadyStateChanged.bind(this,i),l.open("GET",n,!0),l.send(),i}};e.exports=d},function(e,t,n){"use strict";function i(){return{bookmarksData:o.getFlatListOfBookmarksFolders()}}var r=n(1),o=n(61),a=n(2),s=a("Bookmarks"),l="1",u=r.createClass({displayName:"BookmarksFoldersFlatList",getInitialState:function(){return i()},_onStoreChange:function(){this.setState(i())},componentWillMount:function(){o.addChangeListener(this._onStoreChange)},componentWillUnmount:function(){o.removeChangeListener(this._onStoreChange)},getItemSpacer:function(e,t){function n(e){var i=arguments.length<=1||void 0===arguments[1]?0:arguments[1];if(l>=e)return i;var r=t.find(function(t){return t.id===e}).parentId;return i++,n(r,i)}var i=n(e),r=" ".repeat(3*i);return r},render:function(){var e=this,t=this.props.selectedItemID===l?s:this.state.bookmarksData.find(function(t){return t.id===e.props.selectedItemID}).title,n=this.state.bookmarksData.map(function(t,n){return r.createElement("option",{key:"dir_"+t.id,value:t.id},e.getItemSpacer(t.id,e.state.bookmarksData),t.title)});return r.createElement("span",{className:"bookmark-folder-picker"},r.createElement("input",{type:"text",value:t,readOnly:!0}),r.createElement("select",{className:"bookmark-folders",value:this.props.selectedItemID,onChange:this.props.onChange,title:this.props.title},r.createElement("option",{value:l},s),n))}});e.exports=u},function(e,t,n){"use strict";var i=n(26),r=n(3),o=n(74),a=n(58),s=n(35);e.exports={boundShortcuts:[],_onCommandStoreChange:function(){this.boundShortcuts&&this.boundShortcuts.forEach(function(e){i.unbind(e.key,e.func)}),this.boundShortcuts=[];var e=s.getCommandShortcuts();Object.keys(e).forEach(function(t){var n=e[t]["function"];i.bind(t,n),this.boundShortcuts.push({key:t,func:n})}.bind(this))},componentWillMount:function(){s.addChangeListener(this._onCommandStoreChange);var e=[];s.getCommands().forEach(function(t){r.addListener(t.name,a.configChanged),e.push(t.name)});for(var t=r.getKeysSync(e),n=[],i=0;i<e.length;i++){var l=t[e[i]];void 0!==l&&n.push({command:e[i],value:l})}a.setConfiguration(n),o.setSwitcherVisible(r.getSync("SHOW_PANEL_SWITCH")),r.addListener("SHOW_PANEL_SWITCH",this._onPanelSwitchChanged)},componentWillUnmount:function(){s.removeChangeListener(this._onCommandStoreChange),s.getCommands().forEach(function(e){return r.removeListener(e.name,a.configChanged)}),r.removeListener("SHOW_PANEL_SWITCH",this._onPanelSwitchChanged)},_onPanelSwitchChanged:function(e,t){o.setSwitcherVisible(t)}}},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(4),a=n(221),s=n(99),l=n(2),u=n(11),c=n(40),A=n(220),d=n(8),h=n(25),p=n(76),f=p.PLACEHOLDER_URL,m=n(78),g=n(62),v=n(60),_=n(5),E=n(51),S=_.CHANGED,y="BookmarkEditItem",b=r.createClass({displayName:"BookmarkEditItem",mixins:[u],vivaldiSettingsKeys:["BROWSER_FG_COLOR","BOOKMARK_BAR_VISIBLE","BOOKMARKS_BAR_FOLDER_IDS"],getInitialState:function(){return{id:"",title:"",url:"",nickname:"",description:"",thumbnail:"",speeddial:!1,isFolder:!1,isTrash:!1,dateAdded:"",index:0,generalErrorKey:null,saveBookmarkItem:null,editUrl:null}},componentWillMount:function(){g.addListener(S,this._onUrlbarStoreChanged)},componentWillUnmount:function(){g.removeListener(S,this._onUrlbarStoreChanged)},_onUrlbarStoreChanged:function(){var e=g.getUrlfieldStateFromId(y);this.setState(e)},saveBookmark:function(){if(!this.state.isTrash&&""!==this.state.id){var e={};return e.id=this.state.id,e.title=this.state.title?this.state.title.trim():"",e.url=(this.state.editUrl||this.state.url||"").trim(),e.nickname=this.state.nickname.trim(),e.description=this.state.description.trim(),e.speeddial=this.state.speeddial,e.index=this.state.index,e.thumbnail=this.state.thumbnail,this.state.isFolder||""!==e.url?void this.updateBookmark(e):void this.setState({generalErrorKey:l("URL cannot be empty.")})}},updateBookmark:function(e){var t=this;d.utilities.isUrlValid(e.url,function(n){t.state.isFolder?e.url="":n.urlValid&&n.schemeValid||(e.url="http://"+e.url);var i=e.id;delete e.id;var r=e.index;delete e.index,o.bookmarks.update(i,e,function(n){if(i===t.state.id&&o.runtime.lastError)t.setState({generalErrorKey:A(o.runtime.lastError.message)+" "+l("Changes not saved.")});else{e.id=i,e.index=r;var a={generalErrorKey:null};n&&n.id===t.state.id&&(a.url=n.url,a.editUrl=null),t.setState(a),E.setUrlfieldState(y,{editUrl:a.editUrl}),"function"==typeof t.props.onUpdate&&t.props.onUpdate()}})})},isFolder:function(){return this.state.isFolder===!0},isTrash:function(){return this.state.isTrash===!0},handleKeyDown:function(e){e.stopPropagation(),e.keyCode===h.KEY_RETURN&&(this.saveBookmark(),(this.state.isFolder||!this.state.isFolder&&""!==this.state.url.trim())&&this.props.onFocusTree()),e.keyCode===h.KEY_ESCAPE&&(e.preventDefault(),e.stopPropagation(),this.props.removeIfCreating(this.state.id),this.props.onFocusTree())},handleUpdateThumbnail:function(e){e.stopPropagation();var t={id:this.state.id,url:this.state.url};v.updateBookmarkThumbnail(t)},checkChangeSpeeddial:function(){var e=this;this.setState({speeddial:!this.state.speeddial},function(){e.saveBookmark()})},isBookmarkBarChecked:function(){return this.state.BOOKMARKS_BAR_FOLDER_IDS&&this.state.BOOKMARKS_BAR_FOLDER_IDS[0]===this.state.id&&this.state.BOOKMARK_BAR_VISIBLE},checkChangeBookmarkBar:function(){c.setBookmarkBarFolderAndToggleVisibility(this.state.id)},onInputChange:function(e,t){var n;this.setState((n={},i(n,e,t.target.value),i(n,"generalErrorKey",null),n))},onUrlChange:function(e){this.setState({url:e,generalErrorKey:null})},onSelect:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=e.url&&e.url!==f?e.url:"";this.setState({isFolder:!e.url,isTrash:!!e.trash,id:e.id||"",thumbnail:e.thumbnail||"",title:e.title||"",url:t,editUrl:null,nickname:e.nickname||"",description:e.description||"",speeddial:!!e.speeddial,dateAdded:e.dateAdded?new Date(e.dateAdded):"",generalErrorKey:null})},render:function(){var e=a.dateTimeLong(this.state.dateAdded),t="ui-light"===this.state.BROWSER_FG_COLOR?"/resources/bookmark_item.png":"/resources/bookmark_item_dark.png";return r.createElement("div",{className:"manager-editor"},r.createElement("div",{className:"addbookmark-cardwrapper"},this.isFolder()?r.createElement("div",{className:"preview-folder",dangerouslySetInnerHTML:{__html:n(235)}}):r.createElement("div",{className:"preview"},r.createElement(s,{key:this.state.id,className:"bookmarks-editor-thumbnail favicon-current-border-color",src:this.state.thumbnail,altSrc:t,alt:l("Bookmark thumbnail image")}),r.createElement("button",{tabIndex:"-1",onClick:this.handleUpdateThumbnail,className:"update-thumbnail circular",title:l("Update thumbnail")})),r.createElement("div",{className:"dialog-content cardview"},r.createElement("div",{className:"fieldset"},r.createElement("input",{className:"cardview title",ref:"refTitle",id:"reftitle",placeholder:l("Title"),onChange:this.onInputChange.bind(this,"title"),value:this.state.title,onKeyDown:this.handleKeyDown,type:"text",onBlur:this.saveBookmark})),r.createElement("div",{className:this.isFolder()?"fieldset collapse":"fieldset"},r.createElement(m,{ref:"refUrl",title:l("Enter webpage address"),disabled:this.isFolder(),className:"cardview address",pageId:y,placeholder:l("Address"),displayUrl:this.state.url,editUrl:this.state.editUrl,autocompletionEnabled:!0,triggerTypedHistory:!1,selectionStart:this.state.selectionStart,selectionEnd:this.state.selectionEnd,onUrlFieldChanged:this.onUrlChange,onKeyDown:this.handleKeyDown,onBlur:this.saveBookmark,autoFocus:!0})),r.createElement("div",{className:"fieldset resizable"},r.createElement("textarea",{className:"cardview description",ref:"refDescription",id:"refdescription",placeholder:l("Description"),value:this.state.description,onChange:this.onInputChange.bind(this,"description"),onKeyDown:this.handleKeyDown,type:"text",onBlur:this.saveBookmark})),r.createElement("div",{className:"fieldset"},r.createElement("input",{className:"cardview nickname",ref:"refNickname",id:"refnickname",placeholder:l("Nickname"),value:this.state.nickname,onChange:this.onInputChange.bind(this,"nickname"),onKeyDown:this.handleKeyDown,type:"text",onBlur:this.saveBookmark})),r.createElement("div",{className:this.isFolder()?"fieldset center cardview":"fieldset center collapse"},r.createElement("input",{ref:"refSpeeddial",id:"refspeeddial",className:"cardview",disabled:this.isFolder()?!1:"disabled",checked:this.state.speeddial,onChange:this.checkChangeSpeeddial,type:"checkbox"}),r.createElement("label",{htmlFor:"refspeeddial"},l("Use as Speed Dial"))),r.createElement("div",{className:this.isFolder()?"fieldset center cardview":"fieldset center collapse"},r.createElement("input",{ref:"refBookmarkBar",id:"refbookmarkBar",className:"cardview",disabled:this.isFolder()?!1:"disabled",checked:this.isBookmarkBarChecked(),onChange:this.checkChangeBookmarkBar,type:"checkbox"}),r.createElement("label",{htmlFor:"refbookmarkBar"},l("Use as Bookmark Bar"))),this.state.dateAdded&&r.createElement("div",{className:"fieldset"},r.createElement("div",{className:"meta-icon date fieldset",dangerouslySetInnerHTML:{__html:n(233)}}),r.createElement("span",{className:"dateCreated bookmark",title:l("Date created")},e)),this.state.generalErrorKey&&r.createElement("p",{className:"warning"},this.state.generalErrorKey))))}});e.exports=b},function(e,t,n){"use strict";var i=n(1),r=n(8),o=n(7),a=n(197),s=n(4),l=n(193),u=n(52),c=n(97),A=n(40),d=n(11),h=n(2),p=n(61),f=n(25),m=n(131),g=n(76),v=g.PLACEHOLDER_URL,_=1500,E="0",S="1",y="2",b=-1,C=0,T=i.createClass({displayName:"BookmarkTree",mixins:[o,u,l,d],vivaldiSettingsKeys:["SHOW_VIVALDI_FOOTER","BOOKMARKS_SINGLE_CLICK_IN_TREE"],getInitialState:function(){return this.rowHeight=24,{bookmarkTreeNodeArray:[],hasFocus:!1,bookmarkData:p.getBookmarksData()}},componentWillMount:function(){p.addChangeListener(this._onStoreChange)},componentWillReceiveProps:function(e){this.props.filter!==e.filter&&this._onStoreChange(e.filter)},componentWillUnmount:function(){p.removeChangeListener(this._onStoreChange)},_onStoreChange:function(e){var t=this;e&&e.length>0?s.bookmarks.search(e,function(e){t.setState({bookmarkData:e})}):this.setState({bookmarkData:p.getBookmarksData()})},onDelete:function(){this.refs.treeListEntries.onDelete()},"delete":function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];A.disableBookmarkMutationHandlers(),Promise.all(t.map(function(t){return new Promise(function(n){var i=t.id||t;e.hasChildren(t)?s.bookmarks.removeTree(i,n):s.bookmarks.remove(i,n)})})).then(function(){A.enableBookmarkMutationHandlers(),e.selectNextAfterDelete()})},selectNextAfterDelete:function(){var e=this.refs.treeListEntries.getNextSelectedAfterDelete();e!==b&&this.refs.treeListEntries.selectById(e)},expandAll:function(){this.refs.treeListEntries.expandAll()},collapseAll:function(){this.refs.treeListEntries.collapseAll()},isBookmarkLead:function(e){return e===this.SelectionMixinGetLead()},isBookmarkSelected:function(e){return this.SelectionMixinIsSelected(e)},onDrop:function(e,t,n){var i=e.nativeEvent.dataTransfer.getData("text"),r=e.nativeEvent.dataTransfer.getData("title");r&&""!==r||(r=m(i));var o=this.isFolder(t)&&"on"===n.position?t.id:t.parentId,a=this.isFolder(t)&&"on"===n.position?0:"below"===n.position?++t.index:t.index;return this.onCreate([{parentId:o,index:a,url:i,title:r}])},updateExpandFolderOnHover:function(e,t){for(var n=this.SelectionMixinGetAllSelected(),i=0;i<n.length;i++)if(t.id===n[i].id)return;var r=C;C=0,r?e-r>=_?this.toggleExpandModel(t.id):C=r:this.isFolder(t)&&!t.isExpanded&&(C=e)},onMove:function(e,t){return e=Array.isArray(e)?e:[e],e=e.filter(function(e){return!e.trash}),Promise.all(e.map(function(e){var n=e.id||e;return new Promise(function(i){s.bookmarks.move(n.toString(),t,function(){i(e)})})}))},isValidForClipboard:function(e){return!e.trash},isValidAddTarget:function(e){return!this.isTrashed(e)},hasChildren:function(e){return!!e.children&&e.children.length>0},isTrashed:function(e){return e?e.trash?!0:e.parentId?this.isTrashed(this.refs.treeListEntries.findTreeItem(e.parentId)):!1:!1},onAdd:function(e){this.refs.treeListEntries.onAdd(e)},moveBookmarkToBookmarkBarFolder:function(e){var t={parentId:p.getBookmarkBarFolderId()};s.bookmarks.move(e.id.toString(),t)},isFolder:function(e){return!(!e||!e.children&&e.url)},onKeyDown:function(e){if(e.keyCode===f.KEY_ENTER||e.keyCode===f.KEY_RETURN){var t={bookmarks:this.getSelectedBookmarks()};this.open(t,!0),e.preventDefault()}},getSelectedBookmarks:function(){var e=this,t=this.refs.treeListEntries.SelectionMixinGetAllSelected().map(function(e){return e.id}),n=[];return t.forEach(function(t){var i=e.refs.treeListEntries.findTreeItem(t);i&&Array.prototype.push.apply(n,e.getBookmarksByNode(i))}),n},getSelectedItem:function(){return this.refs.treeListEntries.getSelectedItem()},isTrash:function(e){return!!e.trash},isEditable:function(e){return-1===[E,S,y].indexOf(e.id)&&!e.trash},_openInNewWindow:function(e,t){var n={bookmarks:this.getSelectedBookmarks(),newWindow:!0,inBackground:e,incognito:t};this.open(n,!0)},_openInNewTab:function(e){var t={bookmarks:this.getSelectedBookmarks(),newTab:!0,inBackground:e};this.open(t,!0)},_openBookmark:function(){var e={bookmarks:this.getSelectedBookmarks(),inCurrent:!0};this.open(e,!0)},canBeSpeedDialFolder:function(e){return!e.speeddial&&!this.isTrash(e)&&this.isFolder(e)&&this.isEditable(e)},isSpeedDialFolder:function(e){return e.speeddial},getContextMenuItems:function(e){var t=this;return e.trash?[{name:h("Empty Trash"),handler:this.onEmptyTrash}]:[{name:h("Open"),handler:this._openBookmark},{name:h("Open in New Tab"),handler:this._openInNewTab.bind(this,!1)},{name:h("Open in Background Tab"),handler:this._openInNewTab.bind(this,!0)},{name:"---"},{name:h("Open in New Window"),handler:this._openInNewWindow.bind(this,!1)},{name:h("Open in Private Window"),handler:this._openInNewWindow.bind(this,!1,!0)},{name:"---"},{name:h("Use as Speed Dial"),testVisibility:function(){return t.canBeSpeedDialFolder(e)},handler:function(){t.props.onToggleSpeeddial(e)}},{name:h("Remove from Speed Dial"),testVisibility:function(){return t.isSpeedDialFolder(e)},handler:function(){t.props.onToggleSpeeddial(e)}},{name:h("Set as Bookmark Bar Folder"),testVisibility:function(){return t.isFolder(e)},handler:function(){A.setBookmarkBarFolderAndToggleVisibility(e.id)}},{name:h("Move to Bookmark Bar Folder"),handler:function(){t.moveBookmarkToBookmarkBarFolder(e)}}]},getContextMenuItemProps:function(e){return{showEdit:this.isEditable(e),showNewFolder:!e.trash,showCutCopyPasteDelete:!e.trash}},handleExpandClick:function(){this.refs.treeListEntries.toggleSelectedExpansion()},onItemClick:function(e){this.state.BOOKMARKS_SINGLE_CLICK_IN_TREE&&this.onOpenBookmarks(e)},onItemDoubleClick:function(e){this.state.BOOKMARKS_SINGLE_CLICK_IN_TREE||this.onOpenBookmarks(e)},onItemMouseDown:function(e,t){1===t.button&&(t.preventDefault(),t.stopPropagation())},onItemMouseUp:function(e,t){1===t.button&&(this._openInNewTab(!0),t.preventDefault(),t.stopPropagation())},onOpenBookmarks:function(e){var t=this,n=this.refs.treeListEntries.SelectionMixinGetAllSelected().map(function(e){return t.refs.treeListEntries.findTreeItem(e.id)}).filter(function(e){return!!e&&!!e.url&&e.url!==v}),i={bookmarks:n},r="MacIntel"===navigator.platform?e.metaKey:e.ctrlKey;e.shiftKey&&r?i.newWindow=!0:e.shiftKey?i.newTab=!0:r&&(i.newTab=!0,i.inBackground=!0),this.open(i,!0)},renderItemContent:function(e){var t=16*(e.level+1)+"px",r=16*e.level+"px",o=[];if(o.push(i.createElement("label",{"data-parent":e.parentId,key:"0"},this.isFolder(e)&&this.hasChildren(e)&&i.createElement("span",{className:"expand-icon",style:{marginLeft:r},onClick:this.handleExpandClick,dangerouslySetInnerHTML:{__html:n(158)}}),this.isFolder(e)&&this.isTrash(e)&&i.createElement(c,{speeddial:e.speeddial,open:e.isExpanded,trash:!0,leftMargin:this.hasChildren(e)?0:t}),this.isFolder(e)&&!this.isTrash(e)&&i.createElement(c,{speeddial:e.speeddial,open:e.isExpanded,trash:!1,leftMargin:this.hasChildren(e)?0:t}),!this.isFolder(e)&&i.createElement("img",{src:"chrome://favicon/"+e.url,style:{marginLeft:t},width:"16",height:"16",alt:""}),i.createElement("span",{className:"title"},e.title),this.hasChildren(e)&&!this.props.showBookmarkManager&&i.createElement("span",{className:"folder-item-count"},e.children.length))),this.props.showBookmarkManager){var a=e.url!==v?e.url:"";o.push(i.createElement("label",{key:"1"},this.hasChildren(e)&&this.props.showBookmarkManager?i.createElement("span",{className:"secondary"},h("$1 item","$1 items",[e.children.length])):a)),o.push(i.createElement("label",{key:"2"},e.nickname)),o.push(i.createElement("label",{key:"3"},e.description))}return o},onSelect:function(e){var t=this,n=e.id;if(this.props.onSelect){if(!n||n===b)return void this.props.onSelect();s.bookmarks.get(n.toString(),function(e){s.runtime.lastError&&console.warn("chrome.bookmarks.get failed: %s %o",n,s.runtime.lastError);var i=e&&1===e.length?e[0]:null;i&&t.props.onSelect(i)})}},onEmptyTrash:function(){r.bookmarksPrivate.emptyTrash(function(e){e===!1&&console.warn("Empty trash failed.")})},onCreate:function(e){var t=this;e=Array.isArray(e)?e:[e];var n=!1,i=function(e){return Promise.all(e.map(function(e){return n=n||e.isNew,new Promise(function(n,i){t.createBookmark(e.title,e.url||(e.children?null:v),e.parentId.toString(),e.description||null,e.nickname||null,e.index,function(r){if(!r)return void i("Bookmark was not created");if(t.hasChildren(e)){var o=!0,a=!1,s=void 0;try{for(var l,u=e.children[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;c.parentId=r.id}}catch(A){a=!0,s=A}finally{try{!o&&u["return"]&&u["return"]()}finally{if(a)throw s}}t.onCreate(e.children).then(function(){n(r)})}else n(r)})})}))};return A.disableBookmarkMutationHandlers(),i(e).then(function(e){return A.enableBookmarkMutationHandlers(),"function"==typeof t.props.onCreate&&t.props.onCreate(n),e})},createBookmark:function(e,t,n,i,r,o,a){s.bookmarks.create({title:e,url:t,parentId:n,description:i,nickname:r,index:o},function(e){s.runtime.lastError&&console.warn("chrome.bookmarks.create failed: %o",s.runtime.lastError),a&&a(e)})},render:function(){return i.createElement(a,{ref:"treeListEntries",nodes:this.state.bookmarkData,onSelect:this.onSelect,onItemClick:this.onItemClick,onItemDoubleClick:this.onItemDoubleClick,onItemMouseDown:this.onItemMouseDown,onItemMouseUp:this.onItemMouseUp,onCreate:this.onCreate,"delete":this["delete"],onMove:this.onMove,onEdit:this.props.onEdit,isFolder:this.isFolder,isTrash:this.isTrash,hasChildren:this.hasChildren,settings:this.props.showBookmarkManager?"BOOKMARKS_MANAGER":"BOOKMARKS_PANEL",renderItemContent:this.renderItemContent,getContextMenuItems:this.getContextMenuItems,getContextMenuItemProps:this.getContextMenuItemProps,sorting:this.props.sorting,onKeyDown:this.onKeyDown,onDrop:this.onDrop,rootId:S,isValidAddTarget:this.isValidAddTarget,isValidForClipboard:this.isValidForClipboard})}});e.exports=T},function(e,t,n){"use strict";var i=n(299),r=!0,o={getInitialState:function(){return{navigationModel:new i}},updateKeyboardState:function(){this.setState({stateCount:this.state.stateCount++,selectionModel:this.state.selectionModel})},setMultiSelectInMixin:function(e){r=e},KeyboardNavigationMixinReset:function(){this.state.navigationModel.clear()},KeyboardNavigationMixinAddToNavigationList:function(e){-1===this.state.selectionModel.leadIndex&&(this.state.selectionModel.leadIndex=e,this.state.selectionModel.selectedIds_.push(new Object({id:e,selected:!0})),this.state.selectionModel.anchorIndex=e),this.state.navigationModel.add(e)},left:function(e){if(this.isfolderAndHasItems&&this.isfolderAndHasItems()===!0){if(this.state.expandModel&&this.state.selectionModel.isSingleItemSelected){var t=this.isExpanded(this.state.selectionModel.FirstSingleItemSelected);t&&this.toggleExpandModel(this.state.selectionModel.FirstSingleItemSelected)}e.preventDefault(),e.stopPropagation()}},right:function(e){if(this.isfolderAndHasItems&&this.isfolderAndHasItems()===!0){if(this.state.expandModel&&this.state.selectionModel.isSingleItemSelected){var t=this.isExpanded(this.state.selectionModel.FirstSingleItemSelected);t||this.toggleExpandModel(this.state.selectionModel.FirstSingleItemSelected)}e.preventDefault(),e.stopPropagation()}},log:function(){for(var e="",t=this.state.navigationModel.list._head;t;)e=e+t.data+" - ",t=t.next},up:function(e){var t=this.state.selectionModel.leadIndex,n=this.state.navigationModel.list._tail;if(n)for(;n.prev;){if(t===n.data)return this.selectById(n.prev.data,e),this.state.selectionModel.leadIndex=n.prev.data,this.setState({selectionModel:this.state.selectionModel}),e&&(e.preventDefault(),e.stopPropagation()),!1;n=n.prev}},down:function(e){var t=this.state.selectionModel.leadIndex,n=this.state.navigationModel.list._head;if(n)for(;n.next;){if(t===n.data)return this.selectById(n.next.data,e),this.state.selectionModel.leadIndex=n.next.data,this.setState({selectionModel:this.state.selectionModel}),e&&(e.preventDefault(),e.stopPropagation()),!1;n=n.next}},home:function(){var e=this.state.navigationModel.list._head;this.selectById(e.data)},space:function(e){var t=this.state.selectionModel.leadIndex,n=this.state.selectionModel.isSelected(t);this.state.selectionModel.setIndexSelected(t,!n),this.updateKeyboardState()},end:function(){var e=this.state.navigationModel.list._tail;this.selectById(e.data)},ctrlup:function(e){for(var t=this.state.selectionModel.leadIndex,n=this.state.navigationModel.list._tail;n.prev;){if(t===n.data)return this.leadChanged(n.prev.data,e),this.state.selectionModel.leadIndex=n.prev.data,void this.updateKeyboardState();n=n.prev}},ctrldown:function(e){for(var t=this.state.selectionModel.leadIndex,n=this.state.navigationModel.list._head;n.next;){if(t===n.data)return this.state.selectionModel.leadIndex=n.next.data,this.leadChanged(n.next.data,e),void this.updateKeyboardState();n=n.next}},shiftup:function(){var e=this.state.selectionModel.leadIndex;this.state.selectionModel.unSelectAll(),-1===this.state.selectionModel.anchorIndex&&(this.state.selectionModel.anchorIndex=e);for(var t,n=this.state.navigationModel.list._tail;n;){if(e===n.data){if(!n.prev)return;this.state.selectionModel.leadIndex=n.prev.data,t=n.prev.data;var i,r=this.isAnchorFirst(this.state.selectionModel.leadIndex);for(i=r.anchorFirst?this.state.selectionModel.leadIndex:this.state.selectionModel.anchorIndex;r.node;){if(i===r.node.data)return this.state.selectionModel.setIndexSelected(r.node.data,!0),this.state.selectionModel.leadIndex=t,void this.updateKeyboardState();this.state.selectionModel.setIndexSelected(r.node.data,!0),r.node=r.node.next}}n=n.prev}},shiftdown:function(){var e=this.state.selectionModel.leadIndex;this.state.selectionModel.unSelectAll(),-1===this.state.selectionModel.anchorIndex&&(this.state.selectionModel.anchorIndex=e,this.state.selectionModel.setIndexSelected(e,!0));for(var t,n=this.state.navigationModel.list._head;n;){if(e===n.data){if(!n.next)return;this.state.selectionModel.leadIndex=n.next.data,t=n.next.data;var i,r=this.isAnchorFirst(this.state.selectionModel.leadIndex);for(i=r.anchorFirst?this.state.selectionModel.leadIndex:this.state.selectionModel.anchorIndex;r.node;){if(i===r.node.data)return this.state.selectionModel.setIndexSelected(r.node.data,!0),this.state.selectionModel.leadIndex=t,void this.updateKeyboardState();this.state.selectionModel.setIndexSelected(r.node.data,!0),r.node=r.node.next}}n=n.next}},_selectAll:function(e){
return this.selectAll(),!1},KeyboardNavigationMixinOnFocus:function(){var e=n(26),t="MacIntel"===navigator.platform;e.bind("up",this.up),e.bind("down",this.down),e.bind("left",this.left),e.bind("right",this.right),e.bind("home",this.home),e.bind("end",this.end),e.bind("esc",this.unSelectAll),e.bind(t?"meta+a":"ctrl+a",this._selectAll),e.bind(t?"meta+left":"ctrl+left",this.left),e.bind(t?"meta+right":"ctrl+right",this.right),this.onDelete?e.bind(t?"meta+backspace":"del",this.onDelete):null,t||(e.bind("ctrl+space",this.space),e.bind("ctrl+up",this.ctrlup),e.bind("ctrl+down",this.ctrldown)),r&&(e.bind("shift+up",this.shiftup),e.bind("shift+down",this.shiftdown))},KeyboardNavigationMixinOnBlur:function(){var e=n(26),t="MacIntel"===navigator.platform;e.unbind("up",this.up),e.unbind("down",this.down),e.unbind("left",this.left),e.unbind("right",this.right),e.unbind("home",this.home),e.unbind("end",this.end),e.unbind("esc",this.unSelectAll),e.unbind(t?"meta+a":"ctrl+a",this._selectAll),e.unbind(t?"meta+left":"ctrl+left",this.left),e.unbind(t?"meta+right":"ctrl+right",this.right),this.onDelete?e.unbind(t?"meta+backspace":"del",this.onDelete):null,t||(e.unbind("ctrl+space",this.space),e.unbind("ctrl+up",this.ctrlup),e.unbind("ctrl+down",this.ctrldown)),r&&(e.unbind("shift+up",this.shiftup),e.unbind("shift+down",this.shiftdown))},KeyboardNavigationMixinAddItemToNavigationList:function(e,t){for(var n=!1,i=this.state.navigationModel._linkedList._head;i;){if(e===i.data){n=!0;break}i=i.next}n||-1===t||this.KeyboardNavigationMixinAddToNavigationList(e)}};e.exports=o},function(e,t,n){"use strict";var i=n(194),r={getInitialState:function(){return{selectionModel:new i,stateCount:-1}},resetSelectionModel:function(){this.state.selectionModel.resetSelectionModel(),this.updateState()},updateState:function(){this.setState({stateCount:this.state.stateCount++})},unSelectAll:function(){this.state.selectionModel.unSelectAll(),this.updateState()},selectNextItemAfterDelete:function(e,t){var n=1,i=this.state.navigationModel.list._head,r=this.state.navigationModel.list._tail;if(i.data===r.data)return null;if(e===r.data)return n=r.prev.data;for(;i;){if(e===i.data){if(!t||!this.isExpanded(i.data))return n=i.next.data;for(i=i.next;i;){var o=this.findTreeItem(i.data);if(this.isFolder(o))return i.data;if(i=i.next,!i)return null}n=i.prev?i.prev.data:i.next.data}i=i.next}},selectAll:function(){for(var e=[],t=this.state.navigationModel.list._head;t;)e.push(t.data),t=t.next;this.state.selectionModel.selectAll(e),this.updateState()},SelectionMixinGetLead:function(){return this.state.selectionModel.leadIndex},SelectionMixinGetSelected:function(){return this.state.selectionModel.FirstSingleItemSelected},SelectionMixinGetAllSelected:function(){return this.state.selectionModel.selectedIds},SelectionMixinSetSelection:function(e){this.state.selectionModel.resetSelectionModel(),this.state.selectionModel.setIndexSelected(e,!0),this.state.selectionModel.leadIndex=e,this.updateState()},SelectionMixinIsSelected:function(e){return this.state.selectionModel.isSelected(e)},SelectionMixinIsLead:function(e){return this.state.selectionModel.isSelectionLead(e)},SelectionMixinSelectItem:function(e,t,n,i,r){this.state.selectionModel.leadIndex=e;var o="MacIntel"===navigator.platform?i:t,a=this.state.selectionModel.isSelected(e);if(o||n)a=r?r:!a;else{if(r&&this.state.selectionModel.length>1)return;this.state.selectionModel.unSelectAll(),a=!0}if(n){var s,l=this.isAnchorFirst(e);for(s=l.anchorFirst?e:this.state.selectionModel.anchorIndex;l.node;){if(s===l.node.data)return this.state.selectionModel.setIndexSelected(l.node.data,!0),void this.updateState();this.state.selectionModel.setIndexSelected(l.node.data,!0),l.node=l.node.next}}else this.state.selectionModel.anchorIndex=e,this.state.selectionModel.setIndexSelected(e,a);this.updateState()},isAnchorFirst:function(e){for(var t=this.state.navigationModel.list._head;t;){if(this.state.selectionModel.anchorIndex===t.data)return{anchorFirst:!0,node:t};if(e===t.data)return{anchorFirst:!1,node:t};t=t.next}}};e.exports=r},function(e,t,n){"use strict";var i=n(65),r=n(194),o={getInitialState:function(){return{selectionModel:new r}},resetSelectionModel:function(){this.state.selectionModel.resetSelectionModel(),this.updateSelectionState(new r)},updateSelectionState:function(e){var t=i(this.state.selectionModel,{$merge:e});t.__proto__=this.state.selectionModel.__proto__,this.setState({selectionModel:t})},selectNextItemAfterDelete:function(e,t){return this.selectNextAfterDeletion(e,t)},SelectionMixinSelectAll:function(){this.updateSelectionState(this.state.selectionModel.selectAll(this.getAllIds()))},SelectionMixinUnSelectAll:function(){this.updateSelectionState(this.state.selectionModel.unSelectAll())},SelectionMixinGetLead:function(){return this.state.selectionModel.leadIndex},SelectionMixinGetSelectionModel:function(){return this.state.selectionModel},SelectionMixinGetSelected:function(){return this.state.selectionModel.FirstSingleItemSelected},SelectionMixinGetAllSelected:function(){return this.state.selectionModel.selectedIds},SelectionMixinIsSelected:function(e){return this.state.selectionModel.isSelected(e)},SelectionMixinIsLead:function(e){return this.state.selectionModel.isSelectionLead(e)},SelectionMixinSetLead:function(e){this.updateSelectionState(this.state.selectionModel.setLeadIndex(e))},SelectionMixinSelectItem:function(e,t,n,i,r){var o={};o=this.state.selectionModel.setLeadIndex(e);var a="MacIntel"===navigator.platform?i:t,s=this.state.selectionModel.isSelected(e);if(a||n)s=r?r:!s;else{if(r&&this.state.selectionModel.length>1)return;o=Object.assign(this.state.selectionModel.unSelectAll()),s=!0}if(n){var l=this.getSelectedIdsFromIdToAnchor(e);o=Object.assign(this.state.selectionModel.setSelectedIds(l))}else this.state.selectionModel.anchorIndex=e,o=Object.assign(this.state.selectionModel.setIndexSelected(e,s));this.updateSelectionState(o)},getSelectedIdsFromIdToAnchor:function(e){var t=this.state.selectionModel.anchorIndex,n=this.getIdsBetween(t,e);return n}};e.exports=o},function(e,t){"use strict";function n(){this.selectedIds_=[],this.anchorIndex_=-1,this.leadIndex_=-1}n.prototype={isSelected:function(e){var t=this.selectedIds_.map(function(e){return e.id}).indexOf(e),n=this.selectedIds_[t];return n?n.selected:!1},get length(){return this.selectedIds_.length},get isSingleItemSelected(){return 1===this.selectedIds_.length},get FirstSingleItemSelected(){return this.isSingleItemSelected?this.selectedIds_[0].id:-1},get selectedIds(){return this.selectedIds_},set selectedIds(e){this.selectedIds=-1!==e?[e]:[]},get firstSelectedIndex(){for(var e=0;e<this.selectedIds_.length;e++)return Number(e);return-1},resetSelectionModel:function(){this.selectedIds_=[],this.anchorIndex_=-1,this.leadIndex_=-1},unSelectAll:function(){return this.selectedIds_=[],{selectedIds_:this.selectedIds_}},logSelectedIds:function(){console.log(this.selectedIds_)},selectAll:function(e){return e.forEach(function(e){this.selectedIds_.push(new Object({id:e,selected:!0}))}.bind(this)),{selectedIds_:this.selectedIds_}},isSelectionLead:function(e){return this.leadIndex===e},setSelectedIds:function(e){return this.selectedIds_=e.map(function(e){return{selected:!0,id:e}}),{selectedIds_:this.selectedIds_}},setLeadIndex:function(e){return this.leadIndex=e,{leadIndex_:this.leadIndex_}},setIndexSelected:function(e,t){var n=this.selectedIds_.map(function(e){return e.id}).indexOf(e),i=this.selectedIds_[n];if(!i||i.selected!==t){if(this.leadIndex=e,t)this.selectedIds_.push(new Object({id:e,selected:t}));else{var r=this.selectedIds_.map(function(e){return e.id}).indexOf(e);this.selectedIds_.splice(r,1)}return{leadIndex_:this.leadIndex_,selectedIds_:this.selectedIds_}}},get leadIndex(){return this.leadIndex_},set leadIndex(e){this.leadIndex_=e},get anchorIndex(){return this.anchorIndex_},set anchorIndex(e){this.anchorIndex_=e}},e.exports=n},function(e,t,n){"use strict";var i=n(1),r=n(6),o=n(2),a=n(81),s=i.createClass({displayName:"SortingSelector",updateField:function(e){var t=e.target.value,n=this.props.sort.sortOrder;"manually"===t?n=a.NO_SORTING:"manually"!==t&&this.props.sort.sortOrder===a.NO_SORTING&&(n=a.ASCENDING_SORT),this.props.onSortChange(n,t)},updateSort:function(e){var t=void 0;if(e===this.props.sort.sortField)switch(this.props.sort.sortOrder){case a.ASCENDING_SORT:t=a.DESCENDING_SORT;break;case a.DESCENDING_SORT:t=a.NO_SORTING;break;case a.NO_SORTING:t=a.ASCENDING_SORT}else t=a.ASCENDING_SORT;this.props.onSortChange(t,e)},updateOrder:function(){var e=this.props.sort.sortOrder===a.DESCENDING_SORT?a.ASCENDING_SORT:a.DESCENDING_SORT;this.props.onSortChange(e,this.props.sort.sortField)},_getSortLabel:function(e,t){var s=r({"sortselector-button":!0,"sortselector-button-active":this.props.sort.sortField===e&&this.props.sort.sortOrder!==a.NO_SORTING,"direction-ascending":this.props.sort.sortField===e&&this.props.sort.sortOrder===a.ASCENDING_SORT,"direction-descending":this.props.sort.sortField===e&&this.props.sort.sortOrder===a.DESCENDING_SORT});return i.createElement("label",null,i.createElement("button",{className:s,onClick:this.updateSort.bind(this,e),title:o("Toggle Sort Order"),tabIndex:this.props.keyAccess,dangerouslySetInnerHTML:{__html:t+n(234)}}))},render:function(){var e=r({"sortselector-button":!0,"direction-ascending":this.props.sort.sortOrder===a.ASCENDING_SORT,"direction-descending":this.props.sort.sortOrder===a.DESCENDING_SORT});return this.props.fullsize===!0?i.createElement("div",{className:"sortselector sortselector-tableheader"},this._getSortLabel("title",o("Title")),this._getSortLabel("url",o("Address")),this._getSortLabel("nickname",o("Nickname")),this._getSortLabel("description",o("Description"))):i.createElement("div",{className:"sortselector sortselector-compact"},i.createElement("select",{className:"sortselector-dropdown",title:o("Sort by..."),value:this.props.sort.sortField,tabIndex:this.props.keyAccess,onChange:this.updateField},i.createElement("option",{value:"manually"},o("Sort Manually")),i.createElement("option",{value:"title"},o("Sort by Title")),i.createElement("option",{value:"url"},o("Sort by Address")),i.createElement("option",{value:"nickname"},o("Sort by Nickname")),i.createElement("option",{value:"description"},o("Sort by Description")),i.createElement("option",{value:"dateAdded"},o("Sort by Date Created"))),i.createElement("button",{className:e,onClick:this.updateOrder,title:o(this.props.sort.sortOrder===a.ASCENDING_SORT?"Sort Descending":"Sort Ascending"),tabIndex:this.props.keyAccess,disabled:this.props.sort.sortOrder===a.NO_SORTING?"disabled":!1,dangerouslySetInnerHTML:{__html:n(234)}}))}});e.exports=s},function(e,t,n){"use strict";function i(e){return{WebkitPaddingStart:16*e+"px"}}var r=n(1),o=n(21),a=r.createClass({displayName:"TreeNode",getDefaultProps:function(){return{depth:0}},onNodeClick:function(e,t){this.props.onNodeSelected(e,t)},onNodeDoubleClick:function(e,t){this.props.onNodeDoubleClick(e,t)},getNodeIcon:function(){return this.props.tree.getNodeIcon&&this.props.tree.getNodeIcon(this.props.node)},getContextMenuItems:function(){return this.props.tree.nodeMenuItems?this.props.tree.nodeMenuItems():[]},render:function(){return this.props.addNodeToKeyboardNavigation(this.props.node,this.props.parentId),r.createElement("div",{className:"node tree-row",title:this.props.tree.nodeTitle?this.props.tree.nodeTitle(this.props.node):"",onClick:this.onNodeClick.bind(this,this.props.node),onDoubleClick:this.onNodeDoubleClick.bind(this,this.props.node),onContextMenu:o(this.getContextMenuItems),"data-selected":this.props.isSelected(this.props.node)?"":null,"data-nofocus":this.props.isSelected(this.props.node)&&!this.props.hasFocus?"":null,"data-lead":this.props.isLead(this.props.node)?"":null},r.createElement("label",{ref:"NodeEnvelope",style:i(this.props.depth)},r.createElement("img",{src:this.getNodeIcon(),alt:""}),r.createElement("span",null,this.props.tree.nodeDisplayName?this.props.tree.nodeDisplayName(this.props.node):this.props.node.toString())))}});e.exports=a},function(e,t,n){"use strict";var i=n(1),r=n(65),o=n(7),a=n(298),s=n(193),l=n(3),u=n(81),c=n(130),A=n(601),d=n(302),h=n(25),p=n(2),f=n(300),m=1400,g=-1,v=0,_=i.createClass({displayName:"VivTree",mixins:[o,s],getInitialState:function(){return this.rowHeight=24,{dragOverObj:{id:g,position:"",lastFolderId:g},hasFocus:!1,expandModel:{},renderedArray:[],cutItems:[]}},componentWillMount:function(){var e=this;this.state.expandSettings="EXPAND_"+this.props.settings,this.state.selectionSettings="SELECTION_"+this.props.settings,this.state.scrollTopSettings="SCROLL_TOP_"+this.props.settings,l.get(this.state.expandSettings,function(t){e.prepareDataForRender(e.props.nodes,t||{})}),l.get(this.state.selectionSettings,function(t){t&&e.updateSelectionState(t)})},componentDidMount:function(){var e=this;l.get(this.state.scrollTopSettings,function(t){e.refs.treeItems.scrollTop=t})},componentWillReceiveProps:function(e){this.prepareDataForRender(e.nodes,this.state.expandModel),this.props.sorting!==e.sorting&&this._onSortChange(e.sorting)},componentWillUpdate:function(e,t){this.rerenderVisibleTreeItems()},componentDidUpdate:function(e,t){var n={};n[this.state.scrollTopSettings]=this.refs.treeItems.scrollTop,l.set(n)},componentWillUnmount:function(){a.KeyboardNavigationBindingOnBlur(this.getKeyboardNavigationMixinHandlers()),this.treeRemoveClipboardEventListeners()},_onSortChange:function(e){var t=this.getRenderedItems(this.props.nodes,this.state.expandModel,e);this.setState({renderedArray:t})},refreshTree:function(e){var t=this.getRenderedItems(this.props.treeNodes,this.state.expandModel,this.props.sorting,e);this.setState({renderedArray:t})},prepareDataForRender:function(e,t){var n=this,i=function p(e){n.props.hasChildren(e)&&e.children.forEach(function(n){n.level=e.level+1,e.isExpanded=!!t[e.id],p(n)})},o=!0,a=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var c=l.value;c.level=0,i(c)}}catch(A){a=!0,s=A}finally{try{!o&&u["return"]&&u["return"]()}finally{if(a)throw s}}var d=this.getRenderedItems(e,t,this.props.sorting),h=r(this.state,{renderedArray:{$set:d},expandModel:{$set:t}});this.setState(h)},onCut:function(e){this.setState({cutItems:this.SelectionMixinGetAllSelected()}),this.setClipboard(e,!0)},onCopy:function(e){this.setClipboard(e,!1)},toggleSelectedExpansion:function(){var e=this.SelectionMixinGetLead();if(e!==g){var t=this.findTreeItem(e);this.props.isFolder(t)&&this.toggleExpandModel(t.id)}},toggleExpandModel:function(e){this.state.expandModel[e]=!this.state.expandModel[e];var t={};t[this.state.expandSettings]=this.state.expandModel,l.set(t),this.prepareDataForRender(this.props.nodes,this.state.expandModel)},collapseAll:function(){var e={},t={};t[this.state.expandSettings]=e,l.set(t),this.prepareDataForRender(this.props.nodes,e)},expandAll:function(){var e=this,t={},n=function r(n){e.props.isFolder(n)&&(t[n.id]=!0),e.props.hasChildren(n)&&n.children.forEach(function(e){r(e)})};this.props.nodes.forEach(n);var i={};i[this.state.expandSettings]=t,l.set(i),this.prepareDataForRender(this.props.nodes,t)},setClipboard:function(e,t){var n=this,i=this.SelectionMixinGetAllSelected(),r=this.findTreeItem(this.SelectionMixinGetLead()),o=[],a="",s=function u(e){if(n.props.isValidForClipboard(e)){var t=!0,r=!1,s=void 0;try{for(var l,c=i[Symbol.iterator]();!(t=(l=c.next()).done);t=!0){var A=l.value;if(A.id===e.id){o.push(e),a+=(e.url||e.title)+"\n";break}}}catch(d){r=!0,s=d}finally{try{!t&&c["return"]&&c["return"]()}finally{if(r)throw s}}e.children&&e.children.forEach(u)}};if(this.props.nodes.forEach(s),e.clipboardData.setData("isCut",t),e.clipboardData.setData("text/plain",a),e.clipboardData.setData("application/json",JSON.stringify(o)),r&&r.url&&r.title){var l='<a href="${anchorItem.url}">${anchorItem.title}</a>';e.clipboardData.setData("text/html",l)}e.stopPropagation(),e.preventDefault()},onPaste:function(e){var t=this,n=[];try{n=JSON.parse(e.clipboardData.getData("application/json"))}catch(i){}var r={index:0},o=this.SelectionMixinGetSelected();if(o!==g){var a=this.findTreeItem(o);a&&(this.props.isFolder(a)?r.parentId=a.id:(r.parentId=a.parentId,r.index=a.index+1))}var s="true"===e.clipboardData.getData("isCut");if(s){if(0===this.state.cutItems.length)return;this.props.onMove(n,r).then(function(e){t.setState({cutItems:[]}),t.state.selectionModel.setSelectedIds(e.map(function(e){return e.id}))})}else{var l=!0,u=!1,c=void 0;try{for(var A,d=n[Symbol.iterator]();!(l=(A=d.next()).done);l=!0){var h=A.value;h.parentId=r.parentId}}catch(p){u=!0,c=p}finally{try{!l&&d["return"]&&d["return"]()}finally{if(u)throw c}}this.props.onCreate(n).then(function(e){t.state.selectionModel.setSelectedIds(e.map(function(e){return e.id}))})}},treeRemoveClipboardEventListeners:function(){document.removeEventListener("cut",this.onCut),document.removeEventListener("copy",this.onCopy),document.removeEventListener("paste",this.onPaste)},treeAddClipboardEventListeners:function(){document.addEventListener("cut",this.onCut),document.addEventListener("copy",this.onCopy),document.addEventListener("paste",this.onPaste)},getKeyboardNavigationMixinHandlers:function(){return{up:this.onKeyArrowUp,down:this.onKeyArrowDown,ctrlUp:this.onKeyCtrlUp,ctrlDown:this.onKeyCtrlDown,home:this.onKeyHome,end:this.onKeyEnd,"delete":this.onKeyDelete,selectAll:this.onKeySelectAll,ctrlSpace:this.onKeyCtrlSpace,esc:this.onKeyEsc,left:this._collapseFolder,right:this._expandFolder}},onLostFocus:function(){this.treeRemoveClipboardEventListeners(),a.KeyboardNavigationBindingOnBlur(this.getKeyboardNavigationMixinHandlers()),this.setState({hasFocus:!1,cutItem:[]})},onGotFocus:function(){this.treeAddClipboardEventListeners(),a.KeyboardNavigationBindingOnFocus(this.getKeyboardNavigationMixinHandlers()),this.setState({hasFocus:!0})},leadChanged:function(e){var t=this.findTreeItem(e);t&&this.scrollIntoToView(t.treeIndex)},scrollIntoToView:function(e){this.refs.treeListEntries&&this.refs.treeListEntries.scrollAround(e)},selectById:function(e,t,n){var i=this.findTreeItem(e)||{id:e};if(this.props.onSelect&&this.props.onSelect(i),e===g)return void this.SelectionMixinSelectItem(e);n||(n=this.state.renderedArray.findIndex(function(t){return t.id===e})),this.scrollIntoToView(n,t),t?this.SelectionMixinSelectItem(e,t.ctrlKey,t.shiftKey,t.metaKey,"contextmenu"===t.type):this.SelectionMixinSelectItem(e);var r={};r[this.state.selectionSettings]=this.state.selectionModel,l.set(r)},onClick:function(){this.selectById(g)},onItemMouseDown:function(e,t){var n=this.SelectionMixinGetAllSelected(),i=!1,r=!0,o=!1,a=void 0;try{for(var s,l=n[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;if(u.id===e.id){i=!0;break}}}catch(c){o=!0,a=c}finally{try{!r&&l["return"]&&l["return"]()}finally{if(o)throw a}}var A="MacIntel"===navigator.platform?t.metaKey:t.ctrlKey;(!i||A||this.props.reselectionAllowed)&&this.selectById(e.id,t),"function"==typeof this.props.onItemMouseDown&&this.props.onItemMouseDown(e,t)},onItemMouseUp:function(e,t){var n=this.SelectionMixinGetAllSelected(),i="MacIntel"===navigator.platform?t.metaKey:t.ctrlKey;n.length>1&&2!==t.button&&!i&&this.selectById(e.id,t),"function"==typeof this.props.onItemMouseUp&&this.props.onItemMouseUp(e,t)},onContextMenuOpen:function(e,t){this.refs.treeListEntries.scrollAround(t.index)},rerenderVisibleTreeItems:function(){this.refs.treeListEntries&&this.refs.treeListEntries.forceUpdate()},onAdd:function(e){var t=this,n=this.SelectionMixinGetSelected(),i=void 0;n&&n!==g&&(i=this.findTreeItem(n),this.props.isValidAddTarget(i)||(i=null));var r={children:e?[]:void 0,isNew:!0};i?this.props.isFolder(i)?(i.isExpanded||this.toggleExpandModel(i.id),r.parentId=i.id):r.parentId=i.parentId:r.parentId=this.props.rootId||0,this.props.onCreate(r).then(function(e){e&&1===e.length&&(t.SelectionMixinUnSelectAll(),t.selectById(e[0].id))})},onDelete:function(){var e=this.SelectionMixinGetAllSelected();e&&e.length>0&&this.props["delete"](e)},getNextSelectedAfterDelete:function(){var e=this.SelectionMixinGetLead(),t=this.findTreeItem(e);if(!t)return g;var n=this.props.isFolder(t);return this.selectNextAfterDeletion(e,n)},onKeyCtrlUp:f.throttleSync(function(e){var t=this.SelectionMixinGetLead(),n=this.state.renderedArray.findIndex(function(e){return e.id===t});if(0!==n){var i=n-1,r=this.state.renderedArray[i];this.SelectionMixinSetLead(r.id),this.scrollIntoToView(i)}}),onKeyCtrlDown:f.throttleSync(function(e){var t=this.SelectionMixinGetLead(),n=this.state.renderedArray.findIndex(function(e){return e.id===t}),i=this.state.renderedArray.length;if(n!==i-1){var r=n+1,o=this.state.renderedArray[r];this.SelectionMixinSetLead(o.id),this.scrollIntoToView(r)}}),onKeyArrowDown:f.throttleSync(function(e){var t=this.SelectionMixinGetLead(),n=this.state.renderedArray.findIndex(function(e){return e.id===t}),i=this.state.renderedArray.length;if(n!==i-1){var r=n+1,o=this.state.renderedArray[r];this.selectById(o.id,e,r)}}),onKeyArrowUp:f.throttleSync(function(e){var t=this.SelectionMixinGetLead(),n=this.state.renderedArray.findIndex(function(e){return e.id===t});if(0!==n){var i=n-1,r=this.state.renderedArray[i];this.selectById(r.id,e,i)}}),onKeyHome:function(e){var t=this.state.renderedArray[0];this.selectById(t.id,e,0),e.preventDefault(),e.stopPropagation()},onKeyEnd:function(e){var t=this.state.renderedArray.length,n=this.state.renderedArray[t-1];this.selectById(n.id,e,t-1),e.preventDefault(),e.stopPropagation()},onKeyDelete:function(){this.onDelete()},onKeySelectAll:function(){this.SelectionMixinSelectAll()},onKeyCtrlSpace:function(e){var t=this.SelectionMixinGetLead();this.SelectionMixinSelectItem(t,e.ctrlKey,e.shiftKey,e.metaKey,"contextmenu"===e.type)},onKeyEsc:function(e){this.unSelectAll()},_setExpandState:function(e,t){if(this.isfolderAndHasItems&&this.isfolderAndHasItems()===!0){if(this.state.expandModel&&this.state.selectionModel.isSingleItemSelected){var n=this.findTreeItem(this.getLeadItem());(n.isExpanded&&!t||!n.isExpanded&&t)&&this.toggleExpandModel(this.state.selectionModel.FirstSingleItemSelected)}e.preventDefault(),e.stopPropagation()}},_collapseFolder:function(e){this._setExpandState(e,!1)},_expandFolder:function(e){this._setExpandState(e,!0)},unSelectAll:function(){this.SelectionMixinUnSelectAll()},isItemLead:function(e){return e===this.SelectionMixinGetLead()},isItemSelected:function(e){return this.SelectionMixinIsSelected(e)},onDragOverItem:function(e,t){var n=t.currentTarget,i=n.getBoundingClientRect(),r=(t.clientY-i.top)/this.rowHeight,o="";e.isExpanded||this.updateExpandFolderOnHover(t.timeStamp,e);var a=g;this.state.treeNodes&&(a=this.state.treeNodes[this.state.treeNodes.length-1].id),this.props.isFolder(e)?o=.25>=r?"above":r>.75?"below":"on":.5>=r?o="above":r>.5&&(o="below"),(this.state.dragOverObj.id!==e.id||this.state.dragOverObj.id===e.id&&this.state.dragOverObj.position!==o)&&this.setState({dragOverObj:{id:e.id,position:o,lastFolderId:a}})},updateExpandFolderOnHover:function(e,t){for(var n=this.SelectionMixinGetAllSelected(),i=0;i<n.length;i++)if(t.id===n[i].id)return;var r=v;v=0,r?e-r>=m?this.toggleExpandModel(t.id):v=r:v=e},onDrop:function(e,t){var n=this;v=0;var i="MacIntel"===navigator.platform?e.metaKey:e.ctrlKey,r=void 0;try{r=JSON.parse(e.nativeEvent.dataTransfer.getData("ids"))}catch(o){this.props.onDrop&&this.props.onDrop(e,t,this.state.dragOverObj).then(function(e){n.cancelDragOverObject(),e.length>0&&n.selectById(e[0].id)})}if(r&&!(r.length<=0)){var a=this.props.isFolder(t),s=this.state.dragOverObj.position,l=0,u=!1;"on"!==s&&(l=parseInt(t.index),"below"===s&&l++);var c=a&&"on"===s?t.id:t.parentId,A=r.map(function(e){if(e===t.id)return void(u=!0);var r=n.findTreeItem(e);return i&&(r.parentId=c,r.index=l),r});if(!(u||A.length<=0))if(i)this.props.onCreate(A).then(function(){n.cancelDragOverObject()});else{var d={index:l,parentId:c};this.props.onMove(A,d).then(function(){n.cancelDragOverObject()})}}},cancelDragOverObject:function(){this.setState({dragOverObj:{id:g,position:""}})},onDragEndItem:function(){this.cancelDragOverObject()},onKeyDown:function(e){e.keyCode===h.KEY_ESCAPE&&this.setState({cutItems:[]}),this.props.onKeyDown&&this.props.onKeyDown(e)},onScrollEvent:function(e){this.forceUpdate()},getSelectedItem:function(){return this.findTreeItem(this.SelectionMixinGetLead())},isfolderAndHasItems:function(){var e=this.getSelectedItem();return e&&e.children&&e.children.length>0},getSelected:function(){return this.SelectionMixinGetSelected()},getRenderedItems:function(e,t,n){var i=[];if(!e||0===e.length)return i;e=this.sortItems(e,n);var r=function o(e){i.push(e),e.children&&("0"===e.id||t[e.id])&&e.children.forEach(o)};return e.forEach(r),i},sortItems:function(e,t){if(!t||!t.sortOrder||t.sortOrder<=u.NO_SORTING)return e;e=c(e);var n=t.comparator||u.getDefaultComparator(t.sortOrder,t.sortField);return u.treeSort(e,n),e},getAllSelectedItems:function(){return this.SelectionMixinGetAllSelected()},getLeadItem:function(){return this.SelectionMixinGetLead()},findTreeItem:function(e){var t=null,n=function i(n){return n.id===e?t=n:void(n.children&&n.children.forEach(function(e){i(e)}))};return this.props.nodes.forEach(function(e){n(e)}),t},selectNextAfterDeletion:function(e,t){var n=this.state.renderedArray.findIndex(function(t){return t.id===e}),i=n;return t?(i=0===n?1:n-1,this.state.renderedArray[i].id):this.state.renderedArray[i+1].id},getIdsBetween:function(e,t){var n=this.state.renderedArray.findIndex(function(t){return t.id===e}),i=this.state.renderedArray.findIndex(function(e){return e.id===t}),r=[];return r=n>i?this.state.renderedArray.slice(i,n+1):this.state.renderedArray.slice(n,i+1),r.map(function(e){return e.id})},getAllIds:function(){return this.state.renderedArray.map(function(e){return e.id})},getContextMenuItems:function(e){var t=this,n=this.props.getContextMenuItems?this.props.getContextMenuItems(e):[],i=this.props.getContextMenuItemProps?this.props.getContextMenuItemProps(e):{},r=function(){n.length>0&&(n=n.concat([{name:"---"}]))};return(i.showNewFolder||i.showEdit)&&(r(),n=n.concat([{name:p("New Folder"),handler:function(){t.onAdd(!0)},testVisibility:function(){return i.showNewFolder}},{name:p("verb","Edit"),handler:function(){t.props.onEdit()},testVisibility:function(){return i.showEdit}}])),i.showCutCopyPasteDelete&&(r(),n=n.concat([{name:p("verb","Cut"),handler:function(){document.execCommand("cut")}},{name:p("verb","Copy"),handler:function(){document.execCommand("copy")}},{name:p("verb","Paste"),handler:function(){document.execCommand("paste")}},{name:p("verb","Delete"),handler:function(){t.onDelete()}}])),r(),n=n.concat([{name:p("Collapse all folders"),handler:this.collapseAll},{name:p("Expand all folders"),handler:this.expandAll}])},renderTreeItem:function(e,t){var n=this.state.renderedArray[e];n.treeIndex=e;var r=this.SelectionMixinIsSelected(n.id),o=this.SelectionMixinGetLead()===n.id,a=this.state.cutItems.map(function(e){return e.id}).indexOf(n.id)>g;return i.createElement(d,{key:t,index:e,treeItem:n,ref:"treeItem",isExpanded:n.isExpanded,toggle:this.toggleExpandModel,onContextMenuOpen:this.onContextMenuOpen,onMouseDown:this.onItemMouseDown,onMouseUp:this.onItemMouseUp,selected:r,hasFocus:this.state.hasFocus,lead:o,isCut:a,onDragOver:this.onDragOverItem,onDragEnd:this.onDragEndItem,onDrop:this.onDrop,onToggleSpeeddial:this.props.onToggleSpeeddial,dragover:this.state.dragOverObj.id===n.id,dragOverObj:this.state.dragOverObj,getSelectedItem:this.getSelectedItem,getAllSelectedItems:this.SelectionMixinGetAllSelected,isFolder:this.props.isFolder,hasChildren:this.props.hasChildren,renderItemContent:this.props.renderItemContent,getContextMenuItems:this.getContextMenuItems,onClick:this.props.onItemClick,onDoubleClick:this.props.onItemDoubleClick,openInNewTab:this.openInNewTab,onKeyDown:this.onItemKeyDown})},render:function(){return i.createElement("div",{ref:"treeItems",tabIndex:"0",className:"vivaldi-tree",onBlur:this.onLostFocus,onFocus:this.onGotFocus,onScroll:this.onScrollEvent,onKeyDown:this.onKeyDown,onClick:this.onClick},i.createElement(A,{ref:"treeListEntries",itemRenderer:this.renderTreeItem,length:this.state.renderedArray.length,type:"uniform"}))}});e.exports=_},function(e,t,n){"use strict";var i=n(1),r=n(8),o=n(24),a=n(2),s=null,l=i.createClass({displayName:"ImportBookmarks",handleClick:function(){this.state.shown&&(this.setState({ticks:0}),clearInterval(s),this.props.onClose()),this.setState({shown:!this.state.shown})},getInitialState:function(){return{msg:"",useDefaultLocation:!0,profilesArray:[],shown:!0,ticks:0,modalShown:!1,selectedIndex:0,importOptions:[],selectedProfile:"",masterPassword:""}},componentDidMount:function(){r.importData.onImportStarted.addListener(this.onImportStarted),r.importData.onImportItemStarted.addListener(this.onImportItemStarted),r.importData.onImportItemEnded.addListener(this.onImportItemEnded),r.importData.onImportEnded.addListener(this.onImportEnded)},componentWillUnmount:function(){r.importData.onImportStarted.removeListener(this.onImportStarted),r.importData.onImportItemStarted.removeListener(this.onImportItemStarted),r.importData.onImportItemEnded.removeListener(this.onImportItemEnded),r.importData.onImportEnded.removeListener(this.onImportEnded)},componentWillMount:function(){var e=this;r.importData.getProfiles(function(t){e.setState({profilesArray:t,importOptions:JSON.parse(JSON.stringify(t))})})},onHandleClick:function(){this.startImport()},onImportStarted:function(){this.setState({msg:"started"})},onImportItemStarted:function(e){},onImportItemEnded:function(e){},onImportEnded:function(e){this.setState({msg:0===e?"Success":"Failure"})},startImport:function(){var e=this,t=this.state.selectedIndex,n=this.state.profilesArray,i=n[t].history,o=n[t].favorites,a=n[t].passwords,s=n[t].search,l=n[t].notes,u=this.state.useDefaultLocation,c="",A=n[t].speeddial;this.refs.userProfile&&(c=""===this.state.selectedProfile?this.refs.userProfile.value:this.state.selectedProfile);var d=new Array(t.toString(),i.toString(),o.toString(),a.toString(),s.toString(),l.toString(),u.toString(),c.toString(),A.toString());r.importData.startImport(d,this.state.masterPassword,function(t){"Cancel"===t?e.setState({msg:""}):e.setState({msg:t})})},handlePasswordChange:function(e){this.setState({masterPassword:e.target.value})},handleProfileChange:function(e){var t=this.state.importOptions[e.target.value],n=t.hasDefaultInstall;this.setState({selectedIndex:e.target.value,useDefaultLocation:n})},handleUserProfileChange:function(e){this.setState({selectedProfile:e.target.value})},_toggleDefault:function(e){this.setState({useDefaultLocation:!this.state.useDefaultLocation})},__changeSelection:function(e,t){var n=this.state.profilesArray;n[e][t]=!n[e][t],this.setState({profilesArray:n})},_getImportButtonText:function(e,t){var n=e.willShowDialogType;return this.state.useDefaultLocation||"none"===n?a("Start Import"):"file"===n&&"Safari"!==t?a("Choose a File"):"folder"===n?a("Choose a Folder"):void 0},render:function(){var e=this.state.profilesArray.map(function(e){return i.createElement("option",{key:e.index,value:e.index},e.name)}),t=this.state.selectedIndex,n=this.state.profilesArray[t],r=this.state.importOptions[t];if(r&&r.UserProfiles&&r.UserProfiles.length>0)var s=r.UserProfiles.map(function(e){return i.createElement("option",{key:e.profileName,value:e.profileName},e.profileDisplayName)});if(r){var l=Boolean(!(r.passwords||r.history||r.notes||r.search||r.speeddial));return i.createElement(o,{onRequestClose:this.handleClick},function(){return this.state.msg.length>0?i.createElement("div",{className:"import-data"},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title"},a("Import Bookmarks and Settings"))),i.createElement("div",{className:"dialog-content"},"started"===this.state.msg&&i.createElement("p",{className:"in-progress"},a("Import in progress...")),"Success"===this.state.msg&&i.createElement("p",{
className:"success"},a("Import completed.")),"Success"!==this.state.msg&&"started"!==this.state.msg&&i.createElement("p",{className:"error"},a("No data imported. ($1)",this.state.msg))),i.createElement("footer",{className:"dialog-footer"},i.createElement("input",{type:"button",className:"primary",disabled:"started"===this.state.msg,onClick:this.handleClick,value:a("Close")}))):i.createElement("div",{className:"import-data"},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title"},a("Import Bookmarks and Settings"))),i.createElement("div",{className:"dialog-content"},i.createElement("fieldset",null,i.createElement("div",null,i.createElement("label",{htmlFor:"browserSel",className:"from"},a("import","From")),i.createElement("select",{id:"browserSel",onChange:this.handleProfileChange,value:this.state.selectedIndex,autoFocus:!0},e))),i.createElement("fieldset",null,s&&i.createElement("div",{className:"profile"},i.createElement("label",{htmlFor:"userProfile"},a("Chrome User Profile")),i.createElement("select",{ref:"userProfile",id:"userProfile",onChange:this.handleUserProfileChange,value:this.state.selectedProfile},s)),r&&r.favorites&&i.createElement("div",null,i.createElement("input",{id:"f-favorites",type:"checkbox",checked:n?n.favorites:!1,onChange:this.__changeSelection.bind(this,t,"favorites"),disabled:l}),i.createElement("label",{htmlFor:"f-favorites"},a("Bookmarks"))),r.passwords&&i.createElement("div",{className:"setting-single"},i.createElement("input",{id:"f-passwords",type:"checkbox",checked:n?n.passwords:!1,onChange:this.__changeSelection.bind(this,t,"passwords")}),i.createElement("label",{htmlFor:"f-passwords"},a("Passwords"))),r.supportsMasterPassword&&i.createElement("div",{className:"setting-single import-masterpassword"},i.createElement("label",{htmlFor:"f-masterpassword"},a("Master password, if needed:")),i.createElement("input",{id:"f_masterpassword",type:"password",onChange:this.handlePasswordChange})),r.history&&i.createElement("div",null,i.createElement("input",{id:"f-history",type:"checkbox",checked:n?n.history:!1,onChange:this.__changeSelection.bind(this,t,"history")}),i.createElement("label",{htmlFor:"f-history"},a("History"))),r.notes&&i.createElement("div",null,i.createElement("input",{id:"f-notes",type:"checkbox",checked:n?n.notes:!1,onChange:this.__changeSelection.bind(this,t,"notes")}),i.createElement("label",{htmlFor:"f-notes"},a("Notes"))),r.search&&i.createElement("div",null,i.createElement("input",{id:"f-search",type:"checkbox",checked:n?n.search:!1,onChange:this.__changeSelection.bind(this,t,"search")}),i.createElement("label",{htmlFor:"f-search"},a("Search Engines"))),r.speeddial&&i.createElement("div",null,i.createElement("input",{id:"f-speeddial",type:"checkbox",checked:n?n.speeddial:!1,onChange:this.__changeSelection.bind(this,t,"speeddial")}),i.createElement("label",{htmlFor:"f-speeddial"},a("Speed Dial"))),r&&r.supportsStandaloneImport&&i.createElement("div",null,i.createElement("input",{id:"f-location",type:"checkbox",checked:this.state.useDefaultLocation&&r.hasDefaultInstall,onChange:this._toggleDefault.bind(this,r),disabled:r.hasDefaultInstall===!1}),i.createElement("label",{htmlFor:"f-location"},a("Use Default Profile Location"))))),r&&r.hasDefaultInstall&&r.profilePath.length>0&&i.createElement("div",{className:"import-pathname"},a("Detected Profile Path:"),i.createElement("br",null),i.createElement("input",{type:"text",value:r.profilePath,readOnly:"true"})),i.createElement("footer",{className:"dialog-footer"},i.createElement("input",{type:"button",className:"primary",onClick:this.onHandleClick,value:this._getImportButtonText(r)}),i.createElement("input",{type:"button",onClick:this.handleClick,value:a("Cancel")})))}.bind(this)())}return null}});e.exports=l},function(e,t){"use strict";var n="a[href], area[href], input:not([disabled]), select:not([disabled]), option:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",i=function(e){if(!e.srcElement.matches(n)){for(var t=e.target;t!==document.body;){if(t.draggable){var i=document.activeElement,r=function o(e){this.removeEventListener("mouseup",o),this.removeEventListener("dragend",o),document.activeElement===document.body&&i.focus()};return t.addEventListener("mouseup",r),void t.addEventListener("dragend",r)}t=t.parentElement}e.preventDefault()}},r={componentDidMount:function(){document.body.addEventListener("mousedown",i)},componentWillUnmount:function(){document.body.removeEventListener("mousedown",i)}};e.exports=r},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(4),a=n(361),s=n(2),l=n(24),u=n(10),c=i.createClass({displayName:"CookieManager",mixins:[r],getInitialState:function(){return{cookieData:{},cookieFilter:"",confirmation:!1}},componentWillMount:function(){this.getAllCookies()},getAllCookies:function(){var e=this;o.cookies.getAll({},function(t){e.setState({cookieData:t.reduce(function(e,t){var n=e[t.domain]||[];return n.push(t),e[t.domain]=n,e},{}),cookieFilter:""})})},deleteFilteredCookies:function(){var e=this;o.cookies.getAll({},function(t){for(var n=0;n<t.length;n++)-1!==t[n].domain.indexOf(e.state.cookieFilter)&&o.cookies.remove({url:e.getCookieUrl(t[n]),name:t[n].name});e.getAllCookies()})},deleteAllCookies:function(){var e=this,t=0;o.cookies.getAll({},function(i){t=i.length;for(var r=0;r<i.length;r++)o.cookies.remove({url:e.getCookieUrl(i[r]),name:i[r].name},n)});var n=function(e){t--,0===t&&this.setState({cookieData:[],confirmation:!1})}.bind(this)},getCookieUrl:function(e){return"http"+(e.secure?"s":"")+"://"+e.domain+e.path},deleteCookie:function(e){this.getAllCookies()},onSettingsFilter:function(e){this.setState({cookieFilter:e.target.value})},onAskToDelete:function(){this.setState({confirmation:!0})},onCancel:function(){this.setState({confirmation:!1}),this.props.onClose()},keyDownModal:function(e){27===e.keyCode&&this.onCancel()},renderModal:function(){return i.createElement(l,{dialogWidth:400},i.createElement("div",{className:"dialog-delete-cookies",onKeyDown:this.keyDownModal},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title"},s("Delete All Cookies?"))),i.createElement("div",{className:"dialog-content"},i.createElement("p",null,s("All cookies will be removed."))),i.createElement("footer",{className:"dialog-footer"},i.createElement("input",{type:"button",className:"primary",onClick:this.deleteAllCookies,value:s("other","Delete"),autoFocus:!0}),i.createElement("input",{type:"button",onClick:this.onCancel,value:s("Cancel")}))))},render:function(){var e=this;if(!this.state.cookieData)return i.createElement("div",{className:"saved-passwords"},i.createElement("p",null,s("No cookies found.")));var t=i.createElement("div",null,this.state.confirmation&&this.renderModal(),i.createElement("div",{className:"setting-group setting-cookies unlimited"},i.createElement("h3",null,s("Cookie Overview")),i.createElement("div",{className:"setting-single"},i.createElement("input",{type:"search",placeholder:s("Filter by domain"),value:this.state.cookieFilter,onChange:this.onSettingsFilter})),i.createElement("div",{className:"setting-single"},i.createElement("ul",null,Object.keys(this.state.cookieData).filter(function(t){return-1!==t.indexOf(e.state.cookieFilter)}).map(function(t){return i.createElement(a,{key:"domain-"+t,domain:t,count:e.state.cookieData[t].length,item:e.state.cookieData[t],onCookieDelete:e.deleteCookie})}))),i.createElement("div",{className:"setting-single pad-top"},i.createElement("input",{type:"button",className:"danger",onClick:this.onAskToDelete,value:s("Delete All Cookies")}),this.state.cookieFilter&&i.createElement("input",{type:"button",onClick:this.deleteFilteredCookies,value:s("Delete Filtered Cookies")}))));return u(t,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(13),a=n(3),s=n(11),l=n(83),u=n(26),c=n(6),A=n(2),d=r.createClass({displayName:"ShortCutEditSetting",mixins:[s],vivaldiSettingsKeys:["DISABLE_SINGLE_KEY_SHORTCUTS","DISABLE_KEYBOARD_SHORTCUTS"],getInitialState:function(){return{keyValue:this.props.command.shortcut,selectedCombo:"",active:!1,focused:!1,duplicateCombo:"",singleKeyWarning:!1}},restoreDefault:function(e){var t=a.getDefault(this.props.command.name);this.setState({keyValue:t.shortcut||null},this.save)},clearCombo:function(e){this.setState({keyValue:null},this.save)},handleKeyEvent:function(e){var t=["shift+tab","tab","space","enter","esc","left","right","up","down"],n=u.keyComboFromEvent(e.nativeEvent);if(n&&"backspace"===n){e.stopPropagation();var i=this.state.keyValue.slice(0,this.state.keyValue.length-1);this.setState({keyValue:i,duplicateCombo:"",singleKeyWarning:!1},this.save),this.refs.comboInput.focus()}else if(this.state.DISABLE_SINGLE_KEY_SHORTCUTS&&n&&1===n.length)this.setState({duplicateCombo:"",singleKeyWarning:!0});else if(n&&-1!==this.props.existingCombos.indexOf(n))this.setState({duplicateCombo:l(n),singleKeyWarning:!1});else if(n&&-1===t.indexOf(n)){var r=this.state.keyValue||[];this.setState({keyValue:r.slice().concat(n),duplicateCombo:"",singleKeyWarning:!1},this.save)}else this.navigateWithArrowKeys(e)},navigateWithArrowKeys:function(e){if(this.state.keyValue){var t=u.keyComboFromEvent(e.nativeEvent),n=document.activeElement;"left"===t?(e.preventDefault(),e.stopPropagation(),n.previousElementSibling&&n.previousElementSibling.focus()):"right"===t?(e.preventDefault(),e.stopPropagation(),n.nextElementSibling&&n.nextElementSibling.focus()):"up"===t?(e.preventDefault(),e.stopPropagation(),n.parentNode.firstChild.focus()):"down"===t&&(e.preventDefault(),e.stopPropagation(),n.parentNode.lastChild.focus())}},save:function(){var e={name:this.props.command.name,shortcut:this.state.keyValue,gestures:this.props.command.gestures,showInQC:this.props.command.showInQC};a.set(i({},this.props.command.name,e))},keyUpListener:function(e){if(e.stopPropagation(),e.preventDefault(),8===e.keyCode||46===e.keyCode){var t=this.state.keyValue,n=t.indexOf(e.target.dataset.raw);t.splice(n,1),o.findDOMNode(e.target.parentNode).querySelector("input").focus(),this.setState({keyValue:t},this.save)}},onTextFocus:function(e){this.setState({active:!0,focused:!0})},onTextBlur:function(e){e.preventDefault(),e.stopPropagation(),this.setState({active:!1,focused:!1,duplicateCombo:"",singleKeyWarning:!1}),this.save()},onButtonFocus:function(e){this.setState({active:!0})},onButtonBlur:function(e){e.preventDefault(),e.stopPropagation(),this.setState({active:!1,duplicateCombo:"",singleKeyWarning:!1}),this.save()},onComboFocus:function(e){this.setState({selectedCombo:e.target.dataset.raw,focused:!0,active:!0}),document.addEventListener("keyup",this.keyUpListener)},onComboBlur:function(e){this.setState({selectedCombo:"",focused:!1,active:!1}),document.removeEventListener("keyup",this.keyUpListener)},renderCombos:function(){var e=this;return this.props.command.shortcut?this.props.command.shortcut.map(function(t,n){return[r.createElement("input",{type:"button",key:n,className:t.length>1?"item":"item single","data-raw":t,onFocus:e.onComboFocus,onBlur:e.onComboBlur,onKeyDown:e.navigateWithArrowKeys,value:l(t)})]}):void 0},render:function(){return r.createElement("div",{className:c({controls:!0,active:this.state.active,focused:this.state.focused})},r.createElement("div",{className:"multiinput"},r.createElement("div",{className:"wrapper"},this.renderCombos(),r.createElement("input",{type:"text",ref:"comboInput",id:this.props.id,value:"",className:"keyShortcutStop",onChange:this.onChange,onKeyPress:this.handleKeyEvent,onKeyDown:this.handleKeyEvent,onCancel:this.cancel,onFocus:this.onTextFocus,onBlur:this.onTextBlur}))),r.createElement("input",{type:"button",className:"circular restorekey",title:A("Restore default shortcut"),onClick:this.restoreDefault,onFocus:this.onButtonFocus,onBlur:this.onButtonBlur}),r.createElement("input",{type:"button",className:"circular clearkey",title:A("Clear shortcut"),onClick:this.clearCombo,onFocus:this.onButtonFocus,onBlur:this.onButtonBlur}),this.state.duplicateCombo&&r.createElement("p",{className:"info"},A("Shortcut $1 is already assigned",[this.state.duplicateCombo.toUpperCase()])),this.state.singleKeyWarning&&r.createElement("p",{className:"info"},A("Single Key Shortcuts are currently disabled")))}});e.exports=d},function(e,t,n){"use strict";var i=n(1),r=n(201),o=n(11),a=n(58),s=n(35),l=n(83),u=n(24),c=n(10),A=n(360),d=n(369),h=n(368),p=n(2),f="CATEGORY_COMMAND_APPLICATION",m=i.createClass({displayName:"ShortcutKeys",mixins:[o],vivaldiSettingsKeys:["DISABLE_SINGLE_KEY_SHORTCUTS","DISABLE_KEYBOARD_SHORTCUTS"],getInitialState:function(){return{commandArray:s.getAllCommands(),openCategories:[f],confirmation:!1}},_onStoreChange:function(){this.setState({commandArray:s.getAllCommands()})},componentWillMount:function(){s.addChangeListener(this._onStoreChange)},componentWillUnmount:function(){s.removeChangeListener(this._onStoreChange)},switchCategory:function(e){var t=this.state.openCategories;t.indexOf(e)>-1?t.splice(t.indexOf(e),1):t.push(e),this.setState({openCategories:t})},confirmRestoreKeys:function(){this.setState({confirmation:!0})},restoreKeys:function(){a.restoreCommandShortcutKeys(),this.setState({confirmation:!1})},onCancel:function(){this.setState({confirmation:!1})},keyDownModal:function(e){27===e.keyCode&&this.onCancel()},renderModal:function(){return i.createElement(u,{dialogWidth:400},i.createElement("div",{className:"dialog-restore-shortcuts"},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title"},p("Restore Keyboard Shortcuts?"))),i.createElement("div",{className:"dialog-content",onKeyDown:this.keyDownModal},i.createElement("p",null,p("All keyboard shortcuts will be restored to default setting."))),i.createElement("footer",{className:"dialog-footer",onKeyDown:this.keyDownModal},i.createElement("input",{type:"button",className:"danger",onClick:this.restoreKeys,value:p("Restore")}),i.createElement("input",{type:"button",onClick:this.onCancel,value:p("Cancel"),autoFocus:!0}))))},renderCategories:function(e){var t=e.reduce(function(e,t){return e[t.category]=(e[t.category]||[]).concat(t),e},{}),n=Object.keys(t).map(function(e,n){return this.renderCategory(e,t[e])}.bind(this));return i.createElement("div",null,n)},renderCategory:function(e,t){var n=this,r=A(e),o=this.props.filter||this.state.openCategories.indexOf(e)>-1?"show":"hide";return i.createElement("div",{className:"category "+o,key:e},i.createElement("button",{onClick:this.switchCategory.bind(this,e)},r),i.createElement("div",{className:"list"},t.map(function(e){return n.renderCommandKeys(e)})))},renderCommandKeys:function(e){var t=this.state.commandArray.map(function(e){return e.shortcut}).filter(Boolean).reduce(function(e,t){return e.concat(t)});if("mac"===this.props.platform&&"COMMAND_TOGGLE_MENU_POSITION"===e.name)return null;if("read-only"===this.props.view)return i.createElement("div",{className:"keycombo"},i.createElement("label",null,e.label),e.shortcut&&e.shortcut.map(function(e,t){return[i.createElement("input",{key:t,type:"button",disabled:!0,className:e.length>1?"item":"item single",value:l(e)})]}));var n=e.name.toLowerCase();return i.createElement("div",{className:"keycombo",key:n},i.createElement("label",{htmlFor:"combo-"+n},e.label),i.createElement(r,{id:"combo-"+n,onSelect:this.onChange,onExecute:this.onChange,key:n,onSave:this.saveKey,existingCombos:t,command:e}))},renderList:function(){var e,t=this;e="read-only"===this.props.view?this.state.commandArray.filter(function(e){return Boolean(e.shortcut&&e.shortcut.length>0)}):this.state.commandArray.filter(function(e){return!Boolean(e.notEditable)});var n=this.renderCategories([]);return c(n,this.props.filter)?this.renderCategories(e):(e=e.filter(function(e){return e.label.toLowerCase().indexOf(t.props.filter.toLowerCase())>-1||(e.shortcut||[]).some(function(e){return e.toLowerCase().indexOf(t.props.filter.toLowerCase())>-1})}),e.length>0?this.renderCategories(e):null)},render:function(){var e=Boolean(this.renderList());return"read-only"===this.props.view?this.renderList():e?i.createElement("div",{className:this.state.DISABLE_SINGLE_KEY_SHORTCUTS?"setting-group unlimited singlekeydisabled":"setting-group unlimited"},this.state.confirmation&&this.renderModal(),i.createElement("h2",null,p("Keyboard")),i.createElement(h,this.props),i.createElement("h3",null,p("Keyboard Shortcuts")),i.createElement(d,this.props),i.createElement("div",{className:"setting-single"},i.createElement("div",{className:"keystrokes"},this.renderList()),!this.props.filter&&i.createElement("input",{type:"button",onClick:this.confirmRestoreKeys,value:p("Restore Default Keys")}))):null}});e.exports=m},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(11),a=n(2),s=13,l=i.createClass({displayName:"CreateSearchEngine",mixins:[o],vivaldiSettingsKeys:["SEARCH_ENGINES","DEFAULT_SEARCH_ENGINE"],getInitialState:function(){return{name:this.props.name,url:this.props.url?this.props.url.replace("{searchTerms}","%s"):"","default":!1}},newSearchKeyDown:function(e){e.which===s&&this.create()},create:function(){var e=this.refs.newName.value.trim(),t=this.refs.newKeyword.value.trim(),n=this.refs.newURL.value.trim();e&&n&&(this.createSearchEngine({name:e,keyword:t,url:n}),"function"==typeof this.props.onClose&&this.props.onClose())},nameChange:function(e){this.setState({name:e.target.value})},defaultChange:function(e){this.setState({"default":e.target.checked})},urlChange:function(e){this.setState({url:e.target.value})},createSearchEngine:function(e){var t=this.state.SEARCH_ENGINES,n=Math.max.apply(Math,t.map(function(e){return e.Id}));n=isNaN(n)?0:n+1,t.push({Id:Number(n),Name:e.name,Keyword:e.keyword,Url:e.url}),r.set({SEARCH_ENGINES:t}),this.state["default"]&&r.set({DEFAULT_SEARCH_ENGINE:n})},render:function(){return i.createElement("div",{className:this.props.showAsDlg?null:"setting-section unlimited search-engine-add"},this.props.showAsDlg&&i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title"},a("Add Search Engine"))),!this.props.showAsDlg&&i.createElement("div",null,i.createElement("h3",null,a("Add Search Engine")),i.createElement("p",{className:"info"},a("Substitute search keyword in address with %s"))),i.createElement("div",{className:this.props.showAsDlg?"dialog-content":"setting-subgroup"},i.createElement("div",{className:this.props.showAsDlg?"fieldset":"setting-flexgroup"},i.createElement("input",{className:"searchengine_url setting-single-flex",type:"text",ref:"newURL",onKeyDown:this.newSearchKeyDown,placeholder:a("URL"),value:this.state.url,onChange:this.urlChange})),i.createElement("div",{className:this.props.showAsDlg?"fieldset":"setting-flexgroup"},i.createElement("input",{className:"setting-single-flex",type:"text",ref:"newName",onKeyDown:this.newSearchKeyDown,value:this.state.name,placeholder:a("Description"),onChange:this.nameChange}),i.createElement("input",{className:"searchengine_keyword setting-single-noflex",type:"text",ref:"newKeyword",placeholder:a("Nickname"),onKeyDown:this.newSearchKeyDown})),i.createElement("div",{className:"setting-single pad-top"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state["default"],onChange:this.defaultChange}),i.createElement("span",null,a("searchengine","Set as Default"))))),i.createElement("footer",{className:this.props.showAsDlg?"dialog-footer":"setting-single"},i.createElement("input",{type:"button",className:this.props.showAsDlg?"primary":"setting-single-noflex primary",onClick:this.create,value:a("Add")}),i.createElement("input",{type:"button",className:this.props.showAsDlg?null:"setting-single-noflex",onClick:this.props.onClose,value:a("Cancel")})))}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(13),o=n(395),a=n(383),s=n(358),l=n(380),u=n(405),c=n(202),A=n(379),d=n(389),h=n(15),p=n(390),f=n(359),m=n(385),g=n(382),v=n(384),_=n(387),E=n(370),S=(n(59),n(59),n(388)),y=n(357),b=n(363),C=n(200),T=n(362),I=n(377),w=n(375),O=n(371),N=n(406),k=n(96),D=n(4),M=n(36),P=n(2),L=n(91),x=n(19).urls,R=n(18),B=R.intersection,U=n(366),F=n(410),V=n(367),W=n(364),H=n(365),K=n(407),G="startup",j=i.createClass({displayName:"Settings",mixins:[n(199)],categoryMap:{"":["startup"],startup:["startup"],appearance:["appearance"],"start-page":["start-page"],tabs:["tab"],panel:["panel"],addressbar:["addressbar"],bookmarks:["bookmarks"],qc:["qc"],keyboard:["keyboard"],mouse:["mouse"],search:["search"],privacy:["privacy","cookies"],downloads:["downloads"],webpages:["webpages"],network:["network"],mail:["mail"],all:[]},getInitialState:function(){return{filterSetting:"",categoryTitle:G,filterCategory:this.categoryMap[G],restartDialogDiv:null,cookieManagerDiv:null,currentOS:M()}},componentDidMount:function(){window.isPopup()&&(document.title=this.getWindowTitle()),this.refs.filter.focus()},componentWillUnmount:function(){D.runtime.sendMessage({setLastSettingsWindowId:-1})},componentWillReceiveProps:function(e){if(e.page&&e.page.get("url")){var t=this._parseUrl(e.page.get("url"),"query"),n=t?"all":this._parseUrl(e.page.get("url"),"path")||G,i=this.categoryMap[n]?this.categoryMap[n]:[],r=n;this.state.filterSetting||this.setState({categoryTitle:r,filterCategory:i})}},componentDidUpdate:function(e,t){window.isPopup()&&this.state.categoryTitle&&t.categoryTitle!==this.state.categoryTitle&&(document.title=this.getWindowTitle())},getWindowTitle:function(){return P("Vivaldi Settings")+(this.state.categoryTitle&&": "+x.categoryTitleMap[this.state.categoryTitle])},_selectedCategoryContains:function(e){return this.state.filterCategory?0===this.state.filterCategory.length||B(this.state.filterCategory,e).length>0:void 0},setStateFromPath:function(e){this.setState({categoryTitle:e,filterCategory:this.categoryMap[e]||[]})},_onClickHelper:function(e,t,n,i){this.setState({filterSetting:""}),this.props.page&&h.overridePageProps(this.props.page,{url:x.getUrl(e),title:n,favIcon:i||"/resources/favicon_settings@2x.png"}),this.setStateFromPath(t),this.refs.content.scrollTop=0},onCategoryClick:function(e){this._onClickHelper("vivaldi://settings/"+e+"/",e,x.categoryTitleMap[e])},showCookieManager:function(){this.setState({cookieManagerDiv:r.findDOMNode(this.refs.settings)})},onSettingsFilter:function(e){var t=e.target.value;this.setState({filterCategory:[],categoryTitle:"all",filterSetting:t})},showRestartDialog:function(){this.setState({restartDialogDiv:this.refs.settings})},closeCookieManager:function(){this.setState({cookieManagerDiv:null})},closeDialog:function(){this.setState({restartDialogDiv:null})},focusContent:function(e){var t=["A","LI","INPUT","SELECT","OPTION","BUTTON"];-1===t.indexOf(e.target.nodeName)&&this.refs.content.focus()},_parseUrl:function(e,t){var n=e.split("?"),i=n&&n.length>1?L.parse(n[1])[t]:null;return i},renderButtons:function(){var e=this;return Object.keys(this.categoryMap).map(function(t){return""===t||"network"===t&&"linux"===e.state.currentOS||"mail"===t?null:i.createElement("button",{key:"id-"+t.toLowerCase(),onClick:e.onCategoryClick.bind(e,t),className:e.state.categoryTitle===t?t+" on":t+" off"},i.createElement("img",{src:"/resources/pref-"+t+".svg",alt:""}),i.createElement("span",null,x.categoryTitleMap[t]))})},render:function(){var e=this.state.filterSetting?this.state.filterSetting.toLowerCase():null;return i.createElement(k,{ref:"settings",focusName:"focus_settings",className:"vivaldi-settings ui-light"},i.createElement("header",{className:"settings-header"},i.createElement("h1",null,this.getWindowTitle())),i.createElement("nav",{ref:"categories",className:"settings-navigation"},i.createElement("header",{className:"settings-navigation-header"},i.createElement("input",{className:"settings-search",ref:"filter",value:this.state.filterSetting,type:"search",placeholder:P("Search..."),onChange:this.onSettingsFilter,autoFocus:!0})),i.createElement("section",null,this.renderButtons())),this.state.categoryTitle.length>0&&i.createElement("div",{className:"settings-content",ref:"content",tabIndex:"0",onClick:this.focusContent},this._selectedCategoryContains(["startup"])&&i.createElement("section",{className:"setting-section"},i.createElement(o,{filter:e})),this._selectedCategoryContains(["startup"])&&i.createElement("section",{className:"setting-section"},i.createElement(E,{filter:e})),this._selectedCategoryContains(["appearance"])&&i.createElement("section",{className:"setting-section"},i.createElement(a,{filter:e,platform:this.state.currentOS})),this._selectedCategoryContains(["biscuit"])&&i.createElement("section",{className:"setting-section"},i.createElement(s,{filter:e})),this._selectedCategoryContains(["appearance"])&&"mac"!==this.state.currentOS&&i.createElement("section",{className:"setting-section"},i.createElement(_,{filter:e})),this._selectedCategoryContains(["appearance"])&&"mac"!==this.state.currentOS&&i.createElement("section",{className:"setting-section"},i.createElement(m,{filter:e})),this._selectedCategoryContains(["addressbar"])&&i.createElement("section",{className:"setting-section"},i.createElement(g,{filter:e})),this._selectedCategoryContains(["start-page"])&&i.createElement("section",{className:"setting-section"},i.createElement(l,{filter:e})),this._selectedCategoryContains(["tab"])&&i.createElement("section",{className:"setting-section"},i.createElement(u,{filter:e,platform:this.state.currentOS})),this._selectedCategoryContains(["panel"])&&i.createElement("section",{className:"setting-section"},i.createElement(d,{filter:e})),this._selectedCategoryContains(["bookmarks"])&&i.createElement("section",{className:"setting-section"},i.createElement(f,{filter:e}),i.createElement(v,{filter:e})),this._selectedCategoryContains(["qc"])&&i.createElement("section",{className:"setting-section"},i.createElement(p,{filter:e})),this._selectedCategoryContains(["keyboard"])&&i.createElement("section",{className:"setting-section"},i.createElement(c,{filter:e,platform:this.state.currentOS,view:"editable"})),this._selectedCategoryContains(["mouse"])&&i.createElement("section",{className:"setting-section"},i.createElement(A,{filter:e,categoryTitle:this.state.categoryTitle,platform:this.state.currentOS})),this._selectedCategoryContains(["search"])&&i.createElement("section",{className:"setting-section"},i.createElement(I,{filter:e,showAsDlg:!1})),this._selectedCategoryContains(["privacy"])&&i.createElement("section",{className:"setting-section"},i.createElement(O,{filter:e,platform:this.state.currentOS})),this._selectedCategoryContains(["privacy"])&&i.createElement("section",{className:"setting-section"},i.createElement(w,{filter:e})),this._selectedCategoryContains(["cookies"])&&i.createElement("section",{className:"setting-section"},i.createElement(b,{showCookieManager:this.showCookieManager,filter:e})),this._selectedCategoryContains(["cookies"])&&i.createElement("section",{className:"setting-section"},i.createElement(C,{filter:e})),this._selectedCategoryContains(["downloads"])&&i.createElement("section",{className:"setting-section"},i.createElement(U,{filter:e,platform:this.state.currentOS})),this._selectedCategoryContains(["webpages"])&&i.createElement("section",{className:"setting-section"},i.createElement(F,{filter:e})),this._selectedCategoryContains(["webpages"])&&i.createElement("section",{className:"setting-section"},i.createElement(W,{filter:e})),this._selectedCategoryContains(["webpages"])&&i.createElement("section",{className:"setting-section"},i.createElement(H,{filter:e}),i.createElement(K,{filter:e})),this._selectedCategoryContains(["webpages"])&&i.createElement("section",{className:"setting-section"},i.createElement(V,{filter:e})),this._selectedCategoryContains(["sync"])&&!1&&i.createElement("section",{className:"setting-section"},i.createElement(N,{filter:e})),this._selectedCategoryContains(["network"])&&"linux"!==this.state.currentOS&&i.createElement("section",{className:"setting-section"},i.createElement(S,{filter:e})),null,this.state.restartDialogDiv&&i.createElement(y,{parentDiv:this.state.restartDialogDiv,onClose:this.closeDialog}),this.state.cookieManagerDiv&&i.createElement(T,{parentDiv:this.state.cookieManagerDiv,onCloseBM:this.closeCookieManager})))}});e.exports=j},function(e,t,n){"use strict";var i=n(1),r=n(8),o=n(3),a=n(2),s=n(10),l=i.createClass({displayName:"VivaldiDefaultBrowser",getInitialState:function(){return{isVivaldiDefault:!0,checkIfVivaldiIsDefaultBrowserStartup:!1}},componentWillMount:function(){r.importData.isVivaldiDefaultBrowser(function(e){this.setState({isVivaldiDefault:e&&e.toString?"true"===e.toString():!1})}.bind(this)),o.get("CHECK_DEFAULT_BROWSER_STARTUP",function(e){this.setState({checkIfVivaldiIsDefaultBrowserStartup:e})}.bind(this))},setVivaldiDefault:function(){r.importData.setVivaldiAsDefaultBrowser(function(e){this.setState({isVivaldiDefault:e&&e.toString?"true"===e.toString():!1})}.bind(this)),this.props.onClose&&this.props.onClose()},checkChange:function(){o.set({CHECK_DEFAULT_BROWSER_STARTUP:!this.state.checkIfVivaldiIsDefaultBrowserStartup}),this.setState({checkIfVivaldiIsDefaultBrowserStartup:!this.state.checkIfVivaldiIsDefaultBrowserStartup})},onClose:function(){this.props.onClose&&this.props.onClose()},render:function(){var e=i.createElement("div",{className:"setting-group"},i.createElement("h3",null,a("Default Browser")),i.createElement("div",{className:"setting-single"},this.state.isVivaldiDefault?i.createElement("p",null,a("Vivaldi is set as your default browser.")):i.createElement("div",null,i.createElement("p",null,a("Vivaldi isn’t your default browser.")),i.createElement("input",{type:"button",onClick:this.setVivaldiDefault,value:a("browser","Set as Default")}),this.props.showNotNow&&i.createElement("input",{type:"button",onClick:this.onClose,value:a("Not Now")}))),i.createElement("div",{className:"setting-single pad-top"},i.createElement("label",{title:a("Check if Vivaldi is your default browser upon every startup")},i.createElement("input",{type:"checkbox",checked:this.state.checkIfVivaldiIsDefaultBrowserStartup,onChange:this.checkChange}),i.createElement("span",null,a("Check on Startup")))));return s(e,this.props.filter)}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(13),o=n(4),a=n(21),s=n(2),l=n(6),u=i.createClass({displayName:"EditableSpeedDialTitle",getInitialState:function(){return{isEditing:!1,title:this.props.bookmark.title}},getDefaultProps:function(){return{howToEdit:"click"}},componentDidMount:function(){this.props.needsInitialEdit&&this.enableEditing()},componentDidUpdate:function(e,t){t.isEditing===!1&&this.state.isEditing===!0&&this.refs.input&&this.refs.input.value&&(this.refs.input.setSelectionRange(0,this.refs.input.value.length),this.refs.input.focus())},_documentClickHandler:function(e){r.findDOMNode(this).contains(e.target)||this.refs.input.blur()},enableEditing:function(){this.state.isEditing===!1&&(document.addEventListener("click",this._documentClickHandler),this.setState({isEditing:!0,fallbackTitle:this.state.title}))},handleClick:function(e){this.props.onSelect&&(this.props.onSelect(),r.findDOMNode(this).focus()),"click"===this.props.howToEdit&&this.enableEditing()},handleDoubleClick:function(e){"doubleClick"===this.props.howToEdit&&this.enableEditing()},handleBlur:function(e){this.state.title||this.cancelEdit(),this.setState({isEditing:!1}),this.props.needsInitialEdit&&"function"==typeof this.props.setSpeedDialAwaitingEdit&&this.props.setSpeedDialAwaitingEdit(null),document.removeEventListener("click",this._documentClickHandler)},handleChange:function(e){var t=e.target.value;this.setState({title:t}),this.saveTitle(t)},handleKeyDown:function(e){var t=e.keyCode;if(13===t)this.refs.input.blur();else{if(27!==t)return;this.cancelEdit(),this.refs.input.blur()}e.preventDefault()},deleteBookmark:function(){
o.bookmarks.remove(this.props.bookmark.id,function(){o.runtime.lastError&&console.warn("The computer tried to update a bookmark, but The Bookmark API said no: ",o.runtime.lastError.message)})},removeSpeedDial:function(){o.bookmarks.update(this.props.bookmark.id,{speeddial:!1},function(){o.runtime.lastError&&console.warn("The computer tried to update a speeddial, but The Bookmark API said no: ",o.runtime.lastError.message)})},cancelEdit:function(){this.props.needsInitialEdit?this.deleteBookmark():(this.setState({title:this.state.fallbackTitle}),this.saveTitle(this.state.fallbackTitle))},saveTitle:function(e){o.bookmarks.update(this.props.bookmark.id,{title:e},function(){o.runtime.lastError&&console.warn("The computer tried to update a bookmark, but The Bookmark API said no: ",o.runtime.lastError.message)})},getContextMenuItems:function(){return[{name:s("Remove"),handler:this.removeSpeedDial}]},render:function(){var e=l({"editable-title-container":!0,edit:this.state.isEditing});return i.createElement("span",{className:e,onContextMenu:a(this.getContextMenuItems)},i.createElement("button",{className:this.props.className,tabIndex:"button-title"===this.props.className?-1:null,onClick:this.handleClick,title:this.state.title,onDoubleClick:this.handleDoubleClick},this.state.title),this.state.isEditing&&i.createElement("input",{type:"text",ref:"input",value:this.state.title,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onChange:this.handleChange}))}});e.exports=u},function(e,t,n){"use strict";var i=n(2),r=Object.freeze({SpeedDial:i("title","Start Page"),Bookmarks:i("Bookmarks"),History:i("History")});e.exports=r},function(e,t,n){(function(t){"use strict";var i=n(1),r=n(2),o=i.createClass({displayName:"AudioIcon",propTypes:{animated:i.PropTypes.bool,color:i.PropTypes.string.isRequired,mode:i.PropTypes.oneOf(["idle","playing","muting"]).isRequired},getDefaultProps:function(){return{color:"#ffffff",mode:"idle"}},componentDidMount:function(){this.renderIcon(this.props.mode,this.props.color)},componentWillReceiveProps:function(e,n){var i=this;this.props!==e&&this.isMounted()&&t.nextTick(function(){i.renderIcon(e.mode,e.color)})},renderIcon:function(e,t){function n(e,t){var n=t-e,i=e+s*n;return i}function i(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}var r,o=this.refs.canvas;if(o){var a=o.getContext("2d"),s=0,l=window.requestAnimationFrame||window.webkitRequestAnimationFrame;i(t)?r=i(t):console.error("Bad audio icon color (expected 6-digit HEX form):",t);var u=function(){a.clearRect(0,0,o.width,o.height),a.beginPath(),a.moveTo(4,12),a.lineTo(10,12),a.lineTo(18,4),a.lineTo(18,28),a.lineTo(10,20),a.lineTo(4,20),a.closePath(),a.lineWidth=0,a.fillStyle=t,a.fill()},c=function(){a.clearRect(0,0,o.width,o.height),a.beginPath(),a.moveTo(2,27),a.lineTo(5,30),a.lineTo(28,7),a.lineTo(25,4),a.closePath(),a.lineWidth=0,a.fillStyle=t,a.fill(),a.beginPath(),a.moveTo(4,12),a.lineTo(10,12),a.lineTo(18,4),a.lineTo(18,8),a.lineTo(6,20),a.lineTo(4,20),a.closePath(),a.lineWidth=0,a.fillStyle=t,a.fill(),a.beginPath(),a.moveTo(14,24),a.lineTo(18,20),a.lineTo(18,28),a.closePath(),a.lineWidth=0,a.fillStyle=t,a.fill()},A=function(){a.clearRect(0,0,o.width,o.height),u(),s=s>1?0:Math.ceil(100*(s+.011))/100,a.beginPath(),a.moveTo(n(18,22),n(12,4)),a.quadraticCurveTo(n(20,32),16,n(18,22),n(20,28)),a.lineTo(n(20,24),n(22,30)),a.quadraticCurveTo(n(24,34),16,n(20,24),n(10,2)),a.closePath(),a.lineWidth=0,a.fillStyle="rgba("+r.r+","+r.g+","+r.b+","+(.7>s?1:(1-s)/.3)+")",a.fill(),"playing"===this.props.mode&&this.props.animated?l(A):d(this.props.mode)}.bind(this),d=function(e){"playing"===e?this.props.animated?A():u():"muting"===e?c():u()}.bind(this);d(e)}},render:function(){var e="";return"playing"===this.props.mode?e=r("Mute tab audio"):"muting"===this.props.mode&&(e=r("Unmute tab audio")),i.createElement("canvas",{className:"audioicon",ref:"canvas",width:"32",height:"32",title:e})}});e.exports=o}).call(t,n(22))},function(e,t,n){"use strict";var i=n(1),r=n(35),o=n(41),a=n(25),s=n(50),l=n(7),u=n(16),c=n(3),A=n(2),d=n(26),h=n(4),p=n(6),f=n(19),m=f.urls,g=n(21),v=["VIVALDI_MENU_POSITION"];"MacIntel"===navigator.platform&&v.push("vivaldi.apple_aqua_color_variant");var _=-1,E=function(){return{pages:u.getPages(),activePage:u.getActivePage()}},S=i.createClass({displayName:"TitleBar",mixins:[l],hasMenuContent:!1,activeShortcuts:[],getInitialState:function(){return Object.assign({altHover:!1},E())},componentWillMount:function(){u.addChangeListener(this._onPageStoreChange),"mac"!==this.props.currentOS&&(c.get(["VIVALDI_MENU_POSITION"],function(e){this.hasMenuContent="vivaldi"===e.VIVALDI_MENU_POSITION,this._setupShortcuts()}.bind(this)),c.addListener("VIVALDI_MENU_POSITION",this._onMenuPositionChanged),r.addChangeListener(this._onCommandStoreChanged),window.addEventListener("keydown",this.onKeyDown,!0),window.addEventListener("keyup",this.onKeyUp,!0))},componentWillUnmount:function(){var e=this;u.removeChangeListener(this._onPageStoreChange),"mac"!==this.props.currentOS&&(c.removeListener("VIVALDI_MENU_POSITION",this._onMenuPositionChanged),r.addChangeListener(this._onCommandStoreChanged),window.removeEventListener("keydown",this.onKeyDown,!0),window.removeEventListener("keyup",this.onKeyUp,!0),this.activeShortcuts.forEach(function(t){t.shortcut&&d.unbind(t.shortcut,e.showSubMenu)}))},_onPageStoreChange:function(){this.setState(E())},_onCommandStoreChanged:function(){"mac"!==this.props.currentOS&&this._setupShortcuts()},_onMenuPositionChanged:function(e,t){if(t){var n="vivaldi"===t;this.hasMenuContent!==n&&(this.hasMenuContent=n,this._setupShortcuts())}},_setupShortcuts:function(){var e=this;if(this.activeShortcuts.forEach(function(t){t.shortcut&&d.unbind(t.shortcut,e.showSubMenu)}),this.activeShortcuts=[],this.hasMenu()&&"mac"!==this.props.currentOS){for(var t=Object.keys(r.getCommandShortcuts()).filter(function(e){return e.includes("alt+")&&5===e.length}),n=[],i=[],o=void 0,a=r.getVerticalMenu(),s=0;s<a.length;s++){var l=a[s];if(void 0!==l.name&&"---"!==l.name&&l.mnemonic!==!1){var u=l.name.indexOf("&");-1!==u&&u+1<l.name.length&&(o=l.name.toUpperCase().charCodeAt(u+1),-1===n.indexOf(o)&&n.push(o))}}for(var c=0;c<a.length;c++){var A=a[c];if(void 0!==A.name)if("---"!==A.name&&A.mnemonic!==!1){var h="";if(n.length>0){var p=A.name.indexOf("&");if(-1!==p&&p+1<A.name.length){o=A.name.toUpperCase().charCodeAt(p+1),h="alt+"+String.fromCharCode(o).toLowerCase(),t.includes(h)?i.push({index:c,keyCode:o,mnemonicOffset:p}):(i.push({index:c,shortcut:h,keyCode:o,mnemonicOffset:p}),t.push(h));continue}}for(var f=!1,m=0;!f;)if(o=A.name.toUpperCase().charCodeAt(m),-1===n.indexOf(o))if(h="alt+"+String.fromCharCode(o).toLowerCase(),t.includes(h)){if(A.name.length===m+1)break;m+=1}else f=!0;else{if(A.name.length===m+1)break;m+=1}f?(i.push({index:c,shortcut:h,keyCode:o,mnemonicOffset:m}),t.push(h)):i.push({index:c})}else i.push({index:c});else i.push({index:c})}this.activeShortcuts=i,this.activeShortcuts.forEach(function(t){t.shortcut&&d.bind(t.shortcut,e.showSubMenu)})}},onKeyDown:function(e){e.repeat!==!0&&(_===a.KEY_ALT&&this.stopMenuDetection(),_=e.keyCode,_===a.KEY_ALT&&(window.addEventListener("mousedown",this.stopMenuDetection),window.addEventListener("mouseup",this.stopMenuDetection),window.addEventListener("mousemove",this.stopMenuDetection),window.addEventListener("wheel",this.stopMenuDetection)))},onKeyUp:function(e){_===a.KEY_ALT&&(this.stopMenuDetection(),e.keyCode===a.KEY_ALT&&this.hasMenu()&&this.showMenu(e))},stopMenuDetection:function(){_=-1,window.removeEventListener("mousedown",this.stopMenuDetection),window.removeEventListener("mouseup",this.stopMenuDetection),window.removeEventListener("mousemove",this.stopMenuDetection),window.removeEventListener("wheel",this.stopMenuDetection)},hasMenu:function(){return this.hasMenuContent&&!window.isPopup()},close:function(e){e.stopPropagation(),s.closeWindow()},minimize:function(){this.props.onNoVisualBlur(),h.app.window.current().minimize()},maximize:function(e){var t=h.app.window.current();if("mac"!==this.props.currentOS)t.isMaximized()?t.restore():t.maximize();else{var n=e.altKey;!e||1!==e.button&&n!==!0||t.isFullscreen()?t.isFullscreen()?t.restore():t.fullscreen():t.isMaximized()?t.restore():t.maximize()}},keyDownListener:function(e){e.altKey&&this.setState({altHover:!0})},keyUpListener:function(e){"Alt"===e.keyIdentifier&&this.setState({altHover:!1})},handleMouseEnter:function(e){e.altKey&&this.setState({altHover:!0}),document.addEventListener("keydown",this.keyDownListener),document.addEventListener("keyup",this.keyUpListener)},handleMouseLeave:function(e){this.setState({altHover:!1}),document.removeEventListener("keydown",this.keyDownListener),document.removeEventListener("keyup",this.keyUpListener)},showMenu:function(e){return g(r.getVerticalMenu(this.state.pages),null,"bottom",this.refs.vivaldiButton,null,null,this.activeShortcuts)(e)},showSubMenu:function(e){this.activeShortcuts.forEach(function(t){if(t.shortcut&&t.keyCode===e.keyCode){var n=r.getVerticalMenu(this.state.pages),i=n[t.index];return void g(n,null,"bottom",this.refs.vivaldiButton,null,i,this.activeShortcuts)(e)}}.bind(this))},render:function(){var e=m.getDisplayTitle(this.state.activePage)||"Vivaldi",t="top"!==this.props.tabPosition?"tabless":null,r=this.props.currentOS,o=h.app.window.current().isFullscreen(),a=window.navigator.appVersion.indexOf("Windows NT 10")>0?"win10":r,s=void 0,l=void 0,u=void 0;switch(a){case"linux":case"win":s=n(592),u=n(594),l=n(593);break;case"win10":s=n(595),u=n(597),l=n(596);break;case"mac":s=n(550),u=n(552),l=n(551)}var c=6===this.props.vivaldiSettings["vivaldi.apple_aqua_color_variant"];return i.createElement("div",{ref:"titlebar",id:"titlebar",className:t},"mac"!==r&&this.hasMenu()&&i.createElement("button",{ref:"vivaldiButton",className:"vivaldi",onMouseDown:this.showMenu,title:A("Menu")},i.createElement("span",{dangerouslySetInnerHTML:{__html:n(591)}})),i.createElement("div",{className:p({"window-buttongroup":!0,"alt-hover":this.state.altHover&&!o,graphite:c}),onMouseEnter:"mac"===r?this.handleMouseEnter:null,onMouseLeave:"mac"===r?this.handleMouseLeave:null},i.createElement("button",{tabIndex:"-1",className:"window-minimize",onClick:this.minimize,dangerouslySetInnerHTML:{__html:u}}),i.createElement("button",{tabIndex:"-1",className:"window-maximize",onClick:this.maximize,dangerouslySetInnerHTML:{__html:l}}),i.createElement("button",{tabIndex:"-1",className:"window-close",onClick:this.close,dangerouslySetInnerHTML:{__html:s}})),"top"!==this.props.tabPosition&&(this.hasMenu()||"mac"===r)&&i.createElement("div",{id:"pagetitle"},e))}});e.exports=o(S,v)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(13),a=n(18),s=a.findIndex,l=["getDropdown","getSelectionIndex"];t.OmniNavigation=function(){function e(t,n){i(this,e),this._inputComponent=t,this._onSave=n}return r(e,[{key:"_save",value:function(){"function"==typeof this._onSave&&this._onSave()}},{key:"_hasRequiredMethods",value:function(){var e=this;return l.every(function(t){return"function"==typeof e._inputComponent[t]})}},{key:"_moveAutocompleteHighlight",value:function(e,t){if(!this._hasRequiredMethods())throw"Missing some methods: "+l.join(",");var n=this._inputComponent.getDropdown(),i=o.findDOMNode(n),r=this._inputComponent.getSelectionIndex();if(i){var a=null,u=!1,c=!1,A=i.getElementsByClassName("omni-clickable");if(null==r||-1===r||null==A[r])a=e?0:n.getNumberOfSelectableItems()-1;else{var d=A[r],h=0===r||parseInt(i.scrollTop)+10>d.offsetTop;if(t)if(e)h?a=s(A,function(e){return e.offsetTop+e.offsetHeight>i.offsetHeight}):(d.scrollIntoView(!0),a=s(A,function(e){return e.offsetTop>i.offsetHeight+i.scrollTop})),-1===a&&(a+=n.getNumberOfSelectableItems());else if(h)i.scrollTop-=i.offsetHeight;else{for(var p=A.length-1;p>0&&!(A[p].offsetTop-A[p].offsetHeight<i.scrollTop);p--);a=p}else a=r+(e?1:-1),e?a>=n.getNumberOfSelectableItems()&&(a=-1):(h?u=!0:c=!0,-1>a&&(a=n.getNumberOfSelectableItems()-1))}if(null!=a)return-1!==a?(c||A[a].scrollIntoView(u),this._inputComponent.setAutocompleteHighlight(a,!0)):this._inputComponent.setAutocompleteHighlight(-1,!0)}return!1}},{key:"up",value:function(){return this._moveAutocompleteHighlight&&this._moveAutocompleteHighlight(!1)?!1:void this._save()}},{key:"down",value:function(){return this._moveAutocompleteHighlight&&this._moveAutocompleteHighlight(!0)?!1:void this._save()}},{key:"pageUp",value:function(){return this._moveAutocompleteHighlight&&this._moveAutocompleteHighlight(!1,!0)?!1:void this._save()}},{key:"pageDown",value:function(){return this._moveAutocompleteHighlight&&this._moveAutocompleteHighlight(!0,!0)?!1:void this._save()}}]),e}()},function(e,t,n){"use strict";var i=n(1),r=n(13),o=n(7),a=n(79),s=n(51),l=n(2),u=n(18),c=n(31),A=n(224),d=n(6),h=i.createClass({displayName:"OmniDropdown",mixins:[o,c],_ignoreMouseMove:!1,propTypes:{onLinkItemClicked:i.PropTypes.func,suggestEnabled:i.PropTypes.bool},getInitialState:function(){return{}},componentDidUpdate:function(e,t){e.isOpen===!0&&this.props.isOpen===!1?this.disableOnClickOutside():e.isOpen===!1&&this.props.isOpen===!0&&this.enableOnClickOutside()},handleClickOutside:function(e){this.props.onClose()},onLinkItemClicked:function(e,t){this.props.onLinkItemClicked(e,t)},onSearchClicked:function(){this.props.defaultSearchEngine&&this.props.defaultSearchEngine.Url&&this.props.onSearchClicked(this.props.pattern,this.props.defaultSearchEngine.Url)},getNumberOfSelectableItems:function(){var e=r.findDOMNode(this);return e?e.querySelectorAll(".omni-clickable").length:0},getCurrentValue:function(e){var t=r.findDOMNode(this);if(t){if("number"!=typeof e){var n=t.querySelector(".highlight");return n&&n.dataset.url?n.dataset.url:this.props.pattern}var i=t.querySelectorAll(".omni-clickable");if(e>=0&&e<i.length)return i[e].dataset.url}return""},onDeleteHistoryItem:function(e){e.preventDefault(),e.stopPropagation(),"function"==typeof this.props.onDeleteHistoryItem&&this.props.onDeleteHistoryItem(e.target.dataset.url)},onDeleteTypedHistoryItem:function(e){e.preventDefault(),e.stopPropagation(),"function"==typeof this.props.onDeleteHistoryItem&&s.deleteTypedHistory(e.target.dataset.url)},onMouseOver:function(e){if(!this._ignoreMouseMove){var t=u.findIndex(document.getElementsByClassName("omni-clickable"),function(t){return t===e.target.parentNode});t>=0&&this.props.setAutocompleteHighlight(t,!1)}},onScrolled:function(e){var t=this;this._ignoreMouseMove=!0,setTimeout(function(){return t._ignoreMouseMove=!1},100)},renderLinkItem:function(e,t){var n=e.type===a.OMNI_RESULT_SUGGEST,r=e.type===a.OMNI_RESULT_TYPED_HISTORY,o=d({"omni-clickable":!0,highlight:this._linkItemCount===this.props.selectionIndex});return this._linkItemCount++,i.createElement("div",{key:e.type+"-"+e.id,"data-url":e.url,className:o,onClick:this.onLinkItemClicked.bind(this,e)},!n&&e.url&&i.createElement("img",{className:"favicon",src:"chrome://favicon/"+e.url}),n&&(!this.props.typedSearchEngine&&i.createElement("img",{className:"favicon",src:this.props.defaultSearchEngine.Image})||i.createElement("img",{className:"favicon",src:this.props.typedSearchEngine.Image})),e.type===a.OMNI_RESULT_FOLDER_NICKNAME&&i.createElement("img",{className:"favicon",src:"/resources/folder@2x.png"}),e.url&&(n||r)?i.createElement("span",{className:"title"},A(e.url)):i.createElement("span",{className:"url"},A(e.url)),e.type===a.OMNI_RESULT_FOLDER_NICKNAME&&i.createElement("span",{className:"url"},l("Open all bookmarks in folder")+" ("+(e.urls&&e.urls.length||0)+")"),void 0!==t&&i.createElement("span",{className:"nickname"},e.nickname)||i.createElement("span",{className:"title"},e.title),e.type.startsWith("OMNI_RESULT_HISTORY")&&i.createElement("span",{className:"erase-from-history","data-url":e.url,title:l("Delete history item"),onClick:this.onDeleteHistoryItem}),e.type.startsWith("OMNI_RESULT_TYPED_HISTORY")&&i.createElement("span",{className:"erase-from-history","data-url":e.url,title:l("Delete typed history item"),onClick:this.onDeleteTypedHistoryItem}))},renderTypedHistory:function(e){var t=this;return Array.isArray(e)&&0!==e.length?i.createElement("section",{className:"filter-bookmarks ignore-react-onclickoutside"},i.createElement("label",null,l("Typed")),e.map(function(e){return t.renderLinkItem(e)})):null},renderBookmarks:function(e){var t=this;return Array.isArray(e)&&0!==e.length?i.createElement("section",{className:"filter-bookmarks ignore-react-onclickoutside"},i.createElement("label",null,l("Bookmarks")),e.map(function(e){return t.renderLinkItem(e)})):null},renderHistory:function(e){var t=this;return!Array.isArray(e)||e.length<=0?null:i.createElement("section",{className:"filter-history ignore-react-onclickoutside"},i.createElement("label",null,l("History")),e.map(function(e){return t.renderLinkItem(e)}))},renderURLSearch:function(){if("string"!=typeof this.props.pattern||this.props.pattern.length<0||!this.props.defaultSearchEngine||this.props.disableSearch===!0)return null;var e=d({"omni-clickable":!0,search:!0,highlight:this._linkItemCount===this.props.selectionIndex});this._linkItemCount++;var t=this.props.typedSearchEngine?this.props.typedSearchEngine.Name:this.props.defaultSearchEngine.Name;return i.createElement("section",{className:"filter-search ignore-react-onclickoutside"},i.createElement("label",null,l("Search $1",[t])),i.createElement("div",{onClick:this.onSearchClicked,className:e,"data-url":this.props.pattern},i.createElement("img",{className:"favicon",src:(this.props.typedSearchEngine||this.props.defaultSearchEngine).Image}),this.props.pattern))},renderNickname:function(e){return!Array.isArray(e)||e.length<=0?null:i.createElement("section",{className:"filter-bookmarks ignore-react-onclickoutside"},i.createElement("label",null,l("Nickname")),u.take(e.map(function(e){return this.renderLinkItem(e,e.nickname)}.bind(this)),a.OMNI_RESULT_COUNT))},renderSuggest:function(e){var t=this;return!Array.isArray(e)||e.length<=0?null:i.createElement("section",{className:"filter-suggestions ignore-react-onclickoutside"},i.createElement("label",null,l("Suggestions")),u.take(e.map(function(e){return t.renderLinkItem(e)}),a.OMNI_RESULT_COUNT))},render:function(){if(!this.props.isOpen)return null;if(this.props.results&&this.props.results.length>0){var e=u.take(this.props.results.filter(function(e){return e.type.startsWith("OMNI_RESULT_HISTORY")}),a.OMNI_RESULT_COUNT),t=u.take(this.props.results.filter(function(e){return e.type.startsWith("OMNI_RESULT_BOOKMARK")&&!e.type.includes("OMNI_RESULT_BOOKMARK_NICKNAME")}),a.OMNI_RESULT_COUNT),n=this.props.results.filter(function(e){return e.type.startsWith("OMNI_RESULT_BOOKMARK_NICKNAME")||e.type.startsWith("OMNI_RESULT_FOLDER_NICKNAME")}),r=u.take(this.props.results.filter(function(e){return e.type.startsWith("OMNI_RESULT_TYPED_HISTORY")}),a.OMNI_RESULT_COUNT),o=this.props.suggestEnabled?u.take(this.props.results.filter(function(e){return e.type.startsWith("OMNI_RESULT_SUGGEST")}),a.OMNI_RESULT_COUNT_SUGGEST):[];return this._linkItemCount=0,i.createElement("div",{className:"urlSearch",onMouseOver:this.onMouseOver,onScroll:this.onScrolled},this.renderNickname(n),this.props.isUrlbarSearchDisabled!==!0&&this.renderURLSearch(),this.renderTypedHistory(r),this.props.suggestEnabled&&this.renderSuggest(o),this.renderBookmarks(t),this.renderHistory(e))}return this.props.isUrlbarSearchDisabled?null:i.createElement("div",{className:"urlSearch",onMouseOver:this.onMouseOver,onScroll:this.onScrolled},this.renderURLSearch())}});e.exports=h},function(e,t,n){"use strict";var i,r,o=n(35),a=n(16),s=n(471),l={_onCommandStoreChanged:function(){i=o.getHorizontalMenu(a.getPages()),s(i)("menubar")},_onPageStoreChanged:function(){if(r){var e=o.getOpenTabsMenuList(a.getPages());i!==e&&(i=e,s(i)("tabs"))}},onBlur:function(){r=!1},onFocus:function(){r=!0,i=o.getHorizontalMenu(a.getPages()),s(i)("menubar")},onLastWindowClosed:function(){i=o.getHorizontalMenu(),s(i)("menubar")},init:function(){o.addChangeListener(this._onCommandStoreChanged),a.addChangeListener(l._onPageStoreChanged)}};e.exports=l},function(e,t,n){"use strict";var i=n(4),r=navigator.userAgent.replace(/Vivaldi/,"Viv"),o=navigator.userAgent.replace(/Vivaldi.*/,"Vivaldi/1.0."),a=navigator.userAgent.replace(/Vivaldi.*/,""),s=[{id:"VB9275UAALTER",urlMatches:"[docs|www]*.google.com|[fonts|www]*.gstatic.com/[^?]*",schemes:["https"],headerName:"User-Agent",headerValue:r},{id:"NETFLIX",urlMatches:".netflix.com/",schemes:["http","https"],headerName:"User-Agent",headerValue:o},{id:"gmaildisposition",urlMatches:"mail-attachment.googleusercontent.com",schemes:["https"],headerName:"User-Agent",headerValue:a}];"MacIntel"===navigator.platform&&s.push({id:"VB12544",urlMatches:"www.facebook.com/",schemes:["https"],headerName:"User-Agent",headerValue:navigator.userAgent+" OPR/99.0.9999.99"});var l=[];s.forEach(function(e){var t=new i.declarativeWebRequest.RequestMatcher({url:{urlEquals:e.urlEquals,hostEquals:e.hostEquals,schemes:e.schemes,urlMatches:e.urlMatches},resourceType:["main_frame","sub_frame","stylesheet","script","image","object","xmlhttprequest"],stages:["onBeforeSendHeaders"]}),n={id:e.id,conditions:[t],actions:[new i.declarativeWebRequest.SetRequestHeader({name:e.headerName,value:e.headerValue})]};l.push(n)}),e.exports={uaspoofRules:l,uaspoofRuleIds:l.map(function(e){return e.id})}},function(e,t,n){"use strict";function i(e){u=o.List(e),c.emitChange()}var r=n(17).EventEmitter,o=n(27),a=n(9),s=n(5),l="change",u=o.List(),c=Object.assign({},r.prototype,{getBackgroundTasks:function(e){return u},emitChange:function(){this.emit(l)},addChangeListener:function(e){this.on(l,e)},removeChangeListener:function(e){this.removeListener(l,e)}});a.register(function(e){var t=e.action;switch(t.actionType){case s.BACKGROUND_TASKS_SET:i(t.tasks);break;default:return!0}}),e.exports=c},function(e,t,n){"use strict";function i(e,t,n){A[e]=c.Map({id:t,url:n})}function r(e,t,n){var i=e.get("id");A[i]&&(A[i]=c.Map({id:t,url:n}))}function o(e,t){var n=e.get("id");A[n]&&(A[n]=void 0)}function a(e){A[e]&&(A[e]=void 0)}var s=n(9),l=n(5),u=n(17).EventEmitter,c=n(27),A={},d=Object.assign({},u.prototype,{getQueue:function(e){return A[e.get("id")]||c.Map()},emitChange:function(){this.emit(l.CHANGED)},addChangeListener:function(e){this.on(l.CHANGED,e)},removeChangeListener:function(e){this.removeListener(l.CHANGED,e)}});s.register(function(e){var t=e.action;switch(t.actionType){case l.BOOKMARK_THUMBNAIL_QUEUE_ADD_ITEM:i(t.pageId,t.id,t.url),d.emitChange();break;case l.BOOKMARK_THUMBNAIL_QUEUE_UPDATE_ITEM:r(t.page,t.id,t.url),d.emitChange();break;case l.BOOKMARK_THUMBNAIL_QUEUE_REMOVE_ITEM:o(t.page,t.id),d.emitChange();break;case l.CHROME_TABS_REMOVED:a(t.tabId),d.emitChange();break;default:return!0}return!0}),e.exports=d},function(e,t,n){"use strict";function i(e){c=u.fromJS(e)}function r(e,t){var n=A[e]||u.Map();A[e]=n.set(t,!0)}function o(e,t){A[e]&&(A[e]=A[e]["delete"](t))}var a=n(9),s=n(5),l=n(17).EventEmitter,u=n(27),c=u.List(),A={},d=Object.assign({},l.prototype,{getContentScripts:function(e){return c},getPageScripts:function(e){return A[e]||u.Map()},emitChange:function(){this.emit(s.CHANGED)},addChangeListener:function(e){this.on(s.CHANGED,e)},removeChangeListener:function(e){this.removeListener(s.CHANGED,e)}});a.register(function(e){var t=e.action;switch(t.actionType){case s.CONTENT_SCRIPT_LOAD:i(t.contentScripts),d.emitChange();break;case s.CONTENT_SCRIPT_PAGE_ADD:r(t.pageId,t.script),d.emitChange();break;case s.CONTENT_SCRIPT_PAGE_REMOVE:o(t.pageId,t.script),d.emitChange();break;default:return!0}return!0}),e.exports=window.ContentScriptStore=d},function(e,t,n){"use strict";function i(e){u=e[0]?e[0]:l,c.emitChange()}var r=n(9),o=n(5),a=n(17).EventEmitter,s="change",l={children:[]},u=l,c=Object.assign({},a.prototype,{getNotesRoot:function(){return u},emitChange:function(){this.emit(s)},addChangeListener:function(e){this.on(s,e)},removeChangeListener:function(e){this.removeListener(s,e)}});r.register(function(e){var t=e.action;switch(t.actionType){case o.NOTES_INIT_ACTION:i(t.notes);break;default:return!0}}),e.exports=window.NoteStore=c},function(e,t,n){"use strict";function i(e,t){var n=e||_;return e&&Array.isArray(e)&&e.length>=v&&(n=f.take(e,v)),n&&t&&(n=n.filter(function(e){return e!==t})),n}function r(e){if("function"!=typeof e)throw TypeError("loadTypedHistory: callback required");d.get("TYPED_SEARCH_HISTORY",function(t){var n=_;try{t&&(n=JSON.parse(t))}catch(i){console.warn("Unable to parse typed history JSON. TODO: fix!",i)}n&&e(n)})}function o(e){var t=e.page.get("id");if(e.state){var n=e.state.searchEngine;n&&"undefined"!=typeof n.Id&&d.getSync("CURRENT_SEARCH_ENGINE")!==n.Id&&d.set({CURRENT_SEARCH_ENGINE:n.Id},function(){return E.emitChanged()})}m[t]=Object.assign(m[t]||{},f.omit(e.state,"searchEngine")),E.emitChanged()}function a(e){m[e.tabId]=void 0}function s(e){r(function(t){var n=i(t,e.query);n=[e.query].concat(n),d.set({TYPED_SEARCH_HISTORY:JSON.stringify(n)}),g=n,E.emitChanged()})}function l(e){var t=g.filter(function(t){return e!==t});d.set({TYPED_SEARCH_HISTORY:JSON.stringify(t)}),g=t,E.emitChanged()}function u(){d.remove("TYPED_SEARCH_HISTORY"),g=[],E.emitChanged()}var c=n(9),A=n(5),d=n(3),h=n(17),p=h.EventEmitter,f=n(18),m={},g=[],v=30,_=[],E=Object.assign({},p.prototype,{emitChanged:function(){this.emit(A.CHANGED)},getSearchEngine:function(e){return f.find(d.getSync("SEARCH_ENGINES"),{Id:d.getSync("CURRENT_SEARCH_ENGINE")})},getSearchText:function(e){var t=m[e.get("id")];return t?t.editText||"":""},getTypedSearchHistory:function(){return g}});c.register(function(e){var t=e.action;switch(t.actionType){case A.SEARCH_FIELD_SET_STATE:o(t);break;case A.SEARCH_FIELD_ADD_TYPED_HISTORY:s(t);break;case A.CHROME_TABS_REMOVED:a(t);break;case A.SEARCH_FIELD_DELETE_TYPED_HISTORY:l(t.query);break;case A.NAVIGATION_HISTORY_ALL_DELETED:u()}}),setTimeout(function(){return r(function(e){g=e,E.emitChanged()})},2e3),e.exports=E},function(e,t,n){"use strict";var i=n(9),r=n(5),o=n(17).EventEmitter,a="change",s=Object.assign({},o.prototype,{emitChangeParam:function(e){this.emit(a,e)},emitChange:function(){this.emit(a)},addChangeListener:function(e){this.on(a,e)},removeChangeListener:function(e){this.removeListener(a,e)}});i.register(function(e){var t=e.action;switch(t.actionType){case r.TAB_NEW_TAB:s.emitChangeParam({action:"newTab",url:t.url});break;case r.TAB_NEW_BACKGROUND_TAB:s.emitChangeParam({action:"newBackgroundTab",url:t.url});break;case r.TAB_CLOSE_ALL_BUT_ACTIVE_TAB:s.emitChangeParam({action:"closeAllButActiveTab"});break;case r.TAB_SWITCH_BACK_SETTING:s.emitChangeParam({action:"switchTabBackBySetting",maybeEvent:t.maybeEvent});break;case r.TAB_SWITCH_FORWARD_SETTING:s.emitChangeParam({action:"switchTabForwardBySetting",maybeEvent:t.maybeEvent});break;case r.TAB_SWITCH_BACK_HISTORY:s.emitChangeParam({action:"switchTabBackByHistory",maybeEvent:t.maybeEvent});break;case r.TAB_SWITCH_FORWARD_HISTORY:s.emitChangeParam({action:"switchTabForwardByHistory",maybeEvent:t.maybeEvent});break;case r.TAB_SWITCH_BACK_ORDER:s.emitChangeParam({action:"switchTabBackByOrder",maybeEvent:t.maybeEvent});break;case r.TAB_SWITCH_FORWARD_ORDER:s.emitChangeParam({action:"switchTabForwardByOrder",maybeEvent:t.maybeEvent});break;case r.TAB_UNDO_RECENTLY_CLOSED:s.emitChangeParam({action:"reopenRecentlyClosed"});break;case r.TAB_VIEW_PAGE_SOURCE:s.emitChangeParam({action:"viewPageSource"});break;case r.TAB_STACK_UNTILE:s.emitChangeParam({action:"stackUntile"});break;case r.TAB_STACK_TILE_GRID:s.emitChangeParam({action:"stackTileGrid"});break;case r.TAB_STACK_TILE_HORIZONTAL:s.emitChangeParam({action:"stackTileHorizontal"});break;case r.TAB_STACK_TILE_VERTICAL:s.emitChangeParam({action:"stackTileVertical"});break;default:return!0}return!0}),e.exports=s},function(e,t,n){"use strict";function i(e){return e in o?o[e]:e}var r=n(2),o={"Invalid URL.":r("Invalid URL."),"Nickname exists.":r("Nickname exists.")};e.exports=i},function(e,t,n){"use strict";var i,r=n(4),o=["be","gl","is","mk","hy","nn"];i=-1===o.indexOf(r.i18n.getUILanguage())?[r.i18n.getUILanguage(),"en-US"]:["en-US"];var a=new Intl.DateTimeFormat(i,{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}),s=new Intl.DateTimeFormat(i,{month:"short",day:"numeric",hour:"numeric",minute:"numeric"});e.exports={dateTimeLong:function(e){return a.format(e)},dateTimeShort:function(e){return s.format(e)}}},function(e,t){"use strict";var n=function(e){return e&&(e.ctrlKey||e.altKey||e.metaKey)},i=function(e,t){var n={ctrlKey:[17],altKey:[18],metaKey:[91,93]};return Object.keys(n).filter(function(t){return e[t]}).filter(function(e){return-1!==n[e].indexOf(t.keyCode)}).some(Boolean)},r=function(){var e=!1;return function(t,r,o){return o=o||null,n(t)?void(e!==!0&&(e=!0,document.addEventListener("keyup",function a(n){i(t,n)&&(e=!1,r.call(o,n),document.removeEventListener("keyup",a))}))):void r.call(o)}}();t.modifierIsUp=i,t.modifierUpListener=r,t.hasModifier=n},function(e,t,n){"use strict";var i=n(4),r=function(e,t){i.windows.get(e,function(n){var r=n.extData&&JSON.parse(n.extData)||{},o=JSON.stringify(Object.assign(r,t));i.windows.update(e,{extData:o})})};e.exports=r},function(e,t){"use strict";function n(e){try{return decodeURI(e)}catch(t){return e}}e.exports=n},function(e,t){e.exports="PNG\r\n\n\x00\x00\x00\rIHDR\x00\x00\x00\x00\x00\x00\b\x00\x00\x00óÿa\x00\x00\x00ÉIDATxÚ­Ó½\nÂ0Àq_«£»ïQ}uriA°»8§~Ì:èæøv+mCRZ(\r¥Ä\\á¤¹\rü¸ÿÉl¾øË¸sÖ?L´Ö«¥çyÇq¶Ø´mûÅ{\b!$FÈ@Ó4;#\x00J©\x00Ú~Ä¨ëúÐçºî>\fÃ;ð}ÿ\fw¬ªª'2Påµ('\"æÁ3Ïóì8q'RÊ\rà¿QeNÜÉ@$<MÓì8ãXÙ!Fý`ÃÍE>$\x00\x00\x00\x00IEND®B`"},function(e,t){e.exports="PNG\r\n\n\x00\x00\x00\rIHDR\x00\x00\x00\x00\x00\x00\b\x00\x00\x00µú7ê\x00\x00\x00©IDATxcøÏVÀ`ÃPÃÐ\x00)\fÌ\nÒ\"\fìPÅà© A](	Â\f|\f¹\fµH°Á¨ x£ùÐ[¡¤@\x00ûABù`¢¸!XAH0Ê!`,\bGÈÆÉpX²²'# \b»(è©ë©«0@D¤ ÏTP;ä2#hÀ2Ç&\x00¥ñÄÍ­³\x00\x00\x00\x00IEND®B`"},function(e,t){e.exports=function(e,t,n,i,r){var o,a;if(void 0===i)i=0;else if(i=0|i,0>i||i>=e.length)throw new RangeError("invalid lower bound");if(void 0===r)r=e.length-1;else if(r=0|r,i>r||r>=e.length)throw new RangeError("invalid upper bound");for(;r>=i;)if(o=i+(r-i>>1),a=+n(e[o],t),0>a)i=o+1;else{if(!(a>0))return o;r=o-1}return~i}},,,,,function(e,t,n){var i;(function(e,r){!function(o){function a(e){throw new RangeError(M[e])}function s(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function l(e,t){var n=e.split("@"),i="";n.length>1&&(i=n[0]+"@",e=n[1]),e=e.replace(D,".");var r=e.split("."),o=s(r,t).join(".");return i+o}function u(e){for(var t,n,i=[],r=0,o=e.length;o>r;)t=e.charCodeAt(r++),t>=55296&&56319>=t&&o>r?(n=e.charCodeAt(r++),56320==(64512&n)?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--)):i.push(t);return i}function c(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=x(e>>>10&1023|55296),e=56320|1023&e),t+=x(e)}).join("")}function A(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:S}function d(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function h(e,t,n){var i=0;for(e=n?L(e/T):e>>1,e+=L(e/t);e>P*b>>1;i+=S)e=L(e/P);return L(i+(P+1)*e/(e+C))}function p(e){var t,n,i,r,o,s,l,u,d,p,f=[],m=e.length,g=0,v=w,_=I;for(n=e.lastIndexOf(O),0>n&&(n=0),i=0;n>i;++i)e.charCodeAt(i)>=128&&a("not-basic"),f.push(e.charCodeAt(i));for(r=n>0?n+1:0;m>r;){for(o=g,s=1,l=S;r>=m&&a("invalid-input"),u=A(e.charCodeAt(r++)),(u>=S||u>L((E-g)/s))&&a("overflow"),g+=u*s,d=_>=l?y:l>=_+b?b:l-_,!(d>u);l+=S)p=S-d,s>L(E/p)&&a("overflow"),
s*=p;t=f.length+1,_=h(g-o,t,0==o),L(g/t)>E-v&&a("overflow"),v+=L(g/t),g%=t,f.splice(g++,0,v)}return c(f)}function f(e){var t,n,i,r,o,s,l,c,A,p,f,m,g,v,_,C=[];for(e=u(e),m=e.length,t=w,n=0,o=I,s=0;m>s;++s)f=e[s],128>f&&C.push(x(f));for(i=r=C.length,r&&C.push(O);m>i;){for(l=E,s=0;m>s;++s)f=e[s],f>=t&&l>f&&(l=f);for(g=i+1,l-t>L((E-n)/g)&&a("overflow"),n+=(l-t)*g,t=l,s=0;m>s;++s)if(f=e[s],t>f&&++n>E&&a("overflow"),f==t){for(c=n,A=S;p=o>=A?y:A>=o+b?b:A-o,!(p>c);A+=S)_=c-p,v=S-p,C.push(x(d(p+_%v,0))),c=L(_/v);C.push(x(d(c,0))),o=h(n,g,i==r),n=0,++i}++n,++t}return C.join("")}function m(e){return l(e,function(e){return N.test(e)?p(e.slice(4).toLowerCase()):e})}function g(e){return l(e,function(e){return k.test(e)?"xn--"+f(e):e})}var v=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof r&&r);v.global!==v&&v.window!==v&&v.self!==v||(o=v);var _,E=2147483647,S=36,y=1,b=26,C=38,T=700,I=72,w=128,O="-",N=/^xn--/,k=/[^\x20-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,M={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},P=S-y,L=Math.floor,x=String.fromCharCode;_={version:"1.4.1",ucs2:{decode:u,encode:c},decode:p,encode:f,toASCII:g,toUnicode:m},i=function(){return _}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}(this)}).call(t,n(57)(e),function(){return this}())},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\n  <circle cx="8" cy="8" r="6"/>\n  <path d="M7.5 5.5v3m0 0h3" stroke-linecap="square"/>\n</svg>'},function(e,t){e.exports='<svg width="11" height="6" viewBox="0 0 11 6" xmlns="http://www.w3.org/2000/svg">\n  <path d="M5.5.133l.11-.11 4.456 4.456-1.498 1.497L5.5 2.91 2.432 5.976.934 4.48 5.39.022l.11.11z" />\n</svg>\n'},function(e,t){e.exports='<svg viewBox="0 0 100 78" xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <linearGradient x1="10%" y1="97%" x2="93%" y2="50%" id="a">\n      <stop class="stop1" stop-color="#F7F7F7" offset="0%"/>\n      <stop class="stop2" stop-color="#F6F6F6" offset="82%"/>\n      <stop class="stop3" stop-color="#F2F2F2" offset="83%"/>\n      <stop class="stop4" stop-color="#F1F1F1" offset="100%"/>\n    </linearGradient>\n  </defs>\n  <g fill="none">\n    <path class="folderoutline" stroke="#EAEAEA" fill="url(#a)" d="M0 7h100v71h-100z"/>\n    <path d="M38.672 5l-1.73-3.782c0-.67-1.025-1.218-1.88-1.218h-35.01v8.018h40l-.008-.018h59.956v-3h-61.328z" class="folder-tab-color"/>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26">\n  <path d="M13 4l-10.5 10h3.5v8h14v-8h3.5l-10.5-10zm5 16h-3v-5h-4v5h-3v-8.469l5-4.731 5 4.731v8.469z" />\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26">\n  <path d="M5 8v11h16V8H5zm8 8l-6-4.3V10l6 4.3 6-4.3v1.5L13 16z"/>\n</svg>'},function(e,t){e.exports='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n	<path d="M8 11l4-6H4l4 6z" />\n</svg>'},function(e,t){"use strict";t.__esModule=!0,t["default"]={noWobble:[170,26],gentle:[120,14],wobbly:[180,12],stiff:[210,20]},e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=arguments.length<=1||void 0===arguments[1]?a["default"].noWobble:arguments[1];return{val:e,config:t}}t.__esModule=!0,t["default"]=r;var o=n(239),a=i(o);e.exports=t["default"]},function(e,t,n){(function(t){(function(){var n,i,r;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-r)/1e6},i=t.hrtime,n=function(){var e;return e=i(),1e9*e[0]+e[1]},r=n()):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,n(22))},function(e,t){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var i={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r=["Webkit","ms","Moz","O"];Object.keys(i).forEach(function(e){r.forEach(function(t){i[n(t,e)]=i[e]})});var o={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},a={isUnitlessNumber:i,shorthandPropertyExpansions:o};e.exports=a},function(e,t,n){"use strict";function i(){this._callbacks=null,this._contexts=null}var r=n(20),o=n(67),a=n(12);r(i.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length?a(!1):void 0,this._callbacks=null,this._contexts=null;for(var n=0;n<e.length;n++)e[n].call(t[n]);e.length=0,t.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(e){this._callbacks&&(this._callbacks.length=e,this._contexts.length=e)},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),o.addPoolingTo(i),e.exports=i},function(e,t,n){"use strict";function i(e){return(""+e).replace(E,"$&/")}function r(e,t){this.func=e,this.context=t,this.count=0}function o(e,t,n){var i=e.func,r=e.context;i.call(r,t,e.count++)}function a(e,t,n){if(null==e)return e;var i=r.getPooled(t,n);g(e,o,i),r.release(i)}function s(e,t,n,i){this.result=e,this.keyPrefix=t,this.func=n,this.context=i,this.count=0}function l(e,t,n){var r=e.result,o=e.keyPrefix,a=e.func,s=e.context,l=a.call(s,t,e.count++);Array.isArray(l)?u(l,r,n,m.thatReturnsArgument):null!=l&&(f.isValidElement(l)&&(l=f.cloneAndReplaceKey(l,o+(!l.key||t&&t.key===l.key?"":i(l.key)+"/")+n)),r.push(l))}function u(e,t,n,r,o){var a="";null!=n&&(a=i(n)+"/");var u=s.getPooled(t,a,r,o);g(e,l,u),s.release(u)}function c(e,t,n){if(null==e)return e;var i=[];return u(e,i,null,t,n),i}function A(e,t,n){return null}function d(e,t){return g(e,A,null)}function h(e){var t=[];return u(e,t,null,m.thatReturnsArgument),t}var p=n(67),f=n(39),m=n(43),g=n(178),v=p.twoArgumentPooler,_=p.fourArgumentPooler,E=/\/+/g;r.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},p.addPoolingTo(r,v),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},p.addPoolingTo(s,_);var S={forEach:a,map:c,mapIntoWithKeyPrefixInternal:u,count:d,toArray:h};e.exports=S},function(e,t,n){"use strict";function i(e,t){var n=y.hasOwnProperty(t)?y[t]:null;C.hasOwnProperty(t)&&(n!==E.OVERRIDE_BASE?m(!1):void 0),e&&(n!==E.DEFINE_MANY&&n!==E.DEFINE_MANY_MERGED?m(!1):void 0)}function r(e,t){if(t){"function"==typeof t?m(!1):void 0,h.isValidElement(t)?m(!1):void 0;var n=e.prototype,r=n.__reactAutoBindPairs;t.hasOwnProperty(_)&&b.mixins(e,t.mixins);for(var o in t)if(t.hasOwnProperty(o)&&o!==_){var a=t[o],u=n.hasOwnProperty(o);if(i(u,o),b.hasOwnProperty(o))b[o](e,a);else{var c=y.hasOwnProperty(o),A="function"==typeof a,d=A&&!c&&!u&&t.autobind!==!1;if(d)r.push(o,a),n[o]=a;else if(u){var p=y[o];!c||p!==E.DEFINE_MANY_MERGED&&p!==E.DEFINE_MANY?m(!1):void 0,p===E.DEFINE_MANY_MERGED?n[o]=s(n[o],a):p===E.DEFINE_MANY&&(n[o]=l(n[o],a))}else n[o]=a}}}}function o(e,t){if(t)for(var n in t){var i=t[n];if(t.hasOwnProperty(n)){var r=n in b;r?m(!1):void 0;var o=n in e;o?m(!1):void 0,e[n]=i}}}function a(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:m(!1);for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?m(!1):void 0,e[n]=t[n]);return e}function s(e,t){return function(){var n=e.apply(this,arguments),i=t.apply(this,arguments);if(null==n)return i;if(null==i)return n;var r={};return a(r,n),a(r,i),r}}function l(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function u(e,t){var n=t.bind(e);return n}function c(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var i=t[n],r=t[n+1];e[i]=u(e,r)}}var A=n(20),d=n(246),h=n(39),p=(n(112),n(111),n(259)),f=n(115),m=n(12),g=n(116),v=n(49),_=(n(14),v({mixins:null})),E=g({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),S=[],y={mixins:E.DEFINE_MANY,statics:E.DEFINE_MANY,propTypes:E.DEFINE_MANY,contextTypes:E.DEFINE_MANY,childContextTypes:E.DEFINE_MANY,getDefaultProps:E.DEFINE_MANY_MERGED,getInitialState:E.DEFINE_MANY_MERGED,getChildContext:E.DEFINE_MANY_MERGED,render:E.DEFINE_ONCE,componentWillMount:E.DEFINE_MANY,componentDidMount:E.DEFINE_MANY,componentWillReceiveProps:E.DEFINE_MANY,shouldComponentUpdate:E.DEFINE_ONCE,componentWillUpdate:E.DEFINE_MANY,componentDidUpdate:E.DEFINE_MANY,componentWillUnmount:E.DEFINE_MANY,updateComponent:E.OVERRIDE_BASE},b={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)r(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=A({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=A({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=s(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=A({},e.propTypes,t)},statics:function(e,t){o(e,t)},autobind:function(){}},C={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},T=function(){};A(T.prototype,d.prototype,C);var I={createClass:function(e){var t=function(e,t,n){this.__reactAutoBindPairs.length&&c(this),this.props=e,this.context=t,this.refs=f,this.updater=n||p,this.state=null;var i=this.getInitialState?this.getInitialState():null;"object"!=typeof i||Array.isArray(i)?m(!1):void 0,this.state=i};t.prototype=new T,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],S.forEach(r.bind(null,t)),r(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:m(!1);for(var n in y)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){S.push(e)}}};e.exports=I},function(e,t,n){"use strict";function i(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||r}var r=n(259),o=(n(110),n(169),n(115)),a=n(12);n(14);i.prototype.isReactComponent={},i.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?a(!1):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},i.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};e.exports=i},function(e,t,n){"use strict";var i=n(161),r=n(637),o=n(33),a={processChildrenUpdates:r.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:i.dangerouslyReplaceNodeWithMarkup,unmountIDFromEnvironment:function(e){}};o.measureMethods(a,"ReactComponentBrowserEnvironment",{replaceNodeWithMarkup:"replaceNodeWithMarkup"}),e.exports=a},function(e,t,n){"use strict";var i=n(23),r=n(648),o=n(255),a=n(33),s=n(73),l=n(42),u=n(262),c=n(676),A=n(267),d=n(680);n(14);r.inject();var h=a.measure("React","render",o.render),p={findDOMNode:c,render:h,unmountComponentAtNode:o.unmountComponentAtNode,version:u,unstable_batchedUpdates:l.batchedUpdates,unstable_renderSubtreeIntoContainer:d};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:i.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=A(e)),e?i.getNodeFromInstance(e):null}},Mount:o,Reconciler:s});e.exports=p},function(e,t){"use strict";var n={hasCachedChildNodes:1};e.exports=n},function(e,t,n){"use strict";function i(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=s.getValue(e);null!=t&&r(this,Boolean(e.multiple),t)}}function r(e,t,n){var i,r,o=l.getNodeFromInstance(e).options;if(t){for(i={},r=0;r<n.length;r++)i[""+n[r]]=!0;for(r=0;r<o.length;r++){var a=i.hasOwnProperty(o[r].value);o[r].selected!==a&&(o[r].selected=a)}}else{for(i=""+n,r=0;r<o.length;r++)if(o[r].value===i)return void(o[r].selected=!0);o.length&&(o[0].selected=!0)}}function o(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),u.asap(i,this),n}var a=n(20),s=n(164),l=n(23),u=n(42),c=(n(14),!1),A={getNativeProps:function(e,t){return a({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=s.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:o.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||c||(c=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var i=s.getValue(t);null!=i?(e._wrapperState.pendingUpdate=!1,r(e,Boolean(t.multiple),i)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?r(e,Boolean(t.multiple),t.defaultValue):r(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=A},function(e,t,n){"use strict";function i(){if(A.current){var e=A.current.getName();if(e)return" Check the render method of `"+e+"`."}return""}function r(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;o("uniqueKey",e,t)}}function o(e,t,n){var r=i();if(!r){var o="string"==typeof n?n:n.displayName||n.name;o&&(r=" Check the top-level render call using <"+o+">.")}var a=p[e]||(p[e]={});if(a[r])return null;a[r]=!0;var s={parentOrOwner:r,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null};return t&&t._owner&&t._owner!==A.current&&(s.childOwner=" It was passed a child from "+t._owner.getName()+"."),s}function a(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var i=e[n];u.isValidElement(i)&&r(i,t)}else if(u.isValidElement(e))e._store&&(e._store.validated=!0);else if(e){var o=d(e);if(o&&o!==e.entries)for(var a,s=o.call(e);!(a=s.next()).done;)u.isValidElement(a.value)&&r(a.value,t)}}function s(e,t,n,r){for(var o in t)if(t.hasOwnProperty(o)){var a;try{"function"!=typeof t[o]?h(!1):void 0,a=t[o](n,o,e,r)}catch(s){a=s}if(a instanceof Error&&!(a.message in f)){f[a.message]=!0;i()}}}function l(e){var t=e.type;if("function"==typeof t){var n=t.displayName||t.name;t.propTypes&&s(n,t.propTypes,e.props,c.prop),"function"==typeof t.getDefaultProps}}var u=n(39),c=n(112),A=(n(111),n(56)),d=(n(169),n(174)),h=n(12),p=(n(14),{}),f={},m={createElement:function(e,t,n){var i="string"==typeof e||"function"==typeof e,r=u.createElement.apply(this,arguments);if(null==r)return r;if(i)for(var o=2;o<arguments.length;o++)a(arguments[o],e);return l(r),r},createFactory:function(e){var t=m.createElement.bind(null,e);return t.type=e,t},cloneElement:function(e,t,n){for(var i=u.cloneElement.apply(this,arguments),r=2;r<arguments.length;r++)a(arguments[r],i.type);return l(i),i}};e.exports=m},function(e,t){"use strict";var n,i={injectEmptyComponentFactory:function(e){n=e}},r={create:function(e){return n(e)}};r.injection=i,e.exports=r},function(e,t){"use strict";var n={logTopLevelRenders:!1};e.exports=n},function(e,t,n){"use strict";function i(e){return o(document.documentElement,e)}var r=n(641),o=n(686),a=n(275),s=n(276),l={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:l.hasSelectionCapabilities(e)?l.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,r=e.selectionRange;t!==n&&i(n)&&(l.hasSelectionCapabilities(n)&&l.setSelection(n,r),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=r.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,i=t.end;if(void 0===i&&(i=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(i,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",i-n),o.select()}else r.setOffsets(e,t)}};e.exports=l},function(e,t,n){"use strict";function i(e,t){for(var n=Math.min(e.length,t.length),i=0;n>i;i++)if(e.charAt(i)!==t.charAt(i))return i;return e.length===t.length?-1:n}function r(e){return e?e.nodeType===P?e.documentElement:e.firstChild:null}function o(e){return e.getAttribute&&e.getAttribute(k)||""}function a(e,t,n,i,r){var o;if(_.logTopLevelRenders){var a=e._currentElement.props,s=a.type;o="React mount: "+("string"==typeof s?s:s.displayName||s.name),console.time(o)}var l=y.mountComponent(e,n,null,m(e,t),r);o&&console.timeEnd(o),e._renderedComponent._topLevelWrapper=e,U._mountImageIntoNode(l,t,e,i,n)}function s(e,t,n,i){var r=C.ReactReconcileTransaction.getPooled(!n&&g.useCreateElement);r.perform(a,null,e,t,r,n,i),C.ReactReconcileTransaction.release(r)}function l(e,t,n){for(y.unmountComponent(e,n),t.nodeType===P&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function u(e){var t=r(e);if(t){var n=f.getInstanceFromNode(t);return!(!n||!n._nativeParent)}}function c(e){var t=r(e),n=t&&f.getInstanceFromNode(t);return n&&!n._nativeParent?n:null}function A(e){var t=c(e);return t?t._nativeContainerInfo._topLevelWrapper:null}var d=n(72),h=n(66),p=n(109),f=(n(56),n(23)),m=n(632),g=n(636),v=n(39),_=n(253),E=(n(110),n(653)),S=n(33),y=n(73),b=n(261),C=n(42),T=n(115),I=n(270),w=n(12),O=n(176),N=n(177),k=(n(14),h.ID_ATTRIBUTE_NAME),D=h.ROOT_ATTRIBUTE_NAME,M=1,P=9,L=11,x={},R=1,B=function(){this.rootID=R++};B.prototype.isReactComponent={},B.prototype.render=function(){return this.props};var U={TopLevelWrapper:B,_instancesByReactRootID:x,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,i){return U.scrollMonitor(n,function(){b.enqueueElementInternal(e,t),i&&b.enqueueCallbackInternal(e,i)}),e},_renderNewRootComponent:function(e,t,n,i){!t||t.nodeType!==M&&t.nodeType!==P&&t.nodeType!==L?w(!1):void 0,p.ensureScrollValueMonitoring();var r=I(e);C.batchedUpdates(s,r,t,n,i);var o=r._instance.rootID;return x[o]=r,r},renderSubtreeIntoContainer:function(e,t,n,i){return null==e||null==e._reactInternalInstance?w(!1):void 0,U._renderSubtreeIntoContainer(e,t,n,i)},_renderSubtreeIntoContainer:function(e,t,n,i){b.validateCallback(i,"ReactDOM.render"),v.isValidElement(t)?void 0:w(!1);var a=v(B,null,null,null,null,null,t),s=A(n);if(s){var l=s._currentElement,c=l.props;if(N(c,t)){var d=s._renderedComponent.getPublicInstance(),h=i&&function(){i.call(d)};return U._updateRootComponent(s,a,n,h),d}U.unmountComponentAtNode(n)}var p=r(n),f=p&&!!o(p),m=u(n),g=f&&!s&&!m,_=U._renderNewRootComponent(a,n,g,null!=e?e._reactInternalInstance._processChildContext(e._reactInternalInstance._context):T)._renderedComponent.getPublicInstance();return i&&i.call(_),_},render:function(e,t,n){return U._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){!e||e.nodeType!==M&&e.nodeType!==P&&e.nodeType!==L?w(!1):void 0;var t=A(e);if(!t){u(e),1===e.nodeType&&e.hasAttribute(D);return!1}return delete x[t._instance.rootID],C.batchedUpdates(l,t,e,!1),!0},_mountImageIntoNode:function(e,t,n,o,a){if(!t||t.nodeType!==M&&t.nodeType!==P&&t.nodeType!==L?w(!1):void 0,o){var s=r(t);if(E.canReuseMarkup(e,s))return void f.precacheNode(n,s);var l=s.getAttribute(E.CHECKSUM_ATTR_NAME);s.removeAttribute(E.CHECKSUM_ATTR_NAME);var u=s.outerHTML;s.setAttribute(E.CHECKSUM_ATTR_NAME,l);var c=e,A=i(c,u);" (client) "+c.substring(A-20,A+20)+"\n (server) "+u.substring(A-20,A+20);t.nodeType===P?w(!1):void 0}if(t.nodeType===P?w(!1):void 0,a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);d.insertTreeBefore(t,e,null)}else O(t,e),f.precacheNode(n,t.firstChild)}};S.measureMethods(U,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),e.exports=U},function(e,t,n){"use strict";var i=n(116),r=i({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});e.exports=r},function(e,t,n){"use strict";function i(e){if("function"==typeof e.type)return e.type;var t=e.type,n=A[t];return null==n&&(A[t]=n=u(t)),n}function r(e){return c?void 0:l(!1),new c(e)}function o(e){return new d(e)}function a(e){return e instanceof d}var s=n(20),l=n(12),u=null,c=null,A={},d=null,h={injectGenericComponentClass:function(e){c=e},injectTextComponentClass:function(e){d=e},injectComponentClasses:function(e){s(A,e)}},p={getComponentClassForElement:i,createInternalComponent:r,createInstanceForText:o,isTextComponent:a,injection:h};e.exports=p},function(e,t,n){"use strict";var i=n(39),r=n(12),o={NATIVE:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||e===!1?o.EMPTY:i.isValidElement(e)?"function"==typeof e.type?o.COMPOSITE:o.NATIVE:void r(!1)}};e.exports=o},function(e,t,n){"use strict";function i(e,t){}var r=(n(14),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){i(e,"forceUpdate")},enqueueReplaceState:function(e,t){i(e,"replaceState")},enqueueSetState:function(e,t){i(e,"setState")}});e.exports=r},function(e,t,n){"use strict";function i(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function r(e){function t(t,n,i,r,o,a){if(r=r||b,a=a||i,null==n[i]){var s=E[o];return t?new Error("Required "+s+" `"+a+"` was not specified in "+("`"+r+"`.")):null}return e(n,i,r,o,a)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function o(e){function t(t,n,i,r,o){var a=t[n],s=m(a);if(s!==e){var l=E[r],u=g(a);return new Error("Invalid "+l+" `"+o+"` of type "+("`"+u+"` supplied to `"+i+"`, expected ")+("`"+e+"`."))}return null}return r(t)}function a(){return r(S.thatReturns(null))}function s(e){function t(t,n,i,r,o){if("function"!=typeof e)return new Error("Property `"+o+"` of component `"+i+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a)){var s=E[r],l=m(a);return new Error("Invalid "+s+" `"+o+"` of type "+("`"+l+"` supplied to `"+i+"`, expected an array."))}for(var u=0;u<a.length;u++){var c=e(a,u,i,r,o+"["+u+"]");if(c instanceof Error)return c}return null}return r(t)}function l(){function e(e,t,n,i,r){if(!_.isValidElement(e[t])){var o=E[i];return new Error("Invalid "+o+" `"+r+"` supplied to "+("`"+n+"`, expected a single ReactElement."))}return null}return r(e)}function u(e){function t(t,n,i,r,o){if(!(t[n]instanceof e)){var a=E[r],s=e.name||b,l=v(t[n]);return new Error("Invalid "+a+" `"+o+"` of type "+("`"+l+"` supplied to `"+i+"`, expected ")+("instance of `"+s+"`."))}return null}return r(t)}function c(e){function t(t,n,r,o,a){for(var s=t[n],l=0;l<e.length;l++)if(i(s,e[l]))return null;var u=E[o],c=JSON.stringify(e);return new Error("Invalid "+u+" `"+a+"` of value `"+s+"` "+("supplied to `"+r+"`, expected one of "+c+"."))}return r(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOf, expected an instance of array.")})}function A(e){function t(t,n,i,r,o){if("function"!=typeof e)return new Error("Property `"+o+"` of component `"+i+"` has invalid PropType notation inside objectOf.");var a=t[n],s=m(a);if("object"!==s){var l=E[r];return new Error("Invalid "+l+" `"+o+"` of type "+("`"+s+"` supplied to `"+i+"`, expected an object."))}for(var u in a)if(a.hasOwnProperty(u)){var c=e(a,u,i,r,o+"."+u);if(c instanceof Error)return c}return null}return r(t)}function d(e){function t(t,n,i,r,o){for(var a=0;a<e.length;a++){var s=e[a];if(null==s(t,n,i,r,o))return null}var l=E[r];return new Error("Invalid "+l+" `"+o+"` supplied to "+("`"+i+"`."))}return r(Array.isArray(e)?t:function(){return new Error("Invalid argument supplied to oneOfType, expected an instance of array.")})}function h(){function e(e,t,n,i,r){if(!f(e[t])){var o=E[i];return new Error("Invalid "+o+" `"+r+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return r(e)}function p(e){function t(t,n,i,r,o){var a=t[n],s=m(a);if("object"!==s){var l=E[r];return new Error("Invalid "+l+" `"+o+"` of type `"+s+"` "+("supplied to `"+i+"`, expected `object`."))}for(var u in e){var c=e[u];if(c){var A=c(a,u,i,r,o+"."+u);if(A)return A}}return null}return r(t)}function f(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(f);if(null===e||_.isValidElement(e))return!0;var t=y(e);if(!t)return!1;var n,i=t.call(e);if(t!==e.entries){for(;!(n=i.next()).done;)if(!f(n.value))return!1}else for(;!(n=i.next()).done;){var r=n.value;if(r&&!f(r[1]))return!1}return!0;default:return!1}}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":t}function g(e){var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function v(e){return e.constructor&&e.constructor.name?e.constructor.name:b}var _=n(39),E=n(111),S=n(43),y=n(174),b="<<anonymous>>",C={array:o("array"),bool:o("boolean"),func:o("function"),number:o("number"),object:o("object"),string:o("string"),any:a(),arrayOf:s,element:l(),instanceOf:u,node:h(),objectOf:A,oneOf:c,oneOfType:d,shape:p};e.exports=C},function(e,t,n){"use strict";function i(e){a.enqueueUpdate(e)}function r(e,t){var n=o.get(e);return n?n:null}var o=(n(56),n(167)),a=n(42),s=n(12),l=(n(14),{isMounted:function(e){var t=o.get(e);return t?!!t._renderedComponent:!1},enqueueCallback:function(e,t,n){l.validateCallback(t,n);var o=r(e);return o?(o._pendingCallbacks?o._pendingCallbacks.push(t):o._pendingCallbacks=[t],void i(o)):null},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],i(e)},enqueueForceUpdate:function(e){var t=r(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,i(t))},enqueueReplaceState:function(e,t){var n=r(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,i(n))},enqueueSetState:function(e,t){var n=r(e,"setState");if(n){var o=n._pendingStateQueue||(n._pendingStateQueue=[]);o.push(t),i(n)}},enqueueElementInternal:function(e,t){e._pendingElement=t,i(e)},validateCallback:function(e,t){e&&"function"!=typeof e?s(!1):void 0}});e.exports=l},function(e,t){"use strict";e.exports="15.0.1"},function(e,t){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};e.exports=n},function(e,t,n){"use strict";function i(e,t){if(null==t?r(!1):void 0,null==e)return t;var n=Array.isArray(e),i=Array.isArray(t);return n&&i?(e.push.apply(e,t),e):n?(e.push(t),e):i?[e].concat(t):[e,t]}var r=n(12);e.exports=i},function(e,t,n){"use strict";function i(e,t,n){var i=e,r=void 0===i[n];r&&null!=t&&(i[n]=t)}function r(e){if(null==e)return e;var t={};return o(e,i,t),t}var o=n(178);n(14);e.exports=r},function(e,t){"use strict";var n=function(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)};e.exports=n},function(e,t,n){"use strict";function i(e){for(var t;(t=e._renderedNodeType)===r.COMPOSITE;)e=e._renderedComponent;return t===r.NATIVE?e._renderedComponent:t===r.EMPTY?null:void 0}var r=n(258);e.exports=i},function(e,t,n){"use strict";function i(){return!o&&r.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var r=n(28),o=null;e.exports=i},function(e,t,n){"use strict";function i(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function r(e){if(s[e])return s[e];if(!a[e])return e;var t=a[e];for(var n in t)if(t.hasOwnProperty(n)&&n in l)return s[e]=t[n];return""}var o=n(28),a={animationend:i("Animation","AnimationEnd"),animationiteration:i("Animation","AnimationIteration"),animationstart:i("Animation","AnimationStart"),transitionend:i("Transition","TransitionEnd")},s={},l={};o.canUseDOM&&(l=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),e.exports=r},function(e,t,n){"use strict";function i(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function r(e){var t;if(null===e||e===!1)t=s.create(r);else if("object"==typeof e){var n=e;!n||"function"!=typeof n.type&&"string"!=typeof n.type?u(!1):void 0,t="string"==typeof n.type?l.createInternalComponent(n):i(n.type)?new n.type(n):new c(n)}else"string"==typeof e||"number"==typeof e?t=l.createInstanceForText(e):u(!1);return t._mountIndex=0,t._mountImage=null,t}var o=n(20),a=n(629),s=n(252),l=n(257),u=n(12),c=(n(14),function(e){this.construct(e)});o(c.prototype,a.Mixin,{_instantiateReactComponent:r}),e.exports=r},function(e,t){"use strict";function n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&i[e.type]||"textarea"===t)}var i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=n},function(e,t,n){"use strict";function i(e){return r.isValidElement(e)?void 0:o(!1),e}var r=n(39),o=n(12);e.exports=i},function(e,t,n){"use strict";var i=n(28),r=n(114),o=n(176),a=function(e,t){e.textContent=t};i.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){o(e,r(t))})),e.exports=a},function(e,t,n){"use strict";var i=n(43),r={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:i}},registerDefault:function(){}};e.exports=r},function(e,t){"use strict";function n(e){try{e.focus()}catch(t){}}e.exports=n},function(e,t){"use strict";function n(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}e.exports=n},function(e,t,n){"use strict";function i(e){return a?void 0:o(!1),d.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?a.innerHTML="<link />":a.innerHTML="<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?d[e]:null}var r=n(28),o=n(12),a=r.canUseDOM?document.createElement("div"):null,s={},l=[1,'<select multiple="true">',"</select>"],u=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],A=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={
"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:c,th:c},h=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];h.forEach(function(e){d[e]=A,s[e]=!0}),e.exports=i},function(e,t){"use strict";e.exports={ar:function(e){var t=0===e?0:1===e?1:2===e?2:e%100>=3&&10>=e%100?3:e%100>=11&&99>=e%100?4:5;return t},be:function(e){var t=e%10===1&&e%100!==11?0:e%10>=2&&4>=e%10&&(12>e%100||e%100>14)?1:e%10===0||e%10>=5&&9>=e%10||e%100>=11&&14>=e%100?2:3;return t},bg:function(e){var t=1!==e;return t},ca:function(e){var t=1!==e;return t},cs:function(e){var t=1===e?0:e>=2&&4>=e?1:2;return t},da:function(e){var t=1!==e;return t},de:function(e){var t=1!==e;return t},el:function(e){var t=1!==e;return t},en:function(e){var t=1!==e;return t},eo:function(e){var t=1!==e;return t},es_PE:function(e){var t=1!==e;return t},es:function(e){var t=1!==e;return t},et:function(e){var t=1!==e;return t},eu:function(e){var t=1!==e;return t},fa:function(e){var t=0;return t},fi:function(e){var t=1!==e;return t},fr:function(e){var t=e>1;return t},fy:function(e){var t=1!==e;return t},gl:function(e){var t=1!==e;return t},hr:function(e){var t=e%10===1&&e%100!==11?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2;return t},hu:function(e){var t=1!==e;return t},hy:function(e){var t=1!==e;return t},id:function(e){var t=0;return t},io:function(e){var t=1!==e;return t},is:function(e){var t=e%10!==1||e%100===11;return t},it:function(e){var t=1!==e;return t},ja:function(e){var t=0;return t},jbo:function(e){var t=0;return t},ka:function(e){var t=0;return t},ko:function(e){var t=0;return t},ku:function(e){var t=1!==e;return t},lt:function(e){var t=e%10===1&&e%100!==11?0:e%10>=2&&(10>e%100||e%100>=20)?1:2;return t},lv:function(e){var t=e%10===1&&e%100!==11?0:0!==e?1:2;return t},mk:function(e){var t=e%10===1&&e%100!==11?0:1;return t},nb:function(e){var t=1!==e;return t},nl:function(e){var t=1!==e;return t},nn:function(e){var t=1!==e;return t},pl:function(e){var t=1===e?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2;return t},pt_BR:function(e){var t=e>1;return t},pt_PT:function(e){var t=1!==e;return t},ro:function(e){var t=1===e?0:e%100>19||e%100===0&&0!==e?2:1;return t},ru:function(e){var t=e%10===1&&e%100!==11?0:e%10>=2&&4>=e%10&&(12>e%100||e%100>14)?1:e%10===0||e%10>=5&&9>=e%10||e%100>=11&&14>=e%100?2:3;return t},sc:function(e){var t=1!==e;return t},sk:function(e){var t=1===e?0:e>=2&&4>=e?1:2;return t},sl:function(e){var t=e%100===1?0:e%100===2?1:e%100===3||e%100===4?2:3;return t},sq:function(e){var t=1!==e;return t},sr:function(e){var t=e%10===1&&e%100!==11?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2;return t},sv:function(e){var t=1!==e;return t},tr:function(e){var t=e>1;return t},uk:function(e){var t=e%10===1&&e%100!==11?0:e%10>=2&&4>=e%10&&(10>e%100||e%100>=20)?1:2;return t},vi:function(e){var t=0;return t},zh_CN:function(e){var t=0;return t},zh_TW:function(e){var t=0;return t}}},function(e,t,n){"use strict";var i=n(9),r=n(5),o={setActiveWebView:function(e){i.handleViewAction({actionType:r.WEBVIEW_SET_ACTIVE,webview:e})}};e.exports=o},function(e,t,n){"use strict";var i=n(9),r=n(5),o={setBackgroundTasks:function(e){i.handleViewAction({actionType:r.BACKGROUND_TASKS_SET,tasks:e})}};e.exports=o},function(e,t,n){"use strict";function i(){var e,t=function(t){t.clipboardData.types.indexOf("text/plain")>-1&&(e=t.clipboardData.getData("text/plain"),t.preventDefault())};return document.addEventListener("paste",t),document.execCommand("paste"),document.removeEventListener("paste",t),e}var r=n(34),o=n(4),a=["INPUT","FRAME","IFRAME","OBJECT","SELECT","TEXTAREA","EMBED"],s={undo:function(){o.editcommand.execute("undo")},redo:function(){o.editcommand.execute("redo")},cut:function(){o.editcommand.execute("cut")},copy:function(){o.editcommand.execute("copy")},paste:function(){o.editcommand.execute("paste")},selectAll:function(){o.editcommand.execute("selectAll")},pasteAsPlainText:function(){var e=i();a.indexOf(document.activeElement.tagName)>-1||document.activeElement.isContentEditable?document.execCommand("insertText",!1,e):"WEBVIEW"===document.activeElement.tagName&&document.activeElement.isFocusedElementEditable(function(t){t||(window.event.preventDefault(),document.activeElement.executeScript({code:"document.execCommand('insertText', false, "+JSON.stringify(e)+");"}))})},pasteAsPlainTextOrPastAndGo:function(e){var t=i();(a.indexOf(document.activeElement.tagName)>-1||document.activeElement.isContentEditable)&&!document.activeElement.classList.contains("url")?document.execCommand("insertText",!1,t):"WEBVIEW"===document.activeElement.tagName?document.activeElement.isFocusedElementEditable(function(e){e?(window.event.preventDefault(),document.activeElement.executeScript({code:"document.execCommand('insertText', false, "+JSON.stringify(t)+");"})):r.doAction("urlPasteAndGo")}):r.doAction("urlPasteAndGo")}};e.exports=s},function(e,t,n){"use strict";var i=n(9),r=n(5),o=n(8),a=!1,s={loadPromise:function(){return new Promise(function(e,t){o.notes.getTree(function(t){i.handleViewAction({actionType:r.NOTES_INIT_ACTION,notes:t}),e()})})},disableNoteMutationHandlers:function(){a=!0},enableNoteMutationHandlers:function(){a=!1,s.loadPromise()}};o.notes.onImportBegan.addListener(s.disableNoteMutationHandlers),o.notes.onImportEnded.addListener(s.enableNoteMutationHandlers);var l={onChanged:r.CHROME_NOTES_CHANGED,onCreated:r.CHROME_NOTES_CREATED,onRemoved:r.CHROME_NOTES_REMOVED,onMoved:r.CHROME_NOTES_MOVED};Object.keys(l).forEach(function(e){return o.notes[e].addListener(function(){a||s.loadPromise()})}),e.exports=s},function(e,t,n){"use strict";var i=n(4),r=n(9),o=n(5),a=o.SPATNAV_NAVIGATE,s=function(e,t){var n=document.activeElement,o=n&&"WEBVIEW"===n.tagName.toUpperCase();if(o){var s={actionType:a,direction:e};r.handleViewAction(s);var l=parseInt(n.getAttribute("tab_id"));i.tabs.sendMessage(l,s)}};e.exports={left:s.bind(void 0,"left"),up:s.bind(void 0,"up"),right:s.bind(void 0,"right"),down:s.bind(void 0,"down")}},function(e,t,n){"use strict";var i=n(9),r=n(5),o=n(3),a={toggleMenuPosition:function(){o.get("SHOW_PANEL",function(e){o.set({SHOW_PANEL:!e})}.bind(this))},newBackgroundTab:function(e,t,n){n&&(n.url?e=n.url:n.source_url&&(e=n.source_url)),i.handleViewAction({actionType:r.TAB_NEW_BACKGROUND_TAB,url:e})},switchTabBackBySetting:function(e,t){i.handleViewAction({actionType:r.TAB_SWITCH_BACK_SETTING,maybeEvent:t})},switchTabForwardBySetting:function(e,t){i.handleViewAction({actionType:r.TAB_SWITCH_FORWARD_SETTING,maybeEvent:t})},switchTabBackByHistory:function(e,t){i.handleViewAction({actionType:r.TAB_SWITCH_BACK_HISTORY,maybeEvent:t})},switchTabForwardByHistory:function(e,t){i.handleViewAction({actionType:r.TAB_SWITCH_FORWARD_HISTORY,maybeEvent:t})},switchTabBackByOrder:function(e,t){i.handleViewAction({actionType:r.TAB_SWITCH_BACK_ORDER,maybeEvent:t})},switchTabForwardByOrder:function(e,t){i.handleViewAction({actionType:r.TAB_SWITCH_FORWARD_ORDER,maybeEvent:t})},undoRecentlyClosedTab:function(e){i.handleViewAction({actionType:r.TAB_UNDO_RECENTLY_CLOSED})},closeAllButActiveTab:function(){i.handleViewAction({actionType:r.TAB_CLOSE_ALL_BUT_ACTIVE_TAB})},stackUntile:function(){i.handleViewAction({actionType:r.TAB_STACK_UNTILE})},stackTileGrid:function(){i.handleViewAction({actionType:r.TAB_STACK_TILE_GRID})},stackTileHorizontal:function(){i.handleViewAction({actionType:r.TAB_STACK_TILE_HORIZONTAL})},stackTileVertical:function(){i.handleViewAction({actionType:r.TAB_STACK_TILE_VERTICAL})},viewPageSource:function(){i.handleViewAction({actionType:r.TAB_VIEW_PAGE_SOURCE})}};e.exports=a},function(e,t,n){"use strict";var i=n(4),r=n(1),o=n(13),a=n(3),s=n(74),l=n(40),u=n(15),c=n(118),A=n(282),d=n(212),h=n(95),p=n(184),f=r.createFactory(n(343)),m=r.createFactory(n(345)),g=n(455),v=n(456),_=n(459),E=n(17),S=E.EventEmitter,y=(n(59),n(480));n(458);S.EventEmitter.defaultMaxListeners=100,window.React=r,i.contentSettings.notifications.clear({}),v(),"MacIntel"===navigator.platform&&d.init(),h.initFastForward();var b=function(){},C=function(){return new Promise(function(e,t){var n=window.isPopup()?m():f();try{o.render(n,document.getElementById("app"),e)}catch(i){t(i)}})},T=function(){var e=i.app.window.current();e?e.show():console.warn("Couldn’t show hidden application window because of missing current window.")},I=16;a.loadPromise().then(function(){return C()}).then(y({timeout:I})).then(function(){return b(),Promise.all([u.loadPromise(),l.loadPromise(),p.loadPromise(),g(),s.loadPromise(),c.loadPromise(),A.loadPromise()])}).then(function(){_.start()}).then(T)["catch"](function(e){console.log("Error showing UI:",e),T()})},,,function(e,t,n){(function(t){"use strict";function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(87),l=n(17).EventEmitter,u="0",c="1",A="2",d=s({Created:null,Removed:null,Changed:null,Moved:null,ChildrenReordered:null,ImportBegan:null,ImportEnded:null}),h=function f(e){o(this,f),this.id=e.id,this.parentId=e.parentId,this.index=e.index,this.url=e.url,this.title=e.title||"",this.speeddial=e.speeddial,this.dateAdded=e.dateAdded||Date.now(),this.dateGroupModified=e.dateGroupModified,this.unmodifiable="managed",this.children=e.children||[]},p=function(e){function n(){o(this,n);var e=i(this,Object.getPrototypeOf(n).call(this));return e.bookmarksBarFolder=new h({id:c,title:"Bookmarks Bar"}),e.otherBookmarksFolder=new h({id:A,title:"Other Bookmarks"}),e.rootFolder=new h({id:u,title:"",children:[e.bookmarksBarFolder,e.otherBookmarksFolder]}),e.nextId=3,e.bookmarkItems={},e.bookmarkItems[e.rootFolder.id]=e.rootFolder,e.bookmarkItems[e.bookmarksBarFolder.id]=e.bookmarksBarFolder,e.bookmarkItems[e.otherBookmarksFolder.id]=e.otherBookmarksFolder,e.recentBookmarks=[],e.onChanged={addListener:e.addEventListener.bind(e,d.Changed)},e.onCreated={addListener:e.addEventListener.bind(e,d.Created)},e.onRemoved={addListener:e.addEventListener.bind(e,d.Removed)},e.onMoved={addListener:e.addEventListener.bind(e,d.Moved)},e.onChildrenReordered={addListener:e.addEventListener.bind(e,d.ChildrenReordered)},e.onImportBegan={addListener:e.addEventListener.bind(e,d.ImportBegan)},e.onImportEnded={addListener:e.addEventListener.bind(e,d.ImportEnded)},e}return r(n,e),a(n,[{key:"get",value:function(e,n){var i=this,r=[].concat(e),o=r.map(function(e){return i.bookmarkItems[e]});t.nextTick(function(){return n&&n(o)})}},{key:"getTree",value:function(e){var n=this;t.nextTick(function(){return e&&e([n.rootFolder])})}},{key:"getSubTree",value:function(e,n){var i=this.bookmarkItems[e];t.nextTick(function(){return n&&n([i])})}},{key:"create",value:function(e,n){var i=this._getParent(e.parentId),r=new h({id:String(this.nextId++),parentId:i.id,title:e.title,url:e.url,speeddial:e.speeddial});this._addChild(i,r,e.index),this.recentBookmarks.push(r),this.bookmarkItems[r.id]=r,t.nextTick(function(){n&&n(r),this.emit(d.Created,r)}.bind(this))}},{key:"move",value:function(e,n,i){var r=this.bookmarkItems[e],o=r.index,a=this._getParent(r.parentId);this._removeChild(a,r);var s=this._getParent(n.parentId);this._addChild(s,r,n.index),t.nextTick(function(){i&&i(r),this.emit(d.Moved,{parentId:s.id,index:r.index,oldParentId:a.id,oldIndex:o})}.bind(this))}},{key:"update",value:function(e,n,i){var r=this.bookmarkItems[e];r.title=n.title||r.title,r.url=n.url||r.title,r.speeddial=void 0!==n.speeddial?n.speeddial:r.speeddial,t.nextTick(function(){i&&i(r),this.emit(d.Changed,{title:r.title,url:r.url})}.bind(this))}},{key:"remove",value:function(e,n){var i=this.bookmarkItems[e];this._removeChild(this._getParent(i.parentId),i),t.nextTick(function(){n&&n(i),this.emit(d.Removed,{parentId:i.parentId,index:i.index})}.bind(this))}},{key:"removeTree",value:function(e,n){var i=this.bookmarkItems[e];this._removeChild(this._getParent(i.parentId),i),this._removeChildren(i),t.nextTick(function(){return n&&n()})}},{key:"getChildren",value:function(e,n){var i=this.bookmarkItems[e];t.nextTick(function(){return n&&n(i.children)})}},{key:"search",value:function(e,t){t&&t([])}},{key:"getRecent",value:function(e,n){t.nextTick(function(){n&&n(this.recentBookmarks.reverse().slice(0,e))}.bind(this))}},{key:"addEventListener",value:function(e,t){this.on(e,t)}},{key:"_getParent",value:function(e){return e&&this.bookmarkItems[e]?this.bookmarkItems[e]:this.otherBookmarksFolder}},{key:"_addChild",value:function(e,t,n){n?e.children.splice(n,0,t):e.children=(e.children||[]).concat(t),this._updateIndexes(e)}},{key:"_removeChild",value:function(e,t){e.children=e.children.filter(function(e){return e!==t}),this._updateIndexes(e)}},{key:"_removeChildren",value:function(e){var t=this;e.children.forEach(function(e){return t._removeChildren(e)}),e.children=null}},{key:"_updateIndexes",value:function(e){for(var t=0;t<e.children.length;t++)e.children.index=t}}]),n}(l);e.exports=p}).call(t,n(22))},function(e,t,n){(function(t){"use strict";var i=n(288),r=n(290),o=n(291);window.vivaldiWindowId=42,window.isPopup=function(){return!1};var a=function(){},s={addListener:a,removeListener:a},l={app:{window:{current:function(){return{isFullscreen:function(){return!1},isMaximized:function(){return!0},onMaximized:s,onMinimized:s,onFullscreened:s,onRestored:s,show:a}}}},bookmarks:new i,contextMenus:{create:a,update:a,remove:a,removeAll:a,onClicked:s},declarativeWebRequest:{RequestMatcher:a,SetRequestHeader:a},downloads:{onCreated:s,onChanged:s,onErased:s,onDeterminingFilename:s,search:a,setShelfEnabled:a,pause:a,resume:a,erase:a},extension:{getURL:function(e){return e}},extensionActionUtils:{onAdded:s,onRemoved:s,onUpdated:s,onIconLoaded:s,getToolbarExtensions:a},history:{search:function(e,t){t([])},onVisitRemoved:s},i18n:{getMessage:function(e,t){return""},getUILanguage:function(){return"en-US"}},notifications:{create:a,update:a,clear:a,getAll:a,getPermissionLevel:a,onClosed:s,onClicked:s,onButtonClicked:s,onPermissionLevelChanged:s,onShowSettings:s},runtime:{sendMessage:a,onMessage:s,getPlatformInfo:a,getPackageDirectoryEntry:a},sessions:{getRecentlyClosed:a,onChanged:s},topSites:{get:function(e){t.nextTick(e.bind(this,[]))}},savedpasswords:{getSavedPasswordList:function(e){return[]}},storage:{onChanged:s,local:{get:a,set:a}},tabs:new r,windows:new o,contentSettings:{popups:{set:a,get:a},javascript:{set:a,get:a}},commandLinePrivate:{hasSwitch:a}};e.exports=l}).call(t,n(22))},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(87),a=n(27),s=n(17),l=s.EventEmitter,u=function(){},c=o({Created:null,Updated:null,Moved:null,SelectionChanged:null,ActiveChanged:null,Activated:null,HighlightChanged:null,Highlighted:null,Detached:null,Attached:null,Removed:null,Replaced:null,ZoomChange:null}),A=a.fromJS({id:null,index:null,windowId:window.vivaldiWindowId,openerTabId:null,selected:null,highlighted:null,active:!0,pinned:null,url:null,title:null,status:null,incognito:null,width:null,height:null,sessionId:null}),d=0,h=function(){function e(){var t=this;i(this,e),this.tabs=a.List(),this.eventEmitter=new l,this.eventEmitter.setMaxListeners(100),Object.keys(c).forEach(function(e){t["on"+e]={addListener:t.addEventListener.bind(t,c[e])}})}return r(e,[{key:"addEventListener",value:function(e,t){this.eventEmitter.on(e,t)}},{key:"get",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?u:arguments[1];t(this.tabs.find(function(t){return t.id===e}))}},{key:"getCurrent",value:function(){var e=arguments.length<=0||void 0===arguments[0]?u:arguments[0];e(this.tabs.first())}},{key:"connect",value:function(e,t){}},{key:"sendMessage",value:function(e,t,n,i){}},{key:"duplicate",value:function(e){arguments.length<=1||void 0===arguments[1]?u:arguments[1]}},{key:"highlight",value:function(e,t){}},{key:"sendRequest",value:function(e,t,n){}},{key:"getSelected",value:function(e,t){}},{key:"getAllInWindow",value:function(e,t){}},{key:"create",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?u:arguments[1],n=A.merge({id:d++}).merge(e);this.tabs=this.tabs.push(n),t(n.toJS()),this.eventEmitter.emit(c.Created,n.toJS()),n.get("active")&&this.eventEmitter.emit(c.Activated,n.toJS())}},{key:"query",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?u:arguments[1],n=a.fromJS(e);t(this.tabs.filter(function(e){return n.isSubset(e)}).toJS())}},{key:"update",value:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?u:arguments[2],i=this.tabs.find(function(t){return t.get("id")===e}),r=a.fromJS(t);i&&r&&(i=i.merge(r)),n(i),this.eventEmitter.emit(c.Update,i.get("id"),{status:"complete",url:i.get("url"),pinned:i.get("pinned")},i.toJS()),i.get("active")&&this.eventEmitter.emit(c.Activated,{tabId:i.get("id"),windowId:window.vivaldiWindowId})}},{key:"move",value:function(e,t,n){}},{key:"reload",value:function(e,t,n){}},{key:"remove",value:function(e,t){}},{key:"detectLanguage",value:function(e,t){}},{key:"captureVisibleTab",value:function(e,t,n){}},{key:"executeScript",value:function(e,t,n){}},{key:"insertCSS",value:function(e,t,n){}},{key:"setZoom",value:function(e,t,n){}},{key:"getZoom",value:function(e,t){}},{key:"setZoomSettings",value:function(e,t,n){}},{key:"getZoomSettings",value:function(e,t){}}]),e}();e.exports=h},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(87),a=n(27),s=n(17),l=s.EventEmitter,u=o({onCreated:null,onRemoved:null,onFocusChanged:null}),c=function(){function e(){var t=this;i(this,e),this.WINDOW_ID_NONE=-1,this.WINDOW_ID_CURRENT=-2,this.windows=a.List(),this.eventEmitter=new l,Object.keys(u).forEach(function(e){t["on"+e]={addListener:t.addEventListener.bind(t,u[e])}})}return r(e,[{key:"addEventListener",value:function(e,t){this.eventEmitter.on(e,t)}},{key:"get",value:function(e,t,n){}},{key:"getCurrent",value:function(e,t){}},{key:"getLastFocused",value:function(e,t){}},{key:"getAll",value:function(e,t){}},{key:"create",value:function(e,t){}},{key:"update",value:function(e,t,n){}},{key:"remove",value:function(e,t){}}]),e}();e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(13),o=n(65),a=n(4),s=n(190),l=n(189),u=n(52),c=n(50),A=n(60),d=n(2),h=n(81),p=n(195),f=n(3),m=n(76),g=m.PLACEHOLDER_URL,v=i.createClass({displayName:"BookmarksManager",mixins:[u],getInitialState:function(){return{parentSelectedId:null,filter:"",bookmarkSorting:{sortOrder:h.NO_SORTING,sortField:"manually"},isCreating:!1}},componentWillMount:function(){var e=this;f.get("BOOKMARKS_MANAGER_BOOKMARKSSORT",function(t){e.onSortChange(t.sortOrder,t.sortField)})},componentDidMount:function(){var e=this.refs.tree.getSelectedBookmarks();1===e.length&&this.refs.bookmarkEditItem.onSelect(e[0])},getDefaultProps:function(){return{open:!0}},isFolder:function(e){return e.children&&e.children.length>0||void 0===e.url},onSortChange:function(e,t){var n=o(this.state,{bookmarkSorting:{sortOrder:{$set:e},sortField:{$set:t}}});this.setState(n);var i={sortOrder:e,sortField:t};f.set({BOOKMARKS_MANAGER_BOOKMARKSSORT:i})},toggleSpeeddial:function(e){a.bookmarks.update(e.id,{speeddial:!e.speeddial},function(e){})},importData:function(){c.showImportData()},onFocusTree:function(){r.findDOMNode(this.refs.tree).focus()},onSelect:function(e){this.refs.bookmarkEditItem.onSelect(e),!this.state.isCreating||e&&e.url===g||this.setState({isCreating:!1})},onCreate:function(e){e&&this.setState({isCreating:!0})},onUpdate:function(){this.state.isCreating&&this.setState({isCreating:!1})},removeIfCreating:function(e){this.state.isCreating&&(e&&a.bookmarks.remove(e,function(){a.bookmarks.remove(e)}),this.refs.tree.selectNextAfterDelete(),this.setState({isCreating:!1}))},deleteItem:function(){this.refs.tree.onDelete()},updateThumbnailHandler:function(){var e=this.refs.tree.getSelectedBookmarks(),t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this._updateThumbnail(a)}}catch(s){n=!0,i=s}finally{try{!t&&o["return"]&&o["return"]()}finally{if(n)throw i}}},_updateThumbnail:function(e){if(this.isFolder(e))for(var t=0;t<e.children.length;t++)this._updateThumbnail(e.children[t]);else A.updateBookmarkThumbnail(e)},onSearchChange:function(e){this.setState({filter:e.target.value})},createBookmark:function(){this.refs.tree.onAdd(!1)},createFolder:function(){this.refs.tree.onAdd(!0)},render:function(){return this.props.open?i.createElement("div",{className:"manager",ref:"panelElement",style:this.props.style},i.createElement("div",{className:"manager-content"},i.createElement("div",{className:"toolbar-wrapper"},i.createElement("div",{className:"toolbar icons"},i.createElement("button",{className:"button-toolbar add",onClick:this.createBookmark},i.createElement("span",{dangerouslySetInnerHTML:{__html:n(64)}}),i.createElement("span",{className:"buttontext"},d("New Bookmark"))),i.createElement("button",{className:"button-toolbar folder",onClick:this.createFolder},i.createElement("span",{dangerouslySetInnerHTML:{__html:n(106)}}),i.createElement("span",{className:"buttontext"},d("New Folder"))),i.createElement("button",{className:"button-toolbar delete",onClick:this.deleteItem},i.createElement("span",{dangerouslySetInnerHTML:{__html:n(71)}}),i.createElement("span",{className:"buttontext"},d("other","Delete"))),i.createElement("button",{className:"button-toolbar import",onClick:this.importData},i.createElement("span",{dangerouslySetInnerHTML:{__html:n(584)}}),i.createElement("span",{className:"buttontext"},d("Import"))),i.createElement("button",{className:"button-toolbar updatethumb",onClick:this.updateThumbnailHandler},i.createElement("span",{dangerouslySetInnerHTML:{__html:n(588)}}),i.createElement("span",{className:"buttontext"},d("Update Thumbnails"))),i.createElement("div",{className:"bookmark-filter"},i.createElement("input",{value:this.state.filter,onChange:this.onSearchChange,type:"search",placeholder:d("Search...")})))),i.createElement(p,{onSortChange:this.onSortChange,fullsize:!0,sort:this.state.bookmarkSorting}),i.createElement("div",{className:"manager-treeview"},i.createElement("div",{className:"vivaldi-tree-container"},i.createElement(s,{filter:this.state.filter,ref:"tree",showBookmarkManager:!0,onEdit:this.onSelect,onToggleSpeeddial:this.toggleSpeeddial,onSelect:this.onSelect,onCreate:this.onCreate,sorting:this.state.bookmarkSorting})))),i.createElement(l,{ref:"bookmarkEditItem",removeIfCreating:this.removeIfCreating,onUpdate:this.onUpdate,onFocusTree:this.onFocusTree})):i.createElement("span",null)}});e.exports=v},function(e,t,n){"use strict";var i=n(1),r=n(13),o=n(65),a=n(40),s=n(190),l=n(189),u=n(50),c=n(44),A=n(77),d=n(3),h=n(11),p=n(195),f=n(81),m=n(2),g=n(76),v=g.VIVALDI_ROOT_BOOKMARK_FOLDER,_=n(4),E=n(6),S=n(82),y=n(21),b=406,C=238,T=600,I=n(76),w=I.PLACEHOLDER_URL,O=i.createClass({displayName:"BookmarksPanel",mixins:[h],vivaldiSettingsKeys:["BOOKMARKS_EDITOR_HEIGHT"],getInitialState:function(){return{filter:"",editor:!1,bookmarkSorting:{sortOrder:f.NO_SORTING,sortField:"manually",comparator:this.sortComparator},isCreating:!1}},componentWillMount:function(){var e=this;d.get("BOOKMARKS_PANEL_BOOKMARKSSORT",function(t){e.onSortChange(t.sortOrder,t.sortField)})},componentDidMount:function(){c.addChangeListener(this.onPanelStoreChange)},componentWillUnmount:function(){c.removeChangeListener(this.onPanelStoreChange)},componentDidUpdate:function(e,t){!e.open&&this.props.open&&r.findDOMNode(this.refs.tree).focus()},onPanelStoreChange:function(e){this.props.open&&"setFocus"===e&&!S(r.findDOMNode(this))&&r.findDOMNode(this.refs.tree).focus()},onSelect:function(e){this.state.editor?e?this.refs.bookmarkEditItem.onSelect(e):this.toggleEdit():this.state.isCreating&&this.toggleEdit(e),!this.state.isCreating||e&&e.url===w||this.setState({isCreating:!1})},addBookmark:function(){this.onAdd(!1)},addFolder:function(){this.onAdd(!0)},resetBookmarkBar:function(){a.setBookmarkBarFolderAndShow(v)},onAdd:function(e){this.refs.tree.onAdd(e)},onCreate:function(e){e&&this.setState({isCreating:!0})},onUpdate:function(){this.state.isCreating&&this.setState({isCreating:!1})},removeIfCreating:function(e){this.state.isCreating&&(e&&_.bookmarks.remove(e,function(){_.bookmarks.remove(e)}),this.setState({isCreating:!1}))},focusTree:function(){var e=this;this.setState({editor:!1},function(){r.findDOMNode(e.refs.tree).focus()})},deleteItem:function(){this.refs.tree.onDelete(),this.state.editor&&this.toggleEdit()},importData:function(){u.showImportData()},onEdit:function(){this.toggleEdit()},toggleEdit:function(e){var t=this;e=e||this.refs.tree.getSelectedItem(),(this.state.editor||e)&&this.setState({editor:!this.state.editor},function(){t.state.editor?t.refs.bookmarkEditItem.onSelect(e):t.refs.tree.forceUpdate()})},cancel:function(){this.refs.tree.refreshTree(),this.state.editor&&this.toggleEdit()},toggleSpeeddial:function(e){_.bookmarks.update(e.id,{speeddial:!e.speeddial})},onSortChange:function(e,t){var n=o(this.state,{bookmarkSorting:{sortOrder:{$set:e},sortField:{$set:t}}});this.setState(n);var i={sortOrder:e,sortField:t};d.set({BOOKMARKS_PANEL_BOOKMARKSSORT:i})},sortComparator:function(e,t){if(e.trash)return 1;if(t.trash)return-1;if(this.isFolder(e)&&!this.isFolder(t))return-1;if(this.isFolder(t)&&!this.isFolder(e))return 1;var n=this.state.bookmarkSorting,i=n.sortOrder,r=n.sortField,o=f.getDefaultComparator(i,r);return o(e,t)},collapseAll:function(){this.refs.tree.collapseAllFolders()},expandAll:function(){this.refs.tree.expandAllFolders()},handleResize:function(e){var t=r.findDOMNode(this.refs.bookmarksEditor),n=t.getBoundingClientRect(),i=n.height+e;return i>T?i=T:C>i&&(i=C),d.set({BOOKMARKS_EDITOR_HEIGHT:i}),!0},resizeToDefault:function(){d.set({BOOKMARKS_EDITOR_HEIGHT:b})},isFolder:function(e){return!(!e||!e.children&&e.url)},getContextMenuItems:function(e){return[{name:m("New Bookmark"),handler:this.addBookmark},{name:m("New Folder"),handler:this.addFolder},{name:"---"},{name:m("Set as Bookmark Bar"),handler:this.resetBookmarkBar},{name:"---"},{name:m("Collapse All Folders"),handler:this.refs.tree.collapseAll},{name:m("Expand All Folders"),handler:this.refs.tree.expandAll},{name:"---"},{name:m("Import Bookmarks"),handler:this.importData}]},onSearchChange:function(e){this.setState({filter:e.target.value})},render:function(){if(!this.props.open)return null;var e=E({"button-toolbar":!0,edit:!0,active:this.state.editor});return i.createElement("div",{className:"panel panel-bookmarks",ref:"bookmarkPanelElement"},i.createElement("header",null,i.createElement("h1",null,m("Bookmarks")),i.createElement("div",{className:"toolbar icons"},i.createElement("input",{type:"search",placeholder:m("Search..."),value:this.state.filter,onChange:this.onSearchChange}),i.createElement("span",null,i.createElement("button",{className:"button-toolbar add",title:m("New Bookmark"),tabIndex:this.props.keyAccess,onClick:this.addBookmark,dangerouslySetInnerHTML:{__html:n(64)}}),i.createElement("button",{className:"button-toolbar folder",title:m("New Folder"),tabIndex:this.props.keyAccess,onClick:this.addFolder,dangerouslySetInnerHTML:{__html:n(106)}}),i.createElement("button",{className:"button-toolbar delete",title:m("other","Delete"),tabIndex:this.props.keyAccess,onClick:this.deleteItem,dangerouslySetInnerHTML:{__html:n(71)}}),i.createElement("button",{className:e,title:m("verb","Edit"),tabIndex:this.props.keyAccess,onClick:this.onEdit,dangerouslySetInnerHTML:{__html:n(159)}})))),i.createElement(p,{onSortChange:this.onSortChange,keyAccess:this.props.keyAccess,sort:this.state.bookmarkSorting}),i.createElement("section",{onContextMenu:y(this.getContextMenuItems,this.onContextMenuOpen)},i.createElement(s,{ref:"tree",filter:this.state.filter,showBookmarkManager:!1,onToggleSpeeddial:this.toggleSpeeddial,onEdit:this.onEdit,onSelect:this.onSelect,onCreate:this.onCreate,sorting:this.state.bookmarkSorting})),this.state.editor&&i.createElement("section",{className:"panel-bookmarks-edit limited",ref:"bookmarksEditor",style:{flexBasis:this.state.BOOKMARKS_EDITOR_HEIGHT||b}},i.createElement(A,{onSlidebarMove:this.handleResize,onDoubleClick:this.resizeToDefault,position:"bottom"}),i.createElement(l,{ref:"bookmarkEditItem",selectedBookmark:this.state.selectedBookmark,removeIfCreating:this.removeIfCreating,onUpdate:this.onUpdate,onFocusTree:this.focusTree})))}});e.exports=O},function(e,t,n){"use strict";var i=n(1),r=n(65),o=n(40),a=n(61),s=n(52),l=n(295),u=n(25),c=n(16),A=n(160),d=n(81),h=n(3),p=n(2),f=n(4),m=n(6),g=n(21),v=n(130),_=n(18),E=_.isEmpty,S=i.createClass({displayName:"BookmarksBar",clipboardItem:{},getInitialState:function(){return{bookmarksData:a.getBookmarksBar(),dragoverBookmarkObj:{id:-1},width:document.documentElement.clientWidth,bookmarkSorting:{sortOrder:d.NO_SORTING,sortField:"manually"},editId:-1,newItemAdded:!1,renderedArray:[]}},componentWillReceiveProps:function(e){e.display!==this.props.display&&this._onStoreChange()},onLostFocus:function(){this.bookmarkTreeRemoveClipboardEventListeners()},onGotFocus:function(){this.bookmarkTreeAddClipboardEventListeners()},_onStoreChange:function(){var e=a.getBookmarksBar(),t=this.getRenderedItems(e,this.state.bookmarkSorting,this.state.newItemAdded===!0?this.state.editId:-1);this.setState({bookmarksData:e,renderedArray:t})},getRenderedItems:function(e,t,n){var i=v(e);if(i.length>0&&t&&t.sortOrder>=d.ASCENDING_SORT&&(d.treeSort(i,d.getDefaultComparator(t.sortOrder,t.sortField)),-1!==n)){var r=i.findIndex(function(e){return e.id===n});-1!==r&&i.splice(0,0,i.splice(r,1)[0])}return i},componentWillMount:function(){var e=this;h.get("BOOKMARKS_BAR_BOOKMARKSSORT",function(t){e._onSortChange(t.sortOrder,t.sortField)}),a.addChangeListener(this._onStoreChange)},componentWillUnmount:function(){a.removeChangeListener(this._onStoreChange)},onKeyDown:function(e){e.keyCode===u.KEY_ESCAPE&&this.state.dragoverBookmarkObj&&this.setState({dragoverBookmarkObj:{id:-1}})},openItem:function(e,t,n){var i={bookmarks:s.getBookmarksByNode(e)},r="MacIntel"===navigator.platform?n.command:n.ctrl;n.shift&&r?i.newWindow=!0:(n.shift?i.newTab=!0:r?(i.newTab=!0,i.inBackground=!0):"center"===n.button?(i.newTab=!0,i.inBackground=!0):"right"===n.button&&(i.newTab=!0),s.open(i,!0))},showDropMenu:function(e,t){var n=this,i=function s(e){if(e.children){var t=[];return t.push({name:p("Add Active Tab"),handler:o.bookmarkPageInFolder.bind(n,c.getActivePage(),e.id)}),e.children.length>0&&(t.push({name:"---"}),e.children.forEach(function(e){t.push(s(e))})),{mnemonic:!1,name:n.trimTitle(e.title),
bookmarkFolder:!0,items:t}}return{mnemonic:!1,name:n.trimTitle(e.title),url:e.url,handler:n.openItem.bind(null,e)}};if(e.children){var r=[];return r.push({name:p("Add Active Tab"),handler:o.bookmarkPageInFolder.bind(this,c.getActivePage(),e.id)}),e.children.length>0&&(r.push({name:"---"}),e.children.forEach(function(e){r.push(i(e,this))}.bind(this))),{mnemonic:!1,bookmarkFolder:!0,name:e.title,items:r}}var a={};return a.mnemonic=!1,a.name=e.title,a.url=e.url,a.handler=this.openItem.bind(null,e),a},trimTitle:function(e){return e.length>50?e.substring(0,50)+"...":e},onButtonRendered:function(e,t){for(var n=this.state.renderedArray,i=0;i<n.length;i++)if(n[i].id===e){if(n[i].buttonWidth!==t&&-1===this.state.editId){var r=this.state.renderedArray.slice();r[i].buttonWidth=t,this.setState({renderedArray:r})}break}},onResize:function(e){this.setState({width:Math.floor(e.width)})},getBookmarkBarButton:function(e){return i.createElement(l,{ref:e.id,key:e.id,item:e,edit:this.state.editId===e.id,onEditChanged:this.onEditChanged,keyAccess:this.props.keyAccess,onDragStart:this.onDragStart,onDragEnd:this.onDragEndBookmark,onDragOver:this.onDragOver,display:this.props.display,statusOff:this.props.statusOff,dragover:this.state.dragoverBookmarkObj.id===e.id,dragoverBookmarkObj:this.state.dragoverBookmarkObj,onMoveBookmark:this.onMoveBookmark,onCopyBookmark:this.onCopyBookmark,onButtonRendered:this.onButtonRendered,extractTitleFromDropEvent:this.extractTitleFromDropEvent,createNewBookmarksBarItem:this._createNewItem,onCut:this.onCutContextMenu.bind(this,e),onCopy:this.onCopyContextMenu.bind(this,e),onPaste:this.onPasteContextMenu.bind(this,e)})},_createNewItem:function(e,t,n){var i=this,r={parentId:a.getBookmarkBarFolderId(),title:t,index:n,url:e};f.bookmarks.create(r,function(e){i.resetDragoverObj()})},_createNewTopFolder:function(){var e=this,t={parentId:a.getBookmarkBarFolderId(),title:p("New Folder"),index:0,url:""};f.bookmarks.create(t,function(t){f.runtime.lastError||e.setState({editId:t.id,newItemAdded:!0})})},extractTitleFromDropEvent:function(e){var t=e.nativeEvent.dataTransfer.getData("title"),n=e.nativeEvent.dataTransfer.getData("text/html");if(""!==n){var i=document.createElement("div");i.innerHTML=n;var r=i.getElementsByTagName("a");if(r&&r[0]){var o=r[0].textContent;""!==o&&(t=o)}}return t},resetDragoverObj:function(){this.setState({dragoverBookmarkObj:{id:-1,position:"",index:null}})},onEditChanged:function(e){if(-1===e){var t=this.getRenderedItems(this.state.bookmarksData,this.state.bookmarkSorting,-1);this.setState({renderedArray:t,newItemAdded:!1,editId:-1})}else this.setState({editId:e})},onDragEndBookmark:function(){this.draggedId=-1,this.setState({dragoverBookmarkObj:{id:-1}})},onDropBar:function(e){var t=this;e.preventDefault(),e.stopPropagation();var n=e.dataTransfer.getData("text/type");if("BookmarkBarItem"===n){var i=JSON.parse(e.nativeEvent.dataTransfer.getData("ids"));f.bookmarks.get(i,function(e){e.forEach(function(e){var n={parentId:a.getBookmarkBarFolderId(),index:a.getBookmarksBar().length};f.bookmarks.move(e.id,n,function(e){t.resetDragoverObj()})})})}else{var r=e.dataTransfer.getData("URL"),o=this.extractTitleFromDropEvent(e),s=this.state.dragoverBookmarkObj.index;this._createNewItem(r,o,s)}},onDragOverBar:function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="move"},onDragOver:function(e,t){if(e.id!==this.draggedId){var n=t.currentTarget,i=n.getBoundingClientRect(),r=(t.clientX-i.left)/i.width,o="";this.state.bookmarkSorting.sortOrder===d.NO_SORTING?o=this.isFolder(e)?.33>=r?"left":r>.66?"right":"on":.5>=r?"left":"right":this.isFolder(e)&&(o="on"),(this.state.dragoverBookmarkObj.id!==e.id||this.state.dragoverBookmarkObj.id===e.id&&this.state.dragoverBookmarkObj.position!==o)&&this.setState({dragoverBookmarkObj:{id:e.id,position:o,index:e.index}})}},onDragStart:function(e){this.draggedId=e},onMoveBookmark:function(e,t){var n=this.state.dragoverBookmarkObj.position;f.bookmarks.get(t,function(t){t.forEach(function(t){var i={},r=this.isFolder(e);i.parentId=r&&"on"===n?e.id:e.parentId;var o=parseInt(e.index),a="right"===n?++o:o;i.index="on"===n?0:a,f.bookmarks.move(t.id,i,function(){this.setState({dragoverBookmarkObj:{id:-1}})}.bind(this))}.bind(this))}.bind(this))},onCopyBookmark:function(e,t,n){var i=this.findBookmarkItem(e),r=this.isFolder(n),o=this.state.dragoverBookmarkObj.position,a=parseInt(n.index),s="below"===o?++a:a;f.bookmarks.create({title:i.title,url:i.url?i.url:null,parentId:r?n.id:n.parentId,description:i.description?i.description:null,nickname:i.nickname?i.nickname:null,index:s})},findBookmarkItem:function(e){var t={},n=function i(n){return n.id===e?t=n:void(n.children&&n.children.forEach(function(e){i(e)}))};return this.state.bookmarksData.forEach(function(e){n(e)}.bind(this)),t},isFolder:function(e){return e?e.children&&e.children.length>0||void 0===e.url:!1},bookmarkTreeRemoveClipboardEventListeners:function(){document.removeEventListener("cut",this.onCut),document.removeEventListener("copy",this.onCopy),document.removeEventListener("paste",this.onPaste)},bookmarkTreeAddClipboardEventListeners:function(){document.addEventListener("cut",this.onCut),document.addEventListener("copy",this.onCopy),document.addEventListener("paste",this.onPaste)},onCut:function(e){this.setClipboard(e,!0)},onCopy:function(e){f.bookmarkManagerPrivate.copy([this.clipboardItem.id])},onPaste:function(e){if(!E(this.clipboardItem)){var t=this.clipboardItem,n=this.isFolder(t)?t.id:t.parentId;"true"===e.clipboardData.getData("isCut")?!function(){var i=[];try{i=JSON.parse(e.clipboardData.getData("application/json"))}catch(r){}var a=i.length,s={parentId:n,index:++t.index},l=0;i.forEach(function(e){o.disableBookmarkMutationHandlers(),f.bookmarks.move(e.id,s,function(){l++,l===a&&o.enableBookmarkMutationHandlers()})})}():(o.disableBookmarkMutationHandlers(),f.bookmarkManagerPrivate.paste(n,[t.id]),o.enableBookmarkMutationHandlers()),this.clipboardItem={}}},onCutContextMenu:function(e){this.clipboardItem=e,document.execCommand("cut")},onCopyContextMenu:function(e){this.clipboardItem=e,document.execCommand("copy")},onPasteContextMenu:function(e){this.clipboardItem=e,document.execCommand("paste")},setClipboard:function(e,t){if(e.clipboardData.setData("isCut",t),e.clipboardData.setData("text/plain",this.clipboardItem.url),this.clipboardItem.url&&this.clipboardItem.title){var n='<a href="'+this.clipboardItem.url+'">\n        '+this.clipboardItem.title+"</a>";e.clipboardData.setData("text/html",n)}e.clipboardData.setData("application/json",JSON.stringify([this.clipboardItem])),e.stopPropagation(),e.preventDefault()},getExtenderButtonItems:function(){for(var e=10,t=[],n=!1,i=0;i<this.state.renderedArray.length;i++){var r=this.state.renderedArray[i];n||(e+=r.buttonWidth?r.buttonWidth:0,n=e>this.state.width),n&&this.state.editId!==r.id&&(r.title=this.trimTitle(r.title),t.push(this.showDropMenu(r,"bottom")))}return t},_onSortOrderChange:function(){var e=this.state.bookmarkSorting.sortOrder===d.DESCENDING_SORT?d.ASCENDING_SORT:d.DESCENDING_SORT;this._onSortChange(e,this.state.bookmarkSorting.sortField)},_onTitleSortChange:function(e){var t=this.state.bookmarkSorting.sortOrder;"manually"!==e&&t===d.NO_SORTING?t=d.ASCENDING_SORT:"manually"===e&&(t=d.NO_SORTING),this._onSortChange(t,e)},_onSortChange:function(e,t){var n=r(this.state,{bookmarkSorting:{sortOrder:{$set:e},sortField:{$set:t}}});this.setState(n);var i={sortOrder:e,sortField:t};h.set({BOOKMARKS_BAR_BOOKMARKSSORT:i});var o=this.getRenderedItems(this.state.bookmarksData,i,this.state.newItemAdded===!0?this.state.editId:-1);this.setState({renderedArray:o})},getSortMenu:function(){var e=[{name:p("New Folder"),handler:this._createNewTopFolder},{name:p("Sort"),items:[{name:p("Manually"),handler:this._onTitleSortChange.bind(this,"manually"),type:"checkbox",checked:"manually"===this.state.bookmarkSorting.sortField},{name:p("by Title"),handler:this._onTitleSortChange.bind(this,"title"),type:"checkbox",checked:"title"===this.state.bookmarkSorting.sortField},{name:p("by Address"),handler:this._onTitleSortChange.bind(this,"url"),type:"checkbox",checked:"url"===this.state.bookmarkSorting.sortField},{name:p("by Nickname"),handler:this._onTitleSortChange.bind(this,"nickname"),type:"checkbox",checked:"nickname"===this.state.bookmarkSorting.sortField},{name:p("by Description"),handler:this._onTitleSortChange.bind(this,"description"),type:"checkbox",checked:"description"===this.state.bookmarkSorting.sortField},{name:p("by Date Created"),handler:this._onTitleSortChange.bind(this,"dateAdded"),type:"checkbox",checked:"dateAdded"===this.state.bookmarkSorting.sortField}]}];if(this.state.bookmarkSorting.sortOrder!==d.NO_SORTING){var t=p(this.state.bookmarkSorting.sortOrder===d.ASCENDING_SORT?"Descending":"Ascending");e[1].items.push({name:p("---")}),e[1].items.push({name:t,handler:this._onSortOrderChange})}return e},render:function(){for(var e=!1,t=10,n=[],r=0;r<this.state.renderedArray.length;r++){var o=this.state.renderedArray[r],a=t+(o.buttonWidth?o.buttonWidth:0);if(a>this.state.width&&this.state.editId!==o.id){e=-1===this.state.editId;break}n.push(this.getBookmarkBarButton(o)),t=a}var s=e>0?i.createElement("button",{className:"chevron",title:p("More bookmarks"),tabIndex:this.props.keyAccess,onClick:g(this.getExtenderButtonItems,null,"bottom")},i.createElement("img",{src:"/resources/chevron@2x.png",alt:""})):null;return i.createElement("div",{className:m({"bookmark-bar":!0,"favicon-current-background-color":this.props.useTabColor}),onBlur:this.onLostFocus,onDragOver:this.onDragOverBar,onDragLeave:this.resetDragoverObj,onDrop:this.onDropBar,onFocus:this.onGotFocus,onContextMenu:g(this.getSortMenu,this.onContextMenuOpen)},i.createElement(A,{className:"observer",embedCss:!1,onKeyDown:this.onKeyDown,onResize:this.onResize},n),s)}});e.exports=S},function(e,t,n){"use strict";var i=n(1),r=n(13),o=n(40),a=n(52),s=n(97),l=n(25),u=n(16),c=n(69),A=n(2),d=n(4),h=n(6),p=n(21),f=i.createClass({displayName:"BookmarksBarItem",mixins:[a],regularWidth:-1,getInitialState:function(){return{dragging:!1,isEditing:this.props.edit,title:this.props.item.title,fallbackTitle:this.props.item.title}},componentDidUpdate:function(){var e=r.findDOMNode(this.refs.bookmarkButton).offsetWidth;this.props.onButtonRendered(this.props.item.id,e),this.state.isEditing||(this.regularWidth=e)},componentDidMount:function(){var e=r.findDOMNode(this.refs.bookmarkButton).offsetWidth;this.props.onButtonRendered(this.props.item.id,e)},rename:function(){this.setState({isEditing:!0,fallbackTitle:this.props.item.title}),this.props.onEditChanged(this.props.item.id)},handleChange:function(e){this.setState({title:e.target.value})},handleKeyDown:function(e){var t=e.keyCode;t===l.KEY_ENTER||t===l.KEY_RETURN?(this.saveTitle(e.target.value),this.refs.input.blur()):t===l.KEY_ESCAPE&&(this.cancelEdit(),this.refs.input.blur())},killEvent:function(e){e.preventDefault(),e.stopPropagation()},cancelEdit:function(){this.setState({title:this.state.fallbackTitle,isEditing:!1}),this.props.onEditChanged(-1),this.saveTitle(this.state.fallbackTitle)},saveTitle:function(e){d.bookmarks.update(this.props.item.id,{title:e},function(){d.runtime.lastError&&console.warn("The computer tried to update a bookmark, but The Bookmark API said no: ",d.runtime.lastError.message)})},handleFocus:function(e){e.target.select()},handleBlur:function(e){this.state.title||this.cancelEdit(),this.setState({isEditing:!1}),this.props.onEditChanged(-1),this.props.onButtonRendered(this.props.item.id,this.regularWidth)},"delete":function(){this.isFolder(this.props.item)?d.bookmarks.removeTree(this.props.item.id):d.bookmarks.remove(this.props.item.id)},trimTitle:function(e){return e.length>50?e.substring(0,50)+"...":e},getFolderContent:function(e){var t=this,n=function r(e){if(e.children){var n=[];return n.push({name:A("Add Active Tab"),handler:o.bookmarkPageInFolder.bind(t,u.getActivePage(),e.id)}),e.children.length>0&&(n.push({name:"---"}),e.children.forEach(function(e){n.push(r(e))})),{mnemonic:!1,bookmarkFolder:!0,name:t.trimTitle(e.title),items:n}}return{mnemonic:!1,name:t.trimTitle(e.title),handler:t.openItem.bind(null,e),url:e.url}},i=[];return i.push({name:A("Add Active Tab"),handler:o.bookmarkPageInFolder.bind(this,u.getActivePage(),e.id)}),e.children.length>0&&(i.push({name:"---"}),e.children.forEach(function(e){i.push(n(e,this))}.bind(this))),i},handleItemClick:function(e){var t=this.props.item;if(t.children&&0===e.button)p(this.getFolderContent(t),null,"bottom")(e);else{var n="none";0===e.button?n="left":2===e.button?n="right":1===e.button&&(n="center");var i={ctrl:!!e.ctrlKey,alt:!!e.altKey,shift:!!e.shiftKey,command:!("MacIntel"!==navigator.platform||!e.metaKey),button:n};this.openItem(t,e,i)}},openItem:function(e,t,n){var i={bookmarks:this.getBookmarksByNode(e)},r="MacIntel"===navigator.platform?n.command:n.ctrl;n.shift&&r?i.newWindow=!0:n.shift?i.newTab=!0:r?(i.newTab=!0,i.inBackground=!0):"center"===n.button?(i.newTab=!0,i.inBackground=!0):"right"===n.button&&(i.newTab=!0),this.open(i,!0)},handleDrop:function(e){e.preventDefault(),e.stopPropagation();var t="MacIntel"===navigator.platform?e.metaKey:e.ctrlKey,n=[],i=!1;try{n=JSON.parse(e.nativeEvent.dataTransfer.getData("ids"))}catch(r){i=!0}if(i){var o=e.nativeEvent.dataTransfer.getData("text"),a=this.props.extractTitleFromDropEvent(e),s=this.props.dragoverBookmarkObj.index;this.props.createNewBookmarksBarItem(o,a,s)}else t?this.props.onCopyBookmark(this.props.item,n):this.props.onMoveBookmark(this.props.item,n)},handleDragStart:function(e){this.props.onDragStart(this.props.item.id),this.setState({dragging:!0}),e.dataTransfer.setData("text/type","BookmarkBarItem"),e.dataTransfer.setData("text/plain",this.props.item.url),e.dataTransfer.setData("text/uri-list",this.props.item.url),e.dataTransfer.effectAllowed="all",e.nativeEvent.dataTransfer.setData("ids",JSON.stringify([this.props.item.id.toString()])),e.nativeEvent.dataTransfer.setData("parentId",""+this.props.item.parentId),e.nativeEvent.dataTransfer.setData("text",""+this.props.item.url)},handleDragEnd:function(e){this.setState({dragging:!1}),this.props.onDragEnd()},handleDragLeave:function(e){},handleDragEnter:function(e){e.preventDefault()},handleDragOver:function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.dataTransfer.dropEffect="move",this.props.onDragOver(this.props.item,e)},handleMouseEnter:function(e){c.setStatus(this.props.item.url?this.props.item.url:this.props.item.title)},handleMouseLeave:function(e){c.clearStatus()},_openInNewWindow:function(e,t,n){var i={bookmarks:this.getBookmarksByNode(e)};i.newWindow=!0,i.inBackground=t,i.incognito=n,this.open(i,!0)},_openInNewTab:function(e,t){var n={bookmarks:this.getBookmarksByNode(e)};n.newTab=!0,n.inBackground=t,this.open(n,!0)},_open:function(e){var t={bookmarks:this.getBookmarksByNode(e)};t.inCurrent=!0,this.open(t,!0)},isFolder:function(e){return e?e.children&&e.children.length>=0||void 0===e.url:!1},getContextMenuItems:function(e){return[{name:A("Open"),handler:this._open.bind(this,e)},{name:A("Open in New Tab"),handler:this._openInNewTab.bind(this,e,!1)},{name:A("Open in Background Tab"),handler:this._openInNewTab.bind(this,e,!0)},{name:"---"},{name:A("Open in New Window"),handler:this._openInNewWindow.bind(this,e,!1,!1)},{name:A("Open in Background Window"),handler:this._openInNewWindow.bind(this,e,!0,!1)},{name:A("Open in Private Window"),handler:this._openInNewWindow.bind(this,e,!1,!0)},{name:"---"},{name:A("Rename"),handler:this.rename},{name:"---"},{name:"MacIntel"===navigator.platform?A("mac","Cut"):A("win_linux","Cut"),handler:this.props.onCut},{name:"MacIntel"===navigator.platform?A("mac","Copy"):A("win_linux","Copy"),handler:this.props.onCopy},{name:"MacIntel"===navigator.platform?A("mac","Paste"):A("win_linux","Paste"),handler:this.props.onPaste},{name:A("other","Delete"),handler:this["delete"]}]},render:function(){var e,t=this.props.item;"icon"===this.props.display&&t.title&&t.url?(e=t.title,t.url!=="http://"+t.title&&(e=e+" ("+t.url+")")):"icon"===this.props.display&&t.title?e=t.title:t.url&&(e=t.url),void 0===e&&(e=A("Show folder contents"));var n=!1;return"icon"!==this.props.display&&(n="iconexceptfolders"===this.props.display?!t.url:!0),i.createElement("button",{key:t.id,ref:"bookmarkButton",title:this.props.statusOff?e:null,tabIndex:this.props.keyAccess,className:h({dragging:this.state.dragging,dragover:this.props.dragoverBookmarkObj.id===t.id&&"on"===this.props.dragoverBookmarkObj.position,dragoverLeft:this.props.dragoverBookmarkObj.id===t.id&&"left"===this.props.dragoverBookmarkObj.position,dragoverRight:this.props.dragoverBookmarkObj.id===t.id&&"right"===this.props.dragoverBookmarkObj.position}),draggable:!this.state.isEditing,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onDragOver:this.handleDragOver,onDrop:this.handleDrop,onMouseEnter:this.props.statusOff?null:this.handleMouseEnter,onMouseLeave:this.props.statusOff?null:this.handleMouseLeave,onClick:this.handleItemClick,onContextMenu:p(this.getContextMenuItems.bind(this,t),this.onContextMenuOpen),onKeyUp:this.killEvent},t.url&&i.createElement("img",{src:"chrome://favicon/"+t.url,width:"16",alt:""}),!t.url&&"text"!==this.props.display&&i.createElement(s,null),!this.state.isEditing&&n&&i.createElement("span",null,t.title),this.state.isEditing&&i.createElement("input",{ref:"input",type:"text",value:this.state.title,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.killEvent,onKeyDown:this.handleKeyDown,onChange:this.handleChange,autoFocus:!0}))}});e.exports=f},function(e,t,n){"use strict";var i=n(1),r=n(120),o=n(31),a=n(18),s=n(2),l=i.createClass({displayName:"VivaldiDropdown",mixins:[o],propTypes:{store:i.PropTypes.array,displayField:i.PropTypes.string,shortcut:i.PropTypes.string,itemField:i.PropTypes.string,onItemClicked:i.PropTypes.func,onClose:i.PropTypes.func,keyAccess:i.PropTypes.oneOf(["-1","0"]),disabled:i.PropTypes.bool},getInitialState:function(){return{isExpanded:this.props.isExpanded===!0||!1}},handleClickOutside:function(e){this.setState({isExpanded:!1})},onItemClicked:function(e,t){t&&t.stopPropagation(),this.props.onItemClicked(e.Id),this.setState({isExpanded:!1})},collapse:function(){this.state.isExpanded&&("function"==typeof this.props.onClose&&this.props.onClose(),this.setState({isExpanded:!1}))},expand:function(e){e&&e.preventDefault(),this.setState({isExpanded:!this.state.isExpanded})},isExpanded:function(){return this.state.isExpanded},renderDropdown:function(){return i.createElement(r,{items:this.props.store,open:!0,minWidth:this.props.minWidth,onClosed:this.collapse,onItemSelected:this.onItemClicked,onDeleted:this.props.onDeleted})},renderTrigger:function(){return"search"===this.props.type?i.createElement("button",{className:"button-addressfield input-dropdown search-engines",tabIndex:this.props.keyAccess,onMouseDown:this.expand,title:s("Change search engine"),dangerouslySetInnerHTML:{__html:n(565)}}):i.createElement("button",{className:"button-addressfield input-dropdown search-history",tabIndex:this.props.keyAccess,onMouseDown:this.expand,disabled:this.props.disabled,title:s("Show search history"),dangerouslySetInnerHTML:{__html:n(238)}})},renderDefaultValue:function(){var e,t=this;a.isArray(this.props.store)&&this.props.store.length>0&&(e=a.find(this.props.store,function(e){return e[t.props.itemField]===t.props.value?e:void 0}));var n=i.createElement("a",{tabIndex:"0",onFocusout:"",onClick:this.expand},s("Select"));return e&&(n=i.createElement("a",{tabIndex:"0",onFocusout:"",onClick:this.expand},this.props.imageField&&this.renderImage(e[this.props.imageField]),e[this.props.displayField])),i.createElement("div",{className:"iconmenu-header"},n)},render:function(){var e={};return e["is-expanded"]=this.state.isExpanded===!0,e["is-collapsed"]=this.state.isExpanded===!1,i.createElement("span",null,this.props.hideTrigger&&this.renderDefaultValue(),!this.props.hideTrigger&&this.renderTrigger(),this.state.isExpanded===!0&&this.renderDropdown())}});e.exports=l},function(e,t){"use strict";function n(){this._length=0,this._head=null,this._tail=null}n.prototype={add:function(e){var t={data:e,next:null,prev:null};0===this._length?(this._head=t,this._tail=t):(this._tail.next=t,t.prev=this._tail,this._tail=t),this._length++},get length(){return this._length}},e.exports=n},function(e,t,n){"use strict";var i=function(e){var t=n(26),i="MacIntel"===navigator.platform;t.bind("up",e.up),t.bind("down",e.down),t.bind("left",e.left),t.bind("right",e.right),t.bind("del",e["delete"]),t.bind("home",e.home),t.bind("end",e.end),t.bind("esc",e.esc),t.bind(i?"meta+a":"ctrl+a",e.selectAll),t.bind(i?"meta+left":"ctrl+left",e.left),t.bind(i?"meta+right":"ctrl+right",e.right),t.bind(i?"meta+backspace":"del",e["delete"]),i||(t.bind("ctrl+space",e.ctrlSpace),t.bind("ctrl+up",e.ctrlUp),t.bind("ctrl+down",e.ctrlDown)),t.bind("shift+up",e.up),t.bind("shift+down",e.down)},r=function(e){var t=n(26),i="MacIntel"===navigator.platform;t.unbind("up",e.up),t.unbind("down",e.down),t.unbind("left",e.left),t.unbind("right",e.right),t.unbind("del",e["delete"]),t.unbind("home",e.home),t.unbind("end",e.end),t.unbind("esc",e.esc),t.unbind(i?"meta+a":"ctrl+a",e.selectAll),t.unbind(i?"meta+left":"ctrl+left",e.left),t.unbind(i?"meta+right":"ctrl+right",e.right),t.unbind(i?"meta+backspace":"del",e["delete"]),i||(t.unbind("ctrl+space",e.ctrlSpace),t.unbind("ctrl+up",e.ctrlUp),t.unbind("ctrl+down",e.ctrlDown)),t.unbind("shift+up",e.up),t.unbind("shift+down",e.down)};t.KeyboardNavigationBindingOnBlur=r,t.KeyboardNavigationBindingOnFocus=i},function(e,t,n){"use strict";function i(){this._linkedList=new r}var r=n(297);i.prototype={add:function(e){this._linkedList.add(e)},clear:function(e){this._linkedList=new r},get list(){return this._linkedList},get length(){return this._linkedList.length},get print(){return 1===this.selectedIds_.length}},e.exports=i},function(e,t,n){(function(t){"use strict";function n(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return function(){n.isRunning||(n.isRunning=!0,e.apply(this,arguments),t.nextTick(function(){n.isRunning=!1}))}}e.exports.throttleSync=n}).call(t,n(22))},function(e,t,n){"use strict";function i(e){return e.nodes||"nodes"}function r(e){return{WebkitPaddingStart:16*e+"px"}}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},a=n(1),s=n(21),l=n(196),u=n(97),c=n(6),A=a.createClass({displayName:"TreeFolder",getDefaultProps:function(){return{depth:0}},onExpandButtonClick:function(e){this.props.toggleExpansion(this.props.node)},onFolderClick:function(e,t){this.props.onFolderSelected(e,t),t.stopPropagation()},hasChildren:function(){var e=i(this.props.tree.keyAttrMap);return this.props.node.hasOwnProperty(e)&&this.props.node[e].length>0},getContextMenuItems:function(){return this.props.tree.folderMenuItems?this.props.tree.folderMenuItems():[]},render:function(){var e=this,t=[],d=this.hasChildren()&&-1!==this.props.expandedNodes.indexOf(this.props.node.id);return this.props.addNodeToKeyboardNavigation(this.props.node,this.props.parentId),t.push(a.createElement("div",{className:c({folder:!this.props.node.trash,trash:this.props.node.trash,"tree-row":!0,"speeddial-folder":this.props.node.speeddial}),title:this.props.tree.nodeTitle?this.props.tree.nodeTitle(this.props.node):"",onDoubleClick:this.onExpandButtonClick,key:this.props.node.id,onContextMenu:s(this.getContextMenuItems),"data-expanded":d?"":null,"data-selected":this.props.isSelected(this.props.node)?"":null,"data-nofocus":this.props.isSelected(this.props.node)&&!this.props.hasFocus?"":null,"data-lead":this.props.isLead(this.props.node)?"":null},a.createElement("label",{ref:"FolderEnvelope",style:r(this.props.depth),onClick:this.onFolderClick.bind(this,this.props.node)},a.createElement("span",{ref:"FolderExpandButton",className:"expand-icon",onClick:this.onExpandButtonClick,dangerouslySetInnerHTML:this.hasChildren()?{__html:n(158)}:null}),a.createElement("span",{ref:"FolderDisplay",className:"mailpanel-counter",onClick:this.onFolderClick.bind(this,this.props.node)},a.createElement(u,{open:d}),this.props.tree.nodeDisplayName?this.props.tree.nodeDisplayName(this.props.node):this.props.node.toString())))),-1!==this.props.expandedNodes.indexOf(this.props.node.id)&&!function(){var n=i(e.props.tree.keyAttrMap),r=e.props.node[n]||[];r.map(function(e){this.props.tree.isFolder(e)?t.push(a.createElement(A,o({},this.props,{parentId:this.props.node.id,nodes:e[n],node:e,key:e.id,toggleExpansion:this.props.toggleExpansion,expandedNodes:this.props.expandedNodes,depth:this.props.depth+1}))):t.push(a.createElement(l,o({},this.props,{parentId:this.props.node.id,node:e,key:e.id,depth:this.props.depth+1})))}.bind(e))}(),a.createElement("div",null,t)}});e.exports=A},function(e,t,n){"use strict";var i=n(1),r=n(6),o=n(21),a=n(7),s=i.createClass({displayName:"TreeItem",mixins:[a],isFolder:function(){return this.props.isFolder(this.props.treeItem)},hasChildren:function(){return this.props.hasChildren(this.props.treeItem)},onClick:function(e){this.props.onClick&&this.props.onClick(e),e.stopPropagation()},onDoubleClick:function(e){this.isFolder()?this.onExpandClick():this.props.onDoubleClick(e)},onContextMenuOpen:function(e){this.props.onContextMenuOpen(e,this.props.treeItem)},onDragStart:function(e){var t=this.props.getAllSelectedItems(),n=[];for(var i in t)n.push(t[i].id);e.dataTransfer.setData("text/plain","Item"),e.dataTransfer.setData("text/uri-list",this.props.treeItem.url),e.dataTransfer.effectAllowed="all",e.nativeEvent.dataTransfer.setData("ids",""+JSON.stringify(n)),e.nativeEvent.dataTransfer.setData("parentId",""+this.props.treeItem.parentId),e.nativeEvent.dataTransfer.setData("text",""+this.props.treeItem.url),e.nativeEvent.dataTransfer.setData("title",this.props.treeItem.title),this.setState({dragging:!0})},onDragEnd:function(e){this.setState({dragging:!1}),this.props.onDragEnd()},onDrop:function(e){e.preventDefault(),e.stopPropagation(),this.props.onDrop(e,this.props.treeItem)},onDragOver:function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.dataTransfer.dropEffect="move",this.props.onDragOver(this.props.treeItem,e)},onMouseDown:function(e){this.props.onMouseDown(this.props.treeItem,e)},onMouseUp:function(e){this.props.onMouseUp(this.props.treeItem,e)},onExpandClick:function(){this.props.treeItem.children&&this.props.treeItem.children.length>0&&(this.props.toggle(this.props.treeItem.id),event.preventDefault(),event.stopPropagation())},getContextMenuItems:function(){return this.props.getContextMenuItems(this.props.treeItem)},render:function(){var e=this.props.selected,t=this.props.lead;return i.createElement("div",{refs:"tree-item","data-id":this.props.treeItem.id,className:"tree-item","data-selected":e?"":null,"data-lead":t?"":null,"data-cut":this.props.isCut?"":null,"data-expanded":this.props.isExpanded?"":null,onDragOver:this.onDragOver,onDrop:this.onDrop,onContextMenu:o(this.getContextMenuItems,this.onContextMenuOpen)},i.createElement("div",{className:r({folder:this.isFolder(),"tree-row":!0,dragging:this.props.dragging,dragover:this.props.dragOverObj.id===this.props.treeItem.id&&"on"===this.props.dragOverObj.position,dragoverAbove:this.props.dragOverObj.id===this.props.treeItem.id&&"above"===this.props.dragOverObj.position,dragoverBelow:this.props.dragOverObj.id===this.props.treeItem.id&&"below"===this.props.dragOverObj.position,"speeddial-folder":this.isFolder()&&this.props.treeItem.speeddial}),"data-selected":e?"":null,"data-nofocus":e&&!this.props.hasFocus?"":null,onClick:this.onClick,onDoubleClick:this.onDoubleClick,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,draggable:"true",onDragStart:this.onDragStart,onDragEnd:this.onDragEnd},i.createElement("label",null,this.props.renderItemContent(this.props.treeItem))))}});e.exports=s},function(e,t,n){"use strict";function i(e){return e.nodes||"nodes"}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=n(1),a=n(192),s=n(191),l=n(3),u=n(301),c=n(196),A=o.createClass({displayName:"VivaldiTree",mixins:[a,s],getInitialState:function(){return{hasFocus:!1,expandedNodes:[]}},componentWillMount:function(){var e="EXPAND_"+this.props.tree.name,t="SELECTION_"+this.props.tree.name;l.get([e,t],function(n){Array.isArray(n[e])&&this.setState({expandedNodes:n[e]}),this.SelectionMixinSetSelection(n[t])}.bind(this))},componentWillUnmount:function(){this.KeyboardNavigationMixinOnBlur()},saveSelection:function(){var e="SELECTION_"+this.props.tree.name,t=this.SelectionMixinGetSelected(),n={};n[e]=t,l.set(n)},folderSelected:function(e,t){t&&this.refs.TreeEnvelope.focus(),this.SelectionMixinSelectItem(e.id),this.props.tree.folderSelected(e,t),this.saveSelection()},nodeSelected:function(e,t){t&&this.refs.TreeEnvelope.focus(),this.SelectionMixinSelectItem(e.id),this.props.tree.nodeSelected(e,t),this.saveSelection()},onNodeDoubleClick:function(e,t){this.props.tree.nodeDoubleClicked(e,t)},findNodeById:function(e){for(var t=0;t<this.props.tree.nodes.length;t++){var n=this.props.tree.nodes[t];if(n.id===e)return n}},onDelete:function(e){this.props.onDelete()},unSelectAllTreeItems:function(){this.unSelectAll()},selectById:function(e,t){var n=this.findNodeById(e);n&&(this.props.tree.isFolder(n)?this.folderSelected(n,t):this.nodeSelected(n,t),t.target.children[n.index]&&t.target.querySelector("[data-lead]").scrollIntoViewIfNeeded())},isSelected:function(e){return this.SelectionMixinIsSelected(e.id)},isLead:function(e){return this.SelectionMixinGetLead()===e.id},toggleExpansion:function(e){var t,n=this.state.expandedNodes.indexOf(e.id);-1===n?t=this.state.expandedNodes.concat(e.id):(this.state.expandedNodes.splice(n,1),t=this.state.expandedNodes.slice()),this.setState({expandedNodes:t});var i={};i["EXPAND_"+this.props.tree.name]=t,l.set(i)},onLostFocus:function(){this.setState({hasFocus:!1}),this.KeyboardNavigationMixinOnBlur()},onGotFocus:function(){this.setState({hasFocus:!0}),this.KeyboardNavigationMixinOnFocus()},addNodeToKeyboardNavigation:function(e,t){this.KeyboardNavigationMixinAddItemToNavigationList(e.id,t)},render:function(){this.KeyboardNavigationMixinReset();var e=[];return this.props.tree.nodes.map(function(t){if(this.props.tree.isFolder(t)||this.props.tree.isTrash&&this.props.tree.isTrash(t)){var n=i(this.props.tree.keyAttrMap);e.push(o.createElement(u,r({},this.props,{parentId:0,nodes:t[n],node:t,key:t.id,onFolderSelected:this.folderSelected,onNodeSelected:this.nodeSelected,hasFocus:this.state.hasFocus,isSelected:this.isSelected,isLead:this.isLead,toggleExpansion:this.toggleExpansion,expandedNodes:this.state.expandedNodes,addNodeToKeyboardNavigation:this.addNodeToKeyboardNavigation})))}else e.push(o.createElement(c,r({},this.props,{parentId:0,node:t,key:t.id,onNodeSelected:this.nodeSelected,onNodeDoubleClick:this.onNodeDoubleClick,hasFocus:this.state.hasFocus,isSelected:this.isSelected,isLead:this.isLead,addNodeToKeyboardNavigation:this.addNodeToKeyboardNavigation})))}.bind(this)),o.createElement("div",{ref:"TreeEnvelope",tabIndex:"0",className:"vivaldi-tree",onFocus:this.onGotFocus,onBlur:this.onLostFocus},e)}});e.exports=A},function(e,t,n){"use strict";var i=n(1),r=n(13),o=n(26),a=n(6),s=n(21),l=n(83),u=i.createClass({displayName:"MenuItem",getDefaultProps:function(){return{isSelected:!1,menuShortcut:""}},componentWillMount:function(){this.props.menuShortcut.length>0&&o.bind(this.props.menuShortcut,this.handleMenuShortcut)},componentWillReceiveProps:function(e){e.isSelected===!0&&r.findDOMNode(this).scrollIntoViewIfNeeded(!1),e.menuShortcut!==this.props.menuShortcut&&(o.unbind(this.props.menuShortcut,this.handleMenuShortcut),e.menuShortcut.length>0&&o.bind(e.menuShortcut,this.handleMenuShortcut))},componentWillUnmount:function(){
this.props.menuShortcut.length>0&&o.unbind(this.props.menuShortcut,this.handleMenuShortcut)},onItemSelected:function(e){2===e.button?e.stopPropagation():this.props.onItemSelected(this.props.menuItem,e)},killEvent:function(e){e.preventDefault(),e.stopPropagation()},handleMouseOver:function(){this.props.setSelected(this.props.nr)},handleMenuClosed:function(){this.props.platformPopups===!0&&this.props.menuDidClose()},handleMouseDown:function(e){this.props.platformPopups===!0&&s(this.props.menuItem.items,null,"bottom",this.refs.button,this.handleMenuClosed)(e)},handleMenuShortcut:function(e){this.props.platformPopups===!0&&(this.props.setSelected(this.props.nr),this.props.menuWillOpen(),s(this.props.menuItem.items,null,"bottom",this.refs.button,this.handleMenuClosed)(e))},getDisplayName:function(){if(-1===this.props.underlinedCharPosition)return this.props.menuItem.name;var e=this.props.menuItem.name,t=this.props.underlinedCharPosition;return i.createElement("span",null,t>0?e.substring(0,t):"",i.createElement("span",{className:"underlined"},e.substring(t,t+1)),e.substring(t+1),this.getDisplayShortcut())},getDisplayShortcut:function(){if(this.props.menuItem.shortcut){var e=this.props.menuItem.noPrettifying?this.props.menuItem.shortcut:l(this.props.menuItem.shortcut);return i.createElement("div",{className:"shortcut"},e)}return null},getIcon:function(){var e=void 0;return this.props.menuItem.iconSVG?this.props.menuItem.iconSVG:(e=this.props.menuItem.icon?this.props.menuItem.icon:this.props.menuItem.url?"chrome://favicon/"+this.props.menuItem.url:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7","<img src='"+e+"'>")},onDeleted:function(e,t){t.preventDefault(),t.stopPropagation(),"function"==typeof this.props.onDeleted&&this.props.onDeleted(e)},renderItem:function(){var e=this.props.menuItem.type||"normal";return i.createElement("li",{className:a({selectedItem:this.props.isSelected}),onMouseOver:this.handleMouseOver,onMouseDown:this.killEvent,onMouseUp:this.onItemSelected,title:this.props.menuItem.url},"normal"===e&&i.createElement("a",{tabIndex:"0"},i.createElement("span",{className:"menu-icon",dangerouslySetInnerHTML:{__html:this.getIcon()}}),i.createElement("span",{className:"menu-label"},this.getDisplayName()),this.props.onDeleted&&i.createElement("span",{className:"menu-delete",onMouseUp:this.onDeleted.bind(this,this.props.menuItem)})),"checkbox"===e&&i.createElement("a",{tabIndx:"0"},i.createElement("label",null,i.createElement("span",{className:"menu-icon"},i.createElement("input",{type:"checkbox",checked:this.props.menuItem.checked,readOnly:!0})),i.createElement("span",{className:"menu-label"},this.getDisplayName()))),"radio"===e&&i.createElement("a",{tabIndex:"0"},i.createElement("label",null,i.createElement("span",{className:"menu-icon"},i.createElement("input",{className:"menu-icon",type:"radio",name:"radiomenu",checked:this.props.menuItem.checked,readOnly:!0})),i.createElement("span",{className:"menu-label"},this.getDisplayName()))))},renderDivider:function(){return i.createElement("li",{className:"divider"})},renderSubmenuItem:function(){var e=n(120);return i.createElement("li",{className:a({selectedItem:this.props.isSelected,hasSubMenu:!0}),ref:"menuItem",onMouseOver:this.handleMouseOver,onMouseUp:this.killEvent,onMouseDown:this.handleMouseDown,onDoubleClick:this.killEvent},i.createElement("a",{tabIndex:"0",ref:"button"},i.createElement("img",{src:this.getIcon()}),this.getDisplayName()),this.props.platformPopups!==!0&&this.props.isSelected&&i.createElement(e,{items:this.props.menuItem.items,open:!0,subMenu:!0,onItemSelected:this.props.onItemSelected,onClosed:this.props.onClosed,giveFocusToParentMenu:this.props.giveFocusToParentMenu}))},render:function(){return this.props.menuItem.items?this.renderSubmenuItem():"---"===this.props.menuItem.name||"separator"===this.props.menuItem.type?this.renderDivider():this.renderItem()}});e.exports=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(306),a=function(){function e(){i(this,e)}return r(e,[{key:"put",value:function(e){return o.contacts.put(e)}},{key:"remove",value:function(e){return o.contacts["delete"](e)}},{key:"getAll",value:function(){var e={};return o.contacts.each(function(t){return e[t.id]=t}).then(function(){return e})}}]),e}();e.exports=new a},function(e,t,n){"use strict";var i=n(134),r=new i("Contact");r.version(1).stores({contacts:"id,address"}),r.open(),e.exports=r},function(e,t,n){"use strict";var i=n(1),r=n(121),o=n(303),a=i.createClass({displayName:"ContactTree",getNodeName:function(e){return e.name||e.address},getContactPhoto:function(e){return e.photo||r.prototype.defaultPhoto},isFolder:function(e){return!1},isTrash:function(e){return!1},render:function(){var e={name:"CONTACT_PANEL_TREE",nodeSelected:this.props.contactSelected,nodeDisplayName:this.getNodeName,getNodeIcon:this.getContactPhoto,isFolder:this.isFolder,isTrash:this.isTrash,keyAttrMap:{},nodeMenuItems:this.props.contactMenuItems,nodes:this.props.contactTree};return i.createElement(o,{tree:e})}});e.exports=a},function(e,t,n){"use strict";var i=n(1),r=n(121),o=n(117),a=n(2),s=i.createClass({displayName:"ContactView",attributeChange:function(e,t){var n=this.props.contact;n[e]=t,this.setState({contact:n})},nameChange:function(e){this.attributeChange("name",e.target.value)},addressChange:function(e){this.attributeChange("address",e.target.value)},phoneChange:function(e){this.attributeChange("phone",e.target.value)},postalChange:function(e){this.attributeChange("postal",e.target.value)},saveContact:function(){this.props.contact.isEmpty()||(o.saveContact(this.props.contact),o.selectContact(this.props.contact))},render:function(){return i.createElement("div",{className:"contact_view"},i.createElement("fieldset",null,i.createElement("img",{ref:"photo",src:this.props.contact.photo||r.prototype.defaultPhoto})),i.createElement("fieldset",null,i.createElement("input",{ref:"name",type:"text",value:this.props.contact.name,placeholder:a("Name"),onChange:this.nameChange,onBlur:this.saveContact})),i.createElement("fieldset",null,i.createElement("input",{ref:"email",type:"text",value:this.props.contact.address,placeholder:a("Email"),onChange:this.addressChange,onBlur:this.saveContact})),i.createElement("fieldset",null,i.createElement("input",{ref:"phone",type:"text",value:this.props.contact.phone,placeholder:a("Phone"),onChange:this.phoneChange,onBlur:this.saveContact})),i.createElement("fieldset",null,i.createElement("input",{ref:"postal",type:"text",value:this.props.contact.postal,placeholder:a("Address"),onChange:this.postalChange,onBlur:this.saveContact})))}});e.exports=s},function(e,t,n){"use strict";var i=n(1),r=n(13),o=n(121),a=n(307),s=n(308),l=n(461),u=n(460),c=n(117),A=n(15),d=n(44),h=n(7),p=n(2),f=n(6),m=n(82),g=n(21),v=n(19).urls,_=i.createClass({displayName:"ContactsPanel",mixins:[h],getInitialState:function(){return{contactTree:this._getAsNodeTree(""),filter:""}},componentWillMount:function(){d.addChangeListener(this.onPanelStoreChange),l.addChangeListener(this._contactsChanged),u.addChangeListener(this._contactsChanged)},componentWillUnmount:function(){d.removeChangeListener(this.onPanelStoreChange),l.removeChangeListener(this._contactsChanged),u.removeChangeListener(this._contactsChanged)},componentDidUpdate:function(e,t){!e.open&&this.props.open&&r.findDOMNode(this.refs.contactTree).focus()},onPanelStoreChange:function(e){this.props.open&&"setFocus"===e&&!m(r.findDOMNode(this))&&r.findDOMNode(this.refs.contactTree).focus()},_hasFilter:function(e,t){var n=e.name||e.address||"";return!t||0===t.length||n.toLowerCase().indexOf(t.toLowerCase())>-1},_getAsNodeTree:function(e){var t=this,n=l.getAll();return Object.keys(n).map(function(e){return n[e]}).filter(function(n){return t._hasFilter(n,e)})},_contactsChanged:function(){this.setState({contactTree:this._getAsNodeTree(this.state.filter)})},newContact:function(){c.selectContact(),this.setState({editor:!0})},deleteSelected:function(){c.deleteContact(u.getSelected())},deleteContact:function(e){c.deleteContact(e)},contactSelected:function(e){c.selectContact(e),A.openURL(v.internals.mailpage,{singleton:!0})},toggleEdit:function(){this.setState({editor:!this.state.editor})},getContactContextMenuItems:function(){return[{name:p("Compose"),handler:this.composeMail},{name:p("other","Delete"),handler:this.deleteContact}]},renderTree:function(){return i.createElement(a,{ref:"contactTree",contactTree:this.state.contactTree,contactSelected:this.contactSelected,contactMenuItems:this.getContactContextMenuItems})},renderEditor:function(){var e=u.getSelected()||new o;return i.createElement(s,{contact:e})},filterChange:function(e){var t=e.target.value;this.setState({filter:t,contactTree:this._getAsNodeTree(t)})},composeMail:function(){var e={};e.to=[u.getSelected()],A.openURL(v.internalUrl("mailpage","composer/new",p("Mail - New")))},getContextMenuItems:function(){return[{name:p("New Contact"),handler:this.newContact}]},render:function(){if(!this.props.open)return null;var e=f({"button-toolbar":!0,edit:!0,active:this.state.editor});return i.createElement("div",{className:"panel",id:"contacts"},i.createElement("header",null,i.createElement("h1",null,p("Contacts")),i.createElement("div",{className:"toolbar icons"},i.createElement("input",{type:"search",placeholder:p("Search..."),onChange:this.filterChange}),i.createElement("span",null,i.createElement("button",{className:"button-toolbar newcontact",ref:"newButton",title:p("New Contact"),tabIndex:this.props.keyAccess,onClick:g(this.getContextMenuItems),dangerouslySetInnerHTML:{__html:n(64)}}),i.createElement("button",{className:"button-toolbar delete",title:p("other","Delete"),tabIndex:this.props.keyAccess,onClick:this.deleteSelected,dangerouslySetInnerHTML:{__html:n(71)}}),i.createElement("button",{className:e,title:p("verb","Edit"),tabIndex:this.props.keyAccess,onClick:this.toggleEdit,dangerouslySetInnerHTML:{__html:n(159)}}),i.createElement("button",{className:"button-toolbar compose",ref:"compose",title:p("Compose mail to contact"),tabIndex:this.props.keyAccess,onClick:this.composeMail,dangerouslySetInnerHTML:{__html:n(237)}})))),i.createElement("section",{onContextMenu:g(this.getContextMenuItems)},this.renderTree()),this.state.editor&&this.renderEditor())}});e.exports=_},function(e,t){"use strict";function n(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;30>n;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e}e.exports=n},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(52),a=n(31),s=n(187),l=n(4),u=n(8),c=n(25),A=n(2),d=n(6),h=n(220),p=n(132),f=i.createClass({displayName:"CreateBookmark",mixins:[o,a,r],getInitialState:function(){return{url:p(this.props.url),title:this.props.title,thumbnail:this.props.thumbnail,nickname:"",description:"",id:"",parentId:"1",treeParentId:"1",animated:!1,generalErrorKey:null}},componentWillReceiveProps:function(e){e.open&&this.onShowDialog(e)},onShowDialog:function(e){var t=this,n=e.bookmarkObj?e.bookmarkObj.id:null;n?this.setState({id:e.bookmarkObj.id,url:e.bookmarkObj.url,thumbnail:e.bookmarkObj.thumbnail,nickname:e.bookmarkObj.nickname,description:e.bookmarkObj.description,title:e.bookmarkObj.title,parentId:e.bookmarkObj.parentId,treeParentId:e.bookmarkObj.parentId,generalErrorKey:null}):this.isPageBookmarked(e.url,function(n){n.bookmarked?t.setState({id:n.bookmarkObj.id,url:n.bookmarkObj.url,thumbnail:n.bookmarkObj.thumbnail,nickname:n.bookmarkObj.nickname,description:n.bookmarkObj.description,title:n.bookmarkObj.title,parentId:n.bookmarkObj.parentId,treeParentId:n.bookmarkObj.parentId,generalErrorKey:null}):t.setState({id:"",url:e.url,title:e.title,thumbnail:e.thumbnail,bookmarked:e.isPageBookmarked,nickname:"",description:"",generalErrorKey:null})})},onSaveBookmark:function(){return""===this.state.url.trim()?void this.setState({generalErrorKey:A("URL cannot be empty.")}):void(this.state.id?(this.state.parentId!==this.state.treeParentId&&l.bookmarks.move(this.state.id,{parentId:this.state.treeParentId}),this.updateBookmark()):this.createBookmark())},createBookmark:function(){var e=this,t=this.state.url.trim();u.utilities.isUrlValid(this.state.url,function(n){n.urlValid&&n.schemeValid||(t="http://"+t),l.bookmarks.create({title:e.state.title,url:t,thumbnail:e.state.thumbnail,nickname:e.state.nickname,description:e.state.description,parentId:e.state.treeParentId,speeddial:!1},function(t){l.runtime.lastError?e.setState({generalErrorKey:h(l.runtime.lastError.message)+"\n                     "+A("Changes not saved.")}):(e.setState({id:t.id,animated:!0,generalErrorKey:null}),setTimeout(function(){e.setState({animated:!1})},1e3),e.onClose())})})},updateBookmark:function(){var e=this,t=this.state.url.trim();u.utilities.isUrlValid(this.state.url,function(n){n.urlValid&&n.schemeValid||(t="http://"+t),l.bookmarks.update(e.state.id,{title:e.state.title,url:t,thumbnail:e.state.thumbnail,nickname:e.state.nickname,description:e.state.description},function(t){l.runtime.lastError?e.setState({generalErrorKey:h(l.runtime.lastError.message)+"\n                     "+A("Changes not saved.")}):(e.setState({generalErrorKey:null}),e.onClose())})})},onDeleteBookmark:function(){var e=this;l.bookmarks.remove(this.state.id,function(){e.setState({id:""}),e.onClose()})},handleClickOutside:function(e){this.onClose()},onClose:function(){this.setState({id:""}),this.props.onClose()},keyDown:function(e){e.keyCode===c.KEY_ENTER||e.keyCode===c.KEY_RETURN?this.onSaveBookmark():e.keyCode===c.KEY_ESCAPE&&this.onClose()},onFolderChange:function(e){var t=e.target.value;this.setState({treeParentId:t})},changeValue:function(e,t){var n={};n[e]=t.target.value,n.generalErrorKey=null,this.setState(n)},render:function(){return i.createElement("div",{className:"add-bookmark-container addressfield-popup-container"},i.createElement("button",{ref:"addBookmark",tabIndex:this.props.keyAccess,disabled:!this.props.isBookmarkable,dangerouslySetInnerHTML:{__html:n(544)},className:d({"button-addressfield":!0,bookmark:!0,bookmarked:this.props.isBookmarked,inactive:!this.props.isBookmarkable,docked:!this.props.isSearchOn,animated:this.state.animated}),onMouseDown:this.props.open?this.onClose:this.props.onOpen,title:A(this.props.isBookmarked?"Edit bookmark":"Add bookmark")}),this.props.open&&i.createElement("div",{className:"dialog-add-bookmark",onKeyDown:this.keyDown,style:{maxHeight:window.innerHeight-125+"px"}},i.createElement("div",{className:"addbookmark-cardwrapper"},i.createElement("div",{className:"cb-image favicon-current-border-color",style:{backgroundImage:"url("+(this.state.thumbnail?this.state.thumbnail:"/resources/bookmark_item.png")+")"}}),i.createElement("div",{className:"dialog-content cardview"},i.createElement("div",{className:"cb-form-row"},i.createElement("input",{className:"cardview title",type:"text",value:this.state.title,onChange:this.changeValue.bind(this,"title"),title:A("Bookmark Name"),placeholder:A("Bookmark Name"),onKeyDown:this.keyDown,autoFocus:!0})),i.createElement("div",{className:"cb-form-row"},i.createElement("input",{className:"cardview address",type:"text",value:this.state.url,onChange:this.changeValue.bind(this,"url"),title:A("Address"),placeholder:A("Address"),onKeyDown:this.keyDown})),i.createElement("div",{className:"cb-form-row cardview"},i.createElement(s,{onChange:this.onFolderChange,selectedItemID:this.state.treeParentId,title:A("Bookmark Folder")})),i.createElement("div",{className:"cb-form-row"},i.createElement("textarea",{className:"cardview description",type:"text",value:this.state.description,onChange:this.changeValue.bind(this,"description"),title:A("Description"),placeholder:A("Description"),onKeyDown:this.keyDown})),i.createElement("div",{className:"cb-form-row"},i.createElement("input",{className:"cardview nickname",type:"text",value:this.state.nickname,onChange:this.changeValue.bind(this,"nickname"),title:A("Nickname"),placeholder:A("Nickname"),onKeyDown:this.keyDown})))),this.state.generalErrorKey&&i.createElement("p",{className:"warning"},this.state.generalErrorKey),i.createElement("footer",{className:"dialog-footer cardview"},i.createElement("input",{type:"button",autoFocus:!0,className:"primary",value:A("Save"),onClick:this.onSaveBookmark}),i.createElement("input",{type:"button",value:A("other","Delete"),disabled:!this.state.id,onClick:this.onDeleteBookmark}),i.createElement("input",{type:"button",value:A("Cancel"),onClick:this.onClose}))))}});e.exports=f},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(25),a=n(16),s=n(6),l=n(3),u=n(19),c=u.urls,A=212,d=24,h=i.createClass({displayName:"VisualTabSwitcher",mixins:[r],getInitialState:function(){return{selected:a.getActivePage(),pages:a.getPages(),workingPageSet:[]}},componentWillMount:function(){this.createPageList()},componentDidMount:function(){this.refs.visualTabSwitcher.focus(),a.addChangeListener(this.onPageStoreChange)},componentWillUnmount:function(){a.removeChangeListener(this.onPageStoreChange)},onPageStoreChange:function(){this.createPageList()},getMaxAllowedWidth:function(){return window.innerWidth-A},getNumberOfPreviews:function(){if(this.state.pages.size*A<this.getMaxAllowedWidth())return this.state.pages.size;for(var e=1;(e+1)*A+d<this.getMaxAllowedWidth()&&e<this.state.pages.size;)e++;return e},getPagesInOrder:function(){var e=this.state.pages,t=this.state.selected,n=a.getPageHistory(),i=void 0;if(l.get("TAB_CYCLING_ORDER",function(e){return i=e}),"recently used"===i)return n.map(function(t){return e.find(function(e){return e.get("id")===t})}).reverse();var r=e.slice(e.indexOf(t),e.size);return r.concat(e.slice(0,e.indexOf(t)))},createPageList:function(){var e=this.getPagesInOrder(),t=this.getNumberOfPreviews(),n=1,i=[];e.size<t&&(n=Math.ceil(t/e.size));for(var r=0;n+3>r;r++)e.map(function(e,t){i.push({uid:Math.random(),page:e})});var o=e.indexOf(this.state.selected)+e.size+1,a=e.size+o-Math.ceil(t/2);i.splice(t+a,i.length),i.splice(0,a),this.setState({workingPageSet:i,pages:e})},updateWorkingSetWithOffset:function(e){var t=this.state.pages,n=this.state.workingPageSet.slice(),i=void 0;switch(e){case 1:i="forward";break;case-1:i="back";break;default:return}if("forward"===i){var r=n[n.length-1],o=t.indexOf(r.page)+1;o=(o%t.size+t.size)%t.size,n.splice(0,1),n.push({page:t.get(o),uid:Math.random()})}else if("back"===i){var a=t.indexOf(n[0].page)-1;a=(a%t.size+t.size)%t.size,n.splice(n.length-1,1),n.unshift({page:t.get(a),uid:Math.random()})}this.setState({workingPageSet:n})},getSelectedPageWithOffset:function(e){var t=this.state.pages,n=t.indexOf(this.state.selected)+e;return n=(n%t.size+t.size)%t.size,t.get(n)},onKeyUp:function(e){e.keyCode===o.KEY_CTRL&&(this.props.onClose(),e.stopPropagation(),e.preventDefault())},navigateWithOffset:function(e){this.state.pages.size*A>this.getMaxAllowedWidth()&&this.updateWorkingSetWithOffset(e),this.setState({selected:this.getSelectedPageWithOffset(e)})},selectBack:function(){this.navigateWithOffset(-1)},selectForward:function(){this.navigateWithOffset(1)},selectByUid:function(e){for(var t in this.state.workingPageSet){var n=this.state.workingPageSet[t];if(n.uid===e){this.setState({selected:n.page});break}}},render:function(){var e=this;return i.createElement("div",{className:"tabswitcher",tabIndex:"1",ref:"visualTabSwitcher",style:{width:this.getNumberOfPreviews()*A+d+"px"},onKeyUp:this.onKeyUp},i.createElement("div",{className:"visual-tabs visual-tabs-"+this.state.direction},this.state.workingPageSet.map(function(t){return i.createElement("div",{key:"visual-tab-"+t.uid,onMouseDown:e.selectByUid.bind(e,t.uid),style:{backgroundImage:"url("+t.page.getIn(["extData","thumbnail"])+")"},title:c.getDisplayTitle(t.page),className:s({"visual-tab":!0,selected:t.page.get("id")===e.state.selected.get("id")})},i.createElement("div",{className:"visual-tab-favicon-container"},i.createElement("img",{className:"visual-tab-favicon",src:t.page.get("favIcon")})))})),i.createElement("div",{className:"visual-tab-switcher-title"},c.getDisplayTitle(this.state.selected)))}});e.exports=h},function(e,t,n){"use strict";var i=n(1),r=n(52),o=n(24),a=n(3),s=n(2),l=i.createClass({displayName:"ConfirmOpenBookmarksDialog",getInitialState:function(){return{doNotShowAgain:!1}},_onNo:function(){this.props.onClose()},_onYes:function(){a.set({BOOKMARKS_CONFIRM_BEFORE_OPEN:!this.state.doNotShowAgain}),r.open(this.props.options),this.props.onClose()},_toggleDoNotShowAgain:function(){this.setState({doNotShowAgain:!this.state.doNotShowAgain})},render:function(){var e=this.props.options,t=s("Do you want to open $1 bookmark?","Do you want to open $1 bookmarks?",[e.bookmarks.length]);return i.createElement(o,{onRequestClose:this._onNo},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title"},s("Open Bookmarks"))),i.createElement("div",{className:"dialog-content"},i.createElement("p",null,t),i.createElement("label",{className:"dialog-checkbox"},i.createElement("input",{type:"checkbox",checked:this.state.doNotShowAgain,onChange:this._toggleDoNotShowAgain}),i.createElement("span",null,s("Do not ask again")))),i.createElement("footer",{className:"dialog-footer"},i.createElement("input",{type:"button",autoFocus:!0,onClick:this._onYes,value:s("Yes")}),i.createElement("input",{type:"button",onClick:this._onNo,value:s("No")})))}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(315),o=n(316),a=n(198),s=n(376),l=i.createClass({displayName:"DialogRenderWrapper",getInitialState:function(){return{dialogParentElement:null,customData:null,closeDialog:null}},render:function(){return"download"===this.props.customData.dialogtype?i.createElement(r,{dialogParentElement:this.props.dialogParentElement,customData:this.props.customData,onClose:this.props.closeDialog}):"importbookmarks"===this.props.customData.dialogtype?i.createElement(a,{dialogParentElement:this.props.dialogParentElement,onClose:this.props.closeDialog}):"createSearch"===this.props.customData.dialogtype?i.createElement(s,{dialogParentElement:this.props.dialogParentElement,onClose:this.props.closeDialog,name:this.props.customData.Name,url:this.props.customData.Url}):"javascript"===this.props.customData.dialogtype?i.createElement(o,{dialogParentElement:this.props.dialogParentElement,customData:this.props.customData,onClose:this.props.closeDialog}):(console.error("DialogRenderWrapper.render : You tried to show an unknown dialogtype."),null)}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(29),o=n(104),a=n(24),s=n(3),l=n(11),u=n(2),c=n(58),A=i.createClass({displayName:"DownloadDialog",mixins:[l],vivaldiSettingsKeys:["SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS"],getInitialState:function(){return{shown:!0,modalShown:!1,openSavedFiles:!1,askNextTime:!1}},componentWillMount:function(){s.get("OPEN_SAFE_FILES",function(e){this.setState({openSavedFiles:e})}.bind(this))},componentDidMount:function(){this.refs.defaultAction.focus()},componentWillReceiveProps:function(){this.setState({shown:!0})},onOpen:function(){this.props.customData.request.allow("open"),this.setState({shown:!this.state.shown}),!document.querySelector("#panels-container .downloads.active")&&this.state.SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS&&c.executeActions("COMMAND_SHOW_DOWNLOADS_PANEL"),this.close()},onSave:function(){this.props.customData.request.allow(),this.setState({shown:!this.state.shown}),!document.querySelector("#panels-container .downloads.active")&&this.state.SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS&&c.executeActions("COMMAND_SHOW_DOWNLOADS_PANEL"),this.close()},onSaveAs:function(){this.props.customData.request.allow("saveas"),this.setState({shown:!this.state.shown}),!document.querySelector("#panels-container .downloads.active")&&this.state.SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS&&c.executeActions("COMMAND_SHOW_DOWNLOADS_PANEL"),this.close()},onCancel:function(){this.props.customData.request.deny(),this.setState({shown:!this.state.shown}),this.close()},close:function(){s.set({AUTOMATICALLY_DOWNLOAD_FILES:this.state.askNextTime}),this.props.onClose()},onSetOpeningFiles:function(){this.setState({openSavedFiles:!this.state.openSavedFiles}),s.set({OPEN_SAFE_FILES:!this.state.openSavedFiles}),this.refs.defaultAction.focus()},onAskDownloadChanged:function(e){this.setState({askNextTime:e.target.value})},render:function(){var e=this.props.customData.suggestedFilename?this.props.customData.suggestedFilename:r.parse(this.props.customData.url).pathname.split("/").pop(),t=r.parse(this.props.customData.url).hostname,n=-1===this.props.customData.fileSize?u("Unknown"):o.filesize(this.props.customData.fileSize);return i.createElement(a,null,i.createElement("div",{className:"dialog-download"},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title",title:e},u("Download “$1”?",[e]))),i.createElement("div",{className:"dialog-content"},i.createElement("p",null,i.createElement("span",{className:"label",title:e},u("File Name"),":"),e),i.createElement("p",null,i.createElement("span",{className:"label"},u("File Size"),":"),n),i.createElement("p",null,i.createElement("span",{className:"label"},u("Host"),":"),t),i.createElement("label",{className:"autosave"},i.createElement("input",{type:"checkbox",onChange:this.onAskDownloadChanged}),i.createElement("span",null,u("Always Save Files to Default Download Location")))),i.createElement("footer",{className:"dialog-footer"},i.createElement("input",{type:"button",className:"primary",onClick:this.onSave,ref:"defaultAction",value:u("Save")}),i.createElement("input",{type:"button",onClick:this.onSaveAs,value:u("Save As...")}),i.createElement("input",{type:"button",onClick:this.onOpen,value:u("Open")}),i.createElement("input",{type:"button",onClick:this.onCancel,value:u("Cancel")}))))}});e.exports=A},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(29),a=n(24),s=n(2),l=i.createClass({displayName:"JavascriptDialog",getInitialState:function(){return{shown:!0,modalShown:!1,customData:this.props.customData,onClose:null,promptValue:this.props.customData.defaultPromptText,stopScripts:!1}},handleLoadStart:function(e){e.isTopLevel&&this.onCancel()},componentWillMount:function(){this.props.customData.webview.addEventListener("loadstart",this.handleLoadStart)},componentWillUnmount:function(){this.props.customData.webview.removeEventListener("loadstart",this.handleLoadStart)},componentWillReceiveProps:function(){this.setState({shown:!0})},onOk:function(){this.setState({shown:!this.state.shown}),this.state.stopScripts?r.contentSettings.javascript.set({primaryPattern:this.props.customData.url+"*",setting:"block"},function(){this.props.customData.webview.stop(),this.onCancel()}.bind(this)):(this.props.customData.dialog.ok(this.state.promptValue),this.props.onClose())},onCancel:function(){this.props.customData.dialog.cancel(),this.setState({shown:!this.state.shown}),this.props.onClose()},handlePrompt:function(e){this.setState({promptValue:e.target.value})},handleStopScripts:function(e){this.setState({stopScripts:e.target.checked})},render:function(){var e=o.parse(this.props.customData.url).hostname,t=this.props.customData.messageType,n=e?s("JavaScript from “$1”",[e]):s("JavaScript"),r=void 0,l=i.createElement("input",{type:"button",onClick:this.onCancel,value:s("Cancel")}),u=null;return"alert"===t?l=null:"prompt"===t&&(r=i.createElement("input",{type:"text",value:this.state.promptValue,onChange:this.handlePrompt,autoFocus:!0})),i.createElement(a,{dialogWidth:400},i.createElement("div",{className:"dialog-javascript"},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title",title:n},n)),i.createElement("form",{onSubmit:this.onOK},i.createElement("div",{className:"dialog-content"},i.createElement("p",null,this.props.customData.messageText),r),i.createElement("footer",{className:"dialog-footer"},i.createElement("input",{type:"submit",className:"primary",onClick:this.onOk,value:s("OK"),autoFocus:"prompt"!==t}),l,u))))}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(8),o=n(24),a=n(2),s=i.createClass({displayName:"OpenSessionDialog",getInitialState:function(){return{shown:!0,sessions:[],disabled:!0}},componentWillMount:function(){this.refreshSessionList()},handleClick:function(){this.state.shown&&this.props.onClose(),this.setState({shown:!this.state.shown})},handleDelete:function(){for(var e=this.refs.sessionItems.selectedOptions,t=0;t<e.length;t++)r.sessionsPrivate["delete"](e[t].value,function(n){n&&console.warn("Error deleting session '"+e[t].value+"', error: "+n)});this.refreshSessionList()},refreshSessionList:function(){var e=this;r.sessionsPrivate.getAll(function(t){Array.isArray(t)&&e.setState({sessions:t})})},hasSelectedSessions:function(){this.refs.sessionItems&&this.refs.sessionItems.selectedOptions.length>0?this.setState({disabled:!1}):this.setState({disabled:!0})},onOpenSessions:function(e){for(var t=this.refs.sessionItems.selectedOptions,n=0;n<t.length;n++)r.sessionsPrivate.open(t[n].value,function(e){e&&console.warn("Error opening session '"+t[n].value+"', error: "+e)});this.props.onClose()},render:function(){var e=this.state.sessions.map(function(e){return i.createElement("option",{value:e.name,key:e.name},e.name)});return i.createElement(o,{onRequestClose:this.handleClick},i.createElement("div",{className:"open-session"},i.createElement("div",{className:"dialog-session"},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title"},a("Open Session"))),i.createElement("form",{onSubmit:this.onOpenSessions},i.createElement("div",{className:"dialog-content session-dialog"},i.createElement("select",{multiple:!0,className:"session-list",ref:"sessionItems",onChange:this.hasSelectedSessions,autoFocus:!0},e)),i.createElement("footer",{className:"dialog-footer"},i.createElement("input",{type:"submit",className:"primary",value:a("Open"),disabled:this.state.disabled}),i.createElement("input",{type:"button",onClick:this.handleDelete,value:a("session","Delete"),disabled:this.state.disabled}),i.createElement("input",{type:"button",onClick:this.handleClick,value:a("Cancel")}))))))}});e.exports=s},function(e,t,n){"use strict";var i=n(1),r=n(8),o=n(24),a=n(2),s=i.createClass({displayName:"SaveSessionDialog",getInitialState:function(){return{shown:!0,name:"",invalidInput:!1,errorSaving:!1}},componentDidMount:function(){this.refs.inputName.focus()},handleClick:function(){this.state.shown&&this.props.onClose(),this.setState({shown:!this.state.shown})},onSaveSession:function(){var e=this;r.sessionsPrivate.saveOpenTabs(this.state.name,function(t){0===t?e.props.onClose():e.setState({errorSaving:!0})})},isValidName:function(e){var t=/^[^\\/:\*\?"<>\|]+$/,n=/^\./,i=/^(nul|prn|con|lpt[0-9]|com[0-9])(\.|$)/i;return t.test(e)&&!n.test(e)&&!i.test(e)},nameChange:function(e){""===e.target.value||this.isValidName(e.target.value)?this.setState({name:e.target.value,invalidInput:!1}):this.setState({invalidInput:!0})},render:function(){var e="";return this.state.invalidInput===!0?e=a("Invalid character in the session name."):this.state.errorSaving&&(e=a("Error saving the session.")),i.createElement(o,{onRequestClose:this.handleClick},i.createElement("div",{className:"save-session"},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title"},a("Save Open Tabs as Session"))),i.createElement("form",{onSubmit:this.onSaveSession},i.createElement("div",{className:"dialog-content session-dialog"},i.createElement("input",{type:"text",ref:"inputName",placeholder:a("Session Name"),onChange:this.nameChange,spellCheck:"false"})),""!==e&&i.createElement("div",{className:"error-validation"},i.createElement("input",{
type:"text",value:e,readOnly:"true"})),i.createElement("footer",{className:"dialog-footer"},i.createElement("input",{type:"button",className:"primary",onClick:this.onSaveSession,value:a("Save"),disabled:this.state.invalidInput===!0}),i.createElement("input",{type:"button",onClick:this.handleClick,value:a("Cancel")})))))}});e.exports=s},function(e,t,n){"use strict";var i=n(1),r=n(202),o=n(25),a=n(11),s=n(2),l=i.createClass({displayName:"ShowKeyboardShortcuts",mixins:[a],vivaldiSettingsKeys:["DISABLE_SINGLE_KEY_SHORTCUTS"],getInitialState:function(){return{filter:""}},componentDidMount:function(){this.refs.comboFilter.focus()},onSettingsFilter:function(e){var t=this.refs.comboFilter;this.setState({filter:t.value.toLowerCase()})},onKeyDown:function(e){e.keyCode===o.KEY_ESCAPE&&(this.props.onClose(),e.stopPropagation(),e.preventDefault())},render:function(){return i.createElement("div",{className:"keyboardShortcutsWrapper",tabIndex:"0",ref:"keyboardList",onKeyDown:this.onKeyDown},i.createElement("header",null,i.createElement("h1",null,s("Keyboard Cheat Sheet")),i.createElement("input",{className:"search",ref:"comboFilter",value:this.state.filter,type:"search",placeholder:s("Filter Commands"),onChange:this.onSettingsFilter}),i.createElement("button",{className:"close",onClick:this.props.onClose})),i.createElement("div",{className:this.state.DISABLE_SINGLE_KEY_SHORTCUTS?"keystrokes singlekeydisabled":"keystrokes"},i.createElement(r,{filter:this.state.filter,view:"read-only"})))}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(13),o=n(4),a=n(104),s=n(355),l=n(2),u=i.createClass({displayName:"DownloadItem",getInitialState:function(){return{showDownloadsContextMenu:null,doSelectionOnAll:null,setActive:null}},componentDidMount:function(){o.downloads.getFileIcon(this.props.item.id,{size:32},this.onTransferIconFound)},componentWillReceiveProps:function(e){this.props.item.fileIcon!==e.item.fileIcon&&o.downloads.getFileIcon(this.props.item.id,{size:32},this.onTransferIconFound)},onOpen:function(){o.downloads.open(this.props.item.id)},onShow:function(){o.downloads.show(this.props.item.id)},onOpenDownloadFolder:function(){o.downloads.showDefaultFolder()},onClicked:function(e){var t="MacIntel"===navigator.platform?e.metaKey:e.ctrlKey;t||this.props.doSelectionOnAll(!1),this.props.item.isSelected=!this.props.item.isSelected,this.props.setActive(this.props.item),this.setState({isSelected:this.props.item.isSelected}),r.findDOMNode(this).focus(),e.stopPropagation()},onPause:function(){o.downloads.pause(this.props.item.id)},onResume:function(){o.downloads.resume(this.props.item.id)},onErase:function(){o.downloads.erase({id:this.props.item.id})},onTransferIconFound:function(e){this.isMounted()&&!o.runtime.lastError&&(this.props.item.fileIcon=e,this.setState({result:this.props.item}))},onContextmenu:function(e){var t="MacIntel"===navigator.platform?e.metaKey:e.ctrlKey;t||this.props.doSelectionOnAll(!1),this.props.item.isSelected=!0,this.setState({isSelected:this.props.item.isSelected}),this.props.showDownloadsContextMenu(e),e.preventDefault()},render:function(){var e=this.props.item.filename.split("\\").pop().split("/").pop(),t="complete"===this.props.item.state,n=this.props.item.bytesReceived,r=a.filesize(n),o=new Date(this.props.item.estimatedEndTime).getTime(),u=(new Date).getTime()+2e3,c=!1,A="in_progress"===this.props.item.state;A&&o>u?c=a.relativeTime(o/1e3):A&&u>=o&&(c=l("about a second"));var d=a.filesize(this.props.item.totalBytes?this.props.item.totalBytes:this.props.item.bytesReceived);return i.createElement("li",{onContextMenu:this.onContextmenu,onClick:this.onClicked,onDoubleClick:t?this.onOpen:this.onClicked,onShow:this.onShow,onPause:this.onPause,onResume:this.onResume,tabIndex:"-1",className:("complete"===this.props.item.state?"loaded":"")+(this.props.item.isSelected?" selected":"")},i.createElement("div",{className:"icon"},i.createElement("img",{src:this.props.item.fileIcon})),i.createElement("div",{className:"file"},i.createElement("div",{className:"filename"},e),"in_progress"===this.props.item.state&&i.createElement(s,{type:"bar",overridePercent:"complete"===this.props.item.state?100:-1,totalSize:this.props.item.totalBytes,currentSize:n}),i.createElement("div",{className:"size"},"complete"===this.props.item.state?d:this.props.item.paused?l("$1 of $2 — stopped",[r,d]):l("$1 of $2",[r,d]),c&&" "+l("($1)",[c]))))}});e.exports=u},function(e,t,n){"use strict";var i=n(1),r=n(13),o=n(320),a=n(26),s=n(44),l=n(2),u=n(4),c=n(82),A=n(21),d=300,h=i.createClass({displayName:"DownloadPanel",getInitialState:function(){return{downloadItems:[],pollTimer:-1,hasActiveTransfersSelected:!1,hasPausedTransfersSelected:!1,activeItem:null,reversedOrder:!0,filter:"",focused:!1,isIncognitoWindow:!1}},componentWillMount:function(){var e=this;u.downloads&&u.downloads.setShelfEnabled(!1),window.vivaldiWindowId&&u.windows.get(window.vivaldiWindowId,function(t){e.setState({isIncognitoWindow:t.incognito})})},componentDidMount:function(){var e=this;u.downloads.onCreated.addListener(this.onTransferCreated),u.downloads.onChanged.addListener(this.onTransferChanged),u.downloads.onErased.addListener(this.onTransferErased),u.downloads.onDeterminingFilename.addListener(this.onDetermineFileName),u.downloads.search({},function(t){t.forEach(function(t){e.onTransferCreated(t)})}),s.addChangeListener(this.onPanelStoreChange)},componentDidUpdate:function(e,t){!e.open&&this.props.open?this.refs.downloadList.focus():this.props.open||this.releaseKeyboardBindings()},componentWillUnmount:function(){this.releaseKeyboardBindings(),u.downloads.onCreated.removeListener(this.onTransferCreated),u.downloads.onChanged.removeListener(this.onTransferChanged),u.downloads.onErased.removeListener(this.onTransferErased),u.downloads.onDeterminingFilename.removeListener(this.onDetermineFileName),s.removeChangeListener(this.onPanelStoreChange)},onPanelStoreChange:function(e){this.props.open&&"setFocus"===e&&!c(r.findDOMNode(this))?r.findDOMNode(this.refs.downloadList).focus():this.props.open||this.releaseKeyboardBindings()},setKeyboardBindings:function(){var e="MacIntel"===navigator.platform;a.bind("del",this.doRemoveSelected),a.bind("up",this.goToPrevious),a.bind("down",this.goToNext),a.bind("shift+up",this.selectPrevious),a.bind("shift+down",this.selectNext),a.bind("return",this.openSelected),a.bind(e?"meta+a":"ctrl+a",this.selectAll),e&&a.bind("meta+backspace",this.doRemoveSelected)},releaseKeyboardBindings:function(){var e="MacIntel"===navigator.platform;a.unbind("del",this.doRemoveSelected),a.unbind("up",this.goToPrevious),a.unbind("down",this.goToNext),a.unbind("shift+up",this.selectPrevious),a.unbind("shift+down",this.selectNext),a.unbind("return",this.openSelected),a.unbind(e?"meta+a":"ctrl+a",this.selectAll),e&&a.unbind("meta+backspace",this.doRemoveSelected)},onTransferCreated:function(e){var t=!0;this.state.isIncognitoWindow===!1&&e.incognito===!0&&(t=!1),t&&(e.isSelected=!1,this.state.reversedOrder?this.state.downloadItems.unshift(e):this.state.downloadItems.push(e),this.setState({downloadItems:this.state.downloadItems}),this.startPollingIfProgress())},getContextMenuItems:function(){return this.updateActiveProgressState(),[{name:l("Open File"),handler:this.openSelected},{name:l("MacIntel"===navigator.platform?"Show in Finder":"Open Containing Folder"),handler:this.showSelected},{name:l("Copy Download Address"),handler:this.copySelected},{name:l("Stop"),handler:this.stopSelected,visible:this.state.hasActiveTransfersSelected},{name:l("Remove"),handler:this.removeSelected},{name:"---"},{name:l("Clear Finished Downloads"),handler:this.removeSelected.bind(this,!0)}]},updateActiveProgressState:function(){for(var e=!1,t=!1,n=0;n<this.state.downloadItems.length;n++){var i=this.state.downloadItems[n];if(i.isSelected&&"in_progress"===i.state){e=!i.paused,t=i.paused;break}}this.setState({hasActiveTransfersSelected:e,hasPausedTransfersSelected:t})},onTransferChanged:function(e){for(var t=function(e){u.runtime.lastError||(this.fileIcon=e)},n=0;n<this.state.downloadItems.length;n++){var i=this.state.downloadItems[n];if(i.id===e.id){e.state&&e.state.current!==e.state.previous&&(this.state.downloadItems[n].state=e.state.current),e.paused&&e.paused.current!==e.paused.previous&&(this.state.downloadItems[n].paused=e.paused.current),e.canResume&&e.canResume.current!==e.canResume.previous&&(this.state.downloadItems[n].canResume=e.canResume.current),e.bytesReceived&&(this.state.downloadItems[n].bytesReceived=e.bytesReceived.current),e.estimatedEndTime&&(this.state.downloadItems[n].estimatedEndTime=e.estimatedEndTime.current),e.totalBytes&&(this.state.downloadItems[n].totalBytes=e.totalBytes.current),e.filename&&e.filename.current!==e.filename.previous&&(this.state.downloadItems[n].filename=e.filename.current,u.downloads.getFileIcon(i.id,{size:32},t.bind(i))),e.danger&&e.danger.current!==e.danger.previous&&(this.state.downloadItems[n].danger=e.danger.current,u.downloads.acceptDanger(i.id));break}}this.setState({downloadItems:this.state.downloadItems}),this.startPollingIfProgress()},onTransferErased:function(e){for(var t=0;t<this.state.downloadItems.length;t++){var n=this.state.downloadItems[t];if(n.id===e){this.state.downloadItems.splice(t,1);break}}this.setState({downloadItems:this.state.downloadItems})},onDetermineFileName:function(e,t){function n(e,n){t({filename:e,conflictAction:n})}n(e.filename,"uniquify")},stopSelected:function(){this.state.downloadItems.forEach(function(e){e.isSelected&&u.downloads.pause(e.id)})},resumeSelected:function(){this.state.downloadItems.forEach(function(e){e.isSelected&&u.downloads.resume(e.id)})},restartSelected:function(){this.state.downloadItems.forEach(function(e){if(e.isSelected){var t={url:e.url};u.downloads.erase({id:e.id}),u.downloads.download(t,function(e){"undefined"==typeof e?console.log(u.runtime.lastError.message):console.log("download restarted : "+e)})}})},goToPrevious:function(){this.doSelectItemRelativeToActive(-1,!1)},goToNext:function(){this.doSelectItemRelativeToActive(1,!1)},selectPrevious:function(){this.doSelectItemRelativeToActive(-1,!0)},selectNext:function(){this.doSelectItemRelativeToActive(1,!0)},selectAll:function(){this.doSelectionOnAll(!0)},selectNone:function(){this.state.downloadItems.forEach(function(e){e.isSelected=!1}),this.setState({downloadItems:this.state.downloadItems,activeItem:null})},showSelected:function(){this.state.downloadItems.forEach(function(e){e.isSelected&&u.downloads.show(e.id)})},openSelected:function(){this.state.downloadItems.forEach(function(e){e.isSelected&&u.downloads.open(e.id)})},removeSelected:function(e){var t=!1,n=null,i=null;this.state.downloadItems.forEach(function(r){(r.isSelected||e===!0)&&("in_progress"!==r.state||"in_progress"===r.state&&r.paused)?(u.downloads.erase({id:r.id}),r=null,t=!0):t&&!i?i=r:n=r}),i?(i.isSelected=!0,this.setActive(i)):n&&(n.isSelected=!0,this.setActive(n))},removeSelectedHandler:function(e){this.removeSelected()},removeAllHandler:function(e){this.removeSelected(!0)},copySelected:function(){this.state.downloadItems.forEach(function(e){if(e.isSelected){var t=document.createElement("span");t.appendChild(document.createTextNode(e.url)),t.contentEditable=!0,t.style.flex="0",document.body.appendChild(t),t.focus(),document.execCommand("selectAll"),document.execCommand("copy",!1,null),document.body.removeChild(t)}})},doSelectionOnAll:function(e){this.state.downloadItems.forEach(function(t){t.isSelected=e}),this.setState({downloadItems:this.state.downloadItems})},setActive:function(e){this.setState({activeItem:e})},doRemoveSelected:function(){this.removeSelected()},doSelectItemRelativeToActive:function(e,t){if(this.state.activeItem)for(var n=0;n<this.state.downloadItems.length;n++){var i=this.state.downloadItems[n];if(i===this.state.activeItem&&n+e>=0&&n+e<this.state.downloadItems.length){t||this.doSelectionOnAll(!1),this.setActive(this.state.downloadItems[n+e]),this.state.activeItem.isSelected=!this.state.activeItem.isSelected,this.setState({downloadItems:this.state.downloadItems});break}}else this.setActive(this.state.downloadItems[0]),this.state.activeItem.isSelected=!0,this.setState({downloadItems:this.state.downloadItems})},startPollingIfProgress:function(){-1!==this.pollTimer&&clearTimeout(this.pollTimer),this.pollTimer=setTimeout(this.pollProgress,d)},pollProgress:function(){var e=this,t=0,n=0,i=0;u.downloads.search({state:"in_progress"},function(r){t=r.length,r.map(function(t){n+=t.totalBytes,i+=t.bytesReceived;var r={state:{current:""},paused:{current:""},canResume:{current:""},totalBytes:{current:0},bytesReceived:{current:0},estimatedEndTime:{current:0}};r.id=t.id,r.state.current=t.state,r.paused.current=t.paused,r.canResume.current=t.canResume,r.totalBytes.current=t.totalBytes,r.bytesReceived.current=t.bytesReceived,r.estimatedEndTime.current=t.estimatedEndTime,e.onTransferChanged(r)}),e.props.onTransfersUpdated(t,Math.floor(i/n*100))}),this.updateActiveProgressState()},handleFilterChange:function(e){var t=e.target.value;this.setState({filter:t}),u.downloads.search({query:t.split(" ")},this.onDownloadsPopulated)},onDownloadsPopulated:function(e){this.setState({downloadItems:e})},onFocus:function(){this.setKeyboardBindings(),this.setState({focused:!0})},onBlur:function(){this.releaseKeyboardBindings(),this.setState({focused:!1})},render:function(){var e=this;if(!this.props.open)return null;var t=this.state.downloadItems.map(function(t){return i.createElement(o,{key:t.id,item:t,keyAccess:e.props.keyAccess,showDownloadsContextMenu:A(e.getContextMenuItems),doSelectionOnAll:e.doSelectionOnAll,setActive:e.setActive})});return i.createElement("div",{className:"panel",id:"downloads"},i.createElement("header",null,i.createElement("h1",null,l("Downloads")),i.createElement("div",{className:"toolbar icons"},i.createElement("input",{type:"search",placeholder:l("Search..."),value:this.state.filter,onChange:this.handleFilterChange}),i.createElement("span",null,this.state.hasPausedTransfersSelected?i.createElement("button",{className:"button-toolbar dlresume",title:l("Resume"),tabIndex:this.props.keyAccess,onClick:this.resumeSelected,dangerouslySetInnerHTML:{__html:n(586)}}):i.createElement("button",{className:"button-toolbar dlstop",title:l("Stop"),tabIndex:this.props.keyAccess,disabled:!this.state.hasActiveTransfersSelected,onClick:this.stopSelected,dangerouslySetInnerHTML:{__html:n(587)}}),i.createElement("button",{className:"button-toolbar dlrestart",title:l("Restart"),tabIndex:this.props.keyAccess,disabled:!this.state.activeItem,onClick:this.restartSelected,dangerouslySetInnerHTML:{__html:n(585)}}),i.createElement("button",{className:"button-toolbar note-delete",title:l("other","Remove"),tabIndex:this.props.keyAccess,disabled:!this.state.activeItem,onClick:this.removeSelectedHandler,dangerouslySetInnerHTML:{__html:n(71)}}),i.createElement("button",{className:"button-toolbar dlclear",title:l("Clear finished downloads"),tabIndex:this.props.keyAccess,disabled:0===this.state.downloadItems.length,onClick:this.removeAllHandler,dangerouslySetInnerHTML:{__html:n(583)}})))),i.createElement("section",null,i.createElement("ul",{ref:"downloadList",className:this.state.focused?"focused":"blurred",tabIndex:"0",onClick:this.selectNone,onFocus:this.onFocus,onBlur:this.onBlur},t)))}});e.exports=h},function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(1),o=n(13),a=n(466),s=n(6),l="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",u=150,c={isInternalDragging:void 0,anchor:void 0,positions:void 0,elements:void 0,elementsInitialOrder:void 0,sourceElement:void 0,dragFrom:void 0,dragTo:void 0,dragOver:void 0,dragLeftOf:void 0},A=r.createClass({displayName:"Draggable",getInitialState:function(){return{dragging:!1,dragOver:!1,dragBefore:!1,dragAfter:!1}},getDefaultProps:function(){return{dragId:"",dragType:"text/x-vivaldi-drag"}},shouldComponentUpdate:function(e,t){return this.state.dragging===!1},setDragging:function(e){this.props.setDragging&&this.props.setDragging(e)},onDragStart:function(e){this.setDragging(!0),c.isInternalDragging=!0,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData(this.props.dragType,this.props.dragId),o.findDOMNode(this).style.zIndex="100";var t=new Image;t.src=l,e.dataTransfer.setDragImage(t,0,0);var n=new window.WebKitCSSMatrix(o.findDOMNode(this).style.transform);c.anchor={x:e.clientX-n.m41,y:e.clientY-n.m42},c.dragFrom=this.props.dragId,setTimeout(function(){this.isMounted()&&(o.findDOMNode(this).style.pointerEvents="none")}.bind(this),0),o.findDOMNode(this).parentNode.classList.add("dragging"),c.elements=[].slice.call(o.findDOMNode(this).parentNode.querySelectorAll("*[draggable]")),c.elementsInitialOrder=[].slice.call(c.elements),c.positions=c.elements.map(function(e){return{left:e.getBoundingClientRect().left,top:e.getBoundingClientRect().top}}),c.boundBox=c.elements.map(function(e){return e.getBoundingClientRect()}).reduce(function(e,t){return e.minX=Math.min(t.left,e.minX),e.maxX=Math.max(t.left+t.width,e.maxX),e.minY=Math.min(t.top,e.minY),e.maxY=Math.max(t.top+t.width,e.maxY),e},{minX:Number.POSITIVE_INFINITY,maxX:Number.NEGATIVE_INFINITY,minY:Number.POSITIVE_INFINITY,maxY:Number.NEGATIVE_INFINITY}),c.sourceElement=o.findDOMNode(this)},_isPointOutside:function(e,t){var n=window!==t.nativeEvent.view,i=t.clientY,r=e.getBoundingClientRect();return n||i<r.top||i>r.top+r.height},onDrag:function(e){var t=o.findDOMNode(this);if(0!==e.clientX||0!==e.clientY){var n={deltaX:"x"in t.dataset?parseInt(t.dataset.x):0,deltaY:"y"in t.dataset?parseInt(t.dataset.y):0},i={deltaX:e.clientX-c.anchor.x,deltaY:e.clientY-c.anchor.y};if(this.props.lockToBounds){var r=t.getBoundingClientRect();if(r.left+(i.deltaX-n.deltaX)<c.boundBox.minX)return;if(r.left+r.width+(i.deltaX-n.deltaX)>c.boundBox.maxX)return}t.dataset.x=i.deltaX,t.dataset.y=i.deltaY;var a=this._animationKeyframes(n,i);t.animate(a,{duration:0,fill:"forwards"})}},_animationKeyframes:function(e,t){var n,i;return"x"===this.props.axis?(n="translateX("+e.deltaX+"px)",i="translateX("+t.deltaX+"px)"):"y"===this.props.axis?(n="translateY("+e.deltaY+"px)",i="translateY("+t.deltaY+"px)"):(n="translate("+e.deltaX+"px, "+e.deltaY+"px)",i="translate("+t.deltaX+"px, "+t.deltaY+"px)"),[{transform:n},{transform:i}]},onDragOver:function(e){-1!==e.dataTransfer.types.indexOf(this.props.dragType)&&(e.preventDefault(),e.stopPropagation()),c.isInternalDragging&&this._handleInternalDragging(e)},onDrop:function(e){-1!==e.dataTransfer.types.indexOf(this.props.dragType)&&(e.preventDefault(),e.stopPropagation(),!c.isInternalDragging&&this.props.onDraggableMove&&this.props.onDraggableMove(e.dataTransfer.getData(this.props.dragType),this.props.dragId,{isOver:Boolean(this.state.dragOver),isLeftOf:Boolean(this.state.dragBefore)})),this.setState({dragBefore:!1,dragOver:!1,dragAfter:!1})},_handleExternalDragging:function(e){var t=o.findDOMNode(this).getBoundingClientRect(),n=e.clientX-t.left;n<.2*t.width?this.setState({dragBefore:!0,dragOver:!1,dragAfter:!1}):n>.8*t.width?this.setState({dragBefore:!1,dragOver:!1,dragAfter:!0}):n>.2*t.width&&n<.8*t.width&&this.setState({dragBefore:!1,dragOver:!0,dragAfter:!1})},_handleInternalDragging:function(e){var t=o.findDOMNode(this).getBoundingClientRect(),n=e.clientX-t.left;c.dragTo=this.props.dragId,n<.2*t.width||n>.8*t.width?this._setDragOver(!0):n>.2*t.width&&n<.8*t.width?(this._setDragOver(!1),this.switchElements(c.sourceElement,o.findDOMNode(this))):this._setDragOver(!1)},switchElements:function(e,t,n){var i=c.elements.indexOf(e),r=c.elements.indexOf(t);c.elements.splice(r,0,c.elements.splice(i,1)[0]),c.dragLeftOf=i>r,this.animateElementsToOrder(c.sourceElement)},animateElementsToOrder:function(e,t){t=void 0===t?u:t,c.elements.forEach(function(n,i){if(!e||n!==e){var r={deltaX:"x"in n.dataset?parseInt(n.dataset.x):0,deltaY:"y"in n.dataset?parseInt(n.dataset.y):0},o=n.getBoundingClientRect(),a="left"in n.dataset?parseInt(n.dataset.left):o.left,s="top"in n.dataset?parseInt(n.dataset.top):o.top;"startTop"in n.dataset&&"startLeft"in n.dataset||(n.dataset.startTop=o.top,n.dataset.startLeft=o.left);var l={deltaX:c.positions[i].left-a+r.deltaX,deltaY:c.positions[i].top-s+r.deltaY};if(n.dataset.x=l.deltaX,n.dataset.y=l.deltaY,r.deltaX!==l.deltaX||r.deltaY!==l.deltaY){n.style.pointerEvents="none",n.dataset.left=a+l.deltaX,n.dataset.top=s+l.deltaY;var u=this._animationKeyframes(r,l),A=n.animate(u,{duration:t,fill:"forwards"});A.onfinish=function(e){n.style.pointerEvents="auto",delete n.dataset.left,delete n.dataset.top}}}},this)},onDragEnter:function(e){e.preventDefault(),e.stopPropagation()},onDragLeave:function(e){e.preventDefault(),e.stopPropagation(),this._setDragOver(!1),this.setState({dragBefore:!1,dragOver:!1,dragAfter:!1})},_setDragOver:function(e){c.dragOver=e,this.setState({dragOver:e})},onDragEnd:function(e){c.isInternalDragging=!1,this.props.revertOnFinish?(c.elements=c.elementsInitialOrder,this.animateElementsToOrder(null,1)):this.animateElementsToOrder(null,50),o.findDOMNode(this).style.zIndex="0",o.findDOMNode(this).parentNode.classList.remove("dragging"),[].forEach.call(o.findDOMNode(this).parentNode.querySelectorAll("*[draggable]"),function(e){e.style.pointerEvents="auto",e.style.zIndex="0"}),"function"==typeof this.props.onDraggableMove&&"dragId"in this.props&&void 0!==c.dragFrom&&void 0!==c.dragTo&&this.props.onDraggableMove(c.dragFrom,c.dragTo,{isOver:Boolean(c.dragOver),isLeftOf:Boolean(c.dragLeftOf)}),this.setState({dragBefore:!1,dragOver:!1,dragAfter:!1}),this.setDragging(!1),c={}},render:function(){var e=a(this.props,"className"),t=s(this.props.className,{dragover:this.state.dragOver,"drag-before":this.state.dragBefore&&!c.isInternalDragging,"drag-end":this.state.dragAfter&&!c.isInternalDragging});return r.createElement("div",i({},e,{className:t,draggable:"true",onDragStart:this.onDragStart,onDragEnter:this.onDragEnter,onDrag:this.onDrag,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onDragEnd:this.onDragEnd}),this.props.children)}});e.exports=A},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(2),a=n(4),s=n(6),l=n(21),u=n(11),c=-2,A=i.createClass({displayName:"ExtensionActionItem",mixins:[r,u],vivaldiSettingsKeys:["KEY_ACCESS"],getInitialState:function(){return{windowId:c,menuItems:[{name:o("Hide button"),handler:this.toggleExtensionAction}]}},toggleExtensionAction:function(){a.extensionActionUtils.toggleBrowserActionVisibility(this.props.id)},componentWillMount:function(){a.windows.getCurrent({windowTypes:["normal"]},function(e){this.setState({windowId:e.id})}.bind(this))},executeExtensionAction:function(e){this.props.onClicked(this.props.id,e.currentTarget)},render:function(){var e={backgroundColor:this.props.badgeBackgroundColor},t=s({"addressfield-popup-container":"page"===this.props.actionType}),n=s({"button-addressfield":"page"===this.props.actionType,"button-toolbar browserAction-button":"browser"===this.props.actionType,"actionVisibility-hidden":this.props.visible===!1||this.props.actionIsHidden===!0});return i.createElement("span",{className:t},"page"===this.props.actionType?i.createElement("button",{key:this.props.id,className:n,onClick:this.executeExtensionAction,title:this.props.badgeTooltip,tabIndex:this.state.KEY_ACCESS,onContextMenu:l(this.state.menuItems),style:{backgroundImage:"url("+this.props.badgeIcon+")"}},""!==this.props.badgeText&&i.createElement("span",{className:"browserAction-badge",style:e},this.props.badgeText)):i.createElement("button",{key:this.props.id,className:n,onClick:this.executeExtensionAction,title:this.props.badgeTooltip,tabIndex:this.state.KEY_ACCESS,onContextMenu:l(this.state.menuItems)},i.createElement("img",{src:this.props.badgeIcon}),""!==this.props.badgeText&&i.createElement("span",{className:"browserAction-badge",style:e},this.props.badgeText)))}});e.exports=A},function(e,t,n){"use strict";var i=n(6),r=n(31),o=n(1),a=n(13),s=n(11),l=25,u=25,c=800,A=600,d=o.createClass({displayName:"ExtensionActionPopup",mixins:[s,r],vivaldiSettingsKeys:["ADDRESS_BAR_POSITION"],getInitialState:function(){return{width:l,height:u,hasLoadedOnce:!1}},componentDidMount:function(){this.webviewelm=null},componentWillUnmount:function(){this.detachListeners()},attachListeners:function(){this.webviewelm&&(this.webviewelm.addEventListener("sizechanged",this.onSizeChanged),this.webviewelm.addEventListener("close",this.onClose),this.webviewelm.addEventListener("newwindow",this.onNewWindow),this.webviewelm.addEventListener("loadstart",this.onLoadStart),this.webviewelm.addEventListener("loadstop",this.onLoadStop))},detachListeners:function(){this.webviewelm&&(this.webviewelm.removeEventListener("sizechanged",this.onSizeChanged),this.webviewelm.removeEventListener("close",this.onClose),this.webviewelm.removeEventListener("newwindow",this.onNewWindow),this.webviewelm.removeEventListener("loadstart",this.onLoadStart),this.webviewelm.removeEventListener("loadstop",this.onLoadStop))},componentWillReceiveProps:function(e){this.props.popupVisible===!0&&e.popupVisible===!1&&this.setState({hasLoadedOnce:!1})},componentWillUpdate:function(e,t){e.popupVisible===!0?this.enableOnClickOutside():e.popupVisible===!1&&this.disableOnClickOutside()},handleClickOutside:function(e){this.props.popupWantsToClose()},recreateWebView:function(){this.detachListeners(),this.webviewelm&&this.webviewelm.parentNode.removeChild(this.webviewelm);var e=document.createElement("webview");e.setAttribute("autosize","on"),e.setAttribute("minwidth",l),e.setAttribute("minheight",u),e.setAttribute("maxwidth",c),e.setAttribute("maxheight",A),e.setAttribute("extensionhost",this.props.extensionId),e.setAttribute("partition","persist:"+this.props.extensionId),e.setAttribute("src",this.props.popupPage),e.setAttribute("class","ignore-react-onclickoutside"),a.findDOMNode(this.refs.popupcontainer).appendChild(e),this.webviewelm=e,this.attachListeners()},onSizeChanged:function(e){this.state.hasLoadedOnce&&this.setState({width:e.newWidth,height:e.newHeight})},onLoadStop:function(e){this.setState({hasLoadedOnce:!0})},onNewWindow:function(e){e.window.accept(window.vivaldiWindowId+";1")},onClose:function(){this.setState({hasLoadedOnce:!1}),this.props.popupWantsToClose()},render:function(){if(!this.props.extensionId)return null;var e=0,t=0,n=10;if(this.props.popupAnchor){var r=this.props.popupAnchor.getBoundingClientRect();e="bottom"===this.state.ADDRESS_BAR_POSITION?r.top-parseInt(this.state.height,10)-n:r.bottom+n,t=r.left-this.state.width+r.width/2+10}var a=this.state.hasLoadedOnce&&this.props.popupVisible,s={position:"fixed",height:this.state.height,width:this.state.width,left:t,top:e,visibility:a?"visible":"hidden"},l=i("popup",{hidden:!a,bottom:"bottom"===this.state.ADDRESS_BAR_POSITION,top:"top"===this.state.ADDRESS_BAR_POSITION});return o.createElement("span",{style:s,className:"extensionaction"},o.createElement("div",{className:l,ref:"popupcontainer",key:this.props.extensionId}))}});e.exports=d},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(7),a=n(323),s=n(324),l=-2,u=i.createClass({displayName:"ExtensionActionToolbar",mixins:[o],getInitialState:function(){return{extensionActions:[],extensionId:"",popupAnchor:null,popupPage:"",popupVisible:!1,tabId:-1,windowId:l}},componentWillMount:function(){r.extensionActionUtils&&r.extensionActionUtils.getToolbarExtensions&&r.extensionActionUtils.getToolbarExtensions(function(e){var t=e.filter(function(e){return this.props.showPageActions&&"page"===e.actionType?!0:!(!this.props.showBrowserActions||"browser"!==e.actionType)},this);this.setState({extensionActions:t})}.bind(this)),this.setState({windowId:window.vivaldiWindowId})},componentDidMount:function(){r.extensionActionUtils&&(r.extensionActionUtils.onAdded.addListener(this.onActionAdded),r.extensionActionUtils.onRemoved.addListener(this.onActionRemoved),r.extensionActionUtils.onUpdated.addListener(this.onActionChanged),r.extensionActionUtils.onIconLoaded.addListener(this.onIconLoaded))},componentWillUnmount:function(){r.extensionActionUtils.onAdded.removeListener(this.onActionAdded),r.extensionActionUtils.onRemoved.removeListener(this.onActionRemoved),r.extensionActionUtils.onUpdated.removeListener(this.onActionChanged),r.extensionActionUtils.onIconLoaded.removeListener(this.onIconLoaded)},getExtensionInfoIndex:function(e){for(var t=0;t<this.state.extensionActions.length;t++)if(this.state.extensionActions[t].id===e)return t;return-1},onIconLoaded:function(e){var t=this.getExtensionInfoIndex(e.id);-1!==t&&(this.state.extensionActions[t].badgeIcon=e.badgeIcon,this.setState({extensionActions:this.state.extensionActions.slice()}))},onActionChanged:function(e,t,n){var i=this.getExtensionInfoIndex(e.id);-1===i||t!==l&&t!==this.state.windowId||(this.state.extensionActions[i]=e,this.setState({extensionActions:this.state.extensionActions.slice(),tabId:n}))},onActionAdded:function(e){("page"===e.actionType&&this.props.showPageActions||"browser"===e.actionType&&this.props.showBrowserActions)&&(this.state.extensionActions.push(e),this.setState({extensionActions:this.state.extensionActions.slice()}))},onActionRemoved:function(e){var t=this.getExtensionInfoIndex(e.id);-1!==t&&(this.state.extensionActions.splice(t,1),this.setState({extensionActions:this.state.extensionActions.slice()}))},onExtensionActionClicked:function(e,t){t.focus();var n=t,i=function(t){t&&!t.popupUrl||(this.setState({popupVisible:!this.state.popupVisible,popupPage:t?t.popupUrl:null,popupAnchor:n,extensionId:e}),this.state.popupVisible&&this.refs.extensionactionpopup.recreateWebView())}.bind(this);r.extensionActionUtils.executeExtensionAction(e,this.state.windowId,i)},popupWantsToClose:function(){this.setState({popupVisible:!1})},render:function(){if(0===this.state.extensionActions.length)return null;var e=-1,t=this.props.incognito,n=this.state.extensionActions.map(function(n){return e+=1,t!==!0||n.allowInIncognito!==!1?i.createElement(a,{key:e,id:n.id,badgeTooltip:n.badgeTooltip,badgeIcon:n.badgeIcon,badgeText:n.badgeText,badgeTextColor:n.badgeTextColor,badgeBackgroundColor:n.badgeBackgroundColor,visible:n.visible,actionIsHidden:n.actionIsHidden,actionType:n.actionType,tabId:this.state.tabId,onClicked:this.onExtensionActionClicked}):void 0}.bind(this));return i.createElement("span",{ref:"extensionactiontoolbar",className:"extensions-wrapper"},n,i.createElement(s,{ref:"extensionactionpopup",popupVisible:this.state.popupVisible,popupPage:this.state.popupPage,popupAnchor:this.state.popupAnchor,extensionId:this.state.extensionId,popupWantsToClose:this.popupWantsToClose}))}});e.exports=u},function(e,t,n){"use strict";var i=n(1),r=n(26),o=n(5),a=n(34),s=n(53),l=n(2),u=n(6),c=n(18),A=n(19),d=A.urls,h=i.createClass({displayName:"FindInPage",getInitialState:function(){return this._getStateFromStores()},componentDidMount:function(){s.addChangeListener(this.onWebpageviewStoreChanged)},componentWillUnmount:function(){s.removeChangeListener(this.onWebpageviewStoreChanged)},onWebpageviewStoreChanged:function(e){if(!e.page||e.page.get("id")===this.props.page.get("id")&&!d.isInternalPage(e.page))switch(e.type){case o.FIND_IN_PAGE_RESULT_ACTION:this.setState(this._getStateFromStores());break;case o.WEBPAGEVIEW_ACTIONS:"findInPage"===e.action?(this.setState(this._getStateFromStores()),this.focusFindInPageInput()):"findNextInPage"===e.action?this.onNextClicked():"findPreviousInPage"===e.action&&this.onPreviousClicked();break;case o.CLOSE_FIND_IN_PAGE_ACTION:this.setState(this._getStateFromStores());break;case o.FIND_IN_PAGE_FOCUS:this.focusFindInPageInput()}},onKeyDown:function(e){e.nativeEvent.ctrlKey||e.nativeEvent.altKey||e.nativeEvent.metaKey||"Enter"===e.nativeEvent.keyIdentifier&&(e.nativeEvent.shiftKey?this.onPreviousClicked():this.onNextClicked())},onFocus:function(){r.bind("esc",this.closeFindInPage,"keydown")},onBlur:function(){r.unbind("esc",this.closeFindInPage);
},closeFindInPage:function(){this.onCloseClicked()},focusFindInPageInput:c.debounce(function(){var e=this.refs.inputText;e&&(e.focus(),e.value&&e.select())},200),_hasFindInPageText:function(){return this._getFindInPageText().length>0},_getFindInPageText:function(){var e=this.refs.inputText;return e?e.value:""},onMatchCaseClicked:function(){this.props.onFindInPage(this._getFindInPageText(),!this.state.matchCase),this.setState({matchCase:!this.state.matchCase})},onPreviousClicked:function(){var e=!0;this.props.onFindNextInPage(this._getFindInPageText(),e,this.state.matchCase)},onNextClicked:function(){var e=!1;this.props.onFindNextInPage(this._getFindInPageText(),e,this.state.matchCase)},onCloseClicked:function(){a.closeFindInPageToolbar(this.props.page)},onFindInPageTextChanged:function(){var e=this._getFindInPageText();this.state.findInPageText!==e&&(this.setState({findInPageText:e}),"function"==typeof this.props.onFindInPage&&this.props.onFindInPage(e,this.state.matchCase))},_getStateFromStores:function(){var e=s.getFindResultsForPage(this.props.page),t={activeMatchOrdinal:e.activeMatchOrdinal,findInPageText:e.searchText,isFindInPageToolbarOpen:e.isFindInPageToolbarOpen,matchCase:e.matchCase,numberOfMatches:e.numberOfMatches};return t},render:function(){var e={"find-in-page":!0,"fip-nomatches":0===this.state.numberOfMatches&&this.state.findInPageText.length>0};return this.state.isFindInPageToolbarOpen!==!0?null:i.createElement("div",{className:u(e),key:"fipanimate-group",onFocus:this.onFocus,onBlur:this.onBlur,tabIndex:"-1"},i.createElement("div",{className:"fip-input"},i.createElement("label",{htmlFor:"fip-input-text"},l("Find in Page"),":"),i.createElement("input",{ref:"inputText",id:"fip-input-text",type:"search",onKeyDown:this.onKeyDown,onChange:this.onFindInPageTextChanged,defaultValue:this.state.findInPageText}),i.createElement("span",{className:"fip-results",style:{display:this.state.findInPageText.length>0?"inline":"none"}},l("$1 of $2",[this.state.activeMatchOrdinal,this.state.numberOfMatches]))),i.createElement("div",{className:"toolbar icons fip-controls"},i.createElement("button",{className:"fip-previous",value:"previous",onClick:this.onPreviousClicked,dangerouslySetInnerHTML:{__html:n(548)}}),i.createElement("button",{className:"fip-next",value:"next",onClick:this.onNextClicked,dangerouslySetInnerHTML:{__html:n(547)}}),i.createElement("button",{className:"fip-close",value:"close",onClick:this.onCloseClicked,dangerouslySetInnerHTML:{__html:n(546)}}),i.createElement("input",{type:"checkbox",id:"fip-matchcase",checked:this.state.matchCase,onChange:this.onMatchCaseClicked}),i.createElement("label",{htmlFor:"fip-matchcase"},l("Match Case"))))}});e.exports=h},function(e,t,n){"use strict";var i=n(1),r=n(13),o=n(15),a=n(4),s="chrome://history-frame",l=i.createClass({displayName:"History",handlePostMessage:function(e){if(e.origin===s&&e.data){var t=e.data;o.openURL(t,{inCurrent:!0})}},onWebviewLoadstop:function(e){e.target.contentWindow.postMessage("requestURL","*")},onPageBlocked:function(e){e.preventDefault(),"new_foreground_tab"===e.windowOpenDisposition?a.tabs.create({url:e.targetUrl}):"new_background_tab"===e.windowOpenDisposition?event.window.accept(window.vivaldiWindowId+";0"):"new_window"===e.windowOpenDisposition&&a.windows.create({url:e.targetUrl})},componentDidMount:function(){window.addEventListener("message",this.handlePostMessage,!1);var e=r.findDOMNode(this).querySelector("webview");e.addEventListener("loadstop",this.onWebviewLoadstop),e.addEventListener("newwindow",this.onPageBlocked,!0)},componentWillUnmount:function(){window.removeEventListener("message",this.handlePostMessage);var e=r.findDOMNode(this).querySelector("webview");e&&(e.removeEventListener("loadstop",this.onWebviewLoadstop),e.removeEventListener("newwindow",this.onPageBlocked,!0),e.parentNode.removeChild(e))},render:function(){return i.createElement("div",{ref:"history",className:"history"},i.createElement("webview",{src:s}))}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(11),a=n(21),s=n(2),l=n(6),u=4e3,c=i.createClass({displayName:"FullscreenInfoBubble",mixins:[o],vivaldiSettingsKeys:["COMMAND_FULLSCREEN"],getInitialState:function(){return{hover:!1,contextOpen:!1,show:!0,hideTimeoutID:-1}},componentDidMount:function(e,t){this.hideSelf()},startHover:function(e){this.setState({hover:!0})},endHover:function(e){this.setState({hover:!1})},showSelf:function(){-1!==this.timeoutID&&clearTimeout(this.timeoutID),this.setState({show:!0})},hideSelf:function(){var e=arguments.length<=0||void 0===arguments[0]?u:arguments[0];-1!==this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout(this.setState.bind(this,{show:!1}),e)},alwaysHide:function(){r.set({SHOW_FULLSCREEN_BUBBLE:!1}),this.hideSelf()},onContextMenu:function(e){var t=this,n=[{name:s("Hide Fullscreen Reminder"),handler:this.hideSelf},{name:s("Never Show Fullscreen Reminder"),handler:this.alwaysHide}];a(n,function(){return t.setState({contextOpen:!0})},"pointer",function(){return t.setState({contextOpen:!1,hover:!1})})(e)},render:function(){var e=l({fullscreeninfobubble:!0,show:this.state.hover||this.state.contextOpen||this.state.show});return i.createElement("div",{onMouseEnter:this.startHover,onMouseLeave:this.endHover},i.createElement("div",{className:e,onContextMenu:this.onContextMenu,onClick:this.hideSelf.bind(this,0)},s("Vivaldi is showing in Fullscreen mode. Press $1 to exit.",[this.state.COMMAND_FULLSCREEN.shortcut&&this.state.COMMAND_FULLSCREEN.shortcut.length>0?this.state.COMMAND_FULLSCREEN.shortcut[0].toUpperCase():"F11"])))}});e.exports=c},function(e,t){"use strict";function n(e){return e.indexOf(",")>-1&&(e='"'+e+'"'),e}function i(e,t){var i="";return i+=e&&""!==e?""===t?n(e):n(e)+" <"+t+">":t}var r=function(e){return e&&(e.MAIL_EMAIL||e.MAIL_NAME)?i(e.MAIL_NAME,e.MAIL_EMAIL):e&&(e.name||e.address)?i(e.name,e.address):e?e:""},o=function(e){var t="";if(e)for(var n=0;n<e.length;n++)t&&(t+=", "),t+=r(e[n]);return t},a=function(e){return e instanceof Array?o(e):r(e)};e.exports=a},function(e,t,n){"use strict";var i=n(134),r=new i("M3v1");r.version(1).stores({messages:"[accountId+path+uid]",tokens:"[accountId+path+uid],*tokens",searchList:"[accountId+path+uid],[sentDate+accountId+path+uid]"}),r.version(2).stores({messages:"[accountId+path+uid]",tokens:"[accountId+path+uid],*tokens",searchList:"[accountId+path+uid],[sentDate+accountId+path+uid]",folders:"accountId",mailboxCache:"[accountId+path],accountId"}),r.version(3).stores({messages:"[accountId+path+uid]",tokens:"[accountId+path+uid],*tokens",searchList:"[accountId+path+uid],[sentDate+accountId+path+uid]",folders:"accountId",mailboxCache:"[accountId+path],accountId"}).upgrade(function(e){e.messages.toCollection().modify({bodyParts:void 0})}),r.version(4).stores({messages:"[accountId+path+uid]",tokens:"[accountId+path+uid],*tokens",searchList:"[accountId+path+uid],[sentDate+accountId+path+uid]",folders:"accountId",mailboxCache:"[accountId+path],accountId"}).upgrade(function(e){e.mailboxCache.toCollection().modify({highestModseq:"0"})}),r.open(),e.exports=r},function(e,t,n){"use strict";var i=n(334),r=n(467),o=n(117),a=n(338),s=n(330),l=n(332),u=l.getAttachments,c=n(134),A={add:function(e,t,n){return s.transaction("rw",[s.messages,s.searchList,s.tokens],function(){c.Promise.all(n.map(function(n){var o=(n.from||[]).concat(n.to||[],n.cc||[],n.replyTo||[]),l=o.map(function(e){return e.name}).concat(o.map(function(e){return e.address})),c=a(l.join(" "),[]);a(n.subject,c);var A=i(!1,n.bodyParts),d="";A&&A.content&&(d="html"===A.type?r.htmlToText(A.content):A?A.content:""),a(d,c);var h={accountId:e,path:t,uid:n.uid,sentDate:n.sentDate};s.tokens.put(Object.assign({},h,{tokens:c}));var p=Object.assign({},h,{from:n.from,subject:n.subject,unread:n.unread,listId:n.listId});s.messages.put(Object.assign({},p,{to:n.to,cc:n.cc,replyTo:n.replyTo,raw:n.raw}));var f=Object.assign({},p,{attachment:u(n.bodyParts).length>0,unseen:n.unread&&0===n.bodyParts.filter(function(e){return e.content}).length});return s.searchList.put(f),f})).then(function(n){return o.addMessages(e,t,n)})})},remove:function(e,t,n){return s.transaction("rw",[s.messages,s.tokens,s.searchList],function(){return c.Promise.all(n.map(function(n){s.messages["delete"]([e,t,n]),s.tokens["delete"]([e,t,n]),s.searchList["delete"]([e,t,n])}))}).then(function(){return o.removeMessages(e,t,n)})},removeAllDataForAccount:function(e){var t=[e,"",0],n=[e,"￿",Number.MAX_VALUE],i=["messages","tokens","searchList"];return s.transaction("rw",i.map(function(e){return s[e]}),function(){return i.forEach(function(e){return s[e].where("[accountId+path+uid]").between(t,n)["delete"]()})})},get:function(e,t,n){return s.messages.get([e,t,n])},getTokens:function(e){return s.tokens.where("tokens").startsWith(e).distinct()},_mark:function(e,t,n,i){var r=n.map(function(n){return[e,t,n]}),a=[];return s.transaction("rw",[s.messages,s.searchList],function(){s.searchList.where("[accountId+path+uid]").anyOf(r).modify(function(e){Boolean(e.unread)!==i&&(e.unread=i,e.unseen=!1,a.push({sentDate:e.sentDate,uid:e.uid,unread:i}))}),s.messages.where("[accountId+path+uid]").anyOf(r).modify({unread:i})}).then(function(){a.length>0&&o.updateMessages(e,t,a)})},markRead:function(t,n,i){e.exports._mark(t,n,i,!1)},markUnread:function(t,n,i){e.exports._mark(t,n,i,!0)},getSearchList:function(){return s.open().then(function(){return new Promise(function(e){var t=s.backendDB().transaction(["searchList"],"readonly").objectStore("searchList").index("[sentDate+accountId+path+uid]");t.getAll().onsuccess=function(t){e(t.target.result)}})})},messageCount:function(e,t){return s.messages.where("[accountId+path+uid]").between([e,t,0],[e,t,Number.MAX_VALUE]).count()},tokenCount:function(e,t){return s.tokens.where("[accountId+path+uid]").between([e,t,0],[e,t,Number.MAX_VALUE]).count()},getSearchListEntry:function(e,t,n){return s.searchList.get([e,t,n])}};e.exports=A},function(e,t,n){"use strict";var i=n(59),r=function a(e,t){var n=[];return t.forEach(function(t){Array.isArray(t.content)?n=n.concat(a(e,t.content)):"attachment"===t.type&&!!t.id===e&&n.push(t)}),n},o=function(e){return new Promise(function(t){i.parse({bodyParts:[{raw:e.raw}]},function(n,i){n?e.bodyParts=[{content:"",type:"text"}]:e.bodyParts=i[0].content,t(e)})})};e.exports={getAttachments:r.bind(void 0,!1),getContentIdAttachments:r.bind(void 0,!0),parseMailBody:o}},function(e,t){"use strict";var n=function(e,t){return e.accountId===t.accountId?e.path===t.path?e.uid-t.uid:e.path.localeCompare(t.path):e.accountId.localeCompare(t.accountId)},i=function(e,t){return e.sentDate===t.sentDate?n(e,t):e.sentDate-t.sentDate};e.exports={msgComp:n,sentDateMsgComp:i}},function(e,t){"use strict";var n=function i(e,t){if(t){var n,r;e?(n="html",r="text"):(n="text",r="html");for(var o,a=0;a<t.length;a++){if(t[a].type===n)return t[a];o||t[a].type!==r?"signed"===t[a].type&&t[a].content&&(o=i(e,t[a].content)):o=t[a]}return o}};e.exports=n},function(e,t,n){"use strict";var i=n(462),r=n(98),o=r.ALL_MESSAGES_ACCOUNT_ID,a=r.UNREAD_FOLDER_PATH,s=r.RECEIVED_FOLDER_PATH,l=r.TRASH_FOLDER_PATH,u=r.TRASH_FOLDER_TYPE,c=r.SENT_FOLDER_PATH,A=r.SENT_FOLDER_TYPE,d={};d[s]=function(e){return e.accountId!==o&&i.getFolderType(e.accountId,e.path)!==A},d[a]=function(e){return e.unread},d[l]=function(e){return u===i.getFolderType(e.accountId,e.path)},d[c]=function(e){return A===i.getFolderType(e.accountId,e.path)},e.exports=d},function(e,t,n){"use strict";var i=n(18).curry,r=n(98),o=r.ALL_MESSAGES_ACCOUNT_ID,a=r.MAILING_LISTS_ACCOUNT_ID,s=function(e,t,n,i,r,s){return s[o]||(s[o]={unread:0,unseen:0,total:0}),e!==o&&e!==a&&(s[o].unread+=n,s[o].unseen+=i,s[o].total+=r),s[e]||(s[e]={unread:0,unseen:0,total:0}),e!==o&&(s[e].unread+=n,s[e].unseen+=i,s[e].total+=r),s[e][t]||(s[e][t]={unread:0,unseen:0,total:0}),s[e][t].unread+=n,s[e][t].unseen+=i,s[e][t].total+=r,s},l=i(s);e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(15),o=i.createClass({displayName:"MailPanel",gotoVivaldiNet:function(e){r.openURL("https://vivaldi.net/"),e.preventDefault()},render:function(){return this.props.open?i.createElement("div",{className:"panel",id:"mail_panel"},i.createElement("img",{className:"mailicon",src:"/resources/mail-soon.png",width:"205",height:"170"}),i.createElement("a",{href:"https://vivaldi.net",onClick:this.gotoVivaldiNet},i.createElement("img",{className:"antonio",src:"/resources/mailtext.png",width:"205",height:"312"}))):null}});e.exports=o},function(e,t,n){"use strict";function i(e,t,n){for(var i;i=t.exec(e);){var r=i[0].toLowerCase(),a=o(n,r,u);0>a&&(-a-2>=0&&0===r.indexOf(n[-a-2])?n.splice(-a-2,1,r):(n.length<=-a-1||0!==n[-a-1].indexOf(r))&&n.splice(-a-1,0,r))}}function r(e,t){return i(e,a,t),i(e,s,t),i(e,l,t),t}var o=n(227),a=/\d+\.\d+/g,s=/[^\s]+@[^\s]+\.[^\s.]+/g,l=/[^\s!¡?¿.:,;"+]{2,}/g,u=function(e,t){return e.localeCompare(t)};e.exports=r},function(e,t,n){"use strict";var i=n(1),r=n(21),o=i.createClass({displayName:"BackgroundTaskStatus",getInitialState:function(){return{taskInfo:this.props.taskInfo}},render:function(){return i.createElement("div",null,i.createElement("span",{className:"button-toolbar-small",id:this.state.taskInfo.id,title:this.state.taskInfo.title+"\n"+this.state.taskInfo.description,style:this.state.taskInfo.style,onContextMenu:r(this.props.taskInfo.menuItems)}),i.createElement("span",{className:"button-toolbar-small"},this.state.taskInfo.text))}});e.exports=o},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(214),a=n(339),s=i.createClass({displayName:"BackgroundTaskStatusList",mixins:[r],getInitialState:function(){return{backgroundTasks:o.getBackgroundTasks()}},componentWillMount:function(){o.addChangeListener(this.onBackgroundTaskStoreChange)},componentWillUnmount:function(){o.removeChangeListener(this.onBackgroundTaskStoreChange)},onBackgroundTaskStoreChange:function(){this.setState({backgroundTasks:o.getBackgroundTasks()})},render:function(){return i.createElement("div",null,this.state.backgroundTasks.map(function(e){return i.createElement(a,{key:e.id,taskInfo:e})}))}});e.exports=s},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(464),a=n(6),s=i.createClass({displayName:"StatusInfo",mixins:[r],getInitialState:function(){return{status:o.getStatus(),visible:!1}},componentWillMount:function(){o.addChangeListener(this.onStoreChange)},componentWillUnmount:function(){o.removeChangeListener(this.onStoreChange)},onStoreChange:function(){var e=o.getStatus();this.setState({status:""===e?this.state.status:e,visible:""!==e})},render:function(){return i.createElement("div",{id:"status_info",className:a({status_info:!0,visible:this.state.visible})},i.createElement("span",null,this.state.status))}});e.exports=s},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(120),a=n(35),s=n(16),l=n(4),u=n(19),c=u.urls,A=n(2),d=i.createClass({displayName:"TopMenu",mixins:[r],getInitialState:function(){return Object.assign({menuItems:[]},this.getPageStoreState())},componentWillMount:function(){this.props.hasHorizontalMenu&&this.setState(this.getMenuItemsState(this.state.pages))},componentDidMount:function(){s.addChangeListener(this._onPageStoreChange),a.addChangeListener(this._onCommandStoreChanged)},componentWillUnmount:function(){s.removeChangeListener(this._onPageStoreChange),a.removeChangeListener(this._onCommandStoreChanged)},componentWillReceiveProps:function(e){this.props.hasHorizontalMenu===!1&&e.hasHorizontalMenu===!0&&this.setState(this.getMenuItemsState(this.state.pages))},_onCommandStoreChanged:function(){this.props.hasHorizontalMenu&&this.setState(this.getMenuItemsState(this.state.pages))},_onPageStoreChange:function(){var e=this.getPageStoreState(),t=e.pages;this.props.hasHorizontalMenu&&this.state.pages!==t&&Object.assign(e,this.getMenuItemsState(t)),this.setState(e)},getPageStoreState:function(){return{activePage:s.getActivePage(),pages:s.getPages()}},getMenuItemsState:function(e){return{menuItems:a.getHorizontalMenu(e)}},close:function(e){e.stopPropagation();var t=l.app.window.getAll();l.app.window.current().close(),1===t.length&&l.runtime.sendMessage({action:"forceQuit"})},render:function(){return i.createElement("div",{className:"topmenu"},i.createElement("button",{className:"vivaldi-horizontal-icon",onDoubleClick:this.close,title:A("Double Click to Close"),dangerouslySetInnerHTML:{__html:n(579)}}),i.createElement(o,{horizontal:!0,platformPopups:!0,items:this.state.menuItems}),i.createElement("div",{className:"horizontal-menu-pagetitle"},c.getDisplayTitle(this.state.activePage)))}});e.exports=d},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(7),a=n(65),s=n(294),l=n(188),u=n(199),c=n(328),A=n(198),d=n(127),h=n(16),p=n(80),f=n(346),m=n(313),g=n(15),v=n(353),_=n(74),E=n(44),S=n(344),y=n(391),b=n(318),C=n(317),T=n(422),I=n(209),w=n(342),O=n(418),N=n(437),k=n(5),D=n(3),M=n(36),P=n(439),L=n(123),x=n(341),R=n(340),B=n(102),U=n(2),F=n(4),V=n(212),W=n(8),H=n(6),K=n(472),G=K.tabSwitcherListener,j=n(51),z=n(41),J=["ADDRESS_BAR_POSITION","BOOKMARK_BAR_DISPLAY","BOOKMARK_BAR_POSITION","BOOKMARK_BAR_VISIBLE","BROWSER_FG_COLOR","FOCUS_CYCLE_TRAP","KEY_ACCESS","KEY_ACCESS_OS_DEFAULT","LINUX_ALT_CONTROLS","MINIMALISTIC_UI_RECOVER_INFO","MINIMALISTIC_UI_SHOW","PANEL_POSITION","SEARCH_ENGINES","SHOW_ADDRESS_BAR","SHOW_FULLSCREEN_BUBBLE","SHOW_TAB_BAR","SHOW_VIVALDI_FOOTER","SWITCH_TABS_AT_WINDOW_EDGE","TABCOLOR_BEHIND_TABS","TAB_POSITION","USE_BISCUIT_MODE","USE_TAB_TRANSPARENT_TABS","TAB_STACKING","USE_ANIMATION","USE_TABCOLOR","VIVALDI_MENU_POSITION"];"MacIntel"===navigator.platform&&(J.push("vivaldi.apple_keyboard_ui_mode"),J.push("vivaldi.apple_action_on_double_click"));var Q=r.createClass({displayName:"MainWindow",mixins:[u,l,o],getInitialState:function(){return Object.assign({currentOS:M(),startupDlg:null,currentWindowstate:F.app.window.current().isMaximized()?"maximized":"normal",previousWindowstate:null,hasFocus:!0,noVisualBlur:!1,mainDialogType:{key:null,func:null},confirmOpenBookmarksOptions:null,importData:null,initialNativeView:!1,incognito:!1,macKeyUIMode:null,macFrameDblClick:null,defaultPageZoomLevel:1,saveSession:null,openSession:null})},componentWillMount:function(){var e=this;d.addChangeListener(this._onMainStoreChanged),p.addChangeListener(this._onActiveWebViewStoreChanged),F.tabs.onZoomChange.addListener(this._onTabZoomChange),W.zoom.onDefaultZoomChanged.addListener(this.onDefaultZoomChanged),W.zoom.getDefaultZoom(function(t){e.setState({defaultPageZoomLevel:t})}),D.get("USE_NATIVE_WINDOW_DECORATIONS",function(e){this.setState({initialNativeView:e})}.bind(this)),D.addListener("MINIMALISTIC_UI_SHOW",this.handleToggleUI),F.windows.get(window.vivaldiWindowId,{},function(e){this.setState({incognito:e.incognito})}.bind(this)),this._updateKeyUIMode()},onLoad:function(){var e=F.app.window.current();D.get("APPLICATION_STATE",function(t){"fullscreen"===t&&e.fullscreen()})},componentDidMount:function(){var e=this;this.gestures=new f,this.gestures.attachEvents(),window.addEventListener("load",this.onLoad);var t=F.app.window.current();t.onMaximized.addListener(this.onMaximized),t.onFullscreened.addListener(this.onFullscreened),t.onRestored.addListener(this.onRestored),window.addEventListener("focus",this.onWindowFocus),window.addEventListener("blur",this.onWindowBlur),F.contextMenus.removeAll(function(){F.contextMenus.create({id:"addNewNote",title:U("Add Selection as New Note"),contexts:["selection"]},function(){F.runtime.lastError&&console.warn("contextMenus.create failed:",F.runtime.lastError)}.bind(e)),F.contextMenus.create({id:"searchWebFor",title:U("Search for “%s”"),contexts:["selection"]},function(){F.runtime.lastError&&console.warn("contextMenus.create failed:",F.runtime.lastError)}.bind(e)),F.contextMenus.create({id:"setStartpageImage",title:U("Use Image as Startpage Background"),contexts:["image"]},function(){F.runtime.lastError&&console.warn("contextMenus.create failed:",F.runtime.lastError)}.bind(e)),F.contextMenus.create({id:"addLinkToWebPanel",title:U("Add Link to Web Panel"),contexts:["link"]},function(){F.runtime.lastError&&console.warn("contextMenus.create failed:",F.runtime.lastError)}.bind(e)),F.contextMenus.create({id:"addPageToWebPanel",title:U("Add Page to Web Panel"),contexts:["page"]},function(){F.runtime.lastError&&console.warn("contextMenus.create failed:",F.runtime.lastError)}.bind(e)),F.contextMenus.onClicked.addListener(function(t,n){e.state.hasFocus&&("addNewNote"===t.menuItemId?W.notes.create({type:"note",content:t.selectionText,url:t.pageUrl}):"searchWebFor"===t.menuItemId?j.goSearchURL(t.selectionText,{inCurrent:!1}):"setStartpageImage"===t.menuItemId?e._onSetStartpageBackground(t):"addLinkToWebPanel"===t.menuItemId?L.addByUrl(t.linkUrl):"addPageToWebPanel"===t.menuItemId?L.addByUrl(t.pageUrl):console.log("unknown contextmenu item clicked:",t,"in",n))})}),this.showStartupDialog()},componentWillUnmount:function(){this.gestures.detachEvents(),window.removeEventListener("load",this.onLoad),window.removeEventListener("focus",this.onWindowFocus),window.removeEventListener("blur",this.onWindowBlur),d.removeChangeListener(this._onMainStoreChanged),p.removeChangeListener(this._onActiveWebViewStoreChanged),F.tabs.onZoomChange.removeListener&&F.tabs.onZoomChange.removeListener(this._onTabZoomChange),W.zoom.onDefaultZoomChanged.removeListener(this.onDefaultZoomChanged),D.removeListener("MINIMALISTIC_UI_SHOW",this.handleToggleUI)},_updateKeyUIMode:function(){if(this.props.vivaldiSettings.KEY_ACCESS_OS_DEFAULT){var e=this.props.vivaldiSettings["vivaldi.apple_keyboard_ui_mode"];2===e&&"0"!==this.props.vivaldiSettings.KEY_ACCESS?D.set({KEY_ACCESS:"0"}):0===e&&"-1"!==this.props.vivaldiSettings.KEY_ACCESS&&D.set({KEY_ACCESS:"-1"})}},_onSetStartpageBackground:function(e){var t=new XMLHttpRequest,n=new FileReader;t.open("GET",e.srcUrl,!0),t.responseType="blob",t.addEventListener("load",function(){200===t.status&&(n.onload=function(e){D.set({STARTPAGE_IMAGE_USER_DEFINED:e.target.result,STARTPAGE_IMAGE:"user_defined",STARTPAGE_SHOW_IMAGE:!0})},n.readAsDataURL(t.response))},!1),t.send()},_onMainStoreChanged:function(e){"fullscreen"===e.action?this.toggleFullscreen():"quickcommand"===e.action?this.showQuickCommand():"confirmOpenBookmarks"===e.action?this.showConfirmOpenBookmarksDialog(e.options):"importData"===e.action?this.showImportData():"saveSession"===e.action?this.showSaveSession():"openSession"===e.action?this.showOpenSession():e.type===k.MAIN_SHOW_KEYBOARDS_SHORTCUTS?this.showShortcuts():e.type===k.MAIN_ZOOM_IN?this.doActionZoomIn():e.type===k.MAIN_ZOOM_OUT?this.doActionZoomOut():e.type===k.MAIN_ZOOM_HALF?this.doActionZoomHalf():e.type===k.MAIN_ZOOM_DOUBLE?this.doActionZoomDouble():e.type===k.MAIN_ZOOM_RESET?this.doActionZoomReset():e.type===k.MAIN_TOGGLE_TAB_BAR?this.toggleTabBar():e.type===k.MAIN_TOGGLE_ADDRESS_BAR?this.toggleAddressBar():e.type===k.MAIN_TOGGLE_UI&&this.toggleUI()},toggleFullscreen:function(){var e=F.app.window.current();e.isFullscreen()?(p.getActiveWebView()&&p.getActiveWebView().setIsFullscreen(!1),e.restore()):(e.fullscreen(),D.set({APPLICATION_STATE:"fullscreen"}))},showQuickCommand:function(){var e=a(this.state,{mainDialogType:this.state.mainDialogType&&this.state.mainDialogType.key===k.MAIN_SHOW_QUICKCOMMANDS?{key:{$set:null},func:{$set:null}}:{key:{$set:k.MAIN_SHOW_QUICKCOMMANDS},func:{$set:this.showQuickCommand}}});return this.setState(e),!1},showShortcuts:function(){var e=a(this.state,{mainDialogType:this.state.mainDialogType&&this.state.mainDialogType.key===k.MAIN_SHOW_KEYBOARDS_SHORTCUTS?{key:{$set:null},func:{$set:null}}:{key:{$set:k.MAIN_SHOW_KEYBOARDS_SHORTCUTS},func:{$set:this.showShortcuts}}});return this.setState(e),!1},toggleTabSwitcher:function(){var e=a(this.state,{mainDialogType:this.state.mainDialogType&&this.state.mainDialogType.key===k.MAIN_SHOW_VISUAL_TAB_SWITCHER?{key:{$set:null},func:{$set:null}}:{key:{$set:k.MAIN_SHOW_VISUAL_TAB_SWITCHER},func:{$set:this.toggleTabSwitcher}}});return this.setState(e),!1},handleTabSwitcherActivation:function(e){if(!e){var t=this.refs.mainDialog.refs.visualTabSwitcher.state.selected;g.openPage(t)}this.toggleTabSwitcher()},switchTabVisualTabSwitcher:function(e,t){h.getPages().size>1&&(this.state.mainDialogType.key!==k.MAIN_SHOW_VISUAL_TAB_SWITCHER&&(this.toggleTabSwitcher(),G(e,this.handleTabSwitcherActivation)),t?this.refs.mainDialog.refs.visualTabSwitcher.selectForward():this.refs.mainDialog.refs.visualTabSwitcher.selectBack())},onMaximized:function(){"maximized"!==this.state.currentWindowstate&&(this.setState({previousWindowstate:this.state.currentWindowstate}),this.setState({currentWindowstate:"maximized"}))},onFullscreened:function(){"fullscreen"!==this.state.currentWindowstate&&(this.setState({previousWindowstate:this.state.currentWindowstate}),this.setState({currentWindowstate:"fullscreen"}))},onClosed:function(){"closed"!==this.state.currentWindowstate&&(this.setState({previousWindowstate:this.state.currentWindowstate}),this.setState({currentWindowstate:"closed"}))},onRestored:function(){var e=F.app.window.current();if(e.isMaximized())return void this.onMaximized();if(!e.isMinimized())return e.isFullscreen()?void this.onFullscreened():void("fullscreen"===this.state.currentWindowstate&&"normal"!==this.state.previousWindowstate||"normal"!==this.state.currentWindowstate&&(this.setState({previousWindowstate:this.state.currentWindowstate}),this.setState({currentWindowstate:"normal"}),D.set({APPLICATION_STATE:"normal"})))},maybeFocusLastActiveElement:function(){if(this._lastActiveElement)if("BODY"===this._lastActiveElement.tagName){var e=p.getActiveWebView(),t=h.getActivePage();"content"===B(t,t.get("url"))&&e&&e.focus()}else this._lastActiveElement.focus(),this._lastActiveElement=null},onWindowFocus:function(){var e=this;this.state.noVisualBlur&&this.setState({noVisualBlur:!1}),"mac"===this.state.currentOS&&V.onFocus(),this.setState({hasFocus:!0},function(){return e.maybeFocusLastActiveElement()})},onWindowBlur:function(){this._lastActiveElement=document.activeElement,"mac"===this.state.currentOS&&V.onBlur(),this.state.noVisualBlur||this.setState({hasFocus:!1})},noVisualBlur:function(){this.setState({noVisualBlur:!0})},onHTMLFullscreen:function(e){e.enterFullscreen&&this.setState({currentWindowstate:"fullscreen inner"})},_onActiveWebViewStoreChanged:function(){var e=this,t=null;F.tabs.getZoom(function(t){e.refs.statusToolbar.refs.zoomslider.forceZoomState(t)});var n=p.getActiveWebView();t!==n&&(t&&t.removeEventListener("fullscreen"),n&&(n.addEventListener("fullscreen",this.onHTMLFullscreen),t=n))},_onTabZoomChange:function(e){e.tabId===h.getActivePage().get("id")&&this.refs.statusToolbar.refs.zoomslider.forceZoomState(e.newZoomFactor)},handleDoubleClick:function(){if(F.app.window.current().isFullscreen())this.toggleFullscreen();else if(F.app.window.current().isMaximized())F.app.window.current().restore();else if("mac"===this.state.currentOS&&this.props.vivaldiSettings["vivaldi.apple_action_on_double_click"])if("Minimize"===this.props.vivaldiSettings["vivaldi.apple_action_on_double_click"])F.app.window.current().minimize();else{if("None"===this.props.vivaldiSettings["vivaldi.apple_action_on_double_click"])return!1;F.app.window.current().maximize()}else"linux"!==this.state.currentOS&&F.app.window.current().maximize()},closeConfirmOpenBookmarksDialog:function(){this.setState({confirmOpenBookmarksOptions:null})},showConfirmOpenBookmarksDialog:function(e){this.setState({confirmOpenBookmarksOptions:e})},closeImportData:function(){this.setState({importData:null})},showImportData:function(){this.setState({importData:this.refs.webpageview})},closeSaveSession:function(){this.setState({saveSession:null})},showSaveSession:function(){this.setState({saveSession:this.refs.webpageview})},closeOpenSession:function(){this.setState({openSession:null})},showOpenSession:function(){this.setState({openSession:this.refs.webpageview})},doActionZoomIn:function(){this.refs.statusToolbar.refs.zoomslider.zoomInStep()},doActionZoomOut:function(){this.refs.statusToolbar.refs.zoomslider.zoomOutStep()},doActionZoomHalf:function(){this.refs.statusToolbar.refs.zoomslider.zoomHalf()},doActionZoomDouble:function(){this.refs.statusToolbar.refs.zoomslider.zoomDouble()},doActionZoomReset:function(){var e=this;W.zoom.getDefaultZoom(function(t){e.refs.statusToolbar.refs.zoomslider.setZoomLevel(t)})},onDefaultZoomChanged:function(e){this.setState({defaultPageZoomLevel:e})},panelToggle:function(){_.togglePanel()},hasHorizontalMenu:function(){return Boolean("top"===this.props.vivaldiSettings.VIVALDI_MENU_POSITION&&"mac"!==this.state.currentOS)},getBrowserClasses:function(){var e,t=this.props.vivaldiSettings.USE_TABCOLOR&&"on"===this.props.vivaldiSettings.TABCOLOR_BEHIND_TABS,n=(e={},i(e,this.props.vivaldiSettings.BROWSER_FG_COLOR,!0),i(e,"horizontal-menu",this.hasHorizontalMenu()),i(e,"tabs-at-edge",this.props.vivaldiSettings.SWITCH_TABS_AT_WINDOW_EDGE),i(e,"ui-tabcolor-on",this.props.vivaldiSettings.USE_TABCOLOR),i(e,"ui-tabcolor-off",!this.props.vivaldiSettings.USE_TABCOLOR),i(e,"ui-transparent-tabs",this.props.vivaldiSettings.USE_TAB_TRANSPARENT_TABS),i(e,"biscuit-mode",this.props.vivaldiSettings.USE_BISCUIT_MODE),i(e,"color-behind-tabs-on",t),i(e,"color-behind-tabs-off",!t),i(e,"animation-on",this.props.vivaldiSettings.USE_ANIMATION),i(e,"animation-off",!this.props.vivaldiSettings.USE_ANIMATION),i(e,"favicon-current-background-color",t),i(e,"hasfocus",this.state.hasFocus),i(e,"isblurred",!this.state.hasFocus),i(e,"alt",this.props.vivaldiSettings.LINUX_ALT_CONTROLS),i(e,"native",this.state.initialNativeView),i(e,this.state.currentOS,!0),i(e,"win10",window.navigator.appVersion.indexOf("Windows NT 10")>0),i(e,"private",this.state.incognito),e);return n["address-"+(this.props.vivaldiSettings.SHOW_ADDRESS_BAR?this.props.vivaldiSettings.ADDRESS_BAR_POSITION:"off")]=!0,n["tabs-"+(this.props.vivaldiSettings.SHOW_TAB_BAR?this.props.vivaldiSettings.TAB_POSITION:"off")]=!0,n["stacks-"+this.props.vivaldiSettings.TAB_STACKING]=!0,n[this.state.currentWindowstate]=!0,n["bookmark-bar-"+(this.props.vivaldiSettings.BOOKMARK_BAR_VISIBLE?this.props.vivaldiSettings.BOOKMARK_BAR_POSITION:"off")]=!0,H(n)},getFooterClasses:function(){var e={footer:!0,disabled:!this.props.vivaldiSettings.SHOW_VIVALDI_FOOTER||"off"===this.props.vivaldiSettings.SHOW_VIVALDI_FOOTER||"urls"===this.props.vivaldiSettings.SHOW_VIVALDI_FOOTER};return H(e)},showStartupDialog:function(){var e=this;D.get("CHECK_DEFAULT_BROWSER_STARTUP",function(t){t&&W.importData.isVivaldiDefaultBrowser(function(t){"false"===t&&e.setState({startupDlg:e.refs.webpageview})})})},closeStartupDialog:function(e){this.setState({startupDlg:null})},toggleTabBar:function(){D.set({SHOW_TAB_BAR:!this.props.vivaldiSettings.SHOW_TAB_BAR})},toggleAddressBar:function(){D.set({SHOW_ADDRESS_BAR:!this.props.vivaldiSettings.SHOW_ADDRESS_BAR})},handleToggleUI:function(e,t){t?(D.set({SHOW_TAB_BAR:this.props.vivaldiSettings.MINIMALISTIC_UI_RECOVER_INFO.SHOW_TAB_BAR,SHOW_ADDRESS_BAR:this.props.vivaldiSettings.MINIMALISTIC_UI_RECOVER_INFO.SHOW_ADDRESS_BAR,SHOW_VIVALDI_FOOTER:this.props.vivaldiSettings.MINIMALISTIC_UI_RECOVER_INFO.SHOW_VIVALDI_FOOTER,BOOKMARK_BAR_VISIBLE:this.props.vivaldiSettings.MINIMALISTIC_UI_RECOVER_INFO.BOOKMARK_BAR_VISIBLE}),this.props.vivaldiSettings.MINIMALISTIC_UI_RECOVER_INFO.SHOW_PANEL!==E.getPanelButtonsVisible()&&_.togglePanel()):(D.set({MINIMALISTIC_UI_RECOVER_INFO:{SHOW_TAB_BAR:this.props.vivaldiSettings.SHOW_TAB_BAR,SHOW_ADDRESS_BAR:this.props.vivaldiSettings.SHOW_ADDRESS_BAR,SHOW_VIVALDI_FOOTER:this.props.vivaldiSettings.SHOW_VIVALDI_FOOTER,BOOKMARK_BAR_VISIBLE:this.props.vivaldiSettings.BOOKMARK_BAR_VISIBLE,SHOW_PANEL:E.getPanelButtonsVisible()}}),D.set({SHOW_VIVALDI_FOOTER:"urls",SHOW_TAB_BAR:!1,SHOW_ADDRESS_BAR:!1,BOOKMARK_BAR_VISIBLE:!1}),E.getPanelButtonsVisible()&&_.togglePanel())},toggleUI:function(){D.set({MINIMALISTIC_UI_SHOW:!this.props.vivaldiSettings.MINIMALISTIC_UI_SHOW
})},render:function(){return r.createElement("div",{id:"browser",ref:"browser",lang:F.i18n.getUILanguage(),className:this.getBrowserClasses(),onContextMenu:this.onContextMenu},r.createElement("div",{id:"header",onDoubleClick:this.handleDoubleClick,className:!this.props.vivaldiSettings.USE_TABCOLOR||"on"===this.props.vivaldiSettings.TABCOLOR_BEHIND_TABS||"top"===this.props.vivaldiSettings.TAB_POSITION&&this.props.vivaldiSettings.SHOW_TAB_BAR?null:"favicon-current-background-color"},r.createElement(I,{currentWindowstate:this.state.currentWindowstate,currentOS:this.state.currentOS,tabPosition:this.props.vivaldiSettings.SHOW_TAB_BAR?this.props.vivaldiSettings.TAB_POSITION:"none",onNoVisualBlur:this.noVisualBlur}),this.hasHorizontalMenu()&&r.createElement(w,{hasHorizontalMenu:this.hasHorizontalMenu()}),this.props.vivaldiSettings.SHOW_TAB_BAR&&"top"===this.props.vivaldiSettings.TAB_POSITION&&r.createElement(T,{ref:"tabbar",tabPosition:this.props.vivaldiSettings.TAB_POSITION,switchTabVisualTabSwitcher:this.switchTabVisualTabSwitcher}),!this.props.vivaldiSettings.SHOW_TAB_BAR&&r.createElement(T,{ref:"tabbar",tabPosition:"none",switchTabVisualTabSwitcher:this.switchTabVisualTabSwitcher})),r.createElement("div",{id:"main",className:this.props.vivaldiSettings.PANEL_POSITION},r.createElement(N,{incognito:this.state.incognito,currentOS:this.state.currentOS,searchEngines:this.props.vivaldiSettings.SEARCH_ENGINES,currentWindowstate:this.state.currentWindowstate}),this.props.vivaldiSettings.BOOKMARK_BAR_VISIBLE&&r.createElement(s,{useTabColor:this.props.vivaldiSettings.USE_TABCOLOR&&"on"!==this.props.vivaldiSettings.TABCOLOR_BEHIND_TABS,display:this.props.vivaldiSettings.BOOKMARK_BAR_DISPLAY,statusOff:"off"===this.props.vivaldiSettings.SHOW_VIVALDI_FOOTER,keyAccess:this.props.vivaldiSettings.KEY_ACCESS}),r.createElement("div",{className:"inner"},this.props.vivaldiSettings.SHOW_TAB_BAR&&"left"===this.props.vivaldiSettings.TAB_POSITION&&r.createElement(T,{ref:"tabbar",tabPosition:this.props.vivaldiSettings.TAB_POSITION,switchTabVisualTabSwitcher:this.switchTabVisualTabSwitcher}),this.state.startupDlg&&r.createElement(y,{parentDiv:this.state.startupDlg,onClose:this.closeStartupDialog}),this.state.confirmOpenBookmarksOptions&&r.createElement(m,{options:this.state.confirmOpenBookmarksOptions,onClose:this.closeConfirmOpenBookmarksDialog,ref:"confirmopenbookmarks"}),this.state.importData&&r.createElement(A,{dialogParentElement:this.state.importData,onClose:this.closeImportData,ref:"import"}),this.state.saveSession&&r.createElement(b,{dialogParentElement:this.state.saveSession,onClose:this.closeSaveSession,ref:"savesession"}),this.state.openSession&&r.createElement(C,{dialogParentElement:this.state.openSession,onClose:this.closeOpenSession,ref:"opensession"}),r.createElement(v,{key:"panel",position:this.props.vivaldiSettings.PANEL_POSITION}),r.createElement("div",{ref:"webpageview",id:"webview-container"},r.createElement(P,{pages:this.state.pages,cycleFocus:this.props.vivaldiSettings.FOCUS_CYCLE_TRAP}),"urls"===this.props.vivaldiSettings.SHOW_VIVALDI_FOOTER&&r.createElement(x,{ref:"statusinfo"})),"fullscreen"===this.state.currentWindowstate&&this.props.vivaldiSettings.SHOW_FULLSCREEN_BUBBLE&&"mac"!==this.state.currentOS&&r.createElement(c,{ref:"fullscreenbubble"}),this.props.vivaldiSettings.SHOW_TAB_BAR&&"right"===this.props.vivaldiSettings.TAB_POSITION&&r.createElement(T,{ref:"tabbar",tabPosition:this.props.vivaldiSettings.TAB_POSITION,switchTabVisualTabSwitcher:this.switchTabVisualTabSwitcher})),this.props.vivaldiSettings.SHOW_TAB_BAR&&"bottom"===this.props.vivaldiSettings.TAB_POSITION&&r.createElement(T,{ref:"tabbar",tabPosition:this.props.vivaldiSettings.TAB_POSITION,switchTabVisualTabSwitcher:this.switchTabVisualTabSwitcher})),r.createElement("div",{id:"footer",className:this.getFooterClasses()},"urls"!==this.props.vivaldiSettings.SHOW_VIVALDI_FOOTER&&r.createElement(x,{ref:"statusinfo"}),r.createElement(R,null),r.createElement("button",{className:"paneltogglefooter button-toolbar-small",title:U("Show Panel"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,onClick:this.panelToggle,dangerouslySetInnerHTML:{__html:n(582)}}),r.createElement(O,{ref:"statusToolbar",keyAccess:this.props.vivaldiSettings.KEY_ACCESS})),this.state.mainDialogType&&this.state.mainDialogType.key&&r.createElement(S,{ref:"mainDialog",onClose:this.state.mainDialogType.func,dialog:this.state.mainDialogType.key}),r.createElement("svg",{version:"1.1",width:"0",height:"0",dangerouslySetInnerHTML:{__html:n(545)}}))}});e.exports=z(Q,J)},function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(1),o=n(5),a=n(319),s=n(373),l=n(312),u=n(24),c=r.createClass({displayName:"MainDialog",getInitialState:function(){return{shown:!0}},componentWillReceiveProps:function(){this.setState({shown:!0})},handleClick:function(){this.state.shown&&this.props.onClose(function(){this.setState({shown:!this.state.shown})}.bind(this))},getLayeredComponentRootNode:function(){return this.props.parentDiv},render:function(){if(this.state.shown){var e=void 0;return e=this.props.dialog===o.MAIN_SHOW_VISUAL_TAB_SWITCHER?"modal-tabswitcher":this.props.dialog===o.MAIN_SHOW_QUICKCOMMANDS?"qc-modal float top":"float",r.createElement(u,{onRequestClose:this.handleClick,ignoreEscape:!0,viewMode:e},this.props.dialog===o.MAIN_SHOW_QUICKCOMMANDS&&r.createElement(s,i({key:o.MAIN_SHOW_QUICKCOMMANDS},this.props)),this.props.dialog===o.MAIN_SHOW_KEYBOARDS_SHORTCUTS&&r.createElement(a,i({key:o.MAIN_SHOW_KEYBOARDS_SHORTCUTS},this.props)),this.props.dialog===o.MAIN_SHOW_VISUAL_TAB_SWITCHER&&r.createElement(l,i({ref:"visualTabSwitcher",key:o.MAIN_SHOW_VISUAL_TAB_SWITCHER},this.props)))}return null}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(204),a=n(209),s=n(188),l=n(36),u=n(41),c=n(6),A=n(153),d=A.noop,h=["LINUX_ALT_CONTROLS","USE_ANIMATION","USE_NATIVE_WINDOW_DECORATIONS"],p=i.createClass({displayName:"PopupWindow",mixins:[s],getInitialState:function(){var e=r.app.window.current();return{currentOS:l(),currentWindowstate:e.isMaximized()?"maximized":"normal",hasFocus:!0,initialNativeView:!1}},componentWillMount:function(){var e=r.app.window.current();e.onMaximized.addListener(this.onMaximized),e.onFullscreened.addListener(this.onFullscreened),e.onRestored.addListener(this.onRestored),window.addEventListener("focus",this.onFocus),window.addEventListener("blur",this.onBlur),this.setState({initialNativeView:this.props.vivaldiSettings.USE_NATIVE_WINDOW_DECORATIONS})},onMaximized:function(){this.setState({currentWindowstate:"maximized"})},onFullscreened:function(){this.setState({currentWindowstate:"fullscreen"})},onRestored:function(){var e=r.app.window.current();this.setState({currentWindowstate:e.isMaximized()?"maximized":"normal"})},onFocus:function(e){this.setState({hasFocus:!0})},onBlur:function(){this.setState({hasFocus:!1})},_onWindowLoaded:function(){try{var e=r.app.window.current();e?e.show():console.warn("Couldn't show hidden application window because missing current window")}finally{window.removeEventListener("load",this._onWindowLoaded)}},componentDidMount:function(){window.addEventListener("load",this._onWindowLoaded)},render:function(){var e=this.props.vivaldiSettings,t={popup:!0,"ui-light":!0,"ui-tabcolor-on":!0,"animation-on":e.USE_ANIMATION,"animation-off":!e.USE_ANIMATION,hasfocus:this.state.hasFocus,isblurred:!this.state.hasFocus,"native":this.state.initialNativeView,alt:e.LINUX_ALT_CONTROLS,win10:window.navigator.appVersion.indexOf("Windows NT 10")>0};return t[this.state.currentOS]=!0,t[this.state.currentWindowstate]=!0,t["is-settingspage"]=!0,i.createElement("div",{id:"browser",className:c(t),lang:r.i18n.getUILanguage(),onContextMenu:this.onContextMenu},i.createElement("div",{id:"header",onDoubleClick:this.handleDoubleClick,className:"favicon-current-background-color"},i.createElement(a,{currentWindowstate:this.state.currentWindowstate,currentOS:this.state.currentOS,tabPosition:"top",onNoVisualBlur:d})),i.createElement("div",{className:"webpageview"},i.createElement(o,null)))}});e.exports=u(p,h)},function(e,t,n){"use strict";function i(e,t){return"Alt"===e.keyIdentifier&&e.altKey===!0&&e.ctrlKey===!1&&e.shiftKey===!1&&e.metaKey===!1&&t===!0}function r(e,t){return"Alt"===e.keyIdentifier&&e.altKey===!1&&e.ctrlKey===!1&&e.shiftKey===!1&&e.metaKey===!1&&t===!0}function o(){function e(e,t){var n=Math.atan2(t,e)+R/2;0>n&&(n+=2*Math.PI);var i=Math.floor(n/(2*Math.PI)*100);L.push(P[i])}function t(e,t){var n=Math.abs(e-t);return n>4&&(n=8-n),n}function n(e,t,n){for(var i=new Array(e),r=0;e>r;r++){i[r]=new Array(t);for(var o=0;t>o;o++)i[r][o]=n}return i}function o(e,i){if(-1===e[0])return 0===i.length?0:1e5;var r,o,a=n(e.length+1,i.length+1,0),s=a.slice();for(r=1;r<=e.length;r++)for(o=1;o<i.length;o++)a[r][o]=t(e[r-1],i[o-1]);for(o=1;o<=i.length;o++)s[0][o]=1e5;for(r=1;r<=e.length;r++)s[r][0]=1e5;s[0][0]=0;var l,u,c,A=0;for(r=1;r<=e.length;r++)for(o=1;o<i.length;o++)A=a[r][o],l=s[r-1][o]+A,u=s[r][o-1]+A,c=s[r-1][o-1]+A,s[r][o]=Math.min(Math.min(l,u),c);return s[r-1][o-1]}function u(){A.get("MOUSE_GESTURES_ENABLED",function(e){y="boolean"==typeof e?e:!1}.bind(this));var e={preferenceKey:"mousegestures_enabled",preferenceValue:{"boolean":y},preferenceType:"boolean"};p.settings.setPreference(e)}function m(){A.get("MOUSE_WHEEL_TAB_SWITCHING",function(e){"boolean"==typeof e&&(b=e)}.bind(this))}function g(){A.get("ALT_GESTURES_ENABLED",function(e){"boolean"==typeof e&&(C=e)}.bind(this))}function v(e){"mousegestures_enabled"===e.preferenceKey&&A.set({MOUSE_GESTURES_ENABLED:e.preferenceValue["boolean"]})}function _(){p.settings.getPreference("mousegestures_enabled",function(e){y=e.preferenceValue["boolean"]})}function E(){p.settings.getPreference("vivaldi.swipe_scroll_direction",function(e){T=e.preferenceValue["boolean"]})}var S,y=!1,b=!1,C=!1,T=Boolean("MacIntel"===navigator.platform),I=!1,w=!1,O=[],N=!1,k=!1,D=!1,M=5,P=[],L=[],x=2*Math.PI/100,R=2*Math.PI/8;this.init=function(){_(),"MacIntel"===navigator.platform&&E(),m(),g();var e;for(e=-R/2;e<=2*Math.PI-R/2;e+=x)S=Math.floor((e+R/2)/R),P.push(S)},this.attachEvents=function(){document.addEventListener("keydown",this.onMouseDown,!0),document.addEventListener("keyup",this.onMouseUp,!0),document.addEventListener("mousedown",this.onMouseDown,!0),document.addEventListener("mouseup",this.onMouseUp,!0),document.addEventListener("mousemove",this.onMouseMove,!0),document.addEventListener("wheel",this.onMouseWheel,!0),document.addEventListener("DOMMouseScroll",this.onMouseWheel,!0),document.addEventListener("contextmenu",this.onContextMenu,!0),A.addListener("MOUSE_GESTURES_ENABLED",u),A.addListener("ALT_GESTURES_ENABLED",g),A.addListener("MOUSE_WHEEL_TAB_SWITCHING",m),p.settings.onChanged.addListener(v)},this.detachEvents=function(){document.removeEventListener("keydown",this.onMouseDown),document.removeEventListener("keyup",this.onMouseUp),document.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("wheel",this.onMouseWheel),document.removeEventListener("DOMMouseScroll",this.onMouseWheel),document.removeEventListener("contextmenu",this.onContextMenu),A.removeListener("MOUSE_GESTURES_ENABLED",u),A.removeListener("ALT_GESTURES_ENABLED",g),A.removeListener("MOUSE_WHEEL_TAB_SWITCHING",m),p.settings.onChanged.removeListener(v)},this.init(),this.onContextMenu=function(e){(I||D)&&("win"===h()&&(e.stopPropagation(),e.preventDefault()),I=!1,D=!1)},this.onMouseDown=function(e){if(y&&!w&&(2===e.button||i(e,C))){D=!1,O.url=s.getTargetUrl();var t=s.getActivePage();t&&t.get("url")&&(O.source_url=t.get("url")),"mousedown"===e.type?(N=e.x,k=e.y):N=k=!1,w=!0}},this.onMouseUp=function(e){if((y||D)&&(2===e.button||r(e,C)))if(w=!1,D)e.preventDefault(),O=[],L=[],N=k=!1;else if(L.length>0){r(e,C)||"win"!==h()||(e.preventDefault(),e.stopPropagation());var t,n,i,s=1e5,u=a.getCommandsGestures();for(var c in u)u.hasOwnProperty(c)&&(n=c.split(""),i=o(n,L),s>i&&10>i&&(s=i,t=c));t&&(u[t]["function"](null,O),I=!0,l.setStatus(d("Gesture: $1",[u[t].label]),2e3)),O=[],L=[],N=k=!1}},this.onMouseMove=function(t){if(y&&w===!0){if("win"!==h()&&2!==t.button&&t.altKey!==!0)return w=!1,O=[],L=[],void(N=k=!1);if(N===!1)return N=t.x,void(k=t.y);var n=t.x-N,i=t.y-k,r=n*n+i*i,o=M*M;r>o&&(N=t.x,k=t.y,e(n,i))}};var B,U,F=.3,V=3,W=!1,H=0,K=!1,G=0,j=0,z=0;this.delayTimeout=void 0,this.onMouseWheel=function(e){var t=(new Date).getTime();"boolean"!=typeof B&&(0===z&&(U=t),z++,t-U>50&&(B=z>5));var n="MacIntel"!==navigator.platform?e.ctrlKey:e.metaKey;if(0===H?(H=t,n&&(W=!0)):t-H>1200?(H=0,n||(W=!1)):n||(W=!1),W){var i=s.getActivePage();if(!c.isInternalPage(i)){var r;r=e.wheelDelta<0?-.1:e.wheelDelta>0?.1:0,j=t,!K&&j-G>150&&(K=!0,f.tabs.getZoom(function(e){var t=Math.round(10*e)/10+r;t>.2&&f.tabs.setZoom(Math.min(Math.max(Math.round(10*t)/10,F),V))}),window.clearTimeout(this.delayTimeout),this.delayTimeout=setTimeout(function(){G=t,K=!1},100)),e.preventDefault()}}else{if(!b)return null;var o=!1;for(var l in e.path)if(e.path.hasOwnProperty(l)&&"tabs-container"===e.path[l].id){var u=e.path[l].className;if(-1===u.indexOf("overflow")){o=!0;break}}if("boolean"==typeof B&&(2===e.buttons||e.altKey||o)){e.preventDefault(),e.stopPropagation();var A,d,h=a.getCommands();if(e.wheelDelta>0)d=1;else{if(!(e.wheelDelta<0))return;d=-1}var p=T?"COMMAND_TAB_SWITCH_BACK_SETTING":"COMMAND_TAB_SWITCH_FORWARD_SETTING",m=T?"COMMAND_TAB_SWITCH_BACK_ORDER":"COMMAND_TAB_SWITCH_FORWARD_ORDER",g=T?"COMMAND_TAB_SWITCH_FORWARD_SETTING":"COMMAND_TAB_SWITCH_BACK_SETTING",v=T?"COMMAND_TAB_SWITCH_FORWARD_ORDER":"COMMAND_TAB_SWITCH_BACK_ORDER";B?(j=t,!K&&j-G>550&&(K=!0,A=d>0?2===e.buttons||e.altKey?p:m:2===e.buttons||e.altKey?g:v,window.clearTimeout(this.delayTimeout),this.delayTimeout=setTimeout(function(){G=t,K=!1},500))):A=d>0?2===e.buttons||e.altKey?p:m:2===e.buttons||e.altKey?g:v;for(var _ in h)h.hasOwnProperty(_)&&h[_].name===A&&h[_].action(null,e);D=!0}}}}var a=n(35),s=n(16),l=n(69),u=n(19),c=u.urls,A=n(3),d=n(2),h=n(36),p=n(8),f=n(4);e.exports=o},function(e,t,n){"use strict";var i=n(1),r=n(2),o=i.createClass({displayName:"AttachmentItem",onRemoveScreenshot:function(){this.props.removeScreenshot(this.props.index)},onOpenScreenshot:function(){this.props.openScreenshot(this.props.index)},render:function(){return i.createElement("div",{className:"screenshot",style:{backgroundImage:"url("+this.props.item.content+")"}},i.createElement("button",{className:"screenshot-remove",title:r("Remove screenshot"),onClick:this.onRemoveScreenshot}),i.createElement("button",{className:"screenshot-view",title:r("View screenshot"),onClick:this.onOpenScreenshot}))}});e.exports=o},function(e,t,n){"use strict";var i=n(1),r=n(15),o=n(8),a=n(347),s=i.createClass({displayName:"AttachmentContainer",onOpenScreenshot:function(e){r.openURL(this.props.attachments[e].content)},onRemoveScreenshot:function(e){this.props.attachments.splice(e,1);var t={attachments:this.props.attachments};o.notes.update(this.props.selectedNote.id.toString(),t,function(e){o.notes.search(this.props.filter,this.props.onNotesPopulated)}.bind(this))},render:function(){if(!this.props.attachments)return null;var e=0,t=this.props.attachments.map(function(t){return i.createElement(a,{key:e,item:t,openScreenshot:this.onOpenScreenshot,removeScreenshot:this.onRemoveScreenshot,index:e++})}.bind(this));return i.createElement("div",{className:"screenshots-wrapper"},t)}});e.exports=s},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=n(1),o=n(13),a=n(7),s=n(80),l=n(348),u=n(25),c=n(217),A=n(350),d=n(15),h=n(44),p=n(77),f=n(3),m=n(11),g=n(2),v=n(8),_=n(82),E=n(221),S=n(18),y=n(32),b=n(78),C=n(62),T=n(5),I=300,w=238,O=600,N=T.CHANGED,k=r.createClass({displayName:"NotesPanel",mixins:[m,a],vivaldiSettingsKeys:["NOTES_EDITOR_HEIGHT","KEY_ACCESS"],getInitialState:function(){return{filter:"",selectedNote:null,selectedFolder:null,folderName:"",contentValue:"",urlValue:"",firstnoterequested:!1}},componentWillMount:function(){c.addChangeListener(this._onStoreChange),h.addChangeListener(this._onPanelStoreChange),C.addListener(N,this._onUrlbarStoreChanged)},componentDidUpdate:function(e,t){!e.open&&this.props.open&&this.refs.notesTree&&(o.findDOMNode(this.refs.notesTree).focus(),this.onItemSelected(this.refs.notesTree.refs.notesTree.getSelectedItem()))},componentWillUnmount:function(){c.removeChangeListener(this._onStoreChange),h.removeChangeListener(this._onPanelStoreChange),C.removeListener(N,this._onUrlbarStoreChanged)},_onPanelStoreChange:function(e){this.props.open&&"setFocus"===e&&!_(o.findDOMNode(this))&&o.findDOMNode(this.refs.notesTree).focus()},_onUrlbarStoreChanged:function(){var e=C.getUrlfieldStateFromId("NotesPanel");this.setState(e)},onNotesPopulated:function(e){this.setState({notes:e})},onItemSelected:function(e){e?this.isFolder(e)?this.onFolderSelected(e):this.onNoteSelected(e):this.setState(this.getInitialState())},onNoteSelected:function(e){var t=this;this.setState({selectedNote:e,selectedFolder:null,folderName:"",contentValue:e.content,urlValue:e.url},function(){""===t.state.contentValue&&t.refs.refContent.focus()})},onFolderSelected:function(e){var t=this;this.setState({selectedNote:null,selectedFolder:e,folderName:e.title,contentValue:"",urlValue:""},function(){""===t.state.titleValue&&t.refs.refContent.focus()})},unSelect:function(){this.refs.notesTree.unSelectAll(),this.setState({selectedNote:null,selectedFolder:null,urlValue:""})},isFolder:function(e){return S.has(e,"children")},onAddNote:function(){this.refs.notesTree.onAdd(!1)},onAddFolder:function(){this.refs.notesTree.onAdd(!0)},onDeleteNote:function(){this.setState({selectedNote:null,selectedFolder:null}),this.refs.notesTree.onDelete()},addDataURLAttachment:function(e){var t=this,n=e,r="object"===("undefined"==typeof e?"undefined":i(e));r&&(n=e.target.result);var o=this.state.selectedNote.attachments,a={attachments:o};0!==o.length||r||(a.url=s.getActiveWebView().src);var l={id:"0",content:n};a.attachments.push(l),v.notes.update(this.state.selectedNote.id.toString(),a,function(e){t.forceUpdate()})},onTakeScreenshot:function(){if(this.state.selectedNote){var e={scale:1,width:0,height:0};s.getActiveWebView()&&s.getActiveWebView().getThumbnail(e,this.addDataURLAttachment)}},onAddImageFile:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=this.addDataURLAttachment,n.readAsDataURL(t)},onOpenUrl:function(){this.state.urlValue&&d.openURL(y.fixLink(this.state.urlValue))},handleFolderChange:function(e){var t=this,n=e.target.value;this.setState({folderName:n}),v.notes.update(this.state.selectedFolder.id.toString(),{title:this._generateTitle(n)},function(){v.notes.search(t.state.filter,t.onNotesPopulated)})},handleContentChange:function(e){var t=this,n=e.target.value;if(this.setState({contentValue:n}),this.state.firstnoterequested!==!1||this.hasNote()){if(this.state.selectedNote){var i={title:this._generateTitle(n),content:n};v.notes.update(this.state.selectedNote.id.toString(),i,function(){v.notes.search(t.state.filter,t.onNotesPopulated)})}}else this.setState({firstnoterequested:!0}),v.notes.create({type:"note",content:n},function(e){t.setState({selectedNote:e})})},_generateTitle:function(e){var t=100,n=void 0,i=e.substring(0,t).indexOf("\n");if(i>=0)n=e.substring(0,i);else if(e.length>t){var r=e.substring(0,t).lastIndexOf(" ");n=r>=0?e.substring(0,r):e.substring(0,t-3)+"..."}return n?n:e},handleURLChange:function(){var e=this,t=o.findDOMNode(this.refs.noteUrl),n=t.value.trim();if("string"==typeof n&&n!==this.state.urlValue){var i=""===n?n:y.ensureURLProtocol(n);if(this.setState({urlValue:i,editUrl:null}),this.state.selectedNote){var r={url:i};v.notes.update(this.state.selectedNote.id.toString(),r,function(t){v.notes.search(e.state.filter,e.onNotesPopulated)})}}},handleFilterChange:function(e){var t=e.target.value;this.setState({filter:t}),v.notes.search(t,this.onNotesPopulated)},onKeyDown:function(e){e.keyCode===u.KEY_ESCAPE&&this.unSelect()},_onStoreChange:function(){this.forceUpdate()},hasNote:function(){var e=c.getNotesRoot();if(e&&e.children){if(e.children.length>1)return!0;var t=e.children[0];if(t&&t.trash)return t.children&&t.children.length>0}return!1},handleResize:function(e){var t=o.findDOMNode(this.refs.noteEditor),n=t.getBoundingClientRect(),i=n.height+e;return i>O?i=O:w>i&&(i=w),f.set({NOTES_EDITOR_HEIGHT:i}),!0},resizeToDefault:function(){f.set({NOTES_EDITOR_HEIGHT:I})},isEditable:function(){return this.state.selectedNote||this.state.selectedFolder&&!this.state.selectedFolder.trash},render:function(){if(!this.props.open)return null;var e=this.state.selectedNote?E.dateTimeLong(this.state.selectedNote.dateAdded):this.state.selectedFolder?E.dateTimeLong(this.state.selectedFolder.dateAdded):"";return r.createElement("div",{className:"panel",ref:"notesPanelElement",id:"notes-panel"},r.createElement("header",null,r.createElement("h1",null,g("Notes")),r.createElement("div",{className:"toolbar icons"},r.createElement("input",{type:"search",className:"notesearch",placeholder:g("Search..."),value:this.state.filter,onChange:this.handleFilterChange}),r.createElement("span",null,r.createElement("button",{title:g("New Note"),className:"button-toolbar note-new",tabIndex:this.state.KEY_ACCESS,onClick:this.onAddNote,dangerouslySetInnerHTML:{__html:n(64)}}),r.createElement("button",{title:g("New Folder"),className:"button-toolbar note-folder",tabIndex:this.state.KEY_ACCESS,onClick:this.onAddFolder,dangerouslySetInnerHTML:{__html:n(106)}}),r.createElement("button",{title:g("other","Delete"),className:"button-toolbar note-delete",tabIndex:this.state.KEY_ACCESS,onClick:this.onDeleteNote,dangerouslySetInnerHTML:{__html:n(71)}})))),r.createElement("section",{onClick:this.unSelect,onKeyDown:this.onKeyDown},!this.hasNote()&&r.createElement("div",{className:"no-notes"},r.createElement("div",{className:"happy-note",onClick:this.onAddNote},r.createElement("span",{dangerouslySetInnerHTML:{__html:n(549)}}),r.createElement("h1",null,g("Write Your First Note")),r.createElement("p",null,g("Add a new note to begin, or select text on any webpage\n              and create note from contextual menu.")))),r.createElement(A,{ref:"notesTree",filter:this.state.filter,onDelete:this.onDeleteNote,onItemSelected:this.onItemSelected})),this.isEditable()&&r.createElement("div",{className:"notes-editor",ref:"noteEditor",style:{height:this.state.NOTES_EDITOR_HEIGHT||I}},r.createElement(p,{onSlidebarMove:this.handleResize,onDoubleClick:this.resizeToDefault,position:"bottom"}),r.createElement("div",{className:"data notes-cardwrapper cardview"},r.createElement("div",{className:"dateCreated"},r.createElement("div",{className:"meta-icon date fieldset",dangerouslySetInnerHTML:{__html:n(233)}}),r.createElement("span",{title:g("Date created")},e)),r.createElement("div",{className:"urlwrapper"},r.createElement("button",{className:"meta-icon url",title:g("Go to Address"),disabled:!this.state.selectedNote,tabIndex:this.state.KEY_ACCESS,onClick:this.onOpenUrl,dangerouslySetInnerHTML:{__html:n(543)}}),r.createElement(b,{ref:"noteUrl",title:g("Enter webpage address"),className:"cardview address",disabled:!this.state.selectedNote,onBlur:this.handleURLChange,pageId:"NotesPanel",displayUrl:this.state.urlValue,editUrl:this.state.editUrl,autocompletionEnabled:!0,triggerTypedHistory:!1,selectionStart:this.state.selectionStart,selectionEnd:this.state.selectionEnd,placeholder:this.state.selectedNote?g("Address"):null})),this.state.selectedNote&&r.createElement("textarea",{ref:"refContent",className:"note editor",placeholder:g("Note"),title:g("Write a note"),value:this.state.contentValue,onChange:this.handleContentChange}),this.state.selectedFolder&&r.createElement("div",{className:"note shim"},r.createElement("input",{ref:"refFolderName",type:"text",placeholder:g("Folder"),title:g("Edit folder name"),value:this.state.folderName,onChange:this.handleFolderChange})),r.createElement("div",{className:"attachments-wrapper"},r.createElement(l,{ref:"attachmentcontainer",attachments:this.state.selectedNote?this.state.selectedNote.attachments:null,selectedNote:this.state.selectedNote,filter:this.state.filter,onNotesPopulated:this.onNotesPopulated}),r.createElement("div",{className:"add-attachments-wrapper"},r.createElement("button",{className:"add-attachments",tabIndex:this.state.KEY_ACCESS,onClick:this.addFiles}),r.createElement("div",{className:"add-attachments-callout"},r.createElement("button",{className:"add-attachment-screenshot",tabIndex:this.state.KEY_ACCESS,onClick:this.onTakeScreenshot,title:g("Add new screenshot")}),r.createElement("input",{className:"add-attachment-file",type:"file",title:g("Attach new file"),tabIndex:this.state.KEY_ACCESS,accept:"image/*",onChange:this.onAddImageFile})))))))}});e.exports=k},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(197),a=n(97),s=n(217),l=n(4),u=n(32),c=n(15),A=n(8),d=n(2),h=i.createClass({displayName:"NotesTree",mixins:[r],getInitialState:function(){return this.getNotesState()},componentWillMount:function(){s.addChangeListener(this._onStoreChange)},componentWillUnmount:function(){s.removeChangeListener(this._onStoreChange)},componentWillReceiveProps:function(e){this.props.filter!==e.filter&&this._onStoreChange(e.filter)},onDelete:function(){this.refs.notesTree.onDelete()},"delete":function(){var e=this,t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];Promise.all(t.map(function(e){var t=e.id||e;return new Promise(function(e){A.notes.get(t,function(n){n&&n.length>0&&!n[0].trash?A.notes.remove(t,e):e()})})})).then(function(){var t=e.refs.notesTree.getNextSelectedAfterDelete();t&&e.refs.notesTree.selectById(t)})},getNotesState:function(){return{notesTree:s.getNotesRoot().children}},isFolder:function(e){return!!e&&!!e.children},isTrash:function(e){return e.trash},isEditable:function(){return!1},onDoubleClick:function(e,t){t.forEach(function(e){A.notes.get(e,function(e){e.url&&c.openURL(u.fixLink(e.url))})})},onSelect:function(e){var t=this,n=e.id;return!n||0>n?void this.props.onItemSelected():void A.notes.get(n,function(e){l.runtime.lastError&&console.log(l.runtime.lastError),t.props.onItemSelected(e[0])})},selectNoteById:function(e){this.refs.notesTree.selectById(e)},_onStoreChange:function(e){e&&e.length>0?A.notes.search(e,function(e){this.setState({notesTree:e})}.bind(this)):this.setState(this.getNotesState())},hasChildren:function(e){return!!e.children&&e.children.length>0},handleExpandClick:function(){this.refs.notesTree.toggleSelectedExpansion()},unSelectAll:function(){this.refs.notesTree.unSelectAll()},expandNote:function(e){e.isExpanded||this.refs.notesTree.toggleSelectedExpansion()},isValidForClipboard:function(e){return!e.trash},isValidAddTarget:function(e){return!this.isTrashed(e)},isTrashed:function(e){return e?e.trash?!0:e.parentId?this.isTrashed(this.refs.notesTree.findTreeItem(e.parentId)):!1:!1},onAdd:function(e){this.refs.notesTree.onAdd(e)},onCreate:function(e){var t=this;return e=Array.isArray(e)?e:[e],Promise.all(e.map(function(e){return new Promise(function(n){A.notes.create({parentId:e.parentId.toString(),attachments:e.attachments,content:e.content,title:e.title,type:t.isFolder(e)?"folder":"note"},function(i){if(t.hasChildren(e)){var r=!0,o=!1,a=void 0;try{for(var s,l=e.children[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value;u.parentId=i.id}}catch(c){o=!0,a=c}finally{try{!r&&l["return"]&&l["return"]()}finally{if(o)throw a}}t.onCreate(e.children).then(function(){n(i)})}else n(i)})})}))},onMove:function(e,t){return e=Array.isArray(e)?e:[e],e=e.filter(function(e){return!e.trash}),Promise.all(e.map(function(e){return new Promise(function(n){A.notes.move(e.id.toString(),t,function(){n(e)})})}))},onEmptyTrash:function(){A.notes.emptyTrash(function(e){e===!1&&console.warn("Empty trash failed.")})},getContextMenuItems:function(e){return e.trash?[{name:d("Empty Trash"),handler:this.onEmptyTrash},{name:"---"}]:[]},getContextMenuItemProps:function(e){return{showEdit:!e.trash,showNewFolder:!e.trash,showCutCopyPasteDelete:!e.trash}},renderItemContent:function(e){if(this.refs.notesTree){var t=16*(e.level+1)+"px",r=16*e.level+"px",o=i.createElement("label",{key:"0"},this.isFolder(e)&&this.hasChildren(e)&&i.createElement("span",{className:"expand-icon",style:{marginLeft:r},onClick:this.handleExpandClick,dangerouslySetInnerHTML:{__html:n(158)}}),this.isFolder(e)&&i.createElement(a,{trash:this.isTrash(e),open:e.isExpanded,leftMargin:this.hasChildren(e)?0:t}),!this.isFolder(e)&&!e.url&&i.createElement("span",{style:{marginLeft:t},className:"tree-icon",dangerouslySetInnerHTML:{__html:n(568)}}),!this.isFolder(e)&&!!e.url&&i.createElement("span",{style:{marginLeft:t},className:"tree-icon",dangerouslySetInnerHTML:{__html:n(567)}}),i.createElement("span",null,""!==e.title?e.title:e.content),this.hasChildren(e)&&i.createElement("span",{className:"folder-item-count"},e.children.length));return[o]}},render:function(){return i.createElement(o,{ref:"notesTree",nodes:this.state.notesTree,onSelect:this.onSelect,onDoubleClick:this.onDoubleClick,onCreate:this.onCreate,"delete":this["delete"],onMove:this.onMove,isFolder:this.isFolder,isTrash:this.isTrash,isEditable:this.isEditable,hasChildren:this.hasChildren,settings:"NOTES_TREE",renderItemContent:this.renderItemContent,getContextMenuItems:this.getContextMenuItems,getContextMenuItemProps:this.getContextMenuItemProps,isValidAddTarget:this.isValidAddTarget,isValidForClipboard:this.isValidForClipboard})}});e.exports=h},function(e,t,n){"use strict";var i=n(1),r=n(7),o=i.createClass({displayName:"ActionItem",mixins:[r],getInitialState:function(){return{name:null}},onClicked:function(e){this.props.onItemClicked(this.props.name,e.target.checked)},render:function(){return i.createElement("li",null,i.createElement("label",null,i.createElement("input",{type:"checkbox",onChange:this.onClicked,checked:this.props.checked}),i.createElement("span",null,this.props.name)))}});e.exports=o},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(27),a=n(351),s=n(216),l=n(184),u=n(6),c=n(31),A=n(2),d=i.createClass({displayName:"PageActionChooser",mixins:[c,r],getInitialState:function(){return Object.assign({pageactionFiles:[],drawerOpen:!1,currentTarget:null},this.getContentScriptStoreState(this.props.pageId))},componentWillMount:function(){s.addChangeListener(this._onContentScriptStoreChange)},componentWillUnmount:function(){s.removeChangeListener(this._onContentScriptStoreChange)},componentWillReceiveProps:function(e){this.props.pageId!==e.pageId&&this.setState(this.getContentScriptStoreState(e.pageId))},componentDidUpdate:function(e,t){t.drawerOpen===!0&&this.state.drawerOpen===!1?this.disableOnClickOutside():t.drawerOpen===!1&&this.state.drawerOpen===!0&&this.enableOnClickOutside()},_onContentScriptStoreChange:function(){this.setState(this.getContentScriptStoreState(this.props.pageId))},getContentScriptStoreState:function(e){return{contentScripts:s.getContentScripts(),pageScripts:s.getPageScripts(e)}},onToggleOpenPageActions:function(){this.setState({drawerOpen:!this.state.drawerOpen})},onItemClicked:function(e,t){t?l.addContentScript(this.props.pageId,e):l.removeContentScript(this.props.pageId,e)},isActive:function(){return this.state.pageScripts!==o.Map()},isScriptEnabled:function(e){return Boolean(this.state.pageScripts.get(e))},handleClickOutside:function(e){this.setState({drawerOpen:!1})},render:function(){var e=this;return i.createElement("span",{className:"pageactions",title:A("Page actions"),ref:"pageactions"},i.createElement("button",{className:u("button-toolbar-small","page-action",{disabled:this.props.disabled,active:this.state.drawerOpen,
attention:this.isActive()}),tabIndex:this.props.keyAccess,onClick:this.onToggleOpenPageActions,disabled:this.props.disabled,dangerouslySetInnerHTML:{__html:n(581)}}),this.state.drawerOpen&&i.createElement("div",{className:"callout"},i.createElement("header",null,i.createElement("h1",null,A("Page Actions"))),i.createElement("ul",{style:{maxHeight:window.innerHeight-150+"px"}},this.state.contentScripts.map(function(t,n){return i.createElement(a,{index:n,key:n,checked:e.isScriptEnabled(t.get("name")),name:t.get("name"),onItemClicked:e.onItemClicked})}))))}});e.exports=d},function(e,t,n){"use strict";function i(){return{selectedPanel:m.getSelectedPanel(),panelWidth:m.getPanelWidth(),panelButtonsVisible:m.getPanelButtonsVisible(),panelSwitchVisible:m.getPanelSwitchVisible(),panelContentVisible:m.getPanelContentVisible(),focusContent:m.getFocusContent(),isMailWindow:m.getIsMailWindow(),regPanels:m.getRegPanels(),webPanels:m.getWebPanels()}}var r=n(1),o=n(13),a=n(7),s=n(441),l=n(293),u=n(309),c=n(321),A=n(96),d=n(337),h=n(50),p=n(349),f=n(74),m=n(44),g=n(463),v=n(77),_=n(75),E=n(11),S=n(442),y=n(123),b=n(2),C=n(6),T=n(21),I=n(98),w=I.ALL_MESSAGES_ACCOUNT_ID,O=220,N="MacIntel"===navigator.platform?6:10,k=.618,D=r.createClass({displayName:"Panel",mixins:[E,a],vivaldiSettingsKeys:["SHOW_WEB_PANEL_TITLE","KEY_ACCESS"],getInitialState:function(){return Object.assign({downloadItems:0,downloadProgress:0,webPanelData:[]},i())},_onStoreChange:function(){this.setState(i()),this.setupWebPanelData(this.state.webPanels)},componentWillMount:function(){m.addChangeListener(this._onStoreChange),g.addChangeListener(this._onSearchListStoreChange)},componentWillUnmount:function(){m.removeChangeListener(this._onStoreChange),g.removeChangeListener(this._onSearchListStoreChange)},_onSearchListStoreChange:function(){var e=g.getCounters()[w];this.setState({unreadEmails:e?e.unread:void 0})},setSelected:function(e){f.toggleContent(e)},isWebPanelSelected:function(){var e;if(this.state.selectedPanel){var t=y.getPanelPrefix();e=this.state.selectedPanel.substr(0,t.length)===t}return e},handleDoubleClick:function(){this.handlePanelSwitch()},handlePanelMove:function(e){var t=o.findDOMNode(this.refs.panelsContainer),n=t.getBoundingClientRect(),i=n.width+e,r=document.getElementById("main").offsetWidth*k;return i>r?i=r:O>i&&(i=O),f.setWidth(i),!0},handlePanelSwitch:function(){f.togglePanel()},showPanelIfHidden:function(){this.state.panelContentVisible||this.handlePanelSwitch()},showPanelSettings:function(){h.showSettings()},transfersUpdated:function(e,t){"number"!=typeof t&&(t=0),this.setState({downloadItems:e,downloadProgress:t})},getWebPanelDataById:function(e){for(var t=0;t<this.state.webPanelData.length;t++){var n=this.state.webPanelData[t];if(n.id===e)return n}return null},setupWebPanelData:function(e){if(this.state.webPanelData.length!==e.length){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=this.getWebPanelDataById(i.id);if(r)t.push(r);else{var o=y.getFaviconPrefix()+i.contentUrl;t.push({id:i.id,title:"",faviconUrl:o})}}this.setState({webPanelData:t})}},isPanelOpen:function(e){return this.state.panelContentVisible===!0&&this.state.selectedPanel===e},isPanelAvailable:function(e){for(var t=this.state.regPanels,n=0;n<t.length;n++)if(t[n].id===e)return t[n].available!==!1;t=this.state.webPanels;for(var i=0;i<t.length;i++)if(t[i].id===e)return t[i].available!==!1;return!1},setWebPanelResource:function(e,t,n){this.setupWebPanelData(this.state.webPanels);for(var i=-1,r=0;r<this.state.webPanelData.length;r++){var o=this.state.webPanelData[r];if(o.id===e){"title"===t&&o.title!==n?i=r:"faviconUrl"===t&&o.faviconUrl!==n&&(i=r);break}}if(-1!==i){var a=[];for(r=0;r<this.state.webPanelData.length;r++){var s=this.state.webPanelData[r];r===i&&("title"===t?s.title=n:"faviconUrl"===t&&(s.faviconUrl=n)),a.push(s)}this.setState({webPanelData:a}),"title"===t&&y.setTitle(e,n)}},getContextMenuItems:function(e){return[{name:b("Web panel","Show Mobile Version"),handler:y.setMobileMode.bind(y,e.id,!0),visible:!Boolean(e.mobileMode===!0)},{name:b("Web panel","Show Desktop Version"),handler:y.setMobileMode.bind(y,e.id,!1),visible:Boolean(e.mobileMode===!0)},{name:b("Web panel","Hide Title"),handler:y.showWebPanelTitle.bind(y,!1),visible:Boolean(this.state.SHOW_WEB_PANEL_TITLE)},{name:b("Web panel","Show Title"),handler:y.showWebPanelTitle.bind(y,!0),visible:!Boolean(this.state.SHOW_WEB_PANEL_TITLE)},{name:b("Web panel","Copy Web Panel Address"),handler:y.copyWebPanelAdress.bind(y,e.id)},{name:"---",handler:null},{name:b("Remove Web Panel"),handler:y.removeById.bind(y,e.id)},{name:"---",handler:null},{name:b("Panels"),items:this.getPanelSelectorMenu(),handler:y.removeById.bind(y,e.id)}]},getPanelSelectorMenu:function(){var e=[{name:b("Bookmarks"),handler:this.handlePanelSelector.bind(this,m.getBookmarkName()),type:"checkbox",checked:this.isPanelAvailable(m.getBookmarkName())}];this.state.isMailWindow&&(e=e.concat([{name:b("Mail"),handler:this.handlePanelSelector.bind(this,m.getMailName()),type:"checkbox",checked:this.isPanelAvailable(m.getMailName())},{name:b("Contacts"),handler:this.handlePanelSelector.bind(this,m.getContactName()),type:"checkbox",checked:this.isPanelAvailable(m.getContactName())}])),e=e.concat([{name:b("Downloads"),handler:this.handlePanelSelector.bind(this,m.getDownloadName()),type:"checkbox",checked:this.isPanelAvailable(m.getDownloadName())},{name:b("Notes"),handler:this.handlePanelSelector.bind(this,m.getNotesName()),type:"checkbox",checked:this.isPanelAvailable(m.getNotesName())}]);var t=this.state.webPanels;if(t&&t.length>0){e.push({name:"---",handler:null});for(var n=0;n<t.length;n++){var i=t[n];e.push({name:i.title||i.contentUrl||b("Unknown Web Panel"),mnemonic:!1,handler:this.handlePanelSelector.bind(this,i.id),type:"checkbox",checked:this.isPanelAvailable(i.id)})}}return e},handlePanelSelector:function(e){var t=this.isPanelAvailable(e);t?(this.isPanelOpen(e)&&(m.getAvailablePanelCount()>1?m.getLastAvailablePanel()===e?f.showNextPanel("previous"):f.showNextPanel("next"):f.setContentVisible(!1)),f.setAvailable(e,!1)):(f.setAvailable(e,!0),f.toggleContent(e))},hideToolTip:function(){_.clearTooltip()},renderWebPanel:function(e){var t=this.state.webPanels[e],n=this.state.panelContentVisible&&this.state.selectedPanel===t.id;return r.createElement(S,{key:t.id,isVisible:n,focusContent:this.state.focusContent&&n,id:t.id,src:t.contentUrl,mobileMode:t.mobileMode===!0,ref:t.id,displayTitleArea:this.state.SHOW_WEB_PANEL_TITLE,setWebPanelResource:this.setWebPanelResource})},renderAllWebPanels:function(){var e=[],t=this.state.webPanels;if(t)for(var n=0;n<t.length;n++)t[n].available!==!1&&e.push(this.renderWebPanel(n));return e},renderWebPanelButton:function(e){var t,n,i=this.state.webPanels[e],o=C({webviewbtn:!0,active:this.state.selectedPanel===i.id&&this.state.panelContentVisible===!0});if(this.state.webPanelData&&this.state.webPanelData.length>e){var a=this.state.webPanelData[e];t=a.title,t.length>0&&(t+="\n"),n=a.faviconUrl}return t+=i.contentUrl,r.createElement("button",{key:"button_"+i.id,title:t,className:o,tabIndex:this.state.KEY_ACCESS,onContextMenu:T(this.getContextMenuItems.bind(this,i),this.hideToolTip),onClick:this.setSelected.bind(this,i.id),onDoubleClick:this.setSelected.bind(this,i.id)},r.createElement("img",{src:n,alt:""}))},renderAllWebPanelButtons:function(){var e=[],t=this.state.webPanels;if(t)for(var n=0;n<t.length;n++)t[n].available!==!1&&e.push(this.renderWebPanelButton(n));return e},render:function(){var e=C({bookmarks:!0,active:this.state.selectedPanel===m.getBookmarkName()&&this.state.panelContentVisible===!0}),t=C({contacts:!0,active:this.state.selectedPanel===m.getContactName()&&this.state.panelContentVisible===!0}),i=C({mail:!0,active:this.state.selectedPanel===m.getMailName()&&this.state.panelContentVisible===!0}),o=C({downloads:!0,"in-progress":this.state.downloadItems>0,active:this.state.selectedPanel===m.getDownloadName()&&this.state.panelContentVisible===!0}),a=C({notes:!0,active:this.state.selectedPanel===m.getNotesName()&&this.state.panelContentVisible===!0}),h={left:"left"===this.props.position,right:"right"===this.props.position,button:this.state.panelSwitchVisible,switcher:this.state.panelWidth<=N,icons:this.state.panelWidth>N&&this.state.panelWidth<="40"},f=C(h),g=b("Downloads"),_=this.state.downloadItems;return _>0&&(g=g+" "+b("($1 active transfer)","($1 active transfers)",[this.state.downloadItems])),r.createElement(A,{focusName:"focus_panel",id:"panels-container",ref:"panelsContainer",style:{width:this.state.panelWidth},className:f},r.createElement("div",{id:"panels",ref:"panelElement"},this.state.panelSwitchVisible&&r.createElement("div",{id:"panel_switch",title:b("Toggle Panel"),ref:"panelSwitch",className:this.state.panelWidth<=N?"on":"off",onClick:this.handlePanelSwitch,onDoubleClick:this.handlePanelSwitch}),r.createElement("div",{id:"switch",onContextMenu:T(this.getPanelSelectorMenu,this.hideToolTip)},this.isPanelAvailable(m.getBookmarkName())?r.createElement("button",{title:b("Bookmarks"),className:e,tabIndex:this.state.KEY_ACCESS,onClick:this.setSelected.bind(this,m.getBookmarkName()),onDoubleClick:this.setSelected.bind(this,m.getBookmarkName()),dangerouslySetInnerHTML:{__html:n(569)}}):null,this.isPanelAvailable(m.getMailName())&&this.state.isMailWindow?r.createElement("button",{title:b("Mail"),className:i,tabIndex:this.state.KEY_ACCESS,onClick:this.setSelected.bind(this,m.getMailName()),onDoubleClick:this.setSelected.bind(this,m.getMailName())},r.createElement("span",{dangerouslySetInnerHTML:{__html:n(237)}}),this.state.unreadEmails?r.createElement("div",{className:"itemcounter"},this.state.unreadEmails):null):null,this.isPanelAvailable(m.getContactName())&&this.state.isMailWindow?r.createElement("button",{title:b("Contacts"),className:t,tabIndex:this.state.KEY_ACCESS,onClick:this.setSelected.bind(this,m.getContactName()),onDoubleClick:this.setSelected.bind(this,m.getContactName()),dangerouslySetInnerHTML:{__html:n(570)}}):null,this.isPanelAvailable(m.getDownloadName())?r.createElement("button",{title:g,className:o,tabIndex:this.state.KEY_ACCESS,onClick:this.setSelected.bind(this,m.getDownloadName()),onDoubleClick:this.setSelected.bind(this,m.getDownloadName())},r.createElement("span",{dangerouslySetInnerHTML:{__html:n(571)}}),r.createElement("div",{className:"progress"},r.createElement("div",{className:"loaded",style:{width:this.state.downloadProgress+"%"}}))):null,this.isPanelAvailable(m.getNotesName())?r.createElement("button",{title:b("Notes"),className:a,tabIndex:this.state.KEY_ACCESS,onClick:this.setSelected.bind(this,m.getNotesName()),onDoubleClick:this.setSelected.bind(this,m.getNotesName()),dangerouslySetInnerHTML:{__html:n(572)}}):null,r.createElement("div",{className:"webpanelsgroup"},this.renderAllWebPanelButtons(),r.createElement(s,{addNew:y.addByUrl,keyAccess:this.state.KEY_ACCESS})),r.createElement("button",{title:b("Settings"),className:"preferences",tabIndex:this.state.KEY_ACCESS,onClick:this.showPanelSettings,dangerouslySetInnerHTML:{__html:n(573)}})),r.createElement("div",{className:"panel-group"},r.createElement(l,{key:"panel-bookmarks",keyAccess:this.state.KEY_ACCESS,open:this.isPanelOpen(m.getBookmarkName())}),this.state.isMailWindow?r.createElement(d,{key:"panel-mail",keyAccess:this.state.KEY_ACCESS,open:this.isPanelOpen(m.getMailName())}):null,this.state.isMailWindow?r.createElement(u,{key:"panel-contacts",keyAccess:this.state.KEY_ACCESS,open:this.isPanelOpen(m.getContactName())}):null,r.createElement(c,{key:"panel-downloads",keyAccess:this.state.KEY_ACCESS,open:this.isPanelOpen(m.getDownloadName()),onTransfersUpdated:this.transfersUpdated}),r.createElement(p,{key:"panel-notes",keyAccess:this.state.KEY_ACCESS,open:this.isPanelOpen(m.getNotesName())}),r.createElement("div",{className:this.state.selectedPanel&&this.isWebPanelSelected()?"webpanel-stack":"webpanel-stack hidden"},this.renderAllWebPanels())),r.createElement(v,{onSlidebarMove:this.handlePanelMove,onDoubleClick:this.handleDoubleClick,position:this.props.position})))}});e.exports=D},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(100),a=n(41),s=n(104),l=n(6),u={currentPageId:null,isProgressing:!1,progress:0,bytes:0,bytesDisplayed:0,elLoaded:0,elLoadedDisplayed:0,elTotal:0,isStarted:!1},c=["USE_ANIMATION","USE_TABCOLOR"],A=void 0,d=i.createClass({displayName:"PageloadProgress",mixins:[r],getInitialState:function(){return u},componentWillMount:function(){o.addChangeListener(this._onNavigationStoreChanged)},componentWillUnmount:function(){o.removeChangeListener(this._onNavigationStoreChanged)},componentWillReceiveProps:function(e){var t=e.page;if(void 0!==t&&t.get("id")!==this.state.currentPageId){var n=o.getProgressInfo(t),i=n.get("progress"),r=n.get("loadedBytes"),a=n.get("loadedElements"),s=n.get("totalElements");0===i||1===i||void 0===i?this.setState(Object.assign({},u,{currentPageId:t.get("id")})):this.setState(Object.assign({},u,{currentPageId:t.get("id"),progress:i,bytes:r,elLoaded:a,elTotal:s}))}},_onNavigationStoreChanged:function(){var e=this.props.page,t=o.getProgressInfo(e),n=t.get("progress"),i=o.getNavigationInfo(e).get("trigger"),r=t.get("loadedBytes"),a=t.get("loadedElements"),s=t.get("totalElements");"start"===i?this.setState(Object.assign({},u,{currentPageId:e.get("id"),isStarted:!0,isProgressing:!0,progress:.1})):"stop"===i?this.setState({isProgressing:!1,progress:1}):"commit"===i&&(this.setState({progress:n,elLoaded:a,elTotal:s,bytes:r,isStarted:!0}),this.updateCount())},getIncrement:function(e,t){var n=t-e,i=0;return n>10?i=Math.floor(n/5):n>4?i=2:n>0&&(i=1),e+i},updateCount:function(){var e=this.state.bytes,t=this.state.bytesDisplayed,n=this.state.elLoadedDisplayed,i=this.state.elLoaded;1===this.state.progress&&i<this.state.elTotal&&(i=this.state.elTotal);var r=this.getIncrement(t,e),o=this.getIncrement(n,i);return clearTimeout(A),this.props.vivaldiSettings.USE_ANIMATION===!1?(this.setState({elLoadedDisplayed:i,bytesDisplayed:e}),!1):(i>n&&this.setState({elLoadedDisplayed:o}),e>t&&this.setState({bytesDisplayed:r}),void((i>o||e>r)&&(A=setTimeout(this.updateCount,80))))},render:function(){if(!this.props.open)return null;var e=this.state.progress,t=this.state.bytesDisplayed,n=this.state.elLoadedDisplayed,r=this.state.elTotal,o=this.state.isProgressing,a=t>1048576?1:0,u=this.state.isStarted,c=this.props.vivaldiSettings.USE_TABCOLOR,A=l({pageload:!0,unstarted:!u,progressing:o,"progress-done":1===e}),d=l({"pageload-indicator":!0,"favicon-current-background-color":c});return i.createElement("div",{className:A},i.createElement("progress",{className:d,value:100*this.state.progress,max:100}),i.createElement("div",{className:"pageload-ticker"},s.filesize(t,1024,a)),i.createElement("div",{className:"pageload-ticker"},n+"/"+r))}});e.exports=a(d,c)},function(e,t,n){"use strict";var i=n(1),r=i.createClass({displayName:"ProgressIndicator",getInitialState:function(){return{currentSize:0,totalSize:0,overridePercent:-1}},render:function(){var e=-1;return-1!==this.props.overridePercent?e=this.props.overridePercent:this.props.totalSize&&(e=this.props.currentSize/this.props.totalSize*100),"text"===this.props.type?i.createElement("i",null," ",e," % "):"bar"===this.props.type?-1===e?i.createElement("progress",null):i.createElement("progress",{value:e,max:"100"}):"circular"===this.props.type?i.createElement("i",null," ",e," % "):void 0}});e.exports=r},function(e,t,n){"use strict";var i=n(1),r=n(13),o=n(26),a=n(211),s=n(210).OmniNavigation,l=n(185),u=n(218),c=n(186),A=n(128),d=n(77),h=n(79),p=n(5),f=n(296),m=n(3),g=n(2),v=n(6),_=n(18),E=800,S=175,y=n(7),b=[],C=_.throttle(function(e,t){var n=c.suggest(e,t);b=_.takeRight(b.concat(n),10)},500,{leading:!1}),T=i.createClass({displayName:"SearchField",mixins:[y],propTypes:{defaultSearchEngineId:i.PropTypes.string,searchEngines:i.PropTypes.array,currentSearchEngine:i.PropTypes.object},getInitialState:function(){return{focused:!1,searchWidth:S}},componentWillMount:function(){m.get("SEARCH_FIELD_WIDTH",function(e){this.setState({searchWidth:e||S})}.bind(this)),m.addListener("SEARCH_FIELD_WIDTH",this.onSearchWidthChanged),u.addListener(p.CHANGED,this.onSearchFieldStoreChanged),A.addListener(p.SEARCH_SUGGEST_RESULT,this._onSearchSuggestionsChanged)},componentWillUnmount:function(){m.removeListener("SEARCH_FIELD_WIDTH",this.onSearchWidthChanged),u.removeListener(p.CHANGED,this.onSearchFieldStoreChanged),A.removeListener(p.SEARCH_SUGGEST_RESULT,this._onSearchSuggestionsChanged)},_onSearchSuggestionsChanged:function(e){var t=e.suggestions,n=e.query,i=e.uid;b.includes(i)&&(this.refs.typedHistory.isExpanded()||this.refs.searchEngines.isExpanded()||this.state.editText&&n&&(this.state.editText.startsWith(n)||n.startsWith(this.state.editText))&&this.setState({searchSuggestions:t,isOmniDropdownOpen:(t||[]).length>0}))},onSearchWidthChanged:function(e,t){t!==e&&this.setState({editorHeight:t})},onSearchFieldStoreChanged:function(){var e=this,t=u.getTypedSearchHistory(),n=t.length>0?t.map(function(e){return{Name:e,Id:e}}):[];this.setState({editText:u.getSearchText(this.props.page),typedHistoryStore:n},function(){Array.isArray(n)&&0===n.length&&e.refs.typedHistory&&e.refs.typedHistory.collapse()})},_getDefaultSearchEngine:function(){return _.find(this.props.searchEngines,{Id:parseInt(this.props.defaultSearchEngineId)})},_search:function(e){C.cancel&&C.cancel(),b=[];var t=this.props.currentSearchEngine&&this.props.currentSearchEngine.Url;if(l.setState(this.props.page,{editText:e.value}),!t){var n=this._getDefaultSearchEngine();t=n.Url}e.value&&e.value.length>0&&this.props.onEnterPressed(e.value,t),this.state.isOmniDropdownOpen!==!1&&this._hideDropdown()},onKeyDown:function(e){13===e.keyCode&&this._search(e.target)},onSearchEngineChanged:function(e){this.refs.search.select();var t=_.find(this.props.searchEngines,{Id:e}),n=this.refs.search.value;n.length>0&&this.props.onEnterPressed(n,t.Url),l.setState(this.props.page,{searchEngine:t})},onTypedSearchHistoryClicked:function(e){l.setState(this.props.page,{editText:e});var t=this.props.currentSearchEngine&&this.props.currentSearchEngine.Url;if(!t){var n=_.find(this.props.searchEngines,{Id:parseInt(this.props.defaultSearchEngineId)});t=n.Url}t&&this.props.onEnterPressed(e,t)},onTypedSearchHistoryDeleted:function(e){l.deleteTypedSearchHistory(e.name),this.props.value===e.name&&l.setState(this.props.page,{editText:""})},_hideDropdown:function(){this.setState({isOmniDropdownOpen:!1})},getDropdown:function(){return this.refs.omniDropdown},getSelectionIndex:function(){return this.state.dropdownSelectionIndex},setAutocompleteHighlight:function(e,t){if(this.setState({dropdownSelectionIndex:e}),this.refs.omniDropdown&&(this.selIndex=e,t)){var n=this.refs.omniDropdown.getCurrentValue();""!==n&&(r.findDOMNode(this.refs.search).value=n)}return!1},_esc:function(){this.state.isOmniDropdownOpen===!0?this._hideDropdown():l.setState(this.props.page,{editText:""})},_initializeNavigation:function(){var e=this;this._isNavigationInitialized!==!0&&!function(){var t=new s(e,e._onOmniSaved);e._up=t.up.bind(t),e._down=function(n){return e.state.isOmniDropdownOpen===!0?t.down.apply(t,n):void(n.shiftKey?e.state.typedHistoryStore.length>0&&e.refs.typedHistory.expand():e.refs.searchEngines.expand())},e._pageUp=t.pageUp.bind(t),e._pageDown=t.pageDown.bind(t),o.bind("up",e._up),o.bind(["down","shift+down"],e._down),o.bind("pageup",e._pageUp),o.bind("pagedown",e._pageDown),o.bind("esc",e._esc),e._isNavigationInitialized=!0}()},_cleanupNavigation:function(){if(this._isNavigationInitialized===!0)try{o.unbind("up",this._up),o.unbind(["down","shift+down"],this._down),o.unbind("pageup",this._pageUp),o.unbind("pagedown",this._pageDown),o.unbind("esc",this._esc),this._up=this._down=this._pageUp=this._pageDown=void 0}finally{this._isNavigationInitialized=!1}},onFocus:function(){this.setState({focused:!0}),this._initializeNavigation()},onBlur:function(){this.setState({focused:!1}),this._cleanupNavigation(),this._hideDropdown()},onChange:function(e){var t=e.target;l.setState(this.props.page,{editText:t.value}),t.value.trim()&&t.value.length>1?C(t.value,this.props.currentSearchEngine||this._getDefaultSearchEngine()):this.setState({searchSuggestions:[]}),t.value.trim()||this._hideDropdown()},handleClickOutside:function(e){this._hideDropdown()},handleResize:function(e){var t=this.refs.searchfield,n=t.getBoundingClientRect(),i=n.width+e;return i>E?i=E:S>i&&(i=S),m.set({SEARCH_FIELD_WIDTH:i}),this.setState({searchWidth:i}),!0},focusField:function(){if(this.refs.search){var e=this.refs.search;""!==e.value&&e.select(),e.focus()}},renderSearchEngines:function(){var e=this,t=_.clone(this.props.searchEngines);parseInt(this.props.defaultSearchEngineId>-1)&&t.unshift(t.splice(_.indexOf(t,_.find(t,{Id:this.props.defaultSearchEngineId})),1)[0]),this.props.currentSearchEngine&&this.props.currentSearchEngine.Id>=0&&t.unshift(t.splice(_.indexOf(t,_.find(t,function(t){return t===e.props.currentSearchEngine.Id})),1)[0]);var n=t.map(function(e){return{name:e.Name,icon:e.Image||e.FaviconUrl,shortcut:e.Keyword,noPrettifying:!0,Id:e.Id}});return i.createElement(f,{ref:"searchEngines",type:"search",store:n,value:null!=this.props.currentSearchEngineId?this.props.currentSearchEngineId:this.props.defaultSearchEngineId,onItemClicked:this.onSearchEngineChanged,onClose:this.focusField,minWidth:this.state.searchWidth-2,keyAccess:this.props.keyAccess})},renderTypedSearchHistory:function(){var e=(this.state.typedHistoryStore||[]).map(function(e){return{name:e.Name,Id:e.Id}});return i.createElement(f,{ref:"typedHistory",type:"dropdown",store:e,onItemClicked:this.onTypedSearchHistoryClicked,onClose:this.focusField,onDeleted:this.onTypedSearchHistoryDeleted,minWidth:this.state.searchWidth-2,disabled:!Array.isArray(e)||0===e.length,keyAccess:this.props.keyAccess})},onOmniDropdownItemClicked:function(e,t){var n=r.findDOMNode(this.refs.search);n.value=e.url,this._search(n)},renderDropdown:function(){var e=this,t=(this.state.typedHistoryStore||[]).map(function(t){return t.Name.toLowerCase().startsWith(e.state.editText.toLowerCase())?{id:t.Id,url:t.Name,type:h.OMNI_RESULT_TYPED_HISTORY}:void 0}).filter(function(e){return null!=e}),n=(this.state.searchSuggestions&&this.props.suggestEnabled&&this.state.searchSuggestions||[]).map(function(e){return{id:e,url:e,type:h.OMNI_RESULT_SUGGEST}});return i.createElement(a,{ref:"omniDropdown",pattern:this.state.editText,results:n.concat(t),isOpen:!0,onClose:this._hideDropdown,defaultSearchEngine:this.props.currentSearchEngine||this._getDefaultSearchEngine(),onLinkItemClicked:this.onOmniDropdownItemClicked,suggestEnabled:this.props.suggestEnabled,disableSearch:!0,selectionIndex:this.state.dropdownSelectionIndex,setAutocompleteHighlight:this.setAutocompleteHighlight})},render:function(){if(!this.props.searchEngines)return null;var e=g("verb","Search");e+=this.props.currentSearchEngine&&this.props.currentSearchEngine.Id>=0?" "+this.props.currentSearchEngine.Name:" "+(_.find(this.props.searchEngines,{Id:parseInt(this.props.defaultSearchEngineId)})||this.props.searchEngines[0]).Name;var t=v({searchfield:!0,"favicon-current-border-color":this.props.tabcolor,"iconmenu-container":!0,focused:this.state.focused});return i.createElement("div",{ref:"searchfield",className:t,style:{flexBasis:this.state.searchWidth+"px"}},i.createElement(d,{onSlidebarMove:this.handleResize,position:"right"}),this.renderSearchEngines(),i.createElement("input",{type:"search",ref:"search",onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur,value:this.props.value,onChange:this.onChange,className:"searchfield-input",placeholder:e}),this.state.isOmniDropdownOpen&&this.renderDropdown(),this.renderTypedSearchHistory())}});e.exports=T},function(e,t,n){"use strict";var i=n(1),r=n(24),o=n(2),a=i.createClass({displayName:"RestartBrowserDialog",getInitialState:function(){return{folderName:"",shown:!0,modalShown:!1,parentFolderId:this.props.parentFolderId}},getLayeredComponentRootNode:function(){return this.props.parentDiv},handleClick:function(){this.state.shown&&this.props.onClose(),this.setState({shown:!this.state.shown})},onClose:function(){this.state.shown&&this.props.onClose(),this.setState({shown:!this.state.shown})},onFolderChange:function(e){this.setState({folderName:e.target.value})},keyDown:function(e){13===event.keyCode?this.onCreate():27===event.keyCode&&this.onCancel()},render:function(){return this.state.shown?i.createElement(r,{onRequestClose:this.handleClick},i.createElement("div",{className:"dialog-restart"},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title"},o("Restart required"))),i.createElement("div",{className:"dialog-content"},i.createElement("p",null,o("Please restart the browser for this change to take effect."))),i.createElement("footer",{className:"dialog-footer"},i.createElement("input",{type:"button",className:"primary",onClick:this.onClose,value:o("Close")})))):null}});e.exports=a},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(3),a=n(2),s=n(11),l=r.createClass({displayName:"BiscuitSettings",mixins:[s],vivaldiSettingsKeys:["USE_BISCUIT_MODE"],saveVivaldiSettingFromEvent:function(e,t,n){o.set(i({},e,n.target[t]))},render:function(){return"🐶"!==this.props.filter?null:r.createElement("span",null,r.createElement("h2",null,"Biscuit Area 🐶"),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,"Biscuit Mode"),r.createElement("div",{className:"setting-single"},r.createElement("label",{title:a("Voof!")},r.createElement("input",{type:"checkbox",checked:this.state.USE_BISCUIT_MODE,onChange:this.saveVivaldiSettingFromEvent.bind(this,"USE_BISCUIT_MODE","checked")}),r.createElement("span",null,a("Enable"))))))}});e.exports=l},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(3),a=n(2),s=n(11),l=n(10),u=r.createClass({displayName:"BookmarkSettings",mixins:[s],vivaldiSettingsKeys:["BOOKMARKS_OPEN_IN_NEW_TAB","BOOKMARKS_CONFIRM_BEFORE_OPEN","BOOKMARKS_CONFIRM_THRESHOLD","BOOKMARKS_SINGLE_CLICK_IN_TREE"],minTreshold:1,maxTreshold:99,saveVivaldiSettingFromEvent:function(e,t,n){o.set(i({},e,n.target[t]))},onThresholdChanged:function(e){var t=e.target.value;t&&t%1===0&&t>=this.minTreshold&&t<=this.maxTreshold&&o.set({BOOKMARKS_CONFIRM_THRESHOLD:e.target.value})},render:function(){var e=r.createElement("span",null,r.createElement("h2",null,a("Bookmarks")),r.createElement("div",{className:"setting-group unlimited"},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.BOOKMARKS_OPEN_IN_NEW_TAB,onChange:this.saveVivaldiSettingFromEvent.bind(this,"BOOKMARKS_OPEN_IN_NEW_TAB","checked")}),r.createElement("span",null,a("Open Bookmarks in New Tab")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.BOOKMARKS_SINGLE_CLICK_IN_TREE,onChange:this.saveVivaldiSettingFromEvent.bind(this,"BOOKMARKS_SINGLE_CLICK_IN_TREE","checked")}),r.createElement("span",null,a("Open Bookmark Panel Items with Single Click")))),r.createElement("div",{className:"setting-single max-bookmarks"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.BOOKMARKS_CONFIRM_BEFORE_OPEN,onChange:this.saveVivaldiSettingFromEvent.bind(this,"BOOKMARKS_CONFIRM_BEFORE_OPEN","checked")}),r.createElement("span",null,a("Confirm Opening Bookmarks over Maximum of")),r.createElement("input",{type:"number",disabled:!this.state.BOOKMARKS_CONFIRM_BEFORE_OPEN,defaultValue:this.state.BOOKMARKS_CONFIRM_THRESHOLD,onChange:this.onThresholdChanged,min:this.minTreshold,max:this.maxTreshold})))));return l(e,this.props.filter)}});e.exports=u},function(e,t,n){"use strict";var i=n(5),r=n(2),o=function(e){switch(e){case i.CATEGORY_COMMAND_APPLICATION:return"MacIntel"===navigator.platform?r("mac","Window"):r("win_linux","Window");case i.CATEGORY_COMMAND_APPEARANCE:return"MacIntel"===navigator.platform?r("mac","View"):r("win_linux","View");case i.CATEGORY_COMMAND_TAB_ACTION:return r("Tab");case i.CATEGORY_COMMAND_WEBPAGE_NAVIGATION:return r("Page");case i.CATEGORY_COMMAND_MAIL:return r("Mail");default:return"Unknown"}};e.exports=o},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(104),a=n(2),s=i.createClass({displayName:"CookieItem",getInitialState:function(){return{viewCookies:!1,viewInfo:!1}},deleteCookie:function(e){var t=this,n=Boolean(this.state.viewInfo);n?(this.removeChromeEntry(this.state.viewInfo),this.setState({viewCookies:Boolean(this.props.count>1),viewInfo:!1})):(this.props.item.map(function(e){return t.removeChromeEntry(e)}),this.setState({viewCookies:!1,viewInfo:!1})),e.stopPropagation()},removeChromeEntry:function(e){var t="http"+(e.secure?"s":"")+"://",n=t+e.domain+e.path,i={url:n,name:e.name};r.cookies.remove(i,function(e){this.props.onCookieDelete(e)}.bind(this))},showDetail:function(){this.setState({viewCookies:!this.state.viewCookies,viewInfo:this.state.viewCookies===!0?!1:this.state.viewInfo})},showInfo:function(e){this.setState({viewInfo:e})},renderCookies:function(){var e=this;return this.props.item.map(function(t){return i.createElement("a",{tabIndex:"0",key:"cookie-"+t.name.toLowerCase(),onFocus:e.showInfo.bind(e,t)},t.name)})},renderInfo:function(){return i.createElement("dl",null,i.createElement("dt",null,a("Expires:")),i.createElement("dd",null,o.date("Y/n/j H:i",this.state.viewInfo.expirationDate)),i.createElement("dt",null,a("Path:")),i.createElement("dd",null,this.state.viewInfo.path),i.createElement("dt",null,a("Host Only:")),i.createElement("dd",null,this.state.viewInfo.hostOnly.toString()),i.createElement("dt",null,a("HTTP Only:")),i.createElement("dd",null,this.state.viewInfo.httpOnly.toString()),i.createElement("dt",null,a("Session:")),i.createElement("dd",null,this.state.viewInfo.session.toString()),i.createElement("dt",null,a("Secure:")),i.createElement("dd",null,this.state.viewInfo.secure.toString()),i.createElement("dt",null,a("Value:")),i.createElement("dd",null,this.state.viewInfo.value))},render:function(){return i.createElement("li",null,i.createElement("div",{className:"overview",onClick:this.showDetail},i.createElement("span",null,this.props.domain,!this.state.viewCookies&&i.createElement("span",{className:"count"},this.props.count)),i.createElement("span",{className:"controls"},i.createElement("input",{type:"button",className:"circular clearkey",title:a(this.state.viewInfo?"Delete selected cookie":"Delete cookies"),onClick:this.deleteCookie}))),this.state.viewCookies&&i.createElement("div",{className:"detail"},this.renderCookies(),this.state.viewInfo&&i.createElement("div",{className:"info"},this.renderInfo())))}});e.exports=s},function(e,t,n){"use strict";var i=n(1),r=n(200),o=n(24),a=i.createClass({displayName:"CookieManagerDialog",handleClick:function(){var e={dialogText:this.state.value};this.state.shown&&this.props.onCloseBM(e),this.setState({shown:!this.state.shown})},getInitialState:function(){return{msg:"",shown:!0,modalShown:!1}},getLayeredComponentRootNode:function(){return this.props.parentDiv},componentWillReceiveProps:function(e){this.setState({shown:!0})},render:function(){return i.createElement(o,{onRequestClose:this.handleClick,dialogWidth:600},i.createElement(r,{onClose:this.handleClick}))}});e.exports=a},function(e,t,n){"use strict";var i=n(1),r=n(8),o=n(30),a=n(2),s=n(10),l=i.createClass({displayName:"CookieSettings",getInitialState:function(){return{cookieSetting:"",blockThirdParty:!1}},componentWillMount:function(){r.importData.getDefaultContentSettings("cookies",function(e){this.setState({cookieSetting:e})}.bind(this)),r.importData.getBlockThirdPartyCookies(function(e){this.setState({blockThirdParty:e
})}.bind(this))},checkChange:function(){r.importData.setBlockThirdPartyCookies(!this.state.blockThirdParty,function(e){}.bind(this)),this.setState({blockThirdParty:!this.state.blockThirdParty})},handleChange:function(e){var t=e.target.value;this.setState({cookieSetting:t}),r.importData.setDefaultContentSettings("cookies",t,function(e){})},showCookieManager:function(){this.props.showCookieManager()},render:function(){var e=i.createElement("span",null,i.createElement("h2",null,a("Cookies")),i.createElement("div",{className:"setting-group"},i.createElement("h3",null,a("Accept Cookies")),i.createElement(o,{className:"cookieSelection",name:"cookieSelGroup",ref:"cookieSelGroup",value:this.state.cookieSetting,onChange:this.handleChange},i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"allow"}),i.createElement("span",null,a("All")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"session_only"}),i.createElement("span",null,a("Session Only")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"block"}),i.createElement("span",null,a("Never")))))),i.createElement("div",{className:"setting-group"},i.createElement("h3",null,a("Third-Party Cookies")),i.createElement("div",{className:"setting-single"},i.createElement("label",{title:a("Block Third-Party Cookies")},i.createElement("input",{type:"checkbox",checked:this.state.blockThirdParty,onChange:this.checkChange}),i.createElement("span",null,a("Block Third-Party Cookies"))))));return s(e,this.props.filter)}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(8),o=n(2),a=n(10),s="intl.charset_default",l=i.createClass({displayName:"DefaultEncoding",getInitialState:function(){return{availableEncodings:[],defaultCharset:""}},componentWillMount:function(){var e=this;r.settings.onChanged.addListener(this.encodingSetingsChanged),r.settings.getPreference(s,function(t){e.setLocalState(t.preferenceValue.string)}),r.utilities.getAvailablePageEncodings(function(t){e.setState({availableEncodings:t})})},componentWillUnmount:function(){r.settings.onChanged.removeListener(this.encodingSetingsChanged)},setLocalState:function(e){this.setState({defaultCharset:e})},encodingSetingsChanged:function(e){e.preferenceKey===s&&this.setLocalState(e.preferenceValue.string)},encodingChanged:function(e){this.saveCharsetValue(e.target.value)},saveCharsetValue:function(e){this.setLocalState(e);var t={preferenceKey:s,preferenceValue:{string:e},preferenceType:"string"};r.settings.setPreference(t)},render:function(){var e=this.state.availableEncodings.map(function(e){return i.createElement("option",{key:e.encoding,value:e.encoding},e.name)}),t=i.createElement("select",{onChange:this.encodingChanged,value:this.state.defaultCharset},e),n=i.createElement("div",{className:"setting-group"},i.createElement("h3",null,o("Default Character Encoding")),t);return a(n,this.props.filter)}});e.exports=l},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(3),a=n(10),s=n(124),l=n(8),u=n(2),c=r.createClass({displayName:"DefaultGlobalZoom",getInitialState:function(){return{defaultGlobalZoom:1}},componentWillMount:function(){var e=this;l.zoom.getDefaultZoom(function(t){e.setState({defaultGlobalZoom:t})}),l.zoom.onDefaultZoomChanged.addListener(this.updateLocalState)},componentWillUnmount:function(){l.zoom.onDefaultZoomChanged.removeListener(this.updateLocalState)},updateLocalState:function(e){this.setState({defaultGlobalZoom:e})},saveVivaldiSettingFromEvent:function(e,t,n){o.set(i({},e,n.target[t]))},handleZoomUpdated:function(e){l.zoom.setDefaultZoom(e)},render:function(){var e=r.createElement("div",{className:"setting-group unlimited"},r.createElement("h3",null,u("Default Webpage Zoom")),r.createElement("div",{className:"setting-single"},r.createElement("div",{id:"zoom_control"},r.createElement(s,{ref:"zoomslider",maxLevel:2,minLevel:.5,step:.05,initialZoom:this.state.defaultGlobalZoom,onZoomUpdated:this.handleZoomUpdated}))));return a(e,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(8),a=n(2),s=n(10),l=n(3),u=n(11),c=r.createClass({displayName:"DownloadSettings",mixins:[u],vivaldiSettingsKeys:["AUTOMATICALLY_DOWNLOAD_FILES","SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS"],getInitialState:function(){return{defaultDir:l.getSync("download.default_directory")}},saveVivaldiSettingFromEvent:function(e,t,n){l.set(i({},e,n.target[t]))},handleDownloadDirectoryChange:function(e){var t=e.target.value;this.setState({defaultDir:t});var n={preferenceKey:"download.default_directory",preferenceValue:{string:t},preferenceType:"string"};o.settings.setPreference(n)},render:function(){var e=r.createElement("div",{className:"setting-group unlimited"},r.createElement("h2",null,a("Downloads")),r.createElement("div",{className:"setting-subgroup"},r.createElement("h3",null,a("Download Location")),r.createElement("div",{className:"setting-single"},r.createElement("input",{type:"text",value:this.state.defaultDir,title:a("Enter default download directory path"),onChange:this.handleDownloadDirectoryChange})),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.AUTOMATICALLY_DOWNLOAD_FILES,onChange:this.saveVivaldiSettingFromEvent.bind(this,"AUTOMATICALLY_DOWNLOAD_FILES","checked")}),r.createElement("span",null,a("Always Save Files to Default Download Location")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS","checked")}),r.createElement("span",null,a("Open Download Panel Automatically"))))));return s(e,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=n(1),a=n(8),s=n(2),l=n(10),u=n(4),c=n(65),A=9,d=2,h=99,p="webkit.webprefs.minimum_font_size",f="webkit.webprefs.fonts.standard.Zyyy",m="webkit.webprefs.fonts.fixed.Zyyy",g="webkit.webprefs.fonts.serif.Zyyy",v="webkit.webprefs.fonts.sansserif.Zyyy",_="webkit.webprefs.fonts.cursive.Zyyy",E="webkit.webprefs.fonts.fantasy.Zyyy",S={standard:{localizedFamily:s("Standard")},sansserif:{localizedFamily:s("Sans-serif")},serif:{localizedFamily:s("Serif")},fixed:{localizedFamily:s("Monospaced")},cursive:{localizedFamily:s("Cursive")},fantasy:{localizedFamily:s("Fantasy")}},y=o.createClass({displayName:"Fonts",getInitialState:function(){return{minFontSize:0,fontList:[],fonts:{}}},componentWillMount:function(){var e=this;this.updateLocalState(),a.settings.onChanged.addListener(this.onFontSizeChanged),u.fontSettings.onFontChanged.addListener(function(t){var n=c(e.state,{fonts:{$merge:i({},t.genericFamily,{font:t.fontId,localizedFamily:S[t.genericFamily].localizedFamily})}});e.setState(n)}),u.fontSettings.getFontList(function(t){e.setState({fontList:t})}),this.mapObject(S,function(t,n){u.fontSettings.getFont({genericFamily:t},function(r){var o=c(e.state,{fonts:{$merge:i({},t,{font:r.fontId,localizedFamily:n.localizedFamily})}});e.setState(o)})})},mapObject:function(e,t){return Object.keys(e).map(function(n){return t(n,e[n])})},componentWillUnmount:function(){a.settings.onChanged.removeListener(this.onFontSizeChanged)},updateLocalState:function(){var e=this;a.settings.getPreference(p,function(t){e.setState({minFontSize:t.preferenceValue.integer})})},handleFontSizeSetting:function(e){var t=e.target.checked;t?this.handleFontSizeChanged(A,!0):this.handleFontSizeChanged(0,!0)},handleFontSizeChanged:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=void 0;if(n="object"===("undefined"==typeof e?"undefined":r(e))?e.target.value:e,this.setState({minFontSize:n}),"number"==typeof parseInt(n)&&(!t&&n>=d&&h>=n||t)){var i={preferenceKey:p,preferenceValue:{integer:parseInt(n)},preferenceType:"integer"};a.settings.setPreference(i)}},onFontSizeChanged:function(e){e.preferenceKey===p&&this.setState({minFontSize:e.preferenceValue.integer})},changeHandler:function(e,t){var n=f;switch(e){case"standard":n=f;break;case"fantasy":n=E;break;case"fixed":n=m;break;case"sansserif":n=v;break;case"serif":n=g;break;case"cursive":n=_}var i={preferenceKey:n,preferenceValue:{string:t.target.value},preferenceType:"string"};a.settings.setPreference(i)},renderOptions:function(){var e=parseInt(this.state.minFontSize),t=[9,10,11,12,14,16,18,24];return-1===t.indexOf(e)&&(t.push(e),t=t.sort(function(e,t){return e-t})),t.map(function(e){return o.createElement("option",{key:e},e)})},render:function(){var e=this,t=this.state.fontList.map(function(e){return o.createElement("option",{key:e.fontId,value:e.fontId},e.displayName)}),n=o.createElement("div",{className:"fontSlider"},o.createElement("h2",null,s("Fonts")),o.createElement("h3",null,s("Minimum Font Size")),o.createElement("div",{className:"setting-group unlimited"},o.createElement("label",null,o.createElement("input",{type:"checkbox",onChange:this.handleFontSizeSetting,checked:0!==this.state.minFontSize}),o.createElement("span",null,s("Limit minimum font size to")),o.createElement("span",{className:"fake-dataset"},o.createElement("input",{type:"text",value:0===this.state.minFontSize?A:this.state.minFontSize,onChange:this.handleFontSizeChanged,onBlur:this.updateLocalState,disabled:0===this.state.minFontSize}),o.createElement("select",{value:this.state.minFontSize,onChange:this.handleFontSizeChanged,disabled:0===this.state.minFontSize},this.renderOptions())))),o.createElement("div",{className:"font-face-list"},o.createElement("h3",null,s("Default Fonts")),o.createElement("div",{className:"setting-single"},this.mapObject(this.state.fonts,function(n,i){return o.createElement("label",{key:n},o.createElement("span",null,i.localizedFamily),o.createElement("select",{onChange:e.changeHandler.bind(e,n),value:i.font},t))}))));return l(n,this.props.filter)}});e.exports=y},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(2),a=n(10),s=n(30),l=n(3),u=n(11),c=n(8),A=r.createClass({displayName:"FullKeyAccess",mixins:[u],vivaldiSettingsKeys:["KEY_ACCESS","KEY_ACCESS_OS_DEFAULT","FOCUS_CYCLE_TRAP"],getInitialState:function(){return{macKeyUIMode:null}},componentWillMount:function(){var e=this;"MacIntel"===navigator.platform&&c.settings.getPreference("vivaldi.apple_keyboard_ui_mode",function(t){e.setState({macKeyUIMode:t.preferenceValue.number})})},saveVivaldiSettingFromEvent:function(e,t,n){l.set(i({},e,n.target[t]))},handleDarwinKeyAccess:function(e){var t=e.target.checked;t||"-1"===this.state.KEY_ACCESS?t&&2===this.state.macKeyUIMode&&"0"!==this.state.KEY_ACCESS?l.set({KEY_ACCESS:"0"}):t&&0===this.state.macKeyUIMode&&"-1"!==this.state.KEY_ACCESS&&l.set({KEY_ACCESS:"-1"}):l.set({KEY_ACCESS:"-1"}),l.set({KEY_ACCESS_OS_DEFAULT:t})},render:function(){var e=r.createElement("div",null,r.createElement("div",{className:"setting-group"},r.createElement("h3",null,o("Full Keyboard Access")),"MacIntel"===navigator.platform&&r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.KEY_ACCESS_OS_DEFAULT,onChange:this.handleDarwinKeyAccess}),r.createElement("span",null,o("Inherit from System Preferences")))),r.createElement(s,{name:"keyAccessSetting",ref:"keyAccessGroup",className:"setting-single",value:this.state.KEY_ACCESS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"KEY_ACCESS","value")},r.createElement("label",null,r.createElement("input",{type:"radio",value:"0",disabled:this.state.KEY_ACCESS_OS_DEFAULT}),r.createElement("span",null,o("Enable"))),r.createElement("p",{className:"info"},o("Press TAB key to focus all controls")),r.createElement("label",null,r.createElement("input",{type:"radio",value:"-1",disabled:this.state.KEY_ACCESS_OS_DEFAULT}),r.createElement("span",null,o("Disable"))),r.createElement("p",{className:"info"},o("Press TAB key to focus text boxes and lists only")))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,o("Toolbar Focus Cycling")),r.createElement(s,{name:"toolbarFocusCycling",ref:"keyAccessGroup",className:"setting-single",value:this.state.FOCUS_CYCLE_TRAP,onChange:this.saveVivaldiSettingFromEvent.bind(this,"FOCUS_CYCLE_TRAP","value")},r.createElement("label",null,r.createElement("input",{type:"radio",value:!0}),r.createElement("span",null,o("Enable"))),r.createElement("p",{className:"info"},o("TAB key focus is bound to individual toolbars or webpage")),r.createElement("label",null,r.createElement("input",{type:"radio",value:!1}),r.createElement("span",null,o("Disable"))),r.createElement("p",{className:"info"},o("TAB key focus cycles through whole application")))));return a(e,this.props.filter)}});e.exports=A},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(2),a=n(10),s=n(3),l=n(11),u=r.createClass({displayName:"ConfigureSingleKeyShortcut",mixins:[l],vivaldiSettingsKeys:["DISABLE_SINGLE_KEY_SHORTCUTS","DISABLE_KEYBOARD_SHORTCUTS"],saveVivaldiSettingFromEvent:function(e,t,n){s.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("div",{className:"setting-group unlimited"},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.DISABLE_KEYBOARD_SHORTCUTS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"DISABLE_KEYBOARD_SHORTCUTS","checked")}),r.createElement("span",null,o("Disable All Keyboard Shortcuts")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.DISABLE_SINGLE_KEY_SHORTCUTS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"DISABLE_SINGLE_KEY_SHORTCUTS","checked"),disabled:this.state.DISABLE_KEYBOARD_SHORTCUTS}),r.createElement("span",null,o("Disable Single Key Shortcuts")))));return a(e,this.props.filter)}});e.exports=u},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(8),a=n(24),s=n(2),l=n(10),u=i.createClass({displayName:"LanguageSetting",getInitialState:function(){return{initialLanguage:r.i18n.getUILanguage(),language:r.i18n.getUILanguage(),confirmation:!1}},componentWillMount:function(){this.locales=[{key:"ar",value:"العربية – "+s("Arabic")},{key:"be",value:"Беларуская – "+s("Belarusian")},{key:"bg",value:"български – "+s("Bulgarian")},{key:"ca",value:"Català – "+s("Catalan")},{key:"cs",value:"Čeština – "+s("Czech")},{key:"da",value:"Dansk – "+s("Danish")},{key:"de",value:"Deutsch – "+s("German")},{key:"el",value:"Ελληνικά – "+s("Greek")},{key:"en-US",value:"English – "+s("English")},{key:"es",value:"Español – "+s("Spanish")},{key:"es-PE",value:"Español (Perú) – "+s("Spanish (Peru)")},{key:"et",value:"Eesti keel – "+s("Estonian")},{key:"eu",value:"Euskara – "+s("Basque")},{key:"fa",value:"فارسی – "+s("Persian")},{key:"fi",value:"Suomi – "+s("Finnish")},{key:"fr",value:"Français – "+s("French")},{key:"fy",value:"Frysk – "+s("Frisian")},{key:"gl",value:"Galego – "+s("Galician")},{key:"hu",value:"Magyar – "+s("Hungarian")},{key:"hr",value:"Hrvatski – "+s("Croatian")},{key:"hy",value:"Հայերեն – "+s("Armenian")},{key:"id",value:"Bahasa Indonesia – "+s("Indonesian")},{key:"io",value:"Ido – "+s("Ido")},{key:"is",value:"Íslenska – "+s("Icelandic")},{key:"it",value:"Italiano – "+s("Italian")},{key:"ja",value:"日本語 – "+s("Japanese")},{key:"jbo",value:"lo banjubu'o – "+s("Lojban")},{key:"ka",value:"ქართული ენა – "+s("Georgian")},{key:"ko",value:"한국어 – "+s("Korean")},{key:"ku",value:"کوردی – "+s("Kurdish")},{key:"lt",value:"Lietuvių – "+s("Lithuanian")},{key:"lv",value:"Latviešu – "+s("Latvian")},{key:"mk",value:"Македонски – "+s("Macedonian")},{key:"nb",value:"Norsk (bokmål) – "+s("Norwegian (Bokmål)")},{key:"nn",value:"Norsk (nynorsk) – "+s("Norwegian (Nynorsk)")},{key:"nl",value:"Nederlands – "+s("Dutch")},{key:"pl",value:"Polski – "+s("Polish")},{key:"pt-BR",value:"Português (Brasil) – "+s("Portuguese (Brazil)")},{key:"pt-PT",value:"Português (Europeu) – "+s("Portuguese (Portugal)")},{key:"ro",value:"Română – "+s("Romanian")},{key:"ru",value:"Русский – "+s("Russian")},{key:"sc",value:"Sardu – "+s("Sardinian")},{key:"sk",value:"Slovenčina – "+s("Slovak")},{key:"sl",value:"Slovenski – "+s("Slovenian")},{key:"sq",value:"Shqip – "+s("Albanian")},{key:"sr",value:"Српски – "+s("Serbian")},{key:"sv",value:"Svenska – "+s("Swedish")},{key:"tr",value:"Türkçe – "+s("Turkish")},{key:"uk",value:"Українська – "+s("Ukrainian")},{key:"vi",value:"Tiếng Việt – "+s("Vietnamese")},{key:"zh-CN",value:"简体中文 – "+s("Chinese (China)")},{key:"zh-TW",value:"正體中文 – "+s("Chinese (Taiwan)")}],this.locales.sort(function(e,t){return e.value.localeCompare(t.value)})},langChanged:function(e){this.setState({language:e.target.value})},saveLanguage:function(){var e=this;o.importData.setVivaldiLanguage(this.state.language,function(t){e.setState({initialLanguage:e.state.language,confirmation:!1})})},confirmLanguageChange:function(){this.setState({confirmation:!0})},onCancel:function(){this.setState({confirmation:!1})},keyDownModal:function(e){27===e.keyCode&&this.onCancel()},renderModal:function(){var e=this,t=this.locales.find(function(t){return t.key===e.state.language});return i.createElement(a,{dialogWidth:400},i.createElement("div",{className:"dialog-restore-shortcuts"},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title"},s("Save New Language?"))),i.createElement("div",{className:"dialog-content",onKeyDown:this.keyDownModal},i.createElement("p",null,s("Vivaldi user interface language will be set to:")),i.createElement("p",null,i.createElement("strong",null,t.value)),i.createElement("p",null,s("Browser restart is required for new setting to take effect."))),i.createElement("footer",{className:"dialog-footer",onKeyDown:this.keyDownModal},i.createElement("input",{type:"button",className:"danger",onClick:this.saveLanguage,value:s("Save Language")}),i.createElement("input",{type:"button",onClick:this.onCancel,value:s("Cancel"),autoFocus:!0}))))},render:function(){var e=i.createElement("div",null,this.state.confirmation&&this.renderModal(),i.createElement("h2",null,s("Language")),i.createElement("form",{className:"setting-group",onSubmit:this.confirmLanguageChange},i.createElement("h3",null,s("Change User Interface Language")),i.createElement("p",{className:"info"},s("This setting requires a restart to take full effect.")),i.createElement("div",{className:"setting-single"},i.createElement("select",{onChange:this.langChanged,value:this.state.language},this.locales.map(function(e){return i.createElement("option",{key:e.key,value:e.key},e.value)})),i.createElement("input",{type:"submit",className:"primary",disabled:this.state.language===this.state.initialLanguage,value:s("Save Language")}))));return l(e,this.props.filter)}});e.exports=u},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(8),a=n(2),s=n(10),l=n(3),u=n(11),c=r.createClass({displayName:"Privacy",mixins:[u],vivaldiSettingsKeys:["ADDRESS_BAR_SUGGEST_ENABLED","DISABLE_DIAGNOSTICS","SEARCH_FIELD_SUGGEST_ENABLED","URLBAR_SEARCH_DISABLED"],getInitialState:function(){return{"alternate_error_pages.enabled":!1,"safebrowsing.enabled":!1,"safebrowsing.extended_reporting_enabled":!1,enable_do_not_track:!1,"search.suggest_enabled":!1}},componentWillMount:function(){var e=this,t=function(t){return e.setState(t)},n=function(e,t){for(var n={},i=0;i<e.length;i++)"alternate_error_pages.enabled"===e[i].preferenceKey&&(n["alternate_error_pages.enabled"]=e[i].preferenceValue["boolean"]),"safebrowsing.extended_reporting_enabled"===e[i].preferenceKey&&(n["safebrowsing.extended_reporting_enabled"]=e[i].preferenceValue["boolean"]),"safebrowsing.enabled"===e[i].preferenceKey&&(n["safebrowsing.enabled"]=e[i].preferenceValue["boolean"]),"search.suggest_enabled"===e[i].preferenceKey&&(n["search.suggest_enabled"]=e[i].preferenceValue["boolean"]),"enable_do_not_track"===e[i].preferenceKey&&(n.enable_do_not_track=e[i].preferenceValue["boolean"]);t(n)}.bind(this);o.settings.getAllPreferences(function(e){return n(e,t)})},handleVivaldiSettingsChanged:function(e){l.set(i({},e,!this.state[e]))},handleSettingsChange:function(e){o.settings.togglePreference(e,function(t){var n={};n[e]=t,this.setState(n)}.bind(this))},render:function(){var e=r.createElement("span",null,r.createElement("h2",null,a("Privacy")),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,a("Third Party Services")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state["safebrowsing.enabled"],onChange:this.handleSettingsChange.bind(this,"safebrowsing.enabled")}),r.createElement("span",null,a("Enable Google Phishing and Malware Protection")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state["safebrowsing.extended_reporting_enabled"],onChange:this.handleSettingsChange.bind(this,"safebrowsing.extended_reporting_enabled")}),r.createElement("span",null,a("Report Safe Browsing Incidents to Google")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:!this.state.URLBAR_SEARCH_DISABLED,onChange:this.handleVivaldiSettingsChanged.bind(this,"URLBAR_SEARCH_DISABLED")}),r.createElement("span",null,a("Enable Search in Address Field")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.ADDRESS_BAR_SUGGEST_ENABLED,onChange:this.handleVivaldiSettingsChanged.bind(this,"ADDRESS_BAR_SUGGEST_ENABLED")}),r.createElement("span",null,a("Enable Search Suggestions in Address Field")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.SEARCH_FIELD_SUGGEST_ENABLED,onChange:this.handleVivaldiSettingsChanged.bind(this,"SEARCH_FIELD_SUGGEST_ENABLED")}),r.createElement("span",null,a("Enable Search Suggestions in Search Field"))))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,a("Do Not Track")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.enable_do_not_track,onChange:this.handleSettingsChange.bind(this,"enable_do_not_track")}),r.createElement("span",null,a("Ask Websites Not to Track Me")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:!this.state.DISABLE_DIAGNOSTICS,onChange:this.handleVivaldiSettingsChanged.bind(this,"DISABLE_DIAGNOSTICS")}),r.createElement("span",null,a("Report Diagnostics"))))));return s(e,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(201),a=n(83),s=n(6),l=i.createClass({displayName:"QuickCommandItem",getInitialState:function(){return{keyValue:this.props.commandObj.command.shortcut}},cancel:function(){this.props.onCancel()},saveKey:function(e,t){var n={};n[e]=t,this.setState({keyValue:t}),r.set(n),this.props.onCancel()},handleClick:function(e){this.props.editing||this.props.onExecute(this.props.commandObj),e.stopPropagation(),e.preventDefault()},mouseOver:function(e){this.props.onMouseOver(e,this.props.commandObj),e.stopPropagation(),e.preventDefault()},handleEdit:function(e){},render:function(){return i.createElement("li",{"data-selected":this.props.selected?"":null,className:s({"quick-command":!0,editing:this.props.editing}),onClick:this.handleClick,onMouseOver:this.mouseOver},this.props.commandObj.imageUrl&&i.createElement("img",{className:"quick-command-favicon",src:this.props.commandObj.imageUrl}),i.createElement("span",{className:"quick-command-title"},this.props.commandObj.name),""!==this.props.commandObj.url&&i.createElement("span",{className:"quick-command-url"},this.props.commandObj.url),""!==this.state.keyValue&&i.createElement("span",{className:"view quick-command-meta",onClick:"command"===this.props.commandObj.type?this.handleEdit:null},a(this.state.keyValue)),""!==this.props.commandObj.meta&&i.createElement("span",{className:"view quick-command-meta"},this.props.commandObj.meta),this.props.editing&&i.createElement(o,{setFocus:!0,command:this.props.commandObj,editing:this.props.editing,onCancel:this.cancel,onSave:this.saveKey,key:this.props.commandObj.key}))}});e.exports=l},function(e,t,n){"use strict";var i=n(61),r=n(58),o=n(35),a=n(41),s=n(25),l=n(191),u=n(15),c=n(372),A=n(1),d=n(13),h=n(192),p=n(2),f=n(4),m=n(32),g=m.ensureURLProtocol,v=m.isUrlNavigable,_=n(19),E=_.urls,S=n(18),y=n(101),b=n(52),C=p("Filter Quick Commands"),T=["SEARCH_ENGINES","DEFAULT_SEARCH_ENGINE","QUICK_COMMAND_OPEN_URL_IN_NEW_TAB","QC_LAUNCH_BOOKMARK_ON_NICK_MATCH"],I=A.createClass({displayName:"QuickCommandSearch",mixins:[l,h,b],mouseX:0,mouseY:0,getInitialState:function(){return{quickCommandSearchValue:"",typeAheadHint:C,selected:"",editingCommandId:null,bookmarkCache:[],bookmarkNicks:[],bookmarkFolders:[],historyArr:[],currentSearchEngine:null,openTabs:[]}},componentWillMount:function(){var e=this;this.setMultiSelectInMixin(!1),this.setState({bookmarkCache:i.getBookmarksRootNode()}),f.tabs.query({windowType:"normal"},function(t){t.forEach(function(e){e.type="openTab",e.command=y.tabToPage(e)}),e.setState({openTabs:t}),t.length>0&&e.selectById(t[0].id)})},componentDidUpdate:function(e,t){return t.quickCommandSearchValue!==this.state.quickCommandSearchValue&&"/."===this.state.quickCommandSearchValue?(u.newPage("http://slashdot.org/"),void this.props.onClose()):void 0},componentWillUnmount:function(){this.KeyboardNavigationMixinOnBlur()},componentWillUpdate:function(e,t){this.state.navigationModel.clear()},onCancel:function(){this.setState({editingCommandId:null}),this.KeyboardNavigationMixinOnFocus(),this.refs.quickCommand.focus()},onQuickCommandSearchKeyDown:function(e){e.keyCode===s.KEY_ESCAPE&&(e.stopPropagation(),e.preventDefault())},onQuickCommandSearchKeyUp:function(e){if(this.setState({editingCommandId:null}),e.keyCode===s.KEY_ESCAPE)this.state.quickCommandSearchValue.length>0?this.setState({quickCommandSearchValue:"",typeAheadHint:C}):this.props.onClose(),e.stopPropagation(),e.preventDefault();else if(e.keyCode===s.KEY_RETURN){var t=this.SelectionMixinGetSelected();this.executeCommand(this.getCommandByStringId(t))}},getCommandByStringId:function(e){for(var t=this.getActions(),n=0;n<t.length;n++)if(t[n].id===e)return t[n]},executeCommand:function(e){var t=this;if(this.props.onClose(),e&&e.hasOwnProperty("type"))if("openTab"===e.type)f.windows.update(e.command.get("windowId"),{focused:!0},function(){f.tabs.update(e.command.get("id"),{active:!0})});else if("bookmarkNick"===e.type){var n={};n.bookmarks=[{url:e.command.url}],this.props.vivaldiSettings.QUICK_COMMAND_OPEN_URL_IN_NEW_TAB===!0?n.newTab=!0:n.inCurrent=!0,this.open(n,!1)}else if("url"===e.type){var i=e.name.trim();i.toLowerCase().startsWith("javascript:")?u.openURL(i,{inCurrent:!0}):u.openURL(g(i),this.props.vivaldiSettings.QUICK_COMMAND_OPEN_URL_IN_NEW_TAB?{}:{inCurrent:!0})}else"search"===e.type?u.newPage(e.value):"command"===e.type?r.executeActions(e.id):"history"===e.type?u.newPage(e.command.url):"bookmarkFolders"===e.type&&!function(){var n=[];f.bookmarks.getSubTree(e.command.id,function(e){e[0].children.forEach(function(e){e.url&&n.push(e)});var i={};t.props.vivaldiSettings.QUICK_COMMAND_OPEN_URL_IN_NEW_TAB===!0?i.newTab=!0:i.inCurrent=!0,i.bookmarks=n,t.open(i,!0)})}()},searchChange:function(e){var t=this,n=null,i=e.target.value,r=this.props.vivaldiSettings.SEARCH_ENGINES;if(i.length>0&&i.indexOf(" ")>=1)for(var o=i.substring(0,i.indexOf(" ")),a=0;a<r.length;a++)if(r[a].Keyword===o){n=r[a];break}f.history.search({text:i,maxResults:10},function(e){t.setState({historyArr:e})}),i.length>0&&f.bookmarks.search(i,function(e){t.setState({bookmarkNicks:e,bookmarkFolders:e.filter(function(e){return!e.url})})}),this.setState({quickCommandSearchValue:i,currentSearchEngine:n});var s=this.findNickName(this.state.bookmarkCache,i);s.id?(this.selectById(s.id),this.props.vivaldiSettings.QC_LAUNCH_BOOKMARK_ON_NICK_MATCH&&this.executeCommand(this.getCommandByStringId(s.id))):(this.resetSelectionModel(),this.hintChange(i))},findNickName:function(e,t){if(!e||!t)return!1;if(e.nickname===t)return e;if(e.children)for(var n=0;n<e.children.length;n++){var i=this.findNickName(e.children[n],t);if(i)return i}return!1},hintChange:function(e){if(e===C||""===e)this.setState({typeAheadHint:C});else{var t=this.SelectionMixinGetSelected(),n=this.getCommandByStringId(t),i=this.refs.quickCommand.value;if(-1===t||"search"===n.type||"url"===n.type)this.setState({typeAheadHint:""});else if(""===i)this.setState({typeAheadHint:n.name});else{var r=void 0;r="bookmarkNick"===n.type&&n.meta.toLowerCase()===i.toLowerCase()?" – "+n.name:0===n.name.toLowerCase().indexOf(i.toLowerCase())?n.name.substring(i.length,n.name.length):-1!==n.name.toLowerCase().indexOf(i)?n.name.substring(n.name.toLowerCase().indexOf(i.toLowerCase())+i.length,n.name.length):n.url.substring(n.url.toLowerCase().indexOf(i.toLowerCase())+i.length,n.url.length),this.setState({typeAheadHint:i+r})}}},selectById:function(e){this.SelectionMixinSelectItem(e);var t=this.getCommandByStringId(e),n=this.refs.selected?d.findDOMNode(this.refs.selected):null;if(n){var i=this.refs.quickCommands,r=n.offsetTop-i.scrollTop;r>252?i.scrollTop=n.offsetTop-252:0>r&&(i.scrollTop=n.offsetTop),this.hintChange(t.name?t.name:"")}},onEdit:function(e,t){this.SelectionMixinSelectItem(e.id,t.ctrlKey,t.shiftKey,2===t.button),this.setState({editingCommandId:e.id})},select:function(e,t,n){this.SelectionMixinSelectItem(n,t.ctrlKey,t.shiftKey,2===t.button),this.SelectionMixinIsSelected(n)&&e.key!==this.state.editingCommandId&&this.setState({editingCommandId:null})},over:function(e,t){this.mouseX===e.pageX&&this.mouseY===e.pageY||(this.mouseX=e.pageX,this.mouseY=e.pageY,this.SelectionMixinSelectItem(t.id))},getActions:function(e){return this.getUrl().concat(this.getSearch(),this.getDefaultSearch(),this.getOpenPages(),this.getCommands(),this.getBookmarkNicks(),this.getBookmarkFolders(),this.getHistory())},getCommands:function(){for(var e=o.getQuickCommands(),t=e.length,n=[],i=0;t>i;i++)e[i].label.toLowerCase().indexOf(this.state.quickCommandSearchValue.toLowerCase())>-1&&n.push({id:e[i].name,name:e[i].label,type:"command",faviconurl:"",command:e[i],searchString:e[i].label});return n},getOpenPages:function(){var e=this;return S.compact(this.state.openTabs.map(function(t){var n=t.command,i=E.getDisplayTitle(n)+n.get("url"),r=null;return e.state.quickCommandSearchValue&&(r=new RegExp(e.state.quickCommandSearchValue.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"i")),!r||i.match(r)?{id:n.get("id"),name:E.getDisplayTitle(n),url:E.isInternalUrl(n.get("url"))?"":n.get("url"),type:"openTab",imageUrl:n.get("favIconUrl"),searchString:i,command:n}:void 0}))},getHistory:function(){
for(var e=this.state.historyArr.length,t=[],n=0;e>n;n++)(this.state.historyArr[n].title+this.state.historyArr[n].url).toLowerCase().indexOf(this.state.quickCommandSearchValue.toLowerCase())>-1&&t.push({id:this.state.historyArr[n].id,name:this.state.historyArr[n].title,url:E.isInternalUrl(this.state.historyArr[n].url)?"":this.state.historyArr[n].url,type:"history",imageUrl:"chrome://favicon/"+this.state.historyArr[n].url,searchString:this.state.historyArr[n].title+this.state.historyArr[n].url,command:this.state.historyArr[n]});return t},getBookmarkNicks:function(){for(var e=this,t=this.state.bookmarkNicks.length,n=[],i=0;t>i;i++)this.state.bookmarkNicks[i].url&&(this.state.bookmarkNicks[i].nickname+this.state.bookmarkNicks[i].url+this.state.bookmarkNicks[i].title).toLowerCase().indexOf(this.state.quickCommandSearchValue.toLowerCase())>-1&&n.push({id:this.state.bookmarkNicks[i].id,name:this.state.bookmarkNicks[i].title,url:this.state.bookmarkNicks[i].url,meta:this.state.bookmarkNicks[i].nickname,type:"bookmarkNick",imageUrl:"chrome://favicon/"+this.state.bookmarkNicks[i].url,searchString:this.state.bookmarkNicks[i].nickname+this.state.bookmarkNicks[i].url+this.state.bookmarkNicks[i].title,command:this.state.bookmarkNicks[i]});return n.sort(function(t){return t.meta.toLowerCase()===e.state.quickCommandSearchValue.toLowerCase()?-1:1}),n},getBookmarkFolders:function(){for(var e=this.state.bookmarkFolders.length,t=[],n=0;e>n;n++)t.push({id:this.state.bookmarkFolders[n].id,name:this.state.bookmarkFolders[n].title,url:"",meta:this.state.bookmarkFolders[n].nickname,type:"bookmarkFolders",imageUrl:"/resources/folder@2x.png",searchString:this.state.bookmarkFolders[n].nickname+this.state.bookmarkFolders[n].title,command:this.state.bookmarkFolders[n]});return t},getUrl:function(){var e=[];return this.state.quickCommandSearchValue&&e.push({id:this.state.quickCommandSearchValue,name:this.state.quickCommandSearchValue.trim(),url:"",meta:"",type:"url",imageUrl:"chrome://favicon/"+this.state.quickCommandSearchValue,searchString:this.state.quickCommandSearchValue,command:"fixed"}),e},getSearch:function(){var e=[];if(this.state.currentSearchEngine){var t=this.state.quickCommandSearchValue.trim(),n=t.substring(t.indexOf(" "),t.length),i=this.state.currentSearchEngine.Url,r=i.replace("%s",n.replace(" ","+"));e.push({id:this.state.currentSearchEngine.Name,name:p("Search “$1” on $2",[n.trim(),this.state.currentSearchEngine.Name]),url:"",meta:"",type:"search",imageUrl:this.state.currentSearchEngine.Image,searchString:this.state.quickCommandSearchValue,command:"fixed",value:r})}return e},getDefaultSearch:function(){var e=[],t=this.props.vivaldiSettings.SEARCH_ENGINES,n=parseInt(this.props.vivaldiSettings.DEFAULT_SEARCH_ENGINE);if(this.state.quickCommandSearchValue&&n&&!this.state.currentSearchEngine){for(var i={},r=0;r<t.length;r++)if(t[r].Id===n){i=t[r];break}var o=encodeURIComponent(this.state.quickCommandSearchValue.trim()),a=i.Url,s=a.replace("%s",o);e.push({id:i.Name,name:p("Search “$1” on $2",[this.state.quickCommandSearchValue.trim(),i.Name]),url:"",meta:"",type:"search",imageUrl:i.Image,searchString:this.state.quickCommandSearchValue,command:"fixed",value:s})}return e},renderActions:function(e){var t=this;return e.map(function(e){t.KeyboardNavigationMixinAddToNavigationList(e.id);var n=t.SelectionMixinIsSelected(e.id);return A.createElement(c,{ref:n?"selected":"",key:e.id,commandObj:e,selected:n,onSave:t.saveKey,onExecute:t.executeCommand,onEdit:t.onEdit,editing:t.state.editingCommandId===e.id,onCancel:t.onCancel,onMouseOver:t.over})})},renderBookmarkNicks:function(){return this.getBookmarkNicks().length>0?A.createElement("span",null,A.createElement("div",{className:"quick-command-sectionheader"},p("Bookmarks")),A.createElement("ul",{className:"quick-commands-bookmarks"},this.renderActions(this.getBookmarkNicks()))):null},renderBookmarkFolders:function(){return this.getBookmarkFolders().length>0?A.createElement("span",null,A.createElement("div",{className:"quick-command-sectionheader"},p("Open All Bookmarks in Folder")),A.createElement("ul",{className:"quick-commands-bookmarks"},this.renderActions(this.getBookmarkFolders()))):null},renderUrl:function(){var e=this.state.quickCommandSearchValue.trim().toLowerCase();return this.getUrl().length>0&&v(e)||e.startsWith("javascript:")?A.createElement("span",null,A.createElement("div",{className:"quick-command-sectionheader"},p("Go to Address")),A.createElement("ul",{className:"quick-commands-bookmarks"},this.renderActions(this.getUrl()))):null},renderSearch:function(){return this.getSearch().length>0?A.createElement("span",null,A.createElement("div",{className:"quick-command-sectionheader"},p("verb","Search")),A.createElement("ul",{className:"quick-commands-bookmarks"},this.renderActions(this.getSearch()))):null},renderDefaultSearch:function(){return this.getDefaultSearch().length>0?A.createElement("span",null,A.createElement("div",{className:"quick-command-sectionheader"},p("Default Search")),A.createElement("ul",{className:"quick-commands-bookmarks"},this.renderActions(this.getDefaultSearch()))):null},renderOpenTabs:function(){return this.getOpenPages().length>0?A.createElement("span",null,A.createElement("div",{className:"quick-command-sectionheader"},p("Tabs")),A.createElement("ul",{className:"quick-commands-tabs"},this.renderActions(this.getOpenPages()))):null},renderHistory:function(){return this.getHistory().length>0?A.createElement("span",null,A.createElement("div",{className:"quick-command-sectionheader"},p("History")),A.createElement("ul",{className:"quick-commands-history"},this.renderActions(this.getHistory()))):null},renderCommands:function(){return this.getCommands().length>0?A.createElement("span",null,A.createElement("div",{className:"quick-command-sectionheader"},p("Commands")),A.createElement("ul",{className:"quick-commands-actions"},this.renderActions(this.getCommands()))):null},render:function(){return A.createElement("div",{className:"quick-command-container",onFocus:this.KeyboardNavigationMixinOnFocus},A.createElement("div",{className:"qc-entry"},A.createElement("input",{tabIndex:"-1",readOnly:!0,ref:"quickCommandHint",className:"quick-command-search-hint",value:this.state.typeAheadHint}),A.createElement("input",{autoFocus:!0,ref:"quickCommand",className:"quick-command-search",onKeyDown:this.onQuickCommandSearchKeyDown,onKeyUp:this.onQuickCommandSearchKeyUp,value:this.state.quickCommandSearchValue,onChange:this.searchChange})),A.createElement("div",{className:"quick-commands",ref:"quickCommands"},this.renderUrl(),this.renderSearch(),this.renderDefaultSearch(),this.renderOpenTabs(),this.renderCommands(),this.state.quickCommandSearchValue&&this.renderBookmarkNicks(),this.state.quickCommandSearchValue&&this.renderBookmarkFolders(),this.state.quickCommandSearchValue&&this.renderHistory()))}});e.exports=a(I,T)},function(e,t,n){"use strict";var i=n(1),r=n(2),o=i.createClass({displayName:"SavedPasswordItem",render:function(){return i.createElement("div",{className:"setting-single controls"},i.createElement("label",null,i.createElement("span",{className:"selectable"},this.props.savedPassword.origin)),i.createElement("label",null,i.createElement("span",{className:"selectable"},this.props.savedPassword.username)),i.createElement("input",{type:"button",className:"circular clearkey",title:r("Delete Password"),onClick:this.props.onDelete}))}});e.exports=o},function(e,t,n){"use strict";var i=n(1),r=n(8),o=n(374),a=n(24),s=n(10),l=n(2),u=n(4),c=n(29),A="profile.password_manager_enabled",d=i.createClass({displayName:"SavedPasswords",getInitialState:function(){return{savedPasswordsData:[],confirmation:!1,toRemove:null,savePasswords:!0}},componentWillMount:function(){this.updateLocalState(),this.getSavedPassords(),r.settings.onChanged.addListener(this.onSavePasswordChanged)},componentWillUnMount:function(){r.settings.onChanged.removeListener(this.onSavePasswordChanged)},onSavePasswordChanged:function(e){e.preferenceKey===A&&this.updateLocalState()},getSavedPassords:function(){var e=this;u.savedpasswords.getList(function(t){e.setState({savedPasswordsData:t})})},handleSavePasswordChange:function(e){var t=e.target.checked,n={preferenceKey:A,preferenceValue:{"boolean":t},preferenceType:"boolean"};r.settings.setPreference(n),this.setState({savePasswords:t})},updateLocalState:function(){var e=this;r.settings.getPreference(A,function(t){e.setState({savePasswords:t.preferenceValue["boolean"]})})},deleteSavedPassword:function(){var e=this;u.savedpasswords.remove(this.state.toRemove.id,function(){e.getSavedPassords()}),this.setState({confirmation:!1,toRemove:null})},onAskToDelete:function(e){this.setState({confirmation:!0,toRemove:e})},onCancel:function(){this.setState({confirmation:!1,toRemove:null}),this.props.onClose()},keyDown:function(e){27===e.keyCode&&this.onCancel()},renderModal:function(){var e=c.parse(this.state.toRemove.origin).hostname;return i.createElement(a,{onRequestClose:this.onCancel,dialogWidth:400},i.createElement("div",{className:"dialog-new-bookmark-folder"},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title"},l("Delete password for $1?",[e||this.state.toRemove.origin]))),i.createElement("div",{className:"dialog-content",onKeyDown:this.keyDown},i.createElement("p",null,l("Password for user “$1” on page “$2” will be removed.",[this.state.toRemove.username,this.state.toRemove.origin]))),i.createElement("footer",{className:"dialog-footer",onKeyDown:this.keyDown},i.createElement("input",{type:"button",className:"primary",onClick:this.deleteSavedPassword,value:l("other","Delete"),autoFocus:!0}),i.createElement("input",{type:"button",onClick:this.onCancel,value:l("Cancel")}))))},render:function(){var e=this,t=i.createElement("div",{className:"saved-passwords setting-group unlimited"},i.createElement("h2",null,l("Passwords")),i.createElement("div",{className:"setting-group unlimited"},i.createElement("label",null,i.createElement("input",{type:"checkbox",onChange:this.handleSavePasswordChange,checked:this.state.savePasswords}),i.createElement("span",null,l("Save Webpage Passwords")))),this.state.confirmation&&this.renderModal(),this.state.savedPasswordsData.length>0?i.createElement("div",{className:"saved-passwords"},i.createElement("div",{className:"header"},i.createElement("label",null,l("Website")),i.createElement("label",null,l("Account Name"))),i.createElement("div",{className:"password_list"},this.state.savedPasswordsData.map(function(t){return i.createElement(o,{key:t.id,savedPassword:t,onDelete:e.onAskToDelete.bind(e,t)})}))):i.createElement("div",{className:"saved-passwords"},i.createElement("p",null,l("No saved passwords found."))));return s(t,this.props.filter)}});e.exports=d},function(e,t,n){"use strict";var i=n(1),r=n(203),o=n(24),a=i.createClass({displayName:"CreateSearchEngineDlg",handleClick:function(){console.log("handleclick");var e={dialogText:this.state.value};this.state.shown&&this.props.onClose(e),this.setState({shown:!this.state.shown})},getInitialState:function(){return{msg:"",shown:!0,modalShown:!1}},getLayeredComponentRootNode:function(){return this.props.parentDiv},componentWillReceiveProps:function(){this.setState({shown:!0})},render:function(){return this.state.shown?i.createElement(o,{onRequestClose:this.handleClick},i.createElement("div",{className:"dialog-addsearch"},i.createElement(r,{showAsDlg:!0,onClose:this.handleClick,name:this.props.name,url:this.props.url}))):i.createElement("div",null)}});e.exports=a},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(3),a=n(11),s=n(203),l=n(2),u=n(18),c=n(6),A=n(10),d=n(24),h=r.createClass({displayName:"SearchEngines",mixins:[a],vivaldiSettingsKeys:["ADDRESS_BAR_SUGGEST_ENABLED","DEFAULT_SEARCH_ENGINE","SEARCH_ENGINES","SEARCH_FIELD_ENABLED","SEARCH_FIELD_SUGGEST_ENABLED"],getInitialState:function(){return{SEARCH_ENGINES:[],adding:!1,defaultSearchEngineId:-1,selectedSearchEngineId:-1,foundSearchEngine:!1,seUrl:"",seName:"",seKeyword:"",confirmation:!1}},saveVivaldiSettingFromEvent:function(e,t,n){o.set(i({},e,n.target[t]))},componentWillReceiveProps:function(e){if(this.state.SEARCH_ENGINES&&this.state.SEARCH_ENGINES.length>0&&e.filter&&e.filter.length>0){for(var t=this.state.SEARCH_ENGINES,n=0;n<t.length;n++)if((t[n].Keyword+t[n].Url+t[n].Name).toLowerCase().indexOf(e.filter.toLowerCase())>-1)return void this.setState({foundSearchEngine:!0});this.setState({foundSearchEngine:!1})}},onSearchEngineChanged:function(){var e=this;o.set({SEARCH_ENGINES:this.state.SEARCH_ENGINES.map(function(t){return e.state.selectedSearchEngineId===t.Id&&(t.Url=e.refs.urlInput.value,t.Name=e.refs.nameInput.value,t.Keyword=e.refs.keywordInput.value),t})}),this.setState({selectedSearchEngineId:-1,seUrl:"",seName:"",seKeyword:""})},deleteSearchEngine:function(e){var t=u.reject(u.map(this.state.SEARCH_ENGINES,function(e){return delete e._Text,e}),function(t){return t.Id===e});o.set({SEARCH_ENGINES:t}),this.setState({selectedSearchEngineId:-1})},cancel:function(){this.setState({adding:!1,selectedSearchEngineId:-1})},createSearchEngine:function(e){var t,n=u.map(this.state.SEARCH_ENGINES,function(e){return delete e._Text,e}),i=Math.max.apply(Math,n.map(function(e){return e.Id}));t={Id:i?i+1:0,Name:e.name,Keyword:e.keyword,Url:e.url},n.push(t),this.setState({adding:!1}),o.set({SEARCH_ENGINES:n})},restoreSearchEngines:function(){var e=o.getDefault("SEARCH_ENGINES"),t=o.getDefault("DEFAULT_SEARCH_ENGINE");o.set({DEFAULT_SEARCH_ENGINE:t,SEARCH_ENGINES:e}),this.setState({selectedSearchEngineId:-1,adding:!1,confirmation:!1})},addNewSearchEngine:function(){this.setState({adding:!this.state.adding,selectedSearchEngineId:-1})},edit:function(e,t){this.setState({adding:!1,selectedSearchEngineId:e},function(){t()})},onSearchEngineSelected:function(e){if(this.state.selectedSearchEngineId===e)this.setState({selectedSearchEngineId:-1,seUrl:"",seName:"",seKeyword:""});else{var t=u.find(this.state.SEARCH_ENGINES,{Id:parseInt(e)});this.setState({selectedSearchEngineId:e,seUrl:t.Url,seName:t.Name,seKeyword:t.Keyword})}},setSearchEnabled:function(e){var t=e.target.checked;o.set({SEARCH_FIELD_ENABLED:t})},setDefault:function(e){o.set({DEFAULT_SEARCH_ENGINE:e.toString()}),this.setState({selectedSearchEngineId:-1,adding:!1})},confirmRestoreSearch:function(){this.setState({confirmation:!0})},onCancel:function(){this.setState({confirmation:!1})},keyDownModal:function(e){27===e.keyCode&&this.onCancel()},renderModal:function(){return r.createElement(d,{dialogWidth:400},r.createElement("div",{className:"dialog-restore-search"},r.createElement("header",{className:"dialog-header"},r.createElement("h1",{className:"dialog-title"},l("Restore Default Search Engines?"))),r.createElement("div",{className:"dialog-content",onKeyDown:this.keyDownModal},r.createElement("p",null,l("Search engines will be reset to default settings, which will\n                also reset your custom search engines."))),r.createElement("footer",{className:"dialog-footer",onKeyDown:this.keyDownModal},r.createElement("input",{type:"button",className:"danger",onClick:this.restoreSearchEngines,value:l("Restore")}),r.createElement("input",{type:"button",onClick:this.onCancel,value:l("Cancel"),autoFocus:!0}))))},renderList:function(){var e=this;return this.state.SEARCH_ENGINES.map(function(t){var n=t.Id===parseInt(e.state.DEFAULT_SEARCH_ENGINE),i="/resources/page-web@2x.png";return i=t.FaviconUrl?t.FaviconUrl:"chrome://favicon/"+t.Url,r.createElement("li",{className:"controls",key:t.Id,onDoubleClick:e.onSearchEngineSelected.bind(e,t.Id)},r.createElement("span",{className:"favicon"},r.createElement("img",{src:i,alt:"",width:"16",height:"16"})),r.createElement("span",{className:"name"},t.Name),r.createElement("span",{className:"keyword",title:l("Keyboard Shortcut")},t.Keyword),r.createElement("span",null,r.createElement("input",{type:"button",disabled:n,className:"circular defaultkey",title:n?l("Default Search Engine"):l("searchengine","Set as Default"),onClick:e.setDefault.bind(e,t.Id)}),r.createElement("input",{type:"button",className:"circular editkey",title:l("Edit Search Engine"),onClick:e.onSearchEngineSelected.bind(e,t.Id)}),r.createElement("input",{type:"button",disabled:n,className:"circular clearkey",title:l("Remove Search Engine"),onClick:e.deleteSearchEngine.bind(e,t.Id)})))})},changeValue:function(e,t){var n={};n[e]=t.target.value,this.setState(n)},render:function(){if(!this.state.SEARCH_ENGINES||!this.state.DEFAULT_SEARCH_ENGINE)return null;var e=r.createElement("section",null,this.state.confirmation&&this.renderModal(),r.createElement("h2",null,l("noun","Search")),r.createElement("div",{className:"setting-group unlimited"},r.createElement("div",{className:"setting-group"},r.createElement("h3",null,l("Search Field in Address Bar")),r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.SEARCH_FIELD_ENABLED,onChange:this.setSearchEnabled}),r.createElement("span",null,l("Enable")))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,l("Search Suggestions")),r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.ADDRESS_BAR_SUGGEST_ENABLED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"ADDRESS_BAR_SUGGEST_ENABLED","checked")}),r.createElement("span",null,l("Enable Search Suggest in Address Field"))),r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.SEARCH_FIELD_SUGGEST_ENABLED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SEARCH_FIELD_SUGGEST_ENABLED","checked")}),r.createElement("span",null,l("Enable Search Suggest in Search Field"))))),r.createElement("div",{className:c({"setting-group":!0,unlimited:!0,"setting-search-engine":!0,"default":this.props["default"]})},r.createElement("h3",null,l("Search Engines")),r.createElement("div",{className:"setting-subgroup"},r.createElement("ul",{className:"se-list"},this.renderList()),parseInt(this.state.selectedSearchEngineId)>-1&&r.createElement("div",{className:"setting-group unlimited search-engine-create"},r.createElement("h3",null,l("Edit Search Engine")),r.createElement("div",{className:"setting-flexgroup"},r.createElement("input",{ref:"urlInput",className:"searchengine_url setting-single-flex",type:"text",title:l("Search Engine Address"),placeholder:l("URL"),value:this.state.seUrl,onChange:this.changeValue.bind(this,"seUrl")})),r.createElement("div",{className:"setting-flexgroup"},r.createElement("input",{className:"setting-single-flex",type:"text",ref:"nameInput",placeholder:l("Description"),value:this.state.seName,onChange:this.changeValue.bind(this,"seName")}),r.createElement("input",{ref:"keywordInput",className:"searchengine_keyword setting-single-noflex",type:"text",title:l("Shortcut for Search Engine"),placeholder:l("Nickname"),value:this.state.seKeyword,onChange:this.changeValue.bind(this,"seKeyword")})),r.createElement("div",{className:"setting-flexgroup"},r.createElement("input",{type:"button",className:"setting-single-noflex primary",onClick:this.onSearchEngineChanged,value:l("OK")}),r.createElement("input",{type:"button",className:"setting-single-noflex",onClick:this.cancel,value:l("Cancel")})))),this.state.adding===!0&&r.createElement(s,{onClose:this.cancel,onCreate:this.createSearchEngine}),this.state.adding===!1&&r.createElement("div",{className:"setting-single"},r.createElement("input",{type:"button",onClick:this.addNewSearchEngine,value:l("Add New Search Engine")})),r.createElement("div",{className:"setting-single"},r.createElement("input",{type:"button",onClick:this.confirmRestoreSearch,value:l("Restore Defaults")}))));return this.state.foundSearchEngine?e:A(e,this.props.filter)}});e.exports=h},function(e,t){"use strict";function n(e){function t(e){var t,r=0,o=0,a=0,s=0,l=0,u=0;for(t=0;t<e.length;t++)"0"===e[t]?l+=1:"4"===e[t]&&(l-=1),l>r&&(r=l),o>l&&(o=l);for(t=0;t<e.length;t++)"2"===e[t]?u-=1:"6"===e[t]&&(u+=1),u>a&&(a=u),s>u&&(s=u);return o>0&&(o=0),s>0&&(s=0),(i-2*n)/Math.max(Math.abs(r-o),Math.abs(a-s))}var n=40,i=200,r=8,o="#006ed7",a=50,s=4,l=4;this.points=[],this.points_buffer=[],this.stopped=!0,this.canvas=e,this.init_points=function(){this.points=[],this.points_buffer=[];var e={x:n,y:n};this.points.push(e);var o,a=t(this.sequence);for(o=0;o<this.sequence.length;o++){var s={};"0"===this.sequence[o]?(s.x=this.points[o].x+a,s.y=this.points[o].y):"2"===this.sequence[o]?(s.x=this.points[o].x,s.y=this.points[o].y+a):"4"===this.sequence[o]?(s.x=this.points[o].x-a,s.y=this.points[o].y):"6"===this.sequence[o]&&(s.x=this.points[o].x,s.y=this.points[o].y-a),this.points.push(s)}var l=this.points[0].x,u=this.points[0].y,c=this.points[0].x,A=this.points[0].y;for(o=1;o<this.points.length;o++)this.points[o].x<l&&(l=this.points[o].x),this.points[o].x>c&&(c=this.points[o].x),this.points[o].y<u&&(u=this.points[o].y),this.points[o].y>A&&(A=this.points[o].y);if(n>l){for(o=0;o<this.points.length;o++)this.points[o].x+=-(l-n);c+=-(l-n)}if(n>u){for(o=0;o<this.points.length;o++)this.points[o].y+=-(u-n);A+=-(u-n)}for(o=0;o<this.points.length;o++)this.points[o].x+=(i-n-c)/2,this.points[o].y+=(i-n-A-r)/2;for(o=0;o<this.points.length;o++){var d={x:this.points[o].x,y:this.points[o].y};this.points_buffer.push(d)}},this.reset_points=function(){var e;for(e=0;e<this.points_buffer.length;e++)this.points[e].x=this.points_buffer[e].x,this.points[e].y=this.points_buffer[e].y},this.draw_point=function(e){this.ctx.beginPath(),this.ctx.arc(e.x,e.y,r,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fillStyle=o,this.ctx.fill()},this.idx=0,this.timeout=0,this.draw_segment=function(){if(!this.stopped){if(this.idx>=this.points.length)return this.timeout>=a?(this.timeout=0,this.idx=0,this.reset_points(),void(this.requestId=window.requestAnimationFrame(this.draw_segment.bind(this)))):(this.ctx.fillStyle="rgba(255,255,255,0.15)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.timeout++,void(this.requestId=window.requestAnimationFrame(this.draw_segment.bind(this))));this.timeout=0,this.ctx.fillStyle="rgba(255,255,255,0.1)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.draw_point(this.points[this.idx]),!this.points[this.idx+1]||this.points[this.idx].x===this.points[this.idx+1].x&&this.points[this.idx].y===this.points[this.idx+1].y?(this.idx++,this.draw_segment()):(this.points[this.idx].x<this.points[this.idx+1].x?this.points[this.idx].x+=s:this.points[this.idx].x>this.points[this.idx+1].x&&(this.points[this.idx].x-=s),this.points[this.idx].y<this.points[this.idx+1].y?this.points[this.idx].y+=l:this.points[this.idx].y>this.points[this.idx+1].y&&(this.points[this.idx].y-=l),this.requestId=window.requestAnimationFrame(this.draw_segment.bind(this)))}},this.clear_canvas=function(){this.ctx.fillStyle="rgb(255,255,255)",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)},this.start=function(e){this.sequence=e,this.ctx=this.canvas.getContext("2d"),this.ctx.lineWidth=3,this.clear_canvas(),this.init_points(),this.stopped&&(this.stopped=!1,this.requestId=window.requestAnimationFrame(this.draw_segment.bind(this)))},this.stop=function(){this.stopped=!0,this.current_point_index=0,this.timeout=0,this.idx=0,window.cancelAnimationFrame(this.requestId)}}e.exports=n},function(e,t,n){(function(t){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(378),a=n(35),s=n(58),l=n(2),u=n(24),c=n(10),A=n(3),d=n(11),h=n(8),p=r.createClass({displayName:"MouseGestures",mixins:[d],vivaldiSettingsKeys:["MOUSE_GESTURES_ENABLED","ALT_GESTURES_ENABLED"],selected:void 0,getDefaultProps:function(){return{filter:""}},getInitialState:function(){return{commandArray:a.getUserEditableCommands(),assignedArray:a.getCommandsGestures(),rockerGestures:A.getSync("vivaldi.rocker_gestures_enabled"),selectedCommand:null,addingGesture:0,paint:!1,gestureExists:!1,angleMap:this.populateAngleMap(),confirmation:!1}},componentWillMount:function(){var e=this;this.state.selectedCommand||(this.setState({selectedCommand:this._getTopCommand()}),"all"!==this.props.categoryTitle&&t.nextTick(function(){return e.refs.gestureList.focus()}))},componentDidMount:function(){a.addChangeListener(this._onCommandStoreChange)},componentWillUnmount:function(){a.removeChangeListener(this._onCommandStoreChange)},_onCommandStoreChange:function(){this.setState({commandArray:a.getUserEditableCommands(),assignedArray:a.getCommandsGestures(),addingGesture:0})},_getCommandByGesture:function(e){return this.state.commandArray.find(function(t){return t.gestures&&t.gestures[0]===e?t:void 0})},_getTopCommand:function(){return this.state.commandArray.find(function(e){return e.gestures})},animation:void 0,onGestureListChange:function(e){var t=this.state.selectedCommand,n=e&&"focus"===e.type&&t?t.gestures[0]:e.target.value,i=e&&"focus"===e.type&&t?t:this._getCommandByGesture(n);n&&"number"==typeof parseInt(n)&&(this.animation||(this.animation=new o(this.refs.gestureCanvas)),this.animation.stop(),this.animation.start(n),this.setState({addingGesture:0,selectedCommand:i}))},checkChange:function(){var e={preferenceKey:"vivaldi.rocker_gestures_enabled",preferenceValue:{"boolean":!this.state.rockerGestures},preferenceType:"boolean"};h.settings.setPreference(e),this.setState({rockerGestures:!this.state.rockerGestures})},addGesture:function(){this.setState({addingGesture:1})},removeGesture:function(){var e={gestures:null,shortcut:this.state.selectedCommand.shortcut,showInQC:this.state.selectedCommand.showInQC};A.set(i({},this.state.selectedCommand.name,e)),this.setState({selectedCommand:null})},editGesture:function(e){var t=this.state.selectedCommand;e.target[0]&&(t=this.state.commandArray.filter(function(t){return t.name===e.target[0].value?!0:void 0})[0]),this.setState({addingGesture:2,selectedCommand:t})},restoreGestures:function(){s.restoreCommandGestures(),this.setState({confirmation:!1})},confirmRestore:function(){this.setState({confirmation:!0})},onCancel:function(){this.setState({confirmation:!1})},keyDownModal:function(e){27===e.keyCode&&this.onCancel()},consolidateCommands:function(){var e=this.state.commandArray.filter(function(e){return e.gestures?!1:e});return e},save:function(){var e=this,n={gestures:[this.moves],shortcut:this.state.selectedCommand.shortcut,showInQC:this.state.selectedCommand.showInQC};A.set(i({},this.state.selectedCommand.name,n)),this.moves=[],t.nextTick(function(){return e.refs.gestureList.focus()})},saveVivaldiSettingFromEvent:function(e,t,n){A.set(i({},e,n.target[t]))},paint:!1,lastX:!1,lastY:!1,moves:[],pointX:new Array,pointY:new Array,pointDrag:new Array,populateAngleMap:function(){var e=2*Math.PI/4,t=2*Math.PI/100,n=[],i=void 0,r=void 0;for(i=-e/2;i<=2*Math.PI-e/2;i+=t)r=2*Math.floor((i+e/2)/e),n.push(r);return n},addPoint:function(e,t,n){this.pointX.push(e),this.pointY.push(t),this.pointDrag.push(n)},addMove:function(e,t){var n=2*Math.PI/8,i=Math.atan2(t,e)+n/2;0>i&&(i+=2*Math.PI);var r=Math.floor(i/(2*Math.PI)*100);this.moves.push(this.state.angleMap[r])},redraw:function(){var e=this.refs.gestureCanvas,t=e.getContext("2d");t.clearRect(0,0,t.canvas.width,t.canvas.height),t.strokeStyle="#df4b2b",t.lineJoin="round",t.lineWidth=16;for(var n=0;n<this.pointX.length;n++)t.beginPath(),this.pointDrag[n]&&n?t.moveTo(this.pointX[n-1],this.pointY[n-1]):t.moveTo(this.pointX[n]-1,this.pointY[n]),t.lineTo(this.pointX[n],this.pointY[n]),t.closePath(),t.stroke()},penDown:function(e){if(2===this.state.addingGesture){this.clearAnimation(),this.clearCanvas(),this.moves=[],this.paint=!0;var t=e.target.getBoundingClientRect();this.addPoint(e.pageX-t.left,e.pageY-t.top),this.redraw()}},penMove:function(e){if(2===this.state.addingGesture&&this.paint){var t=e.target.getBoundingClientRect();if(this.addPoint(e.pageX-t.left,e.pageY-t.top,!0),this.lastX===!1)return this.lastX=e.pageX-t.left,void(this.lastY=e.pageY-t.top);var n=e.pageX-t.left-this.lastX,i=e.pageY-t.top-this.lastY,r=n*n+i*i,o=10,a=o*o;r>a&&(this.lastX=e.pageX-t.left,this.lastY=e.pageY-t.top,this.addMove(n,i)),this.redraw()}},penUp:function(e){if(2===this.state.addingGesture&&(this.paint=!1,!(this.moves&&this.moves.length<3))){var t=this.moves.map(function(e,t,n){return e!==n[t-1]&&e===n[t+1]?e:void 0}).filter(function(e){return void 0!==e});t.length>5&&(t=t.splice(t.length-5,t.length)),this.moves=t.toString().split(",").join(""),this.animation=new o(this.refs.gestureCanvas),this.animation.start(this.moves),this.setState({gestureExists:Boolean(this.state.assignedArray[this.moves])})}},penLeave:function(e){this.paint=!1},clearAnimation:function(){if(void 0!==this.animation){this.animation.stop();var e=this.refs.gestureCanvas,t=e.getContext("2d");t.clearRect(0,0,e.width,e.height)}},clearCanvas:function(){this.paint=!1,this.pointX=new Array,this.pointY=new Array,this.pointDrag=new Array;var e=this.refs.gestureCanvas,t=e.getContext("2d");t.clearRect(0,0,e.width,e.height)},renderGesture:function(){return r.createElement("canvas",{ref:"gestureCanvas",width:"200",height:"200",onMouseDown:this.penDown,onMouseMove:this.penMove,onMouseUp:this.penUp,onMouseLeave:this.penLeave})},renderAvailableCommands:function(){var e=this.consolidateCommands();return e.map(function(e){return r.createElement("option",{key:"id-command-"+e.name,value:e.name},e.gestureOnLink?e.label+" / "+e.gestureOnLink.replace(/\s*\(.*?\)\s*/g,"").trim():e.label)})},renderCommands:function(){for(var e=[],t=0;t<this.state.commandArray.length;t++){var n=this.state.commandArray[t];if(n.gestures&&(n.actualLabel=n.label,e.push(n),n.gestureOnLink)){var i=Object.create(n);i.actualLabel=i.gestureOnLink,i.duplicate=!0,e.push(i)}}return e.map(function(e){return r.createElement("option",{key:"id-gesture-"+e.actualLabel.split(" ").join("_"),disabled:e.duplicate,value:e.duplicate?e.gestures[0]+"i":e.gestures[0]},e.duplicate&&"↳ ",e.actualLabel)})},renderModal:function(){return r.createElement(u,{dialogWidth:400},r.createElement("div",{className:"dialog-restore-shortcuts"},r.createElement("header",{className:"dialog-header"},r.createElement("h1",{className:"dialog-title"},l("Restore Gestures?"))),r.createElement("div",{className:"dialog-content",onKeyDown:this.keyDownModal},r.createElement("p",null,l("All command gestures will be restored to default settings."))),r.createElement("footer",{className:"dialog-footer",onKeyDown:this.keyDownModal},r.createElement("input",{type:"button",className:"danger",onClick:this.restoreGestures,value:l("Restore")}),r.createElement("input",{type:"button",onClick:this.onCancel,value:l("Cancel"),autoFocus:!0}))))},render:function(){var e=this.state.selectedCommand,t=e&&e.gestures?e.gestures[0]:void 0,i=r.createElement("div",null,this.state.confirmation&&this.renderModal(),r.createElement("h2",null,l("Mouse")),r.createElement("div",{className:"setting-group unlimited"},r.createElement("h3",null,l("Gestures")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.MOUSE_GESTURES_ENABLED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"MOUSE_GESTURES_ENABLED","checked")}),r.createElement("span",null,l("Allow Gestures"))),r.createElement("p",{className:"info"},l("Hold down right mouse button and perform\n              a gesture to issue related command."))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.ALT_GESTURES_ENABLED,disabled:!this.state.MOUSE_GESTURES_ENABLED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"ALT_GESTURES_ENABLED","checked")}),r.createElement("span",null,l("Perform Gestures with ALT Key"))),r.createElement("p",{className:"info"},l("Use gestures with trackpad or other input\n              device."))),r.createElement("div",{className:"setting-single pad-top"
},r.createElement("h3",null,l("Gesture Mapping")),r.createElement("div",{className:"gesture-map setting-single"},r.createElement("select",{ref:"gestureList",className:"gesture-list",value:t,defaultValue:this._getTopCommand(),onChange:this.onGestureListChange,onFocus:this.onGestureListChange,onBlur:this.clearAnimation,size:"9"},this.renderCommands()),r.createElement("div",{className:2===this.state.addingGesture?"active gesture":"gesture"},this.renderGesture())),r.createElement("div",{className:"setting-single record-gesture"},0===this.state.addingGesture&&r.createElement("div",{className:"toolbar icons"},r.createElement("button",{className:"button-toolbar add",title:l("New gesture"),onClick:this.addGesture,dangerouslySetInnerHTML:{__html:n(64)}}),r.createElement("button",{className:"button-toolbar delete",title:l("Remove gesture"),onClick:this.removeGesture,disabled:!e,dangerouslySetInnerHTML:{__html:n(71)}}),r.createElement("button",{className:"button-toolbar edit",title:l("Edit gesture"),onClick:this.editGesture,disabled:!e,dangerouslySetInnerHTML:{__html:n(159)}}),r.createElement("input",{type:"button",value:l("Restore Default Gestures"),onClick:this.confirmRestore})),1===this.state.addingGesture&&r.createElement("form",{onSubmit:this.editGesture},r.createElement("h3",{className:"pad-top"},l("Pick a Command")),r.createElement("select",{className:"command-list",autoFocus:!0},this.renderAvailableCommands()),r.createElement("input",{type:"submit",className:"primary",value:l("Next...")})),2===this.state.addingGesture&&r.createElement("div",{className:"add-gesture"},r.createElement("div",null,r.createElement("h3",{className:"pad-top"},l("Recording “$1” Gesture",[e.gestureOnLink||e.label])),r.createElement("p",{className:"info"},l("Draw a new gesture in the\n                      highlighted gesture area above. Gesture may consist of\n                      horizontal and vertical lines, limited to maximum of five\n                      strokes. Once you are satisfied with the shape, add new\n                      gesture to your list."))),r.createElement("div",null,r.createElement("input",{type:"button",value:l("Save Gesture"),onClick:this.save,disabled:this.state.gestureExists||this.moves===[]}),this.state.gestureExists&&r.createElement("p",{className:"alert"},l("This gesture already exists.")))))),null!==this.state.rockerGestures&&r.createElement("div",{className:"setting-single pad-top"},r.createElement("h3",null,l("Rocker Gestures")),r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.rockerGestures,onChange:this.checkChange}),r.createElement("span",null,l("Allow Rocker Gestures"))),r.createElement("p",{className:"info"},l("Press right mouse button followed by left\n                mouse button click to go back in history. Press left mouse\n                button followed by right click to advance forward in\n                history.")))));return c(i,this.props.filter)}});e.exports=p}).call(t,n(22))},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(30),a=n(3),s=n(11),l=n(10),u=n(2),c=r.createClass({displayName:"Appearance",mixins:[s],vivaldiSettingsKeys:["STARTPAGE_SHOW_IMAGE","STARTPAGE_IMAGE","STARTPAGE_IMAGE_USER_DEFINED","STARTPAGE_IMAGE_STRETCH","STARTPAGE_IMAGE_REPEAT","STARTPAGE_BG_COLOR","STARTPAGE_BG_COLOR_USER_DEFINED","STARTPAGE_FG_COLOR","SPEEDDIAL_TITLES_VISIBLE","SPEEDDIAL_ADDBUTTON_VISIBLE","SPEEDDIAL_COLS","BROWSER_FG_COLOR","USE_TABCOLOR"],saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},setStartpageImageStretch:function(e){var t=e.target.checked;this.setState({STARTPAGE_IMAGE_STRETCH:t,STARTPAGE_IMAGE_REPEAT:t?!1:this.state.STARTPAGE_IMAGE_REPEAT}),a.set({STARTPAGE_IMAGE_STRETCH:t,STARTPAGE_IMAGE_REPEAT:t?!1:this.state.STARTPAGE_IMAGE_REPEAT})},setStartpageImageRepeat:function(e){var t=e.target.checked;this.setState({STARTPAGE_IMAGE_REPEAT:t,STARTPAGE_IMAGE_STRETCH:t?!1:this.state.STARTPAGE_IMAGE_STRETCH}),a.set({STARTPAGE_IMAGE_REPEAT:t,STARTPAGE_IMAGE_STRETCH:t?!1:this.state.STARTPAGE_IMAGE_STRETCH})},setStartpageShowImage:function(e){var t=e.target.checked;this.setState({STARTPAGE_SHOW_IMAGE:t}),a.set({STARTPAGE_SHOW_IMAGE:t})},setStartpageUserDefinedBgColor:function(e){var t=e.target.value;this.setState({STARTPAGE_BG_COLOR_USER_DEFINED:t}),a.set({STARTPAGE_BG_COLOR_USER_DEFINED:t})},setStartpageUserDefinedImage:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){this.setState({STARTPAGE_IMAGE_USER_DEFINED:e.target.result}),a.set({STARTPAGE_IMAGE_USER_DEFINED:e.target.result})}.bind(this),n.readAsDataURL(t)},handleColorClick:function(){this.refs.bgColorPicker.click()},handleImageClick:function(){this.refs.bgImagePicker.click()},render:function(){var e=r.createElement("div",null,r.createElement("h2",null,u("other","Start Page")),r.createElement("div",{className:"setting-group unlimited"},r.createElement("h3",null,u("Background Color")),r.createElement(o,{name:"BGColor",className:"thumbnail-wrapper",value:this.state.STARTPAGE_BG_COLOR,onChange:this.saveVivaldiSettingFromEvent.bind(this,"STARTPAGE_BG_COLOR","value")},r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"#cccccc",style:{backgroundColor:"#cccccc"}}),r.createElement("span",null,u("Default")))),r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"#BDD1DE",style:{backgroundColor:"#BDD1DE"}}),r.createElement("span",null,u("Blue")))),r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"#313B41",style:{backgroundColor:"#313B41"}}),r.createElement("span",null,u("Pro")))),r.createElement("div",{className:"setting-single image-radio has-secondlevel"},r.createElement("label",null,r.createElement("input",{type:"radio",className:"colorpicker",value:"user_defined",style:{backgroundColor:this.state.STARTPAGE_BG_COLOR_USER_DEFINED}}),r.createElement("span",null,u("Custom")),r.createElement("button",{onClick:this.handleColorClick,title:u("Change the Background Color"),className:"secondlevel"},u("Change")))))),r.createElement("input",{ref:"bgColorPicker",type:"color",value:this.state.STARTPAGE_BG_COLOR_USER_DEFINED,onChange:this.setStartpageUserDefinedBgColor,style:{position:"absolute",visibility:"hidden"}}),r.createElement("div",{className:"setting-group unlimited"},r.createElement("h3",null,u("Background Image")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.STARTPAGE_SHOW_IMAGE,onChange:this.setStartpageShowImage}),r.createElement("span",null,u("Show Background Image")))),r.createElement(o,{name:"startpageImage",className:"thumbnail-wrapper",value:this.state.STARTPAGE_IMAGE,onChange:this.saveVivaldiSettingFromEvent.bind(this,"STARTPAGE_IMAGE","value")},r.createElement("div",{className:"setting-group-double"},r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"../resources/bg.jpg",disabled:!this.state.STARTPAGE_SHOW_IMAGE,style:{backgroundImage:"url(../resources/bg.jpg)"}}),r.createElement("span",null,u("Mist")))),r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"../resources/bg_alt_1.jpg",disabled:!this.state.STARTPAGE_SHOW_IMAGE,style:{backgroundImage:"url(../resources/bg_alt_1.jpg)"}}),r.createElement("span",null,u("Sunset")))),r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"../resources/bg_alt_2.jpg",disabled:!this.state.STARTPAGE_SHOW_IMAGE,style:{backgroundImage:"url(../resources/bg_alt_2.jpg)"}}),r.createElement("span",null,u("Starry Night")))),r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"../resources/bg_alt_3.jpg",disabled:!this.state.STARTPAGE_SHOW_IMAGE,style:{backgroundImage:"url(../resources/bg_alt_3.jpg)"}}),r.createElement("span",null,u("Pink Cloud"))))),r.createElement("div",{className:"setting-group-double"},r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"../resources/bg_alt_5.jpg",disabled:!this.state.STARTPAGE_SHOW_IMAGE,style:{backgroundImage:"url(../resources/bg_alt_5.jpg)"}}),r.createElement("span",null,u("Purple Lake")))),r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"../resources/bg_alt_4.jpg",disabled:!this.state.STARTPAGE_SHOW_IMAGE,style:{backgroundImage:"url(../resources/bg_alt_4.jpg)"}}),r.createElement("span",null,u("Jelly Fish")))),r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"../resources/bg_alt_6.jpg",disabled:!this.state.STARTPAGE_SHOW_IMAGE,style:{backgroundImage:"url(../resources/bg_alt_6.jpg)"}}),r.createElement("span",null,u("Wave")))),r.createElement("div",{className:"setting-single image-radio has-secondlevel"},r.createElement("label",null,r.createElement("input",{type:"radio",className:"addfile",value:"user_defined",disabled:!this.state.STARTPAGE_SHOW_IMAGE,style:{backgroundImage:"url("+this.state.STARTPAGE_IMAGE_USER_DEFINED+")",backgroundRepeat:this.state.STARTPAGE_IMAGE_REPEAT?"repeat":"no-repeat",backgroundSize:this.state.STARTPAGE_IMAGE_REPEAT?"auto":"cover"}}),r.createElement("span",null,u("Custom")),r.createElement("button",{className:"secondlevel",disabled:!this.state.STARTPAGE_SHOW_IMAGE,title:u("Change the Background Image"),onClick:this.handleImageClick},u("Change")))))),r.createElement("input",{type:"file",disabled:!this.state.STARTPAGE_SHOW_IMAGE,ref:"bgImagePicker",onChange:this.setStartpageUserDefinedImage,style:{position:"absolute",visibility:"hidden"}})),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,u("Background Image Options")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",disabled:!this.state.STARTPAGE_SHOW_IMAGE,checked:this.state.STARTPAGE_IMAGE_STRETCH,onChange:this.setStartpageImageStretch}),r.createElement("span",null,u("Scale to Fit")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",disabled:!this.state.STARTPAGE_SHOW_IMAGE,checked:this.state.STARTPAGE_IMAGE_REPEAT,onChange:this.setStartpageImageRepeat}),r.createElement("span",null,u("Repeat"))))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,u("Interface Color")),r.createElement(o,{value:this.state.STARTPAGE_FG_COLOR,name:"FGColor",onChange:this.saveVivaldiSettingFromEvent.bind(this,"STARTPAGE_FG_COLOR","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"ui-light"}),r.createElement("span",null,u("Light")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"ui-dark"}),r.createElement("span",null,u("Dark")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:""}),r.createElement("span",null,u("Inherit from Window Appearance")))))),r.createElement("h2",null,u("Speed Dial")),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,u("Show Speed Dial Titles")),r.createElement(o,{name:"SpeedDialTitles",value:this.state.SPEEDDIAL_TITLES_VISIBLE,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SPEEDDIAL_TITLES_VISIBLE","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"always"}),r.createElement("span",null,u("Always")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"hover"}),r.createElement("span",null,u("When Needed")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"never"}),r.createElement("span",null,u("Never")))))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,u("Speed Dial Layout")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.SPEEDDIAL_ADDBUTTON_VISIBLE,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SPEEDDIAL_ADDBUTTON_VISIBLE","checked")}),r.createElement("span",null,u("Show “Add” button"))),r.createElement("p",{className:"info"},u("When disabled, new bookmarks can be added\n              by double-clicking the Speed Dial background.")))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,u("Maximum Columns")),r.createElement("select",{className:"max-columns",value:this.state.SPEEDDIAL_COLS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SPEEDDIAL_COLS","value"),title:u("Number of Speed Dial columns")},r.createElement("option",{value:"1"},"1"),r.createElement("option",{value:"2"},"2"),r.createElement("option",{value:"3"},"3"),r.createElement("option",{value:"4"},"4"),r.createElement("option",{value:"5"},"5"),r.createElement("option",{value:"6"},"6"))));return l(e,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(3),o=n(11),a=n(10),s=n(2),l=i.createClass({displayName:"TabPageSetting",mixins:[o],vivaldiSettingsKeys:["DEFAULT_TAB_PAGE"],getInitialState:function(){return{updating:!1,tabPage:r.getSync("DEFAULT_TAB_PAGE")}},saveTabPage:function(e){var t=e===!0?"":this.refs.tabPage.value;""===t.trim()||t.match(/^[a-zA-Z]+:\/\//)||t.startsWith("vivaldi:")||t.startsWith("chrome:")||t.startsWith("chrome-extension:")||t.startsWith("about:")||(t="http://"+t),r.set({DEFAULT_TAB_PAGE:t},this.setState({updating:!1,tabPage:t}))},tabPageChanged:function(){this.setState({updating:this.refs.tabPage.value!==this.state.DEFAULT_TAB_PAGE,tabPage:this.refs.tabPage.value})},render:function(){var e=i.createElement("div",{className:"setting-group new-tab-page"},i.createElement("h3",null,s("other","New Tab Page")),i.createElement("form",{className:"setting-single"},i.createElement("input",{type:"text",ref:"tabPage",placeholder:s("Address"),value:this.state.tabPage,onChange:this.tabPageChanged}),i.createElement("input",{type:"submit",value:s("Save"),disabled:!this.state.updating,onClick:this.saveTabPage}),i.createElement("input",{type:"button",value:s("Default"),disabled:""===this.state.tabPage,onClick:this.saveTabPage.bind(this,!0)})));return a(e,this.props.filter)}});e.exports=l},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(30),a=n(3),s=n(11),l=n(2),u=n(10),c=r.createClass({displayName:"AddressBar",mixins:[s],vivaldiSettingsKeys:["ADDRESS_BAR_AUTOCOMPLETE_ENABLED","ADDRESS_BAR_AUTOCOMPLETE_PREFER_BOOKMARKS","ADDRESS_BAR_OMNIDROPDOWN_ENABLED","ADDRESS_BAR_POSITION","ADDRESS_BAR_SHOW_FULL_URL","SHOW_ADDRESS_BAR","SHOW_FFW_RWD_BUTTONS"],saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("section",null,r.createElement("h2",null,l("Address Bar")),r.createElement("div",{className:"setting-group unlimited"},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.SHOW_ADDRESS_BAR,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SHOW_ADDRESS_BAR","checked")}),r.createElement("span",null,l("Show Address Bar"))))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,l("Address Bar Position")),r.createElement(o,{name:"addressbar-position",value:this.state.ADDRESS_BAR_POSITION,ref:"addressPositionGroup",onChange:this.saveVivaldiSettingFromEvent.bind(this,"ADDRESS_BAR_POSITION","value"),className:"group"},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"top"}),r.createElement("span",null,l("Top")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"bottom"}),r.createElement("span",null,l("Bottom")))))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,l("Address Bar Options")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.SHOW_FFW_RWD_BUTTONS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SHOW_FFW_RWD_BUTTONS","checked")}),r.createElement("span",null,l("Enable Fast Forward and Rewind")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.ADDRESS_BAR_SHOW_FULL_URL,onChange:this.saveVivaldiSettingFromEvent.bind(this,"ADDRESS_BAR_SHOW_FULL_URL","checked")}),r.createElement("span",null,l("Show Full URL")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.ADDRESS_BAR_OMNIDROPDOWN_ENABLED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"ADDRESS_BAR_OMNIDROPDOWN_ENABLED","checked")}),r.createElement("span",null,l("Dropdown Enabled"))))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,l("Address Auto-Complete")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.ADDRESS_BAR_AUTOCOMPLETE_ENABLED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"ADDRESS_BAR_AUTOCOMPLETE_ENABLED","checked")}),r.createElement("span",null,l("Enabled")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.ADDRESS_BAR_AUTOCOMPLETE_PREFER_BOOKMARKS,disabled:!this.state.ADDRESS_BAR_AUTOCOMPLETE_ENABLED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"ADDRESS_BAR_AUTOCOMPLETE_PREFER_BOOKMARKS","checked")}),r.createElement("span",null,l("Always Prefer Bookmarks"))))));return u(e,this.props.filter)}});e.exports=c},function(e,t,n){(function(t){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(30),a=n(3),s=n(11),l=n(10),u=n(124),c=n(69),A=n(8),d=n(2),h=r.createClass({displayName:"Appearance",mixins:[s],vivaldiSettingsKeys:["LINUX_ALT_CONTROLS","USE_NATIVE_WINDOW_DECORATIONS","BROWSER_FG_COLOR","SHOW_VIVALDI_FOOTER","USE_TABCOLOR","TABCOLOR_BEHIND_TABS","MINIMALISTIC_UI_SHOW","USE_ANIMATION","USE_SETTINGS_WINDOW_AS_TAB"],getInitialState:function(){return{initialZoom:1}},componentWillMount:function(){var e=this;A.zoom.getVivaldiUIZoom(function(t){return e.setState({initialZoom:t})})},saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},reportStatusBar:function(e){this.saveVivaldiSettingFromEvent("SHOW_VIVALDI_FOOTER","value",e),"urls"===e.target.value&&t.nextTick(function(){return c.setStatus(d("Status Info set to Overlay"),2e3)})},handleZoomUpdated:function(e){A.zoom.setVivaldiUIZoom(e),this.setState({initialZoom:e})},render:function(){var e=void 0;e=this.state.USE_TABCOLOR&&"on"===this.state.TABCOLOR_BEHIND_TABS?"tabcolor-behind":this.state.USE_TABCOLOR&&"on"!==this.state.TABCOLOR_BEHIND_TABS?"tabcolor-infront":"tabcolor-off";var t=r.createElement("div",{className:"setting-group unlimited"},r.createElement("h2",null,d("Window Appearance")),r.createElement("div",{className:"setting-group"},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.USE_NATIVE_WINDOW_DECORATIONS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"USE_NATIVE_WINDOW_DECORATIONS","checked")}),r.createElement("span",null,d("Use Native Window"))),r.createElement("p",{className:"info"},d("This setting requires a restart to take full effect."))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.USE_SETTINGS_WINDOW_AS_TAB,onChange:this.saveVivaldiSettingFromEvent.bind(this,"USE_SETTINGS_WINDOW_AS_TAB","checked")}),r.createElement("span",null,d("Open Settings in a Tab")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.MINIMALISTIC_UI_SHOW,onChange:this.saveVivaldiSettingFromEvent.bind(this,"MINIMALISTIC_UI_SHOW","checked")}),r.createElement("span",null,d("Show User Interface")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.USE_ANIMATION,onChange:this.saveVivaldiSettingFromEvent.bind(this,"USE_ANIMATION","checked")}),r.createElement("span",null,d("Use Animation"))))),"linux"===this.props.platform&&r.createElement("div",{className:"setting-group"},r.createElement("h3",null,d("Window Controls Position")),r.createElement(o,{className:"linuxAltControls",ref:"linuxAltControls",name:"linuxAltControls",value:this.state.LINUX_ALT_CONTROLS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"LINUX_ALT_CONTROLS","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:!1}),r.createElement("span",null,d("Right Side")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:!0}),r.createElement("span",null,d("Left Side")))))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,d("Status Bar")),r.createElement("div",{className:"setting-single"},r.createElement(o,{name:"StatusBar",className:"group",value:this.state.SHOW_VIVALDI_FOOTER,onChange:this.reportStatusBar},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"on"}),r.createElement("span",null,d("Show Status Bar")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"urls"}),r.createElement("span",null,d("Show Status Info Overlay")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"off"}),r.createElement("span",null,d("Hide Status Bar"))))))),r.createElement("div",{className:"setting-group unlimited"},r.createElement("h3",null,d("User Interface Zoom")),r.createElement("div",{className:"setting-single"},r.createElement(u,{maxLevel:2,minLevel:.5,step:.05,initialZoom:this.state.initialZoom,onZoomUpdated:this.handleZoomUpdated}))),r.createElement("h3",null,d("Interface Color")),r.createElement("div",{className:"setting-group unlimited"},r.createElement(o,{name:"BrowserBGColor",className:"group",value:this.state.BROWSER_FG_COLOR,onChange:this.saveVivaldiSettingFromEvent.bind(this,"BROWSER_FG_COLOR","value")},r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"ui-light",className:"light-ui-preview "+e}),r.createElement("span",null,d("Light")))),r.createElement("div",{className:"setting-single image-radio"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"ui-dark",className:"dark-ui-preview "+e}),r.createElement("span",null,d("Dark"))))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.USE_TABCOLOR,onChange:this.saveVivaldiSettingFromEvent.bind(this,"USE_TABCOLOR","checked")}),r.createElement("span",null,d("Use Page Theme Color in User Interface"))),r.createElement("div",{className:"setting-single pad-top"},r.createElement(o,{name:"color-area",className:"group",value:this.state.TABCOLOR_BEHIND_TABS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TABCOLOR_BEHIND_TABS","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"off",disabled:!this.state.USE_TABCOLOR}),r.createElement("span",null,d("Color Active Tab")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"on",disabled:!this.state.USE_TABCOLOR}),r.createElement("span",null,d("Color Tab Bar Background")))))))));return l(t,this.props.filter)}});e.exports=h}).call(t,n(22))},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(30),a=n(3),s=n(11),l=n(2),u=n(10),c=n(187),A=n(40),d=r.createClass({displayName:"BookmarkBar",mixins:[s],vivaldiSettingsKeys:["BOOKMARK_BAR_POSITION","BOOKMARK_BAR_VISIBLE","BOOKMARK_BAR_DISPLAY","BOOKMARKS_BAR_FOLDER_IDS"],handleShowBookmarkBar:function(){a.set({BOOKMARK_BAR_VISIBLE:!this.state.BOOKMARK_BAR_VISIBLE})},saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},onFolderChange:function(e){A.setBookmarkBarFolder(e.target.value)},render:function(){var e=this.state.BOOKMARKS_BAR_FOLDER_IDS?this.state.BOOKMARKS_BAR_FOLDER_IDS[0]:"1",t=r.createElement("div",null,r.createElement("h2",null,l("Bookmark Bar")),r.createElement("div",{className:"setting-group unlimited"},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.BOOKMARK_BAR_VISIBLE,onChange:this.handleShowBookmarkBar}),r.createElement("span",null,l("Show Bookmark Bar"))))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,l("Select Bookmark Bar Folder")),r.createElement("div",{className:"setting-single"},r.createElement(c,{onChange:this.onFolderChange,selectedItemID:e}))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,l("Bookmark Bar Position")),r.createElement(o,{name:"bookmark-position",value:this.state.BOOKMARK_BAR_POSITION,ref:"bookmarkPositionGroup",onChange:this.saveVivaldiSettingFromEvent.bind(this,"BOOKMARK_BAR_POSITION","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"top"}),r.createElement("span",null,l("Top")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"bottom"}),r.createElement("span",null,l("Bottom")))))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,l("Bookmark Bar Display")),r.createElement(o,{name:"bookmark_bar_display",ref:"bookmark_bar_display",value:this.state.BOOKMARK_BAR_DISPLAY,onChange:this.saveVivaldiSettingFromEvent.bind(this,"BOOKMARK_BAR_DISPLAY","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"default"}),r.createElement("span",null,l("Text and Icon")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"text"}),r.createElement("span",null,l("Text Only")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"icon"}),r.createElement("span",null,l("Icon Only")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"iconexceptfolders"}),r.createElement("span",null,l("Bookmark Icon Only")))))));return u(t,this.props.filter)}});e.exports=d},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(3),a=n(11),s=n(2),l=n(10),u=r.createClass({displayName:"FullscreenSettings",mixins:[a],vivaldiSettingsKeys:["SHOW_FULLSCREEN_BUBBLE"],saveVivaldiSettingFromEvent:function(e,t,n){o.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("span",null,r.createElement("div",{className:"setting-group"},r.createElement("h3",null,s("Fullscreen")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.SHOW_FULLSCREEN_BUBBLE,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SHOW_FULLSCREEN_BUBBLE","checked")}),r.createElement("span",null,s("Show Fullscreen Reminder"))))));return l(e,this.props.filter)}});e.exports=u},function(e,t,n){"use strict";var i=n(4),r=n(1),o=n(10),a=n(8),s=n(2),l=n(125),u=n(3),c="about:blank",A=r.createClass({displayName:"HomePageSetting",getInitialState:function(){return{homePage:u.getSync(l.kVivaldiHomepage),initialPage:u.getSync(l.kVivaldiHomepage),updating:!1}},saveHomePage:function(){var e=this.state.homePage;""===e?e=c:e.match(/^[a-zA-Z]+:\/\//)||e.match(/^vivaldi:/)||e.match(/^about:/)||(e="http://"+e);var t={preferenceKey:l.kVivaldiHomepage,preferenceValue:{string:e},preferenceType:"string"};a.settings.setPreference(t),i.runtime.lastError&&console.warn("Error storing home page: "+i.runtime.lastError),this.setState({initialPage:this.refs.homePage.value,updating:!1})},homePageChange:function(e){var t=e.target.value;this.setState({homePage:t,updating:t!==this.state.saved})},render:function(){var e=r.createElement("div",{className:"setting-group homepage"},r.createElement("h3",null,s("other","Homepage")),r.createElement("form",{className:"setting-single",onSubmit:this.saveHomePage},r.createElement("input",{type:"text",ref:"homePage",placeholder:s("Address"),onChange:this.homePageChange,value:this.state.homePage}),r.createElement("input",{type:"submit",value:s("Save"),disabled:!this.state.updating})));return o(e,this.props.filter)}});e.exports=A},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(30),a=n(3),s=n(11),l=n(2),u=n(10),c=r.createClass({displayName:"MenuType",mixins:[s],vivaldiSettingsKeys:["VIVALDI_MENU_POSITION"],saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("span",null,r.createElement("h2",null,l("Menu")),r.createElement("div",{className:"setting-group"},r.createElement(o,{name:"menuPosition",ref:"menuPositionGroup",value:this.state.VIVALDI_MENU_POSITION,onChange:this.saveVivaldiSettingFromEvent.bind(this,"VIVALDI_MENU_POSITION","value"),className:"group"},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"top"}),r.createElement("span",null,l("Horizontal Menu")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"vivaldi"}),r.createElement("span",null,l("Vivaldi Button")))))));return u(e,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(8),o=n(2),a=n(10),s=i.createClass({displayName:"NetworkSettings",onClick:function(){r.importData.launchNetworkSettings(function(e){})},render:function(){var e=i.createElement("span",null,i.createElement("h2",null,o("Network")),i.createElement("div",{className:"setting-group"},i.createElement("h3",null,o("Proxies")),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"button",value:o("Proxy Settings"),onClick:this.onClick})))));return a(e,this.props.filter)}});e.exports=s},function(e,t,n){"use strict";function i(e,t,n){
return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(30),a=n(3),s=n(11),l=n(2),u=n(10),c=r.createClass({displayName:"Panels",mixins:[s],vivaldiSettingsKeys:["SHOW_PANEL_SWITCH","PANEL_POSITION"],saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("span",null,r.createElement("h2",null,l("Panels")),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,l("Panel Position")),r.createElement(o,{name:"panelPosition",ref:"panelPositionGroup",value:this.state.PANEL_POSITION,onChange:this.saveVivaldiSettingFromEvent.bind(this,"PANEL_POSITION","value"),className:"group"},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"left"}),r.createElement("span",null,l("Left Side")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"right"}),r.createElement("span",null,l("Right Side")))))),r.createElement("div",{className:"setting-group"},r.createElement("h3",null,l("Panel Options")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",title:l("Display a panel toggle button along the side"),checked:this.state.SHOW_PANEL_SWITCH,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SHOW_PANEL_SWITCH","checked")}),r.createElement("span",null,l("Show Panel Toggle"))))));return u(e,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(3),a=n(2),s=n(11),l=n(10),u=r.createClass({displayName:"QuickCommands",mixins:[s],vivaldiSettingsKeys:["QUICK_COMMAND_OPEN_URL_IN_NEW_TAB","QC_LAUNCH_BOOKMARK_ON_NICK_MATCH"],saveVivaldiSettingFromEvent:function(e,t,n){o.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("span",null,r.createElement("h2",null,a("Quick Commands")),r.createElement("div",{className:"setting-group unlimited"},r.createElement("h3",null,a("Behavior")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.QUICK_COMMAND_OPEN_URL_IN_NEW_TAB,onChange:this.saveVivaldiSettingFromEvent.bind(this,"QUICK_COMMAND_OPEN_URL_IN_NEW_TAB","checked")}),r.createElement("span",null,a("Open Pages in New Tab")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.QC_LAUNCH_BOOKMARK_ON_NICK_MATCH,onChange:this.saveVivaldiSettingFromEvent.bind(this,"QC_LAUNCH_BOOKMARK_ON_NICK_MATCH","checked")}),r.createElement("span",null,a("Open Bookmarks on Nickname Match"))))));return l(e,this.props.filter)}});e.exports=u},function(e,t,n){"use strict";var i=n(1),r=n(205),o=n(24),a=n(2),s=i.createClass({displayName:"SetVivaldiDefaultBrowserDlg",getInitialState:function(){return{msg:"",shown:!0,modalShown:!1}},handleClick:function(){var e={dialogText:this.state.value};this.state.shown&&this.props.onClose(e),this.setState({shown:!this.state.shown})},componentWillReceiveProps:function(){this.setState({shown:!0})},render:function(){return this.state.shown?i.createElement(o,{onRequestClose:this.handleClick,viewMode:"default-browser slide"},i.createElement("header",{className:"dialog-header"},i.createElement("h1",{className:"dialog-title"},a("Default Browser"))),i.createElement("div",{className:"dialog-content"},i.createElement(r,{onClose:this.handleClick,startup:!0})),i.createElement("footer",{className:"dialog-footer"},i.createElement("input",{type:"button",value:a("Cancel"),onClick:this.handleClick}))):null}});e.exports=s},function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(1),o=n(4),a=n(10),s=n(393),l=n(25),u=n(2),c=n(8),A=n(19),d=A.urls,h=n(101),p=r.createClass({displayName:"SpecificSession",getInitialState:function(){return{STARTUP_SESSION_URLS:[],hasUrlInInput:!1}},componentWillMount:function(){var e=this;c.settings.getPreference("session.startup_urls",function(t){var n=t.preferenceValue.array,i=n.map(function(e,t){return{url:e,id:t}});e.setState({STARTUP_SESSION_URLS:i})})},handleInputChange:function(e){if(e.target.value.length>2?this.setState({hasUrlInInput:!0}):this.setState({hasUrlInInput:!1}),e.keyCode===l.KEY_ESCAPE)e.target.value="",this.setState({hasUrlInInput:!1});else{if(e.keyCode!==l.KEY_RETURN&&e.keyCode!==l.KEY_ENTER)return;e.target.value.length>2&&this.addUrl()}},saveChanges:function(){for(var e=[],t=this.state.STARTUP_SESSION_URLS,n=0;n<t.length;n++)e.push(t[n].url);var i={preferenceKey:"session.startup_urls",preferenceValue:{array:e},preferenceType:"array"};c.settings.setPreference(i)},addUrl:function(){var e=this.refs.createUrlField.value.trim();-1===e.indexOf("://")&&(e="http://"+e),this.refs.createUrlField.value="",this.setState({hasUrlInInput:!1});var t=0;this.state.STARTUP_SESSION_URLS.length>0&&(t=Math.max.apply(Math,this.state.STARTUP_SESSION_URLS.map(function(e){return e.id?e.id:0}))),this.state.STARTUP_SESSION_URLS.push({url:e,id:t+1}),this.saveChanges()},save:function(e){for(var t=this.state.STARTUP_SESSION_URLS,n=0;n<t.length;n++)if(t[n].id===e.id){var i=e.url;-1===i.indexOf(":")&&(i="http://"+i),t[n].url=i;break}this.setState({STARTUP_SESSION_URLS:t},function(){this.saveChanges()}.bind(this))},deleteUrl:function(e){for(var t=this.state.STARTUP_SESSION_URLS,n=0;n<t.length;n++)if(t[n].url===e.url){t.splice(n,1);break}this.setState({STARTUP_SESSION_URLS:t},function(){this.saveChanges()}.bind(this))},useCurrentPages:function(){var e=this;o.tabs.query({windowType:"normal"},function(t){var n=t.map(function(e){return h.tabToPage(e)}).filter(function(e){return!d.isInternalPage(e)}).map(function(e,t){return{id:t+1,url:e.get("url")}});e.setState({STARTUP_SESSION_URLS:n}),e.saveChanges()})},render:function(){var e=this.state.STARTUP_SESSION_URLS.map(function(e){return r.createElement(s,i({urlItem:e,key:e.id,onDelete:this.deleteUrl.bind(this,e),onSave:this.save},this.props))}.bind(this)),t=r.createElement("div",{className:"setting-group setting-startup-specific-pages"},r.createElement("h3",null,u("Startup Pages")),e,r.createElement("div",{className:"setting-flexgroup"},r.createElement("input",{className:"setting-single-flex",type:"text",ref:"createUrlField",value:this.props.url,onKeyUp:this.handleInputChange,placeholder:u("Enter page URL")}),r.createElement("input",{className:"setting-single-noflex",type:"button",onClick:this.addUrl,disabled:!this.state.hasUrlInInput,value:u("Add")})),r.createElement("input",{type:"button",onClick:this.useCurrentPages,value:u("Use Current Pages")}));return a(t,this.props.filter)}});e.exports=p},function(e,t,n){"use strict";var i=n(1),r=n(10),o=n(2),a=i.createClass({displayName:"SpecificSessionItem",handleUrlChange:function(e){var t=this.props.urlItem;t.url=e.target.value,this.props.onSave(t)},render:function(){var e=i.createElement("div",{className:"setting-single"},i.createElement("input",{className:"edit",type:"text",ref:"editField",value:this.props.urlItem.url,onChange:this.handleUrlChange}),i.createElement("input",{type:"button",tabIndex:"-1",className:"circular clearkey",onClick:this.props.onDelete,title:o("Remove page")}));return r(e,this.props.filter)}});e.exports=a},function(e,t,n){"use strict";var i=n(1),r=n(10),o=n(30),a=n(392),s=n(8),l=n(2),u=n(7),c=i.createClass({displayName:"StartupSetting",mixins:[u],getInitialState:function(){return{STARTUP_OPTIONS:"last"}},componentWillMount:function(){s.importData.getStartupAction(function(e){this.setState({STARTUP_OPTIONS:e})}.bind(this))},saveStartup:function(e){var t=e.target.value;s.importData.setStartupAction(t,function(e){this.setState({STARTUP_OPTIONS:e})}.bind(this))},render:function(){var e="urls"===this.state.STARTUP_OPTIONS?i.createElement(a,this.props):null,t=i.createElement("span",null,i.createElement("div",{className:"setting-group"},i.createElement("h3",null,l("Startup with")),i.createElement(o,{name:"startupSettings",ref:"startupSettingsGroup",value:this.state.STARTUP_OPTIONS,onChange:this.saveStartup},i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"last"}),i.createElement("span",null,l("Last Session")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"homepage"}),i.createElement("span",null,l("radio","Homepage")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"speeddial"}),i.createElement("span",null,l("radio","Start Page")))),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",value:"urls"}),i.createElement("span",null,l("Specific Pages")))))),e);return r(t,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(1),o=n(13),a=n(2),s=n(394),l=n(205),u=n(386),c=r.createClass({displayName:"StartupSettingSection",componentDidUpdate:function(){o.findDOMNode(this.refs.startUp).style.display=o.findDOMNode(this.refs.defaultBrowser)||o.findDOMNode(this.refs.homepageSettings)||o.findDOMNode(this.refs.startupSettings)?"inline":"none"},render:function(){return r.createElement("span",{ref:"startUp"},r.createElement("h2",null,a("Startup")),r.createElement(l,i({},this.props,{ref:"defaultBrowser"})),r.createElement(u,i({},this.props,{ref:"homepageSettings"})),r.createElement(s,i({},this.props,{ref:"startupSettings"})))}});e.exports=c},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(30),a=n(3),s=n(41),l=n(2),u=n(10),c=["TAB_ACTIVATION_PREFER_RELATED","TAB_CLOSE_ACTIVATION","TAB_POSITION"],A=r.createClass({displayName:"TabActivation",saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},isHorizontal:function(){var e=this.props.vivaldiSettings.TAB_POSITION;return"top"===e||"bottom"===e},render:function(){var e=this.props.vivaldiSettings,t=r.createElement("span",null,r.createElement("div",{className:"setting-group"},r.createElement("div",{className:"setting-single"},r.createElement("h3",null,l("Close Tab Activation")),r.createElement("div",{className:"setting-single"},r.createElement("label",{title:l("Activate tabs related by origin first")},r.createElement("input",{type:"checkbox",checked:e.TAB_ACTIVATION_PREFER_RELATED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_ACTIVATION_PREFER_RELATED","checked")}),r.createElement("span",null,l("Always Prefer Related Tab")))),r.createElement("div",{className:"setting-single pad-top"},r.createElement(o,{name:"tabActivate",ref:"newTabActivation",value:e.TAB_CLOSE_ACTIVATION,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_CLOSE_ACTIVATION","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"activation_order"}),r.createElement("span",null,l("Activate in Recently Used Order")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"left"}),r.createElement("span",null,l(this.isHorizontal()?"Activate Left in Tab Order":"Activate Above in Tab Order")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"right"}),r.createElement("span",null,l(this.isHorizontal()?"Activate Right in Tab Order":"Activate Below in Tab Order")))))))));return u(t,this.props.filter)}});e.exports=s(A,c)},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(3),a=n(11),s=n(2),l=n(10),u=r.createClass({displayName:"TabColor",mixins:[a],vivaldiSettingsKeys:["USE_TABCOLOR","USE_TAB_TRANSPARENT_TABS"],saveVivaldiSettingFromEvent:function(e,t,n){o.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("div",{className:"setting-group"},r.createElement("div",{className:"setting-single"},r.createElement("h3",null,s("Tab Colors")),r.createElement("div",{className:"setting-single"},r.createElement("label",{title:s("Colors the active tab with the dominant color of the website you are viewing")},r.createElement("input",{type:"checkbox",checked:this.state.USE_TABCOLOR,onChange:this.saveVivaldiSettingFromEvent.bind(this,"USE_TABCOLOR","checked")}),r.createElement("span",null,s("Use Page Theme Color")))),r.createElement("div",{className:"setting-single"},r.createElement("label",{title:s("Removes the background color for the non-active tabs.")},r.createElement("input",{type:"checkbox",checked:this.state.USE_TAB_TRANSPARENT_TABS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"USE_TAB_TRANSPARENT_TABS","checked")}),r.createElement("span",null,s("Transparent Background Tabs"))))));return l(e,this.props.filter)}});e.exports=u},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(30),a=n(3),s=n(2),l=n(10),u=n(11),c=r.createClass({displayName:"TabCycling",mixins:[u],vivaldiSettingsKeys:["TAB_SWITCH_VISUAL","TAB_CYCLING_ORDER","MOUSE_WHEEL_TAB_SWITCHING","TAB_CLICK_ACTIVE_OPENS_PREVIOUS","TAB_NEVER_CLOSE_LAST"],getInitialState:function(){return{tabCyclingOrderSetting:"recently used"}},saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("div",{className:"setting-group"},r.createElement("h3",{htmlFor:"tabSelection"},s("Tab Cycling")),r.createElement(o,{name:"tabCyclingOrder",ref:"tabSelGroup",value:this.state.TAB_CYCLING_ORDER,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_CYCLING_ORDER","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"recently used"}),r.createElement("span",null,s("Cycle in Recently Used Order")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"tab order"}),r.createElement("span",null,s("Cycle in Tab Order"))))),r.createElement("div",{className:"setting-single pad-top"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.TAB_SWITCH_VISUAL,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_SWITCH_VISUAL","checked")}),r.createElement("span",null,s("Show Tab Cycler")))),r.createElement("div",{className:"setting-single"},r.createElement("label",{title:s("Scroll over Tab Bar to switch tabs by order, or scroll anywhere else while holding ALT key to switch tabs per Tab Cycling setting.")},r.createElement("input",{type:"checkbox",checked:this.state.MOUSE_WHEEL_TAB_SWITCHING,onChange:this.saveVivaldiSettingFromEvent.bind(this,"MOUSE_WHEEL_TAB_SWITCHING","checked")}),r.createElement("span",null,s("Switch Tabs by Scrolling")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.TAB_CLICK_ACTIVE_OPENS_PREVIOUS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_CLICK_ACTIVE_OPENS_PREVIOUS","checked")}),r.createElement("span",null,s("Click Active Tab to Switch to Previous Tab")))),r.createElement("div",{className:"setting-single"},r.createElement("label",{title:s("Create a new tab when the last tab is closed. Prevents window from closing.")},r.createElement("input",{type:"checkbox",checked:this.state.TAB_NEVER_CLOSE_LAST,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_NEVER_CLOSE_LAST","checked")}),r.createElement("span",null,s("Always Keep Last Tab")))));return l(e,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(30),a=n(3),s=n(11),l=n(2),u=n(10),c=r.createClass({displayName:"TabOpen",mixins:[s],vivaldiSettingsKeys:["TAB_NEW_PLACEMENT","TAB_CLONE_PLACEMENT"],saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("span",null,r.createElement("div",{className:"setting-group"},r.createElement("div",{className:"setting-single"},r.createElement("h3",null,l("New Tab Position")),r.createElement(o,{name:"tabOpen",value:this.state.TAB_NEW_PLACEMENT,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_NEW_PLACEMENT","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"rightofcurrent"}),r.createElement("span",null,l("After Related Tabs")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"directrightofcurrent"}),r.createElement("span",null,l("After Active Tab")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"alwayslast"}),r.createElement("span",null,l("As Last Tab"))))))),r.createElement("div",{className:"setting-group"},r.createElement("div",{className:"setting-single"},r.createElement("h3",null,l("Clone Tab Position")),r.createElement(o,{name:"tabClone",value:this.state.TAB_CLONE_PLACEMENT,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_CLONE_PLACEMENT","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"rightofcurrent"}),r.createElement("span",null,l("After Cloned Tab")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"alwayslast"}),r.createElement("span",null,l("As Last Tab"))))))));return u(e,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(3),a=n(11),s=n(2),l=n(10),u=r.createClass({displayName:"TabPosition",mixins:[a],vivaldiSettingsKeys:["SWITCH_TABS_AT_WINDOW_EDGE","TAB_CLOSEBUTTON_ENABLED","TAB_UNREAD_ENABLED","TAB_THUMBNAILS_ENABLED","USE_TAB_CLOSE_ON_DOUBLECLICK","USE_TOOLTIP"],saveVivaldiSettingFromEvent:function(e,t,n){o.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("div",{className:"setting-group"},r.createElement("div",{className:"setting-single"},r.createElement("h3",null,s("Tab Options")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.USE_TOOLTIP,onChange:this.saveVivaldiSettingFromEvent.bind(this,"USE_TOOLTIP","checked")}),r.createElement("span",null,s("Show Popup Thumbnails")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.TAB_THUMBNAILS_ENABLED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_THUMBNAILS_ENABLED","checked")}),r.createElement("span",null,s("Show Tab Thumbnails")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.TAB_CLOSEBUTTON_ENABLED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_CLOSEBUTTON_ENABLED","checked")}),r.createElement("span",null,s("Display Close Button")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.USE_TAB_CLOSE_ON_DOUBLECLICK,onChange:this.saveVivaldiSettingFromEvent.bind(this,"USE_TAB_CLOSE_ON_DOUBLECLICK","checked")}),r.createElement("span",null,s("Close Tab on Double Click")))),"mac"!==this.props.platform&&r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.SWITCH_TABS_AT_WINDOW_EDGE,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SWITCH_TABS_AT_WINDOW_EDGE","checked"),disabled:"left"===this.state.TAB_POSITION||"right"===this.state.TAB_POSITION}),r.createElement("span",null,s("Remove Tab Spacing in Maximized Windows")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.TAB_UNREAD_ENABLED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_UNREAD_ENABLED","checked")}),r.createElement("span",null,s("Use Unread Indicators"))))));return l(e,this.props.filter)}});e.exports=u},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(30),a=n(3),s=n(11),l=n(2),u=n(10),c=r.createClass({displayName:"TabPinning",mixins:[s],vivaldiSettingsKeys:["CLOSABLE_PINNED_TABS"],saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("div",{className:"setting-group"},r.createElement("h3",null,l("Pinned Tabs")),r.createElement(o,{name:"closablePinnedTabs",value:this.state.CLOSABLE_PINNED_TABS,onChange:this.saveVivaldiSettingFromEvent.bind(this,"CLOSABLE_PINNED_TABS","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"off"}),r.createElement("span",null,l("Don’t Close Pinned Tabs")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"bury"}),r.createElement("span",null,l("Minimize Instead of Close")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"on"}),r.createElement("span",null,l("Close as Other Tabs"))))));return u(e,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(30),a=n(3),s=n(11),l=n(2),u=n(10),c=r.createClass({displayName:"TabPosition",mixins:[s],vivaldiSettingsKeys:["TAB_POSITION","SHOW_TAB_BAR"],saveVivaldiSettingFromEvent:function(e,t,n){a.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("div",{style:{display:"inline"}},r.createElement("div",{className:"setting-group unlimited"},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.SHOW_TAB_BAR,onChange:this.saveVivaldiSettingFromEvent.bind(this,"SHOW_TAB_BAR","checked")}),r.createElement("span",null,l("Show Tab Bar"))))),r.createElement("div",{className:"setting-group"},r.createElement("div",{className:"setting-single"},r.createElement("h3",null,l("Tab Bar Position")),r.createElement(o,{name:"tabPosition",value:this.state.TAB_POSITION,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_POSITION","value")},r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"top"}),r.createElement("span",null,l("Top")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"left"}),r.createElement("span",null,l("Left Side")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"right"}),r.createElement("span",null,l("Right Side")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"radio",value:"bottom"}),r.createElement("span",null,l("Bottom"))))))));return u(e,this.props.filter)}});e.exports=c},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(3),a=n(11),s=n(36),l=n(2),u=n(10),c="mac"===s(),A=r.createClass({displayName:"TabSelection",mixins:[a],vivaldiSettingsKeys:["TAB_SELECTION_ENABLED","TAB_SELECTION_INCLUDE_ACTIVE"],saveVivaldiSettingFromEvent:function(e,t,n){o.set(i({},e,n.target[t]))},render:function(){var e=r.createElement("div",{className:"setting-group"},r.createElement("div",{className:"setting-single"},r.createElement("h3",null,l("Tab Selection")),r.createElement("div",{className:"setting-single"},r.createElement("label",{title:l(c?"Select multiple tabs with command and shift":"Select multiple tabs with ctrl and shift")},r.createElement("input",{type:"checkbox",checked:this.state.TAB_SELECTION_ENABLED,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_SELECTION_ENABLED","checked")}),r.createElement("span",null,l("Enable Tab Selection")))),r.createElement("div",{className:"setting-single"},r.createElement("label",{title:l("The active tab will always be part of the initial tab selection")},r.createElement("input",{type:"checkbox",checked:this.state.TAB_SELECTION_INCLUDE_ACTIVE,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_SELECTION_INCLUDE_ACTIVE","checked")}),r.createElement("span",null,l("Include Active Tab in Initial Selection"))))));return u(e,this.props.filter)}});e.exports=A},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(3),a=n(11),s=n(2),l=n(10),u=r.createClass({displayName:"TabStacking",mixins:[a],vivaldiSettingsKeys:["TAB_STACKING","TAB_STACKING_OPEN_IN_CURRENT"],saveVivaldiSettingFromEvent:function(e,t,n){o.set(i({},e,n.target[t]))},handleChange:function(e){o.set({TAB_STACKING:e.target.checked?"on":"off"})},render:function(){var e=r.createElement("div",{className:"setting-group"},r.createElement("h3",null,s("Tab Stacking")),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:"on"===this.state.TAB_STACKING,onChange:this.handleChange}),r.createElement("span",null,s("Enable Tab Stacking")))),r.createElement("div",{className:"setting-single"},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:this.state.TAB_STACKING_OPEN_IN_CURRENT,onChange:this.saveVivaldiSettingFromEvent.bind(this,"TAB_STACKING_OPEN_IN_CURRENT","checked")}),r.createElement("span",null,s("Open Tabs in Current Tab Stack")))));return l(e,this.props.filter)}});e.exports=u},function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(1),o=n(13),a=n(2),s=n(396),l=n(398),u=n(397),c=n(399),A=n(401),d=n(402),h=n(403),p=n(404),f=n(400),m=n(381),g=r.createClass({displayName:"TabsSettingSection",componentDidUpdate:function(){o.findDOMNode(this.refs.start).style.display=o.findDOMNode(this.refs.tabposition)||o.findDOMNode(this.refs.tabcycling)||o.findDOMNode(this.refs.taboopen)||o.findDOMNode(this.refs.tabpinning)||o.findDOMNode(this.refs.tabanimation)||o.findDOMNode(this.refs.tabcolor)||o.findDOMNode(this.refs.tabstacking)||o.findDOMNode(this.refs.tabpage)?"inline":"none"},render:function(){return r.createElement("div",{ref:"start"},r.createElement("h2",null,a("Tabs")),r.createElement(d,i({},this.props,{ref:"tabposition"})),r.createElement(m,i({},this.props,{ref:"tabpage"})),r.createElement(c,i({},this.props,{ref:"tabopen"})),r.createElement(s,i({},this.props,{ref:"tabactivation"})),r.createElement("h2",null,a("Tab Display")),r.createElement(u,i({},this.props,{ref:"tabcolor"})),r.createElement(f,i({},this.props,{ref:"taboptions"})),r.createElement("h2",null,a("Tab Features")),r.createElement(l,i({},this.props,{ref:"tabcycling"})),r.createElement(h,i({},this.props,{ref:"tabselection"})),r.createElement(p,i({},this.props,{ref:"tabstacking"})),r.createElement(A,i({},this.props,{ref:"tabpinning"})))}});e.exports=g},function(e,t,n){"use strict";var i=n(1),r=n(2),o=n(3),a=n(10),s=i.createClass({displayName:"Sync",getInitialState:function(){return{syncServices:[]}},changeSelection:function(e){var t=this.state.syncServices.map(function(t){return{id:t.id,name:t.name,selected:t.id===e?!t.selected:t.selected}});this.setState({syncServices:t},function(){o.set({SYNC_SETTINGS:t})})},componentWillMount:function(){o.get(["SYNC_SETTINGS"],function(e){this.setState({syncServices:e.SYNC_SETTINGS})}.bind(this))},selectAll:function(){var e=this.refs.selectAllRef.checked,t=this.state.syncServices.map(function(t){return{id:t.id,selected:e,name:t.name}});this.setState({syncServices:t},function(){o.set({SYNC_SETTINGS:t})})},render:function(){var e=this.state.syncServices.map(function(e){return i.createElement("div",{key:e.id,className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:e.selected,onChange:this.changeSelection.bind(this,e.id)}),i.createElement("span",null,e.name)))}.bind(this)),t=i.createElement("span",null,i.createElement("h2",null,r("Sync settings")),i.createElement("div",{className:"setting-group"},i.createElement("h3",null,r("Sync data across devices")),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",ref:"selectAllRef",onChange:this.selectAll}),i.createElement("span",null,r("All")))),e));return a(t,this.props.filter)}});e.exports=s},function(e,t,n){"use strict";var i=n(1),r=n(10),o=n(8),a=n(125),s=n(2),l=i.createClass({displayName:"TabZoom",getInitialState:function(){return{tabZoom:!1}},componentWillMount:function(){this.updateLocalState(),o.settings.onChanged.addListener(this.onDefaultTabZoomChanged)},componentWillUnmount:function(){o.settings.onChanged.removeListener(this.onDefaultTabZoomChanged)},updateLocalState:function(){var e=this;o.settings.getPreference(a.kVivaldiTabZoom,function(t){e.setState({tabZoom:t.preferenceValue["boolean"]})})},onDefaultTabZoomChanged:function(e){e.preferenceKey===a.kVivaldiTabZoom&&this.updateLocalState()},onZoomModeChange:function(e){var t=e.target.checked;this.setState({tabZoom:t});var n={preferenceKey:a.kVivaldiTabZoom,preferenceValue:{"boolean":t},preferenceType:"boolean"};o.settings.setPreference(n)},render:function(){var e=i.createElement("div",{className:"setting-group unlimited"},i.createElement("h3",null,s("Tab Zoom")),i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.tabZoom,onChange:this.onZoomModeChange}),i.createElement("span",null,s("Use Tab Zoom"))),i.createElement("p",{className:"info"},s("Retain zoom level when navigating between websites"))));return r(e,this.props.filter)}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(10),o=n(30),a=n(8),s=n(3),l=n(2),u=i.createClass({displayName:"TabToLinksSetting",getInitialState:function(){return{tabsToLinks:s.getSync("vivaldi.tabs_to_links")}},checkChange:function(e){var t=Boolean("true"===e.target.value),n={preferenceKey:"vivaldi.tabs_to_links",preferenceValue:{"boolean":t},preferenceType:"boolean"};a.settings.setPreference(n),this.setState({tabsToLinks:t})},render:function(){var e=i.createElement("div",{className:"setting-group unlimited"},i.createElement("div",{className:"setting-single"},i.createElement("h3",null,l("Webpage Focus")),i.createElement("p",{className:"info"},l("This setting takes effect in new tabs or windows only.")),i.createElement(o,{name:"tabToFocusSetting",ref:"keyAccessGroup",className:"setting-single",value:this.state.tabsToLinks,onChange:this.checkChange},i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"radio",
value:!1}),i.createElement("span",null,l("Focus Forms Only")))),i.createElement("div",{className:"setting-single"},i.createElement("label",{className:"setting-single"},i.createElement("input",{type:"radio",value:!0}),i.createElement("span",null,l("Focus All Controls and Links")))))));return r(e,this.props.filter)}});e.exports=u},function(e,t,n){"use strict";var i=n(1),r=n(8),o=n(2),a=n(10),s=i.createClass({displayName:"SmoothScrollingSetting",getInitialState:function(){return{smoothScrollingEnabled:!0}},componentWillMount:function(){var e=this;r.settings.getPreference("smooth_scrolling_enabled",function(t){e.setState({smoothScrollingEnabled:t.preferenceValue["boolean"]})})},checkChange:function(){var e={preferenceKey:"smooth_scrolling_enabled",preferenceValue:{"boolean":!this.state.smoothScrollingEnabled},preferenceType:"boolean"};r.settings.setPreference(e),this.setState({smoothScrollingEnabled:!this.state.smoothScrollingEnabled})},render:function(){var e=i.createElement("div",{className:"setting-group unlimited"},i.createElement("div",{className:"setting-single"},i.createElement("label",null,i.createElement("input",{type:"checkbox",checked:this.state.smoothScrollingEnabled,onChange:this.checkChange}),i.createElement("span",null,o("Smooth Scrolling"))),i.createElement("p",{className:"info"},o("This setting requires a restart to take full effect."))));return a(e,this.props.filter)}});e.exports=s},function(e,t,n){"use strict";var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(1),o=n(13),a=n(2),s=n(409),l=n(408),u=r.createClass({displayName:"WebpagesSettingSection",componentDidUpdate:function(){o.findDOMNode(this.refs.webpages).style.display=o.findDOMNode(this.refs.smoothScrolling)||o.findDOMNode(this.refs.tabToLinks)?"inline":"none"},render:function(){return r.createElement("div",{ref:"webpages"},r.createElement("h2",null,a("Webpages")),r.createElement(s,i({},this.props,{ref:"smoothScrolling"})),r.createElement(l,i({},this.props,{ref:"tabToLinks"})))}});e.exports=u},function(e,t,n){"use strict";var i=n(1),r=n(6),o=i.createClass({displayName:"SpeedDialAddButton",render:function(){return i.createElement("div",{className:r({dial:!0,add:!0,active:this.props.drawerIsOpen})},i.createElement("button",{ref:"openAddSpeedDial",className:"dial-image",title:this.props.title,onClick:this.props.handleClick}))}});e.exports=o},function(e,t,n){"use strict";var i=n(1),r=n(13),o=n(78),a=n(62),s=n(5),l=n(413),u=n(32).ensureURLProtocol,c=n(60),A=n(32).isValidURL,d=n(4),h=n(8),p=n(2),f=s.CHANGED,m=i.createClass({displayName:"SpeedDialDrawer",getInitialState:function(){return{addSpeedDialTitle:"",isSpeedDialURLValid:!1}},componentDidMount:function(){r.findDOMNode(this.refs.urlField).focus(),a.addListener(f,this._onUrlbarStoreChanged)},componentWillUnmount:function(){a.removeListener(f,this._onUrlbarStoreChanged)},_onUrlbarStoreChanged:function(){var e=a.getUrlfieldStateFromId("speedDialDrawer");this.setState(e),this.onUrlFieldChanged()},addSpeedDialFolder:function(){var e={parentId:this.props.node.id,title:p("New Folder")};d.bookmarks.create(e,function(e){d.runtime.lastError&&console.warn("The computer tried to create a speed dial folder, but The Bookmark API said no. ",d.runtime.lastError.message),this.props.setSpeedDialAwaitingEdit(e.id),this.toggleStartpageDrawer(!1)}.bind(this))},toggleStartpageDrawer:function(e){this.props.toggleStartpageDrawer(!1)},drawerSubmitHandler:function(e){e.stopPropagation(),e.preventDefault();var t=(this.state.editUrl||this.state.url||"").trim();0!==t.length&&(t=u(t),this.addSpeedDial(this.state.editUrl,this.state.editUrl),this.setState({editUrl:""}))},addSpeedDial:function(e,t){var n={parentId:this.props.node.id,title:e,url:u(t)},i="chrome://thumb/"+u(t);h.thumbnails.isThumbnailAvailable("",i,function(e){e.hasThumbnail&&(n.thumbnail=e.thumbnailUrl),d.bookmarks.create(n,function(e){d.runtime.lastError&&console.warn("The computer tried to create a speed dial, but The Bookmark API said no. ",d.runtime.lastError.message),e&&c.updateBookmarkThumbnail(e)})}),this.toggleStartpageDrawer(!1)},isSpeedDialURLValid:function(){var e=this.refs.urlField&&r.findDOMNode(this.refs.urlField)&&r.findDOMNode(this.refs.urlField).value.trim();return A(u(e))},onUrlFieldChanged:function(e){this.setState({isSpeedDialURLValid:this.isSpeedDialURLValid()})},render:function(){return i.createElement("aside",{key:"drawer",className:"startpage-drawer"},i.createElement("section",{className:"drawer-adddial"},i.createElement("header",null,i.createElement("h2",null,p("Add Bookmark"))),i.createElement("form",{className:"drawer-addform",onSubmit:this.drawerSubmitHandler},i.createElement(o,{ref:"urlField",className:"address",editUrl:this.state.editUrl,autocompletionEnabled:!0,selectionStart:this.state.selectionStart,selectionEnd:this.state.selectionEnd,pageId:"speedDialDrawer",onUrlFieldChanged:this.onUrlFieldChanged,title:p("Enter page address"),triggerTypedHistory:!1}),i.createElement("input",{className:"add-dial-submit primary",type:"submit",disabled:!this.state.isSpeedDialURLValid,value:p("Add")})),i.createElement("div",{className:"toolbar icons"},i.createElement("button",{className:"button-toolbar folder flex",onClick:this.addSpeedDialFolder},i.createElement("span",{dangerouslySetInnerHTML:{__html:n(106)}}),i.createElement("span",{className:"buttontext"},p("New Folder"))))),i.createElement(l,{toggleStartpageDrawer:this.toggleStartpageDrawer,node:this.props.node}))}});e.exports=m},function(e,t,n){"use strict";var i=n(1),r=n(4),o=n(8),a=n(32).ensureURLProtocol,s=n(32).isInternalURL,l=n(32).isIgnoredURL,u=n(60),c=n(2),A=i.createClass({displayName:"SpeedDialAddContent",getInitialState:function(){return{suggestions:[]}},propTypes:{node:i.PropTypes.object.isRequired},componentWillMount:function(){this.updateSuggestions()},updateSuggestions:function(e){r.topSites.get(function(e){this.setState({suggestions:e.filter(function(e){return!(s(e.url)||l(e.url))})})}.bind(this))},addSpeedDial:function(e,t){var n={parentId:this.props.node.id,title:e,url:a(t)},i="chrome://thumb/"+a(t);o.thumbnails.isThumbnailAvailable("",i,function(e){e.hasThumbnail&&(n.thumbnail=e.thumbnailUrl),r.bookmarks.create(n,function(e){r.runtime.lastError&&console.warn("The computer tried to create a speed dial, but The Bookmark API said no. ",r.runtime.lastError.message),e&&u.updateBookmarkThumbnail(e)})}),this.toggleStartpageDrawer(!1)},toggleStartpageDrawer:function(e){this.props.toggleStartpageDrawer(e)},render:function(){return i.createElement("section",{className:"drawer-suggestions"},i.createElement("header",null,i.createElement("h2",null,c("Suggestions")),i.createElement("button",{className:"close",tabIndex:"-1",onClick:this.toggleStartpageDrawer.bind(this,!1)})),i.createElement("div",{className:"dials dial-suggestions"},this.state.suggestions&&this.state.suggestions.length?this.state.suggestions.map(function(e,t){return i.createElement("div",{key:t,className:"dial",title:e.title,onClick:this.addSpeedDial.bind(this,e.title,e.url),"data-dialurl":e.url},i.createElement("div",{className:"dial-image",style:{backgroundImage:"url(chrome://thumb/"+a(e.url)+")"}}),i.createElement("div",{className:"dial-title"},e.title))},this):i.createElement("p",null,c("No history to choose from yet."))))}});e.exports=A},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(13),a=n(7),s=n(415),l=n(411),u=n(2),c=n(6),A=n(4),d=n(5),h=n(53),p=n(60),f=n(41),m=["SPEEDDIAL_TITLES_VISIBLE","SPEEDDIAL_ADDBUTTON_VISIBLE","SPEEDDIAL_COLS","USE_ANIMATION"],g=null,v=r.createClass({displayName:"SpeedDialView",mixins:[a],propTypes:{openSpeedDialNode:r.PropTypes.func,speedDialNode:r.PropTypes.object,speedDialSetNode:r.PropTypes.object,drawerIsOpen:r.PropTypes.bool,isAnimating:r.PropTypes.bool,isActive:r.PropTypes.bool,columnBas:r.PropTypes.number,open:r.PropTypes.bool,toggleStartpageDrawer:r.PropTypes.func.isRequired,awaitingInitialEditId:r.PropTypes.string},getInitialState:function(){return{showDialOverlay:!1}},componentWillMount:function(){h.addChangeListener(this._onWebpageViewStoreChanged)},componentWillUnmount:function(){h.removeChangeListener(this._onWebpageViewStoreChanged)},_onWebpageViewStoreChanged:function(e){e.type===d.PAGE_RELOAD&&this.handleUpdateThumbnailFolder(this.props.speedDialNode.id)},componentDidUpdate:function(){var e=this,t=function n(t){"transform"===t.propertyName&&e._temporaryAnimationEl&&(e._temporaryAnimationEl.removeEventListener("webkitTransitionEnd",n),o.unmountComponentAtNode(e._temporaryAnimationEl),e._temporaryAnimationEl.parentNode.removeChild(e._temporaryAnimationEl),e._temporaryAnimationEl=null,e._animateBackward=!1)};this._temporaryAnimationEl&&(this._temporaryAnimationEl.addEventListener("webkitTransitionEnd",t),this._animateBackward===!0?o.findDOMNode(this).classList.add("pause-animations","animateFront"):o.findDOMNode(this).classList.add("pause-animations","animateBack"),setTimeout(function(){e._temporaryAnimationEl&&(e._animateBackward===!0?(o.findDOMNode(e).classList.remove("pause-animations","animateFront"),e._temporaryAnimationEl.firstChild.classList.add("animateBack")):(o.findDOMNode(e).classList.remove("pause-animations","animateBack"),e._temporaryAnimationEl.firstChild.classList.add("animateFront")))},5))},_temporaryAnimationEl:null,_animateBackward:!1,componentWillReceiveProps:function(e){var t=this;this.props.speedDialSetNode&&this.props.speedDialNode&&e.speedDialSetNode&&e.speedDialNode&&this.props.speedDialSetNode.id===e.speedDialSetNode.id&&this.props.speedDialNode.id!==e.speedDialNode.id&&this.props.vivaldiSettings.USE_ANIMATION&&(this.props.speedDialNode.id===e.speedDialNode.parentId?this._saveCloneForAnimation():e.speedDialNode.children&&e.speedDialNode.children.find(function(e){return e.id===t.props.speedDialNode.id})&&(this._saveCloneForAnimation(),this._animateBackward=!0))},_saveCloneForAnimation:function(){if(o.findDOMNode(this)&&(g&&!this.refs.rootElement&&(this.refs.rootElement=g),this.refs.rootElement)){var e=Object.keys(this.refs.rootElement).find(function(e){return e.startsWith("__reactInternalInstance")}),t=this.refs.rootElement[e];if(t){var n=t._currentElement;n&&g!==n&&(g=this.refs.rootElement);var i=r.cloneElement(n,n.props);this._temporaryAnimationEl=document.createElement("div"),o.render(i,this._temporaryAnimationEl),o.findDOMNode(this).parentNode.appendChild(this._temporaryAnimationEl)}}},onDragOverHandler:function(e){e.preventDefault(),e.stopPropagation()},createSpeedDial:function(e){A.bookmarks.create({parentId:this.state.node.id,url:this.state.addDialogURL,title:"Placeholder Title"})},openSpeedDialNode:function(e,t){this.props.openSpeedDialNode(e,t)},openParentNode:function(e){var t=this;A.bookmarks.getSubTree(this.props.speedDialNode.parentId,function(e){if(A.runtime.lastError)return void console.warn("Error Removing: The bookmark for speed dial `"+t.props.title+"` does not exist!");var n=e[0];n&&t.openSpeedDialNode(n)})},isTopLevel:function(){return!this.props.speedDialNode||!this.props.speedDialSetNode||this.props.speedDialNode.id===this.props.speedDialSetNode.id},renderNavigation:function(){return this.isTopLevel()?null:r.createElement("nav",{className:"startpage-folder-navigation"},r.createElement("button",{onClick:this.openParentNode,title:u("Show Parent Folder"),"data-name":"up-button",className:"button-startpage up"},this.props.speedDialNode.title))},handleUpdateThumbnailFolder:function(e){A.bookmarks.getChildren(e,function(e){return e.forEach(p.updateBookmarkThumbnail.bind(p))})},getSpeedDialColumns:function(){var e=this.props.vivaldiSettings.SPEEDDIAL_COLS;return this.props.columnBase>=1600&&e>5?"cols6":this.props.columnBase>=1350&&e>4?"cols5":this.props.columnBase>=1100&&e>3?"cols4":this.props.columnBase>=850&&e>2?"cols3":this.props.columnBase>=600&&e>1?"cols2":"cols1"},render:function(){var e=this.props.vivaldiSettings;if(this.props.open===!1||void 0===e.SPEEDDIAL_COLS)return null;var t=this.props.speedDialNode&&this.props.speedDialNode.children||[],n=t.map(function(e,t){return r.createElement(s,{key:t+"-"+e.id+"-"+(e.dateGroupModified||""),node:e,openSpeedDialNode:this.props.openSpeedDialNode,awaitingInitialEditId:this.props.awaitingInitialEditId,setSpeedDialAwaitingEdit:this.props.setSpeedDialAwaitingEdit})},this),o=this.props.speedDialSet.length>0,a=c(i({dials:!0,"sd-titles-onhover":"hover"===e.SPEEDDIAL_TITLES_VISIBLE,speeddial:!0},this.getSpeedDialColumns(),!0));return r.createElement("span",null,this.renderNavigation(),r.createElement("div",{className:a,ref:"rootElement"},n,e.SPEEDDIAL_ADDBUTTON_VISIBLE&&r.createElement(l,{drawerIsOpen:this.props.drawerIsOpen,title:u(o?"Add Bookmark":"First add a new Speed Dial folder"),handleClick:o?this.props.toggleStartpageDrawer:this.props.createSpeedDialSet})))}});e.exports=f(v,m)},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(214),a=n(322),s=n(206),l=n(15),u=n(69),c=n(99),A=n(60),d=n(11),h=n(2),p=n(4),f=n(6),m=n(21),g=i.createClass({displayName:"SpeedDial",mixins:[d,r],focusedElement:null,vivaldiSettingsKeys:["SPEEDDIAL_TITLES_VISIBLE","SHOW_VIVALDI_FOOTER"],propTypes:{openSpeedDialNode:i.PropTypes.func.isRequired,node:i.PropTypes.object.isRequired},getInitialState:function(){return{updating:A.isBookmarkThumbnailCapture(this.props.node.id),mouseIsDown:!1}},componentWillMount:function(){o.addChangeListener(this.onBackgroundTaskStoreChange)},componentWillUnmount:function(){o.removeChangeListener(this.onBackgroundTaskStoreChange)},isFolder:function(){return!this.props.node.url},isBookmark:function(){return!this.isFolder()},handleRemoveDial:function(e){e&&e.stopPropagation(),this.props.node.title&&this.props.node.url?p.bookmarks.remove(this.props.node.id,function(){p.runtime.lastError&&console.warn("Error Removing: The bookmark for speed dial `"+this.props.title+"` does not exist!")}.bind(this)):p.bookmarks.removeTree(this.props.node.id,function(){p.runtime.lastError&&console.warn("Error removing bookmark folder: "+this.props.node.id)}.bind(this))},handleUpdateThumbnail:function(e){e&&"function"==typeof e.stopPropagation&&e.stopPropagation(),A.updateBookmarkThumbnail(this.props.node)},onBackgroundTaskStoreChange:function(e,t){this.isMounted()&&this.setState({updating:A.isBookmarkThumbnailCapture(this.props.node.id)})},openSpeedDialNodeHandler:function(e,t){var n="MacIntel"===navigator.platform?t.metaKey:t.ctrlKey,i=!1,r=!1;return t.shiftKey&&!t.altKey&&n?void l.openWindow(e.url,{incognito:!1}):(!t.shiftKey||t.altKey||n?t.shiftKey||t.altKey||!n?1===t.button&&(i=!0,r=!0):(i=!0,r=!0):i=!0,void this.openSpeedDialNode(e,{openInBackground:r,openInNewTab:i}))},openSpeedDialNode:function(e,t){this.props.openSpeedDialNode(e,t)},handleMouseEnter:function(e){u.setStatus(this.props.node.url)},handleMouseLeave:function(e){u.clearStatus()},draggableMoveHandler:function(e,t,n){n=n||{},n.isOver||p.bookmarks.get(t,function(i){p.bookmarks.getChildren(i[0].parentId,function(i){var r;for(r=0;r<i.length&&i[r].id!==t;r++);n.isLeftOf||r++,p.bookmarks.move(e,{index:r},function(e){p.runtime.lastError&&console.warn("Error moving bookmark: ",p.runtime.lastError)}.bind(this))})})},mouseDownHandler:function(e){1===e.button&&(-1!==navigator.platform.indexOf("Linux")?this.focusedElement=document.activeElement:(e.preventDefault(),e.stopPropagation())),this.setState({mouseIsDown:!0})},mouseUpHandler:function(){this.setState({mouseIsDown:!1}),this.focusedElement&&setTimeout(function(){this.focusedElement.focus(),this.focusedElement=null}.bind(this),1)},getContextMenuItems:function(e){return[{name:h("Open"),handler:this.openSpeedDialNode.bind(this,e),visible:this.isBookmark()},{name:h("Open in New Tab"),handler:this.openSpeedDialNode.bind(this,e,{openInNewTab:!0}),visible:this.isBookmark()},{name:h("Open in Background Tab"),handler:this.openSpeedDialNode.bind(this,e,{openInNewTab:!0,openInBackground:!0}),visible:this.isBookmark()},{name:"---"},{name:h("Open in New Window"),handler:this.openSpeedDialNode.bind(this,e,{openInNewWindow:!0}),visible:this.isBookmark()},{name:h("Open in Private Window"),handler:this.openSpeedDialNode.bind(this,e,{openInNewWindow:!0,incognito:!0}),visible:this.isBookmark()},{name:"---"},{name:h("Open all Speed Dials"),handler:this.openSpeedDialNode.bind(this,e,{openInBackground:!0}),visible:this.isFolder()},{name:"---"},{name:h("Reload"),handler:this.handleUpdateThumbnail,visible:this.isBookmark()},{name:h("other","Delete"),handler:this.handleRemoveDial}]},render:function(){var e=this.props.node,t="off"===this.state.SHOW_VIVALDI_FOOTER;return i.createElement(a,{tabIndex:"0",ref:"draggable",dragId:this.props.node.id,onDraggableMove:this.draggableMoveHandler,onContextMenu:m(this.getContextMenuItems.bind(this,e)),dragImageSrc:"/resources/drag-and-drop.png",className:f({draggable:!0,dial:!0,clicked:this.state.mouseIsDown,folder:Boolean(this.props.node.children)})},i.createElement("div",{ref:"thumbnail",className:"dial-image",title:t?this.props.node.url:null,onMouseEnter:t?null:this.handleMouseEnter,onMouseLeave:t?null:this.handleMouseLeave,onMouseDown:this.mouseDownHandler,onMouseUp:this.mouseUpHandler,onClick:this.openSpeedDialNodeHandler.bind(this,e)},Boolean(this.props.node.children)&&i.createElement("div",{className:"dial-folder-icon",dangerouslySetInnerHTML:{__html:n(235)}}),i.createElement(c,{key:e.id,src:e.thumbnail,altSrc:""})),"never"!==this.state.SPEEDDIAL_TITLES_VISIBLE&&i.createElement(s,{howToEdit:"click",className:"button-title",setSpeedDialAwaitingEdit:this.props.setSpeedDialAwaitingEdit,needsInitialEdit:this.props.awaitingInitialEditId===this.props.node.id,bookmark:this.props.node}),e.url&&i.createElement("button",{tabIndex:"-1",onClick:this.handleUpdateThumbnail,className:f({circular:!0,"update-thumbnail":!0,updating:this.state.updating}),disabled:!!this.state.updating,title:h("Update thumbnail")}),i.createElement("button",{tabIndex:"-1",onClick:this.handleRemoveDial,title:h("other","Delete"),className:"close circular"}))}});e.exports=g},function(e,t,n){"use strict";var i=n(1),r=n(206),o=n(207),a=n(2),s=n(6),l=i.createClass({displayName:"StartPageTopMenu",getInitialState:function(){return{}},propTypes:{openMenuItem:i.PropTypes.func,createSpeedDialSet:i.PropTypes.func,section:i.PropTypes.string,speedDialSet:i.PropTypes.array,speedDialSetNode:i.PropTypes.object},openMenuItem:function(e,t,n){this.props.openMenuItem(e,t,n)},render:function(){return i.createElement("nav",{className:"startpage-navigation"},i.createElement("div",{className:"startpage-navigation-group"},this.props.speedDialSet.map(function(e,t){var n=this.props.section===o.SpeedDial&&this.props.speedDialSetNode&&this.props.speedDialSetNode.id===e.id;return i.createElement(r,{className:s({active:n,"button-startpage":!0}),key:e.id,tabIndex:"0",bookmark:e,howToEdit:"doubleClick",onSelect:this.openMenuItem.bind(this,o.SpeedDial,e),needsInitialEdit:this.props.initialEditSpeedDialSet===e.id})},this),i.createElement("button",{onClick:this.props.createSpeedDialSet,className:"button-startpage add-set",title:a("Add new Speed Dial folder"),dangerouslySetInnerHTML:{__html:n(580)}})),i.createElement("div",{className:"startpage-navigation-group"},i.createElement("button",{onClick:this.openMenuItem.bind(this,o.Bookmarks,null),title:a("Bookmarks"),className:s({"button-startpage":!0,active:this.props.section===o.Bookmarks})},a("Bookmarks"))),i.createElement("div",{className:"startpage-navigation-group"},i.createElement("button",{onClick:this.openMenuItem.bind(this,o.History,null),title:a("History"),className:s({"button-startpage":!0,active:this.props.section===o.History})},a("History"))))}});e.exports=l},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(13),a=n(598),s=n(7),l=n(160),u=n(4),c=n(207),A=n(15),d=n(416),h=n(414),p=n(412),f=n(292),m=n(61),g=n(44),v=n(327),_=n(6),E=n(21),S=n(41),y=n(26),b=n(2),C="1",T=["BROWSER_FG_COLOR","STARTPAGE_BG_COLOR","STARTPAGE_BG_COLOR_USER_DEFINED","STARTPAGE_FG_COLOR","STARTPAGE_SHOW_IMAGE","STARTPAGE_IMAGE","STARTPAGE_IMAGE_USER_DEFINED","STARTPAGE_IMAGE_STRETCH","STARTPAGE_IMAGE_REPEAT","SPEEDDIAL_ADDBUTTON_VISIBLE"],I=r.createClass({displayName:"StartPage",mixins:[s],getInitialState:function(){var e=m.getSpeeddialNodes(),t=e&&e[0]||null,n=void 0;return n="bookmarks"===this.props.view?c.Bookmarks:"history"===this.props.view?c.History:c.SpeedDial,{section:n,speeddialNodes:e,menuSpeeddial:t,currentSpeeddial:t,bookmarkRoot:m.getBookmarksRootNode(),drawerIsOpen:!1,awaitingInitialEditId:null,contentIsScrolled:!1,scrollPosition:null,uiresize:window.innerWidth-g.getPanelWidth()}},componentWillMount:function(){m.addChangeListener(this._onStoreChange)},componentWillUnmount:function(){m.removeChangeListener(this._onStoreChange),y.unbind("esc",this.closeDrawerOnEsc)},onFocus:function(){y.bind("esc",this.closeDrawerOnEsc)},onBlur:function(){y.unbind("esc",this.closeDrawerOnEsc)},_onStoreChange:function(){var e=m.getSpeeddialNodes(),t=e.length?e[0]:null,n=t,i=void 0,r=!0,o=!1,a=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0)i=s.value,this.getUpdatedNode(i,this.state.currentSpeeddial)&&(n=this.getUpdatedNode(i,this.state.currentSpeeddial)),this.getUpdatedNode(i,this.state.menuSpeeddial)&&(t=this.getUpdatedNode(i,this.state.menuSpeeddial))}catch(u){o=!0,a=u}finally{try{!r&&l["return"]&&l["return"]()}finally{if(o)throw a}}this.setState({speeddialNodes:e,menuSpeeddial:t,currentSpeeddial:n})},getUpdatedNode:function w(e,t){if(e&&e.id&&t&&t.id){if(e.id===t.id)return e;if(e.children){for(var n=0;n<e.children.length;n++){var i=w(e.children[n],t);if(i&&i.id===t.id)return i}return null}return null}return null},onResize:function(e){this.setState({uiresize:Math.floor(e.width)})},closeDrawerOnEsc:function(e){e.preventDefault(),e.stopPropagation(),this.state.drawerIsOpen&&this.toggleStartpageDrawer(!1)},onScrollHandler:function(){if(this.refs.sdWrapper){var e=o.findDOMNode(this.refs.sdWrapper).scrollTop;this.setState({contentIsScrolled:e>50,scrollPosition:e})}},toggleStartpageDrawer:function(e){var t="boolean"==typeof e?e:!this.state.drawerIsOpen;this.setState({drawerIsOpen:t})},createSpeedDialSet:function(){u.bookmarks.create({parentId:C,title:b("New Folder")},function(e){u.bookmarks.update(e.id,{speeddial:!0},function(e){this.setState({initialEditSpeedDialSet:e.id}),this.openMenuItem(c.SpeedDial,e)}.bind(this))}.bind(this))},openMenuItem:function(e,t,n){this.props.updatePageThumbnailWithActiveWebview(this.props.page,1e3);var i=t&&t.id&&t;this.setState({section:e,menuSpeeddial:i,currentSpeeddial:i})},isFolder:function(e){return!e.url},openFolder:function(e,t){t=t||{},t.openInBackground===!0?u.bookmarks.getChildren(e.id,function(e){e.forEach(function(e){A.openURL(e.url,{inCurrent:!1,inBackground:!0})})}):(this.setState({currentSpeeddial:e}),o.findDOMNode(this.refs.sdWrapper).scrollTop=0)},openSpeedDialNode:function(e,t){t=t||{},this.isFolder(e)?this.openFolder(e,t):t.openInNewWindow?A.openWindow(e.url,{incognito:t.incognito}):A.openURL(e.url,{inCurrent:!t.openInNewTab,inBackground:t.openInBackground,bookmarkId:e.id,addOpenerTabId:!0})},setSpeedDialAwaitingEdit:function(e){this.setState({awaitingInitialEditId:e})},getStartpageStyle:function(){var e={bgColor:this.props.vivaldiSettings.STARTPAGE_BG_COLOR,bgColorUser:this.props.vivaldiSettings.STARTPAGE_BG_COLOR_USER_DEFINED,imageStretch:this.props.vivaldiSettings.STARTPAGE_IMAGE_STRETCH,imageRepeat:this.props.vivaldiSettings.STARTPAGE_IMAGE_REPEAT,showImage:this.props.vivaldiSettings.STARTPAGE_SHOW_IMAGE,imageUrl:this.props.vivaldiSettings.STARTPAGE_IMAGE,imageUrlUser:this.props.vivaldiSettings.STARTPAGE_IMAGE_USER_DEFINED},t="user_defined"===e.bgColor?e.bgColorUser:e.bgColor,n=e.imageStretch?"cover":"auto",i=e.imageRepeat?"repeat":"no-repeat",r="url(data:image/gif;base64,R0lGODlhAQABAAAAACwAAAAAAQABAAA=)";return e.showImage&&"user_defined"===e.imageUrl?r="url("+e.imageUrlUser+")":e.showImage&&(r="url("+e.imageUrl+")"),{backgroundColor:t,backgroundImage:r,backgroundSize:n,backgroundRepeat:i}},renderSpeedDial:function(){return r.createElement(h,{speedDialNode:this.state.currentSpeeddial,speedDialSetNode:this.state.menuSpeeddial,speedDialSet:this.state.speeddialNodes,toggleStartpageDrawer:this.toggleStartpageDrawer,createSpeedDialSet:this.createSpeedDialSet,drawerIsOpen:this.state.drawerIsOpen,isActive:!0,columnBase:this.state.uiresize,open:!0,openSpeedDialNode:this.openSpeedDialNode,setSpeedDialAwaitingEdit:this.setSpeedDialAwaitingEdit,awaitingInitialEditId:this.state.awaitingInitialEditId})},renderSection:function(){return this.state.section===c.Bookmarks?r.createElement(f,null):this.state.section===c.History?r.createElement(v,{page:this.props.page}):this.state.section===c.SpeedDial?this.renderSpeedDial():(console.warn("Unknown Startpage Section: ",this.state.section),null)},getContextMenuItems:function(){return[{name:b("Add Bookmark to Speed Dial"),handler:this.toggleStartpageDrawer,visible:!this.state.drawerIsOpen}]},render:function(){var e;if(!this.props.open)return null;var t=Boolean(this.props.vivaldiSettings.STARTPAGE_FG_COLOR),n=this.state.speeddialNodes.length>0?this.toggleStartpageDrawer:this.createSpeedDialSet;return r.createElement("div",{key:this.props.id,ref:"startpage",tabIndex:"0",onFocus:this.onFocus,onBlur:this.onBlur,style:this.getStartpageStyle(),className:_((e={startpage:!0},i(e,this.props.vivaldiSettings.BROWSER_FG_COLOR,!t),i(e,this.props.vivaldiSettings.STARTPAGE_FG_COLOR,t),i(e,"scrolled",this.state.contentIsScrolled),e))},r.createElement(d,{openMenuItem:this.openMenuItem,section:this.state.section,speedDialSet:this.state.speeddialNodes,speedDialSetNode:this.state.menuSpeeddial,createSpeedDialSet:this.createSpeedDialSet,initialEditSpeedDialSet:this.state.initialEditSpeedDialSet}),r.createElement("div",{ref:"startpageContent",className:"startpage-content",onContextMenu:this.state.section===c.SpeedDial&&E(this.getContextMenuItems),onDoubleClick:this.state.section===c.SpeedDial&&!this.props.vivaldiSettings.SPEEDDIAL_ADDBUTTON_VISIBLE&&n},r.createElement(l,{embedCss:!1,onResize:this.onResize,onScroll:this.onScrollHandler,className:"sdwrapper",ref:"sdWrapper"},this.renderSection())),r.createElement(a,{transitionEnterTimeout:500,transitionLeaveTimeout:200,transitionName:"startpage-drawer-transition",component:"div",className:"startpage-drawer-wrapper"},this.state.drawerIsOpen&&r.createElement(p,{key:"drawer-"+this.props.id,node:this.state.currentSpeeddial,setSpeedDialAwaitingEdit:this.setSpeedDialAwaitingEdit,toggleStartpageDrawer:this.toggleStartpageDrawer})))}});e.exports=S(I,T)},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(16),a=n(80),s=n(352),l=n(124),u=n(419),c=n(420),A=n(4),d=n(19),h=d.urls,p=n(50),f=function(){return{pages:o.getPages(),activePage:o.getActivePage(),isSelecting:o.isSelecting(),pageSelection:o.getPageSelection()}},m=i.createClass({displayName:"StatusToolbar",mixins:[r],getInitialState:function(){return Object.assign({},f())},componentDidMount:function(){o.addChangeListener(this._onPageStoreChange)},componentWillUnmount:function(){o.removeChangeListener(this._onPageStoreChange)},_onPageStoreChange:function(){this.setState(f())},onPageZoomUpdated:function(e){a.getActiveWebView()&&(h.isInternalPage(o.getActivePage())||A.tabs.setZoom(e))},doActionZoomReset:function(){p.zoomReset()},render:function(){var e=h.isInternalPage(this.state.activePage);return i.createElement("div",{className:"status-toolbar"},this.state.activePage&&i.createElement(c,{key:"toggle-tiling",ref:"tilingtoggle",keyAccess:this.props.keyAccess,disableOnClickOutside:!0,page:this.state.activePage,groupPages:o.getGroup(this.state.activePage.getIn(["extData","group"]),this.state.pages),tilePages:o.getTiles(this.state.activePage.getIn(["extData","tiling","id"]),this.state.pages),isSelecting:this.state.isSelecting,pageSelection:this.state.pageSelection}),i.createElement(u,{key:"toggle-images",ref:"imagetoggle",keyAccess:this.props.keyAccess,disableOnClickOutside:!0,pageId:this.state.activePage.get("id"),disabled:!1}),i.createElement(s,{key:"pageaction-chooser",keyAccess:this.props.keyAccess,pageId:this.state.activePage.get("id"),disableOnClickOutside:!0,disabled:!1}),i.createElement(l,{key:"zoomslider",ref:"zoomslider",inFooter:"true",keyAccess:this.props.keyAccess,buttonClass:"button-toolbar-small",page:this.state.activePage,onZoomUpdated:this.onPageZoomUpdated,onZoomReset:this.doActionZoomReset,defaultZoomLevel:this.state.defaultPageZoomLevel,maxLevel:5,minLevel:.2,step:.1,disabled:e}))}});e.exports=m},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(31),a=n(6),s=n(2),l=n(8),u=n(4),c=i.createClass({displayName:"ToggleImages",mixins:[o,r],getInitialState:function(){return{showImages:!0,loadFromCacheOnly:!1,drawerOpen:!1}},componentWillReceiveProps:function(e){e.pageId!==this.props.pageId&&this.onWebviewPageIDChanged(e.pageId)},componentDidUpdate:function(e,t){t.drawerOpen===!0&&this.state.drawerOpen===!1?this.disableOnClickOutside():t.drawerOpen===!1&&this.state.drawerOpen===!0&&this.enableOnClickOutside()},onWebviewPageIDChanged:function(e){var t=this;e&&l.tabsPrivate.get(e,function(n){u.runtime.lastError||n&&t.setState({showImages:n.showImages,loadFromCacheOnly:n.loadFromCacheOnly,pageId:e})})},onShowAll:function(){this.updatePageImageState(!0,!1,!0),this.setState({drawerOpen:!1})},onShowCached:function(){this.updatePageImageState(!0,!0,!0),this.setState({drawerOpen:!1})},onHideAll:function(){this.updatePageImageState(!1,!1,!1),this.setState({drawerOpen:!1})},updatePageImageState:function(e,t,n){this.setState({showImages:e,loadFromCacheOnly:t}),l.tabsPrivate.update(this.props.pageId,{showImages:e,loadFromCacheOnly:t,enablePlugins:n})},handleClickOutside:function(){this.setState({drawerOpen:!1})},onToggleOpenImageActions:function(){this.setState({drawerOpen:!this.state.drawerOpen})},render:function(){var e=this.state.showImages&&!this.state.loadFromCacheOnly,t=!this.state.showImages&&!this.state.loadFromCacheOnly,n=this.state.showImages&&this.state.loadFromCacheOnly,r=a({"button-toolbar-small":!0,"image-action":!0,disabled:this.props.disabled,noimages:t&&!this.props.disabled,cachedimages:n&&!this.props.disabled});return i.createElement("span",{title:s("Toggle images"),className:"imageactions",ref:"imageactions"},i.createElement("button",{className:r,tabIndex:this.props.keyAccess,onClick:this.onToggleOpenImageActions,disabled:this.props.disabled}),this.state.drawerOpen&&i.createElement("div",{className:"callout"},i.createElement("form",null,i.createElement("ul",null,i.createElement("li",null,i.createElement("label",null,i.createElement("input",{type:"radio",name:"toggle-images-group",checked:e,autoFocus:e,onChange:this.onShowAll}),s("Show Images"))),i.createElement("li",null,i.createElement("label",null,i.createElement("input",{type:"radio",name:"toggle-images-group",checked:n,autoFocus:n,onChange:this.onShowCached}),s("Show Cached Images Only"))),i.createElement("li",null,i.createElement("label",null,i.createElement("input",{type:"radio",name:"toggle-images-group",checked:t,autoFocus:t,onChange:this.onHideAll}),s("No Images")))))))}});e.exports=c},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(7),a=n(16),s=n(15),l=n(31),u=n(27),c=n(2),A=n(6),d=r.createClass({displayName:"ToggleTiling",mixins:[o,l],propTypes:{page:r.PropTypes.instanceOf(u.Map).isRequired,groupPages:r.PropTypes.instanceOf(u.List).isRequired,tilePages:r.PropTypes.instanceOf(u.List).isRequired,isSelecting:r.PropTypes.bool.isRequired,pageSelection:r.PropTypes.instanceOf(u.Set).isRequired},getInitialState:function(){return{drawerOpen:!1}},componentWillReceiveProps:function(e){this.props.page.get("id")!==e.page.get("id")&&this.closeDrawer();
},componentDidUpdate:function(e,t){t.drawerOpen===!0&&this.state.drawerOpen===!1?this.disableOnClickOutside():t.drawerOpen===!1&&this.state.drawerOpen===!0&&this.enableOnClickOutside()},closeDrawer:function(){this.setState({drawerOpen:!1})},toggleDrawer:function(){this.setState({drawerOpen:!this.state.drawerOpen})},setTiling:function(e){var t=this,n=this.props.page.getIn(["extData","group"]);if(this.props.pageSelection.count()>1){var i=this.props.pageSelection.map(function(e){return a.getPages().find(function(t){return t.get("id")===e})}).filter(Boolean).toList();s.tilePages(i,e),s.clearSelection()}else if(this.props.page.getIn(["extData","tiling","id"])){var r=a.getPages().filter(function(e){return e.getIn(["extData","tiling","id"])===t.props.page.getIn(["extData","tiling","id"])});s.tilePages(r,e)}else a.isGroup(n)&&s.tileTabStack(n,e);this.closeDrawer()},unTile:function(){s.unTilePages(this.props.page.getIn(["extData","tiling","id"])),this.closeDrawer()},handleClickOutside:function(){this.closeDrawer()},render:function(){var e=this.props.page.getIn(["extData","tiling","layout"]),t="tile-"+(e||"none"),n=A(i({"button-toolbar-small":!0,"tile-action":!0},t,!0)),o=this.props.groupPages.count()>1||this.props.tilePages.count()>1||this.props.isSelecting;return r.createElement("span",{className:"tilingtoggle",ref:"tilingtoggle",title:o?null:c("Page tiling")+"\n"+c("Select multiple tabs or create tab stack to tile pages")},r.createElement("button",{ref:"tilingtogglebutton",className:n,tabIndex:this.props.keyAccess,onClick:this.toggleDrawer,disabled:!o,title:c("Page tiling")}),this.state.drawerOpen&&r.createElement("div",{className:"callout"},r.createElement("button",{className:"tile-vertically",disabled:"vertically"===e,title:c("Tile vertically"),onMouseUp:this.setTiling.bind(this,"vertically")}),r.createElement("button",{className:"tile-horizontally",disabled:"horizontally"===e,title:c("Tile horizontally"),onMouseUp:this.setTiling.bind(this,"horizontally")}),r.createElement("button",{className:"tile-grid",disabled:"grid"===e,title:c("Tile to grid"),onMouseUp:this.setTiling.bind(this,"grid")}),r.createElement("button",{className:"tile-none",disabled:!this.props.page.getIn(["extData","tiling","id"]),title:c("Untile pages"),onMouseUp:this.unTile})))}});e.exports=d},function(e,t,n){"use strict";var i=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(1),o=n(40),a=n(36),s=n(423),l=n(99),u=n(75),c=n(7),A=n(15),d=n(16),h=n(129),p=n(4),f=n(21),m=n(476),g=n(19),v=g.urls,_=n(84),E=_.isPageGrouped,S=_.isPageTiled,y=n(32),b=y.isInternalURL,C=n(34),T=n(6),I=n(208),w=n(2),O=r.createClass({mixins:[c],displayName:"Tab",discardPages:function(e){e.forEach(A.discardPage)},cloneTab:function(e){A.clonePage(e)},reloadTab:function(e){A.clearSelection(),A.reloadPage(e)},pinTab:function(e){A.clearSelection(),A.togglePinned(e)},bookmarkAllOpenPages:function(){A.clearSelection(),o.bookmarkAllOpenPages()},bookmarkTab:function(e){A.clearSelection(),o.bookmarkPageInFolder(e)},handleClose:function(e,t){t.altKey?this.closeAllButTab(e):this.props.closePage(e)},closeToLeft:function(e,t){var n=!t;A.closeToLeft(e,n)},closeToRight:function(e,t){var n=!t;A.closeToRight(e,n)},closeTabStack:function(e){e&&e.stopPropagation(),A.closeTabStack(this.props.page,!0)},muteTab:function(e){A.mutePage(e)},closeAllButTab:function(e,t){var n=!t;A.closeOther(e,n)},newTab:function(){A.openURL()},createTab:function(e){A.openURL(e)},onClick:function(e){1===e.button&&e.stopPropagation()},doubleClick:function(e){e.stopPropagation(),e.preventDefault(),this.props.USE_TAB_CLOSE_ON_DOUBLECLICK&&A.closePage(this.props.page)},stopPropagateHandler:function(e){e.stopPropagation(),e.preventDefault()},selectTab:function(e,t){this.props.selectTab(e,t)},reopenClosedTab:function(){this.props.reopenClosedTab()},disolveTabStack:function(){A.clearSelection(),A.expandTabStack(this.props.page.getIn(["extData","group"]))},removeFromTabStack:function(){A.removeFromTabStack(this.props.page)},isTabstackingEnabled:function(){return"on"===this.props.TAB_STACKING},isTabStack:function(e){return this.isTabstackingEnabled()&&E(e)},isPinned:function(e){return e.get("pinned")},tileTabStack:function(){var e=this.props.page.getIn(["extData","group"]);A.tileTabStack(e),A.clearSelection()},isPageTiledWithType:function(e){return S(this.props.page)&&this.props.page.getIn(["extData","tiling","type"])===e},tileSelection:function(e){var t=e.count()<4?"vertically":"grid";A.tilePages(e.toList(),t),A.clearSelection()},unTilePages:function(){var e=this.props.page.getIn(["extData","tiling","id"]);A.unTilePages(e)},onTabIndicatorPress:function(e,t){t.stopPropagation();var n=this.props.TAB_SELECTION_ENABLED,i="mac"===a(),r=i?t.metaKey:t.ctrlKey,o=t.shiftKey;if(0===t.button)if(n&&(r||o)&&document.hasFocus()){var s=o&&!r;A.doSelection(e,s,!1)}else this.props.selectTab(e,t);else 1===t.button&&-1!==navigator.platform.indexOf("Linux")&&C.doAction("focusWebView")},renderTabGroupIndicator:function(){var e=this;return this.props.stack?r.createElement("div",{className:"tab-group-indicator"},this.props.stack.map(function(t){var n=T({"tab-indicator":!0,"favicon-current-background-color":e.props.USE_TABCOLOR&&"off"===e.props.TABCOLOR_BEHIND_TABS&&e.props.highlightId===t.get("id")&&e.props.page.get("active"),active:e.props.highlightId===t.get("id"),marked:e.props.isSelecting&&e.props.pageSelection.contains(t.get("id")),unread:e.props.TAB_UNREAD_ENABLED&&e.props.page.getIn(["extData","read"])!==!0&&t.get("id")!==e.props.highlightId});return r.createElement("div",{key:"stack-"+t.get("id"),className:n,title:v.getDisplayTitle(t),onContextMenu:e.onContextMenu.bind(e,t,!0),onMouseDown:e.onTabIndicatorPress.bind(e,t)})})):null},onUrlDrop:function(e,t){t.preventDefault(),t.stopPropagation();var n=t.dataTransfer.getData("URL");n&&A.openURL(n,{inCurrent:!0,inSpecific:e,incognito:e.get("incognito")})},hideToolTip:function(){u.clearTooltip()},keyDown:function(e){var t=e.keyCode;13===t&&this.props.selectTab(this.props.page,e)},createGroup:function(e){A.createTabStack(e,!1)},onContextMenu:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],i=arguments[2];return i.persist(),i.preventDefault(),i.stopPropagation(),p.windows.getAll({populate:!0,windowTypes:["normal"]},function(r){var o=r.filter(function(e){return"popup"!==JSON.parse(e.extData).windowType}).filter(function(e){return!e.incognito}).filter(function(e){return e.id!==window.vivaldiWindowId});f(t.getContextMenuItems(e,o,i,n),t.hideToolTip)(i)}),!1},isHorizontal:function(){var e=this.props.TAB_POSITION;return"top"===e||"bottom"===e},getContextMenuItems:function(e,t,n){var r=this,o=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],s=this.props.isSelecting&&this.props.pageSelection.has(e.get("id")),l=this.props.pageSelection.map(function(e){return d.getPages().find(function(t){return t.get("id")===e})}).filter(Boolean).toList(),u=d.getPages().filter(function(e){return!l.find(function(t){return t.get("id")===e.get("id")})}),c=[{name:w("New Window"),handler:A.detachPage.bind(this,e,n.screenX,n.screenY)}];t.length>0&&!function(){var n=!o;c=c.concat({name:"---",handler:null},t.map(function(t,i){var o=t.tabs.find(function(e){return e.active}),a=o?o.title:i+1,u=w("Window with $1 Active Tab ($2)","Window with $1 Active Tabs ($2)",[t.tabs.length,a]);return{name:u,handler:A.moveToWindow.bind(r,s?l:e,t.id,n)}}))}();var p="linux"===a(),f=!e.get("active")&&!e.get("discarded")&&e.get("url")!==d.getDefaultStartpage(),g=this.isTabStack(e)&&d.getGroup(e.getIn(["extData","group"])).some(function(e){return!e.get("active")&&!e.get("discarded")&&e.get("url")!==d.getDefaultStartpage()}),v=0!==d.getDiscardablePages().count(),_=d.getPages().count(),E=(o||!d.isGroup(e.getIn(["extData","group"]))?_>1:_-d.getGroup(e.getIn(["extData","group"])).count())>=1,S=m(e),y=i(S,2),b=y[0],C=y[1],T=e.get("mediastate");return[{name:w("New Tab"),handler:this.newTab},{name:"---"},{name:w("Reload Tab"),handler:this.reloadTab.bind(this,e),visible:!s},{name:w("Reload $1 Tab","Reload $1 Tabs",[l.count()]),handler:this.reloadTab.bind(this,l),visible:s},{name:w("Clone Tab"),handler:this.cloneTab.bind(this,e),visible:!s},{name:w("Clone $1 Tab","Clone $1 Tabs",[l.count()]),handler:this.cloneTab.bind(this,l),visible:s},{name:w("Pin Tab"),handler:this.pinTab.bind(this,e),visible:!s&&!this.isTabStack(e)&&!e.get("pinned")},{name:w("Pin $1 Tab","Pin $1 Tabs",[l.count()]),handler:this.pinTab.bind(this,l),visible:s&&!l.some(this.isTabStack)&&!l.some(this.isPinned)},{name:w("Unpin Tab"),handler:this.pinTab.bind(this,e),visible:!s&&!this.isTabStack(e)&&e.get("pinned")},{name:w("Unpin $1 Tab","Unpin $1 Tabs",[l.count()]),handler:this.pinTab.bind(this,l),visible:s&&!l.some(this.isTabStack)&&l.some(this.isPinned)},{name:w("Move to"),items:c,visible:!s&&e.get("incognito")!==!0},{name:w("Move $1 Tab to","Move $1 Tabs to",[l.count()]),items:c,visible:s&&l.every(function(t){return!e.get("incognito")})},{name:"---"},{name:w("Mute Tab"),handler:this.muteTab.bind(this,e),type:"checkbox",checked:"muting"===T,visible:!s&&("playing"===T||"muting"===T)},{name:w("Mute $1 Tab","Mute $1 Tabs",[l.filter(function(t){return"playing"===t.get("mediastate")||"muting"===e.get("mediastate")}).count()]),handler:this.muteTab.bind(this,l),type:"checkbox",checked:l.every(function(e){return"muting"===e.get("mediastate")}),visible:s&&l.some(function(e){return"playing"===e.get("mediastate")||"muting"===e.get("mediastate")})},{name:"---"},{name:w("Bookmark Tab"),handler:this.bookmarkTab.bind(this,e),visible:!s},{name:w("Bookmark $1 Tab","Bookmark $1 Tabs",[l.count()]),handler:this.bookmarkTab.bind(this,l),visible:s},{name:w("Bookmark All Open Pages"),handler:this.bookmarkAllOpenPages},{name:"---"},{name:w("New Tab Stack with Selection ($1 Tab)","New Tab Stack with Selection ($1 Tabs)",[l.count()]),handler:this.createGroup.bind(this,l),visible:s&&this.isTabstackingEnabled()&&this.props.isSelecting&&l.count()>1},{name:w("Stack Tabs by Host ($1 of $2)",[C.count(),b]),handler:this.createGroup.bind(this,C),visible:!s&&this.isTabstackingEnabled()&&!this.isTabStack(e)&&C.count()>1},{name:w("Remove from Tab Stack"),handler:this.removeFromTabStack,visible:this.isTabStack(e)},{name:w("Ungroup Tab Stack"),handler:this.disolveTabStack,visible:this.isTabStack(e)},{name:"---"},{name:w("Tile Tab Stack"),handler:this.tileTabStack,visible:this.isTabStack(e)&&!this.isPageTiledWithType("group")&&!this.isPageTiledWithType("selection")},{name:w("Untile Tab Stack"),handler:this.unTilePages,visible:this.isTabStack(e)&&(this.isPageTiledWithType("group")||this.isPageTiledWithType("selection"))},{name:w("Tile $1 Tab","Tile $1 Tabs",[l.count()]),handler:this.tileSelection.bind(this,l),visible:s&&!this.isPageTiledWithType("selection")&&this.props.isSelecting&&l.count()>1},{name:w("Untile Selection"),handler:this.unTilePages,visible:this.isPageTiledWithType("selection")&&!this.isTabStack(e)},{name:"---"},{name:w("Hibernate Tab"),handler:this.discardPages.bind(this,[e]),visible:!s&&!p&&f&&!this.isTabStack(e)},{name:w("Hibernate $1 Background Tab","Hibernate $1 Background Tabs",[l.filter(function(e){return!e.get("active")}).count()]),handler:this.discardPages.bind(this,l.filter(function(e){return!e.get("active")})),visible:Boolean(!p&&s&&l.filter(function(e){return d.getDiscardablePages().find(function(t){return t.get("id")===e.get("id")})}).count())},{name:w("Hibernate Tab Stack"),handler:this.discardPages.bind(this,d.getGroup(e.getIn(["extData","group"]))),visible:!p&&g},{name:w("Hibernate Background Tabs"),handler:this.discardPages.bind(this,d.getDiscardablePages()),visible:!p&&v},{name:"---"},{name:w("Close Tab"),handler:A.closePage.bind(null,e),visible:!s},{name:w("Close $1 Tab","Close $1 Tabs",[l.count()]),handler:A.closePage.bind(null,l),visible:s},{name:w("Close Tab Stack"),handler:this.closeTabStack,visible:this.isTabStack(e)},{name:w("Close Other Tabs"),handler:this.closeAllButTab.bind(this,e,o),visible:!s&&E},{name:w("Close Other ($1 Unselected Tab)","Close Other ($1 Unselected Tabs)",[u.count()]),handler:this.closeAllButTab.bind(this,l,o),visible:s&&u.count()},{name:w(this.isHorizontal()?"Close Tabs to the Left":"Close the Tabs Above"),handler:this.closeToLeft.bind(this,e,o),visible:!s&&E&&d.getPages().takeUntil(function(t){return t.get("id")===e.get("id")}).count()},{name:w(this.isHorizontal()?"Close Tabs to the Right":"Close the Tabs Below"),handler:this.closeToRight.bind(this,e,o),visible:!s&&E&&d.getPages().skipUntil(function(t){return t.get("id")===e.get("id")}).skip(1).count()},{name:"---"},{name:w("Reopen Closed Tab"),handler:this.reopenClosedTab,visible:Boolean(h.getTrash().length)}]},render:function(){var e=this.props.page,t=e.get("active"),n="on"===this.props.TABCOLOR_BEHIND_TABS,i="ui-light"===this.props.BROWSER_FG_COLOR,o=Boolean(this.props.smallTab),u=e.get("mediastate");u&&"none"!==u&&!e.get("discarded")||(u="idle");var c=T(this.props.className,{tab:!0,marked:this.props.isSelecting&&this.props.pageSelection.contains(e.get("id")),"tab-small":o&&!e.get("pinned"),pinned:e.get("pinned"),active:t,"tab-group":d.isGroup(e.getIn(["extData","group"])),"favicon-current-background-color":this.props.USE_TABCOLOR&&t,"audio-on":"playing"===u,"audio-muted":"muting"===u,loading:e.getIn(["navigationState","isLoading"]),"button-off":!this.props.TAB_CLOSEBUTTON_ENABLED,unread:this.props.TAB_UNREAD_ENABLED&&e.getIn(["extData","read"])!==!0&&!t&&!d.isGroup(e.getIn(["extData","group"]))&&!b(e.get("url"))}),A=void 0;A=o?i?"#111111":"#ffffff":i?this.props.USE_TABCOLOR&&n&&!t||this.props.USE_TABCOLOR&&!n&&t?"#ffffff":"#111111":"#ffffff";var h=this.props.TAB_CLOSEBUTTON_ENABLED&&("mac"===a()||!d.isLastPage(e)||e.get("url")!==d.getDefaultStartpage()),p=v.getDisplayTitle(e),f=this.isTabStack(e)?w("Tab stack with $1 tabs",[this.props.stack.size]):p,m=e.get("incognito")?e.get("favIcon"):e.get("favIconUrl");return r.createElement("div",{className:c,ref:"tab",key:e.get("id"),title:this.props.USE_TOOLTIP?null:f,onClick:this.onClick,onDoubleClick:this.doubleClick,onContextMenu:this.onContextMenu.bind(this,e,!1),onDrop:this.onUrlDrop.bind(this,e),onMouseMove:this.props.onMouseMove,onMouseLeave:this.props.onMouseLeave,onKeyDown:this.keyDown,tabIndex:this.props.KEY_ACCESS},r.createElement("div",{className:"tab-header"},r.createElement(s,{page:e}),r.createElement("span",{className:"favicon",style:{backgroundImage:"url("+(m||"/resources/page-web@2x.png")+")"}}),r.createElement("span",{className:"title"},p),h&&r.createElement("span",{className:"close",onClick:this.handleClose.bind(this,e),onMouseDown:this.stopPropagateHandler,title:w("Close tab")+"\n"+w("$1 click to close other tabs except this one",["MacIntel"===navigator.platform?w("key","Option"):w("key","Alt")])}),r.createElement("span",{className:"tab-audio",onClick:this.muteTab.bind(this,e),onMouseDown:this.stopPropagateHandler},r.createElement(I,{animated:this.props.USE_ANIMATION,color:A,mode:u}))),this.props.TAB_THUMBNAILS_ENABLED&&r.createElement(l,{className:"tab-thumb",src:e.getIn(["extData","thumbnail"]),alt:"",size:"cover"}),this.renderTabGroupIndicator())}});e.exports=O},function(e,t,n){(function(t){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(27),a=n(40),s=n(424),l=n(425),u=n(21),c=n(75),A=n(77),d=n(3),h=n(41),p=n(84),f=p.isPageGrouped,m=n(15),g=n(16),v=n(118),_=n(129),E=n(219),S=n(99),y=n(34),b=n(19),C=b.urls,T=n(6),I=n(160),w=n(36),O=n(208),N=n(133),k=n(102),D=n(2),M=30,P=150,L=181,x=100,R=260,B=32,U=["active","discarded","extData","favIcon","faviconUrl","id","incognito","pinned","processexitstate","target","title","url"],F=["thumbnail","group","tiling","read"],V=["ADDRESS_BAR_POSITION","BROWSER_FG_COLOR","CLOSABLE_PINNED_TABS","KEY_ACCESS","KEY_NEXT_TAB","KEY_PREVIOUS_TAB","SWITCH_TABS_AT_WINDOW_EDGE","TABBAR_WIDTH","TABCOLOR_BEHIND_TABS","TABS_HEIGHT","TAB_CLICK_ACTIVE_OPENS_PREVIOUS","TAB_CLOSEBUTTON_ENABLED","TAB_CYCLING_ORDER","TAB_POSITION","TAB_SELECTION_ENABLED","TAB_STACKING","TAB_SWITCH_VISUAL","TAB_THUMBNAILS_ENABLED","TAB_UNREAD_ENABLED","USE_ANIMATION","USE_TABCOLOR","USE_TAB_CLOSE_ON_DOUBLECLICK","USE_TAB_TRANSPARENT_TABS","USE_TOOLTIP"],W=function(){return{pages:g.getPages(),activePage:g.getActivePage(),isSelecting:g.isSelecting(),pageSelection:g.getPageSelection(),pageHistory:g.getPageHistory()}},H=r.createClass({displayName:"TabBar",getInitialState:function(){return Object.assign({tabsHeight:M,tabsWidth:x,tabStripWidth:0,tabStripHeight:0,tooltipHeight:400,tooltipWidth:600,tabStripOverflow:!1},W())},shouldComponentUpdate:function(e,t){var n=function(e,t,n){var i=t[e],r=n[e];return!!(i===r||o.is(i,r)||"activePage"===e&&U.every(function(e){return"extData"===e?F.every(function(e){return o.is(i.getIn(["extData",e]),r.getIn(["extData",e]))}):o.is(i.get(e),r.get(e))}))};return!N(e,this.props,n)||!N(t,this.state,n)},componentWillMount:function(){var e=this;d.get(["TABS_HEIGHT","TABBAR_WIDTH"],function(t){return e.setState({tabsHeight:t.TABS_HEIGHT||M,tabsWidth:t.TABBAR_WIDTH||x})})},componentDidMount:function(){g.addChangeListener(this._onPageStoreChange),E.addChangeListener(this.onTabStoreChange),this.updateDocumentTitle(this.state.activePage)},updateDocumentTitle:function(e){var t=C.getDisplayTitle(e);t!==document.title&&(document.title=t)},componentWillUnmount:function(){g.removeChangeListener(this._onPageStoreChange),E.removeChangeListener(this.onTabStoreChange),window.removeEventListener("mouseout",this.windowMouseOut)},_onPageStoreChange:function(){var e=g.getActivePage();e!==this.state.activePage&&this.updateDocumentTitle(e),e.get("id")!==this.state.activePage.get("id")&&"tabBar"===k(e,e.get("url"),!0)&&this.refs.tabsContainer.focus();var t=e.get("url"),n=document.querySelector("#browser");n.classList.toggle("is-startpage",C.isStartPage(t)),n.classList.toggle("is-mail",C.isMailPage(t)),this.setState(W())},onTabStoreChange:function(e){var n=this;"newBackgroundTab"===e.action?t.nextTick(function(){return m.openURL(e.url,{inBackground:!0})}):"closeAllButActiveTab"===e.action?t.nextTick(function(){return n.closeAllButActiveTab()}):"switchTabBackBySetting"===e.action?this.switchBackBySetting(e.maybeEvent):"switchTabForwardBySetting"===e.action?this.switchForwardBySetting(e.maybeEvent):"switchTabBackByHistory"===e.action?this.switchBackByHistory(e.maybeEvent):"switchTabForwardByHistory"===e.action?this.switchForwardByHistory(e.maybeEvent):"switchTabBackByOrder"===e.action?this.switchBackByOrder(e.maybeEvent):"switchTabForwardByOrder"===e.action?this.switchForwardByOrder(e.maybeEvent):"reopenRecentlyClosed"===e.action?this.reopenClosedTab():"viewPageSource"===e.action?t.nextTick(function(){return m.openURL("view-source:"+n.state.activePage.get("url"))}):"stackUntile"===e.action?t.nextTick(function(){return m.unTilePages(n.state.activePage.getIn(["extData","tiling","id"]))}):"stackTileGrid"===e.action?t.nextTick(function(){return m.tileTabStack(n.state.activePage.getIn(["extData","group"]),"grid")}):"stackTileHorizontal"===e.action?t.nextTick(function(){return m.tileTabStack(n.state.activePage.getIn(["extData","group"]),"horizontally")}):"stackTileVertical"===e.action&&t.nextTick(function(){return m.tileTabStack(n.state.activePage.getIn(["extData","group"]),"vertically")})},setTabScrollingState:function(e){this.setState({tabScrolling:e})},selectTab:function(e,t){c.clearTooltip(),e.get("active")?m.clearSelection():(t.stopPropagation(),m.openPage(e))},createTab:function(e){e&&e.stopPropagation(),m.openURL()},createTabWithMiddleClick:function(e){1===e.button&&(e.preventDefault(),this.createTab())},closeAllButActiveTab:function(){m.closeOther(g.getActivePage())},removeFromTabStack:function(e){m.removeFromTabStack(e)},muteTab:function(e,t){t&&t.stopPropagation(),m.mutePage(e)},closeSingleTab:function(e,t){t&&t.stopPropagation(),m.closePage(e)},switchBackBySetting:function(e){this.props.vivaldiSettings.TAB_SWITCH_VISUAL?this.props.switchTabVisualTabSwitcher(e,!0):"recently used"===this.props.vivaldiSettings.TAB_CYCLING_ORDER?t.nextTick(function(){return m.cycleByHistory(e,{goBack:!0})}):t.nextTick(function(){return m.cycleByOrder(e,{goBack:!0})})},switchForwardBySetting:function(e){this.props.vivaldiSettings.TAB_SWITCH_VISUAL?this.props.switchTabVisualTabSwitcher(e,!1):"recently used"===this.props.vivaldiSettings.TAB_CYCLING_ORDER?t.nextTick(function(){return m.cycleByHistory(e,{goBack:!1})}):t.nextTick(function(){return m.cycleByOrder(e,{goBack:!1})})},switchBackByHistory:function(e){t.nextTick(function(){return m.cycleByHistory(e,{goBack:!0})})},switchForwardByHistory:function(e){t.nextTick(function(){return m.cycleByHistory(e,{goBack:!1})})},switchBackByOrder:function(e){t.nextTick(function(){return m.cycleByOrder(e,{goBack:!0})})},switchForwardByOrder:function(e){t.nextTick(function(){return m.cycleByOrder(e,{goBack:!1})})},reopenClosedTab:function(){v.undeletePreviousTab()},switchTabView:function(e){var t=this.props.vivaldiSettings;e.stopPropagation(),e.preventDefault(),"top"===t.TAB_POSITION||"bottom"===t.TAB_POSITION?(this.state.tabsHeight>M+18?(this.state.tabsHeight=M,setTimeout(function(){d.set({TAB_THUMBNAILS_ENABLED:!1})},500)):(this.state.tabsHeight=P,d.set({TAB_THUMBNAILS_ENABLED:!0})),d.set({TABS_HEIGHT:this.state.tabsHeight})):(this.state.tabsWidth!==L?this.state.tabsWidth=L:this.state.tabsWidth=x,d.set({TABBAR_WIDTH:this.state.tabsWidth}))},handleTabsMove:function(e){var t=this.refs.tabsContainer;if("top"===this.props.vivaldiSettings.TAB_POSITION||"bottom"===this.props.vivaldiSettings.TAB_POSITION){var n=parseInt(t.style.height)+e;n>P?(n=P,d.set({TAB_THUMBNAILS_ENABLED:!0})):M>n?(n=M,d.set({TAB_THUMBNAILS_ENABLED:!1})):d.set({TAB_THUMBNAILS_ENABLED:!0}),d.set({TABS_HEIGHT:n}),this.setState({tabsHeight:n})}else{var i=parseInt(t.style.width)+e;i>R?i=R:x>i&&(i=x),d.set({TABBAR_WIDTH:i}),this.setState({tabsWidth:i})}return!0},getGroupHighlightId:function(e){return g.getGroupHighlightId(e)},getTabContextMenu:function(e){return[{name:D("Close Tab"),handler:this.closeSingleTab.bind(this,e)},{name:"---",handler:null},{name:D("Remove from Tab Stack"),handler:this.removeFromTabStack.bind(this,e),visible:f(e)}]},getTabBarContextMenu:function(){return[{name:D("New Tab"),handler:this.createTab},{name:D("Bookmark All Open Pages"),handler:a.bookmarkAllOpenPages},{name:"---",handler:null},{name:D("Reopen Closed Tab"),handler:this.reopenClosedTab,visible:Boolean(_.getTrash().length)}]},onMouseDown:function(e){1===e.button&&-1!==navigator.platform.indexOf("Linux")&&y.doAction("focusWebView")},onDoubleClick:function(e){0===e.button&&"MacIntel"!==navigator.platform&&this.createTab()},onClick:function(e){1===e.button&&this.createTab()},getTooltipPlacement:function(){var e={top:"below",bottom:"above",left:"after",right:"before"};return e[this.props.tabPosition]},getTooltipContent:function(e){var t=this,n=this.props.vivaldiSettings,i=void 0,a=void 0,s=f(e);if("on"===n.TAB_STACKING&&s){var l=e.getIn(["extData","group"]);i=g.getGroup(l),a=this.getGroupHighlightId(l)}else i=o.List.of(e),a=null;var c="mac"===w(),A=Boolean("ui-light"===n.BROWSER_FG_COLOR)?"#111111":"#ffffff",d=r.createElement("div",{className:T({"tab-group":s,"tab-solo":!s})},i.map(function(e){return r.createElement("div",{key:e.get("id"),className:T({active:e.get("active"),"tooltip-item":!0,"last-active":a&&a===e.get("id")}),draggable:"true",onContextMenu:u(t.getTabContextMenu.bind(t,e)),onClick:t.selectTab.bind(t,e)},r.createElement(S,{className:"thumbnail-image",size:"cover",src:e.getIn(["extData","thumbnail"]),alt:C.getDisplayTitle(e)}),r.createElement("div",{className:"thumbnail-caption"},c&&r.createElement("button",{className:"close",tabIndex:n.KEY_ACCESS,onClick:t.closeSingleTab.bind(t,e)}),r.createElement("span",{className:"thumbnail-text"},C.getDisplayTitle(e)),("playing"===e.get("mediastate")||"muting"===e.get("mediastate"))&&r.createElement("button",{className:"tooltip-audio-button",tabIndex:n.KEY_ACCESS,onClick:t.muteTab.bind(t,e)},r.createElement(O,{animated:n.USE_ANIMATION,color:A,mode:e.get("mediastate")})),!c&&r.createElement("button",{className:"close",tabIndex:n.KEY_ACCESS,onClick:t.closeSingleTab.bind(t,e)})))})),h=1,p=226+h,m=188+h,v=window.innerWidth,_=i.count()*p+h,E=m+h;if(_>v){var y=Math.ceil(_/v);_=p*Math.ceil(i.count()/y)+h,E=m*y+h}return{width:_,height:E,content:d}},getTabDirection:function(){var e=this.props.vivaldiSettings.TAB_POSITION;return"left"===e||"right"===e?"Vertical":"Horizontal"},setOverflowClass:function(e){this.setState({tabStripOverflow:e})},onResize:function(e){this.setState({tabStripWidth:e.width,tabStripHeight:e.height})},onDragOver:function(e){var t=e.dataTransfer.getData("URL");t&&(e.dataTransfer.dropEffect="copy")},onDrop:function(e){e.preventDefault(),e.stopPropagation();var t=e.dataTransfer.getData("URL");t&&m.openURL(t)},render:function(){var e,t=this.props.vivaldiSettings,o=t.TAB_POSITION,a="on"===t.TABCOLOR_BEHIND_TABS,c=t.ADDRESS_BAR_POSITION,d="off"!==t.TAB_STACKING,h=this.getTabDirection(),p="Horizontal"===h?this.state.tabStripWidth-B:this.state.tabStripWidth,m="Vertical"===h?this.state.tabStripHeight-B:this.state.tabStripHeight,v={};"left"===o||"right"===o?v.width=this.state.tabsWidth:t.TAB_THUMBNAILS_ENABLED?v.height=this.state.tabsHeight:v.height=M;var _=this.state.pages.filter(function(e){return!Boolean(e.get("isRemoved"))}),E=!1;t.USE_TABCOLOR&&("top"===o&&"top"===c||"bottom"===o&&!a||("left"===o||"right"===o)&&!a)&&(E=!0);var S=this.state.TAB_THUMBNAILS_ENABLED;return r.createElement("div",{id:"tabs-container",ref:"tabsContainer",onMouseDown:this.onMouseDown,onDoubleClick:this.onDoubleClick,onClick:this.onClick,onContextMenu:u(this.getTabBarContextMenu),style:v,className:T((e={"tab-group-open":d&&f(g.getActivePage())},i(e,S?"view-thumbs":"no-thumbs",!0),i(e,this.props.tabPosition,!0),i(e,"scrolling","on"===this.state.tabScrolling),i(e,"overflow",this.state.tabStripOverflow),i(e,"favicon-current-border-color",E),i(e,"tabs-at-edge",this.state.SWITCH_TABS_AT_WINDOW_EDGE&&"left"!==o&&"right"!==o),e)),onDragOver:this.onDragOver,onDragLeave:this.resetDragoverObj,onDrop:this.onDrop},r.createElement(I,{className:"resize",embedCss:!1,onResize:this.onResize},r.createElement(s,{ref:"tabStrip",className:"tab-strip",maxWidth:p,maxHeight:m,direction:h,selectTab:this.selectTab,getTooltipContent:this.getTooltipContent,getGroupHighlightId:this.getGroupHighlightId,setOverflowClass:this.setOverflowClass,USE_TOOLTIP:t.USE_TOOLTIP,TAB_STACKING:t.TAB_STACKING,USE_ANIMATION:t.USE_ANIMATION,USE_TABCOLOR:t.USE_TABCOLOR,TABCOLOR_BEHIND_TABS:t.TABCOLOR_BEHIND_TABS,BROWSER_FG_COLOR:t.BROWSER_FG_COLOR,USE_TAB_TRANSPARENT_TABS:t.USE_TAB_TRANSPARENT_TABS,TABS_HEIGHT:t.TABS_HEIGHT,TAB_THUMBNAILS_ENABLED:t.TAB_THUMBNAILS_ENABLED,KEY_ACCESS:t.KEY_ACCESS,TAB_CLOSEBUTTON_ENABLED:t.TAB_CLOSEBUTTON_ENABLED,TAB_UNREAD_ENABLED:t.TAB_UNREAD_ENABLED,USE_TAB_CLOSE_ON_DOUBLECLICK:t.USE_TAB_CLOSE_ON_DOUBLECLICK,TAB_CLICK_ACTIVE_OPENS_PREVIOUS:t.TAB_CLICK_ACTIVE_OPENS_PREVIOUS,TAB_SELECTION_ENABLED:t.TAB_SELECTION_ENABLED,TAB_POSITION:t.TAB_POSITION,reopenClosedTab:this.reopenClosedTab,tabPosition:this.props.tabPosition,isSelecting:this.state.isSelecting&&t.TAB_SELECTION_ENABLED,pageSelection:this.state.pageSelection,pages:_}),r.createElement("button",{ref:"newTabButton",className:"button-tabbar newtab",tabIndex:t.KEY_ACCESS,onClick:this.createTab,onDoubleClick:this.createTab,title:D("Open a new tab"),dangerouslySetInnerHTML:{__html:n(589)}})),r.createElement(l,{keyAccess:t.KEY_ACCESS}),r.createElement(A,{onSlidebarMove:this.handleTabsMove,onDoubleClick:this.switchTabView,position:this.props.tabPosition}))}});e.exports=h(H,V)}).call(t,n(22))},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(100),a=n(6),s=i.createClass({displayName:"TabProgressIndicator",mixins:[r],getInitialState:function(){return{isProgressing:!1,progress:0}},componentWillMount:function(){o.addChangeListener(this._onNavigationStoreChanged)},componentWillUnmount:function(){o.removeChangeListener(this._onNavigationStoreChanged)},_onNavigationStoreChanged:function(){var e=this.props.page,t=o.getProgressInfo(e).get("progress"),n=o.getNavigationInfo(e).get("trigger");"start"===n?this.setState({isProgressing:!1,progress:0}):"stop"===n?this.setState({isProgressing:!1,progress:1}):"commit"!==n&&"content"!==n||this.setState({isProgressing:!0,progress:t})},render:function(){var e=this.state.progress,t=this.state.isProgressing,n=a({"progress-indicator":!0,progressing:t,"progress-done":1===e});return i.createElement("span",{className:n,style:{transform:"scaleX("+e+")"}})}});e.exports=s},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=n(1),a=n(13),s=n(608),l=s.TransitionMotion,u=s.spring,c=n(7),A=n(27),d=n(421),h=n(426),p=n(15),f=n(16),m=n(34),g=n(26),v=n(36),_=n(18),E=_.findLast,S=n(488),y=n(473),b=200,C=181,T=150,I=66,w=31,O=31,N=7,k=[240,26],D=!1,M=o.createClass({mixins:[c],displayName:"TabStrip",propTypes:{direction:o.PropTypes.oneOf(["Horizontal","Vertical"]).isRequired,maxWidth:o.PropTypes.number,maxHeight:o.PropTypes.number,setOverflowClass:o.PropTypes.func},getInitialState:function(){return{layout:A.List(),mouse:null,dragOver:null,recoverIndex:null,ignoreOver:null,prevMove:null,lastPress:null,dragMoved:!1,frozenTabWidth:null,frozenTabHeight:null}},componentWillMount:function(){this.updateDimensions(this.props)},componentWillReceiveProps:function(e){this.props.pages===e.pages&&this.props.maxWidth===e.maxWidth&&this.props.maxHeight===e.maxHeight&&this.props.TAB_STACKING===e.TAB_STACKING||this.updateDimensions(e)},componentDidMount:function(){var e=document.querySelector("#tabs-container");return e?void e.addEventListener("mouseleave",this.onMouseLeaveHandler):void console.warn("Missing tabs container for resize while shrinking.")},componentWillUnmount:function(){var e=document.querySelector("#tabs-container");return e?void e.removeEventListener("mouseleave",this.onMouseLeaveHandler):void console.warn("Missing tabs container for resize while shrinking.")},onMouseLeaveHandler:function(e){var t=this;this.setState({frozenTabWidth:null,frozenTabHeight:null},function(){t.updateDimensions(t.props)})},updateDimensions:function(e){var t=this.getTabWidth(e),n=this.getTabHeight(e),i=a.findDOMNode(this.refs.tabs)?a.findDOMNode(this.refs.tabs).clientHeight:0;i>e.maxHeight?this.props.setOverflowClass(!0):this.props.setOverflowClass(!1),this.setState({composition:this.createComposition(e.pages,e.direction,t,e.TAB_THUMBNAILS_ENABLED?n:w,"on"===e.TAB_STACKING)})},createComposition:function(e,t,n,i,r){var o=["extData","group"],a=function(e,s,l){var u=this,c=arguments.length<=3||void 0===arguments[3]?0:arguments[3],d=arguments.length<=4||void 0===arguments[4]?[]:arguments[4];if(e===A.List())return d;var h=e.first(),p=e.rest(),m=h.getIn(o),g=r&&f.isGroup(m),v=void 0;return v="Horizontal"===t?s=h.get("pinned")?w:h.get("active")||g&&h.getIn(["extData","group"])===f.getActivePage().getIn(["extData","group"])?n>w?n:w:n:l=h.get("pinned")?w:g?Math.max(i,w)+N:Math.max(i,w),
g&&!function(){var t=u.props.getGroupHighlightId(h.getIn(o));h=e.find(function(e){return e.get("id")===t})||h,p=p.filter(function(e){return e.getIn(o)!==m})}(),d.push({page:h,width:s,height:l,position:c,delta:v}),a(p,s,l,c+v,d)}.bind(this);return a(e,n,i)},getStyles:function(){var e=this,t=this.state,n=t.dragMoved,i=t.isPressed,o=t.lastPress,a=t.dragOver;return this.state.composition.reduce(function(t,s,l){var c=void 0,A=void 0,d=n&&o===s.page.get("id"),h=n&&i&&d;if(h){var p=r(e.state.mouse,2);c=p[0],A=p[1];var f=e.clampComponent(s,c,A),m=r(f,2);c=m[0],A=m[1]}else c=s.position,A=s.position;var g=e.limitDirection(c,A),v=r(g,2);c=v[0],A=v[1];var _=[y(c),y(A)];c=_[0],A=_[1];var E=y(s.width),S=y(s.height),b=void 0;b=e.props.USE_ANIMATION?u:function(e){return e};var C=a===s.page.get("id"),T={id:s.page.get("id"),page:s.page,isHovered:C,dragShadow:b(h?4:0),shadowOpacity:b(h?.2:0),colorOpacity:b(C?1:0),bgColor:b(C?.6:1),zIndex:d?2:C?1:0,width:E,height:S,x:i?h?c:b(c,k):D&&d?b(c,k):c,y:i?h?A:b(A,k):D&&d?b(A,k):A};return d&&(D=!1),t[s.page.get("id")]=T,t},{})},clampComponent:function(e,t,n){if(e.page.get("pinned")){var i=E(this.state.composition,function(e){return e.page.get("pinned")});return[S(t,-5,i.position),S(n,-5,i.position)]}var r=this.state.composition.find(function(e){return!e.page.get("pinned")}),o="Horizontal"===this.props.direction?this.getWidth()-e.width:this.getHeight()-e.height;return[S(t,r.position,o+5),S(n,r.position,o+5)]},startDragging:function(e,t,n,i){var r=e.pageX,o=e.pageY;window.addEventListener("touchmove",this.handleTouchMove),window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("touchend",this.handleMouseUp),window.addEventListener("mouseup",this.handleMouseUp),g.bind("esc",this.cancelDragging),this.setState({lastPress:t.get("id"),recoverIndex:t.get("index"),isPressed:!0,dragMoved:!1,draggedActive:t.get("active"),delta:[r-n,o-i],mouse:[n,i],start:[r,o]})},cancelDragging:function(){var e=this.state,t=e.lastPress,n=e.recoverIndex,i=this.props.pages.find(function(e){return e.get("id")===t});p.moveToIndex(i,n),this.endDragging()},updateDragging:function(e){var t=this,n=e.pageX,i=e.pageY,o=this.state,a=o.isDragging,s=o.lastPress,l=r(o.delta,2),u=l[0],c=l[1],A=r(this.state.start,2),d=A[0],h=A[1],f=2;a||(Math.abs(d-n)>f||Math.abs(h-i)>f)&&(a=!0,this.setState({isDragging:!0})),a&&!function(){var e=n-u,o=i-c,a={mouse:[e,o],dragMoved:!0},l=t.state.composition.find(function(e){return e.page.get("id")===s}),A=t.clampComponent(l,e,o),d=r(A,2);e=d[0],o=d[1];var h="Horizontal"===t.props.direction?e:o,f=h+l.delta/2,m=t.state.composition.find(function(e){return f>e.position&&f<e.position+e.delta});if(m&&m.page.get("id")!==s&&(t.state.ignoreOver=t.state.dragOver,t.state.dragOver=null,p.movePage(t.props.pages.find(function(e){return e.get("id")===s}),m.page,"on"===t.props.TAB_STACKING)),"on"===t.props.TAB_STACKING){var g=t.state.composition.find(function(e){return h>e.position+.4*e.delta&&h<e.position+.8*e.delta}),v=t.state.composition.find(function(e){return h+l.delta>e.position+.2*e.delta&&h+l.delta<e.position+.6*e.delta});if(g&&!g.page.get("pinned")&&g.page.get("id")!==s){var _=g.page.get("id");_!==t.state.ignoreOver&&(a.dragOver=_)}else if(v&&!v.page.get("pinned")&&v.page.get("id")!==s){var E=v.page.get("id");E!==t.state.ignoreOver&&(a.dragOver=E)}else a.dragOver=null,a.ignoreOver=null}t.setState(a)}()},stopDragging:function(){var e=this;if(this.state.dragOver){var t=this.props.pages.find(function(t){return t.get("id")===e.state.lastPress}),n=this.props.pages.find(function(t){return t.get("id")===e.state.dragOver});t&&n&&t.get("id")!==n.get("id")&&p.createTabStack(A.List.of(t,n))}this.endDragging()},endDragging:function(){window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("touchend",this.handleMouseUp),window.removeEventListener("mouseup",this.handleMouseUp),g.unbind("esc",this.cancelDragging),D=!0,this.props.TAB_CLICK_ACTIVE_OPENS_PREVIOUS&&!this.state.isDragging&&this.state.draggedActive&&p.minimizePage(),this.setState({isPressed:!1,isDragging:!1,recoverIndex:null,delta:null,mouse:null,dragOver:null})},handleTouchMove:function(e){e.preventDefault(),this.updateDragging(e.touches[0])},handleMouseMove:function(e){e.preventDefault(),this.updateDragging(e)},handleMouseUp:function(e){this.stopDragging(e)},closePage:function(e,t){this.freezeTabSize(e),p.closePage(e)},freezeTabSize:function(e){var t=this,n=this.props.pages.last();n&&e.get("id")===n.get("id")?this.setState({frozenTabWidth:null,frozenTabHeight:null},function(){t.updateDimensions(t.props)}):this.setState({frozenTabWidth:this.getTabWidth(this.props),frozenTabHeight:this.getTabHeight(this.props)},function(){t.updateDimensions(t.props)})},mouseDownHandler:function(e,t,n,i){var r=this.props.TAB_SELECTION_ENABLED,o="mac"===v(),a=o?i.metaKey:i.ctrlKey,s=i.shiftKey;if(0===i.button)if(r&&(a||s)&&document.hasFocus()){var l=s&&!a;p.setSelection(e,l)}else this.props.selectTab(e,i),this.startDragging(i,e,t,n);else 1===i.button&&-1!==navigator.platform.indexOf("Linux")&&m.doAction("focusWebView")},mouseUpHandler:function(e,t,n,i){1===i.button&&p.closePage(e)},touchStartHandler:function(e,t,n,i){this.startDragging(i.touches[0],e,t,n)},limitDirection:function(e,t){return"Horizontal"===this.props.direction?[e,0]:[0,t]},getVisibleTabCount:function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];if(e===A.List())return 0;var n=e.first(),i=e.rest(),r=["extData","group"],o=n.getIn(r),a=t&&f.isGroup(o);return i=a?i.filter(function(e){return e.getIn(r)!==o}):e.rest(),1+this.getVisibleTabCount(i,t)},getTabWidth:function(e){if(this.state.frozenTabWidth)return this.state.frozenTabWidth;var t=e.pages.filter(function(e){return e.get("pinned")}).reduce(function(e,t){return e+O},0),n=e.maxWidth-t;if("Horizontal"===e.direction){var r=this.getVisibleTabCount(e.pages.filter(function(e){return!e.get("pinned")}),"on"===e.TAB_STACKING),o=e.pages.find(function(e){return e.get("active")}),a="object"===("undefined"==typeof o?"undefined":i(o))&&o.get("pinned"),s=n>r*C?C:n/r;return w>s&&!a?s-(w-s)/r:s}return"100%"},getTabHeight:function(e){if(this.state.frozenTabHeight)return this.state.frozenTabHeight;var t=e.pages.filter(function(e){return e.get("pinned")}).reduce(function(e,t){return e+O},0),n=e.maxHeight-t;if("Vertical"===e.direction){var i=this.getVisibleTabCount(e.pages.filter(function(e){return!e.get("pinned")}),"on"===e.TAB_STACKING);return n>i*T?T:n/i}return"auto"},getWidth:function(){if("Horizontal"===this.props.direction){var e=this.state.composition[this.state.composition.length-1];return e?e.position+e.width:0}return"100%"},getHeight:function(e){if("Vertical"===this.props.direction){var t=this.state.composition[this.state.composition.length-1];return t?t.position+t.height:0}return"auto"},getTooltipPlacement:function(){var e={top:"below",bottom:"above",left:"after",right:"before"};return e[this.props.tabPosition]},renderTab:function(e,t,n,i,r,a){var s=void 0,l=void 0;"on"===this.props.TAB_STACKING?(s=f.getGroup(t.getIn(["extData","group"])),l=s.count()>1):(s=A.List(),l=!1);var u=!this.props.USE_TOOLTIP||this.state.isPressed||t.get("active")&&!f.isGroup(t.getIn(["extData","group"]));return o.createElement(h,{key:e,id:t.get("id"),disabled:u,pointerEvents:l?"auto":"none",placement:this.getTooltipPlacement(),appearDelay:b,disappearDelay:l?b:1,content:this.props.getTooltipContent,context:t},o.createElement("div",{className:"tab-position",style:n,onMouseDown:this.mouseDownHandler.bind(this,t,r,a),onMouseUp:this.mouseUpHandler.bind(this,t,r,a),onTouchStart:this.touchStartHandler.bind(this,t,r,a)},o.createElement(d,{key:e,stack:l&&s,isDragged:i,page:t,isSelecting:this.props.isSelecting,pageSelection:this.props.pageSelection,smallTab:Boolean(n.width<=I),highlightId:l&&this.props.getGroupHighlightId(t.getIn(["extData","group"])),TAB_STACKING:this.props.TAB_STACKING,USE_TABCOLOR:this.props.USE_TABCOLOR,BROWSER_FG_COLOR:this.props.BROWSER_FG_COLOR,KEY_ACCESS:this.props.KEY_ACCESS,TAB_CLOSEBUTTON_ENABLED:this.props.TAB_CLOSEBUTTON_ENABLED,USE_TOOLTIP:this.props.USE_TOOLTIP,USE_TAB_TRANSPARENT_TABS:this.props.USE_TAB_TRANSPARENT_TABS,USE_TAB_CLOSE_ON_DOUBLECLICK:this.props.USE_TAB_CLOSE_ON_DOUBLECLICK,TAB_THUMBNAILS_ENABLED:this.props.TAB_THUMBNAILS_ENABLED,TAB_UNREAD_ENABLED:this.props.TAB_UNREAD_ENABLED,USE_ANIMATION:this.props.USE_ANIMATION,TABCOLOR_BEHIND_TABS:this.props.TABCOLOR_BEHIND_TABS,TAB_SELECTION_ENABLED:this.props.TAB_SELECTION_ENABLED,TAB_POSITION:this.props.TAB_POSITION,closePage:this.closePage,selectTab:this.props.selectTab,reopenClosedTab:this.props.reopenClosedTab})))},render:function(){var e=this;if(this.props.maxWidth<=0||this.props.maxHeight<=0)return null;var t=this.getTabWidth(this.props),n=this.getTabHeight(this.props),i={maxWidth:this.getWidth(t),maxHeight:this.getHeight(n)};return o.createElement(l,{ref:"tabs",styles:this.getStyles(),willEnter:this.willEnter,willLeave:this.willLeave},function(t){return o.createElement("div",{className:e.props.className,style:i},Object.keys(t).map(function(n){var i=t[n],r=i.page,o=i.isDragged,a=i.dragShadow,s=i.shadowOpacity,l=i.bgColor,u=i.zIndex,c=i.height,A=i.opacity,d=i.width,h=i.x,p=i.y,f={transform:"translate3d("+h+"px, "+p+"px, 0)",boxShadow:"0 -1px "+a+"px -1px rgba(0,0,0,"+s+")",zIndex:u,width:d,height:c,opacity:A,WebkitFilter:"brightness("+l+")"};return e.renderTab(n,r,f,o,h,p)}))})}});e.exports=M},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(118),a=n(129),s=n(21),l=n(6),u=n(2),c=i.createClass({displayName:"Trash",mixins:[r],getInitialState:function(){return{trash:a.getTrash(),isTrashOpen:!1,showTrashContextMenu:null}},componentWillMount:function(){a.addChangeListener(this.onTrashStoreChange)},componentWillUnmount:function(){a.removeChangeListener(this.onTrashStoreChange)},onTrashStoreChange:function(){this.setState({trash:a.getTrash()})},emptyTrash:function(){o.emptyTrash()},undeleteTab:function(e){o.undeleteTab(e)},undeleteWindow:function(e){o.restoreWindow(e)},trimTitle:function(e){return e.length>90&&(e=e.substring(0,90)+"..."),e},onOpen:function(){},onClose:function(){},getContextMenuHandler:function(){var e=this;if(0===this.state.trash.length)return null;var t=[],n=this.state.trash.map(function(t,n){if(t.tab){var i=t.tab;return{mnemonic:!1,name:e.trimTitle(i.title),url:i.url,handler:e.undeleteTab.bind(e,i)}}if(t.window){var r=t.window;return{name:e.trimTitle(u("Window with $1 Tab","Window with $1 Tabs",[r.tabs.length])),items:[{name:u("All"),handler:e.undeleteWindow.bind(e,r)}].concat(r.tabs.map(function(t){return{mnemonic:!1,name:e.trimTitle(t.title),url:t.url,handler:e.undeleteTab.bind(e,t)}}))}}}),i=[{name:"---"},{name:u("Clear All"),handler:o.emptyTrash}];t=t.concat(n).concat(i);var r=this.refs.trashButton;return s(t,null,"bottom",r)},render:function(){var e=this,t=this.state.trash.length,r=l({"button-tabbar":!0,"toggle-trash":!0,active:this.state.isTrashOpen}),o=function(t){return e.getContextMenuHandler()(t)};return i.createElement("div",{className:"trash"},i.createElement("button",{ref:"trashButton",className:r,tabIndex:this.props.keyAccess,onClick:o,onContextMenu:o,disabled:0===t?"disabled":"",title:u("Trash"),dangerouslySetInnerHTML:{__html:n(590)}}))}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(13),o=n(7),a=n(75),s=n(465),l=n(6),u=4,c=function(){var e=document.getElementById("vivaldi-tooltip");if(!e){e=document.createElement("div"),e.id="vivaldi-tooltip";var t=document.getElementById("app");t&&t.appendChild(e)}return e};s.addChangeListener(function(){s.allHidden()&&r.unmountComponentAtNode(c())});var A=i.createClass({mixins:[o],displayName:"Tooltip","static":{removeTimoutId:null},getDefaultProps:function(){return{appearDelay:200,disabled:!1}},getInitialState:function(){return{show:s.getShowTooltip(this.props.id)}},componentWillMount:function(){s.addChangeListener(this._onStoreChange)},componentWillUnmount:function(){a.hideTooltip(this.props.id),s.removeChangeListener(this._onStoreChange)},componentDidMount:function(){this.target=c(),this.renderToolTip()},componentDidUpdate:function(){this.renderToolTip()},componentWillReceiveProps:function(e){!this.props.disabled&&e.disabled&&a.hideTooltip(this.props.id)},_onStoreChange:function(){this.setState({show:s.getShowTooltip(this.props.id)})},onMouseEnter:function(){if(!this.props.disabled){var e=s.allHidden()?this.props.appearDelay:0;a.showTooltip(this.props.id,e)}},onMouseLeave:function(){this.props.disabled||a.hideTooltip(this.props.id,this.props.disappearDelay)},tooltipIsOpen:function(){return Boolean(this.target&&this.target.firstChild&&this.target.firstChild.classList.contains("tooltip"))},getPosition:function(e,t){var n=void 0,i=void 0,o=r.findDOMNode(this).getBoundingClientRect();if("above"===this.props.placement){var a=o.left+o.width/2;n=a-e/2,i=o.top-t-u}else if("after"===this.props.placement)n=o.left+o.width+u,i=o.top;else if("before"===this.props.placement)n=o.left-e-u,i=o.top;else{var s=o.left+o.width/2;n=s-e/2,i=o.top+o.height+u}return 0>n&&(n=0),0>i&&(i=0),n+e>window.innerWidth&&(n-=n+e-window.innerWidth),i+t>window.innerHeight&&(i-=i+t-window.innerHeight),{positionLeft:n,positionTop:i}},renderToolTip:function(){if(this.state.show&&this.isMounted()){var e;e="after"===this.props.placement||"before"===this.props.placement?"top 150ms, height 50ms":"left 150ms, height 50ms";var t=this.props.content(this.props.context),n=t.width,o=t.height,a=t.content,s=this.getPosition(n,o),u=s.positionLeft,c=s.positionTop,A={left:u,top:c,pointerEvents:this.props.pointerEvents,width:n,height:o,transition:e},d=l(this.props.className,{tooltip:!0});r.render(i.createElement("div",{className:d,style:A,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},a),this.target)}},render:function(){var e=i.Children.only(this.props.children);return this.props.disabled?e:i.cloneElement(e,{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave})}});e.exports=A},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(2),a=n(18),s=n(31),l=n(15),u=n(122),c=i.createClass({displayName:"LocationPermissionDialog",mixins:[s,r],propTypes:{onDialogClosed:i.PropTypes.func,isBlocking:i.PropTypes.bool,isDecided:i.PropTypes.bool,onPermissionClicked:i.PropTypes.func,url:i.PropTypes.string},handleClickOutside:function(e){this.props.onDialogClosed()},getTitle:function(){return this.props.isDecided?this.props.isBlocking?o("Website “$1” has been denied location access.",[this.props.url]):o("Website “$1” is accessing your location.",[this.props.url]):o("Website “$1” would like to access your location.",[this.props.url])},_privacyNotice:function(){l.openURL("https://location.services.mozilla.com/privacy")},change:function(){l.openURL("chrome://settings/contentExceptions#location")},renderAllowDenyQuery:function(){return i.createElement("section",null,i.createElement("div",{className:"geo-notice"},i.createElement("a",{href:"",title:"Mozilla Location Service Privacy Notice",onClick:this._privacyNotice},"Privacy Notice")),i.createElement("input",{type:"button",disabled:this.props.isAsking===!1,onClick:a.partial(this.props.onPermissionClicked,!1),value:o("Allow")}),i.createElement("input",{type:"button",className:"primary",onClick:a.partial(this.props.onPermissionClicked,!0),value:o("Deny"),autoFocus:!0}))},render:function(){return i.createElement("section",{className:"addressfield-popup"},i.createElement("header",{className:"addressfield-popup-header"},i.createElement("h1",null,this.getTitle())),i.createElement("section",{className:"addressfield-popup-content"},this.props.isDecided===!1&&this.renderAllowDenyQuery()||i.createElement(u,{onDialogClosed:this.props.onDialogClosed,onChange:this.change})))}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(427),a=n(68),s=n(6),l=i.createClass({displayName:"LocationPermissionNotificator",mixins:[r],propTypes:{page:i.PropTypes.object,request:i.PropTypes.object},getInitialState:function(){return{isDialogOpen:null===this.props.request.get("blocked")}},componentWillReceiveProps:function(e){null===this.props.request.get("blocked")&&null===e.request.get("blocked")&&this.setState({isDialogOpen:!0})},onNotificatorClicked:function(e){this.setState({isDialogOpen:!this.state.isDialogOpen})},onDialogClosed:function(){this.setState({isDialogOpen:!1})},onPermissionClicked:function(e){var t=this.props.request.get("requestEvent");e===!1?t.allow():t.deny(),this.onDialogClosed(),a.setPermission(this.props.page,"geolocation",t,e)},render:function(){var e=null!==this.props.request.get("blocked")?this.props.request.get("blocked"):!0,t={"ignore-react-onclickoutside":!0,"button-addressfield":!0,"permission-location":!0,"is-allowing":!e,"is-blocking":e,"is-dialog-open":this.state.isDialogOpen},r=null;return this.state.isDialogOpen===!0&&(r=i.createElement(o,{url:this.props.request.get("requestEvent").url,onPermissionClicked:this.onPermissionClicked,isBlocking:e,isDecided:null!==this.props.request.get("blocked"),onDialogClosed:this.onDialogClosed})),i.createElement("div",{className:"locationpermission addressfield-popup-container"},i.createElement("button",{className:s(t),onClick:this.onNotificatorClicked,dangerouslySetInnerHTML:{__html:n(575)}}),r)}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(2),a=n(18),s=n(31),l=n(15),u=n(122),c=i.createClass({displayName:"MediaPermissionDialog",mixins:[s,r],propTypes:{url:i.PropTypes.string,onDialogClosed:i.PropTypes.func,onPermissionClicked:i.PropTypes.func,isDecided:i.PropTypes.bool,isBlocking:i.PropTypes.bool},handleClickOutside:function(e){this.props.onDialogClosed()},getTitle:function(){return this.props.isDecided?this.props.isBlocking?o("Website “$1” has been denied camera access.",[this.props.url]):o("Website “$1” is accessing your camera.",[this.props.url]):o("Website “$1” would like to access your camera.",[this.props.url])},change:function(){l.openURL("chrome://settings/contentExceptions#media-stream-camera")},renderAllowDenyQuery:function(){return i.createElement("section",null,i.createElement("input",{type:"button",className:"primary",onClick:a.partial(this.props.onPermissionClicked,!1),value:o("Allow"),autoFocus:!0}),i.createElement("input",{type:"button",onClick:a.partial(this.props.onPermissionClicked,!0),value:o("Deny")}))},render:function(){return i.createElement("div",{className:"addressfield-popup"},i.createElement("header",{className:"addressfield-popup-header"},i.createElement("h1",null,this.getTitle())),i.createElement("div",{className:"addressfield-popup-content"},this.props.isDecided===!1&&this.renderAllowDenyQuery()||i.createElement(u,{onDialogClosed:this.props.onDialogClosed,onChange:this.change})))}});e.exports=c},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(429),a=n(68),s=n(6),l=i.createClass({displayName:"MediaPermissionNotificator",mixins:[r],propTypes:{page:i.PropTypes.object,request:i.PropTypes.object},getInitialState:function(){var e=this.props.request.get("blocked");return{isDialogOpen:null===e}},componentWillReceiveProps:function(e){null===this.props.request.get("blocked")&&null===e.request.get("blocked")&&this.setState({isDialogOpen:!0})},onNotificatorClicked:function(e){this.setState({isDialogOpen:!this.state.isDialogOpen})},onDialogClosed:function(){this.setState({isDialogOpen:!1})},onPermissionClicked:function(e){var t=this.props.request.get("requestEvent");e===!1?t.allow():t.deny(),this.onDialogClosed(),a.setPermission(this.props.page,"media",t,e)},render:function(){var e=null!==this.props.request.get("blocked")?this.props.request.get("blocked"):!0,t={"ignore-react-onclickoutside":!0,"button-addressfield":!0,"permission-camera":!0,"is-allowing":!e,"is-blocking":e,"is-dialog-open":this.state.isDialogOpen},r=null;return this.state.isDialogOpen===!0&&(r=i.createElement(o,{url:this.props.request.get("requestEvent").url,onPermissionClicked:this.onPermissionClicked,isBlocking:e,isDecided:null!==this.props.request.get("blocked"),onDialogClosed:this.onDialogClosed})),i.createElement("div",{className:"mediapermission addressfield-popup-container"},i.createElement("button",{className:s(t),onClick:this.onNotificatorClicked,dangerouslySetInnerHTML:{__html:n(574)}}),r)}});e.exports=l},function(e,t,n){"use strict";var i=n(80),r=n(126),o=n(25),a=n(16),s=n(7),l=n(1),u=n(2),c=n(6),A=n(21),d=750,h=l.createClass({displayName:"NavigateButton",mixins:[s],getInitialState:function(){return{currentIndex:-1,timerId:0}},doMouseUp:function(e){clearTimeout(this.state.timerId),this.state.acceptMouseUp===!0&&(this.setState({acceptMouseUp:!1}),this.props.doAction())},doMouseDown:function(e){if("-1"===this.props.keyAccess&&e.preventDefault(),0===e.button){this.setState({acceptMouseUp:!0});var t=setTimeout(function(){this.setState({acceptMouseUp:!1}),this.showMenu(e,"bottom")}.bind(this),d);this.setState({timerId:t})}},doKeyDown:function(e){e.keyCode===o.KEY_ESCAPE&&(this.setState({acceptMouseUp:!1}),clearTimeout(this.state.timerId))},showContextMenu:function(e){e.persist(),e.preventDefault(),e.stopPropagation(),this.showMenu(e,"bottom")},showMenu:function(e,t){var n=this,o=void 0;switch(this.props.type){case"Back":case"Forward":i.getActiveWebView().getPageHistory(function(n,i){var r=n;"Back"===this.props.type?(i=i.slice(0,n),i=i.reverse()):"Forward"===this.props.type&&(i=i.slice(n+1));var a=0;o=i.map(function(e){var t=i[a].index-r;return{name:e.name,url:e.url,handler:this.onMenuActivated.bind(this,t),id:a++,mnemonic:!1}}.bind(this)),A(o,null,t,this.refs.button,null)(e)}.bind(this));break;case"Rewind":var s=r.getRewindHistory(a.getActivePage()),l=r.getRewindIndexes(a.getActivePage());o=s.map(function(e,t){return{name:e.name,url:e.url,handler:n.onMenuActivated.bind(n,-1*l[t]),id:t,mnemonic:!1}}),A(o,null,t,this.refs.button,null)(e);break;default:throw new Error("Tried to create an unknown navigation button. Must be 'Back', 'Forward' or 'Rewind'.")}},onMenuActivated:function(e){i.getActiveWebView().go(e)},render:function(){var e=c({"button-toolbar":!0,back:"Back"===this.props.type,forward:"Forward"===this.props.type,rewind:"Rewind"===this.props.type}),t=void 0,i=void 0;if("Back"===this.props.type)t=n(560),i=u("Go to previous page")+"\n"+u("Hold for history list");else if("Forward"===this.props.type)t=n(562),i=u("Go to next page")+"\n"+u("Hold for forward history list");else{if("Rewind"!==this.props.type)throw new Error("Tried to create an unknown navigation button. Must be 'Back', 'Forward' or 'Rewind'.");t=n(564),i=u("Rewind by visited domain")+"\n"+u("Hold for history domain list")}return l.createElement("button",{className:e,ref:"button",onContextMenu:this.showContextMenu,disabled:!this.props.canNavigate,title:i,tabIndex:this.props.keyAccess,onMouseUp:this.doMouseUp,onMouseDown:this.doMouseDown,onKeyDown:this.doKeyDown,dangerouslySetInnerHTML:{__html:t}})}});e.exports=h},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(2),a=n(31),s=n(15),l=n(122),u=i.createClass({displayName:"NotificationPermissionDialog",mixins:[a,r],propTypes:{onDialogClosed:i.PropTypes.func,isBlocking:i.PropTypes.bool,isDecided:i.PropTypes.bool,onPermissionClicked:i.PropTypes.func,url:i.PropTypes.string},handleClickOutside:function(e){this.props.onDialogClosed()},getTitle:function(){return this.props.isDecided?this.props.isBlocking?o("Website “$1” has been denied showing notifications.",[this.props.url]):o("Website “$1” is authorized to show notifications.",[this.props.url]):o("Website “$1” would like to show notifications.",[this.props.url])},allow:function(){this.props.onPermissionClicked(!1)},deny:function(){this.props.onPermissionClicked(!0)},change:function(){s.openURL("chrome://settings/contentExceptions#notifications")},renderAllowDenyQuery:function(){return i.createElement("section",null,i.createElement("input",{type:"button",disabled:this.props.isAsking===!1,onClick:this.allow,value:o("Allow")}),i.createElement("input",{type:"button",className:"primary",onClick:this.deny,value:o("Deny"),autoFocus:!0}))},render:function(){return i.createElement("section",{className:"addressfield-popup"},i.createElement("header",{className:"addressfield-popup-header"},i.createElement("h1",null,this.getTitle())),i.createElement("section",{className:"addressfield-popup-content"},this.props.isDecided===!1&&this.renderAllowDenyQuery()||i.createElement(l,{onDialogClosed:this.props.onDialogClosed,onChange:this.change})))}});e.exports=u},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(432),a=n(68),s=n(6),l=i.createClass({displayName:"NotificationPermissionNotificator",mixins:[r],propTypes:{page:i.PropTypes.object,request:i.PropTypes.object},getInitialState:function(){return{isDialogOpen:null===this.props.request.get("blocked")}},componentWillReceiveProps:function(e){null===this.props.request.get("blocked")&&null===e.request.get("blocked")&&this.setState({isDialogOpen:!0})},onNotificatorClicked:function(e){this.setState({isDialogOpen:!this.state.isDialogOpen})},onDialogClosed:function(){this.setState({isDialogOpen:!1})},onPermissionClicked:function(e){var t=this.props.request.get("requestEvent");e===!1?t.allow():t.deny(),this.onDialogClosed(),a.setPermission(this.props.page,"notifications",t,e)},render:function(){var e=null!==this.props.request.get("blocked")?this.props.request.get("blocked"):!0,t={"ignore-react-onclickoutside":!0,"button-addressfield":!0,"is-allowing":!e,"is-blocking":e,"is-dialog-open":this.state.isDialogOpen},r=null;return this.state.isDialogOpen===!0&&(r=i.createElement(o,{url:this.props.request.get("requestEvent").url,onPermissionClicked:this.onPermissionClicked,isBlocking:e,isDecided:null!==this.props.request.get("blocked"),onDialogClosed:this.onDialogClosed})),i.createElement("div",{className:"addressfield-popup-container"},i.createElement("button",{className:s(t),onClick:this.onNotificatorClicked,dangerouslySetInnerHTML:{__html:n(576)}}),r)}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(2),o=n(31),a=i.createClass({displayName:"PopupBlockerDialog",mixins:[o],propTypes:{onDialogClosed:i.PropTypes.func,onShouldBlockClicked:i.PropTypes.func,blockedPopups:i.PropTypes.object,shouldBlockPopups:i.PropTypes.bool,onPopupAllowed:i.PropTypes.func},getInitialState:function(){return{}},handleClickOutside:function(e){this.props.onDialogClosed()},onAllowBlockedClicked:function(e,t){t.preventDefault(),this.props.onPopupAllowed(e)},renderItem:function(e){return i.createElement("a",{className:"popupblocker-blocked-page",onClick:this.onAllowBlockedClicked.bind(this,e),key:e.targetUrl+e.timeStamp,title:e.targetUrl,href:e.targetUrl},e.targetUrl)},renderItems:function(e){var t=this;return i.createElement("div",{className:"popupblocker-blocked-pages"},e.map(function(e){return t.renderItem(e)}))},onShouldBlockClicked:function(e){this.props.onShouldBlockClicked(e)},renderAlwaysBlockQuery:function(){return i.createElement("section",{className:"dialog-footer"},i.createElement("label",null,i.createElement("input",{type:"radio",name:"blocked",value:"false",defaultChecked:this.props.shouldBlockPopups!==!1,onChange:this.onShouldBlockClicked.bind(this,!0)}),r("Block Pop-ups")),i.createElement("label",null,i.createElement("input",{type:"radio",name:"blocked",value:"true",defaultChecked:this.props.shouldBlockPopups===!1,onChange:this.onShouldBlockClicked.bind(this,!1)}),r("Always Allow")))},render:function(){return this.props.blockedPopups.size>0?i.createElement("div",{tabIndex:"0",className:"addressfield-popup"},i.createElement("header",{className:"addressfield-popup-header"},i.createElement("h1",null,r("Blocked Pop-up Pages"))),i.createElement("div",{className:"addressfield-popup-content"},this.renderItems(this.props.blockedPopups)),this.renderAlwaysBlockQuery()):null}});e.exports=a},function(e,t,n){"use strict";var i=n(1),r=n(434),o=n(4),a=n(29),s=n(6),l=i.createClass({displayName:"PopupBlockerNotificator",mixins:[],propTypes:{url:i.PropTypes.string,blockedPopups:i.PropTypes.object,onPopupAllowed:i.PropTypes.func,onDialogClosed:i.PropTypes.func},getInitialState:function(){return{isDialogOpen:!1,shouldBlockPopups:!0}},componentWillMount:function(){this.props.url&&o.contentSettings.popups.get({primaryUrl:this.props.url},function(e){if(o.runtime.lastError)return void console.warn("ERROR getting content settings for popups. Original message:\n"+o.runtime.lastError.message);if(e){var t="allow"!==e.setting;this.setState({shouldBlockPopups:t})}}.bind(this))},onNotificatorClicked:function(e){this.setState({isDialogOpen:!this.state.isDialogOpen})},onDialogClosed:function(){this.setState({isDialogOpen:!1})},onShouldBlockClicked:function(e){var t=a.parse(this.props.url),n=[t.protocol];t.slashes&&n.push("//"),n.push(t.host),n.push("/*");var i=n.join("");t=null,o.contentSettings.popups.set({primaryPattern:i,setting:e===!1?"allow":"block"},function(){this.setState({shouldBlockPopups:e})}.bind(this))},render:function(){var e={"button-addressfield":!0,"permission-popup":!0,"is-blocking":this.state.shouldBlockPopups===!0,"is-allowing":this.state.shouldBlockPopups===!1,"is-dialog-open":this.state.isDialogOpen},t=null;this.state.isDialogOpen===!0&&(t=i.createElement(r,{shouldBlockPopups:this.state.shouldBlockPopups,onShouldBlockClicked:this.onShouldBlockClicked,blockedPopups:this.props.blockedPopups,onPopupAllowed:this.props.onPopupAllowed,onDialogClosed:this.onDialogClosed}));var o=null;return this.props.blockedPopups.size>0&&(o=i.createElement("button",{className:s(e),onClick:this.onNotificatorClicked,dangerouslySetInnerHTML:{__html:n(577)}})),i.createElement("div",{className:"popupblocker addressfield-popup-container"},o,t)}});e.exports=l},function(e,t,n){"use strict";var i=n(1),r=n(13),o=n(7),a=n(79),s=n(51),l=n(31),u=n(2),c=n(18),A=n(6),d=i.createClass({displayName:"TypedHistory",mixins:[o,l],_ignoreMouseMove:!1,handleClickOutside:function(e){s.hideTypedHistory()},onLinkItemClicked:function(e,t){this.props.onLinkItemClicked(e)},onSearchClicked:function(){this.props.defaultSearchEngine&&this.props.defaultSearchEngine.Url&&this.props.onSearchClicked(this.props.pattern,this.props.defaultSearchEngine.Url)},getNumberOfSelectableItems:function(){return this.props.results.length||0},getCurrentValue:function(e){var t=r.findDOMNode(this);if(t){if("number"!=typeof e){var n=t.querySelector(".highlight");return n&&n.dataset.url?n.dataset.url:this.props.displayUrl}var i=t.querySelectorAll(".omni-clickable");if(e>=0&&e<i.length)return i[e].dataset.url}return""},onDeleteHistoryItem:function(e,t){t.preventDefault(),t.stopPropagation(),s.deleteTypedHistory(e)},onMouseOver:function(e){if(!this._ignoreMouseMove){var t=c.findIndex(document.getElementsByClassName("omni-clickable"),function(t){return t===e.target.parentNode});t>=0&&this.props.setAutocompleteHighlight(t,!1)}},onScrolled:function(e){var t=this;this._ignoreMouseMove=!0,setTimeout(function(){return t._ignoreMouseMove=!1},100)},renderLinkItem:function(e){var t=A({"omni-clickable":!0,highlight:this._linkItemCount===this.props.selectionIndex});return this._linkItemCount++,i.createElement("div",{key:e.url,"data-type":a.OMNI_TYPE_TYPED_HISTORY,"data-url":e.url,className:t,onMouseUp:this.onLinkItemClicked.bind(this,e)},i.createElement("img",{className:"favicon",src:"chrome://favicon/"+e.url}),i.createElement("span",{className:"title"},e.url),i.createElement("span",{className:"erase-from-history",title:u("Delete history item"),onMouseUp:this.onDeleteHistoryItem.bind(this,e.url)}))},renderResults:function(e){return i.createElement("section",{className:"filter-typedhistory"},i.createElement("label",null,u("Typed history")),e.map(this.renderLinkItem))},render:function(){return Array.isArray(this.props.results)&&0!==this.props.results.length?(this._linkItemCount=0,i.createElement("div",{className:"urlSearch",onMouseOver:this.onMouseOver,onScroll:this.onScrolled},this.renderResults(this.props.results))):null}});e.exports=d},function(e,t,n){(function(t){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){
return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},r=n(1),o=n(13),a=n(80),s=n(311),l=n(325),u=n(95),c=n(126),A=n(96),d=n(27),h=n(428),p=n(127),f=n(430),m=n(431),g=n(68),v=n(100),_=n(433),E=n(211),S=n(15),y=n(16),b=n(354),C=n(435),T=n(356),I=n(218),w=n(219),O=n(75),N=n(436),k=n(78),D=n(51),M=n(62),P=n(79),L=n(485),x=n(5),R=n(11),B=n(34),U=n(53),F=n(2),V=n(4),W=n(6),H=n(474),K=n(54),G=n(131),j=n(18),z=n(102),J=n(29),Q=n(19).urls,Y=n(469),Z=Y.isPath,q=Y.win32PathToFileUrl,X=n(133),$=x.CHANGED,ee=["id","favIcon","favIconUrl","url","active","title","extData"],te=["thumbnail"],ne="Win32"===navigator.platform,ie={},re=K("urlbar"),oe=["view-source:","file:","javascript:","vivaldi://mail/"],ae=2e3,se=r.createClass({displayName:"UrlBar",mixins:[R],vivaldiSettingsKeys:["ADDRESS_BAR_AUTOCOMPLETE_ENABLED","ADDRESS_BAR_AUTOCOMPLETE_PREFER_BOOKMARKS","ADDRESS_BAR_OMNIDROPDOWN_ENABLED","ADDRESS_BAR_SHOW_FULL_URL","ADDRESS_BAR_SUGGEST_ENABLED","DEFAULT_SEARCH_ENGINE","KEY_ACCESS","SEARCH_FIELD_ENABLED","SEARCH_FIELD_SUGGEST_ENABLED","SHOW_ADDRESS_BAR","SHOW_FFW_RWD_BUTTONS","TABCOLOR_BEHIND_TABS","URLBAR_SEARCH_DISABLED","USE_TABCOLOR"],getInitialState:function(){var e=y.getActivePage();return Object.assign({page:e,createBookmarkCallout:!1,showOmniDropdown:!1,focused:!1,isBookmarked:!1,USE_TABCOLOR:!0,searchEnginesCleaned:Array.isArray(this.props.searchEngines)?H(this.props.searchEngines):void 0},this.getUrlbarStoreState(e),this.getSearchFieldStoreState(e),this.getNavigationStoreState(e),this.getFastForwardStoreState(e))},shouldComponentUpdate:function(e,t){var n=function(e,t,n){var i=t[e],r=n[e];return!!(i===r||d.is(i,r)||"page"===e&&ee.every(function(e){return"extData"===e?te.every(function(e){return d.is(i.getIn(["extData",e]),r.getIn(["extData",e]))}):d.is(i.get(e),r.get(e))}))};return!X(e,this.props,n)||!X(t,this.state,n)},updateStoresForPage:function(e){this.setState(Object.assign({},this.getUrlbarStoreState(e),this.getSearchFieldStoreState(e),this.getNavigationStoreState(e),this.getFastForwardStoreState(e)))},getPageStoreState:function(){return{page:y.getActivePage()}},getUrlbarStoreState:function(e){return Object.assign({showTypedHistory:M.showTypedHistory(),typedHistory:M.getTypedHistory()},M.getUrlfieldState(e))},getSearchFieldStoreState:function(e){return{searchText:I.getSearchText(e),currentSearchEngine:I.getSearchEngine(e)}},getNavigationStoreState:function(e){return{navigationInfo:v.getNavigationInfo(e)["delete"]("trigger"),sslInfo:v.getSSLInfo(e),blockedPopups:v.getBlockedPopups(e),permissionInfo:v.getPermissionInfo(e)}},getFastForwardStoreState:function(e){return{forwardUrl:c.getFastForwardUrl(e),rewindRelativeIndex:c.getRewindRelativeIndex(e)}},_getFavIconKey:function(){return this.state.page.get("incognito")?"favIcon":"favIconUrl"},_setBookmarkedState:function(e){var t=this;return e?void V.bookmarks.search({url:e},function(e){e&&e.length>0?t.setState({isBookmarked:!0}):t.setState({isBookmarked:!1})}):void this.setState({isBookmarked:!1})},_onPageStoreChanged:function(){var e=this,n=this.getPageStoreState(),i=n.page,r=this.state.page.get("url")!==i.get("url"),o=this.state.page.get("id")!==i.get("id"),a=this.state.page.get(this._getFavIconKey())!==i.get(this._getFavIconKey());o&&this.prepareNewPage(i),this.setState(n,function(){a&&e.updateColor(i),r&&(e._setBookmarkedState(i.get("url")),o||t.nextTick(function(){D.clearUrlfieldState(i.get("id"))}))})},_onUrlbarStoreChanged:function(){this.setState(this.getUrlbarStoreState(this.state.page))},_onSearchFieldStoreChanged:function(){this.setState(this.getSearchFieldStoreState(this.state.page))},_onNavigationStoreChanged:function(){this.setState(this.getNavigationStoreState(this.state.page))},_onFastForwardStoreChanged:function(){this.setState(this.getFastForwardStoreState(this.state.page))},focusAddressField:function(e){if(this.isMounted()){var t=o.findDOMNode(this.refs.urlField);re("focus addressfield. Select?",e,document.activeElement),document.activeElement!==t&&t.focus(),e&&t.select()}},blurAddressField:function(e){if(this.isMounted()){var t=o.findDOMNode(this.refs.urlField);t.blur()}this.hideDropdown()},getDisplayURL:function(e){var t=this;if(e){var n=function(){var n=G(e.get("url"));n.length>ae&&(n=n.substr(0,ae));var i=J.parse(n);if(i.auth&&(i.auth="",n=J.format(i)),""!==n){if(t.state.ADDRESS_BAR_SHOW_FULL_URL===!0)return{v:n};if(j.some(oe,function(e){return 0===n.indexOf(e)}))return{v:n};var r=n.replace(/^(.*?:\/\/\/*)(.*)$/,"$2");return t.state.focused!==!0?{v:r.replace(/(.*?)[#\?].*/,"$1")}:{v:r}}}();if("object"===("undefined"==typeof n?"undefined":i(n)))return n.v}return""},hideTooltip:function(){O.clearTooltip()},componentWillReceiveProps:function(e){Array.isArray(e.searchEngines)&&this.props.searchEngines!==e.searchEngines&&this.setState({searchEnginesCleaned:H(e.searchEngines)})},componentDidUpdate:function(e,t,n){this.state.page.get("id")!==t.page.get("id")&&this.updateFocus(this.state.page,!0)},onSearch:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];t&&(n.useSearchEngineURL=t,D.goSearchURL(e,n),this.hideDropdown())},componentWillMount:function(){y.addChangeListener(this._onPageStoreChanged),p.addChangeListener(this._onMainStoreChanged),U.addChangeListener(this._onWebpageviewStoreChanged),w.addChangeListener(this._onTabStoreChanged),M.addListener($,this._onUrlbarStoreChanged),I.addListener($,this._onSearchFieldStoreChanged),v.addChangeListener(this._onNavigationStoreChanged),c.addChangeListener(this._onFastForwardStoreChanged),this._setBookmarkedState(this.state.page.get("url")),this.onSearchAddTypedHistory=j.partialRight(this.onSearch,{addTypedHistory:!0}),this.onSearchAddTypedSearchHistory=j.partialRight(this.onSearch,{addTypedSearchHistory:!0}),this.updateColor(this.state.page)},componentDidMount:function(){this.updateFocus(this.state.page)},componentWillUnmount:function(){y.removeChangeListener(this._onPageStoreChanged),p.removeChangeListener(this._onMainStoreChanged),U.removeChangeListener(this._onWebpageviewStoreChanged),w.removeChangeListener(this._onTabStoreChanged),M.removeListener($,this._onUrlbarStoreChanged),I.removeListener($,this._onSearchFieldStoreChanged),v.removeChangeListener(this._onNavigationStoreChanged),c.removeChangeListener(this._onFastForwardStoreChanged)},_onMainStoreChanged:function(e){switch(e.action){case"showPageInfo":this.doActionShowPageInfo(e.event)}},_onTabStoreChanged:function(e){"newTab"!==e.action&&"closeTab"!==e.action||this.hideDropdown()},updateFocus:function(e){var t=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];if(e)switch(z(e,e.get("url"),t)){case"urlField":this.focusAddressField();break;case"urlFieldSelected":this.focusAddressField(!0)}},_onPasteAndGoUrlPasted:function(e){try{D.go(e.clipboardData.getData("text/plain"),{addTypedHistory:!0,addTypedSearchHistory:!1,enableSearch:!0})}finally{e.preventDefault(),e.stopPropagation(),e.target.removeEventListener("paste",this._onPasteAndGoUrlPasted,!0),e.target.parentNode.removeChild(e.target)}},urlPasteAndGo:function(e){if(this.state.page.get("active")){this.blurAddressField();var t=document.createElement("input");t.addEventListener("paste",this._onPasteAndGoUrlPasted,!0),document.body.appendChild(t),t.focus(),document.execCommand("paste")}},focusSearchField:function(e){this.refs.search&&this.refs.search.focusField()},_onWebpageviewStoreChanged:function(e){var n=this;e.type===x.WEBPAGEVIEW_ACTIONS&&("addBookmark"===e.action?this.onCreateBookmarkCallout():"focusAddressField"===e.action?this.focusAddressField(!0):"urlPasteAndGo"===e.action?this.urlPasteAndGo():"focusSearchField"===e.action&&t.nextTick(function(){return n.focusSearchField()}))},onFocus:function(){this.setState({focused:!0})},onBlur:function(){this.setState({focused:!1})},urlFieldGo:function(e){var t=o.findDOMNode(this.refs.urlField).value.trim();if(t&&0!==t.length){var n={};if(e&&e.altKey===!0&&(n.inBackground=n.inCurrent=!1),"/."===t)return D.go("http://slashdot.org",n),void this.updateFocus(this.state.page);if(Z(t,ne))return D.go(q(t),n),void this.updateFocus(this.state.page);var i=Q.getUrl(t);if(this.hideDropdown(),-1===i.indexOf(" ")){var r=J.parse(i,!1,!0),a=J.parse(G(this.state.page.get("url")));if(!r.protocol&&a.protocol){var s=J.parse(a.protocol+(a.slashes?"//":"")+i);s.host===a.host&&(i=J.format(s))}}var l=this._getTypedSearchEngine(this.props.searchEngines,this.state.editUrl),u=l||this.state.URLBAR_SEARCH_DISABLED!==!0;D.go(i,Object.assign({},n,{enableSearch:u,addTypedHistory:!0,addTypedSearchHistory:!1}))}},fromDragDropBookmark:function(e){D.go(e)},doActionBack:function(e){B.back()},doActionForward:function(e){B.forward()},doActionFastForward:function(e){u.navigateFastforward(this.state.page)},doActionFastRewind:function(e){this.state.rewindRelativeIndex>0&&B.go(-1*this.state.rewindRelativeIndex)},doActionReload:function(e){this.state.navigationInfo&&(this.state.navigationInfo.get("isLoading")?B.stop():B.reload(),this.updateFocus(this.state.page))},doActionHome:function(e){S.showHomepage()},doActionShowPageInfo:function(e){if(a.getActiveWebView()){var t=this.refs.webpageview_nav_siteinfo,n=t.getBoundingClientRect(),i=n.left,r=n.top,o=i+window.screenX+Math.round(t.offsetWidth/2),s=r+window.screenY+t.offsetHeight;a.getActiveWebView().showPageInfo({left:Math.floor(o),top:Math.floor(s)})}},cancelDefault:function(e){"-1"===this.state.KEY_ACCESS&&e.preventDefault()},setUrlDragEvent:function(e){var t=this.state.page.get("url"),n=e.dataTransfer,i=document.createElement("img");i.src=this.state.page.get(this._getFavIconKey())||"/resources/default_favicon_64.png",n.setDragImage(i,i.width-i.width/3,i.height-i.height/3),n.setData("text/uri-list",t),n.setData("text/plain",t),n.setData("URL",t),n.setData("title",this.state.page.get("title"))},setAutocompleteHighlight:function(e,t){if(this.refs.omniDropdown){if(t)if(-1!==e){var n=this.refs.omniDropdown.getCurrentValue(e);D.setUrlfieldState(this.state.page.get("id"),{editUrl:n,selectionStart:n.length,selectionEnd:n.length})}else{var i=this.refs.urlField.getTypedURL();D.setUrlfieldState(this.state.page.get("id"),{editUrl:i})}return this.setState({dropdownSelectionIndex:e}),!0}return!1},showOmniDropdown:function(e,t){if(this.state.ADDRESS_BAR_OMNIDROPDOWN_ENABLED!==!1){var n={};document.activeElement===o.findDOMNode(this.refs.urlField)&&(this.state.showOmniDropdown!==!0&&(re("showing dropdown"),this.state.showTypedHistory!==!1&&this.hideDropdown(),n=Object.assign(n,{showOmniDropdown:!0,dropdownSelectionIndex:-1})),n=Object.assign(n,{urlFieldSearchPattern:t,urlFieldSearchResults:e}),this.setState(n))}},hideDropdown:function(){this.state.showOmniDropdown!==!1&&(re("hiding dropdown"),this.setState({showOmniDropdown:!1,dropdownSelectionIndex:-1})),this.state.showTypedHistory!==!1&&(this.setState({showTypedHistory:!1,dropdownSelectionIndex:-1}),D.hideTypedHistory())},onOmniDropdownItemClicked:function(e,t){Array.isArray(e.urls)?D.go(e.urls):D.go(e.url,{enableSearch:!0}),e.type===P.OMNI_RESULT_BOOKMARK_FOLDER_NICKNAME&&this.refs.urlField.revertUrl(),this.hideDropdown()},onDeleteHistoryItem:function(e){var t=this;V.history.deleteUrl({url:e},function(){t.setState({urlFieldSearchResults:t.state.urlFieldSearchResults.filter(function(t){return t.url!==e})})})},toggleShowTypedHistory:function(){this.state.showTypedHistory===!0?D.hideTypedHistory():(this.focusAddressField(),D.showTypedHistory())},onCreateBookmarkCallout:function(e){var t=this.state.page;if(t.get("active")){if(!Q.isBookmarkablePage(t))return;t.get("url")&&this.setState({createBookmarkCallout:!0})}},onCloseCreateBookmarkCallout:function(){this._setBookmarkedState(this.state.page.get("url")),this.setState({createBookmarkCallout:!1})},updateColor:function(e){var t=this;if(!this.state.USE_TABCOLOR)return void L.removeCSSClasses();var n=v.getThemeColor(e);n&&L.colorIsValid(n)?L.updateCSSClasses(n):e.get(this._getFavIconKey())&&ie[e.get(this._getFavIconKey())]?L.updateCSSClasses("rgb("+ie[e.get(this._getFavIconKey())].join(",")+")"):e.get(this._getFavIconKey())?L.getToolbarBackgroundColor(e.get(this._getFavIconKey()),function(n){ie[e.get(t._getFavIconKey())]=n,Array.isArray(n)&&3===n.length?L.updateCSSClasses("rgb("+n.join(",")+")"):L.removeCSSClasses()}):L.removeCSSClasses()},prepareNewPage:function(e){this.updateStoresForPage(e),this.updateFocus(e,!0),this.hideDropdown()},forceRendering:function(e){this.setState({pageUpdated:!0})},_getTypedSearchEngine:function(e,t){if("string"==typeof t&&t.indexOf(" ")>=1){var n=function(){var n=t.split(" ")[0];return{v:e.find(function(e){return e.Keyword.toLowerCase()===n.toLowerCase()})}}();if("object"===("undefined"==typeof n?"undefined":i(n)))return n.v}},_getDefaultSearchEngine:function(e){var t=this;return this.state.DEFAULT_SEARCH_ENGINE?e.find(function(e){return e.Id===parseInt(t.state.DEFAULT_SEARCH_ENGINE)}):e[0]},onPopupAllowed:function(e){this.state.page&&(g.removeBlockedPopupEvent(this.state.page,e),this.refs.popupBlockerNotificator.onDialogClosed(),e.window.accept(window.vivaldiWindowId))},_isEditingUrl:function(){if(""===this.state.editUrl)return!0;if(null==this.state.editUrl)return!1;if(this.state.page&&this.refs.urlField){var e=this.refs.urlField.getTypedURL();return"string"==typeof e&&""!==e&&this.getDisplayURL(this.state.page)!==e}return!1},_getDropdown:function(){return this.refs.omniDropdown},render:function(){var e={"bookmark-bar":!1,toolbar:!0,"toolbar-addressbar":!0,"favicon-current-background-color":this.state.USE_TABCOLOR&&"on"!==this.state.TABCOLOR_BEHIND_TABS,"default":!this.state.USE_TABCOLOR,search:this.state.SEARCH_FIELD_ENABLED},t=this.state.searchEnginesCleaned||[],i=this._getTypedSearchEngine(this.props.searchEngines,this.state.editUrl),o=this._getDefaultSearchEngine(t),a=Q.isBookmarkablePage(this.state.page),u=Q.isInternalPage(this.state.page),c=Q.isInternalPage(this.state.page),d=this.state.sslInfo.get("issuer")||"",p=this.state.sslInfo.get("state"),g=this._isEditingUrl()?{secure:!1,certified:!1,insecure:!1,internal:!0}:{secure:"secure_no_ev"===p,certified:"secure_with_ev"===p,insecure:"security_error"===p,internal:u},v=F(this.state.typedHistory.length>0?"Show typed history":"Enter an address to activate typed history");return r.createElement(A,{focusName:"focus_addressbar",className:W(e),ref:"urlbar"},r.createElement(m,{type:"Back",ref:"webpageview_nav_back",keyAccess:this.state.KEY_ACCESS,canNavigate:this.state.navigationInfo.get("canGoBack"),doAction:this.doActionBack}),r.createElement(m,{type:"Forward",ref:"webpageview_nav_forward",keyAccess:this.state.KEY_ACCESS,canNavigate:this.state.navigationInfo.get("canGoForward"),doAction:this.doActionForward}),this.state.SHOW_FFW_RWD_BUTTONS&&r.createElement(m,{type:"Rewind",ref:"webpageview_nav_rew",keyAccess:this.state.KEY_ACCESS,canNavigate:Number.isInteger(this.state.rewindRelativeIndex)&&this.state.rewindRelativeIndex>0,doAction:this.doActionFastRewind}),this.state.SHOW_FFW_RWD_BUTTONS&&r.createElement("button",{className:"button-toolbar next",ref:"webpageview_nav_ffw",tabIndex:this.state.KEY_ACCESS,title:this.state.forwardUrl?F("Fast Forward - $1",[this.state.forwardUrl]):F("Fast Forward"),onMouseDown:this.cancelDefault,onClick:this.doActionFastForward,disabled:!this.state.forwardUrl,dangerouslySetInnerHTML:{__html:n(561)}}),r.createElement("button",{className:W("button-toolbar","reload",{loading:this.state.navigationInfo.get("isLoading")&&!u}),tabIndex:this.state.KEY_ACCESS,disabled:!c&&(!this.state.navigationInfo.get("canNavigate")||u),title:F(this.state.navigationInfo.get("isLoading")&&!u?"Stop":"Reload current page"),onMouseDown:this.cancelDefault,onClick:this.doActionReload},this.state.navigationInfo.get("isLoading")&&!u?r.createElement("span",{dangerouslySetInnerHTML:{__html:n(566)}}):r.createElement("span",{dangerouslySetInnerHTML:{__html:n(563)}})),r.createElement("button",{className:"button-toolbar home",ref:"webpageview_nav_home",title:F("Go to homepage"),tabIndex:this.state.KEY_ACCESS,onMouseDown:this.cancelDefault,onClick:this.doActionHome,dangerouslySetInnerHTML:{__html:n(236)}}),r.createElement("div",{ref:"addressfield",className:W({addressfield:!0,"favicon-current-border-color":this.state.USE_TABCOLOR&&"on"!==this.state.TABCOLOR_BEHIND_TABS,focused:this.state.focused})},r.createElement(b,{page:this.state.page,ref:"webpageview_loadprogress",open:!u}),this.props.incognito===!0&&r.createElement("div",{title:F("Private Window"),className:"private-window-button",dangerouslySetInnerHTML:{__html:n(578)}}),i?r.createElement("img",{className:"searchengine-icon",src:i.Image}):r.createElement("button",{ref:"webpageview_nav_siteinfo",className:W("button-addressfield","addressfield-siteinfo",g),title:F("Site info"),tabIndex:this.state.KEY_ACCESS,draggable:!u,onDragStart:this.setUrlDragEvent,onClick:this.doActionShowPageInfo},d),r.createElement("form",{onSubmit:this.urlFieldGo},r.createElement(k,{displayUrl:this.getDisplayURL(this.state.page),autocompletionEnabled:this.state.ADDRESS_BAR_AUTOCOMPLETE_ENABLED,autocompletionPreferBookmarks:this.state.ADDRESS_BAR_AUTOCOMPLETE_PREFER_BOOKMARKS,editUrl:this.state.editUrl,fieldGo:this.urlFieldGo,hideDropdown:this.hideDropdown,isActive:this.state.page.get("active")||!1,isOmniDropdownOpen:this.state.showOmniDropdown,isTypedHistoryOpen:this.state.showTypedHistory,selectionIndex:this.state.dropdownSelectionIndex,setAutocompleteHighlight:this.setAutocompleteHighlight,onBlur:this.onBlur,onDragDropBookmark:this.fromDragDropBookmark,onFocus:this.onFocus,pageId:this.state.page.get("id"),ref:"urlField",selectionEnd:this.state.selectionEnd,selectionStart:this.state.selectionStart,suggestEnabled:this.state.ADDRESS_BAR_SUGGEST_ENABLED&&this.state.ADDRESS_BAR_OMNIDROPDOWN_ENABLED,showDropdown:this.showOmniDropdown,autocompleteOnTitle:!0,url:this.state.page.get("url")||"",defaultSearchEngine:o,typedSearchEngine:i,onDragStart:this.setUrlDragEvent,getDropdown:this._getDropdown}),this.state.showTypedHistory===!0?r.createElement(N,{ref:"omniDropdown",setAutocompleteHighlight:this.setAutocompleteHighlight,onLinkItemClicked:this.onOmniDropdownItemClicked,displayUrl:this.state.page&&G(this.state.page.get("url"))||"",results:this.state.typedHistory,selectionIndex:this.state.dropdownSelectionIndex}):this.state.ADDRESS_BAR_OMNIDROPDOWN_ENABLED!==!1&&r.createElement(E,{ref:"omniDropdown",pattern:this.state.urlFieldSearchPattern,results:this.state.urlFieldSearchResults,defaultSearchEngine:o,typedSearchEngine:i,onLinkItemClicked:this.onOmniDropdownItemClicked,onDeleteHistoryItem:this.onDeleteHistoryItem,setAutocompleteHighlight:this.setAutocompleteHighlight,onSearchClicked:this.onSearchAddTypedHistory,isUrlbarSearchDisabled:this.state.URLBAR_SEARCH_DISABLED&&!i,isOpen:this.state.showOmniDropdown,onClose:this.hideDropdown,disableOnClickOutside:!0,suggestEnabled:this.state.ADDRESS_BAR_SUGGEST_ENABLED,selectionIndex:this.state.dropdownSelectionIndex,displayUrl:this.state.page&&G(this.state.page.get("url"))||""})),this.state.permissionInfo.get("geolocation")&&r.createElement(h,{request:this.state.permissionInfo.get("geolocation"),page:this.state.page}),this.state.permissionInfo.get("media")&&r.createElement(f,{request:this.state.permissionInfo.get("media"),page:this.state.page}),this.state.permissionInfo.get("notifications")&&r.createElement(_,{request:this.state.permissionInfo.get("notifications"),page:this.state.page}),this.state.SHOW_ADDRESS_BAR&&r.createElement(l,{showPageActions:!0,showBrowserActions:!1,incognito:this.props.incognito}),this.state.blockedPopups.size>0&&r.createElement(C,{ref:"popupBlockerNotificator",url:this.state.page&&this.state.page.get("url"),blockedPopups:this.state.blockedPopups,onPopupAllowed:this.onPopupAllowed}),r.createElement("button",{className:"button-addressfield input-dropdown",title:v,tabIndex:this.state.KEY_ACCESS,disabled:0===this.state.typedHistory.length,onMouseDown:this.toggleShowTypedHistory,dangerouslySetInnerHTML:{__html:n(238)}}),this.state.page&&a&&r.createElement(s,{ref:"bookmarkCallout",keyAccess:this.state.KEY_ACCESS,open:this.state.createBookmarkCallout,onOpen:this.onCreateBookmarkCallout,onClose:this.onCloseCreateBookmarkCallout,title:this.state.page.get("title"),url:this.state.page.get("url"),isBookmarked:this.state.isBookmarked,isBookmarkable:a,isSearchOn:this.state.SEARCH_FIELD_ENABLED,thumbnail:this.state.page.getIn(["extData","thumbnail"])})),this.state.SEARCH_FIELD_ENABLED&&r.createElement(T,{ref:"search",page:this.state.page,value:this.state.searchText,tabcolor:!(!this.state.USE_TABCOLOR||"off"!==this.state.TABCOLOR_BEHIND_TABS),defaultSearchEngineId:this.state.DEFAULT_SEARCH_ENGINE,currentSearchEngine:this.state.currentSearchEngine,searchEngines:this.state.searchEnginesCleaned,onEnterPressed:this.onSearchAddTypedSearchHistory,keyAccess:this.state.KEY_ACCESS,suggestEnabled:this.state.SEARCH_FIELD_SUGGEST_ENABLED}),this.state.SHOW_ADDRESS_BAR&&r.createElement(l,{showPageActions:!1,showBrowserActions:!0,incognito:this.props.incognito}))}});e.exports=se}).call(t,n(22))},function(e,t,n){"use strict";var i=n(1),r=n(59),o=n(59),a=n(59),s=n(204),l=n(443),u=n(417),c=n(19).urls,A=n(84),d=A.isPageVisible,h=i.createClass({displayName:"InternalPage",render:function(){var e=this.props.page,t=e.get("url"),n=[],A=d(e),h=Boolean(c.matchInternal("startpage",t)),p=Boolean(c.matchInternal("welcome",t));if(n.push(i.createElement(u,{open:A&&(h||p),page:e,view:"speeddial",updatePageThumbnailWithActiveWebview:this.props.updatePageThumbnailWithActiveWebview,key:"startpage"})),c.matchInternal("bookmarks",t)&&n.push(i.createElement(u,{open:d(e)&&c.matchInternal("bookmarks",t),page:e,view:"bookmarks",updatePageThumbnailWithActiveWebview:this.props.updatePageThumbnailWithActiveWebview,key:"bookmarks"})),c.matchInternal("history",t)&&n.push(i.createElement(u,{open:d(e)&&c.matchInternal("history",t),page:e,view:"history",updatePageThumbnailWithActiveWebview:this.props.updatePageThumbnailWithActiveWebview,key:"history"})),p&&n.push(i.createElement(l,{open:A,page:e,key:"welcome"})),c.matchInternal("settings",t))n.push(i.createElement(s,{page:e,key:"settings"}));else if(c.matchUrl(c.internalUrl("mailpage","composer"),t)){var f=c.getUrlParams(t).path,m=f.substr("composer/".length);n.push(i.createElement(r,{action:m,key:"mail"}))}else if(c.matchUrl(c.internalUrl("mailpage","message"),t)){var g=c.getUrlParams(t).path,v=g.split("/"),_=v[1],E=v.slice(2,v.length-1).join("/"),S=v[v.length-1];n.push(i.createElement(o,{key:"mailmessage",accountId:_,path:E,uid:S}))}else c.matchInternal("mailpage",t)&&n.push(i.createElement(a,{key:"mailview"}));return i.createElement("div",{className:"internal-page"},n)}});e.exports=h},function(e,t,n){"use strict";var i=n(1),r=n(7),o=n(440),a=n(34),s=n(16),l=n(84),u=l.isPageVisible,c=n(19),A=c.urls,d=n(4),h=function(){return{activePage:s.getActivePage(),pages:s.getPages()}},p=i.createClass({displayName:"WebPageCollection",mixins:[r],getInitialState:function(){return h()},componentDidMount:function(){s.addChangeListener(this._onPageStoreChange)},componentWillUnmount:function(){s.removeChangeListener(this._onPageStoreChange)},_onPageStoreChange:function(){this.setState(h())},componentDidUpdate:function(e,t){var n=this;this.state.pages.find(function(e){return e.get("isRemoved")})&&d.tabs.query({windowId:window.vivaldiWindowId},function(e){return e.forEach(function(e){var t=n.state.pages.find(function(t){return t.get("id")===e.id});t&&t.get("isRemoved")&&d.tabs.remove(e.id,function(){d.runtime.lastError})})})},handleFocus:function(e){e&&e.relatedTarget&&"WEBVIEW"===e.relatedTarget.tagName&&this.props.cycleFocus===!0&&a.doAction("focusWebView")},render:function(){var e=this.props.cycleFocus?"0":"-1";return i.createElement("div",{id:"webpage-stack"},i.createElement("span",{tabIndex:e,onFocus:this.handleFocus}),this.state.pages.filter(function(e){return!Boolean(e.get("isRemoved"))}).sortBy(function(e){return e.get("id")}).map(function(e){return i.createElement(o,{id:"page-component-"+e.get("id"),key:"page-component-"+e.get("id"),page:e,tiles:s.getTiles(e.getIn(["extData","tiling","id"])),isInternal:A.isInternalPage(e),isVisible:u(e)})}),i.createElement("span",{tabIndex:e,onFocus:this.handleFocus}))}});e.exports=p},function(e,t,n){(function(t){"use strict";var i=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=n(1),o=n(13),a=n(279),s=n(215),l=n(183),u=n(58),c=n(314),A=n(326),d=n(27),h=n(438),p=n(50),f=n(29),m=n(68),g=n(69),v=n(15),_=n(60),E=n(51),S=n(5),y=n(3),b=n(11),C=n(34),T=n(53),I=n(100),w=n(95),O=n(216),N=n(4),k=n(6),D=n(63),M=n(102),P=n(18),L=P.debounce,x=n(8),R=n(84),B=R.isPageTiled,U=n(19),F=U.urls,V=n(132),W=n(133),H=["id","extData","active","url","title","incognito","target","processexitstate"],K=["thumbnail","tiling"],G={close:"handleOnClose",contentload:"handleContentLoad",contentsdiscarded:"handleOnContentsDiscarded",createsearch:"handleOnCreateSearch",dialog:"handleOnJavascriptDialog",exit:"handleOnProcessExit",loadabort:"handleLoadAbort",loadcommit:"handleLoadCommit",loadprogress:"handleOnLoadProgress",loadredirect:"handleLoadRedirected",loadstart:"handleLoadStart",loadstop:"handleLoadStop",mediastatechanged:"handleOnMediaStateChanged",newwindow:"handleOnNewWindow",pasteandgo:"handleOnPasteAndGo",permissionrequest:"handleOnPermissionRequest",requestpageinfo:"handleOnRequestPageInfo",sslstatechanged:"handleOnSSLStateChanged",targeturlchanged:"handleOnTargetURLChanged"},j=r.createClass({displayName:"WebPageContent",mixins:[b],_injectScript:!1,_updateFocus:!1,vivaldiSettingsKeys:["SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS","USE_BISCUIT_MODE"],getInitialState:function(){return Object.assign({fullscreen_state_changed:null,blockPopups:!0,dialogParentElement:null},this.getContentScriptStoreState(this.props.page))},shouldComponentUpdate:function(e,t){var n=function(e,t,n){var i=t[e],r=n[e];return!!(i===r||d.is(i,r)||"activePage"===e&&H.every(function(e){return"extData"===e?K.every(function(e){return d.is(i.getIn(["extData",e]),r.getIn(["extData",e]))}):d.is(i.get(e),r.get(e))}))};return!W(e,this.props,n)||!W(t,this.state,n)},componentWillMount:function(){T.addChangeListener(this._onWebpageviewStoreChanged),O.addChangeListener(this._onContentScriptStoreChanged)},componentDidMount:function(){var e=this;this.webview=this.refs.pagediv.firstChild,this.webview.setVisible(this.props.isVisible),this.attachWebviewHandlers(),this.props.page.get("active")&&t.nextTick(function(){a.setActiveWebView(e.webview)})},componentWillReceiveProps:function(e){var n=this,i=this.props.page,r=e.page,o=i.get("active")===!1&&r.get("active")===!0;o&&this.webview&&(t.nextTick(function(){return a.setActiveWebView(n.webview)}),I.getNavigationInfo(e.page).isLoading!==!0&&this.updateFocus(r,r.get("url"),!0)),e.page.get("url")!==this.props.page.get("url")&&this.updateFocus(r,r.get("url")),this.updateViewUnchangedFlag(i,r),i.get("id")!==r.get("id")&&this.setState(this.getContentScriptStoreState(r)),e.isVisible!==this.props.isVisible&&this.webview.setVisible(e.isVisible),r.get("target")&&r.get("target")!==i.get("target")&&(this.checkProcessExitState(),this.webview.src=e.page.getIn(["target","url"]),e.page.getIn(["target","isTyped"])&&(this.webview.wasTyped="true"))},componentDidUpdate:function(e,t){var n=e.page,i=this.props.page,r=n.get("active")===!1&&i.get("active"),o=!i.getIn(["extData","thumbnail"]);r&&o&&this.updatePageThumbnailWithActiveWebview(i,50)},componentWillUnmount:function(){T.removeChangeListener(this._onWebpageviewStoreChanged),O.removeChangeListener(this._onContentScriptStoreChanged),this.removeWebviewHandlers()},_onContentScriptStoreChanged:function(){var e=this,t=this.getContentScriptStoreState(this.props.page);if(t.pageScripts!==this.state.pageScripts){var n=this.state.pageScripts.some(function(e,n){return e&&!t.pageScripts.get(n)});if(n)return this.setState(t),void this.webview.reload();var i=t.contentScripts.filter(function(n){return!e.state.pageScripts.get(n.get("name"))&&t.pageScripts.get(n.get("name"))});return this.injectUserContentScripts(i),void this.setState(t)}this.setState(t)},checkProcessExitState:function(){var e=this;void 0!==this.props.page.get("processexitstate")&&"normal"!==this.props.page.get("processexitstate")&&(this.handleOnContentsDiscarded(),t.nextTick(function(){return v.setProcessExitState(e.props.page.get("id"),void 0)}))},getContentScriptStoreState:function(e){return{contentScripts:O.getContentScripts(),pageScripts:O.getPageScripts(e.get("id"))}},viewUnchangedFlags:{},updateViewUnchangedFlag:function(e,t){var n=["extData","tiling"];e.get("active")===t.get("active")&&e.getIn(n)===t.getIn(n)||(this.viewUnchangedFlags={})},isInternalThumbnail_:function(e){return Boolean(e&&0===e.indexOf("/resources/"))},updatePageThumbnailWithActiveWebview:function(e){var t=this,n=arguments.length<=1||void 0===arguments[1]?0:arguments[1],i=D();this.viewUnchangedFlags[i]=this.props.page.get("active")===!0;var r=e.get("url");setTimeout(function(){t.viewUnchangedFlags[i]&&!function(){var n=e.get("incognito");x.thumbnails.isThumbnailAvailable("",r,function(o){o.hasThumbnail!==!1||n?_.getPageThumbnail(e,50,t.webview,{thumbUrl:r,captureAsBase64:!0,incognito:n},function(n){t.props.page.get("active")&&t.viewUnchangedFlags[i]&&n&&v.setThumbnail(e,n)}):_.getPageThumbnail(e,50,t.webview,{thumbUrl:r,captureAsBase64:!1,incognito:n},function(n){t.props.page.get("active")&&t.viewUnchangedFlags[i]&&n&&v.setThumbnail(e,n)})})}()},n);var o=s.getQueue(e);o&&o.get("url")===e.get("url")&&!function(){var n=o.get("id");N.bookmarks.get(n,function(r){if(N.runtime.lastError)console.warn("chrome.bookmarks.get failed:",n,N.runtime.lastError);else{var o=r&&1===r.length?r[0]:null,a=t.isInternalThumbnail_(o.thumbnail);a===!1&&x.thumbnails.isThumbnailAvailable(o.id,"",function(n){if(n.hasThumbnail===!1){var r="http://bookmark_thumbnail/"+o.id;_.getPageThumbnail(e,50,t.webview,{thumbUrl:r,captureAsBase64:!1,incognito:!1},function(e){t.props.page.get("active")&&t.viewUnchangedFlags[i]?N.bookmarks.update(o.id,{thumbnail:e}):console.warn("Cannot update thumbnail as page was not active")})}})}}),l.remove(e,n,f)}()},attachWebviewHandlers:function(){var e=this;Object.keys(G).forEach(function(t){return e.webview.addEventListener(t,e[G[t]])})},removeWebviewHandlers:function(){var e=this;Object.keys(G).forEach(function(t){return e.webview.removeEventListener(t,e[G[t]])})},updateNavigationState:function(e,t,n){var i=F.isNavigatableUrl(e),r=d.Map({canNavigate:i,canGoBack:i&&this.webview.canGoBack(),canGoForward:this.webview.canGoForward(),isLoading:t,trigger:n});m.setNavigationState(this.props.page,r)},getMetaThemeColor:function(){var e=this,t="(function() {\n        var metaThemeColor = document.querySelector('meta[name=theme-color]');\n        if (metaThemeColor) {\n          return metaThemeColor.getAttribute('content');\n        } else {\n          return \"\";\n        }\n      })()";this.webview.executeScript({code:t},function(t){if(!N.runtime.lastError){var n=i(t,1),r=n[0];r?m.setThemeColor(e.props.page,r):m.setThemeColor(e.props.page,null)}})},handleContentLoad:function(e){this.props.page.get("active")&&this.updatePageThumbnailWithActiveWebview(this.props.page,100),this.updateNavigationState(e.url,!1,"content")},handleLoadCommit:function(e){var n=this;if(e.isTopLevel){if(F.isInternalUrl(e.url)?w.setFastForwardInfo(this.props.page.get("id"),""):this._injectScript=!0,F.equalUrl(e.url,this.props.page.get("url"),!0)||m.resetPermissions(this.props.page),this._injectScript===!0){this.webview.executeScript({file:"browser-bundle.js"},function(){w.initTab(n.props.page),N.runtime.lastError;
});var i=this.state.contentScripts.filter(function(e){return Boolean(n.state.pageScripts.get(e.get("name")))});this.injectUserContentScripts(i),this._injectScript=!1}t.nextTick(function(){return w.setRewindInfo(n.webview,n.props.page)}),this.webview.setVisible(this.props.isVisible),this.updateNavigationState(e.url,!0,"commit"),this._updateFocus&&(E.clearSelection(this.props.page.get("id")),this.updateFocus(this.props.page,e.url),this._updateFocus=!1)}},handleLoadStart:function(e){if(e.isTopLevel){var t=this.props.page,n=t.getIn(["extData","urlForThumbnail"]);this.props.page.get("active")&&n!==e.url&&v.setThumbnail(t,null),this.updateNavigationState(e.url,!0,"start"),F.isInternalUrl(e.url)||(this._injectScript=!0),this._updateFocus=!0}},handleLoadStop:function(e){this.updateNavigationState(e.url,!1,"stop"),this.getMetaThemeColor(),this.props.page.getIn(["extData","thumbnail"])||this.updatePageThumbnailWithActiveWebview(this.props.page,0)},handleLoadRedirected:function(e){if(e.isTopLevel){var t=e.newUrl,n=e.oldUrl;l.update(this.props.page,n,t)}},handleLoadAbort:function(){event.isTopLevel&&this.updateNavigationState(event.url,!1,"abort")},handleOnLoadProgress:function(e){var t=d.Map({url:e.url,progress:e.progress,loadedBytes:e.loadedBytes,loadedElements:e.loadedElements,totalElements:e.totalElements});m.setProgressState(this.props.page,t)},handleOnClose:function(){v.closePage(this.props.page)},handleBlockedPopup:function(e){m.addBlockedPopupEvent(this.props.page,e)},injectUserContentScripts:function(e){var t=this;e.forEach(function(e){var n={code:e.get("code"),allFrames:!0,runAt:"document_start"};"script"===e.get("type")?t.webview.executeScript(n,function(){N.runtime.lastError}):"style"===e.get("type")&&t.webview.insertCSS(n)})},_onNewPopupCallback:function(e,t){t!==!1?this.handleBlockedPopup(e):e.window.accept(window.vivaldiWindowId+";1")},onNewPopup:function(e){e.targetUrl||(e.targetUrl="about:blank"),e.userGesture?(this.setState({blockPopups:!1}),this._onNewPopupCallback(e,!1)):N.contentSettings.popups.get({primaryUrl:this.props.page.get("url")},function(t){if(N.runtime.lastError)return void console.warn("ERROR getting content settings for popups. Original message:\n"+N.runtime.lastError.message);var n=!0;t&&(n="allow"!==t.setting,this.setState({blockPopups:n})),this._onNewPopupCallback(e,n)}.bind(this))},handleOnNewWindow:function(e){switch(e.windowOpenDisposition){case"current_tab":e.preventDefault(),e.window.accept(window.vivaldiWindowId+";1");break;case"new_background_tab":e.preventDefault(),e.window.accept(window.vivaldiWindowId+";0");break;case"new_foreground_tab":e.preventDefault(),e.window.accept(window.vivaldiWindowId+";1");break;case"new_window":e.preventDefault(),v.openWindow(null,{},function(t){e.window.accept(t.id+";1")});break;case"off_the_record":e.preventDefault(),v.openWindow(e.targetUrl,{incognito:!0},function(t){e.window.accept(t.id+";1;I")});break;case"new_popup":e.preventDefault(),this.onNewPopup(e);break;case"ignore":case"save_to_disk":}},showDialog:function(e){e.webview=this.webview,this.setState({dialogParentElement:this.refs.webpagecontainer,customData:e})},handleOnCloseDialog:function(e){this.setState({dialogParentElement:null})},handleOnJavascriptDialog:function(){event.preventDefault(),event.dialogtype="javascript",this.showDialog(event)},handleOnPermissionRequest:function(e){var t=this;switch(e.preventDefault(),e.permission){case"geolocation":case"media":case"notifications":var n=null;m.setPermission(this.props.page,e.permission,e.request,n);break;case"loadplugin":e.request.allow();break;case"download":y.get("AUTOMATICALLY_DOWNLOAD_FILES",function(n){if(n){e.request.allow();var i=document.querySelector("#panels-container");i.style.width.slice(0,-2)<50&&t.state.SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS&&u.executeActions("COMMAND_SHOW_DOWNLOADS_PANEL")}else e.dialogtype=e.permission,t.showDialog(e)});break;default:e.dialogtype=e.permission,this.showDialog(e)}},handleOnMediaStateChanged:function(e){v.setMediaState(this.props.page.get("id"),e.activeMediaType)},handleOnProcessExit:function(e){v.setProcessExitState(this.props.page.get("id"),e.reason)},handleOnSSLStateChanged:function(e){m.setSSLState(this.props.page,e.SSLState,e.issuerstring)},handleOnTargetURLChanged:function(e){var t=e.newUrl,n=V(t);v.setTargetURL(n);var i=f.parse(n);"mailto:"!==i.protocol&&(i.auth=""),g.setStatus(f.format(i))},handleOnCreateSearch:function(){event.dialogtype="createSearch",this.showDialog(event)},handleOnPasteAndGo:function(e){e.preventDefault();var t=e.clipBoardText.trim();E.go(t,{addTypedHistory:!0,addTypedSearchHistory:!1,enableSearch:!0})},handleOnContentsDiscarded:function(){this.removeWebviewHandlers(),o.findDOMNode(this.refs.pagediv).removeChild(this.webview);var e=document.createElement("webview");e.id=this.props.page.get("id"),e.partition="persist:storage",e.tab_id=this.props.page.get("id"),o.findDOMNode(this.refs.pagediv).appendChild(e),this.webview=e,this.attachWebviewHandlers()},handleOnRequestPageInfo:function(e){p.showPageInfo(this.props.page,e)},_onWebpageviewStoreChanged:function(e){var n=this;e.type===S.CLOSE_FIND_IN_PAGE_ACTION?this.props.page.get("active")&&(this.webview.stopFinding("keep"),this.focusWebView()):e.type===S.PAGE_GO?this.props.page.get("active")&&this.webview.go(e.index):e.type===S.PAGE_BACK?this.props.page.get("active")&&this.webview.back():e.type===S.PAGE_FORWARD?this.props.page.get("active")&&this.webview.forward():e.type===S.PAGE_STOP?this.doActionStop():e.type===S.PAGE_RELOAD?(this.checkProcessExitState(),this.props.page.get("active")&&(N.tabs.reload(this.props.page.get("id"),{bypassCache:e.bypassCache}),t.nextTick(function(){return m.resetPermissions(n.props.page)}))):e.type===S.WEBPAGEVIEW_ACTIONS&&("exportSettings"===e.action||("focusWebView"===e.action?this.props.page.get("active")&&this.focusWebView():"print"===e.action?this.props.page.get("active")&&this.webview.print():"savePage"===e.action?this.savePage():"openPage"===e.action&&this.openPage()))},doActionStop:function(){this.props.page.get("active")&&this.webview.stop()},savePage:function(){this.props.page.get("active")&&x.importData.savePage(function(e){})},openPage:function(){this.props.page.get("active")&&x.importData.openPage(function(e){})},focusWebView:L(function(e){if(F.isInternalUrl(e)){var t=o.findDOMNode(this.refs.internal);t.contains(document.activeElement)||t.querySelector('[tabindex="0"]').focus()}else this.webview.focus()},16),onMouseDown:function(){this.props.page.get("active")||v.openPage(this.props.page)},getTilingStyle:function(){var e=this;if(this.props.tiles.count()<2)return{};var t=this.props.page.getIn(["extData","tiling"]),n=this.props.tiles.count(),i=this.props.tiles.findIndex(function(t){return t.get("id")===e.props.page.get("id")});if("grid"===t.get("layout")){var r=Math.ceil(Math.sqrt(n)),o=Math.ceil(n/r),a=Math.floor(i/r),s=i%r,l=100/r,u=100/o,c=u;return o-a>1&&i+r*(o-a-1)>=n&&(c=100/(o-1)),{top:c*a+"%",height:c+"%",left:l*s+"%",width:l+"%"}}if("horizontally"===t.get("layout")){var A=100/n;return{top:A*i+"%",height:A+"%"}}var d=100/n;return{left:d*i+"%",width:d+"%"}},updateFocus:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],i=M(e,t,n);"findInPage"===i?this.focusFindInPage():"content"===i&&this.focusWebView(t)},focusFindInPage:function(){var e=this;t.nextTick(function(){return C.showFindInPageToolbar(e.props.page)})},_onFindInPage:function(e,t){C.findInPage(this.props.page,e,t,this.webview)},_onFindNextInPage:function(e,t,n){C.findNextInPage(this.props.page,e,t,n,this.webview)},render:function(){var e=this.props.page,t=Object.assign({visibility:this.props.isVisible?"visible":"hidden",zIndex:this.props.isVisible?"initial":"-1"},this.getTilingStyle()),n={webpageview:!0,active:e.get("active"),visible:this.props.isVisible,tiled:B(this.props.page)};return r.createElement("div",{className:k(n),ref:"webpageview",style:t,tabIndex:"-1",onMouseDown:this.onMouseDown},r.createElement("div",{ref:"webpagecontainer"},r.createElement(A,{ref:"findInPage",page:e,onFindInPage:this._onFindInPage,onFindNextInPage:this._onFindNextInPage}),this.state.USE_BISCUIT_MODE&&r.createElement("div",{className:"biscuit-setting-version"},navigator.userAgent.match(/(?:Vivaldi|Chrome)\/[0-9.]+/g).join(" ")),r.createElement("div",{ref:"pagediv",className:"webpage",dangerouslySetInnerHTML:{__html:'<webview\n              id="'+e.get("id")+'"\n              partition="persist:storage"\n              tab_id="'+e.get("id")+'" />'}}),r.createElement(h,{ref:"internal",page:e,updatePageThumbnailWithActiveWebview:this.updatePageThumbnailWithActiveWebview}),this.state.dialogParentElement&&r.createElement(c,{dialogParentElement:this.state.dialogParentElement,customData:this.state.customData,closeDialog:this.handleOnCloseDialog})))}});e.exports=j}).call(t,n(22))},function(e,t,n){"use strict";var i=n(31),r=n(16),o=n(7),a=n(1),s=n(2),l=n(6),u=n(32).ensureURLProtocol,c=n(19).urls,A=n(78),d=n(62),h=n(51),p=n(5),f=n(26),m=p.CHANGED,g=a.createClass({displayName:"AddWebPanelButton",mixins:[i,o],getInitialState:function(){return{drawerOpen:!1,url:"",editUrl:null}},componentWillMount:function(){d.addListener(m,this._onUrlbarStoreChanged)},componentWillUnmount:function(){d.removeListener(m,this._onUrlbarStoreChanged)},_onUrlbarStoreChanged:function(){var e=d.getUrlfieldStateFromId("AddWebPanel");this.setState(e)},handleClickOutside:function(){this.closeDrawer()},onToggleCallout:function(){if(this.state.drawerOpen)this.closeDrawer();else{var e=r.getActivePage(),t=e.get("url"),n={drawerOpen:!0};c.isBookmarkablePage(e)&&(n.url=t),h.setUrlfieldState("AddWebPanel",{selectionStart:0,selectionEnd:t.length,editUrl:null}),this.setState(n),f.bind("esc",this.closeDrawer)}},onAddWebpanel:function(){var e=(this.state.editUrl||this.state.url||"").trim();0!==e.length&&(e=u(e),this.props.addNew(e),this.setState(this.getInitialState()))},onUrlChange:function(e){this.setState({url:e})},closeDrawer:function(e){f.unbind("esc",this.closeDrawer),this.setState({drawerOpen:!1})},preventContextMenu:function(e){e.stopPropagation()},render:function(){var e=l({addwebpanelcallout:!0,hidden:!this.state.drawerOpen});return a.createElement("div",{className:"addwebpanel-wrapper"},a.createElement("button",{title:s("Add Web Panel"),className:"addwebpanel",tabIndex:this.props.keyAccess,onClick:this.onToggleCallout,dangerouslySetInnerHTML:{__html:n(64)}}),this.state.drawerOpen&&a.createElement("div",{className:e,onContextMenu:this.preventContextMenu},a.createElement("form",null,a.createElement("header",null,a.createElement("h1",null,s("Add Web Panel"))),a.createElement("div",{className:"toolbar icons"},a.createElement(A,{ref:"input",className:"address",title:s("Enter webpage address"),pageId:"AddWebPanel",placeholder:"vivaldi.net",displayUrl:this.state.url,editUrl:this.state.editUrl,autocompletionEnabled:!0,triggerTypedHistory:!1,selectionStart:this.state.selectionStart,selectionEnd:this.state.selectionEnd,onUrlFieldChanged:this.onUrlChange,autoFocus:!0}),a.createElement("button",{className:"button-toolbar add",onClick:this.onAddWebpanel,dangerouslySetInnerHTML:{__html:n(64)}})))))}});e.exports=g},function(e,t,n){"use strict";var i=n(1),r=n(13),o=n(7),a=n(15),s=n(44),l=n(2),u=n(4),c=n(6),A=n(82),d=n(29),h=n(85),p=n(213),f=p.uaspoofRules,m=p.uaspoofRuleIds,g='(function() {\n  var faviconElement = document.querySelector(\n    \'link[rel="icon"],link[rel="shortcut icon"]\');\n  if (faviconElement) {\n    return faviconElement.getAttribute(\'href\');\n  } else {\n    return "";\n  }\n})()',v=i.createClass({displayName:"WebPanel",mixins:[o],getInitialState:function(){return{title:l("Loading..."),canGoBack:!1,canReload:!1,lookupFavicon:!0}},globalUASpooRulesEnabled:!0,disableGlobalUASpoofRules:function(){return this.globalUASpooRulesEnabled=!1,new Promise(function(e){return u.declarativeWebRequest.onRequest.removeRules(m,e)})},enableGlobalUASpoofRules:function(){this.globalUASpooRulesEnabled||(this.globalUASpooRulesEnabled=!0,u.declarativeWebRequest.onRequest.addRules(f))},componentDidMount:function(){var e=this,t=this.refs.webpanelwebview;this.props.mobileMode&&t.setUserAgentOverride(this.getMobileUAString()),t.addEventListener("contentload",this.handleContentLoad),t.addEventListener("loadstop",this.handleLoadStop),t.addEventListener("newwindow",this.handleNewWindow),t.addEventListener("dialog",this.handleDialog),this.disableGlobalUASpoofRules().then(function(){return t.src=e.props.src}),s.addChangeListener(this.onPanelStoreChange)},componentWillUnmount:function(){var e=this.refs.webpanelwebview;e.removeEventListener("contentload",this.handleContentLoad),e.removeEventListener("loadstop",this.handleLoadStop),e.removeEventListener("newwindow",this.handleNewWindow),e.removeEventListener("dialog",this.handleDialog),s.removeChangeListener(this.onPanelStoreChange)},componentDidUpdate:function(){this.props.focusContent&&(document.activeElement.blur(),this.refs.webpanelwebview.focus())},componentWillReceiveProps:function(e){var t=this.refs.webpanelwebview;e.mobileMode!==t.isUserAgentOverridden()&&(e.mobileMode?t.setUserAgentOverride(this.getMobileUAString()):t.setUserAgentOverride(navigator.userAgent),this.reload())},onPanelStoreChange:function(e){this.props.isVisible&&"setFocus"===e&&!A(r.findDOMNode(this))&&(document.activeElement.blur(),r.findDOMNode(this).querySelector("webview").focus())},getMobileUAString:function(){var e=navigator.userAgent,t=e.indexOf("("),n=e.indexOf(")",t);return t>=0&&n>t&&(e=e.substr(0,t+1)+"Linux; Android 6.0.1; SM-G920F Build/MMB29K"+e.substr(n)),e=e.replace("Safari","Mobile Safari")},handleNewWindow:function(e){switch(e.windowOpenDisposition){case"current_tab":case"new_foreground_tab":e.preventDefault(),e.window.accept(window.vivaldiWindowId+";1");break;case"new_background_tab":e.preventDefault(),e.window.accept(window.vivaldiWindowId+";0");break;case"new_window":e.preventDefault(),a.openWindow(e.targetUrl,{focused:!0});break;case"off_the_record":e.preventDefault(),a.openWindow(e.targetUrl,{focused:!0,incognito:!0});break;case"new_popup":e.preventDefault();break;case"ignore":case"save_to_disk":}},handleDialog:function(e){"confirm"===e.messageType||"prompt"===e.messageType?e.dialog.cancel():"alert"===e.messageType&&e.dialog.ok("")},getFaviconHost:function(){var e=d.parse(this.refs.webpanelwebview.src);return e.protocol+"//"+e.host+"/"},handleLoadStop:function(e){this.enableGlobalUASpoofRules();var t=this.refs.webpanelwebview;this.setState({canGoBack:t.canGoBack(),canReload:!0}),this.state.lookupFavicon&&t.executeScript({code:g},function(e){u.runtime.lastError&&console.warn("query favicon:",u.runtime.lastError);var t=void 0===e?void 0:e[0];if(t){var n=t.indexOf("data:");0!==n&&(n=t.indexOf("//"),-1===n?t=this.getFaviconHost()+t:0===n&&(t="http:"+t),t=h(t,{stripWWW:!1})),this.props.setWebPanelResource(this.props.id,"faviconUrl",t),this.setState({lookupFavicon:!1})}}.bind(this)),t.setZoomMode("per-view"),t.setZoom(1)},handleContentLoad:function(e){this.refs.webpanelwebview.executeScript({code:"document.title"},function(e){this.setState({title:e[0]}),this.props.setWebPanelResource(this.props.id,"title",e[0])}.bind(this))},reload:function(){this.setState({title:l("Loading..."),canReload:!1}),this.refs.webpanelwebview.reload()},home:function(){var e=this;this.setState({title:l("Loading..."),canReload:!1}),this.disableGlobalUASpoofRules().then(function(){return e.refs.webpanelwebview.src=e.props.src})},navigateBack:function(){this.refs.webpanelwebview.back()},render:function(){var e=c({panel:!0,webpanel:!0,visible:this.props.isVisible});return i.createElement("div",{className:e},this.props.isVisible&&this.props.displayTitleArea&&i.createElement("header",{className:"webpanel-header"},i.createElement("div",{className:"toolbar icons webpanel-wrap"},i.createElement("h1",{className:"webpanel-title",title:this.state.title},this.state.title),i.createElement("button",{className:"button-toolbar home webpanelbutton",title:l("Home"),onClick:this.home,disabled:!this.state.canReload,dangerouslySetInnerHTML:{__html:n(236)}}))),i.createElement("section",{className:"webpanel-content"},i.createElement("webview",{ref:"webpanelwebview",name:"vivaldi-webpanel"})))}});e.exports=v},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=n(1),o=n(6),a=n(3),s=n(15),l=n(16),u=n(41),c=n(2),A="light-ui-colors-on-front",d="light-ui-colors-on-behind",h="dark-ui-colors-on-front",p="dark-ui-colors-on-behind",f="dark-ui-colors-off",m="light-ui-colors-off",g="top",v="left",_="right",E="bottom",S="../resources/bg.jpg",y="../resources/bg_alt_1.jpg",b="../resources/bg_alt_2.jpg",C="../resources/bg_alt_3.jpg",T="../resources/bg_alt_4.jpg",I="../resources/bg_alt_5.jpg",w="../resources/bg_alt_6.jpg",O="user_defined",N=["BROWSER_FG_COLOR","STARTPAGE_BG_COLOR","STARTPAGE_BG_COLOR_USER_DEFINED","STARTPAGE_FG_COLOR","STARTPAGE_SHOW_IMAGE","STARTPAGE_IMAGE","STARTPAGE_IMAGE_USER_DEFINED","STARTPAGE_IMAGE_STRETCH","STARTPAGE_IMAGE_REPEAT","BROWSER_FG_COLOR","USE_TABCOLOR","TABCOLOR_BEHIND_TABS","TAB_POSITION","STARTPAGE_IMAGE","STARTPAGE_IMAGE_USER_DEFINED","STARTPAGE_SHOW_IMAGE","KEY_ACCESS"],k=r.createClass({displayName:"WelcomePage",getInitialState:function(){return{currentPageIndex:1,doneInOne:!1}},goForward:function(){this.setState({currentPageIndex:this.state.currentPageIndex+1})},goBackward:function(){this.setState({currentPageIndex:this.state.currentPageIndex-1})},goStart:function(){this.setState({doneInOne:!0}),setTimeout(function(){s.openURL(l.getDefaultStartpage(),{inCurrent:!0})},1e3)},goToStep:function(e){this.setState({currentPageIndex:e})},getStartpageStyle:function(){var e=this.props.vivaldiSettings,t={bgColor:e.STARTPAGE_BG_COLOR,bgColorUser:e.STARTPAGE_BG_COLOR_USER_DEFINED,imageStretch:e.STARTPAGE_IMAGE_STRETCH,imageRepeat:e.STARTPAGE_IMAGE_REPEAT,showImage:e.STARTPAGE_SHOW_IMAGE,imageUrl:e.STARTPAGE_IMAGE,imageUrlUser:e.STARTPAGE_IMAGE_USER_DEFINED},n="user_defined"===t.bgColor?t.bgColorUser:t.bgColor,i=t.imageStretch?"cover":"auto",r=t.imageRepeat?"repeat":"no-repeat",o="url(data:image/gif;base64,R0lGODlhAQABAAAAACwAAAAAAQABAAA=)";return t.showImage&&"user_defined"===t.imageUrl?o="url("+t.imageUrlUser+")":t.showImage&&(o="url("+t.imageUrl+")"),{backgroundColor:n,backgroundImage:o,backgroundSize:i,backgroundRepeat:r}},setApperance:function(e){switch(e){case A:a.set({USE_TABCOLOR:!0,TABCOLOR_BEHIND_TABS:"off",BROWSER_FG_COLOR:"ui-light"});break;case d:a.set({USE_TABCOLOR:!0,TABCOLOR_BEHIND_TABS:"on",BROWSER_FG_COLOR:"ui-light"});break;case h:a.set({USE_TABCOLOR:!0,TABCOLOR_BEHIND_TABS:"off",BROWSER_FG_COLOR:"ui-dark"});break;case p:a.set({USE_TABCOLOR:!0,TABCOLOR_BEHIND_TABS:"on",BROWSER_FG_COLOR:"ui-dark"});break;case f:a.set({USE_TABCOLOR:!1,TABCOLOR_BEHIND_TABS:"off",BROWSER_FG_COLOR:"ui-light"});break;case m:a.set({USE_TABCOLOR:!1,TABCOLOR_BEHIND_TABS:"off",BROWSER_FG_COLOR:"ui-dark"})}},setTabPosition:function(e){a.set({TAB_POSITION:e})},setBackground:function(e){a.set({STARTPAGE_SHOW_IMAGE:!0,STARTPAGE_IMAGE:e})},render:function(){var e=this.props.vivaldiSettings,t=e.TAB_POSITION,n=e.STARTPAGE_IMAGE,a=this.state.currentPageIndex,s=o(i({welcome:!0,done:this.state.doneInOne},"showstep-"+a,!0));if(!this.props.open)return null;var l=void 0;return"ui-light"===e.BROWSER_FG_COLOR?e.USE_TABCOLOR===!1?l=f:"off"===e.TABCOLOR_BEHIND_TABS?l=A:"on"===e.TABCOLOR_BEHIND_TABS&&(l=d):"ui-dark"===e.BROWSER_FG_COLOR&&(e.USE_TABCOLOR===!1?l=m:"off"===e.TABCOLOR_BEHIND_TABS?l=h:"on"===e.TABCOLOR_BEHIND_TABS&&(l=p)),r.createElement("div",{className:s,style:3===a?this.getStartpageStyle():null},r.createElement("div",{className:"hero"},r.createElement("h2",null,c("Welcome to Vivaldi")),r.createElement("h1",null,c("Let’s Get You Started!"))),r.createElement("div",{className:"steps"},r.createElement("div",{className:"step step-1"},r.createElement("div",{className:"step-wrap"},r.createElement("p",null,c("Spend one minute setting things up just the way you like\n                it.")),r.createElement("p",null,c("Let’s start with some appearance choices.\n                Which one of these do you prefer?")),r.createElement("div",{className:"television-rack"},r.createElement("div",{className:"television"},r.createElement("button",{title:c("Light UI, Color in Front"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(l===A?"selected":""),onClick:this.setApperance.bind(this,A)},r.createElement("div",{className:"television-image light-ui-colors-on-front"}),r.createElement("div",{className:"television-title"},c("Colors on front"))),r.createElement("button",{title:c("Light UI, Color Behind"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(l===d?"selected":""),onClick:this.setApperance.bind(this,d)},r.createElement("div",{className:"television-image light-ui-colors-on-behind"}),r.createElement("div",{className:"television-title"},c("Colors on behind"))),r.createElement("button",{title:c("Light UI, Color Off"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(l===f?"selected":""),onClick:this.setApperance.bind(this,f)},r.createElement("div",{className:"television-image light-ui-colors-off"}),r.createElement("div",{className:"television-title"},c("Colors off")))),r.createElement("div",{className:"television"},r.createElement("button",{title:c("Dark UI, Color in Front"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(l===h?"selected":""),onClick:this.setApperance.bind(this,h)},r.createElement("div",{className:"television-image dark-ui-colors-on-front"}),r.createElement("div",{className:"television-title"},c("Colors on front"))),r.createElement("button",{title:c("Dark UI, Color Behind"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(l===p?"selected":""),onClick:this.setApperance.bind(this,p)},r.createElement("div",{className:"television-image dark-ui-colors-on-behind"}),r.createElement("div",{className:"television-title"},c("Colors on behind"))),r.createElement("button",{title:c("Dark UI, Color Off"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(l===m?"selected":""),onClick:this.setApperance.bind(this,m)},r.createElement("div",{className:"television-image dark-ui-colors-off"}),r.createElement("div",{className:"television-title"},c("Colors off"))))),r.createElement("button",{tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"welcome-navigation",onClick:this.goForward},c("Next:")," ",r.createElement("strong",null,c("Tab Bar Position"))))),r.createElement("div",{className:"step step-2"},r.createElement("div",{className:"step-wrap"},r.createElement("p",null,c("Just as important, where do you like your tab bar\n                positioned?")),r.createElement("div",{className:"television"},r.createElement("button",{title:c("Top"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(t===g?"selected":""),onClick:this.setTabPosition.bind(this,g)},r.createElement("div",{className:"television-image preview-tabs-top"}),r.createElement("div",{className:"television-title"},c("Top"))),r.createElement("button",{title:c("Bottom"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(t===E?"selected":""),onClick:this.setTabPosition.bind(this,E)},r.createElement("div",{className:"television-image preview-tabs-bottom"}),r.createElement("div",{className:"television-title"},c("Bottom"))),r.createElement("button",{title:c("Left"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(t===v?"selected":""),onClick:this.setTabPosition.bind(this,v)},r.createElement("div",{className:"television-image preview-tabs-left"}),r.createElement("div",{className:"television-title"},c("Left Side"))),r.createElement("button",{title:c("Right"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(t===_?"selected":""),onClick:this.setTabPosition.bind(this,_)},r.createElement("div",{className:"television-image preview-tabs-right"}),r.createElement("div",{className:"television-title"},c("Right Side")))),r.createElement("button",{tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"welcome-navigation",onClick:this.goForward},c("Next:")," ",r.createElement("strong",null,c("Startpage Backgrounds"))),r.createElement("a",{onClick:this.goBackward},c("navigation","Back")))),r.createElement("div",{className:"step step-3"},r.createElement("div",{className:"step-wrap"},r.createElement("p",null,c("Finally, pick a background picture for your Start Page.")),r.createElement("div",{className:"television"},r.createElement("button",{title:c("Mist"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(n===S?"selected":""),onClick:this.setBackground.bind(this,S)},r.createElement("div",{className:"television-image",style:{backgroundImage:"url("+S+")"}}),r.createElement("div",{className:"television-title"},c("Mist"))),r.createElement("button",{title:c("Sunset"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(n===y?"selected":""),onClick:this.setBackground.bind(this,y)},r.createElement("div",{className:"television-image",style:{backgroundImage:"url("+y+")"}}),r.createElement("div",{className:"television-title"},c("Sunset"))),r.createElement("button",{title:c("Starry Night"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(n===b?"selected":""),onClick:this.setBackground.bind(this,b)},r.createElement("div",{className:"television-image",style:{backgroundImage:"url("+b+")"}}),r.createElement("div",{className:"television-title"},c("Starry Night"))),r.createElement("button",{title:c("Pink Cloud"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(n===C?"selected":""),onClick:this.setBackground.bind(this,C)},r.createElement("div",{className:"television-image",style:{backgroundImage:"url("+C+")"}}),r.createElement("div",{className:"television-title"},c("Pink Cloud"))),r.createElement("br",null),r.createElement("button",{title:c("Jellyfish"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(n===T?"selected":""),onClick:this.setBackground.bind(this,T)},r.createElement("div",{className:"television-image",style:{backgroundImage:"url("+T+")"}}),r.createElement("div",{className:"television-title"},c("Jellyfish"))),r.createElement("button",{title:c("Purple Lake"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(n===I?"selected":""),onClick:this.setBackground.bind(this,I)},r.createElement("div",{className:"television-image",style:{backgroundImage:"url("+I+")"}}),r.createElement("div",{className:"television-title"},c("Purple Lake"))),r.createElement("button",{title:c("Wave"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(n===w?"selected":""),onClick:this.setBackground.bind(this,w)},r.createElement("div",{className:"television-image",style:{backgroundImage:"url("+w+")"}}),r.createElement("div",{className:"television-title"},c("Wave"))),r.createElement("button",{title:c("Custom"),tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"television-channel "+(n===O?"selected":""),onClick:this.setBackground.bind(this,O)},r.createElement("div",{className:"television-image",style:{backgroundImage:"url("+e.STARTPAGE_IMAGE_USER_DEFINED+")"}}),r.createElement("div",{className:"television-title"},c("Custom")))),r.createElement("button",{tabIndex:this.props.vivaldiSettings.KEY_ACCESS,className:"welcome-navigation",onClick:this.goStart},c("Done,")," ",r.createElement("strong",null,c("Start Browsing!"))),r.createElement("a",{onClick:this.goBackward},c("navigation","Back"))))))}});e.exports=u(k,N)},function(e,t){"use strict";var n=function(e,t,n,i,r,o){this.id=e,this.title=n,this.style=i,this.description=r,this.menuItems=o,this.progress=0,this.text=t};e.exports=n},function(e,t){"use strict";e.exports={SETTINGS_MIGRATION_VERSION:0,ADDRESS_BAR_AUTOCOMPLETE_ENABLED:!0,ADDRESS_BAR_AUTOCOMPLETE_PREFER_BOOKMARKS:!0,ADDRESS_BAR_OMNIDROPDOWN_ENABLED:!0,ADDRESS_BAR_POSITION:"top",ALT_GESTURES_ENABLED:!1,BOOKMARKS_BAR_BOOKMARKSSORT:{sortOrder:1,sortField:"manually"},BOOKMARKS_BAR_FOLDER_IDS:["1"],BOOKMARKS_MANAGER_BOOKMARKSSORT:{sortOrder:1,sortField:"manually"},BOOKMARKS_OPEN_IN_NEW_TAB:!1,BOOKMARKS_PANEL_BOOKMARKSSORT:{sortOrder:1,sortField:"manually"},BOOKMARK_BAR_DISPLAY:"default",BOOKMARK_BAR_POSITION:"top",BOOKMARK_BAR_VISIBLE:!1,BROWSER_FG_COLOR:"ui-light",CHECK_DEFAULT_BROWSER_STARTUP:!1,CLOSABLE_PINNED_TABS:"off",COMMAND_ADD_BOOKMARK:{shortcut:["ctrl+d"],showInQC:!0},COMMAND_CLIPBOARD_PASTE_AS_PLAIN_TEXT:{showInQC:!0},COMMAND_CLIPBOARD_PASTE_AS_PLAIN_TEXT_OR_PASTE_AND_GO:{shortcut:["ctrl+shift+v"],showInQC:!0},COMMAND_CLONE_TAB:{showInQC:!0},COMMAND_MOVE_TAB_TO_NEW_WINDOW:{shortcut:["ctrl+shift+d"],showInQC:!0},COMMAND_CLOSE_ALL_BUT_ACTIVE_TAB:{showInQC:!0},COMMAND_CLOSE_TAB:{shortcut:["ctrl+w","ctrl+f4"],gestures:["20"],showInQC:!0},COMMAND_CLOSE_TAB_TO_LEFT:{showInQC:!0},COMMAND_CLOSE_TAB_TO_RIGHT:{showInQC:!0},COMMAND_CLOSE_WINDOW:{showInQC:!0},COMMAND_DEVELOPER_TOOLS:{shortcut:["ctrl+shift+i","f12"],showInQC:!0},COMMAND_DOWNLOAD_EXTENSIONS:{showInQC:!0},COMMAND_EXPORT_DATA:{showInQC:!0},COMMAND_EXPORT_SETTINGS:{showInQC:!0},COMMAND_FIND_IN_PAGE:{shortcut:["ctrl+f","."],showInQC:!0},COMMAND_FIND_NEXT_IN_PAGE:{shortcut:["f3","ctrl+g"],showInQC:!0},COMMAND_FIND_PREVIOUS_IN_PAGE:{shortcut:["shift+f3","ctrl+shift+g"],showInQC:!0},COMMAND_FOCUS_ADDRESSFIELD:{shortcut:["f8","ctrl+l"],showInQC:!0},COMMAND_FOCUS_PANEL:{shortcut:["f7"],showInQC:!0},COMMAND_FOCUS_SEARCHFIELD:{shortcut:["ctrl+k","ctrl+e"],showInQC:!0},COMMAND_FOCUS_WEBVIEW:{shortcut:["f9"],showInQC:!0},COMMAND_FULLSCREEN:{shortcut:["f11"],showInQC:!0},COMMAND_IMPORT_DATA:{showInQC:!0},COMMAND_IMPORT_SETTINGS:{showInQC:!0},COMMAND_MAIN_TOGGLE_ADDRESS_BAR:{shortcut:[],showInQC:!0},COMMAND_MAIN_TOGGLE_TAB_BAR:{shortcut:[],showInQC:!0},COMMAND_MAIN_TOGGLE_UI:{shortcut:["ctrl+f11"],showInQC:!0},COMMAND_MAIN_ZOOM_DOUBLE:{shortcut:["8"],showInQC:!0},COMMAND_MAIN_ZOOM_HALF:{shortcut:["7"],showInQC:!0},COMMAND_MAIN_ZOOM_IN:{shortcut:["0","+","ctrl+=","ctrl++"],showInQC:!0},COMMAND_MAIN_ZOOM_OUT:{shortcut:["9","-","ctrl+-"],showInQC:!0},COMMAND_MAIN_ZOOM_RESET:{shortcut:["ctrl+0","6","*","ctrl+*"],showInQC:!0},COMMAND_NEW_BACKGROUND_TAB:{gestures:["26"],showInQC:!0},COMMAND_NEW_PRIVATE_WINDOW:{shortcut:["ctrl+shift+n"],showInQC:!0},COMMAND_NEW_TAB:{shortcut:["ctrl+t"],gestures:["2"],showInQC:!0},COMMAND_NEW_WINDOW:{shortcut:["ctrl+n"],showInQC:!0},COMMAND_OPEN_PAGE:{shortcut:["ctrl+o"],showInQC:!0},COMMAND_OPEN_SESSION:{showInQC:!0},COMMAND_PAGE_BACK:{shortcut:["backspace","ctrl+left","alt+left","z"],gestures:["4"],showInQC:!0},COMMAND_PAGE_DISABLE_KEYBOARD_SHORTCUTS:{showInQC:!0},COMMAND_PAGE_FAST_FORWARD:{showInQC:!0,gestures:["06"]},COMMAND_PAGE_FORWARD:{shortcut:["ctrl+right","alt+right","x"],gestures:["0"],showInQC:!0},COMMAND_PAGE_REFRESH:{shortcut:["ctrl+r","f5"],gestures:["62"],showInQC:!0},COMMAND_PAGE_RELOAD_NOCACHE:{shortcut:["ctrl+shift+r","ctrl+f5"],showInQC:!0},COMMAND_PAGE_REWIND:{showInQC:!0,gestures:["42"]},COMMAND_PASTE_AND_GO:{showInQC:!0},COMMAND_PIN_TAB:{showInQC:!0},COMMAND_PRINT_PAGE:{shortcut:["ctrl+p"],showInQC:!0},COMMAND_SAVE_PAGE:{shortcut:["ctrl+s"],showInQC:!0},COMMAND_SAVE_SESSION:{showInQC:!0},COMMAND_SHOW_BOOKMARKS:{shortcut:["ctrl+b"],showInQC:!0},COMMAND_SHOW_BOOKMARK_BAR:{shortcut:["ctrl+shift+b"],showInQC:!0},COMMAND_SHOW_BOOKMARK_PANEL:{shortcut:["f6"],showInQC:!0},COMMAND_SHOW_CLEAR_PRIVATE_DATA:{shortcut:["ctrl+shift+del"],showInQC:!0},COMMAND_SHOW_CONTACTS_PANEL:{shortcut:["ctrl+shift+c"],showInQC:!0},COMMAND_SHOW_DOWNLOADS_PANEL:{shortcut:["ctrl+shift+d"],showInQC:!0},COMMAND_SHOW_EXTENSIONS:{shortcut:["ctrl+shift+e"],showInQC:!0},COMMAND_SHOW_HELP:{shortcut:["f1"],
showInQC:!0},COMMAND_SHOW_HISTORY:{shortcut:["ctrl+h"],showInQC:!0},COMMAND_SHOW_HOMEPAGE:{shortcut:["alt+home"],showInQC:!0},COMMAND_SHOW_KEYBOARDSHORTCUTS:{shortcut:["ctrl+f1"],showInQC:!0},COMMAND_SHOW_MAIL_PANEL:{shortcut:["ctrl+shift+m"],showInQC:!0},COMMAND_SHOW_NEXT_PANEL:{shortcut:["alt+f7"],showInQC:!0},COMMAND_SHOW_NOTES_PANEL:{shortcut:["ctrl+shift+o"],showInQC:!0},COMMAND_SHOW_PLUGINS:{showInQC:!0},COMMAND_SHOW_PREVIOUS_PANEL:{shortcut:["alt+shift+f7"],showInQC:!0},COMMAND_SHOW_QUICK_COMMANDS:{shortcut:["f2"],showInQC:!1},COMMAND_SHOW_SETTINGS:{shortcut:["alt+p"],showInQC:!0},COMMAND_SHOW_WEB_PANEL_1:{showInQC:!0},COMMAND_SHOW_WEB_PANEL_2:{showInQC:!0},COMMAND_SHOW_WEB_PANEL_3:{showInQC:!0},COMMAND_SHOW_WEB_PANEL_4:{showInQC:!0},COMMAND_SHOW_WEB_PANEL_5:{showInQC:!0},COMMAND_SHOW_WEB_PANEL_6:{showInQC:!0},COMMAND_SHOW_WEB_PANEL_7:{showInQC:!0},COMMAND_SHOW_WEB_PANEL_8:{showInQC:!0},COMMAND_SHOW_WEB_PANEL_9:{showInQC:!0},COMMAND_SHOW_WELCOME:{showInQC:!0},COMMAND_SPATNAV_DOWN:{shortcut:["shift+down","s"]},COMMAND_SPATNAV_LEFT:{shortcut:["shift+left","a"]},COMMAND_SPATNAV_RIGHT:{shortcut:["shift+right","d"]},COMMAND_SPATNAV_UP:{shortcut:["shift+up","w"]},COMMAND_STOP_PAGE:{shortcut:["esc"],gestures:["6"],showInQC:!0},COMMAND_TAB_REOPEN_RECENTLY_CLOSED:{shortcut:["ctrl+z","ctrl+shift+t"],gestures:["60"],showInQC:!0},COMMAND_TAB_STACK_TILE_GRID:{shortcut:["ctrl+f7"],showInQC:!0},COMMAND_TAB_STACK_TILE_HORIZONTAL:{shortcut:["ctrl+f8"],showInQC:!0},COMMAND_TAB_STACK_TILE_VERTICAL:{shortcut:["ctrl+f9"],showInQC:!0},COMMAND_TAB_STACK_UNTILE:{shortcut:["ctrl+f6"],showInQC:!0},COMMAND_TAB_SWITCH_BACK_HISTORY:{shortcut:["3"],showInQC:!0},COMMAND_TAB_SWITCH_BACK_ORDER:{shortcut:["2"],showInQC:!0},COMMAND_TAB_SWITCH_BACK_SETTING:{shortcut:["ctrl+tab"],showInQC:!1},COMMAND_TAB_SWITCH_FORWARD_HISTORY:{shortcut:["4"],showInQC:!0},COMMAND_TAB_SWITCH_FORWARD_ORDER:{shortcut:["1"],showInQC:!0},COMMAND_TAB_SWITCH_FORWARD_SETTING:{shortcut:["ctrl+shift+tab","meta+shift+left"],showInQC:!1},COMMAND_TAB_SWITCH_1:{shortcut:["ctrl+1"],showInQC:!1},COMMAND_TAB_SWITCH_2:{shortcut:["ctrl+2"],showInQC:!1},COMMAND_TAB_SWITCH_3:{shortcut:["ctrl+3"],showInQC:!1},COMMAND_TAB_SWITCH_4:{shortcut:["ctrl+4"],showInQC:!1},COMMAND_TAB_SWITCH_5:{shortcut:["ctrl+5"],showInQC:!1},COMMAND_TAB_SWITCH_6:{shortcut:["ctrl+6"],showInQC:!1},COMMAND_TAB_SWITCH_7:{shortcut:["ctrl+7"],showInQC:!1},COMMAND_TAB_SWITCH_8:{shortcut:["ctrl+8"],showInQC:!1},COMMAND_TAB_SWITCH_LAST:{shortcut:["ctrl+9"],showInQC:!1},COMMAND_TAB_VIEW_PAGE_SOURCE:{shortcut:["ctrl+u"],showInQC:!0},COMMAND_TASK_MANAGER:{shortcut:["shift+esc"],showInQC:!0},COMMAND_TOGGLE_FOOTER:{shortcut:["ctrl+shift+s"],showInQC:!0},COMMAND_TOGGLE_INTERFACE_COLOR:{showInQC:!0},COMMAND_TOGGLE_MENU_POSITION:{shortcut:["ctrl+m"],showInQC:!0},COMMAND_TOGGLE_PANEL:{shortcut:["f4"],showInQC:!0},DEFAULT_SEARCH_ENGINE:"1",DISABLE_KEYBOARD_SHORTCUTS:!1,DISABLE_SINGLE_KEY_SHORTCUTS:!0,EXPAND_BOOKMARKS_MANAGER:{},EXPAND_BOOKMARKS_PANEL:{},FOCUS_CYCLE_TRAP:!0,KEY_ACCESS:"-1",KEY_ACCESS_OS_DEFAULT:!1,KEY_VIVALDI_MENU_POSITION:"f2",LINUX_ALT_CONTROLS:!1,MAIL_IS_TURNED_OFF:!1,MAIL_OUTBOX_SEND_CUE:"1",MAIL_SEARCH_ASCENDING:!1,MAIL_VIEW_LAYOUT:"top",MAIL_VIEW_POS:{width:400,height:240},MINIMALISTIC_UI_RECOVER_INFO:{SHOW_PANEL:"",SHOW_ADDRESS_BAR:"",SHOW_TAB_BAR:"",SHOW_VIVALDI_FOOTER:""},MINIMALISTIC_UI_SHOW:!0,MOUSE_GESTURES_ENABLED:!0,MOUSE_WHEEL_TAB_SWITCHING:!1,OPEN_SAFE_FILES:!1,PANEL_POSITION:"left",QUICK_COMMAND_OPEN_URL_IN_NEW_TAB:!1,QC_LAUNCH_BOOKMARK_ON_NICK_MATCH:!1,BOOKMARKS_CONFIRM_BEFORE_OPEN:!0,BOOKMARKS_CONFIRM_THRESHOLD:"20",BOOKMARKS_SINGLE_CLICK_IN_TREE:!1,SEARCH_FIELD_ENABLED:!0,SEARCH_FIELD_SUGGEST_ENABLED:!1,SHOW_ADDRESS_BAR:!0,SHOW_DOWNLOADPANEL_FOR_NEW_DOWNLOADS:!0,SHOW_FFW_RWD_BUTTONS:!0,SHOW_FULLSCREEN_BUBBLE:!0,SHOW_PANEL:!0,SHOW_PANEL_SWITCH:!1,SHOW_TAB_BAR:!0,SHOW_VIVALDI_FOOTER:"on",SHOW_WEB_PANEL_TITLE:!0,SPEEDDIAL_ADDBUTTON_VISIBLE:!0,SPEEDDIAL_COLS:6,SPEEDDIAL_TITLES_VISIBLE:"always",STARTPAGE_BG_COLOR:"#cccccc",STARTPAGE_BG_COLOR_USER_DEFINED:"#bfb8b0",STARTPAGE_FG_COLOR:"",STARTPAGE_IMAGE:"../resources/bg.jpg",STARTPAGE_IMAGE_REPEAT:!1,STARTPAGE_IMAGE_STRETCH:!0,STARTPAGE_IMAGE_USER_DEFINED:"../resources/bg.jpg",STARTPAGE_SHOW_IMAGE:!0,STARTUP_SESSION_URLS:[],SWITCH_TABS_AT_WINDOW_EDGE:!1,SYNC_SETTINGS:[{id:1,name:"Apps",selected:!1},{id:2,name:"Autofill",selected:!1},{id:3,name:"Bookmarks",selected:!1},{id:4,name:"Extensions",selected:!1},{id:5,name:"History",selected:!1},{id:6,name:"Passwords",selected:!1},{id:7,name:"Settings",selected:!1},{id:8,name:"Themes",selected:!1},{id:9,name:"Open tabs",selected:!1},{id:10,name:"Notes",selected:!1}],TABBAR_WIDTH:180,TABCOLOR_BEHIND_TABS:"off",TAB_ACTIVATION_PREFER_RELATED:!0,TAB_CLICK_ACTIVE_OPENS_PREVIOUS:!1,TAB_CLONE_PLACEMENT:"rightofcurrent",TAB_CLOSEBUTTON_ENABLED:!0,TAB_CLOSE_ACTIVATION:"activation_order",TAB_CYCLING_ORDER:"recently used",TAB_NEVER_CLOSE_LAST:!0,TAB_NEW_PLACEMENT:"rightofcurrent",TAB_POSITION:"top",TAB_SCROLLING:"off",TAB_SELECTION_ENABLED:!0,TAB_SELECTION_INCLUDE_ACTIVE:!0,TAB_STACKING:"on",TAB_STACKING_OPEN_IN_CURRENT:!0,TAB_SWITCH_VISUAL:!1,TAB_THUMBNAILS_ENABLED:!0,TAB_UNREAD_ENABLED:!0,USE_ANIMATION:!0,USE_CLOSE_ON_DOUBLECLICK:!1,USE_NATIVE_WINDOW_DECORATIONS:!1,USE_SETTINGS_WINDOW_AS_TAB:!1,USE_TABCOLOR:!0,USE_TAB_TRANSPARENT_TABS:!1,USE_TOOLTIP:!0,VIVALDI_MENU_POSITION:"vivaldi",SEARCH_ENGINES:[{Id:1,Name:"Bing",Keyword:"b",Url:"https://www.bing.com/search?pc=cosp&ptag=AD6C08C471A&form=CONBDF&conlogo=CT3210127&q=%s",FaviconUrl:"data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAQAQAABMLAAATCwAAAAAAAAAAAAAAuf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Dtvr%2FAbj9%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8dlMH%2FTFZa%2F0dcZf8al8f%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8zdY7%2FUFBQ%2F1BQUP9QUFD%2FUFBQ%2Fzptgf8MqeT%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf7%2FQmJu%2FzN3kf9PUVL%2FUFBQ%2F1BQUP9QUFD%2FTlJT%2FyuBov8DtPf%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2B%2F1BQUP9FXmf%2FFZ3R%2FzR0jP9QUFH%2FUFBQ%2F1BQUP9QUFD%2FR1xj%2FxyVw%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2Fv9QUFD%2FUFBQ%2F0Nhbf8Auf%2F%2FD6Xd%2Fzlug%2F9QUFD%2FUFBQ%2F1BQUP9QUFD%2FALn%2B%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf7%2FUFBQ%2F1BQUP9QUFD%2FALn%2F%2FwC5%2F%2F8Fs%2FX%2FNnKI%2F1BQUP9QUFD%2FUFBQ%2FwC5%2Fv8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2B%2F1BQUP9QUFD%2FUFBQ%2FwC5%2F%2F8Auf%2F%2FTFVZ%2F1BQUP9QUFD%2FUFBQ%2F1BQUP8Auf7%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2Fv9QUFD%2FUFBQ%2F1BQUP8Auf%2F%2FMXmU%2F1BQUP9QUFD%2FR1xk%2Fy58mf8WndD%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf7%2FUFBQ%2F1BQUP9QUFD%2FALn%2F%2Fz9ndv8ohKf%2FD6Xd%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2B%2F1BQUP9QUFD%2FUFBQ%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2Fv9QUFD%2FUFBQ%2F0ZdZf8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf7%2FUFBQ%2F0NhbP8nhqv%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwO09%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FALn%2F%2FwC5%2F%2F8Auf%2F%2FAABOVAAASUUAAEluAABsNgAARmEAAGx5AAAgTQAAZWwAADUgAABlcAAAbmcAACwgAABudQAAZUkAAGVsAABSTw%3D%3D",SuggestUrl:"https://www.bing.com/osjson.aspx?query=%s"},{Id:4,Name:"DuckDuckGo",Keyword:"d",Url:"https://duckduckgo.com/?q=%s&t=vivaldi",FaviconUrl:"data:image/png;base64,AAABAAQAQEAAAAEAIAAoQAAARgAAACAgAAABACAAKBAAAG5AAAAYGAAAAQAgACgJAACWUAAAEBAAAAEAIAAoBAAAvlkAACgAAABAAAAAgAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoSM8gKEXSYChE0YAlRNK/JUTSvydE0e8nRNH/J0TR/ydE0f8nRNH/J0TR7yVE0r8lRNK/KETRgChF0mAoSM8gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJkPSUCZD0J8jQ9HfJ0TR/ydE0f8nRNH/J0TR/ydE0f8nRNH/J0TR/ydE0f8nRNH/J0TR/ydE0f8nRNH/J0TR/ydE0f8nRNH/J0TR/yND0d8mQ9CfJkPSUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACBAzxAoRtGAI0PS3ydF0v8nRdL/J0XS/ydF0v8nRdL/J0XS/ydF0v8nRdL/J0XS/ydF0v8nRdL/J0XS/ydF0v8nRdL/J0XS/ydF0v8nRdL/J0XS/ydF0v8nRdL/J0XS/ydF0v8jQ9LfKEbRgCBAzxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIEDPECZD0p8nRdL/J0XS/ydF0v8nRdL/J0XS/ydF0v8jQ9LfJkPSn3aI4K+ToemA6Or6j////4D///+A/v7+v/7+/r/+/v6//v7+v+3x/c+2wvC/lKLp30lk2r8jQ9LfJ0XS/ydF0v8nRdL/J0XS/ydF0v8nRdL/JkPSnyBAzxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKEbTgCdF0u8nRdL/J0XS/ydF0v8nRdL/I0PS3ydG0o8lRdUw////UP/////////////////////////////////////////////////////////////////////+/v6/AAAAACVF1TAnRtKPI0PS3ydF0v8nRdL/J0XS/ydF0v8nRdLvKEbTgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlRdUwJ0PRzydF0/8nRdP/J0XT/ydF0/8lRdK/JkbSUAAAAACvr68QtbW1YPHx8c/o9+z/gNCU/7rmxf/z+/X/////////////////////////////////////////////////uMHw7ydG0o8lRdUwAAAAAAAAAAAmRtJQJUXSvydF0/8nRdP/J0XT/ydF0/8nQ9HPJUXVMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAnR9RwJ0XT/ydF0/8nRdP/J0XT/yVF0r8oRNNAAAAAACBAzxAoRtOAUGPK37W1tf/6+vr/o92y/0a7ZP9Gu2T/Ur9u/6Pdsv/z+/X//////////////////////////////////////0Jd2f8nRdP/J0XT/yND1N8oRtOAIEDPEAAAAAAoRNNAJUXSvydF0/8nRdP/J0XT/ydF0/8nR9RwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmR9SfJ0bT/ydG0/8nRtP/J0bT7ydH1HAAAAAAIEDPECZH1J8nRtP/J0bT/25+xP++vr7//////3TMi/9Gu2T/Rrtk/0a7ZP9Gu2T/Ur9u/2e0aP9EoUP/RKFD/2ezZv+i0KH//////6667/8rVcX/NXmi/z6egP9Gu2T/Qqxy/ydG0/8mR9SfIEDPEAAAAAAnR9RwJ0bT7ydG0/8nRtP/J0bT/yZH1J8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACBAzxAlRdS/J0bU/ydG1P8nRtT/J0bRzyhI1yAAAAAAKEbTgCdG1O8nRtT/J0bU/ydG1P+Jkr//zMzM//////90zIv/Rrtk/0a7ZP9Gu2T/Rrtk/0a2Xv9EpEf/Rrli/0a7ZP9Gu2T/Rrli/4DPkv9OsXz/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP8nRtT/J0bU/ydG1O8oRtOAAAAAAChI1yAnRtHPJ0bU/ydG1P8nRtT/JUXUvyBAzxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACBAzxAnRtHPJ0bU/ydG1P8nRtT/JkfUnwAAAAAoSNcgJ0bRzydG1P8nRtT/J0bU/ydG1P8nRtT/o6e5/9ra2v//////aciB/0a7ZP9Gu2T/Rrtk/0a7ZP9GtVz/RahL/0a7ZP9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP9Gu2T/K1XG/ydG1P8nRtT/J0bU/ydG0c8oSNcgAAAAACZH1J8nRtT/J0bU/ydG1P8nRtHPIEDPEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlRdS/J0bU/ydG1P8nRtT/KEXVYAAAAAAmRtZQJ0bU7ydG1P8nRtT/J0bU/ydG1P8nRtT/OVTQ/7W1tf/t7e3//////0a7ZP9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/0WoS/9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/y9juP8nRtT/J0bU/ydG1P8nRtT/J0bU7yZG1lAAAAAAKEXVYCdG1P8nRtT/J0bU/yVF1L8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmR9WfJ0fV/ydH1f8nR9X/KEjVYAAAAAAoSNVgJ0fV/ydH1f8nR9X/J0fV/ydH1f8nR9X/J0fV/1Npy/+1tbX///////////9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP9FqEv/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP8tXcD/J0fV/ydH1f8nR9X/J0fV/ydH1f8nR9X/KEjVYAAAAAAoSNVgJ0fV/ydH1f8nR9X/JkfVnwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAnR9ZwJ0fV/ydH1f8nR9X/KEjVYAAAAAAoSNVgJ0fV/ydH1f8nR9X/J0fV/ydH1f8nR9X/J0fV/ydH1f9ufsX/w8PD////////////Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP9Gu2T/aL51/1K/bv9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP9Gu2T/J0fV/ydH1f8nR9X/J0fV/ydH1f8nR9X/J0fV/ydH1f8oSNVgAAAAAChI1WAnR9X/J0fV/ydH1f8nR9ZwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlRdUwJ0fV/ydH1f8nR9X/JkfVnwAAAAAoSNVgJ0fV/ydH1f8nR9X/J0fV/ydH1f8nR9X/J0fV/ydH1f8nR9X/kpq9/9HR0f///////////0a7ZP9Gu2T/Rrtk/0a7ZP+A0JT/0e7Y///////z+/X/xerP/22vp/83gZ3/M3Or/ziIlf9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/ydH1f8nR9X/J0fV/ydH1f8nR9X/J0fV/ydH1f8nR9X/J0fV/yhI1WAAAAAAJkfVnydH1f8nR9X/J0fV/yVF1TAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJ0fWzydH1v8nR9b/J0fWzwAAAAAmRtZQJ0fW/ydH1v8nR9b/J0fW/ydH1v8nR9b/J0fW/ydH1v8nR9b/J0fW/7W1tf/f39////////////+A0JT/dMyL/67hu//o9+z///////////////////////////9ddeD/J0fW/ydH1v8nR9b/L2S5/0Ktcv9Gu2T/Rrtk/0Clef8nR9b/J0fW/ydH1v8nR9b/J0fW/ydH1v8nR9b/J0fW/ydH1v8nR9b/JkbWUAAAAAAnR9bPJ0fW/ydH1v8nR9bPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKEjVgCdH1v8nR9b/J0fW7yhI1yAoSNcgJ0fW7ydH1v8nR9b/J0fW/ydH1v8nR9b/J0fW/ydH1v8nR9b/J0fW/0Fc0P+1tbX/8fHx///////////////////////////////////////////////////////k6Pr/J0fW/ydH1v8nR9b/J0fW/ydH1v8pT8//NoGd/0Ktcv82gZ3/J0fW/ydH1v8nR9b/J0fW/ydH1v8nR9b/J0fW/ydH1v8nR9b/J0fW/ydH1u8oSNcgKEjXICdH1u8nR9b/J0fW/yhI1YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIFDPECZH1u8mSNb/JkjW/ydJ1nAAAAAAJkfWzyZI1v8mSNb/JkjW/yZI1v8mSNb/JkjW/yZI1v8mSNb/JkjW/yZI1v9cccr/tbW1////////////////////////////////////////////////////////////oK/t/yZI1v8mSNb/JkjW/yZI1v8mSNb/JkjW/yZI1v8mSNb/JkjW/yZI1v8mSNb/JkjW/yZI1v8mSNb/JkjW/yZI1v8mSNb/JkjW/yZI1v8mSNb/JkfWzwAAAAAnSdZwJkjW/yZI1v8mR9bvIFDPEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACVH2I8mSNf/JkjX/yZH1s8AAAAAJ0nWcCZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/doXE/8jIyP///////////////////////////////////////////////////////////09q3v8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8nSdZwAAAAACZH1s8mSNf/JkjX/yVH2I8AAAAAAAAAAAAAAAAAAAAAAAAAACBQzxAmR9jvJkjX/yZI1/8oSNdAIFDPECZH2O8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/5qhu//V1dX///////////////////////////////////////////////////////H0/f8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkfY7yBQzxAoSNdAJkjX/yZI1/8mR9jvIFDPEAAAAAAAAAAAAAAAAAAAAAAmSNeAJkjX/yZI1/8lSNa/AAAAACZI1Z8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/+1tbX/6Ojo//////////////////////////////////////////////////////+7xvP/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNWfAAAAACVI1r8mSNf/JkjX/yZI14AAAAAAAAAAAAAAAAAAAAAAI0nY3yZJ2P8mSdj/JknWUCBQ3xAmSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P9KZM//tbW1//b29v//////////////////////////////////////////////////////k6Tr/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yBQ3xAmSdZQJknY/yZJ2P8jSdjfAAAAAAAAAAAAAAAAKEjXQCZJ2P8mSdj/I0nY3wAAAAAmSteAJknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/ZXjJ/7q6uv///////////////////////////////////////////////////////////3eN5/8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSteAAAAAACNJ2N8mSdj/JknY/yhI10AAAAAAAAAAACVJ2I8mSdj/JknY/yVJ2I8AAAAAI0nY3yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/3+Nwv/IyMj///////////////////////////////////////////////////////////9cd+L/JknY/yZJ2P8mSdj/JknY/x9r4f8Yjur/ELDz/wvJ+v8J0vz/CdL8/wnS/P8J0vz/ELDz/xiO6v8hY9//JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/I0nY3wAAAAAlSdiPJknY/yZJ2P8lSdiPAAAAAAAAAAAjSdjfJknY/yZJ2P8lStowJUraMCZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P+jqLn/2tra////////////////////////////////////////////////////////////aoLk/yZJ2P8ddOP/FJ/v/wvJ+v8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/xCw8/8fa+H/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8lStowJUraMCZJ2P8mSdj/I0nY3wAAAAAoSNcgJknZ/yZJ2f8jSdnfAAAAACZK2YAmSdn/JknZ/yZJ2f8mSdn/JknZ/yZJ2f8mSdn/JknZ/yZJ2f8mSdn/JknZ/yZJ2f8vUNf/tbW1/+3t7f///////////////////////////////////////////////////////////1vG9v8Lyfr/CdL8/wnS/P8J0vz/CdL8/wnS/P8QsPP/ELDz/xCw8/8OuPX/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/xt85v8mSdn/JknZ/yZJ2f8mSdn/JknZ/yZJ2f8mSdn/JkrZgAAAAAAjSdnfJknZ/yZJ2f8oSNcgJknZUCZK2f8mStn/JErZrwAAAAAlSdq/JkrZ/yZK2f8mStn/JkrZ/yZK2f8mStn/JkrZ/yZK2f8mStn/JkrZ/yZK2f8mStn/SmXQ/7W1tf/6+vr//////////////////////////////////////////////////////2Xj/f8J0vz/CdL8/wnS/P8J0vz/ELDz/x9s4v8mStn/JkrZ/yZK2f8mStn/JkrZ/yZK2f8hZOD/G33m/xaX7f8OufX/CdL8/wnS/P8SqPH/JkrZ/yZK2f8mStn/JkrZ/yZK2f8mStn/JkrZ/yVJ2r8AAAAAJErZryZK2f8mStn/JknZUCZK2YAmStn/JkrZ/ydL2HAAAAAAJkrZ/yZK2f8mStn/JkrZ/yZK2f8mStn/JkrZ/yZK2f8mStn/JkrZ/yZK2f8mStn/JkrZ/26Ax/++vr7//////////////////////////////////////////////////////6Pu/v8J0vz/CdL8/wnS/P8J0vz/ELDz/yZK2f8mStn/JkrZ/yZK2f8mStn/JkrZ/yZK2f8mStn/JkrZ/yZK2f8mStn/JkrZ/yZK2f8hZOD/JkrZ/yZK2f8mStn/JkrZ/yZK2f8mStn/JkrZ/yZK2f8mStn/AAAAACdL2HAmStn/JkrZ/yZK2YAkStuvJkra/yZK2v8oTNtAJUraMCZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v+IlMH/zMzM//////////////////////////////////////////////////////9W4P3/CdL8/wnS/P8J0vz/CdL8/xSf7/8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yVK2jAoTNtAJkra/yZK2v8kStuvJUnavyZK2v8mStr/KEjXIChM20AmStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/o6i6/9ra2v//////////////////////////////////////////////////////R939/wnS/P8J0vz/CdL8/wnS/P8J0vz/GI7r/x115f8Yjuv/GI7r/xiO6/8Yjuv/H2zj/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Jkra/yZK2v8oTNtAKEjXICZK2v8mStr/JUnavyNL2t8mS9r/Jkva/wAAAAAnS9twJkva/yZL2v8mS9r/Jkva/yZL2v8mS9r/Jkva/yZL2v8mS9r/Jkva/yZL2v8mS9r/OFjV/7W1tf/t7e3//////////////////////////////////////////////////////8L0/v8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8Lyvr/FJ/v/x115f8mS9r/Jkva/yZL2v8mS9r/Jkva/yZL2v8mS9r/Jkva/yZL2v8mS9r/Jkva/yZL2v8mS9r/J0vbcAAAAAAmS9r/Jkva/yNL2t8mS9v/Jkvb/yZL2/8AAAAAJkzbgCZL2/8mS9v/Jkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/Jkvb/1Nsz/+1tbX/////////////////////////////////////////////////////////////////svH+/xjV/P8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/DcH4/xaX7f8iXN//Jkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/Jkvb/yZM24AAAAAAJkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/AAAAACZM24AmS9v/Jkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/Jkvb/yZL2/9ugMj/w8PD///////////////////////////////////////////////////////////////////////w/P//ZeP9/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/xCw9P8ddeX/Jkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/Jkvb/yZL2/8mTNuAAAAAACZL2/8mS9v/Jkvb/yZL2/8mS9v/Jkvb/wAAAAAmTNuAJkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/kZu//9HR0f/////////////////////////////////////////////////////////////////////////////////w/P//wvT+/4Tp/v+E6f7/hOn+/1bg/f8o2Pz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/w3B+P8fbeP/Jkvb/yZL2/8mS9v/Jkvb/yZL2/8mS9v/JkzbgAAAAAAmS9v/Jkvb/yZL2/8mS9z/Jkvc/yZL3P8AAAAAJkzbgCZL3P8mS9z/Jkvc/yZL3P8mS9z/Jkvc/yZL3P8mS9z/Jkvc/yZL3P8mS9z/Jkvc/6yut//f39///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////4Gr7/8bfuj/FJ/w/w3B+P8J0vz/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/CdL8/x9t5P8mS9z/Jkvc/yZL3P8mS9z/Jkvc/yZM24AAAAAAJkvc/yZL3P8mS9z/I0vc3yZM3P8mTNz/AAAAACdL3XAmTNz/Jkzc/yZM3P8mTNz/Jkzc/yZM3P8mTNz/Jkzc/yZM3P8mTNz/Jkzc/y9T2v+1tbX/7e3t//////////////////j08v+xhm7/qnth/9W9sP////////////////////////////////////////////////////////////////////////////////+Tpu7/Jkzc/yZM3P8mTNz/Il3g/xmH6v8SqPL/CdL8/wnS/P8J0vz/CdL8/wvK+v8hZeL/Jkzc/yZM3P8mTNz/Jkzc/yZM3P8nS91wAAAAACZM3P8mTNz/I0vc3yVM3L8mTNz/Jkzc/yVK2jAoTNtAJkzc/yZM3P8mTNz/Jkzc/yZM3P8mTNz/Jkzc/yZM3P8mTNz/Jkzc/yZM3P9KZtL/tbW1//////////////////////+xhm7/jk8s/45PLP+OTyz/6t7X///////////////////////////////////////////////////////j08r/6t7X////////////k6bu/yZM3P8mTNz/Jkzc/yZM3P8mTNz/Jkzc/yJd4P8fbuT/H27k/x9u5P8mTNz/Jkzc/yZM3P8mTNz/Jkzc/yZM3P8mTNz/KEzbQCVK2jAmTNz/Jkzc/yVM3L8kStyvJkzd/yZM3f8oTNtAKFDfICZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/boHJ/76+vv//////////////////////lVo5/45PLP+qe2H/uJF7/86yo/////////////////////////////////////////////////+jcFT/jk8s/45PLP/cyL3//////5Om7v8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yhQ3yAoTNtAJkzd/yZM3f8kStyvJkzdgCZM3f8mTN3/JkzdgAAAAAAmTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/26Byf/IyMj//////////////////////7+ciP+OTyz/sYZu/86yo//x6eX/////////////////////////////////////////////////jk8s/45PLP+/nIj/x6eW//////9ceeb/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8AAAAAJkzdgCZM3f8mTN3/JkzdgCZN3FAmTd3/Jk3d/yRN3a8AAAAAJU3evyZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f9ugcn/1dXV////////////////////////////1b2w/8enlv/x6eX//////////////////////////////////////////////////////6NwVP+OTyz/3Mi9/9W9sP//////NFjf/yZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8lTd6/AAAAACRN3a8mTd3/Jk3d/yZN3FAgUN8QJk3d/yZN3f8mStrvAAAAACdN3XAmTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8mTd3/boHJ/9ra2v/////////////////////////////////////////////////////////////////////////////////////////////////49PL/zrKj/+PTyv//////1t75/yZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8mTd3/J03dcAAAAAAmStrvJk3d/yZN3f8gUN8QAAAAACZO3c8mTd7/Jk3e/yVK3zAlSt8wJk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/26Byv/a2tr////////////ly8P//////////////////////////////////////////////////////////////////////////////////////////////////////4Wb7P8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yVK3zAlSt8wJk3e/yZN3v8mTt3PAAAAAAAAAAAlTd2PJk3e/yZN3v8lTd2PAAAAACZO3c8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v9TbtH/2tra////////////zZ6Q/929tf////////////////////////////////////////////////////////////////////////////////////////////////9BY+L/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZO3c8AAAAAJU3djyZN3v8mTd7/JU3djwAAAAAAAAAAJUrfMCZN3v8mTd7/Jkrb7wAAAAAnTd9wJk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/L1Tb/8jIyP////////////Hk4P/DjH3/s25e/7h5bP/DjoP/////////////////////////////////////////////////6dTN/+PIwP/q1tL/4cfC/8+lnP+uvPP/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8nTd9wAAAAACZK2+8mTd7/Jk3e/yVK3zAAAAAAAAAAAAAAAAAjS9zfJk7f/yZO3/8lTd9gIFDfECZL3O8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/+Nmcf////////////////////////////////////////////////////////////////////////////////////////////Tq6D/v4V3/76Fef/t3dr/QWTj/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mS9zvIFDfECVN32AmTt//Jk7f/yNL3N8AAAAAAAAAAAAAAAAAAAAAJ03fcCZO3/8mTt//Jk7dzwAAAAAmTt+AJk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//SmjV/+jo6P//////////////////////////////////////////////////////////////////////////////////////////////////////oLLx/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7fgAAAAAAmTt3PJk7f/yZO3/8nTd9wAAAAAAAAAAAAAAAAAAAAACBQ3xAmS9zvJk7f/yZO3/8mTd9QIFDfECZL3O8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/+EltX/////////////////////////////////////////////////////////////////////////////////////////////////5On7/zRZ4f8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jkvc7yBQ3xAmTd9QJk7f/yZO3/8mS9zvIFDfEAAAAAAAAAAAAAAAAAAAAAAAAAAAJk7fgCZO4P8mTuD/I0vg3wAAAAAlTd9gJk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/5uq4f//////////////////////////////////////////////////////////////////////////////////////8fT9/09v5v8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yVN32AAAAAAI0vg3yZO4P8mTuD/Jk7fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACBQ3xAmS+DvJk7g/yZO4P8mTt+AAAAAACVN4L8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/ZYHl/+Tp+///////////////////////////////////////////////////////////////////////8fT9/05v5v8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yVN4L8AAAAAJk7fgCZO4P8mTuD/Jkvg7yBQ3xAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJVDfYCVP4P8lT+D/JU/g/yVQ3zAgUN8QJUzg7yVP4P8lT+D/JU/g/yVP4P8lT+D/JU/g/yVP4P8lT+D/JU/g/yVP4P8lT+D/d5Hs/7vI9f/x9P3////////////////////////////////////////////W3vn/hJzu/zNa4v8lT+D/JU/g/yVP4P8lT+D/JU/g/yVP4P8lT+D/JU/g/yVP4P8lT+D/JU/g/yVP4P8lT+D/JU/g/yVP4P8lT+D/JU/g/yVM4O8gUN8QJVDfMCVP4P8lT+D/JU/g/yVQ32AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlTeK/JU/h/yVP4f8iTuHPIFDfECVQ3zAlT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/W3XQ/0lp1v9Jadb/SWnW/22Cy/9tgsv/qLPX/+Tm7////////////////////////////+Tp+/8zWuP/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lUN8wIFDfECJO4c8lT+H/JU/h/yVN4r8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKFDfICVM4e8lT+H/JU/h/yNP4Z8AAAAAJVDiYCVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/7G51P/t7e3/7e3t/+3t7f/29vb//////////////////////////////////////9be+f8zWuP/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lUOJgAAAAACNP4Z8lT+H/JU/h/yVM4e8oUN8gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlUOJgJU/h/yVP4f8lT+H/I0/hnwAAAAAlUOJgJU/h/yVP4f8lT+H/JU/h/yVP4f8uVd7/hJzu/9bb7f//////////////////////////////////////8fT9/4Sc7v8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lUOJgAAAAACNP4Z8lT+H/JU/h/yVP4f8lUOJgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACVQ4Y8lUOL/JVDi/yVQ4v8jUOKfAAAAACVQ4mAlUOL/JVDi/yVQ4v8lUOL/W3bR/6200P/x8fH////////////////////////////J0/j/d5Lt/zNb4/8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOJgAAAAACNQ4p8lUOL/JVDi/yVQ4v8lUOGPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAI1DinyVQ4v8lUOL/JVDi/yNQ4p8AAAAAJVDkMCVQ4u8lUOL/JVDi/y5W3/9cfOn/kqjx/5Ko8f+SqPH/d5Lt/1x86f8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4u8lUOQwAAAAACNQ4p8lUOL/JVDi/yVQ4v8jUOKfAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAjUOKfJVDi/yVQ4v8lUOL/JFDgryBQ3xAgUN8QJFDgryVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yRQ4K8gUN8QIFDfECRQ4K8lUOL/JVDi/yVQ4v8jUOKfAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACNQ4p8lUOL/JVDi/yVQ4v8iUOHPJVDkMAAAAAAmUOJQI1Di3yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/I1Di3yZQ4lAAAAAAJVDkMCJQ4c8lUOL/JVDi/yVQ4v8jUOKfAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJlDjgCVQ4/8lUOP/JVDj/yVQ4/8mUuOAIFDfECBQ3xAmUOOAJVDj7yVQ4/8lUOP/JVDj/yVQ4/8lUOP/JVDj/yVQ4/8lUOP/JVDj/yVQ4/8lUOP/JVDj/yVQ4/8lUOP/JVDj/yVQ4/8lUOP/JVDj/yVQ4/8lUOP/JVDj/yVQ4/8lUOPvJlDjgCBQ3xAgUN8QJlLjgCVQ4/8lUOP/JVDj/yVQ4/8mUOOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmUOJQJVHj7yVR4/8lUeP/JVHj/yNR5N8lUOJgAAAAAAAAAAAlUOJgIlHhzyVR4/8lUeP/JVHj/yVR4/8lUeP/JVHj/yVR4/8lUeP/JVHj/yVR4/8lUeP/JVHj/yVR4/8lUeP/JVHj/yVR4/8lUeP/JVHj/yJR4c8lUOJgAAAAAAAAAAAlUOJgI1Hk3yVR4/8lUeP/JVHj/yVR4+8mUOJQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAChQ3yAlUeK/JVHj/yVR4/8lUeP/JVHj/yNR5N8lUORgIFDfEAAAAAAoUN8gJFLkcCRS468jUeTfJVHj/yVR4/8lUeP/JVHj/yVR4/8lUeP/JVHj/yVR4/8lUeP/JVHj/yNR5N8kUuOvJFLkcChQ3yAAAAAAIFDfECVQ5GAjUeTfJVHj/yVR4/8lUeP/JVHj/yVR4r8oUN8gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACVQ5GAjUeTfJVHk/yVR5P8lUeT/JVHk/yVR5O8jUuSfJlDmUAAAAAAAAAAAAAAAACBQ3xAkUONAJFDjQCRS5HAmUuOAJlLjgCRS5HAkUONAJFDjQCBQ3xAAAAAAAAAAAAAAAAAmUOZQI1LknyVR5O8lUeT/JVHk/yVR5P8lUeT/I1Hk3yVQ5GAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIFDfECZS44AlUeTvJVHk/yVR5P8lUeT/JVHk/yVR5P8lUeT/JVHkvyZS44AlUORgJFDjQCBQ3xAAAAAAAAAAAAAAAAAAAAAAIFDfECRQ40AlUORgJlLjgCVR5L8lUeT/JVHk/yVR5P8lUeT/JVHk/yVR5P8lUeTvJlLjgCBQ3xAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACVQ5GAiU+HPJVLk/yVS5P8lUuT/JVLk/yVS5P8lUuT/JVLk/yVS5P8lUuT/JVLk/yVS5P8lUuT/JVLk/yVS5P8lUuT/JVLk/yVS5P8lUuT/JVLk/yVS5P8lUuT/JVLk/yJT4c8lUORgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAChQ5yAkUuZwJVHmvyVS5f8lUuX/JVLl/yVS5f8lUuX/JVLl/yVS5f8lUuX/JVLl/yVS5f8lUuX/JVLl/yVS5f8lUuX/JVLl/yVS5f8lUea/JFLmcChQ5yAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJFTjQCRS5nAlUuSPJVHmvyVR5r8lUea/JVLl/yVS5f8lUea/JVHmvyVR5r8lUuSPJFLmcCRU40AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAACAAAABAAAAAAQAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoSM8gJ0TRcCdE0K8jQ9HfJ0TR/ydE0f8nRNH/J0TR/yND0d8nRNCvJ0TRcChIzyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoRNNAJUXSvydF0v8nRdL/J0XS/11z3f9dc93/eIvj/5Oi6f+Toun/a3/g/zVQ1f8nRdL/J0XS/yVF0r8oRNNAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgQM8QJ0TTrydF0/8nRdP/JUXSvyhF0mDr7vuv/v7+v/7+/r/9/f3P///////////+/v6/ydHzgChF0mAlRdK/J0XT/ydF0/8nRNOvIEDPEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJUXVMCdG0+8nRtP/J0bRzyhE00AAAAAAx8fHQNrx4Z+U2KTf6Pfs//////////////////Dy/N8nRtKPJUXVMAAAAAAoRNNAJ0bRzydG0/8nRtPvJUXVMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAChF1WAnRtT/J0bU/yhG04AAAAAAJkbWUCND1N/IyMj/xerP/0a7ZP9Gu2T/f8iK/3O/ev+Ly5L/iaTX/zNyqv88lof/M3ik3yZG1lAAAAAAKEbTgCdG1P8nRtT/KEXVYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlRdUwJ0fV/ydH1f8oRdVgIEDPECdH068nR9X/QlvP/9ra2v+j3bL/Rrtk/0a7ZP9Fs1r/Rrtk/0a7ZP9Gu2T/Rrtk/0a7ZP8+noD/J0fV/ydH068gQM8QKEXVYCdH1f8nR9X/JUXVMAAAAAAAAAAAAAAAAAAAAAAAAAAAIEDPECdH1e8nR9X/KEjVYCBAzxAnR9XPJ0fV/ydH1f9ccMn/7e3t/6Pdsv9Gu2T/Rrtk/0WuVP9Gu2T/Rrtk/0a7ZP9Gu2T/Rrtk/z6egP8nR9X/J0fV/ydH1c8gQM8QKEjVYCdH1f8nR9XvIEDPEAAAAAAAAAAAAAAAAAAAAAAnR9avJ0fW/yhI1YAgUM8QJ0fWzydH1v8nR9b/J0fW/4CMwf/6+vr/o92y/0a7ZP9dxHf/otuv/67hu/8+noH/Pp6B/0a7ZP9Gu2T/OpCP/ydH1v8nR9b/J0fW/ydH1s8gUM8QKEjVgCdH1v8nR9avAAAAAAAAAAAAAAAAKEjXQCZI1v8mR9bPAAAAACRH1q8mSNb/JkjW/yZI1v8mSNb/o6rE///////o9+z/0e7Y////////////1t33/yZI1v8mSNb/LmW6/zyXiP8yc6z/JkjW/yZI1v8mSNb/JkjW/yRH1q8AAAAAJkfWzyZI1v8oSNdAAAAAAAAAAAAlSNa/JkjX/yhI10AmSdZQJkjX/yZI1/8mSNf/JkjX/yZI1//R0dH///////////////////////////+TpOv/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZI1/8mSNf/JkjX/yZJ1lAoSNdAJkjX/yVI1r8AAAAAKEjXICZJ2P8mR9jPAAAAACNJ2N8mSdj/JknY/yZJ2P8mSdj/SmTP/9/f3////////////////////////////1x34v8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/JknY/yZJ2P8mSdj/I0nY3wAAAAAmR9jPJknY/yhI1yAnSdhwJknY/yVI12AlStowJknY/yZJ2P8mSdj/JknY/yZJ2P9leMn/7e3t////////////////////////////XHfi/x104/8Un+//DcH4/wnS/P8J0vz/CdL8/xCw8/8bfOb/JknY/yZJ2P8mSdj/JUraMCVI12AmSdj/J0nYcCRK2a8mStn/KEjXICVJ2o8mStn/JkrZ/yZK2f8mStn/JkrZ/4iTwP///////////////////////////9H3/v8Y1fz/CdL8/w659f8Yjuv/GI7r/xiO6/8QsPP/C8r6/wnS/P8Zhej/JkrZ/yZK2f8lSdqPKEjXICZK2f8kStmvI0ra3yNK2d8AAAAAJUnavyZK2v8mStr/Jkra/yZK2v8mStr/sbbH////////////////////////////KNj8/wnS/P8Lyvr/Jkra/yZK2v8mStr/Jkra/yZK2v8mStr/Ilve/yZK2v8mStr/Jkra/yVJ2r8AAAAAI0rZ3yNK2t8mStr/JUnavwAAAAAmR9jvJkra/yZK2v8mStr/Jkra/y9R2P/R0dH///////////////////////////8o2Pz/CdL8/wnS/P8QsPT/ELD0/xCw9P8Un+//HXXl/yZK2v8mStr/Jkra/yZK2v8mStr/JkfY7wAAAAAlSdq/Jkra/yZL2/8lSdq/AAAAACZL2/8mS9v/Jkvb/yZL2/8mS9v/SmbS/+Pj4////////////////////////////+D5//9H3f3/CdL8/wnS/P8J0vz/CdL8/wnS/P8J0vz/C8r6/xaX7v8iXN//Jkvb/yZL2/8mS9v/AAAAACVJ2r8mS9v/Jkvc/yVJ3L8AAAAAJkvc/yZL3P8mS9z/Jkvc/yZL3P9ugMj/8fHx///////////////////////////////////////R9/7/wvT+/6Pu/v9n2vv/Drn2/wnS/P8J0vz/CdL8/wnS/P8Yj+z/Jkvc/yZL3P8AAAAAJUncvyZL3P8mTNz/JUzcvwAAAAAmSdnvJkzc/yZM3P8mTNz/Jkzc/4iUwf///////////6p7Yf+VWjn/8enl///////////////////////x6eX/8enl/8nS9v8mTNz/JFTe/xt+6P8SqPL/ELH0/x125v8mTNz/JknZ7wAAAAAlTNy/Jkzc/yNL3N8mSdrvAAAAACVM3r8mTN3/Jkzd/yZM3f8mTN3/n6nN////////////lVo5/7+ciP/q3tf//////////////////////45PLP+4kXv/ydL2/yZM3f8mTN3/Jkzd/yZM3f8mTN3/Jkzd/yZM3f8lTN6/AAAAACNL3N8jS9zfJE3dryZN3f8oUN8gJU3djyZN3f8mTd3/Jk3d/yZN3f+krdL////////////x6eX/6t7X////////////////////////////sYZu/+PTyv+gsfD/Jk3d/yZN3f8mTd3/Jk3d/yZN3f8mTd3/Jk3d/yVN3Y8oUN8gJk3d/yRN3a8nTd9wJk3e/ydN33AlSt8wJk3e/yZN3v8mTd7/Jk3e/6Su0v//////0qea/////////////////////////////////////////////////09u5P8mTd7/Jk3e/yZN3v8mTd7/Jk3e/yZN3v8mTd7/JUrfMCdN33AmTd7/J03fcChQ3yAmTt//Jk7dzwAAAAAlTd6/Jk7f/yZO3/8mTt//hJbV///////n0cr/0qmg/+fSzv//////////////////////2ret/7yAcv+xpcX/Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//Jk7f/yVN3r8AAAAAJk7dzyZO3/8oUN8gAAAAACRP3a8mTt//KFDfQChQ30AmTt//Jk7f/yZO3/84W9r/6Ov0/////////////////////////////////////////////////1x65/8mTt//Jk7f/yZO3/8mTt//Jk7f/yZO3/8mTt//KFDfQChQ30AmTt//JE/drwAAAAAAAAAAKFDfQCZO4P8mTuDPAAAAACZP4Z8mTuD/Jk7g/yZO4P9Ob+b/5On7//////////////////////////////////////93kez/Jk7g/yZO4P8mTuD/Jk7g/yZO4P8mTuD/Jk7g/yZP4Z8AAAAAJk7gzyZO4P8oUN9AAAAAAAAAAAAAAAAAI0/hnyVP4f8lTuGPIFDfECJO4M8lT+H/JU/h/0lp1v9Jadb/m6vh//Hx8f////////////////+gsvL/TnDm/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8iTuDPIFDfECVO4Y8lT+H/I0/hnwAAAAAAAAAAAAAAAAAAAAAgUN8QJUzh7yVP4f8lUOJgIFDfECJO4c8lT+H/pLTr///////////////////////x9P3/aYbq/yVP4f8lT+H/JU/h/yVP4f8lT+H/JU/h/yVP4f8lT+H/Ik7hzyBQ3xAlUOJgJU/h/yVM4e8gUN8QAAAAAAAAAAAAAAAAAAAAAAAAAAAlUN8wJVDi7yVQ4v8lUOJgIFDfECNQ4p+Jm9v/ydP4/8nT+P+tvfT/d5Lt/zNb5P8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yNQ4p8gUN8QJVDiYCVQ4v8lUOLvJVDfMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlUOQwJVDi7yVQ4v8lUOKPAAAAACRQ40AlUOK/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4v8lUOL/JVDi/yVQ4r8kUONAAAAAACVQ4o8lUOL/JVDi7yVQ5DAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlUOQwI1Hk3yVR4/8jUeTfJFDjQAAAAAAlUOQwJlLjgCVR4r8jUeTfJVHj/yVR4/8jUeTfJVHivyZS44AlUOQwAAAAACRQ40AjUeTfJVHj/yNR5N8lUOQwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgUN8QI1LknyVR5P8lUeT/I1Hk3yRS5HAoUOcgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKFDnICRS5HAjUeTfJVHk/yVR5P8jUuSfIFDfEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJFDjQCNS5J8lUuT/JVLk/yVS5P8lUuTvJVHkvyVR5L8lUeS/JVHkvyVS5O8lUuT/JVLk/yVS5P8kUuOvJFDjQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACBQ3xAlUuRgI1LlnyJT5c8lUuX/JVLl/yVS5f8lUuX/IlPlzyNS5Z8lUuRgIFDfEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAGAAAADAAAAABACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACVE0XslQNL8I0HS/yE/0v8gP9L/ID/R/yFA0f8jQtL/JT/P/SVE0XsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAmRtRqJkTT/yRC0/8ePtSwFjbXOQAAAAAAAAAAAAAAAAAAAAAaN9U8Ij/UsiZD1P8nRNP/JkbUagAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACRG1MsnRtT/J0XTngAAAAAAAAAAxMvRztPyyf////////////////95gvB0AAAAAAAAAAAnRdWeJ0bU/yRG1MsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJ0bV5CdG1f8qR9UrAAAAABw+1Zk8UND/4PzL/yy9RP9SwF3/S7pO/53anP8wjIT/OZx8/yM83JoAAAAAKkfVKydG1f8nRtXkAAAAAAAAAAAAAAAAAAAAAAAAAAAlR9WxJ0fV/yBAzxArVdUGI0TV/xk61/9ib8f/z/vI/ya1Rf8qqz7/MrtM/z65UP9FzUv/Q7pj/yM74P8mRNj/K1XVBiBAzxAnR9X/JUfVsQAAAAAAAAAAAAAAACdJ2DsmSNb/JkjWSgAAAAAlR9b/IETW/xE31/+gosj/2PvT/2nMfv/h+d//wOq//yJesf9AtWT/QrBs/yM+3/8lRdj/JkjW/wAAAAAmSNZKJkjW/ydJ2DsAAAAAAAAAACZF1P0jSNXYAAAAACNE1PIlR9f/HkLX/wsy1v/W09H/////////////////qa33/xEr3/8gON//KU7N/yVA2/8mRdj/JkfX/yNE1PIAAAAAI0jV2CZF1P0AAAAAKErXJiZJ2P8oQ9cTJkrZZCZJ2P8kSNj/HEHY/w830//5893/////////////////T2Tg/xYx1v8jOdj/JzvY/yc+1/8nQtf/JkbX/yZI2P8mStlkKEPXEyZJ2P8oStcmJUnakCZJ2f8AAAAAJknW/iZI2f8jRtn/GD7Z/zNPyf////H/////////////////LD3W/xVQ2/8Ujez/EKny/xWY7v8hXN7/J0LX/yZG2P8mSNb+AAAAACZJ2f8lSdqQJkvZ2yZL2ZMAgP8CJkrZ/yVJ2f8iR9n/FDzY/1twv//////////////////z////AMH5/wC79/8Xf+f/GYTo/xOj7/8J0Pv/IGfh/ydG2P8mSdj/AID/AiZL2ZMmS9nbJkva/ydL204oS9tHJkva/yVK2v8gRtr/DznZ/6CoxP////////////////9q6P7/ANT+/wd75/8WZuD/H1jd/ysw0/8qNtT/KD/X/ydG2P8mStn/KEvbRydL204mS9r/Jkvb/ylL3CwnS9tpJkvb/yVK2/8eRdv/CjXa/9jWz///////////////////////O+D//wDV//8A3///AOr//wLe//8Tnu//I1Hd/ydD2f8mSNr/J0nbaSlL3CwmS9v/Jkzc/yRN2zInS91iJkzc/yRL3P8cRNz/FD3X//354///////28W3////////////////////////////MYLs/wqg8f8D4v//APf//yNa3/8mSdv/J0vdYiRN2zImTNz/Jkzd/yZM3F4kTd84Jkzd/yRK3f8bQ93/MVLP////9//jzLr/fDEI///+/v///////////3wxCP/wv5j/PVXj/x842v8nPdn/KEHa/ydG2/8mStz/JEnfOCZM3F4mTN3/Jk3eySZL3rAAAAAAJk3e/yRL3v8bRN7/NVbO//////////////78//////////////////Thz///+N3/DTfe/x5D3f8lSN3/Jkrd/yZL3f8mTN7/AAAAACZL3rAmTd7JJkzdciZN3v8AAAAAJk3c1iRL3v8cRd3/Fz/X////9f//7+L////////////////////////+6f+svfP/EDzd/yBI3f8lS93/Jkzd/yZM3v8mTdzWAAAAACZN3v8mTN1yAFX/AyZO3/8nTt9IKUvcLCVN3/8gSd//Djve/8HH3P////////////////////////////////8fSeD/GUTe/yNM3v8mTt//Jk7f/yZO3/8pS9wsJ07fSCZO3/8AVf8DAAAAACZM38UlT+D/AAAAACNP3rQhTOD/FELf/wY22v+Bldj/6ert////////////w83x/y5X4f8TQd7/H0vf/yRO4P8lT+D/JU/g/yNP3rQAAAAAJU/g/yZM38UAAAAAAAAAACRJ2wclT+H/Jk7howAAAAAhTd7dGEXh/5Kg0v////n//////////P9Wduj/Bzfd/xZC3/8fSuD/I03h/yRO4f8lT+H/IU7e3QAAAAAmTuGjJU/h/yRJ2wcAAAAAAAAAAAAAAAAkUONcJVDi/yRP4nEAAAAAHkvhtT1h3f9gfuf/Mlrk/wg53v8SQd//G0jh/yFN4f8jT+L/JFDi/yVQ4v8lUOG1AAAAACRP4nElUOL/JFDjXAAAAAAAAAAAAAAAAAAAAAAAAAAAI1DkgyVQ4/8kT+SeAAAAABxK4y0aR+PXGkfi/x1J4v8gTOL/I07j/yRP4/8lT+P/JE/j1ydO4y4AAAAAJVDjnSVQ4/8jUOSDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACVQ4mAlUeP/JFDj/yRQ40AAAAAAAAAAACJO4jQjT+JXJlLiVydT4jQAAAAAAAAAACRQ40AlUeP/JVHj/yVQ4mAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAnTusNJVHk0SVR5P8lUOT/JlHkqiRQ41wlT+M3JU/jNyRQ41wmUeSqJVHk/yVR5P8lUeTRJ07rDQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACRJ2wclUuR9JVDlziVS5f8lUuX/JVLl/yVS5f8lUOXOJVLkfSRJ2wcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAAAABAAAAAgAAAAAQAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANdUYAC7OqAAm0PcAI9L/ACPS/wAn0PcALtGoADXVGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAM8zeAjXS/6Cv8///////////////////////o7D7/wQ11/8AM9LeAAAAAAAAAAAAAAAAAAAAAAAAAAAAMs7zUnbg///////Iyv7/j/i3/yG0C/9e0Tz/id2P/8Dil///////WHrl/wAyzvMAAAAAAAAAAAAAAAAAMNPdaYjl//P1/f9RceT/cYbv/1jlmf9FvS7/S8I5/yfAQf8cgwD/W3Xy//Xz//9piOb/ADDT3QAAAAAHOtdGEUPX//////9Ga+D/ABnQ/7G99v///////////8K7//8AIdf/DD2m/wAj3P9Oa+P//////xJD1/8HOtdGADbVpK6/8v+kuPD/ACfS/wAd0f/v8P7///////////9/g+3/AEHi/wGE8P8Ba+f/ADDW/6e07/+uvfL/ADPVpAAy1v//////Ml7f/wAt1f8AMNf////////////8////AND+/wCm9f8FiOz/ALj3/wCd8P82Vtz//////wAx1f8AMdj//////wM62f8ALtf/OGTi////////////3v///wDQ//8Atfn/ALX3/wGW7/8GOtn/BCzX//////8AMNf/ADLZ//////8AMNn/ACzZ/5Cq8/////v/3MGx////////////0f///0XG/P8Azv3/APz//wB86P//////ADDY/wA12v//////L17i/wAp2v+Mqvf//+/U/41JIP/Yvq///////69kNP+wqM7/ASna/wIq2P83WeD//////wA02v8CO9rTrr/0/6a69P8AJdr/iaj2//+8lv/m1Mb//fv5////7v/1vp//jqfy/wAz3f8AL9r/q7v0/6+/9P8CO9rTC0HdQxBI4P//////Qm3n/wA54P//////////////////////0d///wAt4P8AMt7/Unjp//////8RSOD/C0HdQwAAAAADOuDzZors//f4//9pje3/5uz9////////////Qm/p/wAl3f8ALd7/a47t//////9oi+z/Azrg8wAAAAAAAAAAAAAAAAE94P9Kden//////9zk/P9zku7/ACrd/wAj3P84Z+f/scP2//////9Peer/Aj3g/wAAAAAAAAAAAAAAAAAAAAAAAAAABDzg8wVA4f+bs/P/+/3+/////////////////6a89P8LReL/BUHg8wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALReVGA0DjpAA64/8AOOL/ADnj/wA85P8FQeOkD0XlRgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
SuggestUrl:"https://ac.duckduckgo.com/ac/?q=%s&type=list"},{Id:2,Name:"Wikipedia",Keyword:"w",Url:"https://en.wikipedia.org/wiki/Special:Search?search=%s",FaviconUrl:"data:image/png;base64,AAABAAMAMDAQAAEABABoBgAANgAAACAgEAABAAQA6AIAAJ4GAAAQEBAAAQAEACgBAACGCQAAKAAAADAAAABgAAAAAQAEAAAAAAAABgAAAAAAAAAAAAAQAAAAAAAAAAEBAQAXFxcAMDAwAEdHRwBYWFgAZ2dnAHZ2dgCHh4cAlZWVAKmpqQC3t7cAx8fHANfX1wDo6OgA/v7+AAAAAAD////+7u7u7u7u7u7u7u7u7u7u7u///////+7u7u7u7u7u7u7u7u7u7u7u7u7u/////u7u7u7u7u7u7u7u7u7u7u7u7u7u7///7u7u7u7u7u7u7u7u7u7u7u7u7u7u7v/+7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u/+7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u/+7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u/u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7sa+7u7u7u1b7u7u7u7u7u7u7u7u7u7u7p9u7u7u7ugG7u7u7u7u7u7u7u7u7u7u7TAa7u7u7tQBzu7u7u7u7u7u7u7u7u7u6wAF7u7u7pAAju7u7u7u7u7u7u7u7u7u1AAAru7u7U//Le7u7u7u7u7u7u7u7u7uz/8RPe7u6gAB+e7u7u7u7u7u7u7u7u7ubw94Ce7u1QAIIu7u7u7u7u7u7u7u7u7tH/G+Mt7usAAtcL7u7u7u7u7u7u7u7u7n8ATun47uQACO0T7u7u7u7u7u7u7u7u7hDxnu4x3sAPLO5Qzu7u7u7u7u7u7u7u6P/z7u6wXk/wfu7ATu7u7u7u7u7u7u7u4QAY7u7kCQADzu7kDO7u7u7u7u7u7u7uoA8u7u7sAAAG7u7r9e7u7u7u7u7u7u7uIPB+7u7uUAAs7u7uMd7u7u7u7u7u7u7rEAHe7u7uQABu7u7un37u7u7u7u7u7u7kAAXu7u7sAPHe7u7u4S3u7u7u7u7u7u7BAA3u7u7k8AHO7u7u6Aju7u7u7u7u7u5g/07u7u7B8BBe7u7u7RLu7u7u7u7u7u0v/87u7u5QAGQa7u7u7nCe7u7u7u7u7ugAA+7u7uwQ8dsE7u7u7rBO7u7u7u7u7tP/++7u7uYAB+5Qnu7u7tQa7u7u7u7u7pH/Lu7u7sLwHe6xPe7u7ur27u7u7u7u7V//ru7u7mAAju7n+e7u7u0yvu7u7u7u6h8C3u7u6yAB3u7rEs7u7u6Pfu7u7u7u1AAE7u7u5g/27u7tQG3u7u6QHO7u7u7tbwAB3u7ukfAH7u7sIAju7u5wA97u7utiAAAAF76lAA/wWeyDAA84zqUAABfO7uMiNERDIm4iNERDIrkiNEQybiI0RDJO7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7+7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u/+7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u/+7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u//7u7u7u7u7u7u7u7u7u7u7u7u7u7u7v///u7u7u7u7u7u7u7u7u7u7u7u7u7u7////+7u7u7u7u7u7u7u7u7u7u7u7u7u///////+7u7u7u7u7u7u7u7u7u7u7u/////+AAAAAH8AAPAAAAAADwAA4AAAAAAHAADAAAAAAAMAAIAAAAAAAQAAgAAAAAABAACAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAABAACAAAAAAAEAAIAAAAAAAQAAwAAAAAADAADgAAAAAAcAAPAAAAAADwAA/gAAAAB/AAAoAAAAIAAAAEAAAAABAAQAAAAAAIACAAAAAAAAAAAAABAAAAAAAAAAAQEBABYWFgAnJycANTU1AEdHRwBZWVkAZWVlAHh4eACIiIgAmZmZAK6urgDMzMwA19fXAOnp6QD+/v4AAAAAAP//7u7u7u7u7u7u7u7u////7u7u7u7u7u7u7u7u7u7//u7u7u7u7u7u7u7u7u7u7/7u7u7u7u7u7u7u7u7u7u/u7u7u7u7u7u7u7u7u7u7u7u7u7u7X3u7u7I7u7u7u7u7u7u7uYF7u7uIK7u7u7u7u7u7u7QAM7u6vBO7u7u7u7u7u7ucABe7uMA/O7u7u7u7u7u7R8q/O6gCEbu7u7u7u7u7ukAnibuTx6g3u7u7u7u7u7hAe6gzP+O4Y7u7u7u7u7urwju4mXx7uge7u7u7u7u7jAd7uoACO7tCe7u7u7u7uoPfu7uEB3u7mPu7u7u7u7k8N7u7QBu7u6wru7u7u7uwAXu7ufwbu7u407u7u7u7lAM7u7RBQzu7ur87u7u7u0ATu7ucA0l7u7uFu7u7u7n/67u7RB+oL7u7nHe7u7u0fPu7ucA3uJO7u7Qju7u7o/67u7Q9u7q+u7u5R3u7u0Q/e7ub/vu7PLO7uX13u4w//Be4v/xnoH/+ekv//Xu7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7u7+7u7u7u7u7u7u7u7u7u7v/u7u7u7u7u7u7u7u7u7u7//u7u7u7u7u7u7u7u7u7v///+7u7u7u7u7u7u7u7v//8AAAD8AAAAOAAAABgAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAGAAAABwAAAA/AAAA8oAAAAEAAAACAAAAABAAQAAAAAAMAAAAAAAAAAAAAAABAAAAAAAAAAAQEBABcXFwAnJycAOzs7AElJSQBpaWkAeXl5AIaGhgCVlZUApqamALOzswDMzMwA2dnZAObm5gD+/v4AAAAAAP/u7u7u7u7//u7u7u7u7u/u7uzu7t7u7u7u4Y7lTu7u7u6QTtA77u7u7iaoctXu7u7qDOQZ5d7u7uRO5R7rbu7uv77iLu5O7u5D7pGn7pju7QrtKOTe4+6z+OT40z2RTO7u7u7u7u7u7u7u7u7u7u7+7u7u7u7u7//u7u7u7u7/wAMAD4ABAA8AAAAPAAAADwAAAA8AAAAPAAAADwAAAA8AAAAPAAAADwAAAA8AAAAPAAAADwAAAA+AAQAPwAMADw==",SuggestUrl:"https://en.wikipedia.org/w/api.php?action=opensearch&search=%s"},{Id:0,Name:"Google",Keyword:"g",Url:"https://www.google.com/search?q=%s",FaviconUrl:"data:image/png;base64,AAABAAIAEBAAAAEAIABoBAAAJgAAACAgAAABACAAqBAAAI4EAAAoAAAAEAAAACAAAAABACAAAAAAAAAEAAASCwAAEgsAAAAAAAAAAAAA9IVCSvSFQuf0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hULk9IVCSvSFQub0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQuf0hUL/9IVC//SFQv/0hUL/9Y1O//rIq//+7+f//eXX//vUvf/7z7X/96Fu//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//vYwv/97OH/9ZRZ//SFQv/0hUL/9IhG//zbx//3om7/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/97uX/+buW//SFQv/0hUL/9IVC//SFQv/5upT/+9O6//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/+b6b//zezP/0iEf/9IVC//SFQv/1klf//ezh//vPtP/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/3qXr/+siq//m8lv/5wqD//vTu//3t4//1klb/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0h0b//vbx//zi0//1j1H/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/2nmn/+bmS/////v/4sIX/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/5uJH///v5//eoef/1jU//+82y//afav/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL//vXw//vOs//0hUL/9IVC//ekcf/96+D/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//728v/4sIX/9IVC//SFQv/4s4n///v4//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/6yKn/+byX//SFQv/0hkT//eTV//vWv//0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IZE//m6lP/5u5b//OHQ///+/f/6y6//96d3//SFQv/0hUL/9IVC//SFQv/0hULm9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hULm9IVCSfSFQub0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hULm9IVCSQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAIAAAAEAAAAABACAAAAAAAAAQAAASCwAAEgsAAAAAAAAAAAAA9IVCAPSFQif0hUKt9IVC8vSFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQvL0hUKt9IVCJ/SFQgD0hUIo9IVC7/SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hULv9IVCKPSFQq30hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUKt9IVC8fSFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQvP0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9YtL//i2jv/828f//vLr///7+P///Pv//vTu//3n2v/6zbH/96Nw//SFQ//0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//ekcv/+8+z////////////+9fD/+9K5//m9mf/4to7/+buV//vSuf/++PT//OPT//aYYP/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/2l13///r3/////////fv/+b2Z//SIRv/0hUL/9IVC//SFQv/0hUL/9IVC//WNT//84M///vXv//aZYf/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//vPtP////////////i0i//0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//WQUv///Pr//OPU//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL//eTV///////+9O7/9IVD//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//3m2P//////9ppi//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/718H///////3s4f/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL//vDn///////4soj/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//erff////////38//WTWP/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//iziv////////////iwhf/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//rMsP///////eXW//WSVv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/4sYb///z7/////////Pv/9ZFV//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//ixhv/+8Of//vn1//rMsP/4rH//9plh//WQUv/1j1L/+s2x//////////////////m9mf/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SGQ//2nmn/+buW//vNsv/82sb//e3j/////////////////////v/5wZ//9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/83Mj////////////++fb/+K+C//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9ZRZ/////////////vTt//aaYv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/1lFr////////////6xqf/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//ehbf/70bj//end//3o2////v3///////3l1//0iEb/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/5wqD////////////96t7/96Z2//WOUP/2nWf//NvH//zcyP/1i0z/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/96l6/////////////vLr//WPUf/0hUL/9IVC//SFQv/0h0b//end//3k1f/0iUn/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/8387////////////4sYf/9IVC//SFQv/0hUL/9IVC//SFQv/6w6L///////nBn//0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC///69////////vj1//SIR//0hUL/9IVC//SFQv/0hUL/9IVC//m+mv///////e3j//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL///r3///////8387/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/+syw///////++fb/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/95NX///////vUvP/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/97OH///////7y6//0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//i2jv///////N/O//SFQv/0hUL/9IVC//SFQv/0hUL/96Nx////////////+s2x//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IdF//zh0P//+/j/9ZJW//SFQv/0hUL/9IVC//SKSv/96t7///////738v/1k1f/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9YxN//vUvf/96+D/96Z0//WNT//3om///ebY/////////Pv/+LKI//WVW//0h0X/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//agbP/7zbL//enc//749P////////////////////////////3r4P/3p3f/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hULx9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC8/SFQq30hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUKt9IVCJ/SFQu/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC7/SFQif0hUIA9IVCJfSFQq30hULx9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC//SFQv/0hUL/9IVC8fSFQq30hUIl9IVCAIAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAB"}]}},function(e,t,n){"use strict";var i=n(8),r=n(18),o=r.omit;e.exports=function(e,t){return new Promise(function(n,r){if(void 0!==t.DEFAULT_HOME){var a={preferenceKey:"vivaldi.home_page",preferenceValue:{string:t.DEFAULT_HOME},preferenceType:"string"};i.settings.setPreference(a),e.remove(["DEFAULT_HOME"],n.bind(void 0,o(t,"DEFAULT_HOME")))}else n(t)})}},function(e,t){"use strict";e.exports=function(e,t){return new Promise(function(n,i){var r={};"keep_relations"===t.TAB_CLOSE_ACTIVATION?(r.TAB_CLOSE_ACTIVATION="activation_order",r.TAB_ACTIVATION_PREFER_RELATED=!0):"activation_order"===t.TAB_CLOSE_ACTIVATION&&void 0===t.TAB_ACTIVATION_PREFER_RELATED&&(r.TAB_ACTIVATION_PREFER_RELATED=!1),Object.keys(r)?e.set(r,n.bind(void 0,Object.assign({},t,r))):n(t)})}},function(e,t,n){"use strict";var i=n(18),r=i.keyBy;e.exports=function(e,t){return new Promise(function(n,i){var o={};t.SEARCH_ENGINES&&Array.isArray(t.SEARCH_ENGINES)&&t.SEARCH_ENGINES.length>0?!function(){var i=r(e.getDefault("SEARCH_ENGINES"),"Id"),a=!1,s=t.SEARCH_ENGINES.map(function(e){var t=e.Id;return e.url===i.url&&null==e.SuggestUrl&&i[t]&&i[t].SuggestUrl?(a=!0,Object.assign({},e,{SuggestUrl:i[t].SuggestUrl})):e});a===!0?(console.log("Migrating Search Engines from",t.SEARCH_ENGINES,"to",s),o.SEARCH_ENGINES=s,e.set(o,n.bind(void 0,Object.assign({},t,o)))):n(t)}():n(t)})}},function(e,t){"use strict";function n(e,t){var n=this;return new Promise(function(i,r){var o={"https://www.vivaldi.rocks/Results.aspx?gd=SY1000190&ctid=&ISID=1D83D349-F886-40D4-B0E0-D0186D90911A&SearchSource=58&UM=8&D=090215&q=%s":"https://www.bing.com/search?pc=cosp&ptag=A9AF7AAEA7E&form=CONBDF&conlogo=CT3210127&q=%s","https://www.vivaldi.rocks/Results.aspx?gd=SY1000191&ctid=&ISID=6607C819-705B-493E-B85F-75D5FF8ECA5D&SearchSource=58&UM=8&D=091115&q=%s":"https://search.yahoo.com/search;?q=%s"},a=!1,s={};t.SEARCH_ENGINES&&(s={SEARCH_ENGINES:t.SEARCH_ENGINES.map(function(e){return o[e.Url]?(a=!0,Object.assign({},e,{Url:o[e.Url]})):e})}),a&&Object.keys(s)?e.set(s,i.bind(n,Object.assign({},t,s))):i(t)})}e.exports=n},function(e,t){"use strict";function n(e,t){var n=this;return new Promise(function(i,r){var o={"https://www.bing.com/search?pc=cosp&ptag=A9AF7AAEA7E&form=CONBDF&conlogo=CT3210127&q=%s":"https://www.bing.com/search?pc=cosp&ptag=AD6C08C471A&form=CONBDF&conlogo=CT3210127&q=%s"},a=!1,s={};t.SEARCH_ENGINES&&(s={SEARCH_ENGINES:t.SEARCH_ENGINES.map(function(e){return o[e.Url]?(a=!0,Object.assign({},e,{Url:o[e.Url]})):e})}),a&&Object.keys(s)?e.set(s,i.bind(n,Object.assign({},t,s))):i(t)})}e.exports=n},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=t[o]||0;return Object.keys(a).filter(function(e){return e>n}).sort(function(e,t){return e-t}).reduce(function(t,n){return t.then(a[n].bind(null,e))},Promise.resolve(t)).then(function(t){return e.set(i({},o,Object.keys(a).length)),t})}var o="SETTINGS_MIGRATION_VERSION",a={1:n(446),2:n(447),3:n(448),4:n(449),5:n(450)};e.exports=r},function(e,t){"use strict";e.exports={COMMAND_ADD_BOOKMARK:{shortcut:["meta+d"],showInQC:!0},COMMAND_CLIPBOARD_PASTE_AS_PLAIN_TEXT_OR_PASTE_AND_GO:{shortcut:["shift+meta+v"],showInQC:!0},COMMAND_CLOSE_TAB:{shortcut:["meta+w"],gestures:["20"],showInQC:!0},COMMAND_MOVE_TAB_TO_NEW_WINDOW:{shortcut:["shift+meta+d"],showInQC:!0},COMMAND_DEVELOPER_TOOLS:{shortcut:["shift+meta+i","f12"],showInQC:!0},COMMAND_EXIT:{shortcut:["meta+q"],showInQC:!0},COMMAND_FIND_IN_PAGE:{shortcut:["meta+f","."],showInQC:!0},COMMAND_FIND_NEXT_IN_PAGE:{shortcut:["f3","meta+g"],showInQC:!0},COMMAND_FIND_PREVIOUS_IN_PAGE:{shortcut:["shift+f3","shift+meta+g"],showInQC:!0},COMMAND_FOCUS_ADDRESSFIELD:{shortcut:["meta+l","f8"],showInQC:!0},COMMAND_FOCUS_SEARCHFIELD:{shortcut:["meta+k"],showInQC:!0},COMMAND_FULLSCREEN:{shortcut:["ctrl+meta+f","f11"],showInQC:!1},COMMAND_MAIL_MARK_SELECTED_UNREAD:{shortcut:["shift+k"],showInQC:!1},COMMAND_MAIN_ZOOM_IN:{shortcut:["meta+=","meta++","0","+"],showInQC:!0},COMMAND_MAIN_ZOOM_OUT:{shortcut:["meta+-","9","-"],showInQC:!0},COMMAND_MAIN_ZOOM_RESET:{shortcut:["meta+0","6","*"],showInQC:!0},COMMAND_MAIN_TOGGLE_UI:{shortcut:["meta+f11"],showInQC:!0},COMMAND_SHOW_KEYBOARDSHORTCUTS:{shortcut:["meta+f1"],showInQC:!0},COMMAND_NEW_TAB:{shortcut:["meta+t"],gestures:["2"],showInQC:!0},COMMAND_NEW_WINDOW:{shortcut:["meta+n"],showInQC:!0},COMMAND_NEW_PRIVATE_WINDOW:{shortcut:["shift+meta+n"],showInQC:!0},COMMAND_CLOSE_WINDOW:{shortcut:["shift+meta+w"],showInQC:!0},COMMAND_OPEN_PAGE:{shortcut:["meta+o"],showInQC:!0},COMMAND_STOP_PAGE:{shortcut:["esc","meta+."],gestures:["6"],showInQC:!0},COMMAND_PAGE_BACK:{shortcut:["backspace","meta+left","z"],gestures:["4"],showInQC:!0},COMMAND_PAGE_FORWARD:{shortcut:["meta+right","x"],gestures:["0"],showInQC:!0},COMMAND_PAGE_REFRESH:{shortcut:["meta+r","f5"],gestures:["62"],showInQC:!0},COMMAND_PAGE_RELOAD_NOCACHE:{shortcut:["shift+meta+r","meta+f5"],showInQC:!0},COMMAND_PRINT_PAGE:{shortcut:["meta+p"],showInQC:!0},COMMAND_SAVE_PAGE:{shortcut:["meta+s"],showInQC:!0},COMMAND_SHOW_BOOKMARK_BAR:{shortcut:["shift+meta+b"],showInQC:!0},COMMAND_SHOW_BOOKMARK_PANEL:{shortcut:["alt+meta+b"],showInQC:!0},COMMAND_SHOW_CONTACTS_PANEL:{shortcut:["alt+meta+c"],showInQC:!0},COMMAND_SHOW_DOWNLOADS_PANEL:{shortcut:["alt+meta+l"],showInQC:!0},COMMAND_SHOW_MAIL_PANEL:{shortcut:["alt+meta+m"],showInQC:!0},COMMAND_SHOW_NOTES_PANEL:{shortcut:["alt+meta+n"],showInQC:!0},COMMAND_SHOW_EXTENSIONS:{shortcut:["ctrl+meta+e"],showInQC:!0},COMMAND_SHOW_HELP:{shortcut:["shift+meta+?"],showInQC:!0},COMMAND_SHOW_HISTORY:{shortcut:["meta+y"],showInQC:!0},COMMAND_SHOW_BOOKMARKS:{shortcut:["ctrl+meta+b"],showInQC:!0},COMMAND_SHOW_CLEAR_PRIVATE_DATA:{shortcut:["shift+meta+del"],showInQC:!0},COMMAND_SHOW_QUICK_COMMANDS:{shortcut:["meta+e","f2"],showInQC:!1},COMMAND_SHOW_SETTINGS:{shortcut:["meta+,"],showInQC:!0},COMMAND_SHOW_HOMEPAGE:{shortcut:["shift+meta+h"],showInQC:!0},COMMAND_TAB_REOPEN_RECENTLY_CLOSED:{shortcut:["meta+z","shift+meta+t"],gestures:["60"],showInQC:!0},COMMAND_TAB_STACK_TILE_GRID:{shortcut:["meta+f7"],showInQC:!0},COMMAND_TAB_STACK_TILE_HORIZONTAL:{shortcut:["meta+f8"],showInQC:!0},COMMAND_TAB_STACK_TILE_VERTICAL:{shortcut:["meta+f9"],showInQC:!0},COMMAND_TAB_STACK_UNTILE:{shortcut:["meta+f6"],showInQC:!0},COMMAND_TAB_SWITCH_BACK_HISTORY:{shortcut:["3"],showInQC:!0},COMMAND_TAB_SWITCH_BACK_ORDER:{shortcut:["shift+meta+}","2"],showInQC:!0},COMMAND_TAB_SWITCH_BACK_SETTING:{shortcut:["ctrl+tab","shift+meta+right"],showInQC:!1},COMMAND_TAB_SWITCH_FORWARD_HISTORY:{shortcut:["4"],showInQC:!0},COMMAND_TAB_SWITCH_FORWARD_ORDER:{shortcut:["shift+meta+{","1"],showInQC:!0},COMMAND_TAB_SWITCH_FORWARD_SETTING:{shortcut:["ctrl+shift+tab","shift+meta+left"],showInQC:!1},COMMAND_TAB_SWITCH_1:{shortcut:["meta+1"],showInQC:!1},COMMAND_TAB_SWITCH_2:{shortcut:["meta+2"],showInQC:!1},COMMAND_TAB_SWITCH_3:{shortcut:["meta+3"],showInQC:!1},COMMAND_TAB_SWITCH_4:{shortcut:["meta+4"],showInQC:!1},COMMAND_TAB_SWITCH_5:{shortcut:["meta+5"],showInQC:!1},COMMAND_TAB_SWITCH_6:{shortcut:["meta+6"],showInQC:!1},COMMAND_TAB_SWITCH_7:{shortcut:["meta+7"],showInQC:!1},COMMAND_TAB_SWITCH_8:{shortcut:["meta+8"],showInQC:!1},COMMAND_TAB_SWITCH_LAST:{shortcut:["meta+9"],showInQC:!1},COMMAND_TAB_VIEW_PAGE_SOURCE:{shortcut:["meta+u"],showInQC:!0},COMMAND_TASK_MANAGER:{showInQC:!0},COMMAND_TOGGLE_FOOTER:{shortcut:["meta+/"],showInQC:!0},COMMAND_TOGGLE_MENU_POSITION:{showInQC:!1},COMMAND_TOGGLE_PANEL:{shortcut:["alt+meta+p","f4"],showInQC:!0},COMMAND_SHOW_NEXT_PANEL:{shortcut:["alt+meta+down"],showInQC:!0},COMMAND_SHOW_PREVIOUS_PANEL:{shortcut:["alt+meta+up"],showInQC:!0},TAB_NEVER_CLOSE_LAST:!1}},function(e,t){"use strict";e.exports={COMMAND_CLOSE_WINDOW:{shortcut:["ctrl+shift+w"],showInQC:!0},COMMAND_EXIT:{shortcut:["ctrl+q"],showInQC:!0}}},function(e,t){"use strict";e.exports={COMMAND_EXIT:{showInQC:!0}}},function(e,t,n){"use strict";var i=n(4),r=n(3),o=n(40),a="en-US",s="/default-bookmarks/",l=function(){var e=i.i18n.getUILanguage();return-1===["be","de","en-GB","en-US","es","fr","is","it","ja","nb","nn","ru","sv","tr","uk"].indexOf(e)?a:e},u=function(e,t,n){if(e&&e.length){var r=e[0];i.bookmarks.create({title:r.title,url:r.url,thumbnail:r.thumbnail,description:r.description,speeddial:Boolean(r.speeddial),parentId:t},function(i){u(r.children,i.id,function(){u(e.slice(1),t,n)})})}else"function"==typeof n&&n()},c=function(e,t){var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&u(JSON.parse(this.responseText),"1",t)};var i=s+e+".json";n.open("GET",i,!0),n.send()};e.exports=function(){return new Promise(function(e,t){var n=l();r.get("VIVALDI_FIRSTRUN_DONE",function(t){t!==!0?(o.disableBookmarkMutationHandlers(),c(n,function(){o.enableBookmarkMutationHandlers(),e()}),r.set({VIVALDI_FIRSTRUN_DONE:!0})):e()})})}},function(e,t,n){(function(t){"use strict";e.exports=function(){if(Boolean(t.env.ENABLE_LIVERELOAD)){var e=n(4);!function(){var t="localhost:",n=35729,i=new WebSocket("ws://"+t+n+"/livereload");i.onerror=function(e){console.log("reload connection got error"+JSON.stringify(e))},i.onmessage=function(t){if(t.data){var n=JSON.parse(t.data);n&&n.path&&!n.path.match(/\.css$/)&&"reload"===n.command&&e.runtime.reload()}}}()}}}).call(t,n(22))},,function(e,t,n){"use strict";var i=n(4),r=n(213),o=r.uaspoofRules,a=r.uaspoofRuleIds;i.declarativeWebRequest.onRequest.removeRules(a),i.declarativeWebRequest.onRequest.addRules(o)},function(e,t,n){"use strict";function i(){"function"==typeof a.bookmarksPrivate.updateSpeedDialsForWindowsJumplist&&(s(),o.addChangeListener(s))}function r(){"function"==typeof a.bookmarksPrivate.updateSpeedDialsForWindowsJumplist&&o.removeChangeListener(s)}var o=n(61),a=n(8),s=function(){var e="function"==typeof a.bookmarksPrivate.updateSpeedDialsForWindowsJumplist;if(e){var t=o.getSpeeddialNodes();if(t&&0!==t.length&&t[0].children){var n=t[0].children,i=n.filter(function(e){return e.url}).map(function(e){return{title:e.title,url:e.url}});a.bookmarksPrivate.updateSpeedDialsForWindowsJumplist(i)}}};e.exports={start:i,stop:r}},function(e,t,n){"use strict";var i=n(9),r=n(5),o=n(17).EventEmitter,a="change",s=void 0,l=Object.assign({},o.prototype,{getSelected:function(){return s},emitChange:function(e){this.emit(a,e)},addChangeListener:function(e){this.on(a,e)},removeChangeListener:function(e){this.removeListener(a,e)}}),u=function(e){s=e,l.emitChange()};i.register(function(e){var t=e.action;switch(t.actionType){case r.CONTACT_SELECT_CONTACT:u(t.contact)}}),e.exports=l},function(e,t,n){"use strict";var i=n(9),r=n(5),o=n(17).EventEmitter,a=n(305),s="change",l={},u=Object.assign({},o.prototype,{getAll:function(){return l},getThoseWithAddresses:function(){return Object.keys(l).map(function(e){return l[e]}).filter(function(e){return e.address})},emitChange:function(e){this.emit(s,e)},addChangeListener:function(e){this.on(s,e)},removeChangeListener:function(e){this.removeListener(s,e)}}),c=function(){a.getAll().then(function(e){l=e,u.emitChange()})},A=function(e){a.put(e).then(function(){l[e.id]=e,u.emitChange()})},d=function(e){Promise.all(e.map(function(e){return a.put(e)})).then(function(){e.forEach(function(e){l[e.id]=e}),u.emitChange()})},h=function(e){a.remove(e.id).then(function(){delete l[e.id],u.emitChange()})};i.register(function(e){var t=e.action;switch(t.actionType){case r.CONTACT_INITIALIZE:c();break;case r.CONTACT_SAVE_CONTACT:A(t.contact);break;case r.CONTACT_ADD_CONTACTS:d(t.contacts);break;case r.CONTACT_DELETE_CONTACT:h(t.contact)}}),e.exports=u},function(e,t,n){"use strict";var i=n(9),r=n(5),o=n(17).EventEmitter,a="change",s={},l=Object.assign({},o.prototype,{getAll:function(){return s},getFolderType:function(e,t){var n=void 0;if(s[e]){var i=s[e].folders;for(var r in i){var o=s[e].folders[r];if(o.some(function(e){return e.path===t?(n=e.type,!0):void 0}))break}}return n?n:t},emitChange:function(e){this.emit(a,e)},addChangeListener:function(e){this.on(a,e)},removeChangeListener:function(e){this.removeListener(a,e)}});i.register(function(e){var t=e.action;switch(t.actionType){case r.MAIL_ADD_FOLDERS:s=Object.assign({},s,t.folders),l.emitChange();break;case r.MAIL_CLEAR_FOLDERS:s={},l.emitChange()}}),e.exports=l},function(e,t,n){"use strict";var i=n(9),r=n(5),o=n(17).EventEmitter,a=n(331),s=n(227),l=n(333),u=l.sentDateMsgComp,c=n(336),A=n(335),d=n(98),h=d.ALL_MESSAGES_ACCOUNT_ID,p=d.MAILING_LISTS_ACCOUNT_ID,f=d.UNREAD_FOLDER_PATH,m="change",g=[],v={},_={},E=Object.assign({},o.prototype,{clear:function(){g=[],v={},_={}},getAll:function(){return g},getCounters:function(){return v},getMailingLists:function(){return Object.keys(_).filter(function(e){return v[p][e].total>1})},emitChange:function(e){this.emit(m,e)},addChangeListener:function(e){this.on(m,e)},removeChangeListener:function(e){this.removeListener(m,e)},addOneTimeChangeListener:function(e){this.once(m,e)}}),S=function(e,t,n,i){Object.keys(A).forEach(function(r){r===f&&-1===t?c(h,r,t,n,-1,v):A[r](e)&&c(h,r,t,n,i,v)}),e.listId&&c(p,e.listId,t,n,i,v)},y=function(){v={},_={},E.getAll().forEach(function(e){e.listId&&(_[e.listId]=_[e.listId]||[],_[e.listId].push(e)),c(e.accountId,e.path,e.unread,e.unseen,1,v),S(e,e.unread,e.unseen,1)})},b=function(){a.getSearchList().then(function(e){g=e,y(),E.emitChange()})},C=function(e,t,n){var i=c(e,t);n.forEach(function(n){n.accountId=e,n.path=t;var r=s(g,n,u),o=0,a=0,l=0;0>r?(g.splice(-r-1,0,n),o=n.unread||0,a=n.unseen||0,l=1):(o=n.unread-g[r].unread,a=n.unseen-g[r].unseen,g[r]=n),i(o,a,l,v),S(n,o,a,l)}),E.emitChange()},T=function(e,t,n){var i=c(e,t);n.forEach(function(n){var r=s(g,Object.assign(n,{accountId:e,path:t}),u);if(r>=0){var o=g[r],a=n.unread?1:-1,l=-1===a?-o.unseen:0;o.unread=n.unread,i(a,l,0,v),S(o,a,l,0)}}),E.emitChange()},I=function(e,t,n){var i=c(e,t);g=g.filter(function(r){var o=r.accountId===e&&r.path===t&&n.indexOf(r.uid)>-1;return o&&(i(-r.unread,-r.unseen,-1,v),S(r,-r.unread,-r.unseen,-1)),!o}),E.emitChange()};i.register(function(e){var t=e.action;switch(t.actionType){case r.MAIL_MESSAGES_INIT:b();break;case r.MAIL_ADD_MESSAGES:C(t.accountId,t.path,t.messages);break;case r.MAIL_UPDATE_MESSAGES:T(t.accountId,t.path,t.updates);break;case r.MAIL_REMOVE_MESSAGES:I(t.accountId,t.path,t.uids)}}),e.exports=E},function(e,t,n){"use strict";function i(){u="",c.emitChange()}function r(e){u=e,c.emitChange()}var o=n(17).EventEmitter,a=n(9),s=n(5),l="change",u="",c=Object.assign({},o.prototype,{getStatus:function(e){return u},emitChange:function(){this.emit(l)},addChangeListener:function(e){this.on(l,e)},removeChangeListener:function(e){this.removeListener(l,e)}});a.register(function(e){var t=e.action;switch(t.actionType){case s.STATUS_SET_STATUS:r(t.status,t.timeout);break;case s.STATUS_CLEAR_STATUS:i();break;default:return!0}}),e.exports=c},function(e,t,n){"use strict";function i(){c={},A.emitChange()}function r(e,t){c[e]=t,A.emitChange()}function o(e){var t=["focusSearchField","focusAddressField"];t.indexOf(e.action)>-1&&i()}var a=n(9),s=n(5),l=n(17).EventEmitter,u="change",c={},A=Object.assign({},l.prototype,{allHidden:function(){return 0===Object.keys(c).filter(function(e){return Boolean(c[e])}).length},getShowTooltip:function(e){return Boolean(c[e])},emitChange:function(){this.emit(u)},addChangeListener:function(e){this.on(u,e)},removeChangeListener:function(e){this.removeListener(u,e)}});a.register(function(e){var t=e.action;switch(t.actionType){case s.PAGE_CLOSE:case s.TOOLTIP_CLEAR:case s.URLFIELD_SET_STATE:i();break;case s.WEBPAGEVIEW_ACTIONS:o(t.action);break;case s.TOOLTIP_SHOW:r(t.id,!0);break;case s.TOOLTIP_HIDE:r(t.id,!1);break;default:return!0}}),e.exports=window.TooltipStore=A},function(e,t){"use strict";var n=function(e,t,n){var i={};for(var r in e)e.hasOwnProperty(r)&&-1===Array.prototype.indexOf.call(arguments,r,1)&&(i[r]=e[r]);return i};e.exports=n},function(e,t,n){(function(t){"use strict";var i=n(490),r=function(e){"target"in e&&e.setAttribute("target","_blank"),e.hasAttribute("target")||!e.hasAttribute("xlink:href")&&!e.hasAttribute("href")||e.setAttribute("xlink:show","new")},o=function(e,n){var i=e[n.src];if(i){var r=new t(i.content.buffer).toString("base64");n.setAttribute("src","data:"+i.mimeType+";base64,"+r)}else n.src&&n.src.startsWith("data:")||n.removeAttribute("src")};e.exports={sanitize:function(e,t){i.addHook("afterSanitizeAttributes",r),i.addHook("afterSanitizeAttributes",o.bind(void 0,t||{}));var n=i.sanitize(e,{ALLOW_UNKNOWN_PROTOCOLS:!0,WHOLE_DOCUMENT:!0});return i.removeHooks("afterSanitizeAttributes"),n},htmlToText:function(e){return i.sanitize(e,{ALLOWED_TAGS:[]}).replace(/( {2})+/g,"").replace(/\n\n+/g,"\n\n").replace(/&nbsp;/g,"	").trim()}}}).call(t,n(103).Buffer)},function(e,t){"use strict";function n(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}e.exports=n},function(e,t,n){"use strict";function i(e){if("string"!=typeof e)throw new TypeError("Paramter `path` must be a string");var t=s.resolve(e).replace(/\\/g,"/");return"/"!==t[0]&&(t="/"+t),encodeURI("file://"+t)}function r(e){return 1===e.indexOf(":")&&e.match(/^[a-z]/gi)||0===e.indexOf("/")||0===e.indexOf("\\")}function o(e){return 0===e.indexOf("/")}function a(e,t){if("string"!=typeof e)throw new TypeError("Paramter `path` must be a string");return t?r(e):o(e)}var s=n(537);t.isPath=a,t.win32PathToFileUrl=i},function(e,t){"use strict";function n(e,t){return t=t.replace(/^https?\:\/\/(www+\.)?/,""),0===t.indexOf(e)}e.exports=n},function(e,t,n){"use strict";var i=n(36),r=n(8),o="",a="",s=function(e,t){for(var n=0;n<t.length;n++){var i=t.charAt(n).toUpperCase();if(" "!==i&&"-"!==i){var r=e.indexOf(i);if(-1===r)return n}}return-1},l=function c(e){for(var t="",n=0;n<e.length;n++){var i=e[n];if("---"!==i.name&&i.mnemonic!==!1){var r=i.name.indexOf("&");-1!==r&&r+1<i.name.length?(i.nameWithMnemonic=i.name,t+=i.name.charAt(r+1).toUpperCase()):i.nameWithMnemonic=void 0}else if(i.mnemonic===!1){var o=i.name.indexOf("&");-1!==o&&(i.nameWithMnemonic=i.name.replace(/\&/g,"&&"))}}for(var a=0;a<e.length;a++){var l=e[a];if("---"!==l.name&&l.mnemonic!==!1){if(void 0===l.nameWithMnemonic){var u=s(t,l.name);u>=0&&(t+=l.name.charAt(u).toUpperCase(),l.nameWithMnemonic=l.name.slice(0,u)+"&"+l.name.slice(u))}l.items&&c(l.items)}}},u=function(e){var t=0,s={},u=function(e,t){"function"==typeof s[t]&&s[t].call(this,e)},c=function A(e){if(!e)return null;0===o.length&&(o=btoa(n(226))),0===a.length&&(a=btoa(n(225)));var i;i=e.items&&e.bookmarkFolder===!0?o:e.url?a:e.iconPNG;var r=e.visible!==!1;"function"==typeof e.testVisibility&&(r=e.testVisibility());var l=void 0!==e.tag?e.tag:t++,u=e.nameWithMnemonic?e.nameWithMnemonic:e.name;return s[l]=e.handler,{id:l,name:void 0===u?"":u,visible:r,items:e.items?e.items.map(A):null,type:e.type?e.type:"normal",checked:e.checked?e.checked:!1,emphasized:e.emphasized,shortcut:e.shortcut,parameter:e.parameter,url:e.url,icon:i}};return function(t){var n="function"==typeof e?e():e,o=i();"mac"!==o&&l(n),r.showMenu.create({mode:t,left:-1,top:-1,items:n.map(c)},u.bind(this,event))}};e.exports=u},function(e,t,n){"use strict";var i=n(25),r=n(222),o=r.modifierIsUp,a=function(){var e=!1;return function(t,n,r){function a(t){t.keyCode===i.KEY_ESCAPE&&(e=!1,n.call(this,!0),document.removeEventListener("keydown",a),document.removeEventListener("keyup",s),document.removeEventListener("mouseup",l))}function s(r){(r.keyCode===i.KEY_RETURN||r.keyCode===i.KEY_ENTER||o(t,r))&&(e=!1,n.call(this,!1),document.removeEventListener("keydown",a),document.removeEventListener("keyup",s),document.removeEventListener("mouseup",l))}function l(t){2!==t.button&&(0!==t.button||0!==t.buttons&&2!==t.buttons)||(e=!1,n.call(this,!1),document.removeEventListener("keydown",a),document.removeEventListener("keyup",s),document.removeEventListener("mouseup",l))}if(r=r||null,"keydown"===t.type){if(!t.ctrlKey||t.altKey)return}else{if("wheel"!==t.type)return;if(!t.altKey&&(0!==t.button||2!==t.buttons))return}e!==!0&&(e=!0,document.addEventListener("keydown",a),document.addEventListener("keyup",s),document.addEventListener("mouseup",l))}}();t.tabSwitcherListener=a},function(e,t){"use strict";e.exports=function(e){return"number"==typeof e?Math.round(e):e}},function(e,t){"use strict";var n=function(e){return e.FaviconUrl?Object.assign(e,{Image:e.FaviconUrl}):e},i=function(e){return e.map(n)};e.exports=i},function(e,t,n){"use strict";function i(e){return new Promise(function(e,t){return a.init(e)})}var r=n(4),o=n(18),a={init:function(e){this.cb=e,this.pageactionFiles=[],r.runtime.getPackageDirectoryEntry(this.gotPackageDirectory.bind(this))},fireCallback:function(){this.cb(this.pageactionFiles)},gotPackageDirectory:function(e){var t=e.createReader();
t.readEntries(this.gotPackageEntries.bind(this))},gotPackageEntries:function(e){var t=this;e.forEach(function(e){if("user_files"===e.name&&e.isDirectory){var n=e.createReader();n.readEntries(t.findPageActionFiles.bind(t))}})},findPageActionFiles:function(e){var t=this;this.executeWhenAllEntriesLoaded=o.after(e.length,function(){t.fireCallback()}),e.forEach(function(e,t){var n=function(t){this.pushNewEntry(t,e.name)}.bind(this);e.file(n)}.bind(this))},pushNewEntry:function(e,t){var n=new FileReader,i=t.lastIndexOf("."),r="style";-1!==i&&("css"===t.substr(i+1)?r="style":"js"===t.substr(i+1)&&(r="script")),t=t.substr(0,i),n.type=r,n.filename=t.replace(/_/g," "),n.onload=this.onFileRead.bind(this),n.readAsText(e)},onFileRead:function(e){var t={name:e.target.filename,type:e.target.type,code:e.target.result};"string"==typeof e.target.filename&&e.target.filename.length&&this.pageactionFiles.push(t),"function"==typeof this.executeWhenAllEntriesLoaded&&this.executeWhenAllEntriesLoaded()}};e.exports=i},function(e,t,n){"use strict";var i=n(16),r=n(85),o=n(29),a=n(19),s=a.urls,l=function(e){if(s.isInternalUrl(e.get("url"))){var t=Object.keys(s.internals).find(function(t){return e.get("url").startsWith(s.internals[t])});if(t)return s.getDisplayTitle(e)}return o.parse(r(e.get("url"))).hostname},u=function(e){var t=l(e);return[t,i.getPages().filter(function(e){return!e.get("pinned")}).filter(function(e){return!i.isGroup(e.getIn(["extData","group"]))}).filter(function(e){return l(e)===t})]};e.exports=u},function(e,t,n){"use strict";var i=n(4),r=n(525),o=r(function(){return i.i18n.getUILanguage()});e.exports=o},function(e,t){"use strict";var n=function(e,t){switch(e){case"onCreated":case"onActivated":return t[0].windowId;case"onUpdated":return t[2].windowId;case"onRemoved":case"onMoved":return t[1].windowId;case"onDetached":return t[1].oldWindowId;case"onAttached":return t[1].newWindowId;default:return}};e.exports=n},function(e,t,n){"use strict";var i=n(4),r=function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];return new Promise(function(t,r){e.apply(void 0,n.concat([function(){i.runtime.lastError?r(i.runtime.lastError):t.apply(void 0,arguments)}]))})}};e.exports=r},function(e,t){"use strict";var n=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return new Promise(function(t){return window.requestIdleCallback(t,e)})};e.exports=n},function(e,t){"use strict";function n(e,t){if(!t||!e||"string"!=typeof t.url||"string"!=typeof e.url)throw TypeError("Needs both target and current");if(t.score===e.score){var n=t.url.length,i=e.url.length;return i>=n}return(t.score||0)>(e.score||0)}e.exports=n},,,function(e,t){"use strict";var n=function(e,t){return e.filter(function(e){return e!==t}).push(t)},i=function(e,t){return e.filter(function(e){return e!==t}).unshift(t)},r=function(e,t){return t===!0?e.shift().push(e.first()):e.pop().unshift(e.last())},o=function(e,t){var n=t;return n=e.reduce(function(e,t){return e.contains(t)?e:e.push(t)},n),n=n.reduce(function(t,n){return e.contains(n)?t:t.filter(function(e){return e!==n})},n)};t.moveToEnd=n,t.moveToStart=i,t.rotateList=r,t.combineLists=o},function(e,t,n){"use strict";function i(){if(!document)throw"Unable to find document. Are we in a browser?"}function r(e){return Math.pow((e+.055)/1.055,2.4)}function o(e){if(!Array.isArray(e)||3!==e.length)return 0;var t=e[0]/255,n=e[1]/255,i=e[2]/255,o=v>=t?t*g:r(t),a=v>=n?n*g:r(n),s=v>=i?i*g:r(i);return o*_+a*E+s*S}function a(e,t){var n=o(e),i=o(t),r=Math.max(n,i),a=Math.min(n,i);return(r+.05)/(a+.05)}function s(e){return Array.isArray(e)&&3===e.length?e[0]<33&&e[1]<33&&e[2]<33:!1}function l(e){for(var t=null,n=0,i=0;i<e.length&&null==t;i++){var r=a([255,255,255],e[i]);r>f&&r>n&&!s(e[i])&&(t=e[i],n=r)}return t}function u(e){try{var t=h.getPalette(this,2,1),n=l(t);if("function"==typeof e)return e(n?n:null)}finally{this.onload=null}}function c(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,i){return t+t+n+n+i+i});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null}function A(){if(null===y){var e=document.createElement("style");document.head.appendChild(e),y=e.sheet}}var d=n(489),h=new d,p=["background-color","border-color","color","fill"],f=2.4,m=t,g=1/12.92,v=.03928,_=.2126,E=.7152,S=.0722;m.colorIsValid=function(e){var t=[c(e)],n=l(t);return null!==n},m.getToolbarBackgroundColor=function(e,t){if(null!=e&&""!==e){i();var n=new Image;n.onload=u.bind(n,t),n.src=e}};var y=null;m.removeCSSClasses=function(){if(y)for(var e=parseInt(y.rules.length),t=0;e>t;t++)y.deleteRule(0)},m.updateCSSClasses=function(e){var t=".favicon-current";A(),m.removeCSSClasses(),p.forEach(function(n){var i=t+"-"+n+" {"+n+":"+e+"!important;}\n";y.insertRule(i,0)})}},function(e,t,n){(function(t,n){!function(t){"use strict";function i(e,t,n,i){var r=Object.create((t||o).prototype),a=new p(i||[]);return r._invoke=A(e,n,a),r}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(i){return{type:"throw",arg:i}}}function o(){}function a(){}function s(){}function l(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){this.arg=e}function c(e){function t(t,n){var i=e[t](n),r=i.value;return r instanceof u?Promise.resolve(r.arg).then(o,a):Promise.resolve(r).then(function(e){return i.value=e,i})}function i(e,n){function i(){return t(e,n)}return r=r?r.then(i,i):new Promise(function(e){e(i())})}"object"==typeof n&&n.domain&&(t=n.domain.bind(t));var r,o=t.bind(e,"next"),a=t.bind(e,"throw");t.bind(e,"return");this._invoke=i}function A(e,t,n){var i=y;return function(o,a){if(i===C)throw new Error("Generator is already running");if(i===T){if("throw"===o)throw a;return m()}for(;;){var s=n.delegate;if(s){if("return"===o||"throw"===o&&s.iterator[o]===g){n.delegate=null;var l=s.iterator["return"];if(l){var u=r(l,s.iterator,a);if("throw"===u.type){o="throw",a=u.arg;continue}}if("return"===o)continue}var u=r(s.iterator[o],s.iterator,a);if("throw"===u.type){n.delegate=null,o="throw",a=u.arg;continue}o="next",a=g;var c=u.arg;if(!c.done)return i=b,c;n[s.resultName]=c.value,n.next=s.nextLoc,n.delegate=null}if("next"===o)n._sent=a,i===b?n.sent=a:n.sent=g;else if("throw"===o){if(i===y)throw i=T,a;n.dispatchException(a)&&(o="next",a=g)}else"return"===o&&n.abrupt("return",a);i=C;var u=r(e,t,n);if("normal"===u.type){i=n.done?T:b;var c={value:u.arg,done:n.done};if(u.arg!==I)return c;n.delegate&&"next"===o&&(a=g)}else"throw"===u.type&&(i=T,o="throw",a=u.arg)}}}function d(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function h(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function p(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(d,this),this.reset(!0)}function f(e){if(e){var t=e[_];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function r(){for(;++n<e.length;)if(v.call(e,n))return r.value=e[n],r.done=!1,r;return r.value=g,r.done=!0,r};return i.next=i}}return{next:m}}function m(){return{value:g,done:!0}}var g,v=Object.prototype.hasOwnProperty,_="function"==typeof Symbol&&Symbol.iterator||"@@iterator",E="object"==typeof e,S=t.regeneratorRuntime;if(S)return void(E&&(e.exports=S));S=t.regeneratorRuntime=E?e.exports:{},S.wrap=i;var y="suspendedStart",b="suspendedYield",C="executing",T="completed",I={},w=s.prototype=o.prototype;a.prototype=w.constructor=s,s.constructor=a,a.displayName="GeneratorFunction",S.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return t?t===a||"GeneratorFunction"===(t.displayName||t.name):!1},S.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):e.__proto__=s,e.prototype=Object.create(w),e},S.awrap=function(e){return new u(e)},l(c.prototype),S.async=function(e,t,n,r){var o=new c(i(e,t,n,r));return S.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},l(w),w[_]=function(){return this},w.toString=function(){return"[object Generator]"},S.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},S.values=f,p.prototype={constructor:p,reset:function(e){if(this.prev=0,this.next=0,this.sent=g,this.done=!1,this.delegate=null,this.tryEntries.forEach(h),!e)for(var t in this)"t"===t.charAt(0)&&v.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=g)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,i){return o.type="throw",o.arg=e,n.next=t,!!i}if(this.done)throw e;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],o=r.completion;if("root"===r.tryLoc)return t("end");if(r.tryLoc<=this.prev){var a=v.call(r,"catchLoc"),s=v.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return t(r.catchLoc,!0);if(this.prev<r.finallyLoc)return t(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return t(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return t(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&v.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?this.next=r.finallyLoc:this.complete(o),I},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),h(n),I}},"catch":function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;h(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:f(e),resultName:t,nextLoc:n},I}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,function(){return this}(),n(22))},function(e,t,n){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===a||t===A?62:t===s||t===d?63:l>t?-1:l+10>t?t-l+26+26:c+26>t?t-c:u+26>t?t-u+26:void 0}function n(e){function n(e){u[A++]=e}var i,r,a,s,l,u;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=e.length;l="="===e.charAt(c-2)?2:"="===e.charAt(c-1)?1:0,u=new o(3*e.length/4-l),a=l>0?e.length-4:e.length;var A=0;for(i=0,r=0;a>i;i+=4,r+=3)s=t(e.charAt(i))<<18|t(e.charAt(i+1))<<12|t(e.charAt(i+2))<<6|t(e.charAt(i+3)),n((16711680&s)>>16),n((65280&s)>>8),n(255&s);return 2===l?(s=t(e.charAt(i))<<2|t(e.charAt(i+1))>>4,n(255&s)):1===l&&(s=t(e.charAt(i))<<10|t(e.charAt(i+1))<<4|t(e.charAt(i+2))>>2,n(s>>8&255),n(255&s)),u}function r(e){function t(e){return i.charAt(e)}function n(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var r,o,a,s=e.length%3,l="";for(r=0,a=e.length-s;a>r;r+=3)o=(e[r]<<16)+(e[r+1]<<8)+e[r+2],l+=n(o);switch(s){case 1:o=e[e.length-1],l+=t(o>>2),l+=t(o<<4&63),l+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1],l+=t(o>>10),l+=t(o>>4&63),l+=t(o<<2&63),l+="="}return l}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),l="0".charCodeAt(0),u="a".charCodeAt(0),c="A".charCodeAt(0),A="-".charCodeAt(0),d="_".charCodeAt(0);e.toByteArray=n,e.fromByteArray=r}(t)},function(e,t){function n(e,t,n){return n>t?t>e?t:e>n?n:e:n>e?n:e>t?t:e}e.exports=n},function(e,t,n){(function(t,i){var r=!1;if("undefined"!=typeof t&&t.execPath&&-1!==t.execPath.indexOf("node"),r)var o=Canvas.Image,a=n(535);var s=function(e){if(r){this.canvas=new Canvas;var t=new o;e instanceof i?t.src=e:t.src=a.readFileSync(e)}else{this.canvas=document.createElement("canvas"),document.body.appendChild(this.canvas);var t=e}this.context=this.canvas.getContext("2d"),this.width=this.canvas.width=t.width,this.height=this.canvas.height=t.height,this.context.drawImage(t,0,0,this.width,this.height)};s.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},s.prototype.update=function(e){this.context.putImageData(e,0,0)},s.prototype.getPixelCount=function(){return this.width*this.height},s.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},s.prototype.removeCanvas=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)};var l=function(){};/*!
	 * quantize.js Copyright 2008 Nick Rabinowitz.
	 * Licensed under the MIT license: http://www.opensource.org/licenses/mit-license.php
	 */
/*!
	 * Block below copied from Protovis: http://mbostock.github.com/protovis/
	 * Copyright 2010 Stanford Visualization Group
	 * Licensed under the BSD License: http://www.opensource.org/licenses/bsd-license.php
	 */
if(l.prototype.getColor=function(e,t,n){t!==!0&&t!==!1||(n=t,t=void 0);var i=this.getPalette(e,5,t,n),r=i[0];return r},l.prototype.getPalette=function(e,t,n,i){"undefined"==typeof t&&(t=10),"undefined"==typeof n&&(n=10);var r=new s(e),o=r.getImageData(),a=o.data,l=r.getPixelCount(),u=this.getPaletteFromPixels(a,l,t,n,i);return r.removeCanvas(),u},l.prototype.getPaletteFromPixels=function(e,t,n,i,r){for(var o,a,s,l,u,A=[],d=0;t>d;d+=i)o=4*d,a=e[o+0],s=e[o+1],l=e[o+2],u=e[o+3],u>=125&&((a>250&&s>250&&l>250||r===!0)&&(a>255&&s>255&&l>255||r!==!0)||A.push([a,s,l]));var h=c.quantize(A,n),p=h.palette();return p},!u)var u={map:function(e,t){var n={};return t?e.map(function(e,i){return n.index=i,t.call(n,e)}):e.slice()},naturalOrder:function(e,t){return t>e?-1:e>t?1:0},sum:function(e,t){var n={};return e.reduce(t?function(e,i,r){return n.index=r,e+t.call(n,i)}:function(e,t){return e+t},0)},max:function(e,t){return Math.max.apply(null,t?u.map(e,t):e)}};var c=function(){function e(e,t,n){return(e<<2*l)+(t<<l)+n}function t(e){function t(){n.sort(e),i=!0}var n=[],i=!1;return{push:function(e){n.push(e),i=!1},peek:function(e){return i||t(),void 0===e&&(e=n.length-1),n[e]},pop:function(){return i||t(),n.pop()},size:function(){return n.length},map:function(e){return n.map(e)},debug:function(){return i||t(),n}}}function n(e,t,n,i,r,o,a){var s=this;s.r1=e,s.r2=t,s.g1=n,s.g2=i,s.b1=r,s.b2=o,s.histo=a}function i(){this.vboxes=new t(function(e,t){return u.naturalOrder(e.vbox.count()*e.vbox.volume(),t.vbox.count()*t.vbox.volume())})}function r(t){var n,i,r,o,a=1<<3*l,s=new Array(a);return t.forEach(function(t){i=t[0]>>c,r=t[1]>>c,o=t[2]>>c,n=e(i,r,o),s[n]=(s[n]||0)+1}),s}function o(e,t){var i,r,o,a=1e6,s=0,l=1e6,u=0,A=1e6,d=0;return e.forEach(function(e){i=e[0]>>c,r=e[1]>>c,o=e[2]>>c,a>i?a=i:i>s&&(s=i),l>r?l=r:r>u&&(u=r),A>o?A=o:o>d&&(d=o)}),new n(a,s,l,u,A,d,t)}function a(t,n){function i(e){var t,i,r,o,a,s=e+"1",u=e+"2",c=0;for(l=n[s];l<=n[u];l++)if(f[l]>p/2){for(r=n.copy(),o=n.copy(),t=l-n[s],i=n[u]-l,a=i>=t?Math.min(n[u]-1,~~(l+i/2)):Math.max(n[s],~~(l-1-t/2));!f[a];)a++;for(c=m[a];!c&&f[a-1];)c=m[--a];return r[u]=a,o[s]=r[u]+1,[r,o]}}if(n.count()){var r=n.r2-n.r1+1,o=n.g2-n.g1+1,a=n.b2-n.b1+1,s=u.max([r,o,a]);if(1==n.count())return[n.copy()];var l,c,A,d,h,p=0,f=[],m=[];if(s==r)for(l=n.r1;l<=n.r2;l++){for(d=0,c=n.g1;c<=n.g2;c++)for(A=n.b1;A<=n.b2;A++)h=e(l,c,A),d+=t[h]||0;p+=d,f[l]=p}else if(s==o)for(l=n.g1;l<=n.g2;l++){for(d=0,c=n.r1;c<=n.r2;c++)for(A=n.b1;A<=n.b2;A++)h=e(c,l,A),d+=t[h]||0;p+=d,f[l]=p}else for(l=n.b1;l<=n.b2;l++){for(d=0,c=n.r1;c<=n.r2;c++)for(A=n.g1;A<=n.g2;A++)h=e(c,A,l),d+=t[h]||0;p+=d,f[l]=p}return f.forEach(function(e,t){m[t]=p-e}),i(s==r?"r":s==o?"g":"b")}}function s(e,n){function s(e,t){for(var n,i=1,r=0;A>r;)if(n=e.pop(),n.count()){var o=a(l,n),s=o[0],u=o[1];if(!s)return;if(e.push(s),u&&(e.push(u),i++),i>=t)return;if(r++>A)return}else e.push(n),r++}if(!e.length||2>n||n>256)return new i;var l=r(e),c=0;l.forEach(function(){c++});var h=o(e,l),p=new t(function(e,t){return u.naturalOrder(e.count(),t.count())});p.push(h),s(p,d*n);for(var f=new t(function(e,t){return u.naturalOrder(e.count()*e.volume(),t.count()*t.volume())});p.size();)f.push(p.pop());s(f,n-f.size());for(var m=new i;f.size();)m.push(f.pop());return m}var l=5,c=8-l,A=1e3,d=.75;return n.prototype={volume:function(e){var t=this;return t._volume&&!e||(t._volume=(t.r2-t.r1+1)*(t.g2-t.g1+1)*(t.b2-t.b1+1)),t._volume},count:function(t){var n=this,i=n.histo;if(!n._count_set||t){var r,o,a,s=0;for(r=n.r1;r<=n.r2;r++)for(o=n.g1;o<=n.g2;o++)for(a=n.b1;a<=n.b2;a++){var l=e(r,o,a);s+=i[l]||0}n._count=s,n._count_set=!0}return n._count},copy:function(){var e=this;return new n(e.r1,e.r2,e.g1,e.g2,e.b1,e.b2,e.histo)},avg:function(t){var n=this,i=n.histo;if(!n._avg||t){var r,o,a,s,u,c=0,A=1<<8-l,d=0,h=0,p=0;for(o=n.r1;o<=n.r2;o++)for(a=n.g1;a<=n.g2;a++)for(s=n.b1;s<=n.b2;s++)u=e(o,a,s),r=i[u]||0,c+=r,d+=r*(o+.5)*A,h+=r*(a+.5)*A,p+=r*(s+.5)*A;c?n._avg=[~~(d/c),~~(h/c),~~(p/c)]:n._avg=[~~(A*(n.r1+n.r2+1)/2),~~(A*(n.g1+n.g2+1)/2),~~(A*(n.b1+n.b2+1)/2)]}return n._avg},contains:function(e){var t=this,n=e[0]>>c;return gval=e[1]>>c,bval=e[2]>>c,n>=t.r1&&n<=t.r2&&gval>=t.g1&&gval<=t.g2&&bval>=t.b1&&bval<=t.b2}},i.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map(function(e){return e.color})},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,n=0;n<t.size();n++)if(t.peek(n).vbox.contains(e))return t.peek(n).color;return this.nearest(e)},nearest:function(e){for(var t,n,i,r=this.vboxes,o=0;o<r.size();o++)n=Math.sqrt(Math.pow(e[0]-r.peek(o).color[0],2)+Math.pow(e[1]-r.peek(o).color[1],2)+Math.pow(e[2]-r.peek(o).color[2],2)),(t>n||void 0===t)&&(t=n,i=r.peek(o).color);return i},forcebw:function(){var e=this.vboxes;e.sort(function(e,t){return u.naturalOrder(u.sum(e.color),u.sum(t.color))});var t=e[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(e[0].color=[0,0,0]);var n=e.length-1,i=e[n].color;i[0]>251&&i[1]>251&&i[2]>251&&(e[n].color=[255,255,255])}},{quantize:s}}();"undefined"!=typeof e&&e.exports&&(e.exports=l)}).call(t,n(22),n(103).Buffer)},function(e,t,n){var i;!function(r){"use strict";var o="undefined"==typeof window?null:window;i=function(){return r(o)}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}(function r(e){"use strict";var t=function(e){return r(e)};if(t.version="0.7.4",!e||!e.document||9!==e.document.nodeType)return t.isSupported=!1,t;var n=e.document,i=n,o=e.DocumentFragment,a=e.HTMLTemplateElement,s=e.NodeFilter,l=e.NamedNodeMap||e.MozNamedAttrMap,u=e.Text,c=e.Comment,A=e.DOMParser;"function"==typeof a&&(n=n.createElement("template").content.ownerDocument);var d=n.implementation,h=n.createNodeIterator,p=n.getElementsByTagName,f=n.createDocumentFragment,m=i.importNode,g={};t.isSupported="undefined"!=typeof d.createHTMLDocument&&9!==n.documentMode;var v=function(e,t){for(var n=t.length;n--;)e[t[n]]=!0;return e},_=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},E=null,S=v({},["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr","svg","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","switch","symbol","text","textpath","title","tref","tspan","view","vkern","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","feSpecularLighting","feTile","feTurbulence","math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmuliscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mpspace","msqrt","mystyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","#text"]),y=null,b=v({},["accept","action","align","alt","autocomplete","background","bgcolor","border","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","coords","datetime","default","dir","disabled","download","enctype","face","for","headers","height","hidden","high","href","hreflang","id","ismap","label","lang","list","loop","low","max","maxlength","media","method","min","multiple","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","rows","rowspan","spellcheck","scope","selected","shape","size","span","srclang","start","src","step","style","summary","tabindex","title","type","usemap","valign","value","width","xmlns","accent-height","accumulate","additivive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mode","min","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","surfacescale","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","u1","u2","unicode","values","viewbox","visibility","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","y","y1","y2","z","zoomandpan","accent","accentunder","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","display","displaystyle","fence","frame","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),C=null,T=null,I=!0,w=!1,O=!1,N=!1,k=/\{\{[\s\S]*|[\s\S]*\}\}/gm,D=/<%[\s\S]*|[\s\S]*%>/gm,M=!1,P=!1,L=!1,x=!1,R=!0,B=!0,U=v({},["audio","head","math","script","style","svg","video"]),F=v({},["audio","video","img","source"]),V=v({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),W=null,H=n.createElement("form"),K=function(e){"object"!=typeof e&&(e={}),E="ALLOWED_TAGS"in e?v({},e.ALLOWED_TAGS):S,y="ALLOWED_ATTR"in e?v({},e.ALLOWED_ATTR):b,C="FORBID_TAGS"in e?v({},e.FORBID_TAGS):{},T="FORBID_ATTR"in e?v({},e.FORBID_ATTR):{},I=e.ALLOW_DATA_ATTR!==!1,w=e.ALLOW_UNKNOWN_PROTOCOLS||!1,O=e.SAFE_FOR_JQUERY||!1,N=e.SAFE_FOR_TEMPLATES||!1,M=e.WHOLE_DOCUMENT||!1,P=e.RETURN_DOM||!1,L=e.RETURN_DOM_FRAGMENT||!1,x=e.RETURN_DOM_IMPORT||!1,R=e.SANITIZE_DOM!==!1,B=e.KEEP_CONTENT!==!1,N&&(I=!1),L&&(P=!0),e.ADD_TAGS&&(E===S&&(E=_(E)),v(E,e.ADD_TAGS)),e.ADD_ATTR&&(y===b&&(y=_(y)),v(y,e.ADD_ATTR)),B&&(E["#text"]=!0),Object&&"freeze"in Object&&Object.freeze(e),W=e},G=function(e){try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=""}},j=function(e){var t,n;try{t=(new A).parseFromString(e,"text/html")}catch(i){}return t||(t=d.createHTMLDocument(""),n=t.body,n.parentNode.removeChild(n.parentNode.firstElementChild),n.outerHTML=e),"function"==typeof t.getElementsByTagName?t.getElementsByTagName(M?"html":"body")[0]:p.call(t,M?"html":"body")[0]},z=function(e){return h.call(e.ownerDocument||e,e,s.SHOW_ELEMENT|s.SHOW_COMMENT|s.SHOW_TEXT,function(){return s.FILTER_ACCEPT},!1)},J=function(e){return e instanceof u||e instanceof c?!1:!("string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof l&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute)},Q=function(e){var t,n;if(te("beforeSanitizeElements",e,null),J(e))return G(e),!0;if(t=e.nodeName.toLowerCase(),te("uponSanitizeElement",e,{tagName:t}),!E[t]||C[t]){if(B&&!U[t]&&"function"==typeof e.insertAdjacentHTML)try{e.insertAdjacentHTML("AfterEnd",e.innerHTML)}catch(i){}return G(e),!0}return!O||e.firstElementChild||e.content&&e.content.firstElementChild||(e.innerHTML=e.textContent.replace(/</g,"&lt;")),N&&3===e.nodeType&&(n=e.textContent,n=n.replace(k," "),n=n.replace(D," "),e.textContent=n),te("afterSanitizeElements",e,null),!1},Y=/^data-[\w.\u00B7-\uFFFF-]/,Z=/^(?:(?:(?:f|ht)tps?|mailto|tel):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i,q=/^(?:\w+script|data):/i,X=/[\x00-\x20\xA0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,$=function(t){var i,r,o,a,s,l,u,c;if(te("beforeSanitizeAttributes",t,null),l=t.attributes){for(u={attrName:"",attrValue:"",keepAttr:!0},c=l.length;c--;)if(i=l[c],r=i.name,o=i.value,a=r.toLowerCase(),u.attrName=a,u.attrValue=o,u.keepAttr=!0,te("uponSanitizeAttribute",t,u),o=u.attrValue,"name"===a&&"IMG"===t.nodeName&&l.id?(s=l.id,l=Array.prototype.slice.apply(l),t.removeAttribute("id"),t.removeAttribute(r),l.indexOf(s)>c&&t.setAttribute("id",s.value)):("id"===r&&t.setAttribute(r,""),t.removeAttribute(r)),u.keepAttr&&(!R||"id"!==a&&"name"!==a||!(o in e||o in n||o in H))&&(N&&(o=o.replace(k," "),o=o.replace(D," ")),y[a]&&!T[a]&&(V[a]||Z.test(o.replace(X,""))||"src"===a&&0===o.indexOf("data:")&&F[t.nodeName.toLowerCase()])||I&&Y.test(a)||w&&!q.test(o.replace(X,""))))try{t.setAttribute(r,o)}catch(A){}te("afterSanitizeAttributes",t,null)}},ee=function(e){var t,n=z(e);for(te("beforeSanitizeShadowDOM",e,null);t=n.nextNode();)te("uponSanitizeShadowNode",t,null),Q(t)||(t.content instanceof o&&ee(t.content),$(t));te("afterSanitizeShadowDOM",e,null)},te=function(e,n,i){g[e]&&g[e].forEach(function(e){e.call(t,n,i,W)})};return t.sanitize=function(n,r){var a,s,l,u,c;if(n||(n=""),"string"!=typeof n){if("function"!=typeof n.toString)throw new TypeError("toString is not a function");n=n.toString()}if(!t.isSupported)return"object"==typeof e.toStaticHTML||"function"==typeof e.toStaticHTML?e.toStaticHTML(n):n;if(K(r),!P&&!M&&-1===n.indexOf("<"))return n;if(a=j(n),!a)return P?null:"";for(u=z(a);s=u.nextNode();)3===s.nodeType&&s===l||Q(s)||(s.content instanceof o&&ee(s.content),$(s),l=s);if(P){if(L)for(c=f.call(a.ownerDocument);a.firstChild;)c.appendChild(a.firstChild);else c=a;return x&&(c=m.call(i,c,!0)),c}return M?a.outerHTML:a.innerHTML},t.addHook=function(e,t){"function"==typeof t&&(g[e]=g[e]||[],g[e].push(t))},t.removeHook=function(e){g[e]&&g[e].pop()},t.removeHooks=function(e){g[e]&&(g[e]=[])},t.removeAllHooks=function(){g=[]},t})},function(e,t,n){"use strict";var i=function(e,t,n,i,r,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,a,s],c=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return u[c++]}))}throw l.framesToPop=1,l}};e.exports=i},function(e,t,n){e.exports.Dispatcher=n(493)},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var r=n(491),o="ID_",a=function(){function e(){i(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t=o+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]?void 0:r(!1),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching?void 0:r(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]?void 0:r(!1):(this._callbacks[n]?void 0:r(!1),this._invokeCallback(n))}},e.prototype.dispatch=function(e){this._isDispatching?r(!1):void 0,this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=a},function(e,t){t.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,u=l>>1,c=-7,A=n?r-1:0,d=n?-1:1,h=e[t+A];for(A+=d,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+A],A+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;c>0;a=256*a+e[t+A],A+=d,c-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:(h?-1:1)*(1/0);a+=Math.pow(2,i),o-=u}return(h?-1:1)*a*Math.pow(2,o-i)},t.write=function(e,t,n,i,r,o){var a,s,l,u=8*o-r-1,c=(1<<u)-1,A=c>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:o-1,p=i?1:-1,f=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),t+=a+A>=1?d/l:d*Math.pow(2,1-A),t*l>=2&&(a++,l/=2),a+A>=c?(s=0,a=c):a+A>=1?(s=(t*l-1)*Math.pow(2,r),a+=A):(s=t*Math.pow(2,A-1)*Math.pow(2,r),a=0));r>=8;e[n+h]=255&s,h+=p,s/=256,r-=8);for(a=a<<r|s,u+=r;u>0;e[n+h]=255&a,h+=p,a/=256,u-=8);e[n+h-p]|=128*f}},function(e,t){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t;return"[object Object]"===n.call(e)&&(t=Object.getPrototypeOf(e),null===t||t===Object.getPrototypeOf({}))}},function(e,t){function n(e){return i.test(e)}e.exports=n;var i=/^(?:\w+:)?\/\/([^\s\.]+\.\S{2}|localhost[\:?\d]*)\S*$/},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},,,,,,,,,,,,,,,,,,,function(e,t,n){function i(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}function r(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function o(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function a(e){return function(t){return e({},t)}}function s(e,t){return function(){var n=arguments.length;if(!n)return r;for(var i=Array(n);n--;)i[n]=arguments[n];var r=i[0]=t.apply(void 0,i);return e.apply(void 0,i),r}}function l(e,t,n,d){function h(e,t){t=V(t);for(var n=-1,i=t.length,r=M(Object(e)),o=r;null!=o&&++n<i;){var a=t[n],s=o[a];null!=s&&(o[a]=M(Object(s))),o=o[a]}return r}function p(e){return K.runInContext.convert(e)(void 0)}function f(e,t){var n=d;return function(i){var r=S?O:N,o=S?O[e]:t,a=D(D({},n),i);return l(r,e,o,a)}}function m(e,t){return v(e,function(e){return"function"==typeof e?r(e,t):e})}function g(e,t){return v(e,function(e){var n=t.length;return i(U(r(e,n),t),n)})}function v(e,t){return function(){var n=arguments.length;if(!n)return e();for(var i=Array(n);n--;)i[n]=arguments[n];var r=b.rearg?0:n-1;return i[r]=t(i[r]),e.apply(void 0,i)}}function _(e,t){e=u.aliasToReal[e]||e;var n,i=t,r=H[e];return r?i=r(t):b.immutable&&(c.array[e]?i=s(t,o):c.object[e]?i=s(t,a(t)):c.set[e]&&(i=s(t,h))),L(W,function(t){return L(u.aryMethod[t],function(r){if(e==r){var o=!S&&u.iterateeAry[e],a=u.iterateeRearg[e],s=u.methodSpread[e];return n=i,!b.fixed||!T&&u.skipFixed[e]||(n=void 0===s?k(n,t):F(n,s)),b.rearg&&t>1&&(I||!u.skipRearg[e])&&(n=U(n,u.methodRearg[e]||u.aryRearg[t])),b.cap&&(a?n=g(n,a):o&&(n=m(n,o))),(C||b.curry&&t>1)&&(C&&console.log(C,e),n=P(n,t)),!1}}),!n}),n||(n=i),n==t&&(n=C?P(n,1):function(){return t.apply(this,arguments)}),n.convert=f(e,t),u.placeholder[e]&&(E=!0,n.placeholder=t.placeholder=w),n}var E,S="function"==typeof t,y=t===Object(t);if(y&&(d=n,n=t,t=void 0),null==n)throw new TypeError;d||(d={});var b={cap:"cap"in d?d.cap:!0,curry:"curry"in d?d.curry:!0,fixed:"fixed"in d?d.fixed:!0,immutable:"immutable"in d?d.immutable:!0,rearg:"rearg"in d?d.rearg:!0},C="curry"in d&&d.curry,T="fixed"in d&&d.fixed,I="rearg"in d&&d.rearg,w=S?n:A,O=S?n.runInContext():void 0,N=S?n:{ary:e.ary,assign:e.assign,clone:e.clone,curry:e.curry,forEach:e.forEach,isArray:e.isArray,isFunction:e.isFunction,iteratee:e.iteratee,keys:e.keys,rearg:e.rearg,spread:e.spread,toPath:e.toPath},k=N.ary,D=N.assign,M=N.clone,P=N.curry,L=N.forEach,x=N.isArray,R=N.isFunction,B=N.keys,U=N.rearg,F=N.spread,V=N.toPath,W=B(u.aryMethod),H={castArray:function(e){return function(){var t=arguments[0];return x(t)?e(o(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],n=arguments[1],i=e(t,n),o=i.length;return b.cap&&"number"==typeof n?(n=n>2?n-2:1,o&&n>=o?i:r(i,n)):i}},mixin:function(e){return function(t){var n=this;if(!R(n))return e(n,Object(t));var i=[],r=[];return L(B(t),function(e){var o=t[e];R(o)&&(r.push(e),i.push(n.prototype[e]))}),e(n,Object(t)),L(r,function(e,t){var r=i[t];R(r)?n.prototype[e]=r:delete n.prototype[e]}),n}},runInContext:function(t){return function(n){return l(e,t(n),d)}}};if(!y)return _(t,n);var K=n,G=[];return L(W,function(e){L(u.aryMethod[e],function(e){var t=K[u.remap[e]||e];t&&G.push([e,_(e,t)])})}),L(B(K),function(e){var t=K[e];if("function"==typeof t){for(var n=G.length;n--;)if(G[n][0]==e)return;t.convert=f(e,t),G.push([e,t])}}),L(G,function(e){K[e[0]]=e[1]}),K.convert=p,E&&(K.placeholder=w),L(B(K),function(e){L(u.realToAlias[e]||[],function(t){K[t]=K[e]})}),K}var u=n(517),c=u.mutate,A=n(518);e.exports=l},function(e,t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendWith:"assignInWith",first:"head",__:"placeholder",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",equals:"isEqual",identical:"eq",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",unapply:"rest",unnest:"flatten",useWith:"overArgs",whereEq:"filter",zipObj:"zipObject"},t.aryMethod={1:["attempt","castArray","ceil","create","curry","curryRight","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","methodOf","mixin","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words"],2:["add","after","ary","assign","assignIn","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","getOr","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findIndex:1,findKey:1,findLast:1,findLastIndex:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1]},t.methodRearg={assignInWith:[1,2,0],assignWith:[1,2,0],getOr:[2,1,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],updateWith:[3,1,2,0],zipWith:[1,2,0]},t.methodSpread={invokeArgs:2,invokeArgsMap:2,partial:1,partialRight:1,without:1},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignIn:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsDeep:!0,merge:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.placeholder={bind:!0,bindKey:!0,curry:!0,curryRight:!0,partial:!0,partialRight:!0},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,i={};for(var r in n){var o=n[r];e.call(i,o)?i[o].push(r):i[o]=[r]}return i}(),t.remap={curryN:"curry",curryRightN:"curryRight",getOr:"get",invokeArgs:"invoke",invokeArgsMap:"invokeMap",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,without:!0,zip:!0,zipObject:!0}},function(e,t){e.exports={}},,,,,,function(e,t,n){var i;(function(e,r){(function(){function o(e,t){return e.set(t[0],t[1]),e}function a(e,t){return e.add(t),e}function s(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function l(e,t,n,i){for(var r=-1,o=e.length;++r<o;){var a=e[r];t(i,a,n(a),e)}return i}function u(e,t){for(var n=-1,i=e.length;++n<i&&!1!==t(e[n],n,e););return e}function c(e,t){for(var n=-1,i=e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function A(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}function d(e,t){return!!e.length&&-1<y(e,t,0)}function h(e,t,n){for(var i=-1,r=e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function p(e,t){for(var n=-1,i=e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function f(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function m(e,t,n,i){var r=-1,o=e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function g(e,t,n,i){var r=e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function v(e,t){for(var n=-1,i=e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function _(e,t,n){for(var i=-1,r=e.length;++i<r;){var o=e[i],a=t(o);if(null!=a&&(s===Z?a===a:n(a,s)))var s=a,l=o}return l}function E(e,t,n,i){var r;return n(e,function(e,n,o){return t(e,n,o)?(r=i?n:e,!1):void 0}),r}function S(e,t,n){for(var i=e.length,r=n?i:-1;n?r--:++r<i;)if(t(e[r],r,e))return r;return-1}function y(e,t,n){if(t!==t)return V(e,n);--n;for(var i=e.length;++n<i;)if(e[n]===t)return n;return-1}function b(e,t,n,i){--n;for(var r=e.length;++n<r;)if(i(e[n],t))return n;return-1}function C(e,t){var n=e?e.length:0;return n?w(e,t)/n:X}function T(e,t,n,i,r){return r(e,function(e,r,o){n=i?(i=!1,e):t(n,e,r,o)}),n}function I(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].c;return e}function w(e,t){for(var n,i=-1,r=e.length;++i<r;){var o=t(e[i]);o!==Z&&(n=n===Z?o:n+o)}return n}function O(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function N(e,t){return p(t,function(t){return[t,e[t]]})}function k(e){return function(t){return e(t)}}function D(e,t){return p(t,function(t){return e[t]})}function M(e,t){for(var n=-1,i=e.length;++n<i&&-1<y(t,e[n],0););return n}function P(e,t){for(var n=e.length;n--&&-1<y(t,e[n],0););return n}function L(e){return e&&e.Object===Object?e:null}function x(e,t){if(e!==t){var n=null===e,i=e===Z,r=e===e,o=null===t,a=t===Z,s=t===t;if(e>t&&!o||!r||n&&!a&&s||i&&s)return 1;if(t>e&&!n||!s||o&&!i&&r||a&&r)return-1}return 0}function R(e){return function(t,n){var i;return t===Z&&n===Z?0:(t!==Z&&(i=t),n!==Z&&(i=i===Z?n:e(i,n)),i)}}function B(e){return He[e]}function U(e){return Ke[e]}function F(e){return"\\"+ze[e]}function V(e,t,n){var i=e.length;for(t+=n?0:-1;n?t--:++t<i;){var r=e[t];if(r!==r)return t}return-1}function W(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function H(e,t){return e="number"==typeof e||Ie.test(e)?+e:-1,e>-1&&0==e%1&&(null==t?9007199254740991:t)>e}function K(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function G(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function j(e,t){for(var n=-1,i=e.length,r=0,o=[];++n<i;){var a=e[n];a!==t&&"__lodash_placeholder__"!==a||(e[n]="__lodash_placeholder__",o[r++]=n)}return o}function z(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function J(e){if(!e||!Be.test(e))return e.length;for(var t=xe.lastIndex=0;xe.test(e);)t++;return t}function Q(e){return Ge[e]}function Y(e){function t(e){if(Pi(e)&&!oa(e)&&!(e instanceof r)){if(e instanceof i)return e;if(Er.call(e,"__wrapped__"))return $n(e)}return new i(e)}function n(){}function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Z}function r(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function L(){}function Ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ke(e){var t=-1,n=e?e.length:0;for(this.__data__=new Ie;++t<n;)this.push(e[t])}function De(e,t){var n=e.__data__;return jn(t)?(n=n.__data__,"__lodash_hash_undefined__"===("string"==typeof t?n.string:n.hash)[t]):n.has(t)}function Me(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function He(e,t){var n=Ge(e,t);return 0>n?!1:(n==e.length-1?e.pop():Br.call(e,n,1),!0)}function Ke(e,t){var n=Ge(e,t);return 0>n?Z:e[n][1]}function Ge(e,t){for(var n=e.length;n--;)if(bi(e[n][0],t))return n;return-1}function je(e,t,n){var i=Ge(e,t);0>i?e.push([t,n]):e[i][1]=n}function ze(e,t,n,i){return e===Z||bi(e,gr[n])&&!Er.call(i,n)?t:e;
}function Ye(e,t,n){(n===Z||bi(e[t],n))&&("number"!=typeof t||n!==Z||t in e)||(e[t]=n)}function Ze(e,t,n){var i=e[t];Er.call(e,t)&&bi(i,n)&&(n!==Z||t in e)||(e[t]=n)}function Xe(e,t,n,i){return fo(e,function(e,r,o){t(i,e,n(e),o)}),i}function $e(e,t){return e&&an(t,qi(t),e)}function et(e,t){for(var n=-1,i=null==e,r=t.length,o=Array(r);++n<r;)o[n]=i?Z:Qi(e,t[n]);return o}function it(e,t,n){return e===e&&(n!==Z&&(e=e>n?n:e),t!==Z&&(e=t>e?t:e)),e}function rt(e,t,n,i,r,o,a){var s;if(i&&(s=o?i(e,r,o,a):i(e)),s!==Z)return s;if(!Mi(e))return e;if(r=oa(e)){if(s=Bn(e),!t)return on(e,s)}else{var l=xn(e),c="[object Function]"==l||"[object GeneratorFunction]"==l;if(aa(e))return en(e,t);if("[object Object]"==l||"[object Arguments]"==l||c&&!o){if(W(e))return o?e:{};if(s=Un(c?{}:e),!t)return sn(e,$e(s,e))}else{if(!We[l])return o?e:{};s=Fn(e,l,rt,t)}}if(a||(a=new Me),o=a.get(e))return o;if(a.set(e,s),!r)var A=n?mt(e,qi,Ln):qi(e);return u(A||e,function(r,o){A&&(o=r,r=e[o]),Ze(s,o,rt(r,t,n,i,o,e,a))}),s}function ot(e){var t=qi(e),n=t.length;return function(i){if(null==i)return!n;for(var r=n;r--;){var o=t[r],a=e[o],s=i[o];if(s===Z&&!(o in Object(i))||!a(s))return!1}return!0}}function at(e){return Mi(e)?Lr(e):{}}function st(e,t,n){if("function"!=typeof e)throw new fr("Expected a function");return Rr(function(){e.apply(Z,n)},t)}function lt(e,t,n,i){var r=-1,o=d,a=!0,s=e.length,l=[],u=t.length;if(!s)return l;n&&(t=p(t,k(n))),i?(o=h,a=!1):t.length>=200&&(o=De,a=!1,t=new ke(t));e:for(;++r<s;){var c=e[r],A=n?n(c):c;if(a&&A===A){for(var f=u;f--;)if(t[f]===A)continue e;l.push(c)}else o(t,A,i)||l.push(c)}return l}function ut(e,t){var n=!0;return fo(e,function(e,i,r){return n=!!t(e,i,r)}),n}function ct(e,t){var n=[];return fo(e,function(e,i,r){t(e,i,r)&&n.push(e)}),n}function At(e,t,n,i,r){var o=-1,a=e.length;for(n||(n=Wn),r||(r=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?At(s,t-1,n,i,r):f(r,s):i||(r[r.length]=s)}return r}function dt(e,t){return e&&go(e,t,qi)}function ht(e,t){return e&&vo(e,t,qi)}function pt(e,t){return A(t,function(t){return Ni(e[t])})}function ft(e,t){t=Gn(t,e)?[t]:Xt(t);for(var n=0,i=t.length;null!=e&&i>n;)e=e[t[n++]];return n&&n==i?e:Z}function mt(e,t,n){return t=t(e),oa(e)?t:f(t,n(e))}function gt(e,t){return Er.call(e,t)||"object"==typeof e&&t in e&&null===Vr(Object(e))}function vt(e,t){return t in Object(e)}function _t(e,t,n){for(var i=n?h:d,r=e[0].length,o=e.length,a=o,s=Array(o),l=1/0,u=[];a--;){var c=e[a];a&&t&&(c=p(c,k(t))),l=jr(c.length,l),s[a]=n||!t&&(120>r||120>c.length)?Z:new ke(a&&c)}var c=e[0],A=-1,f=s[0];e:for(;++A<r&&l>u.length;){var m=c[A],g=t?t(m):m;if(f?!De(f,g):!i(u,g,n)){for(a=o;--a;){var v=s[a];if(v?!De(v,g):!i(e[a],g,n))continue e}f&&f.push(g),u.push(m)}}return u}function Et(e,t,n){var i={};return dt(e,function(e,r,o){t(i,n(e),r,o)}),i}function St(e,t,n){return Gn(t,e)||(t=Xt(t),e=Zn(e,t),t=ii(t)),t=null==e?e:e[t],null==t?Z:s(t,e,n)}function yt(e,t,n,i,r){if(e===t)t=!0;else if(null==e||null==t||!Mi(e)&&!Pi(t))t=e!==e&&t!==t;else e:{var o=oa(e),a=oa(t),s="[object Array]",l="[object Array]";o||(s=xn(e),s="[object Arguments]"==s?"[object Object]":s),a||(l=xn(t),l="[object Arguments]"==l?"[object Object]":l);var u="[object Object]"==s&&!W(e),a="[object Object]"==l&&!W(t);if((l=s==l)&&!u)r||(r=new Me),t=o||Vi(e)?wn(e,t,yt,n,i,r):On(e,t,s,yt,n,i,r);else{if(!(2&i)&&(o=u&&Er.call(e,"__wrapped__"),s=a&&Er.call(t,"__wrapped__"),o||s)){e=o?e.value():e,t=s?t.value():t,r||(r=new Me),t=yt(e,t,n,i,r);break e}if(l)t:if(r||(r=new Me),o=2&i,s=qi(e),a=s.length,l=qi(t).length,a==l||o){for(u=a;u--;){var c=s[u];if(!(o?c in t:gt(t,c))){t=!1;break t}}if(l=r.get(e))t=l==t;else{l=!0,r.set(e,t);for(var A=o;++u<a;){var c=s[u],d=e[c],h=t[c];if(n)var p=o?n(h,d,c,t,e,r):n(d,h,c,e,t,r);if(p===Z?d!==h&&!yt(d,h,n,i,r):!p){l=!1;break}A||(A="constructor"==c)}l&&!A&&(n=e.constructor,i=t.constructor,n!=i&&"constructor"in e&&"constructor"in t&&!("function"==typeof n&&n instanceof n&&"function"==typeof i&&i instanceof i)&&(l=!1)),r["delete"](e),t=l}}else t=!1;else t=!1}}return t}function bt(e,t,n,i){var r=n.length,o=r,a=!i;if(null==e)return!o;for(e=Object(e);r--;){var s=n[r];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<o;){var s=n[r],l=s[0],u=e[l],c=s[1];if(a&&s[2]){if(u===Z&&!(l in e))return!1}else{if(s=new Me,i)var A=i(u,c,l,e,t,s);if(A===Z?!yt(c,u,i,3,s):!A)return!1}}return!0}function Ct(e){return"function"==typeof e?e:null==e?ar:"object"==typeof e?oa(e)?Ot(e[0],e[1]):wt(e):cr(e)}function Tt(e){e=null==e?e:Object(e);var t,n=[];for(t in e)n.push(t);return n}function It(e,t){var n=-1,i=Ii(e)?Array(e.length):[];return fo(e,function(e,r,o){i[++n]=t(e,r,o)}),i}function wt(e){var t=Dn(e);return 1==t.length&&t[0][2]?Qn(t[0][0],t[0][1]):function(n){return n===e||bt(n,e,t)}}function Ot(e,t){return Gn(e)&&t===t&&!Mi(t)?Qn(e,t):function(n){var i=Qi(n,e);return i===Z&&i===t?Zi(n,e):yt(t,i,Z,3)}}function Nt(e,t,n,i,r){if(e!==t){if(!oa(t)&&!Vi(t))var o=Xi(t);u(o||t,function(a,s){if(o&&(s=a,a=t[s]),Mi(a)){r||(r=new Me);var l=s,u=r,c=e[l],A=t[l],d=u.get(A);if(d)Ye(e,l,d);else{var d=i?i(c,A,l+"",e,t,u):Z,h=d===Z;h&&(d=A,oa(A)||Vi(A)?oa(c)?d=c:wi(c)?d=on(c):(h=!1,d=rt(A,!0)):Ri(A)||Ti(A)?Ti(c)?d=zi(c):!Mi(c)||n&&Ni(c)?(h=!1,d=rt(A,!0)):d=c:h=!1),u.set(A,d),h&&Nt(d,A,n,i,u),u["delete"](A),Ye(e,l,d)}}else l=i?i(e[s],a,s+"",e,t,r):Z,l===Z&&(l=a),Ye(e,s,l)})}}function kt(e,t){var n=e.length;return n?(t+=0>t?n:0,H(t,n)?e[t]:Z):void 0}function Dt(e,t,n){var i=-1;return t=p(t.length?t:[ar],k(kn())),e=It(e,function(e){return{a:p(t,function(t){return t(e)}),b:++i,c:e}}),I(e,function(e,t){var i;e:{i=-1;for(var r=e.a,o=t.a,a=r.length,s=n.length;++i<a;){var l=x(r[i],o[i]);if(l){i=s>i?l*("desc"==n[i]?-1:1):l;break e}}i=e.b-t.b}return i})}function Mt(e,t){return e=Object(e),m(t,function(t,n){return n in e&&(t[n]=e[n]),t},{})}function Pt(e,t){for(var n=-1,i=mt(e,Xi,bo),r=i.length,o={};++n<r;){var a=i[n],s=e[a];t(s,a)&&(o[a]=s)}return o}function Lt(e){return function(t){return null==t?Z:t[e]}}function xt(e){return function(t){return ft(t,e)}}function Rt(e,t,n,i){var r=i?b:y,o=-1,a=t.length,s=e;for(n&&(s=p(e,k(n)));++o<a;)for(var l=0,u=t[o],u=n?n(u):u;-1<(l=r(s,u,l,i));)s!==e&&Br.call(s,l,1),Br.call(e,l,1);return e}function Bt(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(i==n||r!=o){var o=r;if(H(r))Br.call(e,r,1);else if(Gn(r,e))delete e[r];else{var r=Xt(r),a=Zn(e,r);null!=a&&delete a[ii(r)]}}}}function Ut(e,t){return e+Fr(Jr()*(t-e+1))}function Ft(e,t){var n="";if(!e||1>t||t>9007199254740991)return n;do t%2&&(n+=e),(t=Fr(t/2))&&(e+=e);while(t);return n}function Vt(e,t,n,i){t=Gn(t,e)?[t]:Xt(t);for(var r=-1,o=t.length,a=o-1,s=e;null!=s&&++r<o;){var l=t[r];if(Mi(s)){var u=n;if(r!=a){var c=s[l],u=i?i(c,l,s):Z;u===Z&&(u=null==c?H(t[r+1])?[]:{}:c)}Ze(s,l,u)}s=s[l]}return e}function Wt(e,t,n){var i=-1,r=e.length;for(0>t&&(t=-t>r?0:r+t),n=n>r?r:n,0>n&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0,n=Array(r);++i<r;)n[i]=e[i+t];return n}function Ht(e,t){var n;return fo(e,function(e,i,r){return n=t(e,i,r),!n}),!!n}function Kt(e,t,n){var i=0,r=e?e.length:i;if("number"==typeof t&&t===t&&2147483647>=r){for(;r>i;){var o=i+r>>>1,a=e[o];(n?t>=a:t>a)&&null!==a?i=o+1:r=o}return r}return Gt(e,t,ar,n)}function Gt(e,t,n,i){t=n(t);for(var r=0,o=e?e.length:0,a=t!==t,s=null===t,l=t===Z;o>r;){var u=Fr((r+o)/2),c=n(e[u]),A=c!==Z,d=c===c;(a?d||i:s?d&&A&&(i||null!=c):l?d&&(i||A):null==c?0:i?t>=c:t>c)?r=u+1:o=u}return jr(o,4294967294)}function jt(e,t){for(var n=0,i=e.length,r=e[0],o=t?t(r):r,a=o,s=1,l=[r];++n<i;)r=e[n],o=t?t(r):r,bi(o,a)||(a=o,l[s++]=r);return l}function zt(e,t,n){var i=-1,r=d,o=e.length,a=!0,s=[],l=s;if(n)a=!1,r=h;else if(200>o)l=t?[]:s;else{if(r=t?null:Eo(e))return z(r);a=!1,r=De,l=new ke}e:for(;++i<o;){var u=e[i],c=t?t(u):u;if(a&&c===c){for(var A=l.length;A--;)if(l[A]===c)continue e;t&&l.push(c),s.push(u)}else r(l,c,n)||(l!==s&&l.push(c),s.push(u))}return s}function Jt(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?Wt(e,i?0:o,i?o+1:r):Wt(e,i?o+1:0,i?r:o)}function Qt(e,t){var n=e;return n instanceof r&&(n=n.value()),m(t,function(e,t){return t.func.apply(t.thisArg,f([e],t.args))},n)}function Yt(e,t,n){for(var i=-1,r=e.length;++i<r;)var o=o?f(lt(o,e[i],t,n),lt(e[i],o,t,n)):e[i];return o&&o.length?zt(o,t,n):[]}function Zt(e,t,n){for(var i=-1,r=e.length,o=t.length,a={};++i<r;)n(a,e[i],o>i?t[i]:Z);return a}function qt(e){return wi(e)?e:[]}function Xt(e){return oa(e)?e:To(e)}function $t(e,t,n){var i=e.length;return n=n===Z?i:n,t||i>n?Wt(e,t,n):e}function en(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function tn(e){var t=new e.constructor(e.byteLength);return new Nr(t).set(new Nr(e)),t}function nn(e,t,n,i){var r=-1,o=e.length,a=n.length,s=-1,l=t.length,u=Gr(o-a,0),c=Array(l+u);for(i=!i;++s<l;)c[s]=t[s];for(;++r<a;)(i||o>r)&&(c[n[r]]=e[r]);for(;u--;)c[s++]=e[r++];return c}function rn(e,t,n,i){var r=-1,o=e.length,a=-1,s=n.length,l=-1,u=t.length,c=Gr(o-s,0),A=Array(c+u);for(i=!i;++r<c;)A[r]=e[r];for(c=r;++l<u;)A[c+l]=t[l];for(;++a<s;)(i||o>r)&&(A[c+n[a]]=e[r++]);return A}function on(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}function an(e,t,n,i){n||(n={});for(var r=-1,o=t.length;++r<o;){var a=t[r],s=i?i(n[a],e[a],a,n,e):e[a];Ze(n,a,s)}return n}function sn(e,t){return an(e,Ln(e),t)}function ln(e,t){return function(n,i){var r=oa(n)?l:Xe,o=t?t():{};return r(n,e,kn(i),o)}}function un(e){return Si(function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:Z,a=r>2?n[2]:Z,o="function"==typeof o?(r--,o):Z;for(a&&Kn(n[0],n[1],a)&&(o=3>r?Z:o,r=1),t=Object(t);++i<r;)(a=n[i])&&e(t,a,i,o);return t})}function cn(e,t){return function(n,i){if(null==n)return n;if(!Ii(n))return e(n,i);for(var r=n.length,o=t?r:-1,a=Object(n);(t?o--:++o<r)&&!1!==i(a[o],o,a););return n}}function An(e){return function(t,n,i){var r=-1,o=Object(t);i=i(t);for(var a=i.length;a--;){var s=i[e?a:++r];if(!1===n(o[s],s,o))break}return t}}function dn(e,t,n){function i(){return(this&&this!==tt&&this instanceof i?o:e).apply(r?n:this,arguments)}var r=1&t,o=fn(e);return i}function hn(e){return function(t){t=Ji(t);var n=Be.test(t)?t.match(xe):Z,i=n?n[0]:t.charAt(0);return t=n?$t(n,1).join(""):t.slice(1),i[e]()+t}}function pn(e){return function(t){return m(rr(ir(t).replace(Pe,"")),e,"")}}function fn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=at(e.prototype),t=e.apply(n,t);return Mi(t)?t:n}}function mn(e,t,n){function i(){for(var o=arguments.length,a=Array(o),l=o,u=Pn(i);l--;)a[l]=arguments[l];return l=3>o&&a[0]!==u&&a[o-1]!==u?[]:j(a,u),o-=l.length,n>o?Cn(e,t,vn,i.placeholder,Z,a,l,Z,Z,n-o):s(this&&this!==tt&&this instanceof i?r:e,this,a)}var r=fn(e);return i}function gn(e){return Si(function(t){t=At(t,1);var n=t.length,r=n,o=i.prototype.thru;for(e&&t.reverse();r--;){var a=t[r];if("function"!=typeof a)throw new fr("Expected a function");if(o&&!s&&"wrapper"==Nn(a))var s=new i([],!0)}for(r=s?r:n;++r<n;)var a=t[r],o=Nn(a),l="wrapper"==o?So(a):Z,s=l&&zn(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[Nn(l[0])].apply(s,l[3]):1==a.length&&zn(a)?s[o]():s.thru(a);return function(){var e=arguments,i=e[0];if(s&&1==e.length&&oa(i)&&i.length>=200)return s.plant(i).value();for(var r=0,e=n?t[r].apply(this,e):i;++r<n;)e=t[r].call(this,e);return e}})}function vn(e,t,n,i,r,o,a,s,l,u){function c(){for(var g=arguments.length,v=g,_=Array(g);v--;)_[v]=arguments[v];if(p){var E,S=Pn(c),v=_.length;for(E=0;v--;)_[v]===S&&E++}if(i&&(_=nn(_,i,r,p)),o&&(_=rn(_,o,a,p)),g-=E,p&&u>g)return S=j(_,S),Cn(e,t,vn,c.placeholder,n,_,S,s,l,u-g);if(S=d?n:this,v=h?S[e]:e,g=_.length,s){E=_.length;for(var y=jr(s.length,E),b=on(_);y--;){var C=s[y];_[y]=H(C,E)?b[C]:Z}}else f&&g>1&&_.reverse();return A&&g>l&&(_.length=l),this&&this!==tt&&this instanceof c&&(v=m||fn(v)),v.apply(S,_)}var A=128&t,d=1&t,h=2&t,p=24&t,f=512&t,m=h?Z:fn(e);return c}function _n(e,t){return function(n,i){return Et(n,e,t(i))}}function En(e){return Si(function(t){return t=1==t.length&&oa(t[0])?p(t[0],k(kn())):p(At(t,1,Hn),k(kn())),Si(function(n){var i=this;return e(t,function(e){return s(e,i,n)})})})}function Sn(e,t){t=t===Z?" ":t+"";var n=t.length;return 2>n?n?Ft(t,e):t:(n=Ft(t,Ur(e/J(t))),Be.test(t)?$t(n.match(xe),0,e).join(""):n.slice(0,e))}function yn(e,t,n,i){function r(){for(var t=-1,l=arguments.length,u=-1,c=i.length,A=Array(c+l),d=this&&this!==tt&&this instanceof r?a:e;++u<c;)A[u]=i[u];for(;l--;)A[u++]=arguments[++t];return s(d,o?n:this,A)}var o=1&t,a=fn(e);return r}function bn(e){return function(t,n,i){i&&"number"!=typeof i&&Kn(t,n,i)&&(n=i=Z),t=ji(t),t=t===t?t:0,n===Z?(n=t,t=0):n=ji(n)||0,i=i===Z?n>t?1:-1:ji(i)||0;var r=-1;n=Gr(Ur((n-t)/(i||1)),0);for(var o=Array(n);n--;)o[e?n:++r]=t,t+=i;return o}}function Cn(e,t,n,i,r,o,a,s,l,u){var c=8&t,A=c?a:Z;a=c?Z:a;var d=c?o:Z;return o=c?Z:o,t=(t|(c?32:64))&~(c?64:32),4&t||(t&=-4),t=[e,t,r,d,A,o,a,s,l,u],n=n.apply(Z,t),zn(e)&&Co(n,t),n.placeholder=i,n}function Tn(e){var t=hr[e];return function(e,n){if(e=ji(e),n=Ki(n)){var i=(Ji(e)+"e").split("e"),i=t(i[0]+"e"+(+i[1]+n)),i=(Ji(i)+"e").split("e");return+(i[0]+"e"+(+i[1]-n))}return t(e)}}function In(e,t,n,i,r,o,a,s){var l=2&t;if(!l&&"function"!=typeof e)throw new fr("Expected a function");var u=i?i.length:0;if(u||(t&=-97,i=r=Z),a=a===Z?a:Gr(Ki(a),0),s=s===Z?s:Ki(s),u-=r?r.length:0,64&t){var c=i,A=r;i=r=Z}var d=l?Z:So(e);return o=[e,t,n,i,r,c,A,o,a,s],d&&(n=o[1],e=d[1],t=n|e,i=128==e&&8==n||128==e&&256==n&&d[8]>=o[7].length||384==e&&d[8]>=d[7].length&&8==n,131>t||i)&&(1&e&&(o[2]=d[2],t|=1&n?0:4),(n=d[3])&&(i=o[3],o[3]=i?nn(i,n,d[4]):n,o[4]=i?j(o[3],"__lodash_placeholder__"):d[4]),(n=d[5])&&(i=o[5],o[5]=i?rn(i,n,d[6]):n,o[6]=i?j(o[5],"__lodash_placeholder__"):d[6]),(n=d[7])&&(o[7]=n),128&e&&(o[8]=null==o[8]?d[8]:jr(o[8],d[8])),null==o[9]&&(o[9]=d[9]),o[0]=d[0],o[1]=t),e=o[0],t=o[1],n=o[2],i=o[3],r=o[4],s=o[9]=null==o[9]?l?0:e.length:Gr(o[9]-u,0),!s&&24&t&&(t&=-25),(d?_o:Co)(t&&1!=t?8==t||16==t?mn(e,t,s):32!=t&&33!=t||r.length?vn.apply(Z,o):yn(e,t,n,i):dn(e,t,n),o)}function wn(e,t,n,i,r,o){var a=-1,s=2&r,l=1&r,u=e.length,c=t.length;if(!(u==c||s&&c>u))return!1;if(c=o.get(e))return c==t;for(c=!0,o.set(e,t);++a<u;){var A=e[a],d=t[a];if(i)var h=s?i(d,A,a,t,e,o):i(A,d,a,e,t,o);if(h!==Z){if(h)continue;c=!1;break}if(l){if(!v(t,function(e){return A===e||n(A,e,i,r,o)})){c=!1;break}}else if(A!==d&&!n(A,d,i,r,o)){c=!1;break}}return o["delete"](e),c}function On(e,t,n,i,r,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)break;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":if(e.byteLength!=t.byteLength||!i(new Nr(e),new Nr(t)))break;return!0;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object Number]":return e!=+e?t!=+t:e==+t;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=G;case"[object Set]":if(s||(s=z),e.size!=t.size&&!(2&o))break;return(n=a.get(e))?n==t:(o|=1,a.set(e,t),wn(s(e),s(t),i,r,o,a));case"[object Symbol]":if(ho)return ho.call(e)==ho.call(t)}return!1}function Nn(e){for(var t=e.name+"",n=oo[t],i=Er.call(oo,t)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function kn(){var e=t.iteratee||sr,e=e===sr?Ct:e;return arguments.length?e(arguments[0],arguments[1]):e}function Dn(e){e=$i(e);for(var t=e.length;t--;){var n=e[t][1];e[t][2]=n===n&&!Mi(n)}return e}function Mn(e,t){var n=e[t];return Li(n)?n:Z}function Pn(e){return(Er.call(t,"placeholder")?t:e).placeholder}function Ln(e){return Mr(Object(e))}function xn(e){return br.call(e)}function Rn(e,t,n){t=Gn(t,e)?[t]:Xt(t);for(var i,r=-1,o=t.length;++r<o;){var a=t[r];if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i?i:(o=e?e.length:0,!!o&&Di(o)&&H(a,o)&&(oa(e)||Ui(e)||Ti(e)))}function Bn(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&Er.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Un(e){return"function"!=typeof e.constructor||Jn(e)?{}:at(Vr(Object(e)))}function Fn(e,t,n,i){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return tn(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return t=i?tn(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return t=i?tn(e.buffer):e.buffer,new e.constructor(t,e.byteOffset,e.length);case"[object Map]":return t=i?n(G(e),!0):G(e),m(t,o,new e.constructor);case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return t=new e.constructor(e.source,Ee.exec(e)),t.lastIndex=e.lastIndex,t;case"[object Set]":return t=i?n(z(e),!0):z(e),m(t,a,new e.constructor);case"[object Symbol]":return ho?Object(ho.call(e)):{}}}function Vn(e){var t=e?e.length:Z;return Di(t)&&(oa(e)||Ui(e)||Ti(e))?O(t,String):null}function Wn(e){return wi(e)&&(oa(e)||Ti(e))}function Hn(e){return oa(e)&&!(2==e.length&&!Ni(e[0]))}function Kn(e,t,n){if(!Mi(n))return!1;var i=typeof t;return("number"==i?Ii(n)&&H(t,n.length):"string"==i&&t in n)?bi(n[t],e):!1}function Gn(e,t){var n=typeof e;return"number"==n||"symbol"==n?!0:!oa(e)&&(Fi(e)||ce.test(e)||!ue.test(e)||null!=t&&e in Object(t))}function jn(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}function zn(e){var n=Nn(e),i=t[n];return"function"==typeof i&&n in r.prototype?e===i?!0:(n=So(i),!!n&&e===n[0]):!1}function Jn(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||gr)}function Qn(e,t){return function(n){return null==n?!1:n[e]===t&&(t!==Z||e in Object(n))}}function Yn(e,t,n,i,r,o){return Mi(e)&&Mi(t)&&Nt(e,t,Z,Yn,o.set(t,e)),e}function Zn(e,t){return 1==t.length?e:ft(e,Wt(t,0,-1))}function qn(e){return"string"==typeof e||Fi(e)?e:e+""}function Xn(e){if(null!=e){try{return _r.call(e)}catch(t){}return e+""}return""}function $n(e){if(e instanceof r)return e.clone();var t=new i(e.__wrapped__,e.__chain__);return t.__actions__=on(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function ei(e,t,n){var i=e?e.length:0;return i?(t=n||t===Z?1:Ki(t),Wt(e,0>t?0:t,i)):[]}function ti(e,t,n){var i=e?e.length:0;return i?(t=n||t===Z?1:Ki(t),t=i-t,Wt(e,0,0>t?0:t)):[]}function ni(e){return e&&e.length?e[0]:Z}function ii(e){var t=e?e.length:0;return t?e[t-1]:Z}function ri(e,t){return e&&e.length&&t&&t.length?Rt(e,t):e}function oi(e){return e?Yr.call(e):e}function ai(e){if(!e||!e.length)return[];var t=0;return e=A(e,function(e){return wi(e)?(t=Gr(e.length,t),!0):void 0}),O(t,function(t){return p(e,Lt(t))})}function si(e,t){if(!e||!e.length)return[];var n=ai(e);return null==t?n:p(n,function(e){return s(t,Z,e)})}function li(e){return e=t(e),e.__chain__=!0,e}function ui(e,t){return t(e)}function ci(){return this}function Ai(e,t){return"function"==typeof t&&oa(e)?u(e,t):fo(e,kn(t))}function di(e,t){var n;if("function"==typeof t&&oa(e)){for(n=e.length;n--&&!1!==t(e[n],n,e););n=e}else n=mo(e,kn(t));return n}function hi(e,t){return(oa(e)?p:It)(e,kn(t,3))}function pi(e,t,n){var i=-1,r=Hi(e),o=r.length,a=o-1;for(t=(n?Kn(e,t,n):t===Z)?1:it(Ki(t),0,o);++i<t;)e=Ut(i,a),n=r[e],r[e]=r[i],r[i]=n;return r.length=t,r}function fi(e,t,n){return t=n?Z:t,t=e&&null==t?e.length:t,In(e,128,Z,Z,Z,Z,t)}function mi(e,t){var n;if("function"!=typeof t)throw new fr("Expected a function");return e=Ki(e),function(){return 0<--e&&(n=t.apply(this,arguments)),1>=e&&(t=Z),n}}function gi(e,t,n){return t=n?Z:t,e=In(e,8,Z,Z,Z,Z,Z,t),e.placeholder=gi.placeholder,e}function vi(e,t,n){return t=n?Z:t,e=In(e,16,Z,Z,Z,Z,Z,t),e.placeholder=vi.placeholder,e}function _i(e,t,n){function i(t){var n=l,i=u;return l=u=Z,p=t,A=e.apply(i,n)}function r(e){var n=e-h;return e-=p,!h||n>=t||0>n||m&&e>=c}function o(){var e=Zo();if(r(e))return a(e);var n;n=e-p,e=t-(e-h),n=m?jr(e,c-n):e,d=Rr(o,n)}function a(e){return kr(d),d=Z,g&&l?i(e):(l=u=Z,A)}function s(){var e=Zo(),n=r(e);if(l=arguments,u=this,h=e,n){if(d===Z)return p=e=h,d=Rr(o,t),f?i(e):A;if(m)return kr(d),d=Rr(o,t),i(h)}return d===Z&&(d=Rr(o,t)),A}var l,u,c,A,d,h=0,p=0,f=!1,m=!1,g=!0;if("function"!=typeof e)throw new fr("Expected a function");return t=ji(t)||0,Mi(n)&&(f=!!n.leading,c=(m="maxWait"in n)?Gr(ji(n.maxWait)||0,t):c,g="trailing"in n?!!n.trailing:g),s.cancel=function(){d!==Z&&kr(d),h=p=0,l=u=d=Z},s.flush=function(){return d===Z?A:a(Zo())},s}function Ei(e,t){function n(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;return o.has(r)?o.get(r):(i=e.apply(this,i),n.cache=o.set(r,i),i)}if("function"!=typeof e||t&&"function"!=typeof t)throw new fr("Expected a function");return n.cache=new(Ei.Cache||Ie),n}function Si(e,t){if("function"!=typeof e)throw new fr("Expected a function");return t=Gr(t===Z?e.length-1:Ki(t),0),function(){for(var n=arguments,i=-1,r=Gr(n.length-t,0),o=Array(r);++i<r;)o[i]=n[t+i];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}for(r=Array(t+1),i=-1;++i<t;)r[i]=n[i];return r[t]=o,s(e,this,r)}}function yi(){if(!arguments.length)return[];var e=arguments[0];return oa(e)?e:[e]}function bi(e,t){return e===t||e!==e&&t!==t}function Ci(e,t){return e>t}function Ti(e){return wi(e)&&Er.call(e,"callee")&&(!xr.call(e,"callee")||"[object Arguments]"==br.call(e))}function Ii(e){return null!=e&&Di(yo(e))&&!Ni(e)}function wi(e){return Pi(e)&&Ii(e)}function Oi(e){return Pi(e)?"[object Error]"==br.call(e)||"string"==typeof e.message&&"string"==typeof e.name:!1}function Ni(e){return e=Mi(e)?br.call(e):"","[object Function]"==e||"[object GeneratorFunction]"==e}function ki(e){return"number"==typeof e&&e==Ki(e)}function Di(e){return"number"==typeof e&&e>-1&&0==e%1&&9007199254740991>=e}function Mi(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Pi(e){return!!e&&"object"==typeof e}function Li(e){return Mi(e)?(Ni(e)||W(e)?Tr:Ce).test(Xn(e)):!1}function xi(e){return"number"==typeof e||Pi(e)&&"[object Number]"==br.call(e)}function Ri(e){return!Pi(e)||"[object Object]"!=br.call(e)||W(e)?!1:(e=Vr(Object(e)),null===e?!0:(e=Er.call(e,"constructor")&&e.constructor,"function"==typeof e&&e instanceof e&&_r.call(e)==yr))}function Bi(e){return Mi(e)&&"[object RegExp]"==br.call(e)}function Ui(e){return"string"==typeof e||!oa(e)&&Pi(e)&&"[object String]"==br.call(e)}function Fi(e){return"symbol"==typeof e||Pi(e)&&"[object Symbol]"==br.call(e)}function Vi(e){return Pi(e)&&Di(e.length)&&!!Ve[br.call(e)]}function Wi(e,t){return t>e}function Hi(e){if(!e)return[];if(Ii(e))return Ui(e)?e.match(xe):on(e);if(Pr&&e[Pr])return K(e[Pr]());var t=xn(e);return("[object Map]"==t?G:"[object Set]"==t?z:tr)(e)}function Ki(e){if(!e)return 0===e?e:0;if(e=ji(e),e===q||e===-q)return 1.7976931348623157e308*(0>e?-1:1);var t=e%1;return e===e?t?e-t:e:0}function Gi(e){return e?it(Ki(e),0,4294967295):0}function ji(e){if("number"==typeof e)return e;if(Fi(e))return X;if(Mi(e)&&(e=Ni(e.valueOf)?e.valueOf():e,e=Mi(e)?e+"":e),"string"!=typeof e)return 0===e?e:+e;e=e.replace(pe,"");var t=be.test(e);return t||Te.test(e)?Qe(e.slice(2),t?2:8):ye.test(e)?X:+e}function zi(e){return an(e,Xi(e))}function Ji(e){if("string"==typeof e)return e;if(null==e)return"";if(Fi(e))return po?po.call(e):"";var t=e+"";return"0"==t&&1/e==-q?"-0":t}function Qi(e,t,n){return e=null==e?Z:ft(e,t),e===Z?n:e}function Yi(e,t){return null!=e&&Rn(e,t,gt)}function Zi(e,t){return null!=e&&Rn(e,t,vt)}function qi(e){var t=Jn(e);if(!t&&!Ii(e))return Kr(Object(e));var n,i=Vn(e),r=!!i,i=i||[],o=i.length;for(n in e)!gt(e,n)||r&&("length"==n||H(n,o))||t&&"constructor"==n||i.push(n);return i}function Xi(e){for(var t=-1,n=Jn(e),i=Tt(e),r=i.length,o=Vn(e),a=!!o,o=o||[],s=o.length;++t<r;){var l=i[t];a&&("length"==l||H(l,s))||"constructor"==l&&(n||!Er.call(e,l))||o.push(l)}return o}function $i(e){return N(e,qi(e))}function er(e){return N(e,Xi(e))}function tr(e){return e?D(e,qi(e)):[]}function nr(e){return Oa(Ji(e).toLowerCase())}function ir(e){return(e=Ji(e))&&e.replace(we,B).replace(Le,"")}function rr(e,t,n){return e=Ji(e),t=n?Z:t,t===Z&&(t=Ue.test(e)?Re:ge),e.match(t)||[]}function or(e){return function(){return e}}function ar(e){return e}function sr(e){return Ct("function"==typeof e?e:rt(e,!0))}function lr(e,t,n){var i=qi(t),r=pt(t,i);null!=n||Mi(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=pt(t,qi(t)));var o=!(Mi(n)&&"chain"in n&&!n.chain),a=Ni(e);return u(r,function(n){var i=t[n];e[n]=i,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=on(this.__actions__)).push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,f([this.value()],arguments))})}),e}function ur(){}function cr(e){return Gn(e)?Lt(e):xt(e)}e=e?nt.defaults({},e,nt.pick(tt,Fe)):tt;var Ar=e.Date,dr=e.Error,hr=e.Math,pr=e.RegExp,fr=e.TypeError,mr=e.Array.prototype,gr=e.Object.prototype,vr=e.String.prototype,_r=e.Function.prototype.toString,Er=gr.hasOwnProperty,Sr=0,yr=_r.call(Object),br=gr.toString,Cr=tt._,Tr=pr("^"+_r.call(Er).replace(de,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ir=qe?e.Buffer:Z,wr=e.Reflect,Or=e.Symbol,Nr=e.Uint8Array,kr=e.clearTimeout,Dr=wr?wr.f:Z,Mr=Object.getOwnPropertySymbols,Pr="symbol"==typeof(Pr=Or&&Or.iterator)?Pr:Z,Lr=Object.create,xr=gr.propertyIsEnumerable,Rr=e.setTimeout,Br=mr.splice,Ur=hr.ceil,Fr=hr.floor,Vr=Object.getPrototypeOf,Wr=e.isFinite,Hr=mr.join,Kr=Object.keys,Gr=hr.max,jr=hr.min,zr=e.parseInt,Jr=hr.random,Qr=vr.replace,Yr=mr.reverse,Zr=vr.split,qr=Mn(e,"DataView"),Xr=Mn(e,"Map"),$r=Mn(e,"Promise"),eo=Mn(e,"Set"),to=Mn(e,"WeakMap"),no=Mn(Object,"create"),io=to&&new to,ro=!xr.call({valueOf:1},"valueOf"),oo={},ao=Xn(qr),so=Xn(Xr),lo=Xn($r),uo=Xn(eo),co=Xn(to),Ao=Or?Or.prototype:Z,ho=Ao?Ao.valueOf:Z,po=Ao?Ao.toString:Z;t.templateSettings={escape:ae,evaluate:se,interpolate:le,variable:"",imports:{_:t}},t.prototype=n.prototype,t.prototype.constructor=t,i.prototype=at(n.prototype),i.prototype.constructor=i,r.prototype=at(n.prototype),r.prototype.constructor=r,L.prototype=no?no(null):gr,Ie.prototype.clear=function(){this.__data__={hash:new L,map:Xr?new Xr:[],string:new L}},Ie.prototype["delete"]=function(e){var t=this.__data__;return jn(e)?(t="string"==typeof e?t.string:t.hash,e=(no?t[e]!==Z:Er.call(t,e))&&delete t[e]):e=Xr?t.map["delete"](e):He(t.map,e),e},Ie.prototype.get=function(e){var t=this.__data__;return jn(e)?(t="string"==typeof e?t.string:t.hash,no?(e=t[e],e="__lodash_hash_undefined__"===e?Z:e):e=Er.call(t,e)?t[e]:Z):e=Xr?t.map.get(e):Ke(t.map,e),e},Ie.prototype.has=function(e){var t=this.__data__;return jn(e)?(t="string"==typeof e?t.string:t.hash,e=no?t[e]!==Z:Er.call(t,e)):e=Xr?t.map.has(e):-1<Ge(t.map,e),e},Ie.prototype.set=function(e,t){var n=this.__data__;return jn(e)?("string"==typeof e?n.string:n.hash)[e]=no&&t===Z?"__lodash_hash_undefined__":t:Xr?n.map.set(e,t):je(n.map,e,t),this},ke.prototype.push=function(e){var t=this.__data__;jn(e)?(t=t.__data__,("string"==typeof e?t.string:t.hash)[e]="__lodash_hash_undefined__"):t.set(e,"__lodash_hash_undefined__")},Me.prototype.clear=function(){this.__data__={array:[],map:null}},Me.prototype["delete"]=function(e){var t=this.__data__,n=t.array;return n?He(n,e):t.map["delete"](e)},Me.prototype.get=function(e){var t=this.__data__,n=t.array;return n?Ke(n,e):t.map.get(e)},Me.prototype.has=function(e){var t=this.__data__,n=t.array;return n?-1<Ge(n,e):t.map.has(e)},Me.prototype.set=function(e,t){var n=this.__data__,i=n.array;return i&&(199>i.length?je(i,e,t):(n.array=null,n.map=new Ie(i))),(n=n.map)&&n.set(e,t),this};var fo=cn(dt),mo=cn(ht,!0),go=An(),vo=An(!0);Dr&&!xr.call({valueOf:1},"valueOf")&&(Tt=function(e){return K(Dr(e))});var _o=io?function(e,t){return io.set(e,t),e}:ar,Eo=eo&&2===new eo([1,2]).size?function(e){return new eo(e)}:ur,So=io?function(e){return io.get(e)}:ur,yo=Lt("length");Mr||(Ln=function(){return[]});var bo=Mr?function(e){for(var t=[];e;)f(t,Ln(e)),e=Vr(Object(e));return t}:Ln;(qr&&"[object DataView]"!=xn(new qr(new ArrayBuffer(1)))||Xr&&"[object Map]"!=xn(new Xr)||$r&&"[object Promise]"!=xn($r.resolve())||eo&&"[object Set]"!=xn(new eo)||to&&"[object WeakMap]"!=xn(new to))&&(xn=function(e){var t=br.call(e);if(e=(e="[object Object]"==t?e.constructor:Z)?Xn(e):Z)switch(e){case ao:return"[object DataView]";case so:return"[object Map]";case lo:return"[object Promise]";case uo:return"[object Set]";case co:return"[object WeakMap]"}return t});var Co=function(){var e=0,t=0;return function(n,i){var r=Zo(),o=16-(r-t);if(t=r,o>0){if(150<=++e)return n}else e=0;return _o(n,i)}}(),To=Ei(function(e){var t=[];return Ji(e).replace(Ae,function(e,n,i,r){t.push(i?r.replace(ve,"$1"):n||e)}),t}),Io=Si(function(e,t){return wi(e)?lt(e,At(t,1,wi,!0)):[]}),wo=Si(function(e,t){var n=ii(t);return wi(n)&&(n=Z),wi(e)?lt(e,At(t,1,wi,!0),kn(n)):[]}),Oo=Si(function(e,t){var n=ii(t);return wi(n)&&(n=Z),wi(e)?lt(e,At(t,1,wi,!0),Z,n):[]}),No=Si(function(e){var t=p(e,qt);return t.length&&t[0]===e[0]?_t(t):[]}),ko=Si(function(e){var t=ii(e),n=p(e,qt);return t===ii(n)?t=Z:n.pop(),n.length&&n[0]===e[0]?_t(n,kn(t)):[]}),Do=Si(function(e){var t=ii(e),n=p(e,qt);return t===ii(n)?t=Z:n.pop(),n.length&&n[0]===e[0]?_t(n,Z,t):[]}),Mo=Si(ri),Po=Si(function(e,t){t=p(At(t,1),String);var n=et(e,t);return Bt(e,t.sort(x)),n}),Lo=Si(function(e){return zt(At(e,1,wi,!0))}),xo=Si(function(e){var t=ii(e);return wi(t)&&(t=Z),zt(At(e,1,wi,!0),kn(t))}),Ro=Si(function(e){var t=ii(e);return wi(t)&&(t=Z),zt(At(e,1,wi,!0),Z,t)}),Bo=Si(function(e,t){return wi(e)?lt(e,t):[]}),Uo=Si(function(e){return Yt(A(e,wi))}),Fo=Si(function(e){var t=ii(e);return wi(t)&&(t=Z),Yt(A(e,wi),kn(t))}),Vo=Si(function(e){var t=ii(e);return wi(t)&&(t=Z),Yt(A(e,wi),Z,t)}),Wo=Si(ai),Ho=Si(function(e){var t=e.length,t=t>1?e[t-1]:Z,t="function"==typeof t?(e.pop(),t):Z;return si(e,t)}),Ko=Si(function(e){function t(t){return et(t,e)}e=At(e,1);var n=e.length,o=n?e[0]:0,a=this.__wrapped__;return 1>=n&&!this.__actions__.length&&a instanceof r&&H(o)?(a=a.slice(o,+o+(n?1:0)),a.__actions__.push({func:ui,args:[t],thisArg:Z}),new i(a,this.__chain__).thru(function(e){return n&&!e.length&&e.push(Z),e})):this.thru(t)}),Go=ln(function(e,t,n){Er.call(e,n)?++e[n]:e[n]=1}),jo=ln(function(e,t,n){Er.call(e,n)?e[n].push(t):e[n]=[t]}),zo=Si(function(e,t,n){var i=-1,r="function"==typeof t,o=Gn(t),a=Ii(e)?Array(e.length):[];return fo(e,function(e){var l=r?t:o&&null!=e?e[t]:Z;a[++i]=l?s(l,e,n):St(e,t,n)}),a}),Jo=ln(function(e,t,n){e[n]=t}),Qo=ln(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),Yo=Si(function(e,t){if(null==e)return[];var n=t.length;return n>1&&Kn(e,t[0],t[1])?t=[]:n>2&&Kn(t[0],t[1],t[2])&&(t=[t[0]]),t=1==t.length&&oa(t[0])?t[0]:At(t,1,Hn),Dt(e,t,[])}),Zo=Ar.now,qo=Si(function(e,t,n){var i=1;if(n.length)var r=j(n,Pn(qo)),i=32|i;return In(e,i,t,n,r)}),Xo=Si(function(e,t,n){var i=3;if(n.length)var r=j(n,Pn(Xo)),i=32|i;return In(t,i,e,n,r)}),$o=Si(function(e,t){return st(e,1,t)}),ea=Si(function(e,t,n){return st(e,ji(t)||0,n)});Ei.Cache=Ie;var ta=Si(function(e,t){t=1==t.length&&oa(t[0])?p(t[0],k(kn())):p(At(t,1,Hn),k(kn()));var n=t.length;return Si(function(i){for(var r=-1,o=jr(i.length,n);++r<o;)i[r]=t[r].call(this,i[r]);return s(e,this,i)})}),na=Si(function(e,t){var n=j(t,Pn(na));return In(e,32,Z,t,n)}),ia=Si(function(e,t){var n=j(t,Pn(ia));return In(e,64,Z,t,n)}),ra=Si(function(e,t){return In(e,256,Z,Z,Z,At(t,1))}),oa=Array.isArray,aa=Ir?function(e){return e instanceof Ir}:or(!1),sa=un(function(e,t){if(ro||Jn(t)||Ii(t))an(t,qi(t),e);else for(var n in t)Er.call(t,n)&&Ze(e,n,t[n])}),la=un(function(e,t){if(ro||Jn(t)||Ii(t))an(t,Xi(t),e);else for(var n in t)Ze(e,n,t[n])}),ua=un(function(e,t,n,i){an(t,Xi(t),e,i)}),ca=un(function(e,t,n,i){
an(t,qi(t),e,i)}),Aa=Si(function(e,t){return et(e,At(t,1))}),da=Si(function(e){return e.push(Z,ze),s(ua,Z,e)}),ha=Si(function(e){return e.push(Z,Yn),s(va,Z,e)}),pa=_n(function(e,t,n){e[t]=n},or(ar)),fa=_n(function(e,t,n){Er.call(e,t)?e[t].push(n):e[t]=[n]},kn),ma=Si(St),ga=un(function(e,t,n){Nt(e,t,n)}),va=un(function(e,t,n,i){Nt(e,t,n,i)}),_a=Si(function(e,t){return null==e?{}:(t=p(At(t,1),qn),Mt(e,lt(mt(e,Xi,bo),t)))}),Ea=Si(function(e,t){return null==e?{}:Mt(e,At(t,1))}),Sa=pn(function(e,t,n){return t=t.toLowerCase(),e+(n?nr(t):t)}),ya=pn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),ba=pn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Ca=hn("toLowerCase"),Ta=pn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Ia=pn(function(e,t,n){return e+(n?" ":"")+Oa(t)}),wa=pn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Oa=hn("toUpperCase"),Na=Si(function(e,t){try{return s(e,Z,t)}catch(n){return Oi(n)?n:new dr(n)}}),ka=Si(function(e,t){return u(At(t,1),function(t){e[t]=qo(e[t],e)}),e}),Da=gn(),Ma=gn(!0),Pa=Si(function(e,t){return function(n){return St(n,e,t)}}),La=Si(function(e,t){return function(n){return St(e,n,t)}}),xa=En(p),Ra=En(c),Ba=En(v),Ua=bn(),Fa=bn(!0),Va=R(function(e,t){return e+t}),Wa=Tn("ceil"),Ha=R(function(e,t){return e/t}),Ka=Tn("floor"),Ga=R(function(e,t){return e*t}),ja=Tn("round"),za=R(function(e,t){return e-t});return t.after=function(e,t){if("function"!=typeof t)throw new fr("Expected a function");return e=Ki(e),function(){return 1>--e?t.apply(this,arguments):void 0}},t.ary=fi,t.assign=sa,t.assignIn=la,t.assignInWith=ua,t.assignWith=ca,t.at=Aa,t.before=mi,t.bind=qo,t.bindAll=ka,t.bindKey=Xo,t.castArray=yi,t.chain=li,t.chunk=function(e,t,n){if(t=(n?Kn(e,t,n):t===Z)?1:Gr(Ki(t),0),n=e?e.length:0,!n||1>t)return[];for(var i=0,r=0,o=Array(Ur(n/t));n>i;)o[r++]=Wt(e,i,i+=t);return o},t.compact=function(e){for(var t=-1,n=e?e.length:0,i=0,r=[];++t<n;){var o=e[t];o&&(r[i++]=o)}return r},t.concat=function(){var e=arguments.length,t=yi(arguments[0]);if(2>e)return e?on(t):[];for(var n=Array(e-1);e--;)n[e-1]=arguments[e];for(var e=At(n,1),n=-1,i=t.length,r=-1,o=e.length,a=Array(i+o);++n<i;)a[n]=t[n];for(;++r<o;)a[n++]=e[r];return a},t.cond=function(e){var t=e?e.length:0,n=kn();return e=t?p(e,function(e){if("function"!=typeof e[1])throw new fr("Expected a function");return[n(e[0]),e[1]]}):[],Si(function(n){for(var i=-1;++i<t;){var r=e[i];if(s(r[0],this,n))return s(r[1],this,n)}})},t.conforms=function(e){return ot(rt(e,!0))},t.constant=or,t.countBy=Go,t.create=function(e,t){var n=at(e);return t?$e(n,t):n},t.curry=gi,t.curryRight=vi,t.debounce=_i,t.defaults=da,t.defaultsDeep=ha,t.defer=$o,t.delay=ea,t.difference=Io,t.differenceBy=wo,t.differenceWith=Oo,t.drop=ei,t.dropRight=ti,t.dropRightWhile=function(e,t){return e&&e.length?Jt(e,kn(t,3),!0,!0):[]},t.dropWhile=function(e,t){return e&&e.length?Jt(e,kn(t,3),!0):[]},t.fill=function(e,t,n,i){var r=e?e.length:0;if(!r)return[];for(n&&"number"!=typeof n&&Kn(e,t,n)&&(n=0,i=r),r=e.length,n=Ki(n),0>n&&(n=-n>r?0:r+n),i=i===Z||i>r?r:Ki(i),0>i&&(i+=r),i=n>i?0:Gi(i);i>n;)e[n++]=t;return e},t.filter=function(e,t){return(oa(e)?A:ct)(e,kn(t,3))},t.flatMap=function(e,t){return At(hi(e,t),1)},t.flatMapDeep=function(e,t){return At(hi(e,t),q)},t.flatMapDepth=function(e,t,n){return n=n===Z?1:Ki(n),At(hi(e,t),n)},t.flatten=function(e){return e&&e.length?At(e,1):[]},t.flattenDeep=function(e){return e&&e.length?At(e,q):[]},t.flattenDepth=function(e,t){return e&&e.length?(t=t===Z?1:Ki(t),At(e,t)):[]},t.flip=function(e){return In(e,512)},t.flow=Da,t.flowRight=Ma,t.fromPairs=function(e){for(var t=-1,n=e?e.length:0,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},t.functions=function(e){return null==e?[]:pt(e,qi(e))},t.functionsIn=function(e){return null==e?[]:pt(e,Xi(e))},t.groupBy=jo,t.initial=function(e){return ti(e,1)},t.intersection=No,t.intersectionBy=ko,t.intersectionWith=Do,t.invert=pa,t.invertBy=fa,t.invokeMap=zo,t.iteratee=sr,t.keyBy=Jo,t.keys=qi,t.keysIn=Xi,t.map=hi,t.mapKeys=function(e,t){var n={};return t=kn(t,3),dt(e,function(e,i,r){n[t(e,i,r)]=e}),n},t.mapValues=function(e,t){var n={};return t=kn(t,3),dt(e,function(e,i,r){n[i]=t(e,i,r)}),n},t.matches=function(e){return wt(rt(e,!0))},t.matchesProperty=function(e,t){return Ot(e,rt(t,!0))},t.memoize=Ei,t.merge=ga,t.mergeWith=va,t.method=Pa,t.methodOf=La,t.mixin=lr,t.negate=function(e){if("function"!=typeof e)throw new fr("Expected a function");return function(){return!e.apply(this,arguments)}},t.nthArg=function(e){return e=Ki(e),Si(function(t){return kt(t,e)})},t.omit=_a,t.omitBy=function(e,t){return t=kn(t),Pt(e,function(e,n){return!t(e,n)})},t.once=function(e){return mi(2,e)},t.orderBy=function(e,t,n,i){return null==e?[]:(oa(t)||(t=null==t?[]:[t]),n=i?Z:n,oa(n)||(n=null==n?[]:[n]),Dt(e,t,n))},t.over=xa,t.overArgs=ta,t.overEvery=Ra,t.overSome=Ba,t.partial=na,t.partialRight=ia,t.partition=Qo,t.pick=Ea,t.pickBy=function(e,t){return null==e?{}:Pt(e,kn(t))},t.property=cr,t.propertyOf=function(e){return function(t){return null==e?Z:ft(e,t)}},t.pull=Mo,t.pullAll=ri,t.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Rt(e,t,kn(n)):e},t.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Rt(e,t,Z,n):e},t.pullAt=Po,t.range=Ua,t.rangeRight=Fa,t.rearg=ra,t.reject=function(e,t){var n=oa(e)?A:ct;return t=kn(t,3),n(e,function(e,n,i){return!t(e,n,i)})},t.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],o=e.length;for(t=kn(t,3);++i<o;){var a=e[i];t(a,i,e)&&(n.push(a),r.push(i))}return Bt(e,r),n},t.rest=Si,t.reverse=oi,t.sampleSize=pi,t.set=function(e,t,n){return null==e?e:Vt(e,t,n)},t.setWith=function(e,t,n,i){return i="function"==typeof i?i:Z,null==e?e:Vt(e,t,n,i)},t.shuffle=function(e){return pi(e,4294967295)},t.slice=function(e,t,n){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Kn(e,t,n)?(t=0,n=i):(t=null==t?0:Ki(t),n=n===Z?i:Ki(n)),Wt(e,t,n)):[]},t.sortBy=Yo,t.sortedUniq=function(e){return e&&e.length?jt(e):[]},t.sortedUniqBy=function(e,t){return e&&e.length?jt(e,kn(t)):[]},t.split=function(e,t,n){return n&&"number"!=typeof n&&Kn(e,t,n)&&(t=n=Z),n=n===Z?4294967295:n>>>0,n?(e=Ji(e))&&("string"==typeof t||null!=t&&!Bi(t))&&(t+="",""==t&&Be.test(e))?$t(e.match(xe),0,n):Zr.call(e,t,n):[]},t.spread=function(e,t){if("function"!=typeof e)throw new fr("Expected a function");return t=t===Z?0:Gr(Ki(t),0),Si(function(n){var i=n[t];return n=$t(n,0,t),i&&f(n,i),s(e,this,n)})},t.tail=function(e){return ei(e,1)},t.take=function(e,t,n){return e&&e.length?(t=n||t===Z?1:Ki(t),Wt(e,0,0>t?0:t)):[]},t.takeRight=function(e,t,n){var i=e?e.length:0;return i?(t=n||t===Z?1:Ki(t),t=i-t,Wt(e,0>t?0:t,i)):[]},t.takeRightWhile=function(e,t){return e&&e.length?Jt(e,kn(t,3),!1,!0):[]},t.takeWhile=function(e,t){return e&&e.length?Jt(e,kn(t,3)):[]},t.tap=function(e,t){return t(e),e},t.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new fr("Expected a function");return Mi(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),_i(e,t,{leading:i,maxWait:t,trailing:r})},t.thru=ui,t.toArray=Hi,t.toPairs=$i,t.toPairsIn=er,t.toPath=function(e){return oa(e)?p(e,qn):Fi(e)?[e]:on(To(e))},t.toPlainObject=zi,t.transform=function(e,t,n){var i=oa(e)||Vi(e);if(t=kn(t,4),null==n)if(i||Mi(e)){var r=e.constructor;n=i?oa(e)?new r:[]:Ni(r)?at(Vr(Object(e))):{}}else n={};return(i?u:dt)(e,function(e,i,r){return t(n,e,i,r)}),n},t.unary=function(e){return fi(e,1)},t.union=Lo,t.unionBy=xo,t.unionWith=Ro,t.uniq=function(e){return e&&e.length?zt(e):[]},t.uniqBy=function(e,t){return e&&e.length?zt(e,kn(t)):[]},t.uniqWith=function(e,t){return e&&e.length?zt(e,Z,t):[]},t.unset=function(e,t){var n;if(null==e)n=!0;else{n=e;var i=t,i=Gn(i,n)?[i]:Xt(i);n=Zn(n,i),i=ii(i),n=null!=n&&Yi(n,i)?delete n[i]:!0}return n},t.unzip=ai,t.unzipWith=si,t.update=function(e,t,n){return null==e?e:Vt(e,t,("function"==typeof n?n:ar)(ft(e,t)),void 0)},t.updateWith=function(e,t,n,i){return i="function"==typeof i?i:Z,null!=e&&(e=Vt(e,t,("function"==typeof n?n:ar)(ft(e,t)),i)),e},t.values=tr,t.valuesIn=function(e){return null==e?[]:D(e,Xi(e))},t.without=Bo,t.words=rr,t.wrap=function(e,t){return t=null==t?ar:t,na(t,e)},t.xor=Uo,t.xorBy=Fo,t.xorWith=Vo,t.zip=Wo,t.zipObject=function(e,t){return Zt(e||[],t||[],Ze)},t.zipObjectDeep=function(e,t){return Zt(e||[],t||[],Vt)},t.zipWith=Ho,t.entries=$i,t.entriesIn=er,t.extend=la,t.extendWith=ua,lr(t,t),t.add=Va,t.attempt=Na,t.camelCase=Sa,t.capitalize=nr,t.ceil=Wa,t.clamp=function(e,t,n){return n===Z&&(n=t,t=Z),n!==Z&&(n=ji(n),n=n===n?n:0),t!==Z&&(t=ji(t),t=t===t?t:0),it(ji(e),t,n)},t.clone=function(e){return rt(e,!1,!0)},t.cloneDeep=function(e){return rt(e,!0,!0)},t.cloneDeepWith=function(e,t){return rt(e,!0,!0,t)},t.cloneWith=function(e,t){return rt(e,!1,!0,t)},t.deburr=ir,t.divide=Ha,t.endsWith=function(e,t,n){e=Ji(e),t="string"==typeof t?t:t+"";var i=e.length;return n=n===Z?i:it(Ki(n),0,i),n-=t.length,n>=0&&e.indexOf(t,n)==n},t.eq=bi,t.escape=function(e){return(e=Ji(e))&&oe.test(e)?e.replace(ie,U):e},t.escapeRegExp=function(e){return(e=Ji(e))&&he.test(e)?e.replace(de,"\\$&"):e},t.every=function(e,t,n){var i=oa(e)?c:ut;return n&&Kn(e,t,n)&&(t=Z),i(e,kn(t,3))},t.find=function(e,t){if(t=kn(t,3),oa(e)){var n=S(e,t);return n>-1?e[n]:Z}return E(e,t,fo)},t.findIndex=function(e,t){return e&&e.length?S(e,kn(t,3)):-1},t.findKey=function(e,t){return E(e,kn(t,3),dt,!0)},t.findLast=function(e,t){if(t=kn(t,3),oa(e)){var n=S(e,t,!0);return n>-1?e[n]:Z}return E(e,t,mo)},t.findLastIndex=function(e,t){return e&&e.length?S(e,kn(t,3),!0):-1},t.findLastKey=function(e,t){return E(e,kn(t,3),ht,!0)},t.floor=Ka,t.forEach=Ai,t.forEachRight=di,t.forIn=function(e,t){return null==e?e:go(e,kn(t),Xi)},t.forInRight=function(e,t){return null==e?e:vo(e,kn(t),Xi)},t.forOwn=function(e,t){return e&&dt(e,kn(t))},t.forOwnRight=function(e,t){return e&&ht(e,kn(t))},t.get=Qi,t.gt=Ci,t.gte=function(e,t){return e>=t},t.has=Yi,t.hasIn=Zi,t.head=ni,t.identity=ar,t.includes=function(e,t,n,i){return e=Ii(e)?e:tr(e),n=n&&!i?Ki(n):0,i=e.length,0>n&&(n=Gr(i+n,0)),Ui(e)?i>=n&&-1<e.indexOf(t,n):!!i&&-1<y(e,t,n)},t.indexOf=function(e,t,n){var i=e?e.length:0;return i?(n=Ki(n),0>n&&(n=Gr(i+n,0)),y(e,t,n)):-1},t.inRange=function(e,t,n){return t=ji(t)||0,n===Z?(n=t,t=0):n=ji(n)||0,e=ji(e),e>=jr(t,n)&&e<Gr(t,n)},t.invoke=ma,t.isArguments=Ti,t.isArray=oa,t.isArrayBuffer=function(e){return Pi(e)&&"[object ArrayBuffer]"==br.call(e)},t.isArrayLike=Ii,t.isArrayLikeObject=wi,t.isBoolean=function(e){return!0===e||!1===e||Pi(e)&&"[object Boolean]"==br.call(e)},t.isBuffer=aa,t.isDate=function(e){return Pi(e)&&"[object Date]"==br.call(e)},t.isElement=function(e){return!!e&&1===e.nodeType&&Pi(e)&&!Ri(e)},t.isEmpty=function(e){if(Ii(e)&&(oa(e)||Ui(e)||Ni(e.splice)||Ti(e)||aa(e)))return!e.length;if(Pi(e)){var t=xn(e);if("[object Map]"==t||"[object Set]"==t)return!e.size}for(var n in e)if(Er.call(e,n))return!1;return!(ro&&qi(e).length)},t.isEqual=function(e,t){return yt(e,t)},t.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:Z)?n(e,t):Z;return i===Z?yt(e,t,n):!!i},t.isError=Oi,t.isFinite=function(e){return"number"==typeof e&&Wr(e)},t.isFunction=Ni,t.isInteger=ki,t.isLength=Di,t.isMap=function(e){return Pi(e)&&"[object Map]"==xn(e)},t.isMatch=function(e,t){return e===t||bt(e,t,Dn(t))},t.isMatchWith=function(e,t,n){return n="function"==typeof n?n:Z,bt(e,t,Dn(t),n)},t.isNaN=function(e){return xi(e)&&e!=+e},t.isNative=Li,t.isNil=function(e){return null==e},t.isNull=function(e){return null===e},t.isNumber=xi,t.isObject=Mi,t.isObjectLike=Pi,t.isPlainObject=Ri,t.isRegExp=Bi,t.isSafeInteger=function(e){return ki(e)&&e>=-9007199254740991&&9007199254740991>=e},t.isSet=function(e){return Pi(e)&&"[object Set]"==xn(e)},t.isString=Ui,t.isSymbol=Fi,t.isTypedArray=Vi,t.isUndefined=function(e){return e===Z},t.isWeakMap=function(e){return Pi(e)&&"[object WeakMap]"==xn(e)},t.isWeakSet=function(e){return Pi(e)&&"[object WeakSet]"==br.call(e)},t.join=function(e,t){return e?Hr.call(e,t):""},t.kebabCase=ya,t.last=ii,t.lastIndexOf=function(e,t,n){var i=e?e.length:0;if(!i)return-1;var r=i;if(n!==Z&&(r=Ki(n),r=(0>r?Gr(i+r,0):jr(r,i-1))+1),t!==t)return V(e,r,!0);for(;r--;)if(e[r]===t)return r;return-1},t.lowerCase=ba,t.lowerFirst=Ca,t.lt=Wi,t.lte=function(e,t){return t>=e},t.max=function(e){return e&&e.length?_(e,ar,Ci):Z},t.maxBy=function(e,t){return e&&e.length?_(e,kn(t),Ci):Z},t.mean=function(e){return C(e,ar)},t.meanBy=function(e,t){return C(e,kn(t))},t.min=function(e){return e&&e.length?_(e,ar,Wi):Z},t.minBy=function(e,t){return e&&e.length?_(e,kn(t),Wi):Z},t.multiply=Ga,t.nth=function(e,t){return e&&e.length?kt(e,Ki(t)):Z},t.noConflict=function(){return tt._===this&&(tt._=Cr),this},t.noop=ur,t.now=Zo,t.pad=function(e,t,n){e=Ji(e);var i=(t=Ki(t))?J(e):0;return t&&t>i?(t=(t-i)/2,Sn(Fr(t),n)+e+Sn(Ur(t),n)):e},t.padEnd=function(e,t,n){e=Ji(e);var i=(t=Ki(t))?J(e):0;return t&&t>i?e+Sn(t-i,n):e},t.padStart=function(e,t,n){e=Ji(e);var i=(t=Ki(t))?J(e):0;return t&&t>i?Sn(t-i,n)+e:e},t.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),e=Ji(e).replace(pe,""),zr(e,t||(Se.test(e)?16:10))},t.random=function(e,t,n){if(n&&"boolean"!=typeof n&&Kn(e,t,n)&&(t=n=Z),n===Z&&("boolean"==typeof t?(n=t,t=Z):"boolean"==typeof e&&(n=e,e=Z)),e===Z&&t===Z?(e=0,t=1):(e=ji(e)||0,t===Z?(t=e,e=0):t=ji(t)||0),e>t){var i=e;e=t,t=i}return n||e%1||t%1?(n=Jr(),jr(e+n*(t-e+Je("1e-"+((n+"").length-1))),t)):Ut(e,t)},t.reduce=function(e,t,n){var i=oa(e)?m:T,r=3>arguments.length;return i(e,kn(t,4),n,r,fo)},t.reduceRight=function(e,t,n){var i=oa(e)?g:T,r=3>arguments.length;return i(e,kn(t,4),n,r,mo)},t.repeat=function(e,t,n){return t=(n?Kn(e,t,n):t===Z)?1:Ki(t),Ft(Ji(e),t)},t.replace=function(){var e=arguments,t=Ji(e[0]);return 3>e.length?t:Qr.call(t,e[1],e[2])},t.result=function(e,t,n){t=Gn(t,e)?[t]:Xt(t);var i=-1,r=t.length;for(r||(e=Z,r=1);++i<r;){var o=null==e?Z:e[t[i]];o===Z&&(i=r,o=n),e=Ni(o)?o.call(e):o}return e},t.round=ja,t.runInContext=Y,t.sample=function(e){e=Ii(e)?e:tr(e);var t=e.length;return t>0?e[Ut(0,t-1)]:Z},t.size=function(e){if(null==e)return 0;if(Ii(e)){var t=e.length;return t&&Ui(e)?J(e):t}return Pi(e)&&(t=xn(e),"[object Map]"==t||"[object Set]"==t)?e.size:qi(e).length},t.snakeCase=Ta,t.some=function(e,t,n){var i=oa(e)?v:Ht;return n&&Kn(e,t,n)&&(t=Z),i(e,kn(t,3))},t.sortedIndex=function(e,t){return Kt(e,t)},t.sortedIndexBy=function(e,t,n){return Gt(e,t,kn(n))},t.sortedIndexOf=function(e,t){var n=e?e.length:0;if(n){var i=Kt(e,t);if(n>i&&bi(e[i],t))return i}return-1},t.sortedLastIndex=function(e,t){return Kt(e,t,!0)},t.sortedLastIndexBy=function(e,t,n){return Gt(e,t,kn(n),!0)},t.sortedLastIndexOf=function(e,t){if(e&&e.length){var n=Kt(e,t,!0)-1;if(bi(e[n],t))return n}return-1},t.startCase=Ia,t.startsWith=function(e,t,n){return e=Ji(e),n=it(Ki(n),0,e.length),e.lastIndexOf(t,n)==n},t.subtract=za,t.sum=function(e){return e&&e.length?w(e,ar):0},t.sumBy=function(e,t){return e&&e.length?w(e,kn(t)):0},t.template=function(e,n,i){var r=t.templateSettings;i&&Kn(e,n,i)&&(n=Z),e=Ji(e),n=ua({},n,r,ze),i=ua({},n.imports,r.imports,ze);var o,a,s=qi(i),l=D(i,s),u=0;i=n.interpolate||Oe;var c="__p+='";i=pr((n.escape||Oe).source+"|"+i.source+"|"+(i===le?_e:Oe).source+"|"+(n.evaluate||Oe).source+"|$","g");var A="sourceURL"in n?"//# sourceURL="+n.sourceURL+"\n":"";if(e.replace(i,function(t,n,i,r,s,l){return i||(i=r),c+=e.slice(u,l).replace(Ne,F),n&&(o=!0,c+="'+__e("+n+")+'"),s&&(a=!0,c+="';"+s+";\n__p+='"),i&&(c+="'+((__t=("+i+"))==null?'':__t)+'"),u=l+t.length,t}),c+="';",(n=n.variable)||(c="with(obj){"+c+"}"),c=(a?c.replace($,""):c).replace(ee,"$1").replace(te,"$1;"),c="function("+(n||"obj")+"){"+(n?"":"obj||(obj={});")+"var __t,__p=''"+(o?",__e=_.escape":"")+(a?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+c+"return __p}",n=Na(function(){return Function(s,A+"return "+c).apply(Z,l)}),n.source=c,Oi(n))throw n;return n},t.times=function(e,t){if(e=Ki(e),1>e||e>9007199254740991)return[];var n=4294967295,i=jr(e,4294967295);for(t=kn(t),e-=4294967295,i=O(i,t);++n<e;)t(n);return i},t.toInteger=Ki,t.toLength=Gi,t.toLower=function(e){return Ji(e).toLowerCase()},t.toNumber=ji,t.toSafeInteger=function(e){return it(Ki(e),-9007199254740991,9007199254740991)},t.toString=Ji,t.toUpper=function(e){return Ji(e).toUpperCase()},t.trim=function(e,t,n){return(e=Ji(e))?n||t===Z?e.replace(pe,""):(t+="")?(e=e.match(xe),t=t.match(xe),$t(e,M(e,t),P(e,t)+1).join("")):e:e},t.trimEnd=function(e,t,n){return(e=Ji(e))?n||t===Z?e.replace(me,""):(t+="")?(e=e.match(xe),t=P(e,t.match(xe))+1,$t(e,0,t).join("")):e:e},t.trimStart=function(e,t,n){return(e=Ji(e))?n||t===Z?e.replace(fe,""):(t+="")?(e=e.match(xe),t=M(e,t.match(xe)),$t(e,t).join("")):e:e},t.truncate=function(e,t){var n=30,i="...";if(Mi(t))var r="separator"in t?t.separator:r,n="length"in t?Ki(t.length):n,i="omission"in t?Ji(t.omission):i;e=Ji(e);var o=e.length;if(Be.test(e))var a=e.match(xe),o=a.length;if(n>=o)return e;if(o=n-J(i),1>o)return i;if(n=a?$t(a,0,o).join(""):e.slice(0,o),r===Z)return n+i;if(a&&(o+=n.length-o),Bi(r)){if(e.slice(o).search(r)){var s=n;for(r.global||(r=pr(r.source,Ji(Ee.exec(r))+"g")),r.lastIndex=0;a=r.exec(s);)var l=a.index;n=n.slice(0,l===Z?o:l)}}else e.indexOf(r,o)!=o&&(r=n.lastIndexOf(r),r>-1&&(n=n.slice(0,r)));return n+i},t.unescape=function(e){return(e=Ji(e))&&re.test(e)?e.replace(ne,Q):e},t.uniqueId=function(e){var t=++Sr;return Ji(e)+t},t.upperCase=wa,t.upperFirst=Oa,t.each=Ai,t.eachRight=di,t.first=ni,lr(t,function(){var e={};return dt(t,function(n,i){Er.call(t.prototype,i)||(e[i]=n)}),e}(),{chain:!1}),t.VERSION="4.11.1",u("bind bindKey curry curryRight partial partialRight".split(" "),function(e){t[e].placeholder=t}),u(["drop","take"],function(e,t){r.prototype[e]=function(n){var i=this.__filtered__;if(i&&!t)return new r(this);n=n===Z?1:Gr(Ki(n),0);var o=this.clone();return i?o.__takeCount__=jr(n,o.__takeCount__):o.__views__.push({size:jr(n,4294967295),type:e+(0>o.__dir__?"Right":"")}),o},r.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),u(["filter","map","takeWhile"],function(e,t){var n=t+1,i=1==n||3==n;r.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:kn(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}}),u(["head","last"],function(e,t){var n="take"+(t?"Right":"");r.prototype[e]=function(){return this[n](1).value()[0]}}),u(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");r.prototype[e]=function(){return this.__filtered__?new r(this):this[n](1)}}),r.prototype.compact=function(){return this.filter(ar)},r.prototype.find=function(e){return this.filter(e).head()},r.prototype.findLast=function(e){return this.reverse().find(e)},r.prototype.invokeMap=Si(function(e,t){return"function"==typeof e?new r(this):this.map(function(n){return St(n,e,t)})}),r.prototype.reject=function(e){return e=kn(e,3),this.filter(function(t){return!e(t)})},r.prototype.slice=function(e,t){e=Ki(e);var n=this;return n.__filtered__&&(e>0||0>t)?new r(n):(0>e?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==Z&&(t=Ki(t),n=0>t?n.dropRight(-t):n.take(t-e)),n)},r.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},r.prototype.toArray=function(){return this.take(4294967295)},dt(r.prototype,function(e,n){var o=/^(?:filter|find|map|reject)|While$/.test(n),a=/^(?:head|last)$/.test(n),s=t[a?"take"+("last"==n?"Right":""):n],l=a||/^find/.test(n);s&&(t.prototype[n]=function(){function n(e){return e=s.apply(t,f([e],c)),a&&p?e[0]:e}var u=this.__wrapped__,c=a?[1]:arguments,A=u instanceof r,d=c[0],h=A||oa(u);h&&o&&"function"==typeof d&&1!=d.length&&(A=h=!1);var p=this.__chain__,m=!!this.__actions__.length,d=l&&!p,A=A&&!m;return!l&&h?(u=A?u:new r(this),u=e.apply(u,c),u.__actions__.push({func:ui,args:[n],thisArg:Z}),new i(u,p)):d&&A?e.apply(this,c):(u=this.thru(n),d?a?u.value()[0]:u.value():u)})}),u("pop push shift sort splice unshift".split(" "),function(e){var n=mr[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var t=this.value();return n.apply(oa(t)?t:[],e)}return this[i](function(t){return n.apply(oa(t)?t:[],e)})}}),dt(r.prototype,function(e,n){var i=t[n];if(i){var r=i.name+"";(oo[r]||(oo[r]=[])).push({name:n,func:i})}}),oo[vn(Z,2).name]=[{name:"wrapper",func:Z}],r.prototype.clone=function(){var e=new r(this.__wrapped__);return e.__actions__=on(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=on(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=on(this.__views__),e},r.prototype.reverse=function(){if(this.__filtered__){var e=new r(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e},r.prototype.value=function(){var e,t=this.__wrapped__.value(),n=this.__dir__,i=oa(t),r=0>n,o=i?t.length:0;e=o;for(var a=this.__views__,s=0,l=-1,u=a.length;++l<u;){var c=a[l],A=c.size;switch(c.type){case"drop":s+=A;break;case"dropRight":e-=A;break;case"take":e=jr(e,s+A);break;case"takeRight":s=Gr(s,e-A)}}if(e={start:s,end:e},a=e.start,s=e.end,e=s-a,r=r?s:a-1,a=this.__iteratees__,s=a.length,l=0,u=jr(e,this.__takeCount__),!i||200>o||o==e&&u==e)return Qt(t,this.__actions__);i=[];e:for(;e--&&u>l;){for(r+=n,o=-1,c=t[r];++o<s;){var d=a[o],A=d.type,d=(0,d.iteratee)(c);if(2==A)c=d;else if(!d){if(1==A)continue e;break e}}i[l++]=c}return i},t.prototype.at=Ko,t.prototype.chain=function(){return li(this)},t.prototype.commit=function(){return new i(this.value(),this.__chain__)},t.prototype.next=function(){this.__values__===Z&&(this.__values__=Hi(this.value()));var e=this.__index__>=this.__values__.length,t=e?Z:this.__values__[this.__index__++];return{done:e,value:t}},t.prototype.plant=function(e){for(var t,i=this;i instanceof n;){var r=$n(i);r.__index__=0,r.__values__=Z,t?o.__wrapped__=r:t=r;var o=r,i=i.__wrapped__}return o.__wrapped__=e,t},t.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof r?(this.__actions__.length&&(e=new r(this)),e=e.reverse(),e.__actions__.push({func:ui,args:[oi],thisArg:Z}),new i(e,this.__chain__)):this.thru(oi)},t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=function(){return Qt(this.__wrapped__,this.__actions__)},Pr&&(t.prototype[Pr]=ci),t}var Z,q=1/0,X=NaN,$=/\b__p\+='';/g,ee=/\b(__p\+=)''\+/g,te=/(__e\(.*?\)|\b__t\))\+'';/g,ne=/&(?:amp|lt|gt|quot|#39|#96);/g,ie=/[&<>"'`]/g,re=RegExp(ne.source),oe=RegExp(ie.source),ae=/<%-([\s\S]+?)%>/g,se=/<%([\s\S]+?)%>/g,le=/<%=([\s\S]+?)%>/g,ue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ce=/^\w*$/,Ae=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,de=/[\\^$.*+?()[\]{}|]/g,he=RegExp(de.source),pe=/^\s+|\s+$/g,fe=/^\s+/,me=/\s+$/,ge=/[a-zA-Z0-9]+/g,ve=/\\(\\)?/g,_e=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ee=/\w*$/,Se=/^0x/i,ye=/^[-+]0x[0-9a-f]+$/i,be=/^0b[01]+$/i,Ce=/^\[object .+?Constructor\]$/,Te=/^0o[0-7]+$/i,Ie=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Oe=/($^)/,Ne=/['\n\r\u2028\u2029\\]/g,ke="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*",De="(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])"+ke,Me="(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]?|[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])",Pe=RegExp("['’]","g"),Le=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),xe=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+Me+ke,"g"),Re=RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2018\\u2019\\u201c\\u201d \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\\d+",De].join("|"),"g"),Be=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),Ue=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Fe="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise Reflect RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),Ve={};Ve["[object Float32Array]"]=Ve["[object Float64Array]"]=Ve["[object Int8Array]"]=Ve["[object Int16Array]"]=Ve["[object Int32Array]"]=Ve["[object Uint8Array]"]=Ve["[object Uint8ClampedArray]"]=Ve["[object Uint16Array]"]=Ve["[object Uint32Array]"]=!0,Ve["[object Arguments]"]=Ve["[object Array]"]=Ve["[object ArrayBuffer]"]=Ve["[object Boolean]"]=Ve["[object DataView]"]=Ve["[object Date]"]=Ve["[object Error]"]=Ve["[object Function]"]=Ve["[object Map]"]=Ve["[object Number]"]=Ve["[object Object]"]=Ve["[object RegExp]"]=Ve["[object Set]"]=Ve["[object String]"]=Ve["[object WeakMap]"]=!1;var We={};We["[object Arguments]"]=We["[object Array]"]=We["[object ArrayBuffer]"]=We["[object DataView]"]=We["[object Boolean]"]=We["[object Date]"]=We["[object Float32Array]"]=We["[object Float64Array]"]=We["[object Int8Array]"]=We["[object Int16Array]"]=We["[object Int32Array]"]=We["[object Map]"]=We["[object Number]"]=We["[object Object]"]=We["[object RegExp]"]=We["[object Set]"]=We["[object String]"]=We["[object Symbol]"]=We["[object Uint8Array]"]=We["[object Uint8ClampedArray]"]=We["[object Uint16Array]"]=We["[object Uint32Array]"]=!0,We["[object Error]"]=We["[object Function]"]=We["[object WeakMap]"]=!1;var He={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Ke={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ge={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},je={"function":!0,object:!0},ze={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Je=parseFloat,Qe=parseInt,Ye=je[typeof t]&&t&&!t.nodeType?t:Z,Ze=je[typeof e]&&e&&!e.nodeType?e:Z,qe=Ze&&Ze.exports===Ye?Ye:Z,Xe=L(je[typeof self]&&self),$e=L(je[typeof window]&&window),et=L(je[typeof this]&&this),tt=L(Ye&&Ze&&"object"==typeof r&&r)||$e!==(et&&et.window)&&$e||Xe||et||Function("return this")(),nt=Y();($e||Xe||{})._=nt,i=function(){return nt}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}).call(this)}).call(t,n(57)(e),function(){return this}())},function(e,t,n){function i(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new(i.Cache||r),n}var r=n(136),o="Expected a function";i.Cache=r,e.exports=i},,,,,,,function(e,t,n){(function(t){"function"!=typeof Map||t&&t.env&&"true"===t.env.TEST_MAPORSIMILAR?e.exports=n(533):e.exports=Map}).call(t,n(22))},function(e,t){function n(){return this.list=[],this.lastItem=void 0,this.size=0,this}n.prototype.get=function(e){var t;return this.lastItem&&this.lastItem.key===e?this.lastItem.val:(t=this.indexOf(e),t>=0?(this.lastItem=this.list[t],this.list[t].val):void 0)},n.prototype.set=function(e,t){var n;return this.lastItem&&this.lastItem.key===e?(this.lastItem.val=t,this):(n=this.indexOf(e),n>=0?(this.lastItem=this.list[n],this.list[n].val=t,this):(this.lastItem={key:e,val:t},this.list.push(this.lastItem),this.size++,this))},n.prototype["delete"]=function(e){var t;return this.lastItem&&this.lastItem.key===e&&(this.lastItem=void 0),t=this.indexOf(e),t>=0?(this.size--,this.list.splice(t,1)[0]):void 0},n.prototype.has=function(e){var t;return this.lastItem&&this.lastItem.key===e?!0:(t=this.indexOf(e),t>=0?(this.lastItem=this.list[t],!0):!1)},n.prototype.forEach=function(e,t){var n;for(n=0;n<this.size;n++)e.call(t||this,this.list[n].val,this.list[n].key,this)},n.prototype.indexOf=function(e){var t;for(t=0;t<this.size;t++)if(this.list[t].key===e)return t;return-1},e.exports=n},function(e,t,n){function i(e,t){var n,i,r,o=e.length,a=t.length;for(i=0;o>i;i++){for(n=!0,r=0;a>r;r++)if(e[i][r].arg!==t[r].arg){n=!1;break}if(n)break}e.push(e.splice(i,1)[0])}function r(e){var t,n,i=e.length,r=e[i-1];for(r.cacheItem["delete"](r.arg),n=i-2;n>=0&&(r=e[n],t=r.cacheItem.get(r.arg),!t||!t.size);n--)r.cacheItem["delete"](r.arg)}var o=n(532);e.exports=function(e){var t=new o,n=[];return function(a){var s=function(){var l,u,c,A=t,d=arguments.length-1,h=Array(d+1),p=!0;for(c=0;d>c;c++)h[c]={cacheItem:A,arg:arguments[c]},A.has(arguments[c])?A=A.get(arguments[c]):(p=!1,l=new o,A.set(arguments[c],l),A=l);return p&&(A.has(arguments[d])?u=A.get(arguments[d]):p=!1),p||(u=a.apply(null,arguments),A.set(arguments[d],u)),e>0&&(h[d]={cacheItem:A,arg:arguments[d]},p?i(n,h):n.push(h),n.length>e&&r(n.shift())),s.wasMemoized=p,u};return s.limit=e,s.wasMemoized=!1,s.cache=t,s.lru=n,s}}},function(e,t){},function(e,t,n){"use strict";var i=n(29),r=n(232),o=n(540),a=n(539),s=n(696),l=n(20),u={"http:":80,"https:":443,"ftp:":21},c={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};e.exports=function(e,t){if(t=l({normalizeProtocol:!0,stripFragment:!0,stripWWW:!0},t),"string"!=typeof e)throw new TypeError("Expected a string");var n=0===e.indexOf("//");e=a(e.trim()).replace(/^\/\//,"http://");var A=i.parse(e);delete A.host,delete A.query,t.stripFragment&&delete A.hash;var d=u[A.protocol];if(Number(A.port)===d&&delete A.port,A.pathname&&(A.pathname=A.pathname.replace(/\/{2,}/,"/")),c[A.protocol]){var h=A.protocol+"//"+A.hostname,p=i.resolve(h,A.pathname);A.pathname=p.replace(h,"")}return A.hostname&&(A.hostname=r.toUnicode(A.hostname).toLowerCase(),t.stripWWW&&(A.hostname=A.hostname.replace(/^www\./,""))),"?"===A.search&&delete A.search,A.search=o.stringify(s(o.parse(A.search))),A.search=decodeURIComponent(A.search),
e=i.format(A),e=e.replace(/\/$/,""),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),e}},function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(e){return r.exec(e).slice(1)};t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var a=o>=0?arguments[o]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,r="/"===a.charAt(0))}return t=n(i(t.split("/"),function(e){return!!e}),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),o="/"===a(e,-1);return e=n(i(e.split("/"),function(e){return!!e}),!r).join("/"),e||r||(e="."),e&&o&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var r=i(e.split("/")),o=i(n.split("/")),a=Math.min(r.length,o.length),s=a,l=0;a>l;l++)if(r[l]!==o[l]){s=l;break}for(var u=[],l=s;l<r.length;l++)u.push("..");return u=u.concat(o.slice(s)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=o(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},t.basename=function(e,t){var n=o(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return o(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return 0>t&&(t=e.length+t),e.substr(t,n)}}).call(t,n(22))},function(e,t,n){(function(t){(function(){var n,i,r;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-r)/1e6},i=t.hrtime,n=function(){var e;return e=i(),1e9*e[0]+e[1]},r=n()):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,n(22))},function(e,t){"use strict";e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e=e.trim(),/^\.*\//.test(e)?e:e.replace(/^(?!(?:\w+:)?\/\/)/,"http://")}},function(e,t,n){"use strict";var i=n(697);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e){return"string"!=typeof e?{}:(e=e.trim().replace(/^(\?|#|&)/,""),e?e.split("&").reduce(function(e,t){var n=t.replace(/\+/g," ").split("="),i=n.shift(),r=n.length>0?n.join("="):void 0;return i=decodeURIComponent(i),r=void 0===r?null:decodeURIComponent(r),e.hasOwnProperty(i)?Array.isArray(e[i])?e[i].push(r):e[i]=[e[i],r]:e[i]=r,e},{}):{})},t.stringify=function(e){return e?Object.keys(e).sort().map(function(t){var n=e[t];return void 0===n?"":null===n?t:Array.isArray(n)?n.slice().sort().map(function(e){return i(t)+"="+i(e)}).join("&"):i(t)+"="+i(n)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t,n){for(var i=n(538),r="undefined"==typeof window?{}:window,o=["moz","webkit"],a="AnimationFrame",s=r["request"+a],l=r["cancel"+a]||r["cancelRequest"+a],u=!0,c=0;c<o.length&&!s;c++)s=r[o[c]+"Request"+a],l=r[o[c]+"Cancel"+a]||r[o[c]+"CancelRequest"+a];if(!s||!l){u=!1;var A=0,d=0,h=[],p=1e3/60;s=function(e){if(0===h.length){var t=i(),n=Math.max(0,p-(t-A));A=n+t,setTimeout(function(){var e=h.slice(0);h.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(A)}catch(n){setTimeout(function(){throw n},0)}},Math.round(n))}return h.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<h.length;t++)h[t].handle===e&&(h[t].cancelled=!0)}}e.exports=function(e){return u?s.call(r,function(){try{e.apply(this,arguments)}catch(t){setTimeout(function(){throw t},0)}}):s.call(r,e)},e.exports.cancel=function(){l.apply(r,arguments)}},,function(e,t){e.exports='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n      <path d="M7.766 10.18l-.893.892c-.257.257-.602.4-.972.4s-.714-.143-.972-.4c-.536-.536-.536-1.41 0-1.945l.892-.893-1.06-1.06-.892.892c-1.12 1.118-1.12 2.948 0 4.067.56.56 1.296.838 2.033.838.738 0 1.475-.28 2.034-.838l.892-.892-1.06-1.06M7.234 6.82l.893-.892c.257-.257.603-.4.972-.4.37 0 .714.143.972.4.257.258.4.603.4.973s-.143.716-.4.973l-.892.892 1.06 1.06.893-.89c1.118-1.12 1.118-2.95 0-4.068-.56-.56-1.297-.838-2.034-.838-.738 0-1.475.278-2.034.837l-.892.892 1.06 1.06"/>\n</svg>'},function(e,t){e.exports='<svg clip-path="url(#svgClip-bookmark)" width="16px" height="16px" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <clipPath id="svgClip-bookmark">\n    <path d="M4,1 L4,14 L8,12 L12,14 L12,1 C9.16385324,0.999999996 6.61028181,1 4,1 Z"></path>\n  </clipPath>\n  <polygon class="bookmark-animated-fill favicon-current-fill" points="4 1 12 -3 12 14 4 14"></polygon>\n  <path class="bookmark-outline" d="M4,1 L4,14 L8,12 L12,14 L12,1 L4,1 Z M6,3 L10,3 L10,10.763 L8.894,10.211 L8,9.763 L7.106,10.211 L6,10.763 L6,3 Z"></path>\n  <polygon class="add-bookmark-shadow" points="8 2 8 12.5 12 14.5 12 0 8 0"/>\n</svg>\n'},function(e,t){e.exports='<!--  Mask definitions for SVG icons -->\n<defs>\n  <!-- shared paths -->\n  <path id="folder-shape"\n    d="M0 3 1 2 7 2 8 3 8 4 15 4 16 5 16 13 15 14 1 14 0 13 Z"\n    stroke="#fff"\n    stroke-width="2"\n    stroke-opacity="1" />\n\n  <g id="sd-group">\n    <path fill="#000" d="M8 8h8v8h-8z"/>\n    <path fill="#fff" d="M13 9h3v3h-3z"/>\n    <path fill="#fff" d="M13 13h3v3h-3z"/>\n    <path fill="#fff" d="M9 9h3v3h-3z"/>\n    <path fill="#fff" d="M9 13h3v3h-3z"/>\n  </g>\n\n  <!-- gradients -->\n  <linearGradient id="border-gradient" x1="0" y1="0" x2="0" y2="1">\n    <stop stop-color="#fff" stop-opacity="0.3" offset="0"/>\n    <stop stop-color="#fff" stop-opacity="0.6" offset="1"/>\n  </linearGradient>\n\n  <linearGradient id="icon-gradient" x1="0" y1="0" x2="0" y2="1">\n    <stop stop-color="#fff" stop-opacity="0" offset="0.3"/>\n    <stop stop-color="#fff" stop-opacity="0.2" offset="1"/>\n  </linearGradient>\n\n  <linearGradient id="folder-closed" x1="0" y1="0" x2="0" y2="1">\n    <stop offset="0.2" stop-color="#fff" stop-opacity="0" />\n    <stop offset="1" stop-color="#fff" stop-opacity="0.4" />\n  </linearGradient>\n\n  <linearGradient id="folder-closed-invert" x1="0" y1="0" x2="0" y2="1">\n    <stop offset="0.2" stop-color="#fff" stop-opacity="0.6" />\n    <stop offset="1" stop-color="#fff" stop-opacity="0.2" />\n  </linearGradient>\n\n  <linearGradient id="folder-open" x1="0" y1="0" x2="0" y2="1">\n    <stop stop-color="#fff" stop-opacity="0" offset="0.4"/>\n    <stop stop-color="#fff" stop-opacity="0.4" offset="0.4"/>\n    <stop stop-color="#fff" stop-opacity="0.1" offset="1"/>\n  </linearGradient>\n\n  <linearGradient id="folder-open-invert" x1="0" y1="0" x2="0" y2="1">\n    <stop stop-color="#fff" stop-opacity="0" offset="0.4"/>\n    <stop stop-color="#fff" stop-opacity="0.6" offset="0.4"/>\n    <stop stop-color="#fff" stop-opacity="0.2" offset="1"/>\n  </linearGradient>\n\n  <!-- masks -->\n  <mask id="trash-folder-mask">\n    <path d="M11 1v-1h-6v1h-4v1h14v-1h-4z" fill="#fff" />\n    <path d="M3 3h10v12h-10v-12z" fill="#000"\n      stroke="#fff" stroke-width="2" stroke-opacity="1" />\n    <path d="M6 6h1v6h-1z" fill="#fff" />\n    <path d="M9 6h1v6h-1z" fill="#fff" />\n  </mask>\n\n  <mask id="icon-mask">\n    <path d="M4 14v-12h7v12l-3.5-2.8-3.5 2.8z"\n      stroke="url(#border-gradient)"\n      stroke-width="2"\n      stroke-opacity="1"/>\n  </mask>\n\n  <mask id="folder-mask">\n    <use xlink:href="#folder-shape" fill="url(#folder-closed)" />\n  </mask>\n\n  <mask id="folder-mask-open">\n    <use xlink:href="#folder-shape" fill="url(#folder-open)" />\n    <rect x="1" y="7" width="14" height="1" opacity="1" fill="#fff" />\n  </mask>\n\n  <mask id="folder-mask-invert">\n    <use xlink:href="#folder-shape" fill="url(#folder-closed-invert)" />\n  </mask>\n\n  <mask id="folder-mask-open-invert">\n    <use xlink:href="#folder-shape" fill="url(#folder-open-invert)" />\n    <rect x="1" y="7" width="14" height="1" opacity="1" fill="#fff" />\n  </mask>\n\n  <mask id="folder-mask-sd">\n    <use xlink:href="#folder-shape" fill="url(#folder-closed)" />\n    <use xlink:href="#sd-group" fill="url(#sd-group)" />\n  </mask>\n\n  <mask id="folder-mask-open-sd">\n    <use xlink:href="#folder-shape" fill="url(#folder-open)" />\n    <use xlink:href="#sd-group" fill="url(#sd-group)" />\n    <rect x="1" y="7" width="14" height="1" opacity="1" fill="#fff" />\n  </mask>\n\n  <mask id="folder-mask-sd-invert">\n    <use xlink:href="#folder-shape" fill="url(#folder-closed-invert)" />\n    <use xlink:href="#sd-group" fill="url(#sd-group)" />\n  </mask>\n\n  <mask id="folder-mask-open-sd-invert">\n    <use xlink:href="#folder-shape" fill="url(#folder-open-invert)" />\n    <use xlink:href="#sd-group" fill="url(#sd-group)" />\n    <rect x="1" y="7" width="14" height="1" opacity="1" fill="#fff" />\n  </mask>\n\n</defs>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="-186 188 26 26">\n  <path d="M-168 197.4l-1.4-1.4-3.6 3.6-3.6-3.6-1.4 1.4 3.6 3.6-3.6 3.6 1.4 1.4 3.6-3.6 3.6 3.6 1.4-1.4-3.6-3.6"/>\n</svg>'},function(e,t){e.exports='<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n	<path d="M17 13L9 7v12l8-6z"/>\n</svg>'},function(e,t){e.exports='<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n    <path d="M9 13l8-6v12l-8-6z"/>\n</svg>'},function(e,t){e.exports='<svg width="130" height="86" viewBox="0 0 130 86" xmlns="http://www.w3.org/2000/svg">\n  <g fill="none" fill-rule="evenodd">\n    <path opacity=".5" fill="#E1E1E1" d="M96.745 30.943l-1.545.812.295-1.72-1.25-1.22 1.727-.25.773-1.565.772 1.565 1.728.25-1.25 1.22.295 1.72"/>\n    <path opacity=".2" fill="#E1E1E1" d="M3.5 44.25l-2.057 1.082.393-2.29L.17 41.417l2.3-.334L3.5 39l1.03 2.084 2.3.334-1.666 1.623.393 2.292"/>\n    <path fill="#E1E1E1" d="M82.5 5.25l-2.057 1.082.393-2.29-1.665-1.624 2.3-.334L82.5 0l1.03 2.084 2.3.334-1.666 1.623.393 2.292"/>\n    <path opacity=".2" fill="#E1E1E1" d="M125.5 25.75l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L125.5 19l1.323 2.68 2.957.43-2.14 2.085.505 2.946"/>\n    <path fill="#E1E1E1" d="M111 76.5l-1.763.927.336-1.963-1.426-1.39 1.97-.288L111 72l.882 1.786 1.97.287-1.425 1.39.336 1.964M92.5 60.25l-2.057 1.082.393-2.29-1.665-1.624 2.3-.334L92.5 55l1.03 2.084 2.3.334-1.666 1.623.393 2.292"/>\n    <path d="M32.294 56.31l-2.472 1.298.472-2.752-2-1.95 2.764-.4L32.294 50l1.236 2.505 2.764.4-2 1.95.472 2.753-2.472-1.3z" opacity=".5" fill="#E1E1E1"/>\n    <path fill="#E1E1E1" d="M39.5 11.75l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L39.5 5l1.323 2.68 2.957.43-2.14 2.085.505 2.946"/>\n    <path id="Rectangle-120" stroke="#E1E1E1" opacity=".5" d="M108.67 46.304l8.66 5-6 10.392-8.66-5z"/>\n    <path id="Rectangle-139" fill="#E1E1E1" d="M108.402 50.768l5.196 3-.5.866-5.196-3z"/>\n    <path id="Rectangle-140" fill="#E1E1E1" d="M107.402 52.5l5.196 3-.5.866-5.196-3z"/>\n    <path id="Rectangle-141" fill="#E1E1E1" d="M106.402 54.232l5.196 3-.5.866-5.196-3z"/>\n    <path id="Rectangle-140" fill="#E1E1E1" d="M109.036 47.67l6.928 4-.5.866-6.928-4z"/>\n    <g>\n      <path stroke="#E1E1E1" opacity=".5" d="M12.34 18.483l7.77-6.29 7.55 9.324-7.77 6.29z"/>\n      <path fill="#E1E1E1" d="M16.41 20.333l4.663-3.774.63.776-4.663 3.774z"/>\n      <path id="Rectangle-140" fill="#E1E1E1" d="M17.67 21.887l4.66-3.774.63.777-4.662 3.774z"/>\n      <path fill="#E1E1E1" d="M18.927 23.44l4.662-3.773.628.777-4.662 3.774zM13.747 18.63l6.216-5.03.63.776-6.217 5.032z"/>\n    </g>\n    <ellipse opacity=".2" fill-opacity=".297" fill="#000" cx="63" cy="84" rx="11" ry="2"/>\n    <g>\n      <path opacity=".4" fill-opacity=".2" fill="#000" d="M45 22h40v48H45z"/>\n      <path d="M44 20v7h40v-7H44zm0 7v41h1V27h-1zm39 0v41h1V27h-1zM45 67v1h38v-1H45z" fill="#00CBA7"/>\n      <path fill="#FFF" d="M45 27h38v40H45z"/>\n      <path opacity=".7" fill="#EEE" d="M51 33h26v1H51zM51 36h26v1H51zM51 39h26v1H51zM51 42h26v1H51zM51 45h26v1H51zM51 48h26v1H51zM51 51h26v1H51zM51 54h26v1H51zM51 57h26v1H51z"/>\n      <path d="M57 54s7 6.75 14 0" stroke-opacity=".6" stroke="#000" stroke-width="2"/>\n      <path id="eye" fill-opacity=".6" fill="#000" d="M55 43h4v4h-4z"/>\n      <path fill-opacity=".6" fill="#000" d="M69 43h4v4h-4z"/>\n    </g>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12">\n\n  <circle cx="6" cy="6" />\n\n  <g class="window-close-glyph dpi-standard">\n    <path fill="#93120F" d="M8 7v-2h1v-2h-2v1h-2v-1h-2v2h1v2h-1v2h2v-1h2v1h2v-2h-1z" />\n    <path fill="#7E0200" d="M5 5h2v2h-2v-2zm-1-1h1v1h-1v-1zm-1-1h1v1h-1v-1zm5 0h1v1h-1v-1zm-1 1h1v1h-1v-1zm-3 3h1v1h-1v-1zm-1 1h1v1h-1v-1zm4-1h1v1h-1v-1zm1 1h1v1h-1v-1z" />\n  </g>\n  <g class="window-close-glyph dpi-high">\n    <polygon fill="#4c0102" points="9 3 8.29 3 6 5.29 3.71 3 3 3 3 3.71 5.29 6 3 8.29 3 9 3.71 9 6 6.71 8.29 9 9 9 9 8.29 6.71 6 9 3.71 9 3" />\n  </g>\n\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12">\n\n  <circle cx="6" cy="6" />\n\n  <g class="window-zoom-glyph dpi-standard">\n    <polygon points="9 5 7 5 7 3 5 3 5 5 3 5 3 7 5 7 5 9 7 9 7 7 9 7 9 5" fill="#0a630c"/>\n    <rect x="5" y="2" width="2" height="1" fill="#157e1b" class="semi"/>\n    <rect x="5" y="9" width="2" height="1" fill="#157e1b" class="semi"/>\n    <rect x="9" y="5" width="1" height="2" fill="#157e1b" class="semi"/>\n    <rect x="2" y="5" width="1" height="2" fill="#157e1b" class="semi"/>\n  </g>\n  <g class="window-zoom-glyph dpi-high">\n    <polygon points="9.5 5.5 6.5 5.5 6.5 2.5 5.5 2.5 5.5 5.5 2.5 5.5 2.5 6.5 5.5 6.5 5.5 9.5 6.5 9.5 6.5 6.5 9.5 6.5 9.5 5.5" fill="#0a630c"/>\n    <rect x="5.5" y="2" width="1" height="0.5" fill="#1b8e25" class="semi"/>\n    <rect x="5.5" y="9.5" width="1" height="0.5" fill="#1b8e25" class="semi"/>\n    <rect x="9.5" y="5.5" width="0.5" height="1" fill="#1b8e25" class="semi"/>\n    <rect x="2" y="5.5" width="0.5" height="1" fill="#1b8e25" class="semi"/>\n  </g>\n\n  <g class="window-fullscreen-glyph dpi-standard">\n    <polygon points="9 7.6 4.4 3 8.38 3.1 8.9 3.63" fill="#0a630c"/>\n    <polygon points="3 4.5 7.5 9 3.63 8.9 3.1 8.38" fill="#0a630c"/>\n  </g>\n  <g class="window-fullscreen-glyph dpi-high">\n    <polygon points="3 4.5 7.5 9 3.63 9 3 8.38 3 4.5" fill="#0a630c"/>\n    <polygon points="9 7.5 4.5 3 8.38 3 9 3.63 9 7.5" fill="#0a630c"/>\n  </g>\n\n  <g class="window-restore-glyph dpi-standard">\n    <polygon points="6 10 2 6 6 6 6 10" fill="#0a630c"/>\n    <polygon points="6 2 10 6 6 6 6 2" fill="#0a630c"/>\n  </g>\n  <g class="window-restore-glyph dpi-high">\n    <polygon points="6 1.5 10.5 6 6.50 6 6 5.50 6 1.5" fill="#0a630c"/>\n    <polygon points="6 10.5 1.5 6 5.50 6 6 6.50 6 10.5" fill="#0a630c"/>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12">\n\n  <circle cx="6" cy="6" />\n\n  <g class="window-minimize-glyph dpi-standard">\n    <rect x="3" y="5" width="6" height="2" fill="#965612"/>\n    <rect x="9" y="5" width="1" height="2" fill="#ab6e1c" class="semi" />\n    <rect x="2" y="5" width="1" height="2" fill="#ab6e1c" class="semi"/>\n  </g>\n  <g class="window-minimize-glyph dpi-high">\n    <rect x="2.5" y="5.5" width="7" height="1" fill="#965612"/>\n    <rect x="2" y="5.5" width="0.5" height="1" fill="#ab6e1c" class="semi"/>\n    <rect x="9.5" y="5.5" width="0.5" height="1" fill="#ab6e1c" class="semi"/>\n  </g>\n\n</svg>\n'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M3 2v12l5-2 5 2V2H3zm8 9L8 9.646 5 11V4h6v8-1z" />\n</svg>\n'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n    <path fill-rule="evenodd" d="M10.4 7.43c1.02 0 1.8-.744 1.8-1.716 0-.97-.78-1.714-1.8-1.714s-1.8.743-1.8 1.714c0 .972.78 1.715 1.8 1.715zm-4.8 0c1.02 0 1.8-.744 1.8-1.716C7.4 4.744 6.62 4 5.6 4s-1.8.743-1.8 1.714c0 .972.78 1.715 1.8 1.715zM2 10v2h7.2v-2C6.566 8.57 6.98 8.57 5.6 8.57S4.392 8.57 2 10zm7.2-1.37c.72.456 1.2 1.14 1.2 1.94V12H14v-1.43c0-1.313-2.82-2-4.2-2-.18 0-.36 0-.6.06z"/>\n</svg>\n'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n    <path d="M8.914 6.995V3H6.057v3.995c0 .066-2.857 0-2.857 0l4.286 3.955 4.285-3.955H8.915zM3 13v1h10v-1H3z" />\n</svg>\n'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M1 3v10h14V3H1zm7 7L2 5.714V4l6 4.286L14 4v1.514L8 10z" />\n</svg>\n'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M3 2v12h10V2H3zm9 11H4V4h8v9z" />\n  <path d="M5 6h6v1H5V6zm0 4h6v1H5v-1zm0-2h6v1H5V8z" />\n</svg>\n'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M12.55 8v.592l1.325 1.014c.088.084.177.253.088.338l-1.236 2.028c-.09.17-.265.17-.354.17l-1.502-.593c-.352.253-.706.422-1.06.59l-.264 1.606c0 .17-.177.254-.265.254H6.808c-.176 0-.265-.085-.265-.254L6.19 12.14c-.354-.168-.708-.337-1.06-.59l-1.503.59c-.177.085-.265 0-.354-.168L2.037 9.944c-.09-.17 0-.254.088-.338L3.45 8.592V7.408L2.125 6.394c-.088-.084-.177-.253-.088-.338l1.236-2.028c.09-.17.265-.17.354-.17l1.502.593c.352-.168.706-.422 1.06-.59l.264-1.606c0-.17.177-.254.265-.254h2.473c.176 0 .265.085.265.254l.265 1.605c.353.168.707.337 1.06.59l1.502-.59c.177-.085.265 0 .353.168l1.237 2.028c.088.17 0 .254-.088.338l-1.325 1.014c.088.17.088.423.088.592zM7.956 9.69c.976 0 1.767-.757 1.767-1.69 0-.933-.79-1.69-1.767-1.69-.976 0-1.767.757-1.767 1.69 0 .933.79 1.69 1.766 1.69z" />\n</svg>\n'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M10.428 5.038c-.42-.85.027-1.804.943-2.008.747-.167 1.518.386 1.617 1.15.043.335-.023.642-.188.93-1.36 2.38-2.72 4.76-4.076 7.14-.252.44-.618.71-1.12.745-.564.042-1.006-.197-1.29-.69-.86-1.49-1.71-2.988-2.563-4.483-.52-.91-1.04-1.818-1.557-2.73-.52-.917.067-2.034 1.113-2.088.553-.03.98.228 1.26.712.383.66.76 1.327 1.138 1.99.274.48.542.96.823 1.434.407.687 1.006 1.074 1.803 1.122 1.128.068 2.175-.755 2.31-1.965.01-.09.017-.18.02-.227-.005-.39-.078-.72-.232-1.032z"/>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26">\n  <path d="M17.6 20.4l-1.6 1.6-9-9 9-9 1.6 1.6-7.2 7.4 7.2 7.4z"/>\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="1 -1 26 26">\n  <path d="M10 6l7 5.6v-5.6h2v12h-2v-5.6l-7 5.6z"/>\n</svg>'},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n  <path d="M15.2 13l-7.2 7.4 1.6 1.6 9-9-9-9-1.6 1.6 7.2 7.4z" />\n</svg>'},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n  <path d="M4 13c0 4.95 4.05 9 9 9 4.162 0 7.65-2.924 8.662-6.75h-2.362c-.9 2.588-3.376 4.5-6.3 4.5-3.712 0-6.75-3.038-6.75-6.75s3.038-6.75 6.75-6.75c1.912 0 3.488.788 4.724 2.024l-2.724 2.722h6.999v-6.996l-2.7 2.7c-1.576-1.688-3.824-2.7-6.3-2.7-4.95 0-9 4.05-9 9z"/>\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="1 -1 26 26">\n  <path d="M19 6l-7 5.6v-5.6h-2v12h2v-5.6l7 5.6z"/>\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-191 193 16 16">\n  <path d="M-182.6 201.9c.4-.7.7-1.5.7-2.3 0-2.5-2-4.5-4.5-4.5s-4.5 2-4.5 4.5 2 4.5 4.5 4.5c.9 0 1.7-.2 2.3-.7l2.3 2.3c.2.2 1.5 1.3 1.7 1.3.3 0 .4-.2.6-.4.4-.4.7-.9.3-1.3l-3.4-3.4zm-6.4-2.4c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5-2.5-1.1-2.5-2.5zM-177.5 202l2.5-4h-5"/>\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="1 -1 26 26">\n  <path d="M9.4 18l-1.4-1.4 4.6-4.6-4.6-4.6 1.4-1.4 4.6 4.6 4.6-4.6 1.4 1.4-4.6 4.6 4.6 4.6-1.4 1.4-4.6-4.6z" />\n</svg>'},function(e,t){e.exports='<svg width="16" height="16" viewBox="0 0 16 16" class="note-icon" xmlns="http://www.w3.org/2000/svg"><path d="M13 8v-6h-10v12h7v2l2.5-2 2.5 2v-8h-2zm-1-4h-8v9h5v1h1v-6h3v-1h-1v-3zm-3 6h-4v1h4v-1zm0-2v1h-4v-1h4zm-4-2h6v1h-6v-1z" fill-rule="evenodd"/></svg>\n'},function(e,t){e.exports='<svg width="16" height="16" viewBox="0 0 16 16" class="note-icon" xmlns="http://www.w3.org/2000/svg">\n  <path d="M3 2h10v12h-10v-12zm1 2h8v9h-8v-9zm1 2h6v1h-6v-1zm0 4h6v1h-6v-1zm0-2h6v1h-6v-1z" fill-rule="evenodd"/>\n</svg>\n'},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n  <path d="M7 21.5l6-3.5 6 3.5v-16.5h-12v16.5zm2-3.5v-11h8v11l-4-2.2-4 2.2z"/>\n</svg>\n'},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n  <path d="M15.6 19h5.4v-2.2c0-1.5-3-2.8-4.7-2.8-.7 0-1.5.2-2.3.5.9.6 1.6 1.4 1.6 2.2v2.3zm.9-6.5c1.4 0 2.5-1.2 2.5-2.8 0-1.5-1.1-2.7-2.5-2.7-1.5 0-2.5 1.2-2.5 2.7 0 1.6 1 2.8 2.5 2.8zm-7 0c1.5 0 2.5-1.2 2.5-2.7 0-1.6-1.1-2.8-2.5-2.8-1.5 0-2.5 1.2-2.5 2.7 0 1.6 1 2.8 2.5 2.8zm-4.5 6.5h9v-2.2c0-1.5-2.8-2.8-4.5-2.8-1.7 0-4.5 1.3-4.5 2.8v2.2z"/>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26">\n  <path d="M15 6h-4v5h-4l6 6 6-6h-4v-5zm-9 16h14v-2h-14v2z"/>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 26 26">\n  <path d="M7 20h12v-14h-12v14zm2-11h8v9h-8v-9zm1 2h6v1h-6v-1zm0 2h6v1h-6v-1zm0 2h6v1h-6v-1z"/>\n</svg>\n'},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n  <path d="M10.982 17.576v.424l.404 1.704c0 .197.101.296.303.296h2.725c.101 0 .303-.099.303-.296l.303-1.704v-.424c.335-.148.651-.332.943-.547l.378.218 1.678.503c.171.099.307.06.408-.114l1.362-2.36c.05-.087.066-.311-.105-.41l-1.325-1.114-.385-.222c.018-.174.028-.351.028-.53 0-.179-.009-.356-.028-.53l.385-.222 1.274-1.202c.171-.099.206-.235.105-.41l-1.362-2.36c-.05-.087-.237-.213-.408-.114l-1.627.59-.378.218c-.292-.215-.608-.399-.943-.547v-.424l-.404-1.704c0-.197-.101-.296-.303-.296h-2.725c-.101 0-.303.099-.303.296l-.303 1.704v.424c-.329.145-.639.325-.927.535l-.358-.207-1.678-.503c-.171-.099-.307-.06-.408.114l-1.362 2.36c-.05.087-.066.311.105.41l1.325 1.114.351.203c-.02.18-.03.364-.03.55 0 .186.01.369.03.55l-.351.203-1.274 1.202c-.171.099-.206.235-.105.41l1.362 2.36c.05.087.237.213.408.114l1.627-.59.358-.207c.287.21.598.389.927.535zm2.018-2.576c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z" fill-rule="evenodd"/>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n  <title>permission-camera</title>\n  <g>\n    <path class="permission-frame" d="M0 0h16v16h-16v-16z" opacity="0" />\n    <path class="permission-icon" d="M2 4v7h9v-7h-9zm9.015 3.5l3.985 3.5v-7l-3.985 3.5z" fill="#aaa"/>\n    <g class="permission-denied">\n      <circle fill="#F03939" cx="4" cy="12" r="4"/>\n      <path d="M2 11h4v2h-4v-2z" fill="#fff"/>\n    </g>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n  <title>permission-location</title>\n  <g>\n    <path class="permission-frame" d="M0 0h16v16h-16v-16z" opacity="0" />\n    <path class="permission-icon" d="M13,3 L1.999,8.996 L7.026,8.967 L7.026,13.971 L13,3 Z" fill="#AAAAAA"/>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n  <g>\n    <path class="permission-frame" d="M0 0h16v16h-16v-16z" opacity="0" />\n    <path class="permission-icon" d="M8.1 14c.66 0 1.2-.54 1.2-1.2H6.9c0 .66.54 1.2 1.2 1.2zM12 7c0-1.742-1.278-3.284-3-3.692V3c0-.598-.486-1-1-1-.482 0-1 .402-1 1v.308C5.294 3.716 4.047 5.258 4 7v3l-1 1v1.002h10V11l-1-1V7z" fill="#aaa"/>\n    <g class="permission-denied">\n      <circle fill="#F03939" cx="4" cy="12" r="4"/>\n      <path d="M2 11h4v2h-4v-2z" fill="#fff"/>\n    </g>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">\n  <title>permission-popup</title>\n  <g>\n    <path class="permission-frame" d="M0 0h16v16h-16v-16z" opacity="0" />\n    <path class="permission-icon" d="M3,10 L1,10 L1,1 L10,1 L10,3 L3,3 L3,10 Z" fill-opacity="0.5" fill="#AAAAAA"></path>\n    <path class="permission-icon" d="M4,4 L4,13 L13,13 L13,4 L4,4 Z M6,6 L11,6 L11,11 L6,11 L6,6 Z" fill="#AAAAAA"></path>\n    <g class="permission-denied">\n      <circle fill="#F03939" cx="4" cy="12" r="4"/>\n      <path d="M2 11h4v2h-4v-2z" fill="#fff"/>\n    </g>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\r\n	<path d="M7 14h2v-1h1v-1H9v-1h1v-1H9V8h3V3H4v5h3v6zM6 5h4v1H6V5z"/>\r\n</svg>\r\n'},function(e,t){e.exports='<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <defs>\n    <radialGradient cy="23.635%" fx="50%" fy="23.635%" r="55.581%" id="horizontal-menu-button-radialGradient-1">\n      <stop stop-color="#FF5B5B" offset="0%"/>\n      <stop stop-color="#EF3939" offset="100%"/>\n    </radialGradient>\n    <filter x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox" id="horizontal-menu-button-filter-2">\n      <feOffset in="SourceAlpha" result="shadowOffsetInner1"/>\n      <feGaussianBlur stdDeviation="2" in="shadowOffsetInner1" result="shadowBlurInner1"/>\n      <feComposite in="shadowBlurInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"/>\n      <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.042 0" in="shadowInnerInner1" result="shadowMatrixInner1"/>\n      <feMerge>\n        <feMergeNode in="SourceGraphic"/>\n        <feMergeNode in="shadowMatrixInner1"/>\n      </feMerge>\n    </filter>\n    <path id="horizontal-menu-button-path-3" d="M0 0h16v16H0z"/>\n    <filter x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox" id="horizontal-menu-viv-icon-filter-5">\n      <feOffset dx="-1" in="SourceAlpha" result="shadowOffsetInner1"/>\n      <feGaussianBlur in="shadowOffsetInner1" result="shadowBlurInner1"/>\n      <feComposite in="shadowBlurInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"/>\n      <feColorMatrix values="0 0 0 0 0.88627451 0 0 0 0 0.443137255 0 0 0 0 0.443137255 0 0 0 0.175 0" in="shadowInnerInner1" result="shadowMatrixInner1"/>\n      <feMerge>\n        <feMergeNode in="SourceGraphic"/>\n        <feMergeNode in="shadowMatrixInner1"/>\n      </feMerge>\n    </filter>\n  </defs>\n  <g id="horizontal-menu-viv-icon" fill="none" fill-rule="evenodd">\n    <g id="horizontal-product_logo_16">\n      <mask id="horizontal-menu-viv-icon-mask-4" fill="#fff">\n        <use xlink:href="#horizontal-menu-button-path-3"/>\n      </mask>\n      <g id="v-icon-bg" filter="url(#horizontal-menu-button-filter-2)">\n        <use fill="url(#horizontal-menu-button-radialGradient-1)" xlink:href="#horizontal-menu-button-path-3"/>\n        <use stroke-opacity=".1" stroke="#000" xlink:href="#horizontal-menu-button-path-3"/>\n      </g>\n      <path d="M10.544 5.522c-.383-.71.025-1.503.858-1.674.677-.138 1.38.322 1.47.958.038.28-.022.536-.172.777-1.235 1.982-2.472 3.964-3.704 5.948-.23.37-.563.592-1.02.623-.512.034-.914-.165-1.172-.575-.78-1.243-1.554-2.49-2.33-3.736-.472-.758-.946-1.515-1.416-2.274-.474-.765.06-1.696 1.012-1.74.502-.025.89.19 1.145.592.348.55.69 1.106 1.035 1.66.25.398.492.8.748 1.194.37.572.914.895 1.64.935 1.024.055 1.976-.63 2.1-1.64l.018-.188c-.006-.326-.072-.6-.212-.86z" id="horizontal-menu-viv-icon-v-shape" fill="#FFF" filter="url(#horizontal-menu-viv-icon-filter-5)"/>\n    </g>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg id="smallplus" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <linearGradient x1="28.555%" y1="34.555%" x2="109.241%" y2="129.681%" id="add-sd1">\n      <stop stop-color="#0084FF" offset="0%"/>\n      <stop stop-color="#8EFFF6" offset="100%"/>\n    </linearGradient>\n    <filter x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox" id="add-sd2">\n      <feOffset dy="1" in="SourceAlpha" result="shadowOffsetInner1"/>\n      <feGaussianBlur stdDeviation="1" in="shadowOffsetInner1" result="shadowBlurInner1"/>\n      <feComposite in="shadowBlurInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"/>\n      <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.21 0" in="shadowInnerInner1" result="shadowMatrixInner1"/>\n      <feMerge>\n        <feMergeNode in="SourceGraphic"/>\n        <feMergeNode in="shadowMatrixInner1"/>\n      </feMerge>\n    </filter>\n  </defs>\n  <path d="M210 8h-8v2h8v8h2v-8h8V8h-8V0h-2v8z" transform="translate(-202)" filter="url(#add-sd2)" fill="url(#add-sd1)" fill-rule="evenodd"/>\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\n    <path d="M5.3 9.8L.8 6.5l4.6-3.3L6.6 5 4.2 6.4l2.3 1.7-1.2 1.6M10.7 11.8l-1.2-1.6 2.3-1.7L9.4 7 10.6 5l4.6 3.3-4.5 3.3"/>\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="-191 193 16 16">\n  <path d="M-175 195v12h-16v-12h16zm-10 10v-8h-4v8h4z"/>\n</svg>'},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n    <path d="M16.85 9.42c.82-.773 2.152-1.316 2.76-2.194.668-.962.38-2.255-.636-2.886-1.02-.63-2.385-.36-3.055.603-.63.91-.6 2.348-1.073 3.377-.612 1.33-2.66 1.495-5.014.335-1.293 2.37-3.05 4.91-4.833 6.977l1.694 1.05c.76-.124 1.706-.75 2.09-1.435-.03.824-.358 1.554-1 2.108l3.2 1.976c.408-.383.788-.688 1.21-.95-.24.455-.4.936-.472 1.407l1.894 1.172c1.123-2.04 3.306-5.19 4.832-6.978-2.11-1.606-2.737-3.488-1.598-4.56zm1.32-3.917c.34.21.433.642.21.962-.22.322-.678.41-1.016.2-.34-.21-.435-.64-.213-.96.223-.322.68-.412 1.02-.202zm-2.964 10.625L9.05 12.323l1.21-1.745 6.152 3.806-1.206 1.744z" />\n</svg>'},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n    <path d="M13 18l4-4H9l4 4zM12 8v6h2V8h-2z" />\n</svg>'},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n      <path d="M13 6c-3.866 0-7 3.133-7 7h2c0-2.758 2.243-5 5-5s5 2.242 5 5c0 2.757-2.243 5-5 5-1.61 0-3.03-.78-3.946-1.966H6.7C7.83 18.378 10.222 20 13 20c3.866 0 7-3.135 7-7 0-3.867-3.134-7-7-7"/>\n      <path d="M13 13H6V6l7 7z"/>\n    <path d="M12 11h2v4h-2z"/>\n</svg>'},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n    <path d="M16 13l-6 5V8l6 5z" />\n</svg>'},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n    <path d="M9 9h8v8H9z"/>\n</svg>'},function(e,t){e.exports='<svg viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg">\n      <path d="M12.6 7C9.507 7 7 9.506 7 12.6h1.6c0-2.206 1.794-4 4-4s4 1.794 4 4-1.794 4-4 4c-1.29 0-2.425-.623-3.157-1.573H7.56c.905 1.875 2.818 3.172 5.04 3.172 3.093 0 5.6-2.508 5.6-5.6 0-3.094-2.507-5.6-5.6-5.6"/>\n      <path d="M13 13H7V7l6 6z"/>\n</svg>'},function(e,t){e.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M7 9h-4v-2h4v-4h2v4h4v2h-4v4h-2v-4zm-7-9v16h16v-16h-16z" />\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">\n  <path className="trashicon-lid" d="M11 1V0H4v1H1v2h13V1h-3z"/>\n  <path className="trashicon-content" d="M5 4v9h2V4H5zm3 0v9h2V4H8z"/>\n  <path className="trashicon-bin" d="M2 16V4h2v10h7V4h2v12H2z"/>\n</svg>';
},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <defs>\n    <rect id="vivrect1" width="18" height="18" x="2.013" y="2.013" rx="1"/>\n    <rect id="vivrect2" width="18" height="18" x="2.013" y="2.013" rx="1"/>\n    <radialGradient id="vivgrad1" cy="23.635%" r="55.581%" fx="50%" fy="23.635%">\n      <stop stop-color="#FF5B5B" offset="0%"/>\n      <stop stop-color="#EF3939" offset="100%"/>\n    </radialGradient>\n    <filter id="filter1" width="200%" height="200%" x="-50%" y="-50%" filterUnits="objectBoundingBox">\n      <feOffset in="SourceAlpha" result="shadowOffsetInner1"/>\n      <feGaussianBlur stdDeviation="2" in="shadowOffsetInner1" result="shadowBlurInner1"/>\n      <feComposite in="shadowBlurInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"/>\n      <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.042 0" in="shadowInnerInner1" result="shadowMatrixInner1"/>\n      <feMerge>\n        <feMergeNode in="SourceGraphic"/>\n        <feMergeNode in="shadowMatrixInner1"/>\n      </feMerge>\n    </filter>\n    <rect id="vivrect3" width="18" height="18" x="2.013" y="2.013" rx="1"/>\n    <filter id="filter2" width="200%" height="200%" x="-50%" y="-50%" filterUnits="objectBoundingBox">\n      <feOffset dx="-1" in="SourceAlpha" result="shadowOffsetInner1"/>\n      <feGaussianBlur in="shadowOffsetInner1" result="shadowBlurInner1"/>\n      <feComposite in="shadowBlurInner1" in2="SourceAlpha" operator="arithmetic" k2="-1" k3="1" result="shadowInnerInner1"/>\n      <feColorMatrix values="0 0 0 0 0.88627451 0 0 0 0 0.443137255 0 0 0 0 0.443137255 0 0 0 0.175 0" in="shadowInnerInner1" result="shadowMatrixInner1"/>\n      <feMerge>\n        <feMergeNode in="SourceGraphic"/>\n        <feMergeNode in="shadowMatrixInner1"/>\n      </feMerge>\n    </filter>\n  </defs>\n  <g fill="none" fill-rule="evenodd">\n    <g opacity=".4">\n      <use fill="#EF3939" transform="rotate(-12 11.013 11.013)" xlink:href="#vivrect1"/>\n      <use xlink:href="#vivrect1"/>\n    </g>\n    <g opacity=".4">\n      <use fill="#EF3939" transform="rotate(-6 11.013 11.013)" xlink:href="#vivrect2"/>\n      <use xlink:href="#vivrect2"/>\n    </g>\n    <g filter="url(#filter1)">\n      <use fill="url(#vivgrad1)" xlink:href="#vivrect3"/>\n      <use stroke="#000" stroke-opacity=".1" xlink:href="#vivrect3"/>\n    </g>\n    <path fill="#FFF" d="M14.284 8.394c-.46-.85.03-1.804 1.03-2.008.812-.167 1.653.386 1.76 1.15.05.335-.023.642-.203.93-1.48 2.38-2.965 4.758-4.445 7.14-.275.44-.674.71-1.223.745-.614.042-1.097-.197-1.406-.69C8.858 14.17 7.93 12.674 7 11.18c-.567-.91-1.136-1.818-1.7-2.73-.57-.917.073-2.034 1.215-2.088.602-.03 1.067.228 1.373.712.418.66.83 1.327 1.242 1.99.3.48.59.96.898 1.434.444.687 1.097 1.074 1.967 1.122 1.23.068 2.372-.756 2.52-1.965l.023-.227c-.007-.39-.086-.72-.254-1.032z" filter="url(#filter2)"/>\n  </g>\n</svg>'},function(e,t){e.exports='<svg width="10" height="10" viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg">\n    <path d="M1 1h2v1H1V1zm1 1h2v1H2V2zm4 0h2v1H6V2zm1-1h2v1H7V1zM3 3h4v1H3V3zm1 1h2v1H4V4zM3 5h4v1H3V5zM2 6h2v1H2V6zm4 0h2v1H6V6zm1 1h2v1H7V7zM1 7h2v1H1V7z"/>\n</svg>'},function(e,t){e.exports='<svg class="window-maximize" xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10">\n\n  <g class="window-maximize-glyph">\n    <path d="M1 2h8v1H1V2zM0 1h10v1H0V1zm0 7h10v1H0V8zm0-6h1v6H0V2zm9 0h1v6H9V2z"/>\n  </g>\n\n  <g class="window-restore-glyph">\n    <path d="M1 3h6v1H1V3zM0 2h8v1H0V2zm1 7h6v1H1V9zM0 3h1v7H0V3zm7 0h1v7H7V3zM2 0h8v1H2V0zm7 1h1v7H9V1z"/>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10">\n    <path d="M1 7h8v2H1z"/>\n</svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10">\n  <path d="M10.2.5l-.7-.7L5 4.3.5-.2l-.7.7L4.3 5-.2 9.5l.7.7L5 5.7l4.5 4.5.7-.7L5.7 5"/>\n</svg>\n'},function(e,t){e.exports='<svg class="window-maximize" xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10">\n\n  <g class="window-maximize-glyph">\n    <path d="M9 1v8H1V1h8m1-1H0v10h10V0z"/>\n  </g>\n\n  <g class="window-restore-glyph">\n    <path d="M3 0H2v2H0v8h8V8h2V0H3zm4 9H1V3h6v6zm2-2H8V2H3V1h6v6z"/>\n  </g>\n</svg>\n'},function(e,t){e.exports='<svg width="10" height="1" viewBox="0 0 10 1" xmlns="http://www.w3.org/2000/svg">\n  <path d="M0 0h10v1H0z"/>\n</svg>\n'},function(e,t,n){e.exports=n(625)},function(e,t){"use strict";function n(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=Object.assign||function(e,t){for(var i,r,o,a=n(e),s=1;s<arguments.length;s++){r=arguments[s],o=Object.keys(Object(r));for(var l=0;l<o.length;l++)try{a[o[l]]=r[o[l]]}catch(u){void 0===i&&(i=u)}}if(i)throw i;return a}},function(e,t,n){(function(t){var i=t.React||n(1),r=n(599),o=i.createClass({lastDimensions:{width:null,height:null},propTypes:{triggersClass:i.PropTypes.string,expandClass:i.PropTypes.string,contractClass:i.PropTypes.string,embedCss:i.PropTypes.bool,onResize:i.PropTypes.func.isRequired},getDefaultProps:function(){return{triggersClass:"resize-triggers",expandClass:"expand-trigger",contractClass:"contract-trigger",embedCss:!0}},requestFrame:function(e){return(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)})(e)},cancelFrame:function(e){return(window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout)(e)},componentDidMount:function(){this.resetTriggers(),this.initialResetTriggersTimeout=setTimeout(this.resetTriggers,1e3)},componentWillUnmount:function(){clearTimeout(this.initialResetTriggersTimeout)},componentDidUpdate:function(){this.resetTriggers()},resetTriggers:function(){var e=this.refs.contract,t=this.refs.expandChild,n=this.refs.expand;e.scrollLeft=e.scrollWidth,e.scrollTop=e.scrollHeight,t.style.width=n.offsetWidth+1+"px",t.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},onScroll:function(){"function"==typeof this.props.onScroll&&this.props.onScroll(),this.r&&this.cancelFrame(this.r),this.r=this.requestFrame(function(){var e=this.getDimensions();this.haveDimensionsChanged(e)&&(this.lastDimensions=e,this.props.onResize(e))}.bind(this))},getDimensions:function(){var e=this.refs.resizable;return{width:e.offsetWidth,height:e.offsetHeight}},haveDimensionsChanged:function(e){return e.width!=this.lastDimensions.width||e.height!=this.lastDimensions.height},render:function(){var e=r({},this.props,{onScroll:this.onScroll,ref:"resizable"});return i.createElement("div",e,[this.props.children,i.createElement("div",{className:this.props.triggersClass,key:"trigger"},[i.createElement("div",{className:this.props.expandClass,ref:"expand",key:"expand"},i.createElement("div",{ref:"expandChild"})),i.createElement("div",{className:this.props.contractClass,ref:"contract",key:"contract"})]),this.props.embedCss?i.createElement("style",{key:"embededCss",dangerouslySetInnerHTML:{__html:'.resize-triggers { visibility: hidden; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }'}}):null])}});e.exports=o,t.Resizable=o}).call(t,function(){return this}())},function(e,t,n){var i,r,o;!function(a,s){r=[t,e,n(1),n(13)],i=s,o="function"==typeof i?i.apply(t,r):i,!(void 0!==o&&(e.exports=o))}(this,function(e,t,n,i){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n;i=!1,null===r&&(r=Function.prototype);var s=Object.getOwnPropertyDescriptor(r,o);if(void 0!==s){if("value"in s)return s.value;var l=s.get;if(void 0===l)return;return l.call(a)}var u=Object.getPrototypeOf(r);if(null===u)return;e=u,t=o,n=a,i=!0,s=u=void 0}},u=r(n),c=r(i),A=c["default"].findDOMNode,d=function(e,t){for(var n in e)if(e[n]!==t[n])return!1;return!0},h=function(e,t){return d(e,t)&&d(t,e)},p={x:"clientWidth",y:"clientHeight"},f={x:"clientTop",y:"clientLeft"},m={x:"innerWidth",y:"innerHeight"},g={x:"offsetWidth",y:"offsetHeight"},v={x:"offsetLeft",y:"offsetTop"},_={x:"overflowX",y:"overflowY"},E={x:"scrollWidth",y:"scrollHeight"},S={x:"scrollLeft",y:"scrollTop"},y={x:"width",y:"height"},b=function(){},C=function(e){function t(e){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e);var n=this.props,i=n.initialIndex,r=n.pageSize,a=1,s=this.constrain(i,r,a,this.props),u=s.from,c=s.size;this.state={from:u,size:c,itemsPerRow:a},this.cache={}}return a(t,e),s(t,null,[{key:"displayName",value:"ReactList",enumerable:!0},{key:"propTypes",value:{axis:n.PropTypes.oneOf(["x","y"]),initialIndex:n.PropTypes.number,itemSizeGetter:n.PropTypes.func,itemRenderer:n.PropTypes.func,itemsRenderer:n.PropTypes.func,length:n.PropTypes.number,pageSize:n.PropTypes.number,scrollParentGetter:n.PropTypes.func,threshold:n.PropTypes.number,type:n.PropTypes.oneOf(["simple","variable","uniform"]),useTranslate3d:n.PropTypes.bool},enumerable:!0},{key:"defaultProps",value:{axis:"y",initialIndex:null,itemSizeGetter:null,itemRenderer:function(e,t){return u["default"].createElement("div",{key:t},e)},itemsRenderer:function(e,t){return u["default"].createElement("div",{ref:t},e)},length:0,pageSize:10,scrollParentGetter:null,threshold:100,type:"simple",useTranslate3d:!1},enumerable:!0}]),s(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state,n=t.from,i=t.size,r=t.itemsPerRow;this.setState(this.constrain(n,i,r,e))}},{key:"componentDidMount",value:function(){this.updateFrame=this.updateFrame.bind(this),window.addEventListener("resize",this.updateFrame),this.updateFrame(this.scrollTo.bind(this,this.props.initialIndex))}},{key:"shouldComponentUpdate",value:function(e,t){return!h(e,this.props)||!h(t,this.state)}},{key:"componentDidUpdate",value:function(){this.updateFrame()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateFrame),this.scrollParent.removeEventListener("scroll",this.updateFrame),this.scrollParent.removeEventListener("mousewheel",b)}},{key:"getOffset",value:function(e){var t=this.props.axis,n=e[f[t]]||0,i=v[t];do n+=e[i]||0;while(e=e.offsetParent);return n}},{key:"getScrollParent",value:function(){var e=this.props,t=e.axis,n=e.scrollParentGetter;if(n)return n();for(var i=A(this),r=_[t];i=i.parentElement;)switch(window.getComputedStyle(i)[r]){case"auto":case"scroll":case"overlay":return i}return window}},{key:"getScroll",value:function(){var e=this.scrollParent,t=this.props.axis,n=S[t],i=e===window?document.body[n]||document.documentElement[n]:e[n],r=this.getScrollSize()-this.getViewportSize(),o=Math.max(0,Math.min(i,r)),a=A(this);return this.getOffset(e)+o-this.getOffset(a)}},{key:"setScroll",value:function(e){var t=this.scrollParent,n=this.props.axis;return e+=this.getOffset(A(this)),t===window?window.scrollTo(0,e):(e-=this.getOffset(this.scrollParent),void(t[S[n]]=e))}},{key:"getViewportSize",value:function(){var e=this.scrollParent,t=this.props.axis;return e===window?window[m[t]]:e[p[t]]}},{key:"getScrollSize",value:function(){var e=this.scrollParent,t=this.props.axis;return e===window?document.body[E[t]]:e[E[t]]}},{key:"hasDeterminateSize",value:function(){var e=this.props,t=e.itemSizeGetter,n=e.type;return"uniform"===n||t}},{key:"getStartAndEnd",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.props.threshold:arguments[0],t=this.getScroll(),n=Math.max(0,t-e),i=t+this.getViewportSize()+e;return this.hasDeterminateSize()&&(i=Math.min(i,this.getSpaceBefore(this.props.length))),{start:n,end:i}}},{key:"getItemSizeAndItemsPerRow",value:function(){var e=A(this.items).children;if(!e.length)return{};var t=e[0],n=this.state.itemSize,i=this.props.axis,r=t[g[i]],o=Math.abs(r-n);if((isNaN(o)||o>=1)&&(n=r),!n)return{};for(var a=v[i],s=t[a],l=1,u=e[l];u&&u[a]===s;u=e[l])++l;return{itemSize:n,itemsPerRow:l}}},{key:"updateFrame",value:function(e){switch(this.updateScrollParent(),"function"!=typeof e&&(e=b),this.props.type){case"simple":return this.updateSimpleFrame(e);case"variable":return this.updateVariableFrame(e);case"uniform":return this.updateUniformFrame(e)}}},{key:"updateScrollParent",value:function(){var e=this.scrollParent;this.scrollParent=this.getScrollParent(),e!==this.scrollParent&&(e&&(e.removeEventListener("scroll",this.updateFrame),e.removeEventListener("mousewheel",b)),this.scrollParent.addEventListener("scroll",this.updateFrame),this.scrollParent.addEventListener("mousewheel",b))}},{key:"updateSimpleFrame",value:function(e){var t=this.getStartAndEnd(),n=t.end,i=A(this.items).children,r=0;if(i.length){var o=this.props.axis,a=i[0],s=i[i.length-1];r=this.getOffset(s)+s[g[o]]-this.getOffset(a)}if(r>n)return e();var l=this.props,u=l.pageSize,c=l.length;this.setState({size:Math.min(this.state.size+u,c)},e)}},{key:"updateVariableFrame",value:function(e){this.props.itemSizeGetter||this.cacheSizes();for(var t=this.getStartAndEnd(),n=t.start,i=t.end,r=this.props,o=r.length,a=r.pageSize,s=0,l=0,u=0,c=o-1;c>l;){var A=this.getSizeOf(l);if(null==A||s+A>n)break;s+=A,++l}for(var d=o-l;d>u&&i>s;){var A=this.getSizeOf(l+u);if(null==A){u=Math.min(u+a,d);break}s+=A,++u}this.setState({from:l,size:u},e)}},{key:"updateUniformFrame",value:function(e){var t=this.getItemSizeAndItemsPerRow(),n=t.itemSize,i=t.itemsPerRow;if(!n||!i)return e();var r=this.getStartAndEnd(),o=r.start,a=r.end,s=this.constrain(Math.floor(o/n)*i,(Math.ceil((a-o)/n)+1)*i,i,this.props),l=s.from,u=s.size;return this.setState({itemsPerRow:i,from:l,itemSize:n,size:u},e)}},{key:"getSpaceBefore",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(null!=t[e])return t[e];var n=this.state,i=n.itemSize,r=n.itemsPerRow;if(i)return t[e]=Math.floor(e/r)*i;for(var o=e;o>0&&null==t[--o];);for(var a=t[o]||0,s=o;e>s;++s){t[s]=a;var l=this.getSizeOf(s);if(null==l)break;a+=l}return t[e]=a}},{key:"cacheSizes",value:function(){for(var e=this.cache,t=this.state.from,n=A(this.items).children,i=g[this.props.axis],r=0,o=n.length;o>r;++r)e[t+r]=n[r][i]}},{key:"getSizeOf",value:function(e){var t=this.cache,n=this.items,i=this.props,r=i.axis,o=i.itemSizeGetter,a=i.type,s=this.state,l=s.from,u=s.itemSize,c=s.size;if(u)return u;if(o)return o(e);if(e in t)return t[e];if("simple"===a&&e>=l&&l+c>e&&n){var d=A(n).children[e-l];if(d)return d[g[r]]}}},{key:"constrain",value:function(e,t,n,i){var r=i.length,o=i.pageSize,a=i.type;t=Math.max(t,o);var s=t%n;return s&&(t+=n-s),t>r&&(t=r),e="simple"!==a&&e?Math.max(Math.min(e,r-t),0):0,(s=e%n)&&(e-=s,t+=s),{from:e,size:t}}},{key:"scrollTo",value:function(e){null!=e&&this.setScroll(this.getSpaceBefore(e))}},{key:"scrollAround",value:function(e){var t=this.getScroll(),n=this.getSpaceBefore(e),i=n-this.getViewportSize()+this.getSizeOf(e),r=Math.min(i,n),o=Math.max(i,n);return r>=t?this.setScroll(r):t>o?this.setScroll(o):void 0}},{key:"getVisibleRange",value:function(){for(var e=this.state,t=e.from,n=e.size,i=this.getStartAndEnd(0),r=i.start,o=i.end,a={},s=void 0,l=void 0,u=t;t+n>u;++u){var c=this.getSpaceBefore(u,a),A=c+this.getSizeOf(u);null==s&&A>r&&(s=u),null!=s&&o>c&&(l=u)}return[s,l]}},{key:"renderItems",value:function(){for(var e=this,t=this.props,n=t.itemRenderer,i=t.itemsRenderer,r=this.state,o=r.from,a=r.size,s=[],l=0;a>l;++l)s.push(n(o+l,l));return i(s,function(t){return e.items=t})}},{key:"render",value:function(){var e=this.props,t=e.axis,n=e.length,i=e.type,r=e.useTranslate3d,o=this.state,a=o.from,s=o.itemsPerRow,l=this.renderItems();if("simple"===i)return l;var c={position:"relative"},A={},d=Math.ceil(n/s)*s,h=this.getSpaceBefore(d,A);h&&(c[y[t]]=h,"x"===t&&(c.overflowX="hidden"));var p=this.getSpaceBefore(a,A),f="x"===t?p:0,m="y"===t?p:0,g=r?"translate3d("+f+"px, "+m+"px, 0)":"translate("+f+"px, "+m+"px)",v={msTransform:g,WebkitTransform:g,transform:g};return u["default"].createElement("div",{style:c},u["default"].createElement("div",{style:v},l))}}]),t}(n.Component);t.exports=C})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(){function e(){var t=p(),n=t-g;g=t,v+=n*s,v>r*c&&(v=0);for(var i=Math.ceil(v/r),o=0;o<f.length;o++){var a=f[o],l=a.active,u=a.animationStep,A=a.prevState,h=f[o].nextState;if(l)if(0>=v)f[o].nextState=u(r/1e3,A);else for(var _=0;i>_;_++){f[o].nextState=u(r/1e3,h);var E=[h,f[o].nextState];f[o].prevState=E[0],h=E[1]}}v-=i*r;for(var S=1+v/r,o=0;o<f.length;o++){var y=f[o],b=y.animationRender,C=y.nextState,T=y.prevState;b(S,C,T)}f=f.filter(function(e){var t=e.active;return t}),0===f.length?m=!1:d(e)}function t(){m||(m=!0,g=p(),v=0,d(e))}var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=n.timeStep,r=void 0===i?1/60*1e3:i,o=n.timeScale,s=void 0===o?1:o,u=n.maxSteps,c=void 0===u?10:u,A=n.raf,d=void 0===A?l["default"]:A,h=n.now,p=void 0===h?a["default"]:h,f=[],m=!1,g=0,v=0;return function(e,n,i){for(var r=0;r<f.length;r++){var o=f[r];if(o.animationStep===n)return o.active=!0,o.prevState=e,t(),o.stop}var a={animationStep:n,animationRender:i,prevState:e,nextState:e,active:!0};return a.stop=function(){return a.active=!1},f.push(a),t(),a.stop}}t.__esModule=!0,t["default"]=r;var o=n(241),a=i(o),s=n(614),l=i(s);e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=e(t[i],i));return n}function o(e,t){for(var n in t)if(t.hasOwnProperty(n)&&!e(t[n],n))return!1;return!0}function a(e){var t=e.PropTypes,n=e.createClass({displayName:"Motion",propTypes:{defaultValue:function(e,t){return e[t]?new Error("Spring's `defaultValue` has been changed to `defaultStyle`. Its format received a few (easy to update!) changes as well."):void 0},endValue:function(e,t){return e[t]?new Error("Spring's `endValue` has been changed to `style`. Its format received a few (easy to update!) changes as well."):void 0},defaultStyle:t.object,style:t.object.isRequired,children:t.func.isRequired},getInitialState:function(){var e=this.props,t=e.defaultStyle,n=e.style,i=t||n;return{currentStyle:i,currentVelocity:r(g["default"],i)}},componentDidMount:function(){this.startAnimating()},componentWillReceiveProps:function(){this.startAnimating()},animationStep:function(e,t){var n=t.currentStyle,i=t.currentVelocity,r=this.props.style,o=v.updateCurrentStyle(e,n,i,r),a=v.updateCurrentVelocity(e,n,i,r);return u["default"](i,o)&&u["default"](a,o)&&this.stopAnimation(),{currentStyle:o,currentVelocity:a}},stopAnimation:null,hasUnmounted:!1,componentWillUnmount:function(){this.stopAnimation(),this.hasUnmounted=!0},startAnimating:function(){this.stopAnimation=b(this.state,this.animationStep,this.animationRender)},animationRender:function(e,t,n){this.hasUnmounted||this.setState({currentStyle:v.interpolateValue(e,t.currentStyle,n.currentStyle),currentVelocity:t.currentVelocity})},render:function(){var t=y["default"](this.state.currentStyle),n=this.props.children(t);return n&&e.Children.only(n)}}),i=e.createClass({displayName:"StaggeredMotion",propTypes:{defaultStyle:function(e,t){return e[t]?new Error('You forgot the "s" for `StaggeredMotion`\'s `defaultStyles`.'):void 0},style:function(e,t){return e[t]?new Error('You forgot the "s" for `StaggeredMotion`\'s `styles`.'):void 0},defaultStyles:t.arrayOf(t.object),styles:t.func.isRequired,children:t.func.isRequired},getInitialState:function(){var e=this.props,t=e.styles,n=e.defaultStyles,i=n?n:t();return{currentStyles:i,currentVelocities:i.map(function(e){return r(g["default"],e)})}},componentDidMount:function(){this.startAnimating()},componentWillReceiveProps:function(){this.startAnimating()},animationStep:function(e,t){var n=t.currentStyles,i=t.currentVelocities,r=this.props.styles(n.map(y["default"])),o=n.map(function(t,n){return v.updateCurrentStyle(e,t,i[n],r[n])}),a=n.map(function(t,n){return v.updateCurrentVelocity(e,t,i[n],r[n])});return i.every(function(e,t){return u["default"](e,n[t])})&&a.every(function(e,t){return u["default"](e,o[t])})&&this.stopAnimation(),{currentStyles:o,currentVelocities:a}},stopAnimation:null,hasUnmounted:!1,componentWillUnmount:function(){this.stopAnimation(),this.hasUnmounted=!0},startAnimating:function(){this.stopAnimation=b(this.state,this.animationStep,this.animationRender)},animationRender:function(e,t,n){if(!this.hasUnmounted){var i=t.currentStyles.map(function(t,i){return v.interpolateValue(e,t,n.currentStyles[i])});this.setState({currentStyles:i,currentVelocities:t.currentVelocities})}},render:function(){var t=this.state.currentStyles.map(y["default"]),n=this.props.children(t);return n&&e.Children.only(n)}}),a=e.createClass({displayName:"TransitionMotion",propTypes:{defaultValue:function(e,t){return e[t]?new Error("TransitionSpring's `defaultValue` has been changed to `defaultStyles`. Its format received a few (easy to update!) changes as well."):void 0},endValue:function(e,t){return e[t]?new Error("TransitionSpring's `endValue` has been changed to `styles`. Its format received a few (easy to update!) changes as well."):void 0},defaultStyle:function(e,t){return e[t]?new Error('You forgot the "s" for `TransitionMotion`\'s `defaultStyles`.'):void 0},style:function(e,t){return e[t]?new Error('You forgot the "s" for `TransitionMotion`\'s `styles`.'):void 0},defaultStyles:t.objectOf(t.any),styles:t.oneOfType([t.func,t.objectOf(t.any.isRequired)]).isRequired,willLeave:t.oneOfType([t.func]),willEnter:t.oneOfType([t.func]),children:t.func.isRequired},getDefaultProps:function(){return{willEnter:function(e,t){return t},willLeave:function(){return null}}},getInitialState:function(){var e=this.props,t=e.styles,n=e.defaultStyles,i=void 0;return i=null==n?"function"==typeof t?t():t:n,{currentStyles:i,currentVelocities:r(function(e){return r(g["default"],e)},i)}},componentDidMount:function(){this.startAnimating()},componentWillReceiveProps:function(){this.startAnimating()},animationStep:function(e,t){var n=t.currentStyles,i=t.currentVelocities,a=this.props,l=a.styles,c=a.willEnter,d=a.willLeave;"function"==typeof l&&(l=l(n));var p=l,f=!1;p=h["default"](n,l,function(e){var t=d(e,n[e],l,n,i);return null==t?null:u["default"](i[e],n[e])&&A["default"](n[e],t)?null:t}),Object.keys(p).filter(function(e){return!n.hasOwnProperty(e)}).forEach(function(e){var t,o;f=!0;var a=c(e,p[e],l,n,i);p[e]=a,n=s({},n,(t={},t[e]=a,t)),i=s({},i,(o={},o[e]=r(g["default"],a),o))});var m=r(function(t,r){return v.updateCurrentStyle(e,n[r],i[r],t)},p),_=r(function(t,r){return v.updateCurrentVelocity(e,n[r],i[r],t)},p);return!f&&o(function(e,t){return u["default"](e,n[t])},i)&&o(function(e,t){return u["default"](e,m[t])},_)&&this.stopAnimation(),{currentStyles:m,currentVelocities:_}},stopAnimation:null,hasUnmounted:!1,componentWillUnmount:function(){this.stopAnimation(),this.hasUnmounted=!0},startAnimating:function(){this.stopAnimation=b(this.state,this.animationStep,this.animationRender)},animationRender:function(e,t,n){if(!this.hasUnmounted){var i=r(function(t,i){return v.interpolateValue(e,t,n.currentStyles[i])},t.currentStyles);this.setState({currentStyles:i,currentVelocities:t.currentVelocities})}},render:function(){var t=r(y["default"],this.state.currentStyles),n=this.props.children(t);return n&&e.Children.only(n)}}),l=E["default"](e),c=l.Spring,d=l.TransitionSpring;return{Spring:c,TransitionSpring:d,Motion:n,StaggeredMotion:i,TransitionMotion:a}}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};t["default"]=a;var l=n(607),u=i(l),c=n(605),A=i(c),d=n(606),h=i(d),p=n(602),f=i(p),m=n(613),g=i(m),v=n(612),_=n(604),E=i(_),S=n(611),y=i(S),b=f["default"]();e.exports=t["default"]},function(e,t,n){"use strict";function i(e){var t=e.createClass({displayName:"Spring",componentWillMount:function(){},render:function(){return null}}),n=e.createClass({displayName:"TransitionSpring",componentWillMount:function(){},render:function(){return null}});return{Spring:t,TransitionSpring:n}}t.__esModule=!0,t["default"]=i;e.exports=t["default"]},function(e,t){"use strict";function n(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i=e[n],r=t[n];if(null!=r&&r.config){if(i.config&&i.val!==r.val)return!1;if(!i.config&&i!==r.val)return!1}}return!0}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(e,t,n,i,r,o,a){for(var s=!0;s;){var l=e,u=t,c=n,A=i,d=r,h=o,p=a;f=m=g=v=_=_=void 0,s=!1;var f=A===l.length,m=d===u.length,g=l[A],v=u[d];if(f&&m)return null;if(f)p[v]=c[v],e=l,t=u,n=c,i=A,r=d+1,o=h,a=p,s=!0;else if(m){var _=h(g);null!=_&&(p[g]=_),e=l,t=u,n=c,i=A+1,r=d,o=h,a=p,s=!0}else if(g!==v)if(c.hasOwnProperty(g))e=l,t=u,n=c,i=A+1,r=d,o=h,a=p,s=!0;else{var _=h(g);null!=_&&(p[g]=_),e=l,t=u,n=c,i=A+1,r=d,o=h,a=p,s=!0}else p[g]=c[g],e=l,t=u,n=c,i=A+1,r=d+1,o=h,a=p,s=!0}}function i(e,t,i){var r={};return n(Object.keys(e),Object.keys(t),t,0,0,i,r),r}t.__esModule=!0,t["default"]=i,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){for(var n in e)if(e.hasOwnProperty(n)&&null!=t[n]&&t[n].config&&0!==e[n])return!1;return!0}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=n(1),o=i(r),a=n(603),s=i(a),l=n(609),u=i(l),c=s["default"](o["default"]),A=c.Spring,d=c.TransitionSpring,h=c.Motion,p=c.StaggeredMotion,f=c.TransitionMotion;t.Spring=A,t.TransitionSpring=d,t.Motion=h,t.StaggeredMotion=p,t.TransitionMotion=f;var m=n(240),g=i(m);t.spring=g["default"];var v=n(239),_=i(v);t.presets=_["default"];var E={reorderKeys:u["default"]};t.utils=E},function(e,t){"use strict";function n(e,t){for(var n=t(Object.keys(e)),i={},r=0;r<n.length;r++){var o=n[r];i[o]=e[o]}return i}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(e,t,n,r,o,a){var s=-o*(t-r),l=-a*n,u=s+l,c=n+u*e,A=t+c*e;return Math.abs(c-n)<i&&Math.abs(A-t)<i?[r,0]:[A,c]}t.__esModule=!0,t["default"]=n;var i=1e-4;e.exports=t["default"]},function(e,t){"use strict";function n(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=null==e[n]||null==e[n].val?e[n]:e[n].val);return t}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){if(!n)return t;var i={};for(var r in t)if(t.hasOwnProperty(r))if(null!=t[r]&&t[r].config){var o=n[r].config?n[r].val:n[r];i[r]=c["default"](t[r].val*e+o*(1-e),t[r].config)}else i[r]=t[r];return i}function o(e,t,n,i){var r={};for(var o in i)if(i.hasOwnProperty(o))if(null!=i[o]&&i[o].config){var a=i[o].config,s=a[0],u=a[1],A=l["default"](e,null==t[o].val?t[o]:t[o].val,n[o],i[o].val,s,u)[0];r[o]=c["default"](A,i[o].config)}else r[o]=i[o];return r}function a(e,t,n,i){var r={};for(var o in i)if(i.hasOwnProperty(o))if(null!=i[o]&&i[o].config){var a=i[o].config,s=a[0],u=a[1],c=l["default"](e,null==t[o].val?t[o]:t[o].val,n[o],i[o].val,s,u)[1];r[o]=c}else r[o]=0;return r}t.__esModule=!0,t.interpolateValue=r,t.updateCurrentStyle=o,t.updateCurrentVelocity=a;var s=n(610),l=i(s),u=n(240),c=i(u)},function(e,t){"use strict";function n(){return 0}t.__esModule=!0,t["default"]=n,e.exports=t["default"]},function(e,t,n){(function(t){for(var i=n(241),r="undefined"==typeof window?t:window,o=["moz","webkit"],a="AnimationFrame",s=r["request"+a],l=r["cancel"+a]||r["cancelRequest"+a],u=0;!s&&u<o.length;u++)s=r[o[u]+"Request"+a],l=r[o[u]+"Cancel"+a]||r[o[u]+"CancelRequest"+a];if(!s||!l){var c=0,A=0,d=[],h=1e3/60;s=function(e){if(0===d.length){var t=i(),n=Math.max(0,h-(t-c));c=n+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(n){setTimeout(function(){throw n},0)}},Math.round(n))}return d.push({handle:++A,callback:e,cancelled:!1}),A},l=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return s.call(r,e)},e.exports.cancel=function(){l.apply(r,arguments)},e.exports.polyfill=function(){r.requestAnimationFrame=s,r.cancelAnimationFrame=l}}).call(t,function(){return this}())},function(e,t,n){"use strict";var i=n(23),r=n(275),o={focusDOMComponent:function(){r(i.getNodeFromInstance(this))}};e.exports=o},function(e,t,n){"use strict";function i(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function r(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function o(e){switch(e){case O.topCompositionStart:return N.compositionStart;case O.topCompositionEnd:return N.compositionEnd;case O.topCompositionUpdate:return N.compositionUpdate}}function a(e,t){return e===O.topKeyDown&&t.keyCode===S}function s(e,t){switch(e){case O.topKeyUp:return-1!==E.indexOf(t.keyCode);case O.topKeyDown:return t.keyCode!==S;case O.topKeyPress:case O.topMouseDown:case O.topBlur:return!0;default:return!1}}function l(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function u(e,t,n,i){var r,u;if(y?r=o(e):D?s(e,n)&&(r=N.compositionEnd):a(e,n)&&(r=N.compositionStart),!r)return null;T&&(D||r!==N.compositionStart?r===N.compositionEnd&&D&&(u=D.getData()):D=m.getPooled(i));var c=g.getPooled(r,t,n,i);if(u)c.data=u;else{var A=l(n);null!==A&&(c.data=A)}return p.accumulateTwoPhaseDispatches(c),c}function c(e,t){switch(e){case O.topCompositionEnd:return l(t);case O.topKeyPress:var n=t.which;return n!==I?null:(k=!0,w);case O.topTextInput:var i=t.data;return i===w&&k?null:i;default:return null}}function A(e,t){if(D){if(e===O.topCompositionEnd||s(e,t)){var n=D.getData();return m.release(D),D=null,n}return null}switch(e){case O.topPaste:return null;case O.topKeyPress:return t.which&&!r(t)?String.fromCharCode(t.which):null;case O.topCompositionEnd:return T?null:t.data;default:return null}}function d(e,t,n,i){var r;if(r=C?c(e,n):A(e,n),!r)return null;var o=v.getPooled(N.beforeInput,t,n,i);return o.data=r,p.accumulateTwoPhaseDispatches(o),o}var h=n(47),p=n(93),f=n(28),m=n(623),g=n(666),v=n(669),_=n(49),E=[9,13,27,32],S=229,y=f.canUseDOM&&"CompositionEvent"in window,b=null;f.canUseDOM&&"documentMode"in document&&(b=document.documentMode);var C=f.canUseDOM&&"TextEvent"in window&&!b&&!i(),T=f.canUseDOM&&(!y||b&&b>8&&11>=b),I=32,w=String.fromCharCode(I),O=h.topLevelTypes,N={beforeInput:{phasedRegistrationNames:{bubbled:_({onBeforeInput:null}),captured:_({onBeforeInputCapture:null})},dependencies:[O.topCompositionEnd,O.topKeyPress,O.topTextInput,O.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:_({onCompositionEnd:null}),captured:_({onCompositionEndCapture:null})},dependencies:[O.topBlur,O.topCompositionEnd,O.topKeyDown,O.topKeyPress,O.topKeyUp,O.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:_({onCompositionStart:null}),captured:_({onCompositionStartCapture:null})},dependencies:[O.topBlur,O.topCompositionStart,O.topKeyDown,O.topKeyPress,O.topKeyUp,O.topMouseDown]
},compositionUpdate:{phasedRegistrationNames:{bubbled:_({onCompositionUpdate:null}),captured:_({onCompositionUpdateCapture:null})},dependencies:[O.topBlur,O.topCompositionUpdate,O.topKeyDown,O.topKeyPress,O.topKeyUp,O.topMouseDown]}},k=!1,D=null,M={eventTypes:N,extractEvents:function(e,t,n,i){return[u(e,t,n,i),d(e,t,n,i)]}};e.exports=M},function(e,t,n){"use strict";var i=n(242),r=n(28),o=n(33),a=(n(685),n(675)),s=n(691),l=n(695),u=(n(14),l(function(e){return s(e)})),c=!1,A="cssFloat";if(r.canUseDOM){var d=document.createElement("div").style;try{d.font=""}catch(h){c=!0}void 0===document.documentElement.style.cssFloat&&(A="styleFloat")}var p={createMarkupForStyles:function(e,t){var n="";for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];null!=r&&(n+=u(i)+":",n+=a(i,r,t)+";")}return n||null},setValueForStyles:function(e,t,n){var r=e.style;for(var o in t)if(t.hasOwnProperty(o)){var s=a(o,t[o],n);if("float"!==o&&"cssFloat"!==o||(o=A),s)r[o]=s;else{var l=c&&i.shorthandPropertyExpansions[o];if(l)for(var u in l)r[u]="";else r[o]=""}}}};o.measureMethods(p,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"}),e.exports=p},function(e,t,n){"use strict";function i(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function r(e){var t=C.getPooled(k.change,M,e,T(e));E.accumulateTwoPhaseDispatches(t),b.batchedUpdates(o,t)}function o(e){_.enqueueEvents(e),_.processEventQueue(!1)}function a(e,t){D=e,M=t,D.attachEvent("onchange",r)}function s(){D&&(D.detachEvent("onchange",r),D=null,M=null)}function l(e,t){return e===N.topChange?t:void 0}function u(e,t,n){e===N.topFocus?(s(),a(t,n)):e===N.topBlur&&s()}function c(e,t){D=e,M=t,P=e.value,L=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(D,"value",B),D.attachEvent?D.attachEvent("onpropertychange",d):D.addEventListener("propertychange",d,!1)}function A(){D&&(delete D.value,D.detachEvent?D.detachEvent("onpropertychange",d):D.removeEventListener("propertychange",d,!1),D=null,M=null,P=null,L=null)}function d(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==P&&(P=t,r(e))}}function h(e,t){return e===N.topInput?t:void 0}function p(e,t,n){e===N.topFocus?(A(),c(t,n)):e===N.topBlur&&A()}function f(e,t){return e!==N.topSelectionChange&&e!==N.topKeyUp&&e!==N.topKeyDown||!D||D.value===P?void 0:(P=D.value,M)}function m(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function g(e,t){return e===N.topClick?t:void 0}var v=n(47),_=n(92),E=n(93),S=n(28),y=n(23),b=n(42),C=n(48),T=n(173),I=n(175),w=n(271),O=n(49),N=v.topLevelTypes,k={change:{phasedRegistrationNames:{bubbled:O({onChange:null}),captured:O({onChangeCapture:null})},dependencies:[N.topBlur,N.topChange,N.topClick,N.topFocus,N.topInput,N.topKeyDown,N.topKeyUp,N.topSelectionChange]}},D=null,M=null,P=null,L=null,x=!1;S.canUseDOM&&(x=I("change")&&(!("documentMode"in document)||document.documentMode>8));var R=!1;S.canUseDOM&&(R=I("input")&&(!("documentMode"in document)||document.documentMode>11));var B={get:function(){return L.get.call(this)},set:function(e){P=""+e,L.set.call(this,e)}},U={eventTypes:k,extractEvents:function(e,t,n,r){var o,a,s=t?y.getNodeFromInstance(t):window;if(i(s)?x?o=l:a=u:w(s)?R?o=h:(o=f,a=p):m(s)&&(o=g),o){var c=o(e,t);if(c){var A=C.getPooled(k.change,c,n,r);return A.type="change",E.accumulateTwoPhaseDispatches(A),A}}a&&a(e,s,t)}};e.exports=U},function(e,t){"use strict";var n={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};e.exports=n},function(e,t,n){"use strict";function i(e){return e.substring(1,e.indexOf(" "))}var r=n(72),o=n(28),a=n(688),s=n(43),l=n(277),u=n(12),c=/^(<[^ \/>]+)/,A="data-danger-index",d={dangerouslyRenderMarkup:function(e){o.canUseDOM?void 0:u(!1);for(var t,n={},r=0;r<e.length;r++)e[r]?void 0:u(!1),t=i(e[r]),t=l(t)?t:"*",n[t]=n[t]||[],n[t][r]=e[r];var d=[],h=0;for(t in n)if(n.hasOwnProperty(t)){var p,f=n[t];for(p in f)if(f.hasOwnProperty(p)){var m=f[p];f[p]=m.replace(c,"$1 "+A+'="'+p+'" ')}for(var g=a(f.join(""),s),v=0;v<g.length;++v){var _=g[v];_.hasAttribute&&_.hasAttribute(A)&&(p=+_.getAttribute(A),_.removeAttribute(A),d.hasOwnProperty(p)?u(!1):void 0,d[p]=_,h+=1)}}return h!==d.length?u(!1):void 0,d.length!==e.length?u(!1):void 0,d},dangerouslyReplaceNodeWithMarkup:function(e,t){if(o.canUseDOM?void 0:u(!1),t?void 0:u(!1),"HTML"===e.nodeName?u(!1):void 0,"string"==typeof t){var n=a(t,s)[0];e.parentNode.replaceChild(n,e)}else r.replaceChildWithTree(e,t)}};e.exports=d},function(e,t,n){"use strict";var i=n(49),r=[i({ResponderEventPlugin:null}),i({SimpleEventPlugin:null}),i({TapEventPlugin:null}),i({EnterLeaveEventPlugin:null}),i({ChangeEventPlugin:null}),i({SelectEventPlugin:null}),i({BeforeInputEventPlugin:null})];e.exports=r},function(e,t,n){"use strict";var i=n(47),r=n(93),o=n(23),a=n(113),s=n(49),l=i.topLevelTypes,u={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[l.topMouseOut,l.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[l.topMouseOut,l.topMouseOver]}},c={eventTypes:u,extractEvents:function(e,t,n,i){if(e===l.topMouseOver&&(n.relatedTarget||n.fromElement))return null;if(e!==l.topMouseOut&&e!==l.topMouseOver)return null;var s;if(i.window===i)s=i;else{var c=i.ownerDocument;s=c?c.defaultView||c.parentWindow:window}var A,d;if(e===l.topMouseOut){A=t;var h=n.relatedTarget||n.toElement;d=h?o.getClosestInstanceFromNode(h):null}else A=null,d=t;if(A===d)return null;var p=null==A?s:o.getNodeFromInstance(A),f=null==d?s:o.getNodeFromInstance(d),m=a.getPooled(u.mouseLeave,A,n,i);m.type="mouseleave",m.target=p,m.relatedTarget=f;var g=a.getPooled(u.mouseEnter,d,n,i);return g.type="mouseenter",g.target=f,g.relatedTarget=p,r.accumulateEnterLeaveDispatches(m,g,A,d),[m,g]}};e.exports=c},function(e,t,n){"use strict";function i(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var r=n(20),o=n(67),a=n(268);r(i.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,i=n.length,r=this.getText(),o=r.length;for(e=0;i>e&&n[e]===r[e];e++);var a=i-e;for(t=1;a>=t&&n[i-t]===r[o-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=r.slice(e,s),this._fallbackText}}),o.addPoolingTo(i),e.exports=i},function(e,t,n){"use strict";var i=n(66),r=i.injection.MUST_USE_PROPERTY,o=i.injection.HAS_BOOLEAN_VALUE,a=i.injection.HAS_SIDE_EFFECTS,s=i.injection.HAS_NUMERIC_VALUE,l=i.injection.HAS_POSITIVE_NUMERIC_VALUE,u=i.injection.HAS_OVERLOADED_BOOLEAN_VALUE,c={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+i.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:o,allowTransparency:0,alt:0,async:o,autoComplete:0,autoPlay:o,capture:o,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:r|o,cite:0,classID:0,className:0,cols:l,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:o,coords:0,crossOrigin:0,data:0,dateTime:0,"default":o,defer:o,dir:0,disabled:o,download:u,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:o,formTarget:0,frameBorder:0,headers:0,height:0,hidden:o,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:o,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:r|o,muted:r|o,name:0,nonce:0,noValidate:o,open:o,optimum:0,pattern:0,placeholder:0,poster:0,preload:0,profile:0,radioGroup:0,readOnly:o,rel:0,required:o,reversed:o,role:0,rows:l,rowSpan:s,sandbox:0,scope:0,scoped:o,scrolling:0,seamless:o,selected:r|o,shape:0,size:l,sizes:0,span:l,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:s,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:r|a,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,"typeof":0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:o,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};e.exports=c},function(e,t,n){"use strict";function i(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}}}var r=n(20),o=n(108),a=n(660),s=n(626),l=o.createClass({displayName:"ReactCSSTransitionGroup",propTypes:{transitionName:s.propTypes.name,transitionAppear:o.PropTypes.bool,transitionEnter:o.PropTypes.bool,transitionLeave:o.PropTypes.bool,transitionAppearTimeout:i("Appear"),transitionEnterTimeout:i("Enter"),transitionLeaveTimeout:i("Leave")},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(e){return o.createElement(s,{name:this.props.transitionName,appear:this.props.transitionAppear,enter:this.props.transitionEnter,leave:this.props.transitionLeave,appearTimeout:this.props.transitionAppearTimeout,enterTimeout:this.props.transitionEnterTimeout,leaveTimeout:this.props.transitionLeaveTimeout},e)},render:function(){return o.createElement(a,r({},this.props,{childFactory:this._wrapChild}))}});e.exports=l},function(e,t,n){"use strict";var i=n(108),r=n(248),o=n(683),a=n(659),s=n(272),l=17,u=i.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:i.PropTypes.oneOfType([i.PropTypes.string,i.PropTypes.shape({enter:i.PropTypes.string,leave:i.PropTypes.string,active:i.PropTypes.string}),i.PropTypes.shape({enter:i.PropTypes.string,enterActive:i.PropTypes.string,leave:i.PropTypes.string,leaveActive:i.PropTypes.string,appear:i.PropTypes.string,appearActive:i.PropTypes.string})]).isRequired,appear:i.PropTypes.bool,enter:i.PropTypes.bool,leave:i.PropTypes.bool,appearTimeout:i.PropTypes.number,enterTimeout:i.PropTypes.number,leaveTimeout:i.PropTypes.number},transition:function(e,t,n){var i=r.findDOMNode(this);if(!i)return void(t&&t());var s=this.props.name[e]||this.props.name+"-"+e,l=this.props.name[e+"Active"]||s+"-active",u=null,c=function(e){e&&e.target!==i||(clearTimeout(u),o.removeClass(i,s),o.removeClass(i,l),a.removeEndEventListener(i,c),t&&t())};o.addClass(i,s),this.queueClass(l),n?(u=setTimeout(c,n),this.transitionTimeouts.push(u)):a.addEndEventListener(i,c)},queueClass:function(e){this.classNameQueue.push(e),this.timeout||(this.timeout=setTimeout(this.flushClassNameQueue,l))},flushClassNameQueue:function(){this.isMounted()&&this.classNameQueue.forEach(o.addClass.bind(o,r.findDOMNode(this))),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)})},componentWillAppear:function(e){this.props.appear?this.transition("appear",e,this.props.appearTimeout):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e,this.props.enterTimeout):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e,this.props.leaveTimeout):e()},render:function(){return s(this.props.children)}});e.exports=u},function(e,t,n){"use strict";function i(e,t,n){var i=void 0===e[n];null!=t&&i&&(e[n]=o(t))}var r=n(73),o=n(270),a=n(177),s=n(178),l=(n(14),{instantiateChildren:function(e,t,n){if(null==e)return null;var r={};return s(e,i,r),r},updateChildren:function(e,t,n,i,s){if(t||e){var l,u;for(l in t)if(t.hasOwnProperty(l)){u=e&&e[l];var c=u&&u._currentElement,A=t[l];if(null!=u&&a(c,A))r.receiveComponent(u,A,i,s),t[l]=u;else{u&&(n[l]=r.getNativeNode(u),r.unmountComponent(u,!1));var d=o(A);t[l]=d}}for(l in e)!e.hasOwnProperty(l)||t&&t.hasOwnProperty(l)||(u=e[l],n[l]=r.getNativeNode(u),r.unmountComponent(u,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];r.unmountComponent(i,t)}}});e.exports=l},function(e,t,n){"use strict";var i=n(681),r={shouldComponentUpdate:function(e,t){return i(this,e,t)}};e.exports=r},function(e,t,n){"use strict";function i(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();if(n)return" Check the render method of `"+n+"`."}return""}function r(e){}function o(e,t){}var a=n(20),s=n(165),l=n(56),u=n(39),c=n(166),A=n(167),d=(n(110),n(258)),h=n(33),p=n(112),f=(n(111),n(73)),m=n(261),g=n(115),v=n(12),_=n(177);n(14);r.prototype.render=function(){var e=A.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return o(e,t),t};var E=1,S={construct:function(e){this._currentElement=e,this._rootNodeID=null,this._instance=null,this._nativeParent=null,this._nativeContainerInfo=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null},mountComponent:function(e,t,n,i){this._context=i,this._mountOrder=E++,this._nativeParent=t,this._nativeContainerInfo=n;var a,s,l=this._processProps(this._currentElement.props),c=this._processContext(i),d=this._currentElement.type;d.prototype&&d.prototype.isReactComponent?a=new d(l,c,m):(a=d(l,c,m),null!=a&&null!=a.render||(s=a,o(d,s),null===a||a===!1||u.isValidElement(a)?void 0:v(!1),a=new r(d)));a.props=l,a.context=c,a.refs=g,a.updater=m,this._instance=a,A.set(a,this);var h=a.state;void 0===h&&(a.state=h=null),"object"!=typeof h||Array.isArray(h)?v(!1):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var p;return p=a.unstable_handleError?this.performInitialMountWithErrorHandling(s,t,n,e,i):this.performInitialMount(s,t,n,e,i),a.componentDidMount&&e.getReactMountReady().enqueue(a.componentDidMount,a),p},performInitialMountWithErrorHandling:function(e,t,n,i,r){var o,a=i.checkpoint();try{o=this.performInitialMount(e,t,n,i,r)}catch(s){i.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=i.checkpoint(),this._renderedComponent.unmountComponent(!0),i.rollback(a),o=this.performInitialMount(e,t,n,i,r)}return o},performInitialMount:function(e,t,n,i,r){var o=this._instance;o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===e&&(e=this._renderValidatedComponent()),this._renderedNodeType=d.getType(e),this._renderedComponent=this._instantiateReactComponent(e);var a=f.mountComponent(this._renderedComponent,i,t,n,this._processChildContext(r));return a},getNativeNode:function(){return f.getNativeNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount)if(e){var n=this.getName()+".componentWillUnmount()";c.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(f.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,A.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return g;var i={};for(var r in n)i[r]=e[r];return i},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t=this._currentElement.type,n=this._instance,i=n.getChildContext&&n.getChildContext();if(i){"object"!=typeof t.childContextTypes?v(!1):void 0;for(var r in i)r in t.childContextTypes?void 0:v(!1);return a({},e,i)}return e},_processProps:function(e){return e},_checkPropTypes:function(e,t,n){var r=this.getName();for(var o in e)if(e.hasOwnProperty(o)){var a;try{"function"!=typeof e[o]?v(!1):void 0,a=e[o](t,o,r,n)}catch(s){a=s}if(a instanceof Error){i(this);n===p.prop}}},receiveComponent:function(e,t,n){var i=this._currentElement,r=this._context;this._pendingElement=null,this.updateComponent(t,i,e,r,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement&&f.receiveComponent(this,this._pendingElement,e,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(e,t,n,i,r){var o,a,s=this._instance,l=!1;this._context===r?o=s.context:(o=this._processContext(r),l=!0),t===n?a=n.props:(a=this._processProps(n.props),l=!0),l&&s.componentWillReceiveProps&&s.componentWillReceiveProps(a,o);var u=this._processPendingState(a,o),c=this._pendingForceUpdate||!s.shouldComponentUpdate||s.shouldComponentUpdate(a,u,o);c?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,a,u,o,e,r)):(this._currentElement=n,this._context=r,s.props=a,s.state=u,s.context=o)},_processPendingState:function(e,t){var n=this._instance,i=this._pendingStateQueue,r=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!i)return n.state;if(r&&1===i.length)return i[0];for(var o=a({},r?i[0]:n.state),s=r?1:0;s<i.length;s++){var l=i[s];a(o,"function"==typeof l?l.call(n,o,e,t):l)}return o},_performComponentUpdate:function(e,t,n,i,r,o){var a,s,l,u=this._instance,c=Boolean(u.componentDidUpdate);c&&(a=u.props,s=u.state,l=u.context),u.componentWillUpdate&&u.componentWillUpdate(t,n,i),this._currentElement=e,this._context=o,u.props=t,u.state=n,u.context=i,this._updateRenderedComponent(r,o),c&&r.getReactMountReady().enqueue(u.componentDidUpdate.bind(u,a,s,l),u)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,i=n._currentElement,r=this._renderValidatedComponent();if(_(i,r))f.receiveComponent(n,r,e,this._processChildContext(t));else{var o=f.getNativeNode(n);f.unmountComponent(n,!1),this._renderedNodeType=d.getType(r),this._renderedComponent=this._instantiateReactComponent(r);var a=f.mountComponent(this._renderedComponent,e,this._nativeParent,this._nativeContainerInfo,this._processChildContext(t));this._replaceNodeWithMarkup(o,a)}},_replaceNodeWithMarkup:function(e,t){s.replaceNodeWithMarkup(e,t)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance,t=e.render();return t},_renderValidatedComponent:function(){var e;l.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{l.current=null}return null===e||e===!1||u.isValidElement(e)?void 0:v(!1),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?v(!1):void 0;var i=t.getPublicInstance(),r=n.refs===g?n.refs={}:n.refs;r[e]=i},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return e instanceof r?null:e},_instantiateReactComponent:null};h.measureMethods(S,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var y={Mixin:S};e.exports=y},function(e,t){"use strict";var n={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},i={getNativeProps:function(e,t){if(!t.disabled)return t;var i={};for(var r in t)t.hasOwnProperty(r)&&!n[r]&&(i[r]=t[r]);return i}};e.exports=i},function(e,t,n){"use strict";function i(e,t){t&&(Q[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?L(!1):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?L(!1):void 0,"object"==typeof t.dangerouslySetInnerHTML&&K in t.dangerouslySetInnerHTML?void 0:L(!1)),null!=t.style&&"object"!=typeof t.style?L(!1):void 0)}function r(e,t,n,i){var r=e._nativeContainerInfo,a=r._ownerDocument;a&&(F(t,a),i.getReactMountReady().enqueue(o,{inst:e,registrationName:t,listener:n}))}function o(){var e=this;E.putListener(e.inst,e.registrationName,e.listener)}function a(){var e=this;O.postMountWrapper(e)}function s(){var e=this;e._rootNodeID?void 0:L(!1);var t=U(e);switch(t?void 0:L(!1),e._tag){case"iframe":case"object":e._wrapperState.listeners=[y.trapBubbledEvent(_.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in j)j.hasOwnProperty(n)&&e._wrapperState.listeners.push(y.trapBubbledEvent(_.topLevelTypes[n],j[n],t));break;case"img":e._wrapperState.listeners=[y.trapBubbledEvent(_.topLevelTypes.topError,"error",t),y.trapBubbledEvent(_.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[y.trapBubbledEvent(_.topLevelTypes.topReset,"reset",t),y.trapBubbledEvent(_.topLevelTypes.topSubmit,"submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[y.trapBubbledEvent(_.topLevelTypes.topInvalid,"invalid",t)]}}function l(){N.postUpdateWrapper(this)}function u(e){q.call(Z,e)||(Y.test(e)?void 0:L(!1),Z[e]=!0)}function c(e,t){return e.indexOf("-")>=0||null!=t.is}function A(e){var t=e.type;u(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._nativeNode=null,this._nativeParent=null,this._rootNodeID=null,this._domID=null,this._nativeContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var d=n(20),h=n(615),p=n(617),f=n(72),m=n(619),g=n(66),v=n(162),_=n(47),E=n(92),S=n(107),y=n(109),b=n(247),C=n(630),T=n(249),I=n(23),w=n(638),O=n(640),N=n(250),k=n(643),D=n(654),M=n(33),P=n(114),L=n(12),x=(n(175),n(49)),R=(n(180),n(179),n(14),T),B=E.deleteListener,U=I.getNodeFromInstance,F=y.listenTo,V=S.registrationNameModules,W={string:!0,number:!0},H=x({style:null}),K=x({__html:null}),G={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},j={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},z={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},J={listing:!0,pre:!0,textarea:!0},Q=d({menuitem:!0},z),Y=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Z={},q={}.hasOwnProperty,X=1;A.displayName="ReactDOMComponent",A.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=X++,this._domID=n._idCounter++,this._nativeParent=t,this._nativeContainerInfo=n;var o=this._currentElement.props;switch(this._tag){case"iframe":case"object":case"img":case"form":case"video":case"audio":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(s,this);break;case"button":o=C.getNativeProps(this,o,t);break;case"input":w.mountWrapper(this,o,t),o=w.getNativeProps(this,o),e.getReactMountReady().enqueue(s,this);break;case"option":O.mountWrapper(this,o,t),o=O.getNativeProps(this,o);break;case"select":N.mountWrapper(this,o,t),o=N.getNativeProps(this,o),e.getReactMountReady().enqueue(s,this);break;case"textarea":k.mountWrapper(this,o,t),o=k.getNativeProps(this,o),e.getReactMountReady().enqueue(s,this)}i(this,o);var l,u;null!=t?(l=t._namespaceURI,u=t._tag):n._tag&&(l=n._namespaceURI,u=n._tag),(null==l||l===m.svg&&"foreignobject"===u)&&(l=m.html),l===m.html&&("svg"===this._tag?l=m.svg:"math"===this._tag&&(l=m.mathml)),this._namespaceURI=l;var c;if(e.useCreateElement){var A,d=n._ownerDocument;if(l===m.html)if("script"===this._tag){var p=d.createElement("div"),g=this._currentElement.type;p.innerHTML="<"+g+"></"+g+">",A=p.removeChild(p.firstChild)}else A=d.createElement(this._currentElement.type);else A=d.createElementNS(l,this._currentElement.type);I.precacheNode(this,A),this._flags|=R.hasCachedChildNodes,this._nativeParent||v.setAttributeForRoot(A),this._updateDOMProperties(null,o,e);var _=f(A);this._createInitialChildren(e,o,r,_),c=_}else{var E=this._createOpenTagMarkupAndPutListeners(e,o),S=this._createContentMarkup(e,o,r);c=!S&&z[this._tag]?E+"/>":E+">"+S+"</"+this._currentElement.type+">"}switch(this._tag){case"button":case"input":case"select":case"textarea":o.autoFocus&&e.getReactMountReady().enqueue(h.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(a,this)}return c},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];if(null!=o)if(V.hasOwnProperty(i))o&&r(this,i,o,e);else{i===H&&(o&&(o=this._previousStyleCopy=d({},t.style)),o=p.createMarkupForStyles(o,this));var a=null;null!=this._tag&&c(this._tag,t)?G.hasOwnProperty(i)||(a=v.createMarkupForCustomAttribute(i,o)):a=v.createMarkupForProperty(i,o),a&&(n+=" "+a)}}return e.renderToStaticMarkup?n:(this._nativeParent||(n+=" "+v.createMarkupForRoot()),n+=" "+v.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var i="",r=t.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&(i=r.__html);else{var o=W[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)i=P(o);else if(null!=a){var s=this.mountChildren(a,e,n);i=s.join("")}}return J[this._tag]&&"\n"===i.charAt(0)?"\n"+i:i},_createInitialChildren:function(e,t,n,i){var r=t.dangerouslySetInnerHTML;if(null!=r)null!=r.__html&&f.queueHTML(i,r.__html);else{var o=W[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)f.queueText(i,o);else if(null!=a)for(var s=this.mountChildren(a,e,n),l=0;l<s.length;l++)f.queueChild(i,s[l])}},receiveComponent:function(e,t,n){var i=this._currentElement;this._currentElement=e,this.updateComponent(t,i,e,n)},updateComponent:function(e,t,n,r){var o=t.props,a=this._currentElement.props;switch(this._tag){case"button":o=C.getNativeProps(this,o),a=C.getNativeProps(this,a);break;case"input":w.updateWrapper(this),o=w.getNativeProps(this,o),a=w.getNativeProps(this,a);break;case"option":o=O.getNativeProps(this,o),a=O.getNativeProps(this,a);break;case"select":o=N.getNativeProps(this,o),a=N.getNativeProps(this,a);break;case"textarea":k.updateWrapper(this),o=k.getNativeProps(this,o),a=k.getNativeProps(this,a)}i(this,a),this._updateDOMProperties(o,a,e),this._updateDOMChildren(o,a,e,r),"select"===this._tag&&e.getReactMountReady().enqueue(l,this)},_updateDOMProperties:function(e,t,n){var i,o,a;for(i in e)if(!t.hasOwnProperty(i)&&e.hasOwnProperty(i)&&null!=e[i])if(i===H){var s=this._previousStyleCopy;for(o in s)s.hasOwnProperty(o)&&(a=a||{},a[o]="");this._previousStyleCopy=null}else V.hasOwnProperty(i)?e[i]&&B(this,i):(g.properties[i]||g.isCustomAttribute(i))&&v.deleteValueForProperty(U(this),i);for(i in t){var l=t[i],u=i===H?this._previousStyleCopy:null!=e?e[i]:void 0;if(t.hasOwnProperty(i)&&l!==u&&(null!=l||null!=u))if(i===H)if(l?l=this._previousStyleCopy=d({},l):this._previousStyleCopy=null,u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(a=a||{},a[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(a=a||{},a[o]=l[o])}else a=l;else if(V.hasOwnProperty(i))l?r(this,i,l,n):u&&B(this,i);else if(c(this._tag,t))G.hasOwnProperty(i)||v.setValueForAttribute(U(this),i,l);else if(g.properties[i]||g.isCustomAttribute(i)){var A=U(this);null!=l?v.setValueForProperty(A,i,l):v.deleteValueForProperty(A,i)}}a&&p.setValueForStyles(U(this),a,this)},_updateDOMChildren:function(e,t,n,i){var r=W[typeof e.children]?e.children:null,o=W[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null!=r?null:e.children,u=null!=o?null:t.children,c=null!=r||null!=a,A=null!=o||null!=s;null!=l&&null==u?this.updateChildren(null,n,i):c&&!A&&this.updateTextContent(""),null!=o?r!==o&&this.updateTextContent(""+o):null!=s?a!==s&&this.updateMarkup(""+s):null!=u&&this.updateChildren(u,n,i)},getNativeNode:function(){return U(this)},unmountComponent:function(e){switch(this._tag){case"iframe":case"object":case"img":case"form":case"video":case"audio":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"html":case"head":case"body":L(!1)}this.unmountChildren(e),I.uncacheNode(this),E.deleteAllListeners(this),b.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._domID=null,this._wrapperState=null},getPublicInstance:function(){return U(this)}},M.measureMethods(A.Mixin,"ReactDOMComponent",{mountComponent:"mountComponent",receiveComponent:"receiveComponent"}),d(A.prototype,A.Mixin,D.Mixin),e.exports=A},function(e,t,n){"use strict";function i(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===r?t:t.ownerDocument:null,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return n}var r=(n(179),9);e.exports=i},function(e,t,n){"use strict";function i(e,t,n,i,r,o){}var r=n(645),o=(n(14),[]),a={addDevtool:function(e){o.push(e)},removeDevtool:function(e){for(var t=0;t<o.length;t++)o[t]===e&&(o.splice(t,1),t--)},onCreateMarkupForProperty:function(e,t){i("onCreateMarkupForProperty",e,t)},onSetValueForProperty:function(e,t,n){i("onSetValueForProperty",e,t,n)},onDeleteValueForProperty:function(e,t){i("onDeleteValueForProperty",e,t)}};a.addDevtool(r),e.exports=a},function(e,t,n){"use strict";var i=n(20),r=n(72),o=n(23),a=function(e){this._currentElement=null,this._nativeNode=null,this._nativeParent=null,this._nativeContainerInfo=null,this._domID=null};i(a.prototype,{mountComponent:function(e,t,n,i){var a=n._idCounter++;this._domID=a,this._nativeParent=t,this._nativeContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var l=n._ownerDocument,u=l.createComment(s);return o.precacheNode(this,u),r(u)}return e.renderToStaticMarkup?"":"<!--"+s+"-->"},receiveComponent:function(){},getNativeNode:function(){return o.getNodeFromInstance(this)},unmountComponent:function(){o.uncacheNode(this)}}),e.exports=a},function(e,t,n){"use strict";function i(e){return r.createFactory(e)}var r=n(39),o=(n(251),n(694)),a=o({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",
samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},i);e.exports=a},function(e,t){"use strict";var n={useCreateElement:!0};e.exports=n},function(e,t,n){"use strict";var i=n(161),r=n(23),o=n(33),a={dangerouslyProcessChildrenUpdates:function(e,t){var n=r.getNodeFromInstance(e);i.processUpdates(n,t)}};o.measureMethods(a,"ReactDOMIDOperations",{dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),e.exports=a},function(e,t,n){"use strict";function i(){this._rootNodeID&&A.updateWrapper(this)}function r(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);u.asap(i,this);var r=t.name;if("radio"===t.type&&null!=r){for(var o=l.getNodeFromInstance(this),a=o;a.parentNode;)a=a.parentNode;for(var A=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),d=0;d<A.length;d++){var h=A[d];if(h!==o&&h.form===o.form){var p=l.getInstanceFromNode(h);p?void 0:c(!1),u.asap(i,p)}}}return n}var o=n(20),a=n(162),s=n(164),l=n(23),u=n(42),c=n(12),A=(n(14),{getNativeProps:function(e,t){var n=s.getValue(t),i=s.getChecked(t),r=o({type:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=i?i:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return r},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:t.defaultChecked||!1,initialValue:null!=n?n:null,listeners:null,onChange:r.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&a.setValueForProperty(l.getNodeFromInstance(e),"checked",n||!1);var i=s.getValue(t);null!=i&&a.setValueForProperty(l.getNodeFromInstance(e),"value",""+i)}});e.exports=A},function(e,t,n){"use strict";var i=n(633);e.exports={debugTool:i}},function(e,t,n){"use strict";var i=n(20),r=n(244),o=n(23),a=n(250),s=(n(14),{mountWrapper:function(e,t,n){var i=null;null!=n&&"select"===n._tag&&(i=a.getSelectValueContext(n));var r=null;if(null!=i)if(r=!1,Array.isArray(i)){for(var o=0;o<i.length;o++)if(""+i[o]==""+t.value){r=!0;break}}else r=""+i==""+t.value;e._wrapperState={selected:r}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){var n=o.getNodeFromInstance(e);n.setAttribute("value",t.value)}},getNativeProps:function(e,t){var n=i({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var o="";return r.forEach(t.children,function(e){null!=e&&("string"!=typeof e&&"number"!=typeof e||(o+=e))}),o&&(n.children=o),n}});e.exports=s},function(e,t,n){"use strict";function i(e,t,n,i){return e===n&&t===i}function r(e){var t=document.selection,n=t.createRange(),i=n.text.length,r=n.duplicate();r.moveToElementText(e),r.setEndPoint("EndToStart",n);var o=r.text.length,a=o+i;return{start:o,end:a}}function o(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,r=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(l){return null}var u=i(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),c=u?0:s.toString().length,A=s.cloneRange();A.selectNodeContents(e),A.setEnd(s.startContainer,s.startOffset);var d=i(A.startContainer,A.startOffset,A.endContainer,A.endOffset),h=d?0:A.toString().length,p=h+c,f=document.createRange();f.setStart(n,r),f.setEnd(o,a);var m=f.collapsed;return{start:m?p:h,end:m?h:p}}function a(e,t){var n,i,r=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,i=n):t.start>t.end?(n=t.end,i=t.start):(n=t.start,i=t.end),r.moveToElementText(e),r.moveStart("character",n),r.setEndPoint("EndToStart",r),r.moveEnd("character",i-n),r.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),i=e[c()].length,r=Math.min(t.start,i),o=void 0===t.end?r:Math.min(t.end,i);if(!n.extend&&r>o){var a=o;o=r,r=a}var s=u(e,r),l=u(e,o);if(s&&l){var A=document.createRange();A.setStart(s.node,s.offset),n.removeAllRanges(),r>o?(n.addRange(A),n.extend(l.node,l.offset)):(A.setEnd(l.node,l.offset),n.addRange(A))}}}var l=n(28),u=n(678),c=n(268),A=l.canUseDOM&&"selection"in document&&!("getSelection"in window),d={getOffsets:A?r:o,setOffsets:A?a:s};e.exports=d},function(e,t,n){"use strict";var i=n(20),r=n(161),o=n(72),a=n(23),s=n(33),l=n(114),u=n(12),c=(n(179),function(e){this._currentElement=e,this._stringText=""+e,this._nativeNode=null,this._nativeParent=null,this._domID=null,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});i(c.prototype,{mountComponent:function(e,t,n,i){var r=n._idCounter++,s=" react-text: "+r+" ",u=" /react-text ";if(this._domID=r,this._nativeParent=t,e.useCreateElement){var c=n._ownerDocument,A=c.createComment(s),d=c.createComment(u),h=o(c.createDocumentFragment());return o.queueChild(h,o(A)),this._stringText&&o.queueChild(h,o(c.createTextNode(this._stringText))),o.queueChild(h,o(d)),a.precacheNode(this,A),this._closingComment=d,h}var p=l(this._stringText);return e.renderToStaticMarkup?p:"<!--"+s+"-->"+p+"<!--"+u+"-->"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var i=this.getNativeNode();r.replaceDelimitedText(i[0],i[1],n)}}},getNativeNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=a.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n?u(!1):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._nativeNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,a.uncacheNode(this)}}),s.measureMethods(c.prototype,"ReactDOMTextComponent",{mountComponent:"mountComponent",receiveComponent:"receiveComponent"}),e.exports=c},function(e,t,n){"use strict";function i(){this._rootNodeID&&A.updateWrapper(this)}function r(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return u.asap(i,this),n}var o=n(20),a=n(162),s=n(164),l=n(23),u=n(42),c=n(12),A=(n(14),{getNativeProps:function(e,t){null!=t.dangerouslySetInnerHTML?c(!1):void 0;var n=o({},t,{defaultValue:void 0,value:void 0,children:e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return n},mountWrapper:function(e,t){var n=t.defaultValue,i=t.children;null!=i&&(null!=n?c(!1):void 0,Array.isArray(i)&&(i.length<=1?void 0:c(!1),i=i[0]),n=""+i),null==n&&(n="");var o=s.getValue(t);e._wrapperState={initialValue:""+(null!=o?o:n),listeners:null,onChange:r.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=s.getValue(t);null!=n&&a.setValueForProperty(l.getNodeFromInstance(e),"value",""+n)}});e.exports=A},function(e,t,n){"use strict";function i(e,t){"_nativeNode"in e?void 0:l(!1),"_nativeNode"in t?void 0:l(!1);for(var n=0,i=e;i;i=i._nativeParent)n++;for(var r=0,o=t;o;o=o._nativeParent)r++;for(;n-r>0;)e=e._nativeParent,n--;for(;r-n>0;)t=t._nativeParent,r--;for(var a=n;a--;){if(e===t)return e;e=e._nativeParent,t=t._nativeParent}return null}function r(e,t){"_nativeNode"in e?void 0:l(!1),"_nativeNode"in t?void 0:l(!1);for(;t;){if(t===e)return!0;t=t._nativeParent}return!1}function o(e){return"_nativeNode"in e?void 0:l(!1),e._nativeParent}function a(e,t,n){for(var i=[];e;)i.push(e),e=e._nativeParent;var r;for(r=i.length;r-- >0;)t(i[r],!1,n);for(r=0;r<i.length;r++)t(i[r],!0,n)}function s(e,t,n,r,o){for(var a=e&&t?i(e,t):null,s=[];e&&e!==a;)s.push(e),e=e._nativeParent;for(var l=[];t&&t!==a;)l.push(t),t=t._nativeParent;var u;for(u=0;u<s.length;u++)n(s[u],!0,r);for(u=l.length;u-- >0;)n(l[u],!1,o)}var l=n(12);e.exports={isAncestor:r,getLowestCommonAncestor:i,getParentInstance:o,traverseTwoPhase:a,traverseEnterLeave:s}},function(e,t,n){"use strict";var i,r=(n(66),n(107),n(14),{onCreateMarkupForProperty:function(e,t){i(e)},onSetValueForProperty:function(e,t,n){i(t)},onDeleteValueForProperty:function(e,t){i(t)}});e.exports=r},function(e,t,n){"use strict";function i(e,t,n,i,r,o){}var r=n(652),o=(n(14),[]),a={addDevtool:function(e){o.push(e)},removeDevtool:function(e){for(var t=0;t<o.length;t++)o[t]===e&&(o.splice(t,1),t--)},onBeginProcessingChildContext:function(){i("onBeginProcessingChildContext")},onEndProcessingChildContext:function(){i("onEndProcessingChildContext")},onSetState:function(){i("onSetState")},onMountRootComponent:function(e){i("onMountRootComponent",e)},onMountComponent:function(e){i("onMountComponent",e)},onUpdateComponent:function(e){i("onUpdateComponent",e)},onUnmountComponent:function(e){i("onUnmountComponent",e)}};a.addDevtool(r),e.exports=a},function(e,t,n){"use strict";function i(){this.reinitializeTransaction()}var r=n(20),o=n(42),a=n(168),s=n(43),l={initialize:s,close:function(){d.isBatchingUpdates=!1}},u={initialize:s,close:o.flushBatchedUpdates.bind(o)},c=[u,l];r(i.prototype,a.Mixin,{getTransactionWrappers:function(){return c}});var A=new i,d={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,i,r,o){var a=d.isBatchingUpdates;d.isBatchingUpdates=!0,a?e(t,n,i,r,o):A.perform(e,null,t,n,i,r,o)}};e.exports=d},function(e,t,n){"use strict";function i(){if(!y){y=!0,g.EventEmitter.injectReactEventListener(m),g.EventPluginHub.injectEventPluginOrder(a),g.EventPluginUtils.injectComponentTree(A),g.EventPluginUtils.injectTreeTraversal(h),g.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:S,EnterLeaveEventPlugin:s,ChangeEventPlugin:o,SelectEventPlugin:E,BeforeInputEventPlugin:r}),g.NativeComponent.injectGenericComponentClass(c),g.NativeComponent.injectTextComponentClass(p),g.DOMProperty.injectDOMPropertyConfig(l),g.DOMProperty.injectDOMPropertyConfig(_),g.EmptyComponent.injectEmptyComponentFactory(function(e){return new d(e)}),g.Updates.injectReconcileTransaction(v),g.Updates.injectBatchingStrategy(f),g.Component.injectEnvironment(u)}}var r=n(616),o=n(618),a=n(621),s=n(622),l=(n(28),n(624)),u=n(247),c=n(631),A=n(23),d=n(634),h=n(644),p=n(642),f=n(647),m=n(650),g=n(651),v=n(656),_=n(661),E=n(662),S=n(663),y=!1;e.exports={inject:i}},function(e,t,n){"use strict";function i(e){r.enqueueEvents(e),r.processEventQueue(!1)}var r=n(92),o={handleTopLevel:function(e,t,n,o){var a=r.extractEvents(e,t,n,o);i(a)}};e.exports=o},function(e,t,n){"use strict";function i(e){for(;e._nativeParent;)e=e._nativeParent;var t=A.getNodeFromInstance(e),n=t.parentNode;return A.getClosestInstanceFromNode(n)}function r(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function o(e){var t=h(e.nativeEvent),n=A.getClosestInstanceFromNode(t),r=n;do e.ancestors.push(r),r=r&&i(r);while(r);for(var o=0;o<e.ancestors.length;o++)n=e.ancestors[o],f._handleTopLevel(e.topLevelType,n,e.nativeEvent,h(e.nativeEvent))}function a(e){var t=p(window);e(t)}var s=n(20),l=n(274),u=n(28),c=n(67),A=n(23),d=n(42),h=n(173),p=n(689);s(r.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(r,c.twoArgumentPooler);var f={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:u.canUseDOM?window:null,setHandleTopLevel:function(e){f._handleTopLevel=e},setEnabled:function(e){f._enabled=!!e},isEnabled:function(){return f._enabled},trapBubbledEvent:function(e,t,n){var i=n;return i?l.listen(i,t,f.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){var i=n;return i?l.capture(i,t,f.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);l.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(f._enabled){var n=r.getPooled(e,t);try{d.batchedUpdates(o,n)}finally{r.release(n)}}}};e.exports=f},function(e,t,n){"use strict";var i=n(66),r=n(92),o=n(163),a=n(165),s=n(245),l=n(252),u=n(109),c=n(257),A=n(33),d=n(42),h={Component:a.injection,Class:s.injection,DOMProperty:i.injection,EmptyComponent:l.injection,EventPluginHub:r.injection,EventPluginUtils:o.injection,EventEmitter:u.injection,NativeComponent:c.injection,Perf:A.injection,Updates:d.injection};e.exports=h},function(e,t,n){"use strict";var i,r,o=(n(14),{onBeginProcessingChildContext:function(){i=!0},onEndProcessingChildContext:function(){i=!1},onSetState:function(){r()}});e.exports=o},function(e,t,n){"use strict";var i=n(674),r=/\/?>/,o=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=i(e);return o.test(e)?e:e.replace(r," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var r=i(e);return r===n}};e.exports=a},function(e,t,n){"use strict";function i(e,t,n){return{type:A.INSERT_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function r(e,t,n){return{type:A.MOVE_EXISTING,content:null,fromIndex:e._mountIndex,fromNode:d.getNativeNode(e),toIndex:n,afterNode:t}}function o(e,t){return{type:A.REMOVE_NODE,content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function a(e){return{type:A.SET_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:A.TEXT_CONTENT,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function l(e,t){return t&&(e=e||[],e.push(t)),e}function u(e,t){c.processChildrenUpdates(e,t)}var c=n(165),A=n(256),d=(n(56),n(73)),h=n(627),p=n(265),f=n(12),m={Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return h.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,i,r){var o;return o=p(t),h.updateChildren(e,o,n,i,r),o},mountChildren:function(e,t,n){var i=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=i;var r=[],o=0;for(var a in i)if(i.hasOwnProperty(a)){var s=i[a],l=d.mountComponent(s,t,this,this._nativeContainerInfo,n);s._mountIndex=o++,r.push(l)}return r},updateTextContent:function(e){var t=this._renderedChildren;h.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&f(!1);var i=[s(e)];u(this,i)},updateMarkup:function(e){var t=this._renderedChildren;h.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&f(!1);var i=[a(e)];u(this,i)},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var i=this._renderedChildren,r={},o=this._reconcilerUpdateChildren(i,e,r,t,n);if(o||i){var a,s=null,c=0,A=0,h=null;for(a in o)if(o.hasOwnProperty(a)){var p=i&&i[a],f=o[a];p===f?(s=l(s,this.moveChild(p,h,A,c)),c=Math.max(p._mountIndex,c),p._mountIndex=A):(p&&(c=Math.max(p._mountIndex,c)),s=l(s,this._mountChildAtIndex(f,h,A,t,n))),A++,h=d.getNativeNode(f)}for(a in r)r.hasOwnProperty(a)&&(s=l(s,this._unmountChild(i[a],r[a])));s&&u(this,s),this._renderedChildren=o}},unmountChildren:function(e){var t=this._renderedChildren;h.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,i){return e._mountIndex<i?r(e,t,n):void 0},createChild:function(e,t,n){return i(n,t,e._mountIndex)},removeChild:function(e,t){return o(e,t)},_mountChildAtIndex:function(e,t,n,i,r){var o=d.mountComponent(e,i,this,this._nativeContainerInfo,r);return e._mountIndex=n,this.createChild(e,t,o)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}};e.exports=m},function(e,t,n){"use strict";var i=n(12),r={isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,n){r.isValidOwner(n)?void 0:i(!1),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r.isValidOwner(n)?void 0:i(!1);var o=n.getPublicInstance();o&&o.refs[t]===e.getPublicInstance()&&n.detachRef(t)}};e.exports=r},function(e,t,n){"use strict";function i(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=e}var r=n(20),o=n(243),a=n(67),s=n(109),l=n(254),u=n(168),c={initialize:l.getSelectionInformation,close:l.restoreSelection},A={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h=[c,A,d],p={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};r(i.prototype,u.Mixin,p),a.addPoolingTo(i),e.exports=i},function(e,t,n){"use strict";function i(e,t,n){"function"==typeof e?e(t.getPublicInstance()):o.addComponentAsRefTo(t,e,n)}function r(e,t,n){"function"==typeof e?e(null):o.removeComponentAsRefFrom(t,e,n)}var o=n(655),a={};a.attachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&i(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null===e||e===!1,i=null===t||t===!1;return n||i||t._owner!==e._owner||t.ref!==e.ref},a.detachRefs=function(e,t){if(null!==t&&t!==!1){var n=t.ref;null!=n&&r(n,e,t._owner)}},e.exports=a},function(e,t,n){"use strict";var i=n(265),r={getChildMapping:function(e){return e?i(e):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var i={},r=[];for(var o in e)t.hasOwnProperty(o)?r.length&&(i[o]=r,r=[]):r.push(o);var a,s={};for(var l in t){if(i.hasOwnProperty(l))for(a=0;a<i[l].length;a++){var u=i[l][a];s[i[l][a]]=n(u)}s[l]=n(l)}for(a=0;a<r.length;a++)s[r[a]]=n(r[a]);return s}};e.exports=r},function(e,t,n){"use strict";function i(){var e=s("animationend"),t=s("transitionend");e&&l.push(e),t&&l.push(t)}function r(e,t,n){e.addEventListener(t,n,!1)}function o(e,t,n){e.removeEventListener(t,n,!1)}var a=n(28),s=n(269),l=[];a.canUseDOM&&i();var u={addEndEventListener:function(e,t){return 0===l.length?void window.setTimeout(t,0):void l.forEach(function(n){r(e,n,t)})},removeEndEventListener:function(e,t){0!==l.length&&l.forEach(function(n){o(e,n,t)})}};e.exports=u},function(e,t,n){"use strict";var i=n(20),r=n(108),o=n(658),a=n(43),s=r.createClass({displayName:"ReactTransitionGroup",propTypes:{component:r.PropTypes.any,childFactory:r.PropTypes.func},getDefaultProps:function(){return{component:"span",childFactory:a.thatReturnsArgument}},getInitialState:function(){return{children:o.getChildMapping(this.props.children)}},componentWillMount:function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},componentDidMount:function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},componentWillReceiveProps:function(e){var t=o.getChildMapping(e.children),n=this.state.children;this.setState({children:o.mergeChildMappings(n,t)});var i;for(i in t){var r=n&&n.hasOwnProperty(i);!t[i]||r||this.currentlyTransitioningKeys[i]||this.keysToEnter.push(i)}for(i in n){var a=t&&t.hasOwnProperty(i);!n[i]||a||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},componentDidUpdate:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},performAppear:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)},_handleDoneAppearing:function(e){var t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e];var n=o.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performEnter:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)},_handleDoneEntering:function(e){var t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e];var n=o.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)||this.performLeave(e)},performLeave:function(e){this.currentlyTransitioningKeys[e]=!0;var t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)},_handleDoneLeaving:function(e){var t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];var n=o.getChildMapping(this.props.children);n&&n.hasOwnProperty(e)?this.performEnter(e):this.setState(function(t){var n=i({},t.children);return delete n[e],{children:n}})},render:function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(r.cloneElement(this.props.childFactory(n),{ref:t,key:t}))}return r.createElement(this.props.component,this.props,e)}});e.exports=s},function(e,t){"use strict";var n={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},i={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering","in":0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},r={Properties:{},DOMAttributeNamespaces:{xlinkActuate:n.xlink,xlinkArcrole:n.xlink,xlinkHref:n.xlink,xlinkRole:n.xlink,xlinkShow:n.xlink,xlinkTitle:n.xlink,xlinkType:n.xlink,xmlBase:n.xml,xmlLang:n.xml,xmlSpace:n.xml},DOMAttributeNames:{}};Object.keys(i).map(function(e){r.Properties[e]=0,i[e]&&(r.DOMAttributeNames[e]=i[e])}),e.exports=r},function(e,t,n){"use strict";function i(e){if("selectionStart"in e&&u.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function r(e,t){if(S||null==v||v!==A())return null;var n=i(v);if(!E||!p(E,n)){E=n;var r=c.getPooled(g.select,_,e,t);return r.type="select",r.target=v,a.accumulateTwoPhaseDispatches(r),r}return null}var o=n(47),a=n(93),s=n(28),l=n(23),u=n(254),c=n(48),A=n(276),d=n(271),h=n(49),p=n(180),f=o.topLevelTypes,m=s.canUseDOM&&"documentMode"in document&&document.documentMode<=11,g={select:{phasedRegistrationNames:{bubbled:h({onSelect:null}),captured:h({onSelectCapture:null})},dependencies:[f.topBlur,f.topContextMenu,f.topFocus,f.topKeyDown,f.topMouseDown,f.topMouseUp,f.topSelectionChange]}},v=null,_=null,E=null,S=!1,y=!1,b=h({onSelect:null}),C={eventTypes:g,extractEvents:function(e,t,n,i){if(!y)return null;var o=t?l.getNodeFromInstance(t):window;switch(e){case f.topFocus:(d(o)||"true"===o.contentEditable)&&(v=o,_=t,E=null);break;case f.topBlur:v=null,_=null,E=null;break;case f.topMouseDown:S=!0;break;case f.topContextMenu:case f.topMouseUp:return S=!1,r(n,i);case f.topSelectionChange:if(m)break;case f.topKeyDown:case f.topKeyUp:return r(n,i)}return null},didPutListener:function(e,t,n){t===b&&(y=!0)}};e.exports=C},function(e,t,n){"use strict";var i=n(47),r=n(274),o=n(93),a=n(23),s=n(664),l=n(665),u=n(48),c=n(668),A=n(670),d=n(113),h=n(667),p=n(671),f=n(672),m=n(94),g=n(673),v=n(43),_=n(171),E=n(12),S=n(49),y=i.topLevelTypes,b={abort:{phasedRegistrationNames:{bubbled:S({onAbort:!0}),captured:S({onAbortCapture:!0})}},animationEnd:{phasedRegistrationNames:{bubbled:S({onAnimationEnd:!0}),captured:S({onAnimationEndCapture:!0})}},animationIteration:{phasedRegistrationNames:{bubbled:S({onAnimationIteration:!0}),captured:S({onAnimationIterationCapture:!0})}},animationStart:{phasedRegistrationNames:{bubbled:S({onAnimationStart:!0}),captured:S({onAnimationStartCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:S({onBlur:!0}),captured:S({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:S({onCanPlay:!0}),captured:S({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:S({onCanPlayThrough:!0}),captured:S({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:S({onClick:!0}),captured:S({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:S({onContextMenu:!0}),captured:S({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:S({onCopy:!0}),captured:S({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:S({onCut:!0}),captured:S({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:S({onDoubleClick:!0}),captured:S({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:S({onDrag:!0}),captured:S({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:S({onDragEnd:!0}),captured:S({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:S({onDragEnter:!0}),captured:S({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:S({onDragExit:!0}),captured:S({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:S({onDragLeave:!0}),captured:S({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:S({onDragOver:!0}),captured:S({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:S({onDragStart:!0}),captured:S({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:S({onDrop:!0}),captured:S({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:S({onDurationChange:!0}),captured:S({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:S({onEmptied:!0}),captured:S({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:S({onEncrypted:!0}),captured:S({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:S({onEnded:!0}),captured:S({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:S({onError:!0}),captured:S({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:S({onFocus:!0}),captured:S({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:S({onInput:!0}),captured:S({onInputCapture:!0})}},invalid:{phasedRegistrationNames:{bubbled:S({onInvalid:!0}),captured:S({onInvalidCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:S({onKeyDown:!0}),captured:S({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:S({onKeyPress:!0}),captured:S({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:S({onKeyUp:!0}),captured:S({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:S({onLoad:!0}),captured:S({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:S({onLoadedData:!0}),captured:S({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:S({onLoadedMetadata:!0}),captured:S({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:S({onLoadStart:!0}),captured:S({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:S({onMouseDown:!0}),captured:S({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:S({onMouseMove:!0}),captured:S({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:S({onMouseOut:!0
}),captured:S({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:S({onMouseOver:!0}),captured:S({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:S({onMouseUp:!0}),captured:S({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:S({onPaste:!0}),captured:S({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:S({onPause:!0}),captured:S({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:S({onPlay:!0}),captured:S({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:S({onPlaying:!0}),captured:S({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:S({onProgress:!0}),captured:S({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:S({onRateChange:!0}),captured:S({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:S({onReset:!0}),captured:S({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:S({onScroll:!0}),captured:S({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:S({onSeeked:!0}),captured:S({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:S({onSeeking:!0}),captured:S({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:S({onStalled:!0}),captured:S({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:S({onSubmit:!0}),captured:S({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:S({onSuspend:!0}),captured:S({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:S({onTimeUpdate:!0}),captured:S({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:S({onTouchCancel:!0}),captured:S({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:S({onTouchEnd:!0}),captured:S({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:S({onTouchMove:!0}),captured:S({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:S({onTouchStart:!0}),captured:S({onTouchStartCapture:!0})}},transitionEnd:{phasedRegistrationNames:{bubbled:S({onTransitionEnd:!0}),captured:S({onTransitionEndCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:S({onVolumeChange:!0}),captured:S({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:S({onWaiting:!0}),captured:S({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:S({onWheel:!0}),captured:S({onWheelCapture:!0})}}},C={topAbort:b.abort,topAnimationEnd:b.animationEnd,topAnimationIteration:b.animationIteration,topAnimationStart:b.animationStart,topBlur:b.blur,topCanPlay:b.canPlay,topCanPlayThrough:b.canPlayThrough,topClick:b.click,topContextMenu:b.contextMenu,topCopy:b.copy,topCut:b.cut,topDoubleClick:b.doubleClick,topDrag:b.drag,topDragEnd:b.dragEnd,topDragEnter:b.dragEnter,topDragExit:b.dragExit,topDragLeave:b.dragLeave,topDragOver:b.dragOver,topDragStart:b.dragStart,topDrop:b.drop,topDurationChange:b.durationChange,topEmptied:b.emptied,topEncrypted:b.encrypted,topEnded:b.ended,topError:b.error,topFocus:b.focus,topInput:b.input,topInvalid:b.invalid,topKeyDown:b.keyDown,topKeyPress:b.keyPress,topKeyUp:b.keyUp,topLoad:b.load,topLoadedData:b.loadedData,topLoadedMetadata:b.loadedMetadata,topLoadStart:b.loadStart,topMouseDown:b.mouseDown,topMouseMove:b.mouseMove,topMouseOut:b.mouseOut,topMouseOver:b.mouseOver,topMouseUp:b.mouseUp,topPaste:b.paste,topPause:b.pause,topPlay:b.play,topPlaying:b.playing,topProgress:b.progress,topRateChange:b.rateChange,topReset:b.reset,topScroll:b.scroll,topSeeked:b.seeked,topSeeking:b.seeking,topStalled:b.stalled,topSubmit:b.submit,topSuspend:b.suspend,topTimeUpdate:b.timeUpdate,topTouchCancel:b.touchCancel,topTouchEnd:b.touchEnd,topTouchMove:b.touchMove,topTouchStart:b.touchStart,topTransitionEnd:b.transitionEnd,topVolumeChange:b.volumeChange,topWaiting:b.waiting,topWheel:b.wheel};for(var T in C)C[T].dependencies=[T];var I=S({onClick:null}),w={},O={eventTypes:b,extractEvents:function(e,t,n,i){var r=C[e];if(!r)return null;var a;switch(e){case y.topAbort:case y.topCanPlay:case y.topCanPlayThrough:case y.topDurationChange:case y.topEmptied:case y.topEncrypted:case y.topEnded:case y.topError:case y.topInput:case y.topInvalid:case y.topLoad:case y.topLoadedData:case y.topLoadedMetadata:case y.topLoadStart:case y.topPause:case y.topPlay:case y.topPlaying:case y.topProgress:case y.topRateChange:case y.topReset:case y.topSeeked:case y.topSeeking:case y.topStalled:case y.topSubmit:case y.topSuspend:case y.topTimeUpdate:case y.topVolumeChange:case y.topWaiting:a=u;break;case y.topKeyPress:if(0===_(n))return null;case y.topKeyDown:case y.topKeyUp:a=A;break;case y.topBlur:case y.topFocus:a=c;break;case y.topClick:if(2===n.button)return null;case y.topContextMenu:case y.topDoubleClick:case y.topMouseDown:case y.topMouseMove:case y.topMouseOut:case y.topMouseOver:case y.topMouseUp:a=d;break;case y.topDrag:case y.topDragEnd:case y.topDragEnter:case y.topDragExit:case y.topDragLeave:case y.topDragOver:case y.topDragStart:case y.topDrop:a=h;break;case y.topTouchCancel:case y.topTouchEnd:case y.topTouchMove:case y.topTouchStart:a=p;break;case y.topAnimationEnd:case y.topAnimationIteration:case y.topAnimationStart:a=s;break;case y.topTransitionEnd:a=f;break;case y.topScroll:a=m;break;case y.topWheel:a=g;break;case y.topCopy:case y.topCut:case y.topPaste:a=l}a?void 0:E(!1);var v=a.getPooled(r,t,n,i);return o.accumulateTwoPhaseDispatches(v),v},didPutListener:function(e,t,n){if(t===I){var i=e._rootNodeID,o=a.getNodeFromInstance(e);w[i]||(w[i]=r.listen(o,"click",v))}},willDeleteListener:function(e,t){if(t===I){var n=e._rootNodeID;w[n].remove(),delete w[n]}}};e.exports=O},function(e,t,n){"use strict";function i(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(48),o={animationName:null,elapsedTime:null,pseudoElement:null};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";function i(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(48),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";function i(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(48),o={data:null};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";function i(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(113),o={dataTransfer:null};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";function i(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(94),o={relatedTarget:null};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";function i(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(48),o={data:null};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";function i(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(94),o=n(171),a=n(677),s=n(172),l={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};r.augmentClass(i,l),e.exports=i},function(e,t,n){"use strict";function i(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(94),o=n(172),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};r.augmentClass(i,a),e.exports=i},function(e,t,n){"use strict";function i(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(48),o={propertyName:null,elapsedTime:null,pseudoElement:null};r.augmentClass(i,o),e.exports=i},function(e,t,n){"use strict";function i(e,t,n,i){return r.call(this,e,t,n,i)}var r=n(113),o={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};r.augmentClass(i,o),e.exports=i},function(e,t){"use strict";function n(e){for(var t=1,n=0,r=0,o=e.length,a=-4&o;a>r;){for(var s=Math.min(r+4096,a);s>r;r+=4)n+=(t+=e.charCodeAt(r))+(t+=e.charCodeAt(r+1))+(t+=e.charCodeAt(r+2))+(t+=e.charCodeAt(r+3));t%=i,n%=i}for(;o>r;r++)n+=t+=e.charCodeAt(r);return t%=i,n%=i,t|n<<16}var i=65521;e.exports=n},function(e,t,n){"use strict";function i(e,t,n){var i=null==t||"boolean"==typeof t||""===t;if(i)return"";var r=isNaN(t);if(r||0===t||o.hasOwnProperty(e)&&o[e])return""+t;if("string"==typeof t){t=t.trim()}return t+"px"}var r=n(242),o=(n(14),r.isUnitlessNumber);e.exports=i},function(e,t,n){"use strict";function i(e){if(null==e)return null;if(1===e.nodeType)return e;var t=o.get(e);return t?(t=a(t),t?r.getNodeFromInstance(t):null):void s(("function"==typeof e.render,!1))}var r=(n(56),n(23)),o=n(167),a=n(267),s=n(12);n(14);e.exports=i},function(e,t,n){"use strict";function i(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=r(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var r=n(171),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=i},function(e,t){"use strict";function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function i(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function r(e,t){for(var r=n(e),o=0,a=0;r;){if(3===r.nodeType){if(a=o+r.textContent.length,t>=o&&a>=t)return{node:r,offset:t-o};o=a}r=n(i(r))}}e.exports=r},function(e,t,n){"use strict";function i(e){return'"'+r(e)+'"'}var r=n(114);e.exports=i},function(e,t,n){"use strict";var i=n(255);e.exports=i.renderSubtreeIntoContainer},function(e,t,n){"use strict";function i(e,t,n){return!r(e.props,t)||!r(e.state,n)}var r=n(180);e.exports=i},function(e,t,n){"use strict";function i(e){return Array.isArray(e)?e.concat():e&&"object"==typeof e?a(new e.constructor,e):e}function r(e,t,n){Array.isArray(e)?void 0:l(!1);var i=t[n];Array.isArray(i)?void 0:l(!1)}function o(e,t){if("object"!=typeof t?l(!1):void 0,u.call(t,h))return 1!==Object.keys(t).length?l(!1):void 0,t[h];var n=i(e);if(u.call(t,p)){var s=t[p];s&&"object"==typeof s?void 0:l(!1),n&&"object"==typeof n?void 0:l(!1),a(n,t[p])}u.call(t,c)&&(r(e,t,c),t[c].forEach(function(e){n.push(e)})),u.call(t,A)&&(r(e,t,A),t[A].forEach(function(e){n.unshift(e)})),u.call(t,d)&&(Array.isArray(e)?void 0:l(!1),Array.isArray(t[d])?void 0:l(!1),t[d].forEach(function(e){Array.isArray(e)?void 0:l(!1),n.splice.apply(n,e)})),u.call(t,f)&&("function"!=typeof t[f]?l(!1):void 0,n=t[f](n));for(var m in t)g.hasOwnProperty(m)&&g[m]||(n[m]=o(e[m],t[m]));return n}var a=n(20),s=n(49),l=n(12),u={}.hasOwnProperty,c=s({$push:null}),A=s({$unshift:null}),d=s({$splice:null}),h=s({$set:null}),p=s({$merge:null}),f=s({$apply:null}),m=[c,A,d,h,p,f],g={};m.forEach(function(e){g[e]=!0}),e.exports=o},function(e,t,n){"use strict";function i(e,t){for(var n=e;n.parentNode;)n=n.parentNode;var i=n.querySelectorAll(t);return-1!==Array.prototype.indexOf.call(i,e)}var r=n(12),o={addClass:function(e,t){return/\s/.test(t)?r(!1):void 0,t&&(e.classList?e.classList.add(t):o.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return/\s/.test(t)?r(!1):void 0,t&&(e.classList?e.classList.remove(t):o.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?o.addClass:o.removeClass)(e,t)},hasClass:function(e,t){return/\s/.test(t)?r(!1):void 0,e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1},matchesSelector:function(e,t){var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(t){return i(e,t)};return n.call(e,t)}};e.exports=o},function(e,t){"use strict";function n(e){return e.replace(i,function(e,t){return t.toUpperCase()})}var i=/-(.)/g;e.exports=n},function(e,t,n){"use strict";function i(e){return r(e.replace(o,"ms-"))}var r=n(684),o=/^-ms-/;e.exports=i},function(e,t,n){"use strict";function i(e,t){return e&&t?e===t?!0:r(e)?!1:r(t)?i(e,t.parentNode):e.contains?e.contains(t):e.compareDocumentPosition?!!(16&e.compareDocumentPosition(t)):!1:!1}var r=n(693);e.exports=i},function(e,t,n){"use strict";function i(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?a(!1):void 0,"number"!=typeof t?a(!1):void 0,0===t||t-1 in e?void 0:a(!1),"function"==typeof e.callee?a(!1):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(n){}for(var i=Array(t),r=0;t>r;r++)i[r]=e[r];return i}function r(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function o(e){return r(e)?Array.isArray(e)?e.slice():i(e):[e]}var a=n(12);e.exports=o},function(e,t,n){"use strict";function i(e){var t=e.match(c);return t&&t[1].toLowerCase()}function r(e,t){var n=u;u?void 0:l(!1);var r=i(e),o=r&&s(r);if(o){n.innerHTML=o[1]+e+o[2];for(var c=o[0];c--;)n=n.lastChild}else n.innerHTML=e;var A=n.getElementsByTagName("script");A.length&&(t?void 0:l(!1),a(A).forEach(t));for(var d=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return d}var o=n(28),a=n(687),s=n(277),l=n(12),u=o.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;e.exports=r},function(e,t){"use strict";function n(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=n},function(e,t){"use strict";function n(e){return e.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;e.exports=n},function(e,t,n){"use strict";function i(e){return r(e).replace(o,"-ms-")}var r=n(690),o=/^ms-/;e.exports=i},function(e,t){"use strict";function n(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=n},function(e,t,n){"use strict";function i(e){return r(e)&&3==e.nodeType}var r=n(692);e.exports=i},function(e,t){"use strict";function n(e,t,n){if(!e)return null;var r={};for(var o in e)i.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r}var i=Object.prototype.hasOwnProperty;e.exports=n},function(e,t){"use strict";function n(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=n},function(e,t,n){"use strict";var i=n(495);e.exports=function(e,t){if(!i(e))throw new TypeError("Expected a plain object");t=t||{},"function"==typeof t&&(t={compare:t});var n=t.deep,r=function(e){for(var o={},a=Object.keys(e).sort(t.compare),s=0;s<a.length;s++){var l=a[s],u=e[l];o[l]=n&&u!==e&&i(u)?r(u):u}return o};return r(e)}},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}}]);